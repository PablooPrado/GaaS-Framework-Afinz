var s9=Object.defineProperty;var i9=(e,t,r)=>t in e?s9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Fx=(e,t,r)=>i9(e,typeof t!="symbol"?t+"":t,r);function o9(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var l9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C4={exports:{}},Vv={},T4={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0=Symbol.for("react.element"),c9=Symbol.for("react.portal"),u9=Symbol.for("react.fragment"),d9=Symbol.for("react.strict_mode"),f9=Symbol.for("react.profiler"),h9=Symbol.for("react.provider"),p9=Symbol.for("react.context"),m9=Symbol.for("react.forward_ref"),v9=Symbol.for("react.suspense"),g9=Symbol.for("react.memo"),x9=Symbol.for("react.lazy"),VE=Symbol.iterator;function y9(e){return e===null||typeof e!="object"?null:(e=VE&&e[VE]||e["@@iterator"],typeof e=="function"?e:null)}var A4={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j4=Object.assign,P4={};function Cu(e,t,r){this.props=e,this.context=t,this.refs=P4,this.updater=r||A4}Cu.prototype.isReactComponent={};Cu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function N4(){}N4.prototype=Cu.prototype;function m2(e,t,r){this.props=e,this.context=t,this.refs=P4,this.updater=r||A4}var v2=m2.prototype=new N4;v2.constructor=m2;j4(v2,Cu.prototype);v2.isPureReactComponent=!0;var WE=Array.isArray,O4=Object.prototype.hasOwnProperty,g2={current:null},D4={key:!0,ref:!0,__self:!0,__source:!0};function M4(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)O4.call(t,n)&&!D4.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:h0,type:e,key:s,ref:i,props:a,_owner:g2.current}}function b9(e,t){return{$$typeof:h0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x2(e){return typeof e=="object"&&e!==null&&e.$$typeof===h0}function w9(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var HE=/\/+/g;function Lx(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w9(""+e.key):t.toString(36)}function jp(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case h0:case c9:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Lx(i,0):n,WE(a)?(r="",e!=null&&(r=e.replace(HE,"$&/")+"/"),jp(a,t,r,"",function(c){return c})):a!=null&&(x2(a)&&(a=b9(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(HE,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",WE(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+Lx(s,o);i+=jp(s,t,r,l,a)}else if(l=y9(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+Lx(s,o++),i+=jp(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function kh(e,t,r){if(e==null)return e;var n=[],a=0;return jp(e,n,"","",function(s){return t.call(r,s,a++)}),n}function _9(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $n={current:null},Pp={transition:null},k9={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:Pp,ReactCurrentOwner:g2};function I4(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:kh,forEach:function(e,t,r){kh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kh(e,function(){t++}),t},toArray:function(e){return kh(e,function(t){return t})||[]},only:function(e){if(!x2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=Cu;Ue.Fragment=u9;Ue.Profiler=f9;Ue.PureComponent=m2;Ue.StrictMode=d9;Ue.Suspense=v9;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k9;Ue.act=I4;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=j4({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=g2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)O4.call(t,l)&&!D4.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:h0,type:e.type,key:a,ref:s,props:n,_owner:i}};Ue.createContext=function(e){return e={$$typeof:p9,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:h9,_context:e},e.Consumer=e};Ue.createElement=M4;Ue.createFactory=function(e){var t=M4.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:m9,render:e}};Ue.isValidElement=x2;Ue.lazy=function(e){return{$$typeof:x9,_payload:{_status:-1,_result:e},_init:_9}};Ue.memo=function(e,t){return{$$typeof:g9,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=Pp.transition;Pp.transition={};try{e()}finally{Pp.transition=t}};Ue.unstable_act=I4;Ue.useCallback=function(e,t){return $n.current.useCallback(e,t)};Ue.useContext=function(e){return $n.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return $n.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return $n.current.useEffect(e,t)};Ue.useId=function(){return $n.current.useId()};Ue.useImperativeHandle=function(e,t,r){return $n.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return $n.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return $n.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return $n.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return $n.current.useReducer(e,t,r)};Ue.useRef=function(e){return $n.current.useRef(e)};Ue.useState=function(e){return $n.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return $n.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return $n.current.useTransition()};Ue.version="18.3.1";T4.exports=Ue;var w=T4.exports;const ei=Bs(w),S9=o9({__proto__:null,default:ei},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9=w,C9=Symbol.for("react.element"),T9=Symbol.for("react.fragment"),A9=Object.prototype.hasOwnProperty,j9=E9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,P9={key:!0,ref:!0,__self:!0,__source:!0};function R4(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)A9.call(t,n)&&!P9.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:C9,type:e,key:s,ref:i,props:a,_owner:j9.current}}Vv.Fragment=T9;Vv.jsx=R4;Vv.jsxs=R4;C4.exports=Vv;var d=C4.exports,E1={},F4={exports:{}},va={},L4={exports:{}},B4={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,I){var J=q.length;q.push(I);e:for(;0<J;){var Q=J-1>>>1,M=q[Q];if(0<a(M,I))q[Q]=I,q[J]=M,J=Q;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var I=q[0],J=q.pop();if(J!==I){q[0]=J;e:for(var Q=0,M=q.length,U=M>>>1;Q<U;){var G=2*(Q+1)-1,H=q[G],ee=G+1,oe=q[ee];if(0>a(H,J))ee<M&&0>a(oe,H)?(q[Q]=oe,q[ee]=J,Q=ee):(q[Q]=H,q[G]=J,Q=G);else if(ee<M&&0>a(oe,J))q[Q]=oe,q[ee]=J,Q=ee;else break e}}return I}function a(q,I){var J=q.sortIndex-I.sortIndex;return J!==0?J:q.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(q){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=q)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function k(q){if(v=!1,y(q),!m)if(r(l)!==null)m=!0,X(E);else{var I=r(c);I!==null&&W(k,I.startTime-q)}}function E(q,I){m=!1,v&&(v=!1,x(C),C=-1),p=!0;var J=h;try{for(y(I),f=r(l);f!==null&&(!(f.expirationTime>I)||q&&!P());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var M=Q(f.expirationTime<=I);I=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),y(I)}else n(l);f=r(l)}if(f!==null)var U=!0;else{var G=r(c);G!==null&&W(k,G.startTime-I),U=!1}return U}finally{f=null,h=J,p=!1}}var _=!1,S=null,C=-1,T=5,j=-1;function P(){return!(e.unstable_now()-j<T)}function A(){if(S!==null){var q=e.unstable_now();j=q;var I=!0;try{I=S(!0,q)}finally{I?N():(_=!1,S=null)}}else _=!1}var N;if(typeof b=="function")N=function(){b(A)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,K=L.port2;L.port1.onmessage=A,N=function(){K.postMessage(null)}}else N=function(){g(A,0)};function X(q){S=q,_||(_=!0,N())}function W(q,I){C=g(function(){q(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,X(E))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var J=h;h=I;try{return q()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,I){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var J=h;h=q;try{return I()}finally{h=J}},e.unstable_scheduleCallback=function(q,I,J){var Q=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Q+J:Q):J=Q,q){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,q={id:u++,callback:I,priorityLevel:q,startTime:J,expirationTime:M,sortIndex:-1},J>Q?(q.sortIndex=J,t(c,q),r(l)===null&&q===r(c)&&(v?(x(C),C=-1):v=!0,W(k,J-Q))):(q.sortIndex=M,t(l,q),m||p||(m=!0,X(E))),q},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(q){var I=h;return function(){var J=h;h=I;try{return q.apply(this,arguments)}finally{h=J}}}})(B4);L4.exports=B4;var N9=L4.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O9=w,da=N9;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $4=new Set,sf={};function Bl(e,t){nu(e,t),nu(e+"Capture",t)}function nu(e,t){for(sf[e]=t,e=0;e<t.length;e++)$4.add(t[e])}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),C1=Object.prototype.hasOwnProperty,D9=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,KE={},GE={};function M9(e){return C1.call(GE,e)?!0:C1.call(KE,e)?!1:D9.test(e)?GE[e]=!0:(KE[e]=!0,!1)}function I9(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R9(e,t,r,n){if(t===null||typeof t>"u"||I9(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Un(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var an={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){an[e]=new Un(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];an[t]=new Un(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){an[e]=new Un(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){an[e]=new Un(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){an[e]=new Un(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){an[e]=new Un(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){an[e]=new Un(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){an[e]=new Un(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){an[e]=new Un(e,5,!1,e.toLowerCase(),null,!1,!1)});var y2=/[\-:]([a-z])/g;function b2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y2,b2);an[t]=new Un(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y2,b2);an[t]=new Un(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y2,b2);an[t]=new Un(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){an[e]=new Un(e,1,!1,e.toLowerCase(),null,!1,!1)});an.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){an[e]=new Un(e,1,!1,e.toLowerCase(),null,!0,!0)});function w2(e,t,r,n){var a=an.hasOwnProperty(t)?an[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R9(t,r,a,n)&&(r=null),n||a===null?M9(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Oi=O9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sh=Symbol.for("react.element"),wc=Symbol.for("react.portal"),_c=Symbol.for("react.fragment"),_2=Symbol.for("react.strict_mode"),T1=Symbol.for("react.profiler"),U4=Symbol.for("react.provider"),z4=Symbol.for("react.context"),k2=Symbol.for("react.forward_ref"),A1=Symbol.for("react.suspense"),j1=Symbol.for("react.suspense_list"),S2=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),V4=Symbol.for("react.offscreen"),qE=Symbol.iterator;function Qu(e){return e===null||typeof e!="object"?null:(e=qE&&e[qE]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,Bx;function yd(e){if(Bx===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Bx=t&&t[1]||""}return`
`+Bx+e}var $x=!1;function Ux(e,t){if(!e||$x)return"";$x=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{$x=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yd(e):""}function F9(e){switch(e.tag){case 5:return yd(e.type);case 16:return yd("Lazy");case 13:return yd("Suspense");case 19:return yd("SuspenseList");case 0:case 2:case 15:return e=Ux(e.type,!1),e;case 11:return e=Ux(e.type.render,!1),e;case 1:return e=Ux(e.type,!0),e;default:return""}}function P1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _c:return"Fragment";case wc:return"Portal";case T1:return"Profiler";case _2:return"StrictMode";case A1:return"Suspense";case j1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case z4:return(e.displayName||"Context")+".Consumer";case U4:return(e._context.displayName||"Context")+".Provider";case k2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case S2:return t=e.displayName||null,t!==null?t:P1(e.type)||"Memo";case Wi:t=e._payload,e=e._init;try{return P1(e(t))}catch{}}return null}function L9(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P1(t);case 8:return t===_2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function W4(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function B9(e){var t=W4(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Eh(e){e._valueTracker||(e._valueTracker=B9(e))}function H4(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=W4(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jp(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N1(e,t){var r=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function YE(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=go(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function K4(e,t){t=t.checked,t!=null&&w2(e,"checked",t,!1)}function O1(e,t){K4(e,t);var r=go(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D1(e,t.type,r):t.hasOwnProperty("defaultValue")&&D1(e,t.type,go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function XE(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function D1(e,t,r){(t!=="number"||Jp(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bd=Array.isArray;function Vc(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+go(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function M1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function JE(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(bd(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:go(r)}}function G4(e,t){var r=go(t.value),n=go(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function QE(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function q4(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function I1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?q4(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ch,Y4=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ch=Ch||document.createElement("div"),Ch.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ch.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function of(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Od={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$9=["Webkit","ms","Moz","O"];Object.keys(Od).forEach(function(e){$9.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Od[t]=Od[e]})});function X4(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Od.hasOwnProperty(e)&&Od[e]?(""+t).trim():t+"px"}function J4(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=X4(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var U9=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R1(e,t){if(t){if(U9[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function F1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L1=null;function E2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var B1=null,Wc=null,Hc=null;function ZE(e){if(e=v0(e)){if(typeof B1!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=qv(t),B1(e.stateNode,e.type,t))}}function Q4(e){Wc?Hc?Hc.push(e):Hc=[e]:Wc=e}function Z4(){if(Wc){var e=Wc,t=Hc;if(Hc=Wc=null,ZE(e),t)for(e=0;e<t.length;e++)ZE(t[e])}}function eD(e,t){return e(t)}function tD(){}var zx=!1;function rD(e,t,r){if(zx)return e(t,r);zx=!0;try{return eD(e,t,r)}finally{zx=!1,(Wc!==null||Hc!==null)&&(tD(),Z4())}}function lf(e,t){var r=e.stateNode;if(r===null)return null;var n=qv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var $1=!1;if(gi)try{var Zu={};Object.defineProperty(Zu,"passive",{get:function(){$1=!0}}),window.addEventListener("test",Zu,Zu),window.removeEventListener("test",Zu,Zu)}catch{$1=!1}function z9(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Dd=!1,Qp=null,Zp=!1,U1=null,V9={onError:function(e){Dd=!0,Qp=e}};function W9(e,t,r,n,a,s,i,o,l){Dd=!1,Qp=null,z9.apply(V9,arguments)}function H9(e,t,r,n,a,s,i,o,l){if(W9.apply(this,arguments),Dd){if(Dd){var c=Qp;Dd=!1,Qp=null}else throw Error(fe(198));Zp||(Zp=!0,U1=c)}}function $l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eC(e){if($l(e)!==e)throw Error(fe(188))}function K9(e){var t=e.alternate;if(!t){if(t=$l(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return eC(a),e;if(s===n)return eC(a),t;s=s.sibling}throw Error(fe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function aD(e){return e=K9(e),e!==null?sD(e):null}function sD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sD(e);if(t!==null)return t;e=e.sibling}return null}var iD=da.unstable_scheduleCallback,tC=da.unstable_cancelCallback,G9=da.unstable_shouldYield,q9=da.unstable_requestPaint,ar=da.unstable_now,Y9=da.unstable_getCurrentPriorityLevel,C2=da.unstable_ImmediatePriority,oD=da.unstable_UserBlockingPriority,em=da.unstable_NormalPriority,X9=da.unstable_LowPriority,lD=da.unstable_IdlePriority,Wv=null,Ts=null;function J9(e){if(Ts&&typeof Ts.onCommitFiberRoot=="function")try{Ts.onCommitFiberRoot(Wv,e,void 0,(e.current.flags&128)===128)}catch{}}var is=Math.clz32?Math.clz32:e7,Q9=Math.log,Z9=Math.LN2;function e7(e){return e>>>=0,e===0?32:31-(Q9(e)/Z9|0)|0}var Th=64,Ah=4194304;function wd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=wd(o):(s&=i,s!==0&&(n=wd(s)))}else i=r&~a,i!==0?n=wd(i):s!==0&&(n=wd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-is(t),a=1<<r,n|=e[r],t&=~a;return n}function t7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-is(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=t7(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function z1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cD(){var e=Th;return Th<<=1,!(Th&4194240)&&(Th=64),e}function Vx(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function p0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-is(t),e[t]=r}function n7(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-is(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function T2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-is(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ut=0;function uD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var dD,A2,fD,hD,pD,V1=!1,jh=[],io=null,oo=null,lo=null,cf=new Map,uf=new Map,Yi=[],a7="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rC(e,t){switch(e){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":cf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uf.delete(t.pointerId)}}function ed(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=v0(t),t!==null&&A2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function s7(e,t,r,n,a){switch(t){case"focusin":return io=ed(io,e,t,r,n,a),!0;case"dragenter":return oo=ed(oo,e,t,r,n,a),!0;case"mouseover":return lo=ed(lo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return cf.set(s,ed(cf.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,uf.set(s,ed(uf.get(s)||null,e,t,r,n,a)),!0}return!1}function mD(e){var t=rl(e.target);if(t!==null){var r=$l(t);if(r!==null){if(t=r.tag,t===13){if(t=nD(r),t!==null){e.blockedOn=t,pD(e.priority,function(){fD(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Np(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=W1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);L1=n,r.target.dispatchEvent(n),L1=null}else return t=v0(r),t!==null&&A2(t),e.blockedOn=r,!1;t.shift()}return!0}function nC(e,t,r){Np(e)&&r.delete(t)}function i7(){V1=!1,io!==null&&Np(io)&&(io=null),oo!==null&&Np(oo)&&(oo=null),lo!==null&&Np(lo)&&(lo=null),cf.forEach(nC),uf.forEach(nC)}function td(e,t){e.blockedOn===t&&(e.blockedOn=null,V1||(V1=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,i7)))}function df(e){function t(a){return td(a,e)}if(0<jh.length){td(jh[0],e);for(var r=1;r<jh.length;r++){var n=jh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(io!==null&&td(io,e),oo!==null&&td(oo,e),lo!==null&&td(lo,e),cf.forEach(t),uf.forEach(t),r=0;r<Yi.length;r++)n=Yi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Yi.length&&(r=Yi[0],r.blockedOn===null);)mD(r),r.blockedOn===null&&Yi.shift()}var Kc=Oi.ReactCurrentBatchConfig,rm=!0;function o7(e,t,r,n){var a=ut,s=Kc.transition;Kc.transition=null;try{ut=1,j2(e,t,r,n)}finally{ut=a,Kc.transition=s}}function l7(e,t,r,n){var a=ut,s=Kc.transition;Kc.transition=null;try{ut=4,j2(e,t,r,n)}finally{ut=a,Kc.transition=s}}function j2(e,t,r,n){if(rm){var a=W1(e,t,r,n);if(a===null)Zx(e,t,n,nm,r),rC(e,n);else if(s7(a,e,t,r,n))n.stopPropagation();else if(rC(e,n),t&4&&-1<a7.indexOf(e)){for(;a!==null;){var s=v0(a);if(s!==null&&dD(s),s=W1(e,t,r,n),s===null&&Zx(e,t,n,nm,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Zx(e,t,n,null,r)}}var nm=null;function W1(e,t,r,n){if(nm=null,e=E2(n),e=rl(e),e!==null)if(t=$l(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nD(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return nm=e,null}function vD(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Y9()){case C2:return 1;case oD:return 4;case em:case X9:return 16;case lD:return 536870912;default:return 16}default:return 16}}var eo=null,P2=null,Op=null;function gD(){if(Op)return Op;var e,t=P2,r=t.length,n,a="value"in eo?eo.value:eo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Op=a.slice(e,1<n?1-n:void 0)}function Dp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ph(){return!0}function aC(){return!1}function ga(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ph:aC,this.isPropagationStopped=aC,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ph)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ph)},persist:function(){},isPersistent:Ph}),t}var Tu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N2=ga(Tu),m0=Gt({},Tu,{view:0,detail:0}),c7=ga(m0),Wx,Hx,rd,Hv=Gt({},m0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rd&&(rd&&e.type==="mousemove"?(Wx=e.screenX-rd.screenX,Hx=e.screenY-rd.screenY):Hx=Wx=0,rd=e),Wx)},movementY:function(e){return"movementY"in e?e.movementY:Hx}}),sC=ga(Hv),u7=Gt({},Hv,{dataTransfer:0}),d7=ga(u7),f7=Gt({},m0,{relatedTarget:0}),Kx=ga(f7),h7=Gt({},Tu,{animationName:0,elapsedTime:0,pseudoElement:0}),p7=ga(h7),m7=Gt({},Tu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v7=ga(m7),g7=Gt({},Tu,{data:0}),iC=ga(g7),x7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function w7(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=b7[e])?!!t[e]:!1}function O2(){return w7}var _7=Gt({},m0,{key:function(e){if(e.key){var t=x7[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?y7[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O2,charCode:function(e){return e.type==="keypress"?Dp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),k7=ga(_7),S7=Gt({},Hv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oC=ga(S7),E7=Gt({},m0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O2}),C7=ga(E7),T7=Gt({},Tu,{propertyName:0,elapsedTime:0,pseudoElement:0}),A7=ga(T7),j7=Gt({},Hv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),P7=ga(j7),N7=[9,13,27,32],D2=gi&&"CompositionEvent"in window,Md=null;gi&&"documentMode"in document&&(Md=document.documentMode);var O7=gi&&"TextEvent"in window&&!Md,xD=gi&&(!D2||Md&&8<Md&&11>=Md),lC=" ",cC=!1;function yD(e,t){switch(e){case"keyup":return N7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kc=!1;function D7(e,t){switch(e){case"compositionend":return bD(t);case"keypress":return t.which!==32?null:(cC=!0,lC);case"textInput":return e=t.data,e===lC&&cC?null:e;default:return null}}function M7(e,t){if(kc)return e==="compositionend"||!D2&&yD(e,t)?(e=gD(),Op=P2=eo=null,kc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xD&&t.locale!=="ko"?null:t.data;default:return null}}var I7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!I7[e.type]:t==="textarea"}function wD(e,t,r,n){Q4(n),t=am(t,"onChange"),0<t.length&&(r=new N2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Id=null,ff=null;function R7(e){OD(e,0)}function Kv(e){var t=Cc(e);if(H4(t))return e}function F7(e,t){if(e==="change")return t}var _D=!1;if(gi){var Gx;if(gi){var qx="oninput"in document;if(!qx){var dC=document.createElement("div");dC.setAttribute("oninput","return;"),qx=typeof dC.oninput=="function"}Gx=qx}else Gx=!1;_D=Gx&&(!document.documentMode||9<document.documentMode)}function fC(){Id&&(Id.detachEvent("onpropertychange",kD),ff=Id=null)}function kD(e){if(e.propertyName==="value"&&Kv(ff)){var t=[];wD(t,ff,e,E2(e)),rD(R7,t)}}function L7(e,t,r){e==="focusin"?(fC(),Id=t,ff=r,Id.attachEvent("onpropertychange",kD)):e==="focusout"&&fC()}function B7(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kv(ff)}function $7(e,t){if(e==="click")return Kv(t)}function U7(e,t){if(e==="input"||e==="change")return Kv(t)}function z7(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var us=typeof Object.is=="function"?Object.is:z7;function hf(e,t){if(us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!C1.call(t,a)||!us(e[a],t[a]))return!1}return!0}function hC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pC(e,t){var r=hC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hC(r)}}function SD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?SD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ED(){for(var e=window,t=Jp();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jp(e.document)}return t}function M2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V7(e){var t=ED(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&SD(r.ownerDocument.documentElement,r)){if(n!==null&&M2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=pC(r,s);var i=pC(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var W7=gi&&"documentMode"in document&&11>=document.documentMode,Sc=null,H1=null,Rd=null,K1=!1;function mC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;K1||Sc==null||Sc!==Jp(n)||(n=Sc,"selectionStart"in n&&M2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Rd&&hf(Rd,n)||(Rd=n,n=am(H1,"onSelect"),0<n.length&&(t=new N2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Sc)))}function Nh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ec={animationend:Nh("Animation","AnimationEnd"),animationiteration:Nh("Animation","AnimationIteration"),animationstart:Nh("Animation","AnimationStart"),transitionend:Nh("Transition","TransitionEnd")},Yx={},CD={};gi&&(CD=document.createElement("div").style,"AnimationEvent"in window||(delete Ec.animationend.animation,delete Ec.animationiteration.animation,delete Ec.animationstart.animation),"TransitionEvent"in window||delete Ec.transitionend.transition);function Gv(e){if(Yx[e])return Yx[e];if(!Ec[e])return e;var t=Ec[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in CD)return Yx[e]=t[r];return e}var TD=Gv("animationend"),AD=Gv("animationiteration"),jD=Gv("animationstart"),PD=Gv("transitionend"),ND=new Map,vC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jo(e,t){ND.set(e,t),Bl(t,[e])}for(var Xx=0;Xx<vC.length;Xx++){var Jx=vC[Xx],H7=Jx.toLowerCase(),K7=Jx[0].toUpperCase()+Jx.slice(1);jo(H7,"on"+K7)}jo(TD,"onAnimationEnd");jo(AD,"onAnimationIteration");jo(jD,"onAnimationStart");jo("dblclick","onDoubleClick");jo("focusin","onFocus");jo("focusout","onBlur");jo(PD,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Bl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _d="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G7=new Set("cancel close invalid load scroll toggle".split(" ").concat(_d));function gC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,H9(n,t,void 0,e),e.currentTarget=null}function OD(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;gC(a,o,c),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;gC(a,o,c),s=l}}}if(Zp)throw e=U1,Zp=!1,U1=null,e}function St(e,t){var r=t[J1];r===void 0&&(r=t[J1]=new Set);var n=e+"__bubble";r.has(n)||(DD(t,e,2,!1),r.add(n))}function Qx(e,t,r){var n=0;t&&(n|=4),DD(r,e,n,t)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function pf(e){if(!e[Oh]){e[Oh]=!0,$4.forEach(function(r){r!=="selectionchange"&&(G7.has(r)||Qx(r,!1,e),Qx(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Oh]||(t[Oh]=!0,Qx("selectionchange",!1,t))}}function DD(e,t,r,n){switch(vD(t)){case 1:var a=o7;break;case 4:a=l7;break;default:a=j2}r=a.bind(null,t,r,e),a=void 0,!$1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Zx(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=rl(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}rD(function(){var c=s,u=E2(r),f=[];e:{var h=ND.get(e);if(h!==void 0){var p=N2,m=e;switch(e){case"keypress":if(Dp(r)===0)break e;case"keydown":case"keyup":p=k7;break;case"focusin":m="focus",p=Kx;break;case"focusout":m="blur",p=Kx;break;case"beforeblur":case"afterblur":p=Kx;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=d7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=C7;break;case TD:case AD:case jD:p=p7;break;case PD:p=A7;break;case"scroll":p=c7;break;case"wheel":p=P7;break;case"copy":case"cut":case"paste":p=v7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oC}var v=(t&4)!==0,g=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,y;b!==null;){y=b;var k=y.stateNode;if(y.tag===5&&k!==null&&(y=k,x!==null&&(k=lf(b,x),k!=null&&v.push(mf(b,k,y)))),g)break;b=b.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==L1&&(m=r.relatedTarget||r.fromElement)&&(rl(m)||m[xi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?rl(m):null,m!==null&&(g=$l(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=sC,k="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=oC,k="onPointerLeave",x="onPointerEnter",b="pointer"),g=p==null?h:Cc(p),y=m==null?h:Cc(m),h=new v(k,b+"leave",p,r,u),h.target=g,h.relatedTarget=y,k=null,rl(u)===c&&(v=new v(x,b+"enter",m,r,u),v.target=y,v.relatedTarget=g,k=v),g=k,p&&m)t:{for(v=p,x=m,b=0,y=v;y;y=rc(y))b++;for(y=0,k=x;k;k=rc(k))y++;for(;0<b-y;)v=rc(v),b--;for(;0<y-b;)x=rc(x),y--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=rc(v),x=rc(x)}v=null}else v=null;p!==null&&xC(f,h,p,v,!1),m!==null&&g!==null&&xC(f,g,m,v,!0)}}e:{if(h=c?Cc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=F7;else if(uC(h))if(_D)E=U7;else{E=B7;var _=L7}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=$7);if(E&&(E=E(e,c))){wD(f,E,r,u);break e}_&&_(e,h,c),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&D1(h,"number",h.value)}switch(_=c?Cc(c):window,e){case"focusin":(uC(_)||_.contentEditable==="true")&&(Sc=_,H1=c,Rd=null);break;case"focusout":Rd=H1=Sc=null;break;case"mousedown":K1=!0;break;case"contextmenu":case"mouseup":case"dragend":K1=!1,mC(f,r,u);break;case"selectionchange":if(W7)break;case"keydown":case"keyup":mC(f,r,u)}var S;if(D2)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else kc?yD(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(xD&&r.locale!=="ko"&&(kc||C!=="onCompositionStart"?C==="onCompositionEnd"&&kc&&(S=gD()):(eo=u,P2="value"in eo?eo.value:eo.textContent,kc=!0)),_=am(c,C),0<_.length&&(C=new iC(C,e,null,r,u),f.push({event:C,listeners:_}),S?C.data=S:(S=bD(r),S!==null&&(C.data=S)))),(S=O7?D7(e,r):M7(e,r))&&(c=am(c,"onBeforeInput"),0<c.length&&(u=new iC("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=S))}OD(f,t)})}function mf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function am(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=lf(e,r),s!=null&&n.unshift(mf(e,s,a)),s=lf(e,t),s!=null&&n.push(mf(e,s,a))),e=e.return}return n}function rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xC(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=lf(r,s),l!=null&&i.unshift(mf(r,l,o))):a||(l=lf(r,s),l!=null&&i.push(mf(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var q7=/\r\n?/g,Y7=/\u0000|\uFFFD/g;function yC(e){return(typeof e=="string"?e:""+e).replace(q7,`
`).replace(Y7,"")}function Dh(e,t,r){if(t=yC(t),yC(e)!==t&&r)throw Error(fe(425))}function sm(){}var G1=null,q1=null;function Y1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X1=typeof setTimeout=="function"?setTimeout:void 0,X7=typeof clearTimeout=="function"?clearTimeout:void 0,bC=typeof Promise=="function"?Promise:void 0,J7=typeof queueMicrotask=="function"?queueMicrotask:typeof bC<"u"?function(e){return bC.resolve(null).then(e).catch(Q7)}:X1;function Q7(e){setTimeout(function(){throw e})}function ey(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),df(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);df(t)}function co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Au=Math.random().toString(36).slice(2),ys="__reactFiber$"+Au,vf="__reactProps$"+Au,xi="__reactContainer$"+Au,J1="__reactEvents$"+Au,Z7="__reactListeners$"+Au,eU="__reactHandles$"+Au;function rl(e){var t=e[ys];if(t)return t;for(var r=e.parentNode;r;){if(t=r[xi]||r[ys]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=wC(e);e!==null;){if(r=e[ys])return r;e=wC(e)}return t}e=r,r=e.parentNode}return null}function v0(e){return e=e[ys]||e[xi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function qv(e){return e[vf]||null}var Q1=[],Tc=-1;function Po(e){return{current:e}}function At(e){0>Tc||(e.current=Q1[Tc],Q1[Tc]=null,Tc--)}function bt(e,t){Tc++,Q1[Tc]=e.current,e.current=t}var xo={},En=Po(xo),Xn=Po(!1),wl=xo;function au(e,t){var r=e.type.contextTypes;if(!r)return xo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Jn(e){return e=e.childContextTypes,e!=null}function im(){At(Xn),At(En)}function _C(e,t,r){if(En.current!==xo)throw Error(fe(168));bt(En,t),bt(Xn,r)}function MD(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(fe(108,L9(e)||"Unknown",a));return Gt({},r,n)}function om(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xo,wl=En.current,bt(En,e),bt(Xn,Xn.current),!0}function kC(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=MD(e,t,wl),n.__reactInternalMemoizedMergedChildContext=e,At(Xn),At(En),bt(En,e)):At(Xn),bt(Xn,r)}var Xs=null,Yv=!1,ty=!1;function ID(e){Xs===null?Xs=[e]:Xs.push(e)}function tU(e){Yv=!0,ID(e)}function No(){if(!ty&&Xs!==null){ty=!0;var e=0,t=ut;try{var r=Xs;for(ut=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Xs=null,Yv=!1}catch(a){throw Xs!==null&&(Xs=Xs.slice(e+1)),iD(C2,No),a}finally{ut=t,ty=!1}}return null}var Ac=[],jc=0,lm=null,cm=0,Ta=[],Aa=0,_l=null,ti=1,ri="";function Ho(e,t){Ac[jc++]=cm,Ac[jc++]=lm,lm=e,cm=t}function RD(e,t,r){Ta[Aa++]=ti,Ta[Aa++]=ri,Ta[Aa++]=_l,_l=e;var n=ti;e=ri;var a=32-is(n)-1;n&=~(1<<a),r+=1;var s=32-is(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ti=1<<32-is(t)+a|r<<a|n,ri=s+e}else ti=1<<s|r<<a|n,ri=e}function I2(e){e.return!==null&&(Ho(e,1),RD(e,1,0))}function R2(e){for(;e===lm;)lm=Ac[--jc],Ac[jc]=null,cm=Ac[--jc],Ac[jc]=null;for(;e===_l;)_l=Ta[--Aa],Ta[Aa]=null,ri=Ta[--Aa],Ta[Aa]=null,ti=Ta[--Aa],Ta[Aa]=null}var ca=null,oa=null,Mt=!1,Qa=null;function FD(e,t){var r=ja(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function SC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ca=e,oa=co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ca=e,oa=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=_l!==null?{id:ti,overflow:ri}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ja(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ca=e,oa=null,!0):!1;default:return!1}}function Z1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eb(e){if(Mt){var t=oa;if(t){var r=t;if(!SC(e,t)){if(Z1(e))throw Error(fe(418));t=co(r.nextSibling);var n=ca;t&&SC(e,t)?FD(n,r):(e.flags=e.flags&-4097|2,Mt=!1,ca=e)}}else{if(Z1(e))throw Error(fe(418));e.flags=e.flags&-4097|2,Mt=!1,ca=e}}}function EC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ca=e}function Mh(e){if(e!==ca)return!1;if(!Mt)return EC(e),Mt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y1(e.type,e.memoizedProps)),t&&(t=oa)){if(Z1(e))throw LD(),Error(fe(418));for(;t;)FD(e,t),t=co(t.nextSibling)}if(EC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){oa=co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}oa=null}}else oa=ca?co(e.stateNode.nextSibling):null;return!0}function LD(){for(var e=oa;e;)e=co(e.nextSibling)}function su(){oa=ca=null,Mt=!1}function F2(e){Qa===null?Qa=[e]:Qa.push(e)}var rU=Oi.ReactCurrentBatchConfig;function nd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Ih(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function CC(e){var t=e._init;return t(e._payload)}function BD(e){function t(x,b){if(e){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=po(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,y,k){return b===null||b.tag!==6?(b=ly(y,x.mode,k),b.return=x,b):(b=a(b,y),b.return=x,b)}function l(x,b,y,k){var E=y.type;return E===_c?u(x,b,y.props.children,k,y.key):b!==null&&(b.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wi&&CC(E)===b.type)?(k=a(b,y.props),k.ref=nd(x,b,y),k.return=x,k):(k=$p(y.type,y.key,y.props,null,x.mode,k),k.ref=nd(x,b,y),k.return=x,k)}function c(x,b,y,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=cy(y,x.mode,k),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function u(x,b,y,k,E){return b===null||b.tag!==7?(b=fl(y,x.mode,k,E),b.return=x,b):(b=a(b,y),b.return=x,b)}function f(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ly(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Sh:return y=$p(b.type,b.key,b.props,null,x.mode,y),y.ref=nd(x,null,b),y.return=x,y;case wc:return b=cy(b,x.mode,y),b.return=x,b;case Wi:var k=b._init;return f(x,k(b._payload),y)}if(bd(b)||Qu(b))return b=fl(b,x.mode,y,null),b.return=x,b;Ih(x,b)}return null}function h(x,b,y,k){var E=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return E!==null?null:o(x,b,""+y,k);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Sh:return y.key===E?l(x,b,y,k):null;case wc:return y.key===E?c(x,b,y,k):null;case Wi:return E=y._init,h(x,b,E(y._payload),k)}if(bd(y)||Qu(y))return E!==null?null:u(x,b,y,k,null);Ih(x,y)}return null}function p(x,b,y,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(y)||null,o(b,x,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Sh:return x=x.get(k.key===null?y:k.key)||null,l(b,x,k,E);case wc:return x=x.get(k.key===null?y:k.key)||null,c(b,x,k,E);case Wi:var _=k._init;return p(x,b,y,_(k._payload),E)}if(bd(k)||Qu(k))return x=x.get(y)||null,u(b,x,k,E,null);Ih(b,k)}return null}function m(x,b,y,k){for(var E=null,_=null,S=b,C=b=0,T=null;S!==null&&C<y.length;C++){S.index>C?(T=S,S=null):T=S.sibling;var j=h(x,S,y[C],k);if(j===null){S===null&&(S=T);break}e&&S&&j.alternate===null&&t(x,S),b=s(j,b,C),_===null?E=j:_.sibling=j,_=j,S=T}if(C===y.length)return r(x,S),Mt&&Ho(x,C),E;if(S===null){for(;C<y.length;C++)S=f(x,y[C],k),S!==null&&(b=s(S,b,C),_===null?E=S:_.sibling=S,_=S);return Mt&&Ho(x,C),E}for(S=n(x,S);C<y.length;C++)T=p(S,x,C,y[C],k),T!==null&&(e&&T.alternate!==null&&S.delete(T.key===null?C:T.key),b=s(T,b,C),_===null?E=T:_.sibling=T,_=T);return e&&S.forEach(function(P){return t(x,P)}),Mt&&Ho(x,C),E}function v(x,b,y,k){var E=Qu(y);if(typeof E!="function")throw Error(fe(150));if(y=E.call(y),y==null)throw Error(fe(151));for(var _=E=null,S=b,C=b=0,T=null,j=y.next();S!==null&&!j.done;C++,j=y.next()){S.index>C?(T=S,S=null):T=S.sibling;var P=h(x,S,j.value,k);if(P===null){S===null&&(S=T);break}e&&S&&P.alternate===null&&t(x,S),b=s(P,b,C),_===null?E=P:_.sibling=P,_=P,S=T}if(j.done)return r(x,S),Mt&&Ho(x,C),E;if(S===null){for(;!j.done;C++,j=y.next())j=f(x,j.value,k),j!==null&&(b=s(j,b,C),_===null?E=j:_.sibling=j,_=j);return Mt&&Ho(x,C),E}for(S=n(x,S);!j.done;C++,j=y.next())j=p(S,x,C,j.value,k),j!==null&&(e&&j.alternate!==null&&S.delete(j.key===null?C:j.key),b=s(j,b,C),_===null?E=j:_.sibling=j,_=j);return e&&S.forEach(function(A){return t(x,A)}),Mt&&Ho(x,C),E}function g(x,b,y,k){if(typeof y=="object"&&y!==null&&y.type===_c&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Sh:e:{for(var E=y.key,_=b;_!==null;){if(_.key===E){if(E=y.type,E===_c){if(_.tag===7){r(x,_.sibling),b=a(_,y.props.children),b.return=x,x=b;break e}}else if(_.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Wi&&CC(E)===_.type){r(x,_.sibling),b=a(_,y.props),b.ref=nd(x,_,y),b.return=x,x=b;break e}r(x,_);break}else t(x,_);_=_.sibling}y.type===_c?(b=fl(y.props.children,x.mode,k,y.key),b.return=x,x=b):(k=$p(y.type,y.key,y.props,null,x.mode,k),k.ref=nd(x,b,y),k.return=x,x=k)}return i(x);case wc:e:{for(_=y.key;b!==null;){if(b.key===_)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=cy(y,x.mode,k),b.return=x,x=b}return i(x);case Wi:return _=y._init,g(x,b,_(y._payload),k)}if(bd(y))return m(x,b,y,k);if(Qu(y))return v(x,b,y,k);Ih(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,y),b.return=x,x=b):(r(x,b),b=ly(y,x.mode,k),b.return=x,x=b),i(x)):r(x,b)}return g}var iu=BD(!0),$D=BD(!1),um=Po(null),dm=null,Pc=null,L2=null;function B2(){L2=Pc=dm=null}function $2(e){var t=um.current;At(um),e._currentValue=t}function tb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Gc(e,t){dm=e,L2=Pc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gn=!0),e.firstContext=null)}function Ma(e){var t=e._currentValue;if(L2!==e)if(e={context:e,memoizedValue:t,next:null},Pc===null){if(dm===null)throw Error(fe(308));Pc=e,dm.dependencies={lanes:0,firstContext:e}}else Pc=Pc.next=e;return t}var nl=null;function U2(e){nl===null?nl=[e]:nl.push(e)}function UD(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,U2(t)):(r.next=a.next,a.next=r),t.interleaved=r,yi(e,n)}function yi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hi=!1;function z2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function uo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,yi(e,r)}return a=n.interleaved,a===null?(t.next=t,U2(n)):(t.next=a.next,a.next=t),n.interleaved=t,yi(e,r)}function Mp(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T2(e,r)}}function TC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function fm(e,t,r,n){var a=e.updateQueue;Hi=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,u=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Gt({},f,h);break e;case 2:Hi=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Sl|=i,e.lanes=i,e.memoizedState=f}}function AC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(fe(191,a));a.call(n)}}}var g0={},As=Po(g0),gf=Po(g0),xf=Po(g0);function al(e){if(e===g0)throw Error(fe(174));return e}function V2(e,t){switch(bt(xf,t),bt(gf,e),bt(As,g0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:I1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=I1(t,e)}At(As),bt(As,t)}function ou(){At(As),At(gf),At(xf)}function VD(e){al(xf.current);var t=al(As.current),r=I1(t,e.type);t!==r&&(bt(gf,e),bt(As,r))}function W2(e){gf.current===e&&(At(As),At(gf))}var zt=Po(0);function hm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ry=[];function H2(){for(var e=0;e<ry.length;e++)ry[e]._workInProgressVersionPrimary=null;ry.length=0}var Ip=Oi.ReactCurrentDispatcher,ny=Oi.ReactCurrentBatchConfig,kl=0,Kt=null,Er=null,Br=null,pm=!1,Fd=!1,yf=0,nU=0;function dn(){throw Error(fe(321))}function K2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!us(e[r],t[r]))return!1;return!0}function G2(e,t,r,n,a,s){if(kl=s,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ip.current=e===null||e.memoizedState===null?oU:lU,e=r(n,a),Fd){s=0;do{if(Fd=!1,yf=0,25<=s)throw Error(fe(301));s+=1,Br=Er=null,t.updateQueue=null,Ip.current=cU,e=r(n,a)}while(Fd)}if(Ip.current=mm,t=Er!==null&&Er.next!==null,kl=0,Br=Er=Kt=null,pm=!1,t)throw Error(fe(300));return e}function q2(){var e=yf!==0;return yf=0,e}function gs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Kt.memoizedState=Br=e:Br=Br.next=e,Br}function Ia(){if(Er===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=Er.next;var t=Br===null?Kt.memoizedState:Br.next;if(t!==null)Br=t,Er=e;else{if(e===null)throw Error(fe(310));Er=e,e={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Br===null?Kt.memoizedState=Br=e:Br=Br.next=e}return Br}function bf(e,t){return typeof t=="function"?t(e):t}function ay(e){var t=Ia(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Er,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var u=c.lane;if((kl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,Kt.lanes|=u,Sl|=u}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=o,us(n,t.memoizedState)||(Gn=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Kt.lanes|=s,Sl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sy(e){var t=Ia(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);us(s,t.memoizedState)||(Gn=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function WD(){}function HD(e,t){var r=Kt,n=Ia(),a=t(),s=!us(n.memoizedState,a);if(s&&(n.memoizedState=a,Gn=!0),n=n.queue,Y2(qD.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Br!==null&&Br.memoizedState.tag&1){if(r.flags|=2048,wf(9,GD.bind(null,r,n,a,t),void 0,null),Vr===null)throw Error(fe(349));kl&30||KD(r,t,a)}return a}function KD(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function GD(e,t,r,n){t.value=r,t.getSnapshot=n,YD(t)&&XD(e)}function qD(e,t,r){return r(function(){YD(t)&&XD(e)})}function YD(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!us(e,r)}catch{return!0}}function XD(e){var t=yi(e,1);t!==null&&os(t,e,1,-1)}function jC(e){var t=gs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bf,lastRenderedState:e},t.queue=e,e=e.dispatch=iU.bind(null,Kt,e),[t.memoizedState,e]}function wf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function JD(){return Ia().memoizedState}function Rp(e,t,r,n){var a=gs();Kt.flags|=e,a.memoizedState=wf(1|t,r,void 0,n===void 0?null:n)}function Xv(e,t,r,n){var a=Ia();n=n===void 0?null:n;var s=void 0;if(Er!==null){var i=Er.memoizedState;if(s=i.destroy,n!==null&&K2(n,i.deps)){a.memoizedState=wf(t,r,s,n);return}}Kt.flags|=e,a.memoizedState=wf(1|t,r,s,n)}function PC(e,t){return Rp(8390656,8,e,t)}function Y2(e,t){return Xv(2048,8,e,t)}function QD(e,t){return Xv(4,2,e,t)}function ZD(e,t){return Xv(4,4,e,t)}function e3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t3(e,t,r){return r=r!=null?r.concat([e]):null,Xv(4,4,e3.bind(null,t,e),r)}function X2(){}function r3(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&K2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function n3(e,t){var r=Ia();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&K2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function a3(e,t,r){return kl&21?(us(r,t)||(r=cD(),Kt.lanes|=r,Sl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gn=!0),e.memoizedState=r)}function aU(e,t){var r=ut;ut=r!==0&&4>r?r:4,e(!0);var n=ny.transition;ny.transition={};try{e(!1),t()}finally{ut=r,ny.transition=n}}function s3(){return Ia().memoizedState}function sU(e,t,r){var n=ho(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i3(e))o3(t,r);else if(r=UD(e,t,r,n),r!==null){var a=Rn();os(r,e,n,a),l3(r,t,n)}}function iU(e,t,r){var n=ho(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i3(e))o3(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,us(o,i)){var l=t.interleaved;l===null?(a.next=a,U2(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=UD(e,t,a,n),r!==null&&(a=Rn(),os(r,e,n,a),l3(r,t,n))}}function i3(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function o3(e,t){Fd=pm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function l3(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,T2(e,r)}}var mm={readContext:Ma,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},oU={readContext:Ma,useCallback:function(e,t){return gs().memoizedState=[e,t===void 0?null:t],e},useContext:Ma,useEffect:PC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rp(4194308,4,e3.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rp(4,2,e,t)},useMemo:function(e,t){var r=gs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=gs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sU.bind(null,Kt,e),[n.memoizedState,e]},useRef:function(e){var t=gs();return e={current:e},t.memoizedState=e},useState:jC,useDebugValue:X2,useDeferredValue:function(e){return gs().memoizedState=e},useTransition:function(){var e=jC(!1),t=e[0];return e=aU.bind(null,e[1]),gs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Kt,a=gs();if(Mt){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Vr===null)throw Error(fe(349));kl&30||KD(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,PC(qD.bind(null,n,s,e),[e]),n.flags|=2048,wf(9,GD.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=gs(),t=Vr.identifierPrefix;if(Mt){var r=ri,n=ti;r=(n&~(1<<32-is(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=yf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=nU++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lU={readContext:Ma,useCallback:r3,useContext:Ma,useEffect:Y2,useImperativeHandle:t3,useInsertionEffect:QD,useLayoutEffect:ZD,useMemo:n3,useReducer:ay,useRef:JD,useState:function(){return ay(bf)},useDebugValue:X2,useDeferredValue:function(e){var t=Ia();return a3(t,Er.memoizedState,e)},useTransition:function(){var e=ay(bf)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:WD,useSyncExternalStore:HD,useId:s3,unstable_isNewReconciler:!1},cU={readContext:Ma,useCallback:r3,useContext:Ma,useEffect:Y2,useImperativeHandle:t3,useInsertionEffect:QD,useLayoutEffect:ZD,useMemo:n3,useReducer:sy,useRef:JD,useState:function(){return sy(bf)},useDebugValue:X2,useDeferredValue:function(e){var t=Ia();return Er===null?t.memoizedState=e:a3(t,Er.memoizedState,e)},useTransition:function(){var e=sy(bf)[0],t=Ia().memoizedState;return[e,t]},useMutableSource:WD,useSyncExternalStore:HD,useId:s3,unstable_isNewReconciler:!1};function Ya(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Gt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Jv={isMounted:function(e){return(e=e._reactInternals)?$l(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rn(),a=ho(e),s=ii(n,a);s.payload=t,r!=null&&(s.callback=r),t=uo(e,s,a),t!==null&&(os(t,e,a,n),Mp(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rn(),a=ho(e),s=ii(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=uo(e,s,a),t!==null&&(os(t,e,a,n),Mp(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rn(),n=ho(e),a=ii(r,n);a.tag=2,t!=null&&(a.callback=t),t=uo(e,a,n),t!==null&&(os(t,e,n,r),Mp(t,e,n))}};function NC(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!hf(r,n)||!hf(a,s):!0}function c3(e,t,r){var n=!1,a=xo,s=t.contextType;return typeof s=="object"&&s!==null?s=Ma(s):(a=Jn(t)?wl:En.current,n=t.contextTypes,s=(n=n!=null)?au(e,a):xo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function OC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Jv.enqueueReplaceState(t,t.state,null)}function nb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ma(s):(s=Jn(t)?wl:En.current,a.context=au(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Jv.enqueueReplaceState(a,a.state,null),fm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function lu(e,t){try{var r="",n=t;do r+=F9(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function iy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ab(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var uU=typeof WeakMap=="function"?WeakMap:Map;function u3(e,t,r){r=ii(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gm||(gm=!0,pb=n),ab(e,t)},r}function d3(e,t,r){r=ii(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ab(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ab(e,t),typeof n!="function"&&(fo===null?fo=new Set([this]):fo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function DC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new uU;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=SU.bind(null,e,t,r),t.then(e,e))}function MC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function IC(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ii(-1,1),t.tag=2,uo(r,t,1))),r.lanes|=1),e)}var dU=Oi.ReactCurrentOwner,Gn=!1;function An(e,t,r,n){t.child=e===null?$D(t,null,r,n):iu(t,e.child,r,n)}function RC(e,t,r,n,a){r=r.render;var s=t.ref;return Gc(t,a),n=G2(e,t,r,n,s,a),r=q2(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bi(e,t,a)):(Mt&&r&&I2(t),t.flags|=1,An(e,t,n,a),t.child)}function FC(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!a_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,f3(e,t,s,n,a)):(e=$p(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:hf,r(i,n)&&e.ref===t.ref)return bi(e,t,a)}return t.flags|=1,e=po(s,n),e.ref=t.ref,e.return=t,t.child=e}function f3(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(hf(s,n)&&e.ref===t.ref)if(Gn=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(Gn=!0);else return t.lanes=e.lanes,bi(e,t,a)}return sb(e,t,r,n,a)}function h3(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(Oc,ra),ra|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bt(Oc,ra),ra|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,bt(Oc,ra),ra|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,bt(Oc,ra),ra|=n;return An(e,t,a,r),t.child}function p3(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sb(e,t,r,n,a){var s=Jn(r)?wl:En.current;return s=au(t,s),Gc(t,a),r=G2(e,t,r,n,s,a),n=q2(),e!==null&&!Gn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,bi(e,t,a)):(Mt&&n&&I2(t),t.flags|=1,An(e,t,r,a),t.child)}function LC(e,t,r,n,a){if(Jn(r)){var s=!0;om(t)}else s=!1;if(Gc(t,a),t.stateNode===null)Fp(e,t),c3(t,r,n),nb(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ma(c):(c=Jn(r)?wl:En.current,c=au(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&OC(t,i,n,c),Hi=!1;var h=t.memoizedState;i.state=h,fm(t,n,i,a),l=t.memoizedState,o!==n||h!==l||Xn.current||Hi?(typeof u=="function"&&(rb(t,r,u,n),l=t.memoizedState),(o=Hi||NC(t,r,o,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,zD(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ya(t.type,o),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ma(l):(l=Jn(r)?wl:En.current,l=au(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&OC(t,i,n,l),Hi=!1,h=t.memoizedState,i.state=h,fm(t,n,i,a);var m=t.memoizedState;o!==f||h!==m||Xn.current||Hi?(typeof p=="function"&&(rb(t,r,p,n),m=t.memoizedState),(c=Hi||NC(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ib(e,t,r,n,s,a)}function ib(e,t,r,n,a,s){p3(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&kC(t,r,!1),bi(e,t,s);n=t.stateNode,dU.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=iu(t,e.child,null,s),t.child=iu(t,null,o,s)):An(e,t,o,s),t.memoizedState=n.state,a&&kC(t,r,!0),t.child}function m3(e){var t=e.stateNode;t.pendingContext?_C(e,t.pendingContext,t.pendingContext!==t.context):t.context&&_C(e,t.context,!1),V2(e,t.containerInfo)}function BC(e,t,r,n,a){return su(),F2(a),t.flags|=256,An(e,t,r,n),t.child}var ob={dehydrated:null,treeContext:null,retryLane:0};function lb(e){return{baseLanes:e,cachePool:null,transitions:null}}function v3(e,t,r){var n=t.pendingProps,a=zt.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),bt(zt,a&1),e===null)return eb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=eg(i,n,0,null),e=fl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=lb(r),t.memoizedState=ob,e):J2(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return fU(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=po(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=po(o,s):(s=fl(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?lb(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=ob,n}return s=e.child,e=s.sibling,n=po(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function J2(e,t){return t=eg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rh(e,t,r,n){return n!==null&&F2(n),iu(t,e.child,null,r),e=J2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fU(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=iy(Error(fe(422))),Rh(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=eg({mode:"visible",children:n.children},a,0,null),s=fl(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&iu(t,e.child,null,i),t.child.memoizedState=lb(i),t.memoizedState=ob,s);if(!(t.mode&1))return Rh(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(fe(419)),n=iy(s,n,void 0),Rh(e,t,i,n)}if(o=(i&e.childLanes)!==0,Gn||o){if(n=Vr,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,yi(e,a),os(n,e,a,-1))}return n_(),n=iy(Error(fe(421))),Rh(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=EU.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,oa=co(a.nextSibling),ca=t,Mt=!0,Qa=null,e!==null&&(Ta[Aa++]=ti,Ta[Aa++]=ri,Ta[Aa++]=_l,ti=e.id,ri=e.overflow,_l=t),t=J2(t,n.children),t.flags|=4096,t)}function $C(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tb(e.return,t,r)}function oy(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function g3(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(An(e,t,n.children,r),n=zt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$C(e,r,t);else if(e.tag===19)$C(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(bt(zt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&hm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),oy(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&hm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}oy(t,!0,r,null,s);break;case"together":oy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function bi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Sl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hU(e,t,r){switch(t.tag){case 3:m3(t),su();break;case 5:VD(t);break;case 1:Jn(t.type)&&om(t);break;case 4:V2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;bt(um,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(bt(zt,zt.current&1),t.flags|=128,null):r&t.child.childLanes?v3(e,t,r):(bt(zt,zt.current&1),e=bi(e,t,r),e!==null?e.sibling:null);bt(zt,zt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g3(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),bt(zt,zt.current),n)break;return null;case 22:case 23:return t.lanes=0,h3(e,t,r)}return bi(e,t,r)}var x3,cb,y3,b3;x3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cb=function(){};y3=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,al(As.current);var s=null;switch(r){case"input":a=N1(e,a),n=N1(e,n),s=[];break;case"select":a=Gt({},a,{value:void 0}),n=Gt({},n,{value:void 0}),s=[];break;case"textarea":a=M1(e,a),n=M1(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sm)}R1(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&St("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};b3=function(e,t,r,n){r!==n&&(t.flags|=4)};function ad(e,t){if(!Mt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function pU(e,t,r){var n=t.pendingProps;switch(R2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Jn(t.type)&&im(),fn(t),null;case 3:return n=t.stateNode,ou(),At(Xn),At(En),H2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Mh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qa!==null&&(gb(Qa),Qa=null))),cb(e,t),fn(t),null;case 5:W2(t);var a=al(xf.current);if(r=t.type,e!==null&&t.stateNode!=null)y3(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return fn(t),null}if(e=al(As.current),Mh(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[ys]=t,n[vf]=s,e=(t.mode&1)!==0,r){case"dialog":St("cancel",n),St("close",n);break;case"iframe":case"object":case"embed":St("load",n);break;case"video":case"audio":for(a=0;a<_d.length;a++)St(_d[a],n);break;case"source":St("error",n);break;case"img":case"image":case"link":St("error",n),St("load",n);break;case"details":St("toggle",n);break;case"input":YE(n,s),St("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},St("invalid",n);break;case"textarea":JE(n,s),St("invalid",n)}R1(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Dh(n.textContent,o,e),a=["children",""+o]):sf.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&St("scroll",n)}switch(r){case"input":Eh(n),XE(n,s,!0);break;case"textarea":Eh(n),QE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=sm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=q4(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ys]=t,e[vf]=n,x3(e,t,!1,!1),t.stateNode=e;e:{switch(i=F1(r,n),r){case"dialog":St("cancel",e),St("close",e),a=n;break;case"iframe":case"object":case"embed":St("load",e),a=n;break;case"video":case"audio":for(a=0;a<_d.length;a++)St(_d[a],e);a=n;break;case"source":St("error",e),a=n;break;case"img":case"image":case"link":St("error",e),St("load",e),a=n;break;case"details":St("toggle",e),a=n;break;case"input":YE(e,n),a=N1(e,n),St("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Gt({},n,{value:void 0}),St("invalid",e);break;case"textarea":JE(e,n),a=M1(e,n),St("invalid",e);break;default:a=n}R1(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?J4(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y4(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&of(e,l):typeof l=="number"&&of(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&St("scroll",e):l!=null&&w2(e,s,l,i))}switch(r){case"input":Eh(e),XE(e,n,!1);break;case"textarea":Eh(e),QE(e);break;case"option":n.value!=null&&e.setAttribute("value",""+go(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Vc(e,!!n.multiple,s,!1):n.defaultValue!=null&&Vc(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=sm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)b3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=al(xf.current),al(As.current),Mh(t)){if(n=t.stateNode,r=t.memoizedProps,n[ys]=t,(s=n.nodeValue!==r)&&(e=ca,e!==null))switch(e.tag){case 3:Dh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dh(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ys]=t,t.stateNode=n}return fn(t),null;case 13:if(At(zt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Mt&&oa!==null&&t.mode&1&&!(t.flags&128))LD(),su(),t.flags|=98560,s=!1;else if(s=Mh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(fe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(fe(317));s[ys]=t}else su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),s=!1}else Qa!==null&&(gb(Qa),Qa=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||zt.current&1?Ar===0&&(Ar=3):n_())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return ou(),cb(e,t),e===null&&pf(t.stateNode.containerInfo),fn(t),null;case 10:return $2(t.type._context),fn(t),null;case 17:return Jn(t.type)&&im(),fn(t),null;case 19:if(At(zt),s=t.memoizedState,s===null)return fn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)ad(s,!1);else{if(Ar!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=hm(e),i!==null){for(t.flags|=128,ad(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return bt(zt,zt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ar()>cu&&(t.flags|=128,n=!0,ad(s,!1),t.lanes=4194304)}else{if(!n)if(e=hm(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ad(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Mt)return fn(t),null}else 2*ar()-s.renderingStartTime>cu&&r!==1073741824&&(t.flags|=128,n=!0,ad(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ar(),t.sibling=null,r=zt.current,bt(zt,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return r_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ra&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function mU(e,t){switch(R2(t),t.tag){case 1:return Jn(t.type)&&im(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ou(),At(Xn),At(En),H2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W2(t),null;case 13:if(At(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return At(zt),null;case 4:return ou(),null;case 10:return $2(t.type._context),null;case 22:case 23:return r_(),null;case 24:return null;default:return null}}var Fh=!1,vn=!1,vU=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function Nc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jt(e,t,n)}else r.current=null}function ub(e,t,r){try{r()}catch(n){Jt(e,t,n)}}var UC=!1;function gU(e,t){if(G1=rm,e=ED(),M2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=i),h===s&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(q1={focusedElem:e,selectionRange:r},rm=!1,Ce=t;Ce!==null;)if(t=Ce,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ce=e;else for(;Ce!==null;){t=Ce;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ya(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(k){Jt(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,Ce=e;break}Ce=t.return}return m=UC,UC=!1,m}function Ld(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ub(t,r,s)}a=a.next}while(a!==n)}}function Qv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function db(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w3(e){var t=e.alternate;t!==null&&(e.alternate=null,w3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ys],delete t[vf],delete t[J1],delete t[Z7],delete t[eU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _3(e){return e.tag===5||e.tag===3||e.tag===4}function zC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sm));else if(n!==4&&(e=e.child,e!==null))for(fb(e,t,r),e=e.sibling;e!==null;)fb(e,t,r),e=e.sibling}function hb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hb(e,t,r),e=e.sibling;e!==null;)hb(e,t,r),e=e.sibling}var Jr=null,Xa=!1;function Bi(e,t,r){for(r=r.child;r!==null;)k3(e,t,r),r=r.sibling}function k3(e,t,r){if(Ts&&typeof Ts.onCommitFiberUnmount=="function")try{Ts.onCommitFiberUnmount(Wv,r)}catch{}switch(r.tag){case 5:vn||Nc(r,t);case 6:var n=Jr,a=Xa;Jr=null,Bi(e,t,r),Jr=n,Xa=a,Jr!==null&&(Xa?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(Xa?(e=Jr,r=r.stateNode,e.nodeType===8?ey(e.parentNode,r):e.nodeType===1&&ey(e,r),df(e)):ey(Jr,r.stateNode));break;case 4:n=Jr,a=Xa,Jr=r.stateNode.containerInfo,Xa=!0,Bi(e,t,r),Jr=n,Xa=a;break;case 0:case 11:case 14:case 15:if(!vn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&ub(r,t,i),a=a.next}while(a!==n)}Bi(e,t,r);break;case 1:if(!vn&&(Nc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Jt(r,t,o)}Bi(e,t,r);break;case 21:Bi(e,t,r);break;case 22:r.mode&1?(vn=(n=vn)||r.memoizedState!==null,Bi(e,t,r),vn=n):Bi(e,t,r);break;default:Bi(e,t,r)}}function VC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new vU),t.forEach(function(n){var a=CU.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Va(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Jr=o.stateNode,Xa=!1;break e;case 3:Jr=o.stateNode.containerInfo,Xa=!0;break e;case 4:Jr=o.stateNode.containerInfo,Xa=!0;break e}o=o.return}if(Jr===null)throw Error(fe(160));k3(s,i,a),Jr=null,Xa=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Jt(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S3(t,e),t=t.sibling}function S3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Va(t,e),ps(e),n&4){try{Ld(3,e,e.return),Qv(3,e)}catch(v){Jt(e,e.return,v)}try{Ld(5,e,e.return)}catch(v){Jt(e,e.return,v)}}break;case 1:Va(t,e),ps(e),n&512&&r!==null&&Nc(r,r.return);break;case 5:if(Va(t,e),ps(e),n&512&&r!==null&&Nc(r,r.return),e.flags&32){var a=e.stateNode;try{of(a,"")}catch(v){Jt(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&K4(a,s),F1(o,i);var c=F1(o,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?J4(a,f):u==="dangerouslySetInnerHTML"?Y4(a,f):u==="children"?of(a,f):w2(a,u,f,c)}switch(o){case"input":O1(a,s);break;case"textarea":G4(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Vc(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Vc(a,!!s.multiple,s.defaultValue,!0):Vc(a,!!s.multiple,s.multiple?[]:"",!1))}a[vf]=s}catch(v){Jt(e,e.return,v)}}break;case 6:if(Va(t,e),ps(e),n&4){if(e.stateNode===null)throw Error(fe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){Jt(e,e.return,v)}}break;case 3:if(Va(t,e),ps(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{df(t.containerInfo)}catch(v){Jt(e,e.return,v)}break;case 4:Va(t,e),ps(e);break;case 13:Va(t,e),ps(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(e_=ar())),n&4&&VC(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(vn=(c=vn)||u,Va(t,e),vn=c):Va(t,e),ps(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Ce=e,u=e.child;u!==null;){for(f=Ce=u;Ce!==null;){switch(h=Ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ld(4,h,h.return);break;case 1:Nc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Jt(n,r,v)}}break;case 5:Nc(h,h.return);break;case 22:if(h.memoizedState!==null){HC(f);continue}}p!==null?(p.return=h,Ce=p):HC(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=X4("display",i))}catch(v){Jt(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Jt(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Va(t,e),ps(e),n&4&&VC(e);break;case 21:break;default:Va(t,e),ps(e)}}function ps(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_3(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(of(a,""),n.flags&=-33);var s=zC(e);hb(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=zC(e);fb(e,o,i);break;default:throw Error(fe(161))}}catch(l){Jt(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xU(e,t,r){Ce=e,E3(e)}function E3(e,t,r){for(var n=(e.mode&1)!==0;Ce!==null;){var a=Ce,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Fh;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||vn;o=Fh;var c=vn;if(Fh=i,(vn=l)&&!c)for(Ce=a;Ce!==null;)i=Ce,l=i.child,i.tag===22&&i.memoizedState!==null?KC(a):l!==null?(l.return=i,Ce=l):KC(a);for(;s!==null;)Ce=s,E3(s),s=s.sibling;Ce=a,Fh=o,vn=c}WC(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ce=s):WC(e)}}function WC(e){for(;Ce!==null;){var t=Ce;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vn||Qv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ya(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&AC(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}AC(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}vn||t.flags&512&&db(t)}catch(h){Jt(t,t.return,h)}}if(t===e){Ce=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function HC(e){for(;Ce!==null;){var t=Ce;if(t===e){Ce=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ce=r;break}Ce=t.return}}function KC(e){for(;Ce!==null;){var t=Ce;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qv(4,t)}catch(l){Jt(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Jt(t,a,l)}}var s=t.return;try{db(t)}catch(l){Jt(t,s,l)}break;case 5:var i=t.return;try{db(t)}catch(l){Jt(t,i,l)}}}catch(l){Jt(t,t.return,l)}if(t===e){Ce=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ce=o;break}Ce=t.return}}var yU=Math.ceil,vm=Oi.ReactCurrentDispatcher,Q2=Oi.ReactCurrentOwner,Oa=Oi.ReactCurrentBatchConfig,Je=0,Vr=null,xr=null,tn=0,ra=0,Oc=Po(0),Ar=0,_f=null,Sl=0,Zv=0,Z2=0,Bd=null,Kn=null,e_=0,cu=1/0,qs=null,gm=!1,pb=null,fo=null,Lh=!1,to=null,xm=0,$d=0,mb=null,Lp=-1,Bp=0;function Rn(){return Je&6?ar():Lp!==-1?Lp:Lp=ar()}function ho(e){return e.mode&1?Je&2&&tn!==0?tn&-tn:rU.transition!==null?(Bp===0&&(Bp=cD()),Bp):(e=ut,e!==0||(e=window.event,e=e===void 0?16:vD(e.type)),e):1}function os(e,t,r,n){if(50<$d)throw $d=0,mb=null,Error(fe(185));p0(e,r,n),(!(Je&2)||e!==Vr)&&(e===Vr&&(!(Je&2)&&(Zv|=r),Ar===4&&Xi(e,tn)),Qn(e,n),r===1&&Je===0&&!(t.mode&1)&&(cu=ar()+500,Yv&&No()))}function Qn(e,t){var r=e.callbackNode;r7(e,t);var n=tm(e,e===Vr?tn:0);if(n===0)r!==null&&tC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tC(r),t===1)e.tag===0?tU(GC.bind(null,e)):ID(GC.bind(null,e)),J7(function(){!(Je&6)&&No()}),r=null;else{switch(uD(n)){case 1:r=C2;break;case 4:r=oD;break;case 16:r=em;break;case 536870912:r=lD;break;default:r=em}r=D3(r,C3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function C3(e,t){if(Lp=-1,Bp=0,Je&6)throw Error(fe(327));var r=e.callbackNode;if(qc()&&e.callbackNode!==r)return null;var n=tm(e,e===Vr?tn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ym(e,n);else{t=n;var a=Je;Je|=2;var s=A3();(Vr!==e||tn!==t)&&(qs=null,cu=ar()+500,dl(e,t));do try{_U();break}catch(o){T3(e,o)}while(!0);B2(),vm.current=s,Je=a,xr!==null?t=0:(Vr=null,tn=0,t=Ar)}if(t!==0){if(t===2&&(a=z1(e),a!==0&&(n=a,t=vb(e,a))),t===1)throw r=_f,dl(e,0),Xi(e,n),Qn(e,ar()),r;if(t===6)Xi(e,n);else{if(a=e.current.alternate,!(n&30)&&!bU(a)&&(t=ym(e,n),t===2&&(s=z1(e),s!==0&&(n=s,t=vb(e,s))),t===1))throw r=_f,dl(e,0),Xi(e,n),Qn(e,ar()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:Ko(e,Kn,qs);break;case 3:if(Xi(e,n),(n&130023424)===n&&(t=e_+500-ar(),10<t)){if(tm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Rn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=X1(Ko.bind(null,e,Kn,qs),t);break}Ko(e,Kn,qs);break;case 4:if(Xi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-is(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=ar()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yU(n/1960))-n,10<n){e.timeoutHandle=X1(Ko.bind(null,e,Kn,qs),n);break}Ko(e,Kn,qs);break;case 5:Ko(e,Kn,qs);break;default:throw Error(fe(329))}}}return Qn(e,ar()),e.callbackNode===r?C3.bind(null,e):null}function vb(e,t){var r=Bd;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),e=ym(e,t),e!==2&&(t=Kn,Kn=r,t!==null&&gb(t)),e}function gb(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function bU(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!us(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xi(e,t){for(t&=~Z2,t&=~Zv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-is(t),n=1<<r;e[r]=-1,t&=~n}}function GC(e){if(Je&6)throw Error(fe(327));qc();var t=tm(e,0);if(!(t&1))return Qn(e,ar()),null;var r=ym(e,t);if(e.tag!==0&&r===2){var n=z1(e);n!==0&&(t=n,r=vb(e,n))}if(r===1)throw r=_f,dl(e,0),Xi(e,t),Qn(e,ar()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ko(e,Kn,qs),Qn(e,ar()),null}function t_(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(cu=ar()+500,Yv&&No())}}function El(e){to!==null&&to.tag===0&&!(Je&6)&&qc();var t=Je;Je|=1;var r=Oa.transition,n=ut;try{if(Oa.transition=null,ut=1,e)return e()}finally{ut=n,Oa.transition=r,Je=t,!(Je&6)&&No()}}function r_(){ra=Oc.current,At(Oc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,X7(r)),xr!==null)for(r=xr.return;r!==null;){var n=r;switch(R2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&im();break;case 3:ou(),At(Xn),At(En),H2();break;case 5:W2(n);break;case 4:ou();break;case 13:At(zt);break;case 19:At(zt);break;case 10:$2(n.type._context);break;case 22:case 23:r_()}r=r.return}if(Vr=e,xr=e=po(e.current,null),tn=ra=t,Ar=0,_f=null,Z2=Zv=Sl=0,Kn=Bd=null,nl!==null){for(t=0;t<nl.length;t++)if(r=nl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}nl=null}return e}function T3(e,t){do{var r=xr;try{if(B2(),Ip.current=mm,pm){for(var n=Kt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}pm=!1}if(kl=0,Br=Er=Kt=null,Fd=!1,yf=0,Q2.current=null,r===null||r.return===null){Ar=1,_f=t,xr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=tn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=MC(i);if(p!==null){p.flags&=-257,IC(p,i,o,s,t),p.mode&1&&DC(s,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){DC(s,c,t),n_();break e}l=Error(fe(426))}}else if(Mt&&o.mode&1){var g=MC(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),IC(g,i,o,s,t),F2(lu(l,o));break e}}s=l=lu(l,o),Ar!==4&&(Ar=2),Bd===null?Bd=[s]:Bd.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=u3(s,l,t);TC(s,x);break e;case 1:o=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(fo===null||!fo.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=d3(s,o,t);TC(s,k);break e}}s=s.return}while(s!==null)}P3(r)}catch(E){t=E,xr===r&&r!==null&&(xr=r=r.return);continue}break}while(!0)}function A3(){var e=vm.current;return vm.current=mm,e===null?mm:e}function n_(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Vr===null||!(Sl&268435455)&&!(Zv&268435455)||Xi(Vr,tn)}function ym(e,t){var r=Je;Je|=2;var n=A3();(Vr!==e||tn!==t)&&(qs=null,dl(e,t));do try{wU();break}catch(a){T3(e,a)}while(!0);if(B2(),Je=r,vm.current=n,xr!==null)throw Error(fe(261));return Vr=null,tn=0,Ar}function wU(){for(;xr!==null;)j3(xr)}function _U(){for(;xr!==null&&!G9();)j3(xr)}function j3(e){var t=O3(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?P3(e):xr=t,Q2.current=null}function P3(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=mU(r,t),r!==null){r.flags&=32767,xr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ar=6,xr=null;return}}else if(r=pU(r,t,ra),r!==null){xr=r;return}if(t=t.sibling,t!==null){xr=t;return}xr=t=e}while(t!==null);Ar===0&&(Ar=5)}function Ko(e,t,r){var n=ut,a=Oa.transition;try{Oa.transition=null,ut=1,kU(e,t,r,n)}finally{Oa.transition=a,ut=n}return null}function kU(e,t,r,n){do qc();while(to!==null);if(Je&6)throw Error(fe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(n7(e,s),e===Vr&&(xr=Vr=null,tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Lh||(Lh=!0,D3(em,function(){return qc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Oa.transition,Oa.transition=null;var i=ut;ut=1;var o=Je;Je|=4,Q2.current=null,gU(e,r),S3(r,e),V7(q1),rm=!!G1,q1=G1=null,e.current=r,xU(r),q9(),Je=o,ut=i,Oa.transition=s}else e.current=r;if(Lh&&(Lh=!1,to=e,xm=a),s=e.pendingLanes,s===0&&(fo=null),J9(r.stateNode),Qn(e,ar()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(gm)throw gm=!1,e=pb,pb=null,e;return xm&1&&e.tag!==0&&qc(),s=e.pendingLanes,s&1?e===mb?$d++:($d=0,mb=e):$d=0,No(),null}function qc(){if(to!==null){var e=uD(xm),t=Oa.transition,r=ut;try{if(Oa.transition=null,ut=16>e?16:e,to===null)var n=!1;else{if(e=to,to=null,xm=0,Je&6)throw Error(fe(331));var a=Je;for(Je|=4,Ce=e.current;Ce!==null;){var s=Ce,i=s.child;if(Ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ce=c;Ce!==null;){var u=Ce;switch(u.tag){case 0:case 11:case 15:Ld(8,u,s)}var f=u.child;if(f!==null)f.return=u,Ce=f;else for(;Ce!==null;){u=Ce;var h=u.sibling,p=u.return;if(w3(u),u===c){Ce=null;break}if(h!==null){h.return=p,Ce=h;break}Ce=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Ce=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Ce=i;else e:for(;Ce!==null;){if(s=Ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ld(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Ce=x;break e}Ce=s.return}}var b=e.current;for(Ce=b;Ce!==null;){i=Ce;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Ce=y;else e:for(i=b;Ce!==null;){if(o=Ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qv(9,o)}}catch(E){Jt(o,o.return,E)}if(o===i){Ce=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,Ce=k;break e}Ce=o.return}}if(Je=a,No(),Ts&&typeof Ts.onPostCommitFiberRoot=="function")try{Ts.onPostCommitFiberRoot(Wv,e)}catch{}n=!0}return n}finally{ut=r,Oa.transition=t}}return!1}function qC(e,t,r){t=lu(r,t),t=u3(e,t,1),e=uo(e,t,1),t=Rn(),e!==null&&(p0(e,1,t),Qn(e,t))}function Jt(e,t,r){if(e.tag===3)qC(e,e,r);else for(;t!==null;){if(t.tag===3){qC(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(fo===null||!fo.has(n))){e=lu(r,e),e=d3(t,e,1),t=uo(t,e,1),e=Rn(),t!==null&&(p0(t,1,e),Qn(t,e));break}}t=t.return}}function SU(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&r,Vr===e&&(tn&r)===r&&(Ar===4||Ar===3&&(tn&130023424)===tn&&500>ar()-e_?dl(e,0):Z2|=r),Qn(e,t)}function N3(e,t){t===0&&(e.mode&1?(t=Ah,Ah<<=1,!(Ah&130023424)&&(Ah=4194304)):t=1);var r=Rn();e=yi(e,t),e!==null&&(p0(e,t,r),Qn(e,r))}function EU(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),N3(e,r)}function CU(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),N3(e,r)}var O3;O3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xn.current)Gn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gn=!1,hU(e,t,r);Gn=!!(e.flags&131072)}else Gn=!1,Mt&&t.flags&1048576&&RD(t,cm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fp(e,t),e=t.pendingProps;var a=au(t,En.current);Gc(t,r),a=G2(null,t,n,e,a,r);var s=q2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jn(n)?(s=!0,om(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z2(t),a.updater=Jv,t.stateNode=a,a._reactInternals=t,nb(t,n,e,r),t=ib(null,t,n,!0,s,r)):(t.tag=0,Mt&&s&&I2(t),An(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fp(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=AU(n),e=Ya(n,e),a){case 0:t=sb(null,t,n,e,r);break e;case 1:t=LC(null,t,n,e,r);break e;case 11:t=RC(null,t,n,e,r);break e;case 14:t=FC(null,t,n,Ya(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ya(n,a),sb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ya(n,a),LC(e,t,n,a,r);case 3:e:{if(m3(t),e===null)throw Error(fe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,zD(e,t),fm(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=lu(Error(fe(423)),t),t=BC(e,t,n,r,a);break e}else if(n!==a){a=lu(Error(fe(424)),t),t=BC(e,t,n,r,a);break e}else for(oa=co(t.stateNode.containerInfo.firstChild),ca=t,Mt=!0,Qa=null,r=$D(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(su(),n===a){t=bi(e,t,r);break e}An(e,t,n,r)}t=t.child}return t;case 5:return VD(t),e===null&&eb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Y1(n,a)?i=null:s!==null&&Y1(n,s)&&(t.flags|=32),p3(e,t),An(e,t,i,r),t.child;case 6:return e===null&&eb(t),null;case 13:return v3(e,t,r);case 4:return V2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=iu(t,null,n,r):An(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ya(n,a),RC(e,t,n,a,r);case 7:return An(e,t,t.pendingProps,r),t.child;case 8:return An(e,t,t.pendingProps.children,r),t.child;case 12:return An(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,bt(um,n._currentValue),n._currentValue=i,s!==null)if(us(s.value,i)){if(s.children===a.children&&!Xn.current){t=bi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ii(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),tb(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(fe(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),tb(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}An(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Gc(t,r),a=Ma(a),n=n(a),t.flags|=1,An(e,t,n,r),t.child;case 14:return n=t.type,a=Ya(n,t.pendingProps),a=Ya(n.type,a),FC(e,t,n,a,r);case 15:return f3(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ya(n,a),Fp(e,t),t.tag=1,Jn(n)?(e=!0,om(t)):e=!1,Gc(t,r),c3(t,n,a),nb(t,n,a,r),ib(null,t,n,!0,e,r);case 19:return g3(e,t,r);case 22:return h3(e,t,r)}throw Error(fe(156,t.tag))};function D3(e,t){return iD(e,t)}function TU(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ja(e,t,r,n){return new TU(e,t,r,n)}function a_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function AU(e){if(typeof e=="function")return a_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===k2)return 11;if(e===S2)return 14}return 2}function po(e,t){var r=e.alternate;return r===null?(r=ja(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $p(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")a_(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case _c:return fl(r.children,a,s,t);case _2:i=8,a|=8;break;case T1:return e=ja(12,r,t,a|2),e.elementType=T1,e.lanes=s,e;case A1:return e=ja(13,r,t,a),e.elementType=A1,e.lanes=s,e;case j1:return e=ja(19,r,t,a),e.elementType=j1,e.lanes=s,e;case V4:return eg(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U4:i=10;break e;case z4:i=9;break e;case k2:i=11;break e;case S2:i=14;break e;case Wi:i=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=ja(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function fl(e,t,r,n){return e=ja(7,e,n,t),e.lanes=r,e}function eg(e,t,r,n){return e=ja(22,e,n,t),e.elementType=V4,e.lanes=r,e.stateNode={isHidden:!1},e}function ly(e,t,r){return e=ja(6,e,null,t),e.lanes=r,e}function cy(e,t,r){return t=ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jU(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vx(0),this.expirationTimes=Vx(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vx(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function s_(e,t,r,n,a,s,i,o,l){return e=new jU(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=ja(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z2(s),e}function PU(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function M3(e){if(!e)return xo;e=e._reactInternals;e:{if($l(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Jn(r))return MD(e,r,t)}return t}function I3(e,t,r,n,a,s,i,o,l){return e=s_(r,n,!0,e,a,s,i,o,l),e.context=M3(null),r=e.current,n=Rn(),a=ho(r),s=ii(n,a),s.callback=t??null,uo(r,s,a),e.current.lanes=a,p0(e,a,n),Qn(e,n),e}function tg(e,t,r,n){var a=t.current,s=Rn(),i=ho(a);return r=M3(r),t.context===null?t.context=r:t.pendingContext=r,t=ii(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=uo(a,t,i),e!==null&&(os(e,a,i,s),Mp(e,a,i)),i}function bm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function YC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function i_(e,t){YC(e,t),(e=e.alternate)&&YC(e,t)}function NU(){return null}var R3=typeof reportError=="function"?reportError:function(e){console.error(e)};function o_(e){this._internalRoot=e}rg.prototype.render=o_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));tg(e,t,null,null)};rg.prototype.unmount=o_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;El(function(){tg(null,e,null,null)}),t[xi]=null}};function rg(e){this._internalRoot=e}rg.prototype.unstable_scheduleHydration=function(e){if(e){var t=hD();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Yi.length&&t!==0&&t<Yi[r].priority;r++);Yi.splice(r,0,e),r===0&&mD(e)}};function l_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ng(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function XC(){}function OU(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=bm(i);s.call(c)}}var i=I3(t,n,e,0,null,!1,!1,"",XC);return e._reactRootContainer=i,e[xi]=i.current,pf(e.nodeType===8?e.parentNode:e),El(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=bm(l);o.call(c)}}var l=s_(e,0,!1,null,null,!1,!1,"",XC);return e._reactRootContainer=l,e[xi]=l.current,pf(e.nodeType===8?e.parentNode:e),El(function(){tg(t,l,r,n)}),l}function ag(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=bm(i);o.call(l)}}tg(t,i,e,a)}else i=OU(r,t,e,a,n);return bm(i)}dD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=wd(t.pendingLanes);r!==0&&(T2(t,r|1),Qn(t,ar()),!(Je&6)&&(cu=ar()+500,No()))}break;case 13:El(function(){var n=yi(e,1);if(n!==null){var a=Rn();os(n,e,1,a)}}),i_(e,1)}};A2=function(e){if(e.tag===13){var t=yi(e,134217728);if(t!==null){var r=Rn();os(t,e,134217728,r)}i_(e,134217728)}};fD=function(e){if(e.tag===13){var t=ho(e),r=yi(e,t);if(r!==null){var n=Rn();os(r,e,t,n)}i_(e,t)}};hD=function(){return ut};pD=function(e,t){var r=ut;try{return ut=e,t()}finally{ut=r}};B1=function(e,t,r){switch(t){case"input":if(O1(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=qv(n);if(!a)throw Error(fe(90));H4(n),O1(n,a)}}}break;case"textarea":G4(e,r);break;case"select":t=r.value,t!=null&&Vc(e,!!r.multiple,t,!1)}};eD=t_;tD=El;var DU={usingClientEntryPoint:!1,Events:[v0,Cc,qv,Q4,Z4,t_]},sd={findFiberByHostInstance:rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MU={bundleType:sd.bundleType,version:sd.version,rendererPackageName:sd.rendererPackageName,rendererConfig:sd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Oi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aD(e),e===null?null:e.stateNode},findFiberByHostInstance:sd.findFiberByHostInstance||NU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Wv=Bh.inject(MU),Ts=Bh}catch{}}va.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DU;va.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l_(t))throw Error(fe(200));return PU(e,t,null,r)};va.createRoot=function(e,t){if(!l_(e))throw Error(fe(299));var r=!1,n="",a=R3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=s_(e,1,!1,null,null,r,!1,n,a),e[xi]=t.current,pf(e.nodeType===8?e.parentNode:e),new o_(t)};va.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=aD(t),e=e===null?null:e.stateNode,e};va.flushSync=function(e){return El(e)};va.hydrate=function(e,t,r){if(!ng(t))throw Error(fe(200));return ag(null,e,t,!0,r)};va.hydrateRoot=function(e,t,r){if(!l_(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=R3;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=I3(t,null,e,1,r??null,a,!1,s,i),e[xi]=t.current,pf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new rg(t)};va.render=function(e,t,r){if(!ng(t))throw Error(fe(200));return ag(null,e,t,!1,r)};va.unmountComponentAtNode=function(e){if(!ng(e))throw Error(fe(40));return e._reactRootContainer?(El(function(){ag(null,null,e,!1,function(){e._reactRootContainer=null,e[xi]=null})}),!0):!1};va.unstable_batchedUpdates=t_;va.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ng(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return ag(e,t,r,!1,n)};va.version="18.3.1-next-f1338f8080-20240426";function F3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(F3)}catch(e){console.error(e)}}F3(),F4.exports=va;var x0=F4.exports,JC=x0;E1.createRoot=JC.createRoot,E1.hydrateRoot=JC.hydrateRoot;/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=e=>{const t=RU(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FU={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>w.createElement("svg",{ref:l,...FU,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:L3("lucide",a),...!s&&!LU(o)&&{"aria-hidden":"true"},...o},[...i.map(([c,u])=>w.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(BU,{ref:s,iconNode:t,className:L3(`lucide-${IU(QC(e))}`,`lucide-${e}`,n),...a}));return r.displayName=QC(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],UU=we("activity",$U);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],VU=we("archive",zU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],HU=we("arrow-down-right",WU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],c_=we("arrow-down",KU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ZC=we("arrow-left",GU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],u_=we("arrow-right",qU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ea=we("arrow-up-down",YU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],JU=we("arrow-up-right",XU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],d_=we("arrow-up",QU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],eT=we("beaker",ZU);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],B3=we("book-open",ez);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],f_=we("calculator",tz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y0=we("calendar",rz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],h_=we("chart-column",nz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Cl=we("chart-no-axes-column",az);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sz=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],$3=we("chart-pie",sz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oz=we("check",iz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dc=we("chevron-down",lz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],sg=we("chevron-left",cz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ig=we("chevron-right",uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ul=we("circle-alert",dz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fz=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yn=we("circle-check-big",fz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U3=we("circle-check",hz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],mz=we("circle-question-mark",pz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z3=we("circle-x",vz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],wm=we("clock",gz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xz=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],kf=we("cloud-upload",xz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yz=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],bz=we("credit-card",yz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wz=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],V3=we("database",wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _z=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],b0=we("dollar-sign",_z);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],w0=we("download",kz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sz=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Ez=we("ellipsis",Sz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tz=we("eye",Cz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],xb=we("file-text",Az);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jz=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],W3=we("flask-conical",jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],ju=we("funnel",Pz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],tT=we("grid-3x3",Nz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Dz=we("history",Oz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_0=we("info",Mz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],H3=we("layout-dashboard",Iz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Sf=we("lightbulb",Rz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Lz=we("link",Fz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],$z=we("list",Bz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yo=we("loader-circle",Uz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vz=we("log-out",zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Hz=we("mail",Wz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Gz=we("menu",Kz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M5 12h14",key:"1ays0h"}]],k0=we("minus",qz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Xz=we("moon",Yz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],Qz=we("mouse-pointer",Jz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],eV=we("octagon-alert",Zz);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],K3=we("pen",tV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],p_=we("plus",rV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],aV=we("refresh-cw",nV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],iV=we("rotate-ccw",sV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],S0=we("save",oV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],og=we("search",lV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uV=we("send",cV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],fV=we("settings",dV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],pV=we("share-2",hV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vV=we("shield-check",mV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Oo=we("target",gV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ef=we("trash-2",xV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],E0=we("trending-down",yV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],fa=we("trending-up",bV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],oi=we("triangle-alert",wV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],lg=we("upload",_V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],G3=we("user",kV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],EV=we("users",SV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],q3=we("wallet",CV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$s=we("x",TV),AV=({onFileSelect:e,onLoadSimulatedData:t,loading:r,error:n,totalActivities:a})=>{const s=w.useRef(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];u&&e(u)},o=c=>{c.preventDefault(),c.stopPropagation()},l=c=>{var f;c.preventDefault(),c.stopPropagation();const u=(f=c.dataTransfer.files)==null?void 0:f[0];u&&u.name.toLowerCase().endsWith(".csv")&&e(u)};return d.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-6",children:[d.jsxs("div",{onDragOver:o,onDrop:l,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:`
          border-2 border-dashed rounded-xl p-10 text-center cursor-pointer transition-all duration-300
          border-slate-700 hover:border-blue-400 hover:bg-slate-800/50
        `,children:[d.jsx("input",{ref:s,type:"file",accept:".csv",onChange:i,className:"hidden"}),d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"p-4 rounded-full bg-slate-800",children:d.jsx(lg,{className:"w-8 h-8 text-slate-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-slate-200",children:"Arraste e solte seu CSV aqui"}),d.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"ou clique para selecionar do computador"})]})]})]}),t&&d.jsx("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-slate-800/50",children:d.jsxs("button",{onClick:t,disabled:r,className:"text-sm text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-slate-800/50",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Ativar Modo Teste (Dados Simulados)"})]})}),r&&d.jsxs("div",{className:"flex items-center justify-center gap-3 text-blue-400 bg-blue-400/10 p-4 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-medium",children:"Processando dados..."})]}),n&&d.jsxs("div",{className:"mt-4 p-3 bg-red-900 border border-red-700 rounded flex items-start gap-2",children:[d.jsx(Ul,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-300 font-medium",children:"Erro ao processar"}),d.jsx("p",{className:"text-red-400 text-sm whitespace-pre-wrap",children:n})]})]}),a!==void 0&&a>0&&!r&&!n&&d.jsxs("div",{className:"mt-4 p-3 bg-green-900 border border-green-700 rounded flex items-center gap-2",children:[d.jsx(yn,{className:"w-5 h-5 text-green-400"}),d.jsxs("span",{className:"text-green-300",children:[" ",a," atividades carregadas com sucesso"]})]})]})},rT=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},jV=e=>e?rT(e):rT,PV=e=>e;function NV(e,t=PV){const r=ei.useSyncExternalStore(e.subscribe,ei.useCallback(()=>t(e.getState()),[e,t]),ei.useCallback(()=>t(e.getInitialState()),[e,t]));return ei.useDebugValue(r),r}const OV=e=>{const t=jV(e),r=n=>NV(t,n);return Object.assign(r,t),r},m_=e=>OV;function Y3(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const yb=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return yb(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return yb(n)(r)}}}},DV=(e,t)=>(r,n,a)=>{let s={storage:Y3(()=>localStorage),partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,a);const u=()=>{const v=s.partialize({...n()});return c.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,g)=>(f(v,g),u());const h=e((...v)=>(r(...v),u()),n,a);a.getInitialState=()=>h;let p;const m=()=>{var v,g;if(!c)return;i=!1,o.forEach(b=>{var y;return b((y=n())!=null?y:h)});const x=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(v=n())!=null?v:h))||void 0;return yb(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const y=s.migrate(b.state,b.version);return y instanceof Promise?y.then(k=>[!0,k]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[k,E]=b;if(p=s.merge(E,(y=n())!=null?y:h),r(p,!0),k)return u()}).then(()=>{x==null||x(p,void 0),p=n(),i=!0,l.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),p||h},v_=DV;function cg(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function MV(e,t){let r;const n=()=>{if(r)return r;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(t),r=cg(a),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(a,s)=>n().then(i=>s(i.transaction(t,a).objectStore(t)))}let uy;function g_(){return uy||(uy=MV("keyval-store","keyval")),uy}function IV(e,t=g_()){return t("readonly",r=>cg(r.get(e)))}function RV(e,t,r=g_()){return r("readwrite",n=>(n.put(t,e),cg(n.transaction)))}function FV(e,t=g_()){return t("readwrite",r=>(r.delete(e),cg(r.transaction)))}const LV={getItem:async e=>await IV(e)||null,setItem:async(e,t)=>{await RV(e,t)},removeItem:async e=>{await FV(e)}},nT={bu:[],canais:[],jornadas:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos",dataInicio:"",dataFim:""},Tr=m_()(v_(e=>({frameworkData:[],activities:[],goals:[],journal:[],viewSettings:{periodo:{inicio:"",fim:""},abaAtual:"launch",filtrosGlobais:nT,modoTempoJornada:"diario"},setFrameworkData:(t,r)=>e({frameworkData:t,activities:r}),setGoals:t=>e({goals:t}),addJournalEntry:t=>e(r=>({journal:[...r.journal,t]})),updateJournalEntry:(t,r)=>e(n=>({journal:n.journal.map(a=>a.id===t?{...a,...r}:a)})),updateActivity:(t,r)=>e(n=>({activities:n.activities.map(a=>a.id===t?{...a,...r}:a)})),setGlobalFilters:t=>e(r=>({viewSettings:{...r.viewSettings,filtrosGlobais:{...r.viewSettings.filtrosGlobais,...t}}})),resetFilters:()=>e(t=>({viewSettings:{...t.viewSettings,filtrosGlobais:nT}})),setTab:t=>e(r=>({viewSettings:{...r.viewSettings,abaAtual:t}})),setPeriodo:(t,r)=>e(n=>({viewSettings:{...n.viewSettings,periodo:{inicio:t,fim:r}}})),b2cData:[],setB2CData:t=>e({b2cData:t}),paidMediaData:[],setPaidMediaData:t=>e({paidMediaData:t}),budgets:[],setBudgets:t=>e({budgets:t}),alertConfig:{share_crm_limiar:10,ativar_anomalias:!0},setAlertConfig:t=>e({alertConfig:t})}),{name:"app-storage",storage:Y3(()=>LV),partialize:e=>({frameworkData:e.frameworkData,activities:e.activities,goals:e.goals,journal:e.journal,b2cData:e.b2cData,paidMediaData:e.paidMediaData,budgets:e.budgets,viewSettings:{...e.viewSettings,abaAtual:"launch"},alertConfig:e.alertConfig}),onRehydrateStorage:()=>e=>{e&&(e.activities&&e.activities.forEach(t=>{typeof t.dataDisparo=="string"&&(t.dataDisparo=new Date(t.dataDisparo))}),e.frameworkData&&e.frameworkData.forEach(t=>{t["Data de Disparo"]&&typeof t["Data de Disparo"]=="string"&&(t["Data de Disparo"]=new Date(t["Data de Disparo"]))}))}})),BV=({availableCanais:e=[],availableJornadas:t=[],availableSegmentos:r=[],availableParceiros:n=[],countByCanal:a={},countByJornada:s={},countBySegmento:i={},countByParceiro:o={},onClose:l})=>{const{viewSettings:c,setGlobalFilters:u}=Tr(),f=c.filtrosGlobais,[h,p]=w.useState(""),[m,v]=w.useState({canal:!0,jornada:!1,segmento:!1,parceiro:!1}),g=t.filter(_=>_.toLowerCase().includes(h.toLowerCase())),x=_=>{v(S=>({...S,[_]:!S[_]}))},b=(_,S)=>{const C=f[_],T=C.includes(S)?C.filter(j=>j!==S):[...C,S];u({[_]:T})},y=(_,S)=>{const C=f[_];if(S.every(j=>C.includes(j))){const j=C.filter(P=>!S.includes(P));u({[_]:j})}else{const j=S.filter(P=>!C.includes(P));u({[_]:[...C,...j]})}},k=(_,S)=>{const C=f[_];return S.length>0&&S.every(T=>C.includes(T))},E=()=>{u({canais:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos"}),p("")};return d.jsxs("div",{className:"w-full bg-transparent h-full flex flex-col",children:[d.jsxs("div",{className:"p-4 flex items-center justify-between shrink-0",children:[d.jsx("p",{className:"px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Filtros"}),l&&d.jsx("button",{onClick:l,className:"text-slate-400 hover:text-white p-1 rounded hover:bg-slate-800 transition",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("path",{d:"M18 6 6 18"}),d.jsx("path",{d:"m6 6 12 12"})]})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-6",children:[e.length>0&&d.jsxs("div",{className:"space-y-3",children:[d.jsxs("button",{onClick:()=>x("canal"),className:"flex items-center justify-between w-full p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase",children:"Canais"}),d.jsx(Dc,{className:`w-4 h-4 text-slate-400 transition ${m.canal?"rotate-180":""}`})]}),m.canal&&d.jsxs("div",{className:"space-y-2 pl-2",children:[d.jsx("button",{onClick:()=>y("canais",e),className:`w-full text-left px-3 py-2 rounded text-xs font-semibold transition ${k("canais",e)?"bg-blue-500/20 text-blue-400 border border-blue-500/50":"bg-slate-800/50 text-slate-400 border border-slate-700 hover:bg-slate-800"}`,children:k("canais",e)?" Todos":"Todos"}),e.map(_=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("input",{type:"checkbox",checked:f.canais.includes(_),onChange:()=>b("canais",_),className:"w-4 h-4 rounded border-slate-600 text-blue-500 focus:ring-blue-500"}),d.jsx("span",{className:"text-slate-300 text-sm",children:_}),d.jsxs("span",{className:"text-slate-500 text-xs ml-auto",children:["(",a[_]||0,")"]})]},_))]})]}),t&&t.length>0&&d.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>x("jornada"),className:"flex items-center justify-between w-full p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase",children:"Jornadas"}),d.jsx(Dc,{className:`w-4 h-4 text-slate-400 transition ${m.jornada?"rotate-180":""}`})]}),m.jornada&&d.jsxs("div",{className:"space-y-2 pl-2",children:[d.jsxs("div",{className:"flex items-center bg-slate-800 rounded px-2 py-1.5 border border-slate-700 mb-2",children:[d.jsx(og,{size:14,className:"text-slate-500 mr-2"}),d.jsx("input",{type:"text",placeholder:"Buscar jornada...",value:h,onChange:_=>p(_.target.value),className:"bg-transparent border-none outline-none text-xs text-slate-200 w-full placeholder-slate-600"})]}),d.jsxs("div",{className:"max-h-48 overflow-y-auto space-y-1",children:[d.jsx("button",{onClick:()=>y("jornadas",g),className:`w-full text-left px-3 py-2 rounded text-xs font-semibold transition ${k("jornadas",g)?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"bg-slate-800/50 text-slate-400 border border-slate-700 hover:bg-slate-800"}`,children:k("jornadas",g)?h?" Todas Visveis":" Todas":h?"Selecionar Visveis":"Todas"}),g.length>0?g.map(_=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("input",{type:"checkbox",checked:f.jornadas.includes(_),onChange:()=>b("jornadas",_),className:"w-4 h-4 rounded border-slate-600 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-slate-300 text-sm truncate",title:_,children:_}),d.jsxs("span",{className:"text-slate-500 text-xs ml-auto shrink-0",children:["(",(s==null?void 0:s[_])||0,")"]})]},_)):d.jsx("p",{className:"text-xs text-slate-500 p-2 italic",children:"Nenhuma jornada encontrada"})]})]})]}),r.length>0&&d.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>x("segmento"),className:"flex items-center justify-between w-full p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase",children:"Segmentos"}),d.jsx(Dc,{className:`w-4 h-4 text-slate-400 transition ${m.segmento?"rotate-180":""}`})]}),m.segmento&&d.jsxs("div",{className:"space-y-2 pl-2 max-h-48 overflow-y-auto",children:[d.jsx("button",{onClick:()=>y("segmentos",r),className:`w-full text-left px-3 py-2 rounded text-xs font-semibold transition ${k("segmentos",r)?"bg-green-500/20 text-green-400 border border-green-500/50":"bg-slate-800/50 text-slate-400 border border-slate-700 hover:bg-slate-800"}`,children:k("segmentos",r)?" Todos":"Todos"}),r.map(_=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("input",{type:"checkbox",checked:f.segmentos.includes(_),onChange:()=>b("segmentos",_),className:"w-4 h-4 rounded border-slate-600 text-green-500 focus:ring-green-500"}),d.jsx("span",{className:"text-slate-300 text-sm",children:_}),d.jsxs("span",{className:"text-slate-500 text-xs ml-auto",children:["(",i[_]||0,")"]})]},_))]})]}),n.length>0&&d.jsxs("div",{className:"space-y-3 border-t border-slate-700 pt-4",children:[d.jsxs("button",{onClick:()=>x("parceiro"),className:"flex items-center justify-between w-full p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("p",{className:"text-sm font-semibold text-slate-400 uppercase",children:"Parceiros"}),d.jsx(Dc,{className:`w-4 h-4 text-slate-400 transition ${m.parceiro?"rotate-180":""}`})]}),m.parceiro&&d.jsxs("div",{className:"space-y-2 pl-2 max-h-48 overflow-y-auto",children:[d.jsx("button",{onClick:()=>y("parceiros",n),className:`w-full text-left px-3 py-2 rounded text-xs font-semibold transition ${k("parceiros",n)?"bg-purple-500/20 text-purple-400 border border-purple-500/50":"bg-slate-800/50 text-slate-400 border border-slate-700 hover:bg-slate-800"}`,children:k("parceiros",n)?" Todos":"Todos"}),n.map(_=>d.jsxs("label",{className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded transition",children:[d.jsx("input",{type:"checkbox",checked:f.parceiros.includes(_),onChange:()=>b("parceiros",_),className:"w-4 h-4 rounded border-slate-600 text-purple-500 focus:ring-purple-500"}),d.jsx("span",{className:"text-slate-300 text-sm",children:_}),d.jsxs("span",{className:"text-slate-500 text-xs ml-auto",children:["(",o[_]||0,")"]})]},_))]})]})]}),d.jsx("div",{className:"pt-4 border-t border-slate-700 mt-4",children:d.jsx("button",{onClick:E,className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded transition text-sm font-semibold border border-slate-600",children:"Limpar Filtros"})})]})};function ug(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function $V(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(f){i(f)}}function l(u){try{c(n.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const UV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class x_ extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class zV extends x_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class aT extends x_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sT extends x_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var bb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(bb||(bb={}));class VV{constructor(t,{headers:r={},customFetch:n,region:a=bb.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=UV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return $V(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let g=u;f&&(i=new AbortController,s=setTimeout(()=>i.abort(),f),u?(g=i.signal,u.addEventListener("abort",()=>i.abort())):g=i.signal);const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:g}).catch(E=>{throw new zV(E)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new aT(x);if(!x.ok)throw new sT(x);let y=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),k;return y==="application/json"?k=yield x.json():y==="application/octet-stream"||y==="application/pdf"?k=yield x.blob():y==="text/event-stream"?k=x:y==="multipart/form-data"?k=yield x.formData():k=yield x.text(),{data:k,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof sT||o instanceof aT?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var WV=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},HV=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let i=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await s.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const v=await s.text();try{i=JSON.parse(v),Array.isArray(i)&&s.status===404&&(o=[],i=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):i={message:v}}if(i&&r.isMaybeSingle&&(!(i==null||(m=i.details)===null||m===void 0)&&m.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&r.shouldThrowOnError)throw new WV(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(a=a.catch(s=>{var i;let o="";const l=s==null?void 0:s.cause;if(l){var c,u,f,h;const m=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${m}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},KV=class extends HV{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const iT=new RegExp("[,()]");var vc=class extends KV{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&iT.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},GV=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new vc({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new vc({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",u.join(","))}}return new vc({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new vc({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new vc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},qV=class X3{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new GV(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new X3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),f=n&&Object.values(r).some(u);f?(o="POST",c=r):n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(o="POST",c=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new vc({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class YV{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XV="2.93.1",JV=`realtime-js/${XV}`,QV="1.0.0",J3="2.0.0",oT=J3,wb=1e4,ZV=1e3,eW=100;var Ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ki||(Ki={}));var _r;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_r||(_r={}));var Ja;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ja||(Ja={}));var _b;(function(e){e.websocket="websocket"})(_b||(_b={}));var Zo;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zo||(Zo={}));class tW{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var a,s;const i=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,i.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,r),Array.from(l,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(i,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(c,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(f,x=>m.setUint8(v++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,o,l]=n;return r({join_ref:a,ref:s,topic:i,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+s));l=l+s;const f=n.decode(t.slice(l,l+i));l=l+i;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Q3{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(gt||(gt={}));const lT=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=rW(i,e,t,a),s),{}):{}},rW=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?Z3(s,i):kb(i)},Z3=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return iW(t,r)}switch(e){case gt.bool:return nW(t);case gt.float4:case gt.float8:case gt.int2:case gt.int4:case gt.int8:case gt.numeric:case gt.oid:return aW(t);case gt.json:case gt.jsonb:return sW(t);case gt.timestamp:return oW(t);case gt.abstime:case gt.date:case gt.daterange:case gt.int4range:case gt.int8range:case gt.money:case gt.reltime:case gt.text:case gt.time:case gt.timestamptz:case gt.timetz:case gt.tsrange:case gt.tstzrange:return kb(t);default:return kb(t)}},kb=e=>e,nW=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aW=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sW=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},iW=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>Z3(t,o))}return e},oW=e=>typeof e=="string"?e.replace(" ","T"):e,eM=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class dy{constructor(t,r,n={},a=wb){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cT||(cT={}));class Ud{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ud.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=Ud.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ud.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const f=s[c];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=u.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(o[c]=m),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,u,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(uT||(uT={}));var zd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zd||(zd={}));var Ys;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ys||(Ys={}));class Mc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=_r.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new dy(this,Ja.join,this.params,this.timeout),this.rejoinTimer=new Q3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_r.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_r.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=_r.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ja.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ud(this),this.broadcastEndpointURL=eM(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_r.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[zd.PRESENCE]&&this.bindings[zd.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(Ys.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(Ys.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(Ys.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<g;b++){const y=v[b],{filter:{event:k,schema:E,table:_,filter:S}}=y,C=p&&p[b];if(C&&C.event===k&&Mc.isFilterValueEqual(C.schema,E)&&Mc.isFilterValueEqual(C.table,_)&&Mc.isFilterValueEqual(C.filter,S))x.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=_r.errored,t==null||t(Ys.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Ys.SUBSCRIBED);return}}).receive("error",p=>{this.state=_r.errored,t==null||t(Ys.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ys.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===_r.joined&&t===zd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_r.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ja.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new dy(this,Ja.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_r.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new dy(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>eW){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Ja;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var m,v,g,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const k=p.id,E=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((v=r.ids)===null||v===void 0?void 0:v.includes(k))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const k=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return k==="*"||k===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:g,commit_timestamp:x,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===_r.closed}_isJoined(){return this.state===_r.joined}_isJoining(){return this.state===_r.joining}_isLeaving(){return this.state===_r.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Mc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ja.close,{},t)}_onError(t){this._on(Ja.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_r.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=lT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=lT(t.columns,t.old_record)),r}}const fy=()=>{},$h={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lW=[1e3,2e3,5e3,1e4],cW=1e4,uW=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dW{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wb,this.transport=null,this.heartbeatIntervalMs=$h.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fy,this.ref=0,this.reconnectTimer=null,this.vsn=oT,this.logger=fy,this.conn=null,this.sendBuffer=[],this.serializer=new tW,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${_b.websocket}`,this.httpEndpoint=eM(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YV.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ki.connecting:return Zo.Connecting;case Ki.open:return Zo.Open;case Ki.closing:return Zo.Closing;default:return Zo.Closed}}isConnected(){return this.connectionState()===Zo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Mc(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ZV,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$h.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ki.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ki.open||this.conn.readyState===Ki.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ja.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([uW],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:JV};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(Ja.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Q3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$h.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,c,u,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:wb,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:$h.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:fy,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:oT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>lW[m-1]||cW,this.vsn){case QV:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case J3:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Cf=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function fW(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function hW(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function pW(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:i}){const o=fW(e.baseUrl,n,a),l=await hW(e.auth),c=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...i},body:s?JSON.stringify(s):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&u?JSON.parse(u):u;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new Cf((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function Uh(e){return e.join("")}var mW=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Uh(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uh(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uh(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uh(e.namespace)}`}),!0}catch(t){if(t instanceof Cf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Cf&&r.status===409)return;throw r}}};function nc(e){return e.join("")}var vW=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Cf&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Cf&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},gW=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=pW({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new mW(this.client,t),this.tableOps=new vW(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},dg=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function fg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var zh=class extends dg{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},tM=class extends dg{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const xW=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yW=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Sb=e=>{if(Array.isArray(e))return e.map(r=>Sb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Sb(n)}),t},bW=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Tf(e){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tf(e)}function wW(e,t){if(Tf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _W(e){var t=wW(e,"string");return Tf(t)=="symbol"?t:t+""}function kW(e,t,r){return(t=_W(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){kW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const fT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},SW=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new zh(fT(i),s,o,n))}).catch(()=>{if(n==="vectors"){const i=s+"";t(new zh(a.statusText||`HTTP ${s} error`,s,i,n))}else{const i=s+"";t(new zh(a.statusText||`HTTP ${s} error`,s,i,n))}});else{const i=s+"";t(new zh(a.statusText||`HTTP ${s} error`,s,i,n))}}else t(new tM(fT(e),e,n))},EW=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?De(De({},a),r):(yW(n)?(a.headers=De({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),De(De({},a),r))};async function id(e,t,r,n,a,s,i){return new Promise((o,l)=>{e(r,EW(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(i==="vectors"){const u=c.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>SW(c,l,n,i))})}function CW(e="storage"){return{get:async(t,r,n,a)=>id(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>id(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>id(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>id(t,"HEAD",r,De(De({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>id(t,"DELETE",r,a,s,n,e)}}const TW=CW("storage"),{get:Af,post:Ot,put:Eb,head:AW,remove:y_}=TW;var Pu=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=xW(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(fg(r))return{data:null,error:r};throw r}}},jW=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fg(t))return{data:null,error:t};throw t}}};let rM;rM=Symbol.toStringTag;var PW=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[rM]="BlobDownloadBuilder",this.promise=null}asStream(){return new jW(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fg(t))return{data:null,error:t};throw t}}};const NW={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var OW=class extends Pu{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const i=De(De({},hT),n);let o=De(De({},a.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=De(De({},o),n.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),f=await(e=="PUT"?Eb:Ot)(a.fetch,`${a.url}/object/${u}`,s,De({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),a.handleOperation(async()=>{let l;const c=De({upsert:hT.upsert},n),u=De(De({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await Eb(a.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=De({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await Ot(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new dg("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ot(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ot(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await Ot(n.fetch,`${n.url}/object/sign/${a}`,De({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Ot(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(i=>De(De({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${s}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),i=()=>Af(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new PW(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Sb(await Af(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await AW(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(fg(n)&&n instanceof tM){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await y_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=De(De(De({},NW),t),{},{prefix:e||""});return await Ot(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=De({},e);return await Ot(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const DW="2.93.1",C0={"X-Client-Info":`storage-js/${DW}`};var MW=class extends Pu{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),i=De(De({},C0),t);super(s,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Af(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Af(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Eb(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await y_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},IW=class extends Pu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=De(De({},C0),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Af(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await y_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!bW(e))throw new dg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new gW({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const i=a[s];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(a,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},RW=class extends Pu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=De(De({},C0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ot(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},FW=class extends Pu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=De(De({},C0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},LW=class extends Pu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=De(De({},C0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ot(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},BW=class extends LW{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new $W(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},$W=class extends RW{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new UW(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},UW=class extends FW{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,De(De({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},zW=class extends MW{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new OW(this.url,this.headers,e,this.fetch)}get vectors(){return new BW(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new IW(this.url+"/iceberg",this.headers,this.fetch)}};const nM="2.93.1",gc=30*1e3,Cb=3,hy=Cb*gc,VW="http://localhost:9999",WW="supabase.auth.token",HW={"X-Client-Info":`gotrue-js/${nM}`},Tb="X-Supabase-Api-Version",aM={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KW=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,GW=10*60*1e3;class jf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qW extends jf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function YW(e){return Ne(e)&&e.name==="AuthApiError"}class el extends jf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Di extends jf{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ta extends Di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function py(e){return Ne(e)&&e.name==="AuthSessionMissingError"}class ac extends Di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vh extends Di{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wh extends Di{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XW(e){return Ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class pT extends Di{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class JW extends Di{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ab extends Di{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function my(e){return Ne(e)&&e.name==="AuthRetryableFetchError"}class mT extends Di{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class jb extends Di{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vT=` 	
\r=`.split(""),QW=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vT.length;t+=1)e[vT[t].charCodeAt(0)]=-2;for(let t=0;t<_m.length;t+=1)e[_m[t].charCodeAt(0)]=t;return e})();function gT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_m[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_m[n]),t.queuedBits-=6}}function sM(e,t,r){const n=QW[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function xT(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{tH(i,n,r)};for(let i=0;i<e.length;i+=1)sM(e.charCodeAt(i),a,s);return t.join("")}function ZW(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function eH(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ZW(n,t)}}function tH(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Yc(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)sM(e.charCodeAt(a),r,n);return new Uint8Array(t)}function rH(e){const t=[];return eH(e,r=>t.push(r)),new Uint8Array(t)}function sl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>gT(a,r,n)),gT(null,r,n),t.join("")}function nH(e){return Math.round(Date.now()/1e3)+e}function aH(){return Symbol("auth-callback")}const Yr=()=>typeof window<"u"&&typeof document<"u",zo={tested:!1,writable:!1},iM=()=>{if(!Yr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(zo.tested)return zo.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),zo.tested=!0,zo.writable=!0}catch{zo.tested=!0,zo.writable=!1}return zo.writable};function sH(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const oM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iH=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",xc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Vo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gr=async(e,t)=>{await e.removeItem(t)};class hg{constructor(){this.promise=new hg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}hg.promiseConstructor=Promise;function Hh(e){const t=e.split(".");if(t.length!==3)throw new jb("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!KW.test(t[n]))throw new jb("JWT not in base64url format");return{header:JSON.parse(xT(t[0])),payload:JSON.parse(xT(t[1])),signature:Yc(t[2]),raw:{header:t[0],payload:t[1]}}}async function oH(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lH(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function cH(e){return("0"+e.toString(16)).substr(-2)}function uH(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,cH).join("")}async function dH(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function fH(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dH(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sc(e,t,r=!1){const n=uH();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await xc(e,`${t}-code-verifier`,a);const s=await fH(n);return[s,n===s?"plain":"s256"]}const hH=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pH(e){const t=e.headers.get(Tb);if(!t||!t.match(hH))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mH(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vH(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ic(e){if(!gH.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xH(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function yT(e){return JSON.parse(JSON.stringify(e))}const Go=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yH=[502,503,504];async function bT(e){var t;if(!iH(e))throw new Ab(Go(e),0);if(yH.includes(e.status))throw new Ab(Go(e),e.status);let r;try{r=await e.json()}catch(s){throw new el(Go(s),s)}let n;const a=pH(e);if(a&&a.getTime()>=aM["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new mT(Go(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ta}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new mT(Go(r),e.status,r.weak_password.reasons);throw new qW(Go(r),e.status||500,n)}const bH=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Oe(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Tb]||(s[Tb]=aM["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await wH(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function wH(e,t,r,n,a,s){const i=bH(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Ab(Go(l),0)}if(o.ok||await bT(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await bT(l)}}function Ga(e){var t;let r=null;SH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nH(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function wT(e){const t=Ga(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ji(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _H(e){return{data:e,error:null}}function kH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=ug(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function _T(e){return e}function SH(e){return e.access_token&&e.refresh_token&&e.expires_in}const gy=["global","local","others"];class EH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=oM(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=gy[0]){if(gy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gy.join(", ")}`);try{return await Oe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ji})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ug(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:kH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ji})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_T});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ne(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){ic(t);try{return await Oe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ji})}catch(r){if(Ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ic(t);try{return await Oe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ji})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ic(t);try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ji})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ic(t.userId);try{const{data:r,error:n}=await Oe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ic(t.userId),ic(t.id);try{return{data:await Oe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:_T});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Ne(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ne(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ne(r))return{data:null,error:r};throw r}}}function kT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const oc={debug:!!(globalThis&&iM()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lM extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class CH extends lM{}async function TH(e,t,r){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),oc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw oc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new CH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function AH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cM(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function jH(e){return parseInt(e,16)}function PH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function NH(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=cM(e.address),m=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}x+=b}return`${g}
${x}`}class mr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class km extends mr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function OH({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new mr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new mr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new mr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new mr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new mr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new mr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(uM(i)){if(s.rp.id!==i)return new mr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new mr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new mr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function DH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new mr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new mr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(uM(n)){if(r.rpId!==n)return new mr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new mr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new mr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new mr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class MH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const IH=new MH;function RH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=ug(e,["challenge","user","excludeCredentials"]),s=Yc(t).buffer,i=Object.assign(Object.assign({},r),{id:Yc(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Yc(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function FH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ug(e,["challenge","allowCredentials"]),a=Yc(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:Yc(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function LH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:sl(new Uint8Array(e.response.attestationObject)),clientDataJSON:sl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function BH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sl(new Uint8Array(a.authenticatorData)),clientDataJSON:sl(new Uint8Array(a.clientDataJSON)),signature:sl(new Uint8Array(a.signature)),userHandle:a.userHandle?sl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uM(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function ST(){var e,t;return!!(Yr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function $H(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new km("Browser returned unexpected credential type",t)}:{data:null,error:new km("Empty credential response",t)}}catch(t){return{data:null,error:OH({error:t,options:e})}}}async function UH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new km("Browser returned unexpected credential type",t)}:{data:null,error:new km("Empty credential response",t)}}catch(t){return{data:null,error:DH({error:t,options:e})}}}const zH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sm(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=Sm(o,i):n[s]=Sm(i)}else n[s]=i}return n}function WH(e,t){return Sm(zH,e,t||{})}function HH(e,t){return Sm(VH,e,t||{})}class KH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??IH.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=WH(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:f}=await $H({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=HH(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:f}=await UH(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(i){return Ne(i)?{data:null,error:i}:{data:null,error:new el("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new jf("rpId is required for WebAuthn authentication")};try{if(!ST())return{data:null,error:new el("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Ne(i)?{data:null,error:i}:{data:null,error:new el("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new jf("rpId is required for WebAuthn registration")};try{if(!ST())return{data:null,error:new el("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Ne(i)?{data:null,error:i}:{data:null,error:new el("Unexpected error in register",i)}}}}AH();const GH={url:VW,storageKey:WW,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HW,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function ET(e,t,r){return await r()}const lc={};class Pf{get jwks(){var t,r;return(r=(t=lc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){lc[this.storageKey]=Object.assign(Object.assign({},lc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=lc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){lc[this.storageKey]=Object.assign(Object.assign({},lc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},GH),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Pf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Pf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Yr()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new EH({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=oM(s.fetch),this.lock=s.lock||ET,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Yr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=TH:this.lock=ET,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new KH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:iM()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=kT(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=kT(this.memoryStorage)),Yr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nM}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Yr()&&(r=sH(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yr()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),XW(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ne(r)?this._returnResult({error:r}):this._returnResult({error:new el("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Ga}),{data:i,error:o}=s;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await sc(this.storage,this.storageKey)),s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ga})}else if("phone"in t){const{phone:u,password:f,options:h}=t;s=await Oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ga})}else throw new Vh("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return await Gr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wT})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:wT})}else throw new Vh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new ac;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,c,u,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let y;if(Yr())if(typeof g=="object")y=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const k=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),E=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=cM(E[0]);let S=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const T=await y.request({method:"eth_chainId"});S=jH(T)}const C={domain:k.host,address:_,statement:x,uri:k.href,version:"1",chainId:S,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=NH(C),m=await y.request({method:"personal_sign",params:[PH(p),_]})}try{const{data:v,error:g}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ga});if(g)throw g;if(!v||!v.session||!v.user){const x=new ac;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Ne(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,s,i,o,l,c,u,f,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:b,options:y}=t;let k;if(Yr())if(typeof x=="object")k=x;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))k=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=x}const E=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const _=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),b?{statement:b}:null));let S;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")S=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)S=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)m=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),v=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const _=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=_}}try{const{data:g,error:x}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:sl(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Ga});if(x)throw x;if(!g||!g.session||!g.user){const b=new ac;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Ne(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await Vo(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new JW;const{data:s,error:i}=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ga});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const o=new ac;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ga}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new ac;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await sc(this.storage,this.storageKey));const{error:f}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new Vh("You must provide either an email or phone number.")}catch(o){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Ga});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await sc(this.storage,this.storageKey));const c=await Oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:_H});return!((s=c.data)===null||s===void 0)&&s.url&&Yr()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ta;const{error:a}=await Oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Ne(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await Oe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new Vh("You must provide either an email or phone number and a type")}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Vo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<hy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await Vo(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=vy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=xH(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ji}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ta}:await Oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Ji})})}catch(r){if(Ne(r))return py(r)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new ta;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await sc(this.storage,this.storageKey));const{data:c,error:u}=await Oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:Ji});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ta;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=Hh(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ne(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ta;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ne(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Yr())throw new Wh("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wh(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new pT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new pT("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!i||!c)throw new Wh("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=gc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:v,error:g}=await this._getUser(s);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Vo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!py(s))return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(YW(o)&&(o.status===404||o.status===401||o.status===403)||py(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=aH(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await sc(this.storage,this.storageKey,!0));try{return await Oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Oe(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return Yr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ne(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:c,nonce:u}=t,f=await Oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Ga}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ac}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await Gr(this.storage,`${this.storageKey}-code-verifier`),Ne(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Oe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lH(async a=>(a>0&&await oH(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ga})),(a,s)=>{const i=200*Math.pow(2,a);return s&&my(s)&&Date.now()+i-n<gc})}catch(n){if(this._debug(r,"error",n),Ne(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Vo(this.storage,this.storageKey);if(a&&this.userStorage){let i=await Vo(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await xc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:vy()}else if(a&&!a.user&&!a.user){const i=await Vo(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await Gr(this.storage,this.storageKey+"-user"),await xc(this.storage,this.storageKey,a)):a.user=vy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${hy}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),my(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ta;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new hg;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new ta;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Ne(s)){const i={data:null,error:s};return my(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Gr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=yT(a);await xc(this.storage,this.storageKey,s)}else{const a=yT(r);await xc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),gc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/gc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${gc}ms, refresh threshold is ${Cb} ticks`),a<=Cb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof lM)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await sc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Oe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Oe(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?LH(t.webauthn.credential_response):BH(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await Oe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:RH(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:FH(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:p}=Hh(t);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:g},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(k=>k.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(Ne(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Hh(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ta})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ta});const i=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ta});const i=await Oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&Yr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Oe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ta})})}catch(t){if(Ne(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Oe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ta})})}catch(r){if(Ne(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+GW>a)return n;const{data:s,error:i}=await Oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=Hh(n);r!=null&&r.allowExpired||mH(s.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const u=vH(a.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,rH(`${o}.${l}`)))throw new jb("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Ne(n))return this._returnResult({data:null,error:n});throw n}}}Pf.nextInstanceID={};const qH=Pf,YH="2.93.1";let kd="";typeof Deno<"u"?kd="deno":typeof document<"u"?kd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?kd="react-native":kd="node";function XH(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function JH(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function QH(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function ZH(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function eK(){const e={"X-Client-Info":`supabase-js-${kd}/${YH}`},t=XH();t&&(e["X-Supabase-Client-Platform"]=t);const r=JH();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=QH();n&&(e["X-Supabase-Client-Runtime"]=n);const a=ZH();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const tK=eK(),rK={headers:tK},nK={schema:"public"},aK={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sK={};function Nf(e){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nf(e)}function iK(e,t){if(Nf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oK(e){var t=iK(e,"string");return Nf(t)=="symbol"?t:t+""}function lK(e,t,r){return(t=oK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CT(Object(r),!0).forEach(function(n){lK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const cK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uK=()=>Headers,dK=(e,t,r)=>{const n=cK(r),a=uK();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,Yt(Yt({},i),{},{headers:c}))}};function fK(e){return e.endsWith("/")?e:e+"/"}function hK(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:Yt(Yt({},l),a),auth:Yt(Yt({},c),s),realtime:Yt(Yt({},u),i),storage:{},global:Yt(Yt(Yt({},f),o),{},{headers:Yt(Yt({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function pK(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(fK(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var mK=class extends qH{constructor(e){super(e)}},vK=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=pK(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:nK,realtime:sK,auth:Yt(Yt({},aK),{},{storageKey:i}),global:rK},l=hK(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=dK(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Yt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new qV(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new zW(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new VV(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:i,lock:o,debug:l,throwOnError:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mK({url:this.authUrl.href,headers:Yt(Yt({},h),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:i,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new dW(this.realtimeUrl.href,Yt(Yt({},e),{},{params:Yt(Yt({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const gK=(e,t,r)=>new vK(e,t,r);function xK(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}xK()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const yK="https://mipiwxadnpwtcgfcedym.supabase.co",bK="sb_publishable_kOxFYyTTDbp9sHMhol9aDQ_SrGUsrmc",ns=gK(yK,bK),dM=w.createContext(void 0),wK=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!0);w.useEffect(()=>{ns.auth.getSession().then(({data:{session:u}})=>{a(u),r((u==null?void 0:u.user)??null),i(!1)});const{data:{subscription:c}}=ns.auth.onAuthStateChange((u,f)=>{a(f),r((f==null?void 0:f.user)??null),i(!1)});return()=>c.unsubscribe()},[]);const o=async c=>{const{error:u}=await ns.auth.signInWithOtp({email:c,options:{emailRedirectTo:window.location.origin}});if(u)throw u},l=async()=>{await ns.auth.signOut()};return d.jsx(dM.Provider,{value:{user:t,session:n,loading:s,signInWithEmail:o,signOut:l},children:e})},b_=()=>{const e=w.useContext(dM);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},_K=()=>{const{signInWithEmail:e,loading:t}=b_(),[r,n]=w.useState(""),[a,s]=w.useState(!1),[i,o]=w.useState(!1),[l,c]=w.useState(null),u=async f=>{f.preventDefault(),s(!0),c(null);try{await e(r),o(!0)}catch(h){c(h.message||"Erro ao enviar email")}finally{s(!1)}};return t?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(yo,{className:"animate-spin text-blue-500 w-8 h-8"})}):d.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900 p-4",children:d.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsxs("div",{className:"mb-8 flex flex-col items-center justify-center animate-fade-in select-none",children:[d.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-cyan-500 p-5 rounded-2xl shadow-2xl shadow-blue-500/20 mb-5 transform hover:scale-110 transition-all duration-300 border border-white/10 group cursor-default relative overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-500 backdrop-blur-sm"}),d.jsx(fa,{size:40,className:"text-white relative z-10 drop-shadow-md",strokeWidth:3})]}),d.jsxs("h1",{className:"text-4xl font-black text-white tracking-tighter mb-1 flex items-baseline justify-center gap-3",children:[d.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-cyan-300 to-white drop-shadow-sm",children:"GaaS"}),d.jsx("span",{className:"text-lg font-light tracking-[0.3em] text-slate-300",children:"AFINZ"})]}),d.jsx("div",{className:"h-0.5 w-24 bg-gradient-to-r from-transparent via-blue-500/50 to-transparent rounded-full mt-2"})]}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Login Corporativo"}),d.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Acesse a rea segura para sincronizar dados e gerenciar arquivos na nuvem."}),i?d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 p-6 rounded-xl text-sm border border-emerald-500/20 animate-fade-in text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-emerald-300",children:[d.jsx(yn,{size:18}),d.jsx("span",{children:"Link Enviado!"})]}),d.jsx("p",{className:"mb-2",children:"Enviamos um link de acesso mgico para:"}),d.jsx("code",{className:"block bg-black/20 p-2 rounded text-emerald-200 mb-4 font-mono",children:r}),d.jsx("p",{className:"text-xs opacity-80",children:"Verifique sua caixa de entrada (e spam) e clique no link para entrar."})]}):d.jsxs("form",{onSubmit:u,className:"space-y-5",children:[d.jsxs("div",{className:"text-left group",children:[d.jsxs("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-2 tracking-wider ml-1",children:["Email ",d.jsx("span",{className:"opacity-50",children:"(@afinz.com.br)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(Hz,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-blue-400 transition-colors"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-900/50 border border-slate-700 text-white pl-11 pr-4 py-3 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"seu.nome@afinz.com.br",value:r,onChange:f=>n(f.target.value)})]})]}),l&&d.jsxs("div",{className:"text-xs text-red-200 bg-red-500/20 p-3 rounded-lg flex items-center gap-2 border border-red-500/30",children:[d.jsx(Ul,{size:14}),l]}),d.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/25 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:a?d.jsx(yo,{className:"animate-spin w-5 h-5"}):d.jsxs(d.Fragment,{children:["Receber Link de Acesso",d.jsx(u_,{size:18})]})})]}),d.jsxs("p",{className:"mt-8 text-xs text-slate-500 flex items-center justify-center gap-1.5 opacity-60",children:[d.jsx(vV,{size:12}),"Ambiente Seguro & Criptografado"]})]})]})})};function fM(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=fM(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function He(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=fM(e))&&(n&&(n+=" "),n+=t);return n}var kK=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function w_(e){if(typeof e!="string")return!1;var t=kK;return t.includes(e)}var SK=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],EK=new Set(SK);function hM(e){return typeof e!="string"?!1:EK.has(e)}function pM(e){return typeof e=="string"&&e.startsWith("data-")}function sn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hM(r)||pM(r))&&(t[r]=e[r]);return t}function bo(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return sn(t)}return typeof e=="object"&&!Array.isArray(e)?sn(e):null}function on(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(hM(r)||pM(r)||w_(r))&&(t[r]=e[r]);return t}function CK(e){return e==null?null:w.isValidElement(e)?on(e.props):typeof e=="object"&&!Array.isArray(e)?on(e):null}var TK=["children","width","height","viewBox","className","style","title","desc"];function Pb(){return Pb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pb.apply(null,arguments)}function AK(e,t){if(e==null)return{};var r,n,a=jK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function jK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var __=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,u=AK(e,TK),f=s||{width:n,height:a,x:0,y:0},h=He("recharts-surface",i);return w.createElement("svg",Pb({},on(u),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,l),w.createElement("desc",null,c),r)}),PK=["children","className"];function Nb(){return Nb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nb.apply(null,arguments)}function NK(e,t){if(e==null)return{};var r,n,a=OK(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ft=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=NK(e,PK),s=He("recharts-layer",n);return w.createElement("g",Nb({className:s},on(a),{ref:t}),r)}),mM=w.createContext(null),DK=()=>w.useContext(mM);function xt(e){return function(){return e}}const vM=Math.cos,Em=Math.sin,ds=Math.sqrt,Cm=Math.PI,pg=2*Cm,Ob=Math.PI,Db=2*Ob,qo=1e-6,MK=Db-qo;function gM(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function IK(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return gM;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class RK{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?gM:IK(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,c=a-r,u=i-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>qo)if(!(Math.abs(f*l-c*u)>qo)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-o,v=l*l+c*c,g=p*p+m*m,x=Math.sqrt(v),b=Math.sqrt(h),y=s*Math.tan((Ob-Math.acos((v+h-g)/(2*x*b)))/2),k=y/b,E=y/x;Math.abs(k-1)>qo&&this._append`L${t+k*u},${r+k*f}`,this._append`A${s},${s},0,0,${+(f*p>u*m)},${this._x1=t+E*l},${this._y1=r+E*c}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>qo||Math.abs(this._y1-u)>qo)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%Db+Db),h>MK?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>qo&&this._append`A${n},${n},0,${+(h>=Ob)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function k_(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new RK(t)}function S_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xM(e){this._context=e}xM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mg(e){return new xM(e)}function yM(e){return e[0]}function bM(e){return e[1]}function wM(e,t){var r=xt(!0),n=null,a=mg,s=null,i=k_(o);e=typeof e=="function"?e:e===void 0?yM:xt(e),t=typeof t=="function"?t:t===void 0?bM:xt(t);function o(l){var c,u=(l=S_(l)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,l),+t(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:xt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:xt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:xt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function Kh(e,t,r){var n=null,a=xt(!0),s=null,i=mg,o=null,l=k_(c);e=typeof e=="function"?e:e===void 0?yM:xt(+e),t=typeof t=="function"?t:xt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?bM:xt(+r);function c(f){var h,p,m,v=(f=S_(f)).length,g,x=!1,b,y=new Array(v),k=new Array(v);for(s==null&&(o=i(b=l())),h=0;h<=v;++h){if(!(h<v&&a(g=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],k[m]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(g,h,f),k[h]=+t(g,h,f),o.point(n?+n(g,h,f):y[h],r?+r(g,h,f):k[h]))}if(b)return o=null,b+""||null}function u(){return wM().defined(a).curve(i).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:xt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:xt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:xt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:xt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:xt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),c):i},c.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),c):s},c}class _M{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function FK(e){return new _M(e,!0)}function LK(e){return new _M(e,!1)}const E_={draw(e,t){const r=ds(t/Cm);e.moveTo(r,0),e.arc(0,0,r,0,pg)}},BK={draw(e,t){const r=ds(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},kM=ds(1/3),$K=kM*2,UK={draw(e,t){const r=ds(t/$K),n=r*kM;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},zK={draw(e,t){const r=ds(t),n=-r/2;e.rect(n,n,r,r)}},VK=.8908130915292852,SM=Em(Cm/10)/Em(7*Cm/10),WK=Em(pg/10)*SM,HK=-vM(pg/10)*SM,KK={draw(e,t){const r=ds(t*VK),n=WK*r,a=HK*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=pg*s/5,o=vM(i),l=Em(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},xy=ds(3),GK={draw(e,t){const r=-ds(t/(xy*3));e.moveTo(0,r*2),e.lineTo(-xy*r,-r),e.lineTo(xy*r,-r),e.closePath()}},xa=-.5,ya=ds(3)/2,Mb=1/ds(12),qK=(Mb/2+1)*3,YK={draw(e,t){const r=ds(t/qK),n=r/2,a=r*Mb,s=n,i=r*Mb+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(xa*n-ya*a,ya*n+xa*a),e.lineTo(xa*s-ya*i,ya*s+xa*i),e.lineTo(xa*o-ya*l,ya*o+xa*l),e.lineTo(xa*n+ya*a,xa*a-ya*n),e.lineTo(xa*s+ya*i,xa*i-ya*s),e.lineTo(xa*o+ya*l,xa*l-ya*o),e.closePath()}};function XK(e,t){let r=null,n=k_(a);e=typeof e=="function"?e:xt(e||E_),t=typeof t=="function"?t:xt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:xt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:xt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Tm(){}function Am(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function EM(e){this._context=e}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Am(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Am(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function JK(e){return new EM(e)}function CM(e){this._context=e}CM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Am(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QK(e){return new CM(e)}function TM(e){this._context=e}TM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Am(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZK(e){return new TM(e)}function AM(e){this._context=e}AM.prototype={areaStart:Tm,areaEnd:Tm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function eG(e){return new AM(e)}function TT(e){return e<0?-1:1}function AT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(TT(s)+TT(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function jT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function yy(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function jm(e){this._context=e}jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yy(this,this._t0,jT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,yy(this,jT(this,r=AT(this,e,t)),r);break;default:yy(this,this._t0,r=AT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jM(e){this._context=new PM(e)}(jM.prototype=Object.create(jm.prototype)).point=function(e,t){jm.prototype.point.call(this,t,e)};function PM(e){this._context=e}PM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function tG(e){return new jm(e)}function rG(e){return new jM(e)}function NM(e){this._context=e}NM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PT(e),a=PT(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PT(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function nG(e){return new NM(e)}function vg(e,t){this._context=e,this._t=t}vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function aG(e){return new vg(e,.5)}function sG(e){return new vg(e,0)}function iG(e){return new vg(e,1)}function uu(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Ib(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function oG(e,t){return e[t]}function lG(e){const t=[];return t.key=e,t}function cG(){var e=xt([]),t=Ib,r=uu,n=oG;function a(s){var i=Array.from(e.apply(this,arguments),lG),o,l=i.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(i[o][c]=[0,+n(f,i[o].key,c,s)]).data=f;for(o=0,u=S_(t(i));o<l;++o)i[u[o]].index=o;return r(i,u),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:xt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:xt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Ib:typeof s=="function"?s:xt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??uu,a):r},a}function uG(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}uu(e,t)}}function dG(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}uu(e,t)}}function fG(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var v=e[t[m]],g=v[n][1]||0,x=v[n-1][1]||0;p+=g-x}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,uu(e,t)}}var gg={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(OM);var C_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(C_);var xg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(xg);var yg={},DM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(DM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DM,r=xg;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let o=0,l="",c="",u=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];c?f==="\\"&&o+1<i?(o++,l+=a[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,s.push(l),l=""):l+=f:f==="["?(u=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}e.toPath=n})(yg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=C_,n=xg,a=yg;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?s(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return i(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function i(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=s})(gg);var hG=gg.get;const Tl=Bs(hG);var zr=e=>e===0?0:e>0?1:-1,Zn=e=>typeof e=="number"&&e!=+e,wi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!Zn(e),Ra=e=>_e(e)||typeof e=="string",pG=0,Of=e=>{var t=++pG;return"".concat(e||"").concat(t)},kn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return n;var s;if(wi(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return Zn(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},MM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function qe(e,t,r){return _e(e)&&_e(t)?e+r*(t-e):t}function IM(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Tl(n,t))===r)}var mG=e=>{for(var t=e.length,r=0,n=0,a=0,s=0,i=1/0,o=-1/0,l=0,c=0,u=0;u<t;u++)l=e[u].cx||0,c=e[u].cy||0,r+=l,n+=c,a+=l*c,s+=l*l,i=Math.min(i,l),o=Math.max(o,l);var f=t*s!==r*r?(t*a-r*n)/(t*s-r*r):0;return{xmin:i,xmax:o,a:f,b:(n-f*r)/t}},it=e=>e===null||typeof e>"u",T0=e=>it(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function vG(e){return e!=null}function A0(){}var gG=["type","size","sizeType"];function Rb(){return Rb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rb.apply(null,arguments)}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){xG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xG(e,t,r){return(t=yG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yG(e){var t=bG(e,"string");return typeof t=="symbol"?t:t+""}function bG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t){if(e==null)return{};var r,n,a=_G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RM={symbolCircle:E_,symbolCross:BK,symbolDiamond:UK,symbolSquare:zK,symbolStar:KK,symbolTriangle:GK,symbolWye:YK},kG=Math.PI/180,SG=e=>{var t="symbol".concat(T0(e));return RM[t]||E_},EG=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*kG;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},CG=(e,t)=>{RM["symbol".concat(T0(e))]=t},bg=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=wG(e,gG),s=OT(OT({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var o=()=>{var h=SG(i),p=XK().type(h).size(EG(r,n,i)),m=p();if(m!==null)return m},{className:l,cx:c,cy:u}=s,f=on(s);return _e(c)&&_e(u)&&_e(r)?w.createElement("path",Rb({},f,{className:He("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};bg.registerSymbol=CG;var FM=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,T_=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{w_(a)&&(n[a]=s=>r[a](r,s))}),n},TG=(e,t,r)=>n=>(e(t,r,n),null),Nu=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];w_(a)&&typeof s=="function"&&(n||(n={}),n[a]=TG(s,t,r))}),n},AG=e=>Array.isArray(e)&&e.length>0;function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=NG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pt(e,t){var r=jG({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}function Pm(){return Pm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pm.apply(null,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ka=32,FG={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function LG(e){var{data:t,iconType:r,inactiveColor:n}=e,a=ka/2,s=ka/6,i=ka/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:ka,y2:a,className:"recharts-legend-icon"})}if(l==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(ka,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(ka/8,"h").concat(ka,"v").concat(ka*3/4,"h").concat(-ka,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=DG({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(bg,{fill:o,cx:a,cy:a,size:ka,sizeType:"diameter",type:l})}function BG(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,o={x:0,y:0,width:ka,height:ka},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,p=He({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,v=h?h(u.value,u,f):u.value;return w.createElement("li",Pm({className:p,style:l,key:"legend-item-".concat(f)},Nu(e,u,f)),w.createElement(__,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},w.createElement(LG,{data:u,iconType:i,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v))})}var $G=e=>{var t=Pt(e,FG),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(BG,Pm({},t,{payload:r})))},LM={},BM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t})(BM);var A_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(A_);var $M={},wg={},UM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(UM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(wg);var zM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(zM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wg,r=zM;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})($M);var VM={},WM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gg;function r(n){return function(a){return t.get(a,n)}}e.property=r})(WM);var HM={},j_={},KM={},P_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(P_);var N_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(N_);var O_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(O_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P_,r=N_,n=O_;function a(u,f,h){return typeof h!="function"?a(u,f,()=>{}):s(u,f,function p(m,v,g,x,b,y){const k=h(m,v,g,x,b,y);return k!==void 0?!!k:s(m,v,p,y)},new Map)}function s(u,f,h,p){if(f===u)return!0;switch(typeof f){case"object":return i(u,f,h,p);case"function":return Object.keys(f).length>0?s(u,{...f},h,p):n.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.eq(u,f)}}function i(u,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(u,f,h,p);if(f instanceof Map)return o(u,f,h,p);if(f instanceof Set)return c(u,f,h,p);const m=Object.keys(f);if(u==null)return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===u;p==null||p.set(f,u);try{for(let v=0;v<m.length;v++){const g=m[v];if(!r.isPrimitive(u)&&!(g in u)||f[g]===void 0&&u[g]!==void 0||f[g]===null&&u[g]!==null||!h(u[g],f[g],g,u,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(u,f,h,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[m,v]of f.entries()){const g=u.get(m);if(h(g,v,m,u,f,p)===!1)return!1}return!0}function l(u,f,h,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const m=new Set;for(let v=0;v<f.length;v++){const g=f[v];let x=!1;for(let b=0;b<u.length;b++){if(m.has(b))continue;const y=u[b];let k=!1;if(h(y,g,v,u,f,p)&&(k=!0),k){m.add(b),x=!0;break}}if(!x)return!1}return!0}function c(u,f,h,p){return f.size===0?!0:u instanceof Set?l([...u],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=c})(KM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KM;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(j_);var GM={},D_={},qM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(qM);var M_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(M_);var I_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",g="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",y="[object Uint32Array]",k="[object BigUint64Array]",E="[object Int8Array]",_="[object Int16Array]",S="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",j="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=k,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=T,e.float64ArrayTag=j,e.functionTag=f,e.int16ArrayTag=_,e.int32ArrayTag=S,e.int8ArrayTag=E,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=y,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=x})(I_);var YM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(YM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qM,r=M_,n=I_,a=N_,s=YM;function i(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,p=new Map,m=void 0){const v=m==null?void 0:m(u,f,h,p);if(v!==void 0)return v;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const g=new Array(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;p.set(u,g);for(const[x,b]of u)g.set(x,o(b,x,h,p,m));return g}if(u instanceof Set){const g=new Set;p.set(u,g);for(const x of u)g.add(o(x,void 0,h,p,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,g),l(g,u,h,p,m),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(typeof Blob<"u"&&u instanceof Blob){const g=new Blob([u],{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Error){const g=new u.constructor;return p.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,l(g,u,h,p,m),g}if(u instanceof Boolean){const g=new Boolean(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Number){const g=new Number(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof String){const g=new String(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(typeof u=="object"&&c(u)){const g=Object.create(Object.getPrototypeOf(u));return p.set(u,g),l(g,u,h,p,m),g}return u}function l(u,f,h=u,p,m){const v=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<v.length;g++){const x=v[g],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=o(f[x],x,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l})(D_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(GM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_,r=GM;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(HM);var XM={},JM={},QM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D_,r=I_;function n(a,s){return t.cloneDeepWith(a,(i,o,l,c)=>{const u=s==null?void 0:s(i,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(QM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QM;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(JM);var ZM={},R_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(R_);var eI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M_;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(eI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C_,r=R_,n=eI,a=yg;function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=i;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(ZM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=j_,r=xg,n=JM,a=gg,s=ZM;function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=i})(XM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A_,r=WM,n=HM,a=XM;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(VM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BM,r=A_,n=$M,a=VM;function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s})(LM);var UG=LM.uniqBy;const IT=Bs(UG);function tI(e,t,r){return t===!0?IT(e,r):typeof t=="function"?IT(e,t):e}var rI={exports:{}},nI={},aI={exports:{}},sI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=w;function zG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VG=typeof Object.is=="function"?Object.is:zG,WG=du.useState,HG=du.useEffect,KG=du.useLayoutEffect,GG=du.useDebugValue;function qG(e,t){var r=t(),n=WG({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return KG(function(){a.value=r,a.getSnapshot=t,by(a)&&s({inst:a})},[e,r,t]),HG(function(){return by(a)&&s({inst:a}),e(function(){by(a)&&s({inst:a})})},[e]),GG(r),r}function by(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VG(e,r)}catch{return!0}}function YG(e,t){return t()}var XG=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?YG:qG;sI.useSyncExternalStore=du.useSyncExternalStore!==void 0?du.useSyncExternalStore:XG;aI.exports=sI;var JG=aI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=w,QG=JG;function ZG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var eq=typeof Object.is=="function"?Object.is:ZG,tq=QG.useSyncExternalStore,rq=_g.useRef,nq=_g.useEffect,aq=_g.useMemo,sq=_g.useDebugValue;nI.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=rq(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=aq(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,eq(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=tq(e,s[0],s[1]);return nq(function(){i.hasValue=!0,i.value=o},[o]),sq(o),o};rI.exports=nI;var iq=rI.exports,F_=w.createContext(null),oq=e=>e,mt=()=>{var e=w.useContext(F_);return e?e.store.dispatch:oq},Up=()=>{},lq=()=>Up,cq=(e,t)=>e===t;function ye(e){var t=w.useContext(F_);return iq.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:lq,t?t.store.getState:Up,t?t.store.getState:Up,t?e:Up,cq)}function uq(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function dq(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function fq(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var RT=e=>Array.isArray(e)?e:[e];function hq(e){const t=Array.isArray(e[0])?e[0]:e;return fq(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function pq(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var mq=class{constructor(e){this.value=e}deref(){return this.value}},vq=typeof WeakRef<"u"?WeakRef:mq,gq=0,FT=1;function Gh(){return{s:gq,v:void 0,o:null,p:null}}function iI(e,t={}){let r=Gh();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=Gh(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=Gh(),v.set(m,o)):o=g}}const c=o;let u;if(o.s===FT)u=o.v;else if(u=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,s!==0&&s--),a=typeof u=="object"&&u!==null||typeof u=="function"?new vq(u):u}return c.s=FT,c.v=u,u}return i.clearCache=()=>{r=Gh(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function xq(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),uq(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=iI,argsMemoizeOptions:m=[]}=u,v=RT(h),g=RT(m),x=hq(a),b=f(function(){return s++,c.apply(null,arguments)},...v),y=p(function(){i++;const E=pq(x,arguments);return o=b.apply(null,E),o},...g);return Object.assign(y,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var Z=xq(iI),yq=Object.assign((e,t=Z)=>{dq(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>yq}),oI={},lI={},cI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r})(cI);var uI={},L_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(L_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L_,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(uI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cI,r=uI,n=yg;function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,m)=>{let v=p;for(let g=0;g<m.length&&v!=null;++g)v=v[m[g]];return v},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let v=0;v<f.length;v++){const g=t.compareValues(p.criteria[v],m.criteria[v],o[v]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=a})(lI);var dI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?i(u,l+1):a.push(u)}};return i(r,0),a}e.flatten=t})(dI);var B_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R_,r=wg,n=P_,a=O_;function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s})(B_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lI,r=dI,n=B_;function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(oI);var bq=oI.sortBy;const kg=Bs(bq);var fI=e=>e.legend.settings,wq=e=>e.legend.size,_q=e=>e.legend.payload,kq=Z([_q,fI],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?kg(n,r):n});function Sq(){return ye(kq)}var qh=1;function hI(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>qh||Math.abs(i.left-t.left)>qh||Math.abs(i.top-t.top)>qh||Math.abs(i.width-t.width)>qh)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Xr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Eq=typeof Symbol=="function"&&Symbol.observable||"@@observable",LT=Eq,wy=()=>Math.random().toString(36).substring(7).split("").join("."),Cq={INIT:`@@redux/INIT${wy()}`,REPLACE:`@@redux/REPLACE${wy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wy()}`},Nm=Cq;function $_(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function pI(e,t,r){if(typeof e!="function")throw new Error(Xr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Xr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Xr(1));return r(pI)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function u(){if(l)throw new Error(Xr(3));return a}function f(g){if(typeof g!="function")throw new Error(Xr(4));if(l)throw new Error(Xr(5));let x=!0;c();const b=o++;return i.set(b,g),function(){if(x){if(l)throw new Error(Xr(6));x=!1,c(),i.delete(b),s=null}}}function h(g){if(!$_(g))throw new Error(Xr(7));if(typeof g.type>"u")throw new Error(Xr(8));if(typeof g.type!="string")throw new Error(Xr(17));if(l)throw new Error(Xr(9));try{l=!0,a=n(a,g)}finally{l=!1}return(s=i).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(Xr(10));n=g,h({type:Nm.REPLACE})}function m(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Xr(11));function b(){const k=x;k.next&&k.next(u())}return b(),{unsubscribe:g(b)}},[LT](){return this}}}return h({type:Nm.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[LT]:m}}function Tq(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nm.INIT})>"u")throw new Error(Xr(12));if(typeof r(void 0,{type:Nm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Xr(13))})}function mI(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{Tq(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=i[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(Xr(14));c[f]=m,l=l||m!==p}return l=l||n.length!==Object.keys(i).length,l?c:i}}function Om(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Aq(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(Xr(15))};const i={getState:a.getState,dispatch:(l,...c)=>s(l,...c)},o=e.map(l=>l(i));return s=Om(...o)(a.dispatch),{...a,dispatch:s}}}function vI(e){return $_(e)&&"type"in e&&typeof e.type=="string"}var gI=Symbol.for("immer-nothing"),BT=Symbol.for("immer-draftable"),Ln=Symbol.for("immer-state");function Za(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var la=Object,fu=la.getPrototypeOf,Dm="constructor",Sg="prototype",Fb="configurable",Mm="enumerable",zp="writable",Df="value",_i=e=>!!e&&!!e[Ln];function Ns(e){var t;return e?xI(e)||Eg(e)||!!e[BT]||!!((t=e[Dm])!=null&&t[BT])||Cg(e)||Tg(e):!1}var jq=la[Sg][Dm].toString(),$T=new WeakMap;function xI(e){if(!e||!U_(e))return!1;const t=fu(e);if(t===null||t===la[Sg])return!0;const r=la.hasOwnProperty.call(t,Dm)&&t[Dm];if(r===Object)return!0;if(!yc(r))return!1;let n=$T.get(r);return n===void 0&&(n=Function.toString.call(r),$T.set(r,n)),n===jq}function j0(e,t,r=!0){P0(e)===0?(r?Reflect.ownKeys(e):la.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function P0(e){const t=e[Ln];return t?t.type_:Eg(e)?1:Cg(e)?2:Tg(e)?3:0}var UT=(e,t,r=P0(e))=>r===2?e.has(t):la[Sg].hasOwnProperty.call(e,t),Lb=(e,t,r=P0(e))=>r===2?e.get(t):e[t],Im=(e,t,r,n=P0(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Pq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Eg=Array.isArray,Cg=e=>e instanceof Map,Tg=e=>e instanceof Set,U_=e=>typeof e=="object",yc=e=>typeof e=="function",_y=e=>typeof e=="boolean",Js=e=>e.copy_||e.base_,z_=e=>e.modified_?e.copy_:e.base_;function Bb(e,t){if(Cg(e))return new Map(e);if(Tg(e))return new Set(e);if(Eg(e))return Array[Sg].slice.call(e);const r=xI(e);if(t===!0||t==="class_only"&&!r){const n=la.getOwnPropertyDescriptors(e);delete n[Ln];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o[zp]===!1&&(o[zp]=!0,o[Fb]=!0),(o.get||o.set)&&(n[i]={[Fb]:!0,[zp]:!0,[Mm]:o[Mm],[Df]:e[i]})}return la.create(fu(e),n)}else{const n=fu(e);if(n!==null&&r)return{...e};const a=la.create(n);return la.assign(a,e)}}function V_(e,t=!1){return Ag(e)||_i(e)||(P0(e)>1&&la.defineProperties(e,{set:Yh,add:Yh,clear:Yh,delete:Yh}),la.freeze(e),t&&j0(e,(r,n)=>{V_(n,!0)},!1)),e}function Nq(){Za(2)}var Yh={[Df]:Nq};function Ag(e){return e===null||!U_(e)?!0:la.isFrozen(e)}var Rm="MapSet",$b="Patches",yI={};function hu(e){const t=yI[e];return t||Za(0,e),t}var Oq=e=>!!yI[e],Mf,bI=()=>Mf,Dq=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Oq(Rm)?hu(Rm):void 0});function zT(e,t){t&&(e.patchPlugin_=hu($b),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ub(e){zb(e),e.drafts_.forEach(Mq),e.drafts_=null}function zb(e){e===Mf&&(Mf=e.parent_)}var VT=e=>Mf=Dq(Mf,e);function Mq(e){const t=e[Ln];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function WT(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Ln].modified_&&(Ub(t),Za(4)),Ns(e)&&(e=HT(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Ln].base_,e,t)}else e=HT(t,r);return Iq(t,e,!0),Ub(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gI?e:void 0}function HT(e,t){if(Ag(t))return t;const r=t[Ln];if(!r)return W_(t,e.handledSet_,e);if(!jg(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);kI(r,e)}return r.copy_}function Iq(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&V_(t,r)}function wI(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jg=(e,t)=>e.scope_===t,Rq=[];function _I(e,t,r,n){const a=Js(e),s=e.type_;if(n!==void 0&&Lb(a,n,s)===t){Im(a,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;j0(a,(l,c)=>{if(_i(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const i=e.draftLocations_.get(t)??Rq;for(const o of i)Im(a,o,r,s)}function Fq(e,t,r){e.callbacks_.push(function(a){var o;const s=t;if(!s||!jg(s,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(s);const i=z_(s);_I(e,s.draft_??s,i,r),kI(s,a)})}function kI(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}wI(e)}}function Lq(e,t,r){const{scope_:n}=e;if(_i(r)){const a=r[Ln];jg(a,n)&&a.callbacks_.push(function(){Vp(e);const i=z_(a);_I(e,r,i,t)})}else Ns(r)&&e.callbacks_.push(function(){const s=Js(e);Lb(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&W_(Lb(e.copy_,t,e.type_),n.handledSet_,n)})}function W_(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||_i(e)||t.has(e)||!Ns(e)||Ag(e)||(t.add(e),j0(e,(n,a)=>{if(_i(a)){const s=a[Ln];if(jg(s,r)){const i=z_(s);Im(e,n,i,e.type_),wI(s)}}else Ns(a)&&W_(a,t,r)})),e}function Bq(e,t){const r=Eg(e),n={type_:r?1:0,scope_:t?t.scope_:bI(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=H_;r&&(a=[n],s=If);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}var H_={get(e,t){if(t===Ln)return e;const r=Js(e);if(!UT(r,t,e.type_))return $q(e,r,t);const n=r[t];if(e.finalized_||!Ns(n))return n;if(n===ky(e.base_,t)){Vp(e);const a=e.type_===1?+t:t,s=Wb(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in Js(e)},ownKeys(e){return Reflect.ownKeys(Js(e))},set(e,t,r){const n=SI(Js(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=ky(Js(e),t),s=a==null?void 0:a[Ln];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Pq(r,a)&&(r!==void 0||UT(e.base_,t,e.type_)))return!0;Vp(e),Vb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Lq(e,t,r)),!0},deleteProperty(e,t){return Vp(e),ky(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Vb(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Js(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[zp]:!0,[Fb]:e.type_!==1||t!=="length",[Mm]:n[Mm],[Df]:r[t]}},defineProperty(){Za(11)},getPrototypeOf(e){return fu(e.base_)},setPrototypeOf(){Za(12)}},If={};j0(H_,(e,t)=>{If[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});If.deleteProperty=function(e,t){return If.set.call(this,e,t,void 0)};If.set=function(e,t,r){return H_.set.call(this,e[0],t,r,e[0])};function ky(e,t){const r=e[Ln];return(r?Js(r):e)[t]}function $q(e,t,r){var a;const n=SI(t,r);return n?Df in n?n[Df]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function SI(e,t){if(!(t in e))return;let r=fu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=fu(r)}}function Vb(e){e.modified_||(e.modified_=!0,e.parent_&&Vb(e.parent_))}function Vp(e){e.copy_||(e.assigned_=new Map,e.copy_=Bb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Uq=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(yc(r)&&!yc(n)){const i=n;n=r;const o=this;return function(c=i,...u){return o.produce(c,f=>n.call(this,f,...u))}}yc(n)||Za(6),a!==void 0&&!yc(a)&&Za(7);let s;if(Ns(r)){const i=VT(this),o=Wb(i,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?Ub(i):zb(i)}return zT(i,a),WT(s,i)}else if(!r||!U_(r)){if(s=n(r),s===void 0&&(s=r),s===gI&&(s=void 0),this.autoFreeze_&&V_(s,!0),a){const i=[],o=[];hu($b).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:o}),a(i,o)}return s}else Za(1,r)},this.produceWithPatches=(r,n)=>{if(yc(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let a,s;return[this.produce(r,n,(o,l)=>{a=o,s=l}),a,s]},_y(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),_y(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),_y(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ns(t)||Za(8),_i(t)&&(t=ls(t));const r=VT(this),n=Wb(r,t,void 0);return n[Ln].isManual_=!0,zb(r),n}finishDraft(t,r){const n=t&&t[Ln];(!n||!n.isManual_)&&Za(9);const{scope_:a}=n;return zT(a,r),WT(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=hu($b).applyPatches_;return _i(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Wb(e,t,r,n){const[a,s]=Cg(t)?hu(Rm).proxyMap_(t,r):Tg(t)?hu(Rm).proxySet_(t,r):Bq(t,r);return((r==null?void 0:r.scope_)??bI()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?Fq(r,s,n):s.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),a}function ls(e){return _i(e)||Za(10,e),EI(e)}function EI(e){if(!Ns(e)||Ag(e))return e;const t=e[Ln];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Bb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Bb(e,!0);return j0(r,(a,s)=>{Im(r,a,EI(s))},n),t&&(t.finalized_=!1),r}var zq=new Uq,CI=zq.produce;function TI(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var Vq=TI(),Wq=TI,Hq=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Om:Om.apply(null,arguments)};function Fa(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ua(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>vI(n)&&n.type===e,r}var AI=class Sd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Sd.prototype)}static get[Symbol.species](){return Sd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Sd(...t[0].concat(this)):new Sd(...t.concat(this))}};function KT(e){return Ns(e)?CI(e,()=>{}):e}function Xh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Kq(e){return typeof e=="boolean"}var Gq=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new AI;return r&&(Kq(r)?i.push(Vq):i.push(Wq(r.extraArgument))),i},jI="RTK_autoBatch",Nt=()=>e=>({payload:e,meta:{[jI]:!0}}),GT=e=>t=>{setTimeout(t,e)},PI=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:GT(10):e.type==="callback"?e.queueNotification:GT(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[jI]),s=!a,s&&(i||(i=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},qq=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new AI(e);return n&&a.push(PI(typeof n=="object"?n:void 0)),a};function Yq(e){const t=Gq(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if($_(r))o=mI(r);else throw new Error(ua(1));let l;typeof n=="function"?l=n(t):l=t();let c=Om;a&&(c=Hq({trace:!1,...typeof a=="object"&&a}));const u=Aq(...l),f=qq(u);let h=typeof i=="function"?i(f):f();const p=c(...h);return pI(o,s,p)}function NI(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ua(28));if(o in t)throw new Error(ua(29));return t[o]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function Xq(e){return typeof e=="function"}function Jq(e,t){let[r,n,a]=NI(t),s;if(Xq(e))s=()=>KT(e());else{const o=KT(e);s=()=>o}function i(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(_i(u)){const p=f(u,l);return p===void 0?u:p}else{if(Ns(u))return CI(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return i.getInitialState=s,i}var Qq="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Zq=(e=21)=>{let t="",r=e;for(;r--;)t+=Qq[Math.random()*64|0];return t},eY=Symbol.for("rtk-slice-createasyncthunk");function tY(e,t){return`${e}/${t}`}function rY({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[eY];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(ua(11));const o=(typeof a.reducers=="function"?a.reducers(aY()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(k,E){const _=typeof k=="string"?k:k.type;if(!_)throw new Error(ua(12));if(_ in c.sliceCaseReducersByType)throw new Error(ua(13));return c.sliceCaseReducersByType[_]=E,u},addMatcher(k,E){return c.sliceMatchers.push({matcher:k,reducer:E}),u},exposeAction(k,E){return c.actionCreators[k]=E,u},exposeCaseReducer(k,E){return c.sliceCaseReducersByName[k]=E,u}};l.forEach(k=>{const E=o[k],_={reducerName:k,type:tY(s,k),createNotation:typeof a.reducers=="function"};iY(E)?lY(_,E,u,t):sY(_,E,u)});function f(){const[k={},E=[],_=void 0]=typeof a.extraReducers=="function"?NI(a.extraReducers):[a.extraReducers],S={...k,...c.sliceCaseReducersByType};return Jq(a.initialState,C=>{for(let T in S)C.addCase(T,S[T]);for(let T of c.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of E)C.addMatcher(T.matcher,T.reducer);_&&C.addDefaultCase(_)})}const h=k=>k,p=new Map,m=new WeakMap;let v;function g(k,E){return v||(v=f()),v(k,E)}function x(){return v||(v=f()),v.getInitialState()}function b(k,E=!1){function _(C){let T=C[k];return typeof T>"u"&&E&&(T=Xh(m,_,x)),T}function S(C=h){const T=Xh(p,E,()=>new WeakMap);return Xh(T,C,()=>{const j={};for(const[P,A]of Object.entries(a.selectors??{}))j[P]=nY(A,C,()=>Xh(m,C,x),E);return j})}return{reducerPath:k,getSelectors:S,get selectors(){return S(_)},selectSlice:_}}const y={name:s,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(k,{reducerPath:E,..._}={}){const S=E??i;return k.inject({reducerPath:S,reducer:g},_),{...y,...b(S,!0)}}};return y}}function nY(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var ea=rY();function aY(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function sY({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!oY(n))throw new Error(ua(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Fa(e,i):Fa(e))}function iY(e){return e._reducerDefinitionType==="asyncThunk"}function oY(e){return e._reducerDefinitionType==="reducerWithPrepare"}function lY({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ua(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,s,u);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:i||Jh,pending:o||Jh,rejected:l||Jh,settled:c||Jh})}function Jh(){}var cY="task",OI="listener",DI="completed",K_="cancelled",uY=`task-${K_}`,dY=`task-${DI}`,Hb=`${OI}-${K_}`,fY=`${OI}-${DI}`,Pg=class{constructor(e){Fx(this,"name","TaskAbortError");Fx(this,"message");this.code=e,this.message=`${cY} ${K_} (reason: ${e})`}},G_=(e,t)=>{if(typeof e!="function")throw new TypeError(ua(32))},Fm=()=>{},MI=(e,t=Fm)=>(e.catch(t),e),II=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),hl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},pl=e=>{if(e.aborted){const{reason:t}=e;throw new Pg(t)}};function RI(e,t){let r=Fm;return new Promise((n,a)=>{const s=()=>a(new Pg(e.reason));if(e.aborted){s();return}r=II(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Fm})}var hY=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Pg?"cancelled":"rejected",error:r}}finally{t==null||t()}},Lm=e=>t=>MI(RI(e,t).then(r=>(pl(e),r))),FI=e=>{const t=Lm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Xc}=Object,qT={},Ng="listenerMiddleware",pY=(e,t)=>{const r=n=>II(e,()=>hl(n,e.reason));return(n,a)=>{G_(n);const s=new AbortController;r(s);const i=hY(async()=>{pl(e),pl(s.signal);const o=await n({pause:Lm(s.signal),delay:FI(s.signal),signal:s.signal});return pl(s.signal),o},()=>hl(s,dY));return a!=null&&a.autoJoin&&t.push(i.catch(Fm)),{result:Lm(e)(i),cancel(){hl(s,uY)}}}},mY=(e,t)=>{const r=async(n,a)=>{pl(t);let s=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await RI(t,Promise.race(o));return pl(t),l}finally{s()}};return(n,a)=>MI(r(n,a))},LI=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Fa(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ua(21));return G_(s),{predicate:a,type:t,effect:s}},BI=Xc(e=>{const{type:t,predicate:r,effect:n}=LI(e);return{id:Zq(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ua(22))}}},{withTypes:()=>BI}),YT=(e,t)=>{const{type:r,effect:n,predicate:a}=LI(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Kb=e=>{e.pending.forEach(t=>{hl(t,Hb)})},vY=(e,t)=>()=>{for(const r of t.keys())Kb(r);e.clear()},XT=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},$I=Xc(Fa(`${Ng}/add`),{withTypes:()=>$I}),gY=Fa(`${Ng}/removeAll`),UI=Xc(Fa(`${Ng}/remove`),{withTypes:()=>UI}),xY=(...e)=>{console.error(`${Ng}/error`,...e)},N0=(e={})=>{const t=new Map,r=new Map,n=p=>{const m=r.get(p)??0;r.set(p,m+1)},a=p=>{const m=r.get(p)??1;m===1?r.delete(p):r.set(p,m-1)},{extra:s,onError:i=xY}=e;G_(i);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Kb(p)}),l=p=>{const m=YT(t,p)??BI(p);return o(m)};Xc(l,{withTypes:()=>l});const c=p=>{const m=YT(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Kb(m)),!!m};Xc(c,{withTypes:()=>c});const u=async(p,m,v,g)=>{const x=new AbortController,b=mY(l,x.signal),y=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(m,Xc({},v,{getOriginalState:g,condition:(k,E)=>b(k,E).then(Boolean),take:b,delay:FI(x.signal),pause:Lm(x.signal),extra:s,signal:x.signal,fork:pY(x.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((k,E,_)=>{k!==x&&(hl(k,Hb),_.delete(k))})},cancel:()=>{hl(x,Hb),p.pending.delete(x)},throwIfCancelled:()=>{pl(x.signal)}})))}catch(k){k instanceof Pg||XT(i,k,{raisedBy:"effect"})}finally{await Promise.all(y),hl(x,fY),a(p),p.pending.delete(x)}},f=vY(t,r);return{middleware:p=>m=>v=>{if(!vI(v))return m(v);if($I.match(v))return l(v.payload);if(gY.match(v)){f();return}if(UI.match(v))return c(v.payload);let g=p.getState();const x=()=>{if(g===qT)throw new Error(ua(23));return g};let b;try{if(b=m(v),t.size>0){const y=p.getState(),k=Array.from(t.values());for(const E of k){let _=!1;try{_=E.predicate(v,y,g)}catch(S){_=!1,XT(i,S,{raisedBy:"predicate"})}_&&u(E,v,p,x)}}}finally{g=qT}return b},startListening:l,stopListening:c,clearListeners:f}};function ua(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var yY={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},zI=ea({name:"chartLayout",initialState:yY,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:bY,setLayout:wY,setChartSize:_Y,setScale:kY}=zI.actions,SY=zI.reducer;function VI(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ic(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ze(e,t,r){return it(e)||it(t)?r:Ra(t)?Tl(e,t,r):typeof t=="function"?t(e):r}var AY=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&_e(e[s]))return Ic(Ic({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&_e(e[i]))return Ic(Ic({},e),{},{[i]:e[i]+(a||0)})}return e},Us=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",WI=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},HI=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var m=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=a==="category"&&i.bandwidth?i.bandwidth()/m:0;if(v=p==="angleAxis"&&s&&s.length>=2?zr(s[0]-s[1])*2*v:v,f||h){var g=(f||h||[]).map((x,b)=>{var y=n?n.indexOf(x):x;return{coordinate:i(y)+v,value:x,offset:v,index:b}});return g.filter(x=>!Zn(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:i(x)+v,value:x,index:b,offset:v})):i.ticks&&u!=null?i.ticks(u).map((x,b)=>({coordinate:i(x)+v,value:x,offset:v,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+v,value:n?n[x]:x,index:b,offset:v}))},QT=1e-4,jY=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-QT,s=Math.max(n[0],n[1])+QT,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},PY=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(a[0]=r),(!_e(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},NY=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=Zn(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},OY=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=Zn(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},DY={sign:NY,expand:uG,none:uu,silhouette:dG,wiggle:fG,positive:OY},MY=(e,t,r)=>{var n=DY[r],a=cG().keys(t).value((s,i)=>Number(Ze(s,i,0))).order(Ib).offset(n);return a(e)};function KI(e){return e==null?void 0:String(e)}function pu(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!it(a[t.dataKey])){var o=IM(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=Ze(a,it(i)?t.dataKey:i);return it(l)?null:t.scale(l)}var ZT=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=Ze(s,t.dataKey,t.scale.domain()[i]);return it(o)?null:t.scale(o)-a/2+n},IY=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},RY=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},FY=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LY=(e,t,r)=>{if(e!=null)return FY(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,c)=>{var u=VI(c,t,r),f=RY(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},eA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wo=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=kg(t,u=>u.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function rA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Ic(Ic({},t),{},{dataKey:r,payload:n,value:a,name:s})}function zs(e,t){if(e)return String(e);if(typeof t=="string")return t}var BY=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},$Y=(e,t)=>t==="centric"?e.angle:e.radius,Mi=e=>e.layout.width,Ii=e=>e.layout.height,UY=e=>e.layout.scale,GI=e=>e.layout.margin,Og=Z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Dg=Z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),q_="data-recharts-item-index",Y_="data-recharts-item-data-key",O0=60;function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){zY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zY(e,t,r){return(t=VY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HY=e=>e.brush.height;function KY(e){var t=Dg(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:O0;return r+a}return r},0)}function GY(e){var t=Dg(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:O0;return r+a}return r},0)}function qY(e){var t=Og(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function YY(e){var t=Og(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Nr=Z([Mi,Ii,GI,HY,KY,GY,qY,YY,fI,wq],(e,t,r,n,a,s,i,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+o},h=Qh(Qh({},f),u),p=h.bottom;h.bottom+=n,h=AY(h,l,c);var m=e-h.left-h.right,v=t-h.top-h.bottom;return Qh(Qh({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(v,0)})}),XY=Z(Nr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),X_=Z(Mi,Ii,(e,t)=>({x:0,y:0,width:e,height:t})),JY=w.createContext(null),cr=()=>w.useContext(JY)!=null,Mg=e=>e.brush,Ig=Z([Mg,Nr,GI],(e,t,r)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:_e(e.width)?e.width:t.width})),qI={},YI={},XI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{c&&u(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{m(),i=void 0,o=null},g=()=>{u()},x=function(...b){if(a!=null&&a.aborted)return;i=this,o=b;const y=h==null;p(),l&&y&&u()};return x.schedule=p,x.cancel=v,x.flush=g,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(XI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XI;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);i&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...v){u=n.apply(this,v),f=null},a,{edges:c}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(YI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YI;function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r})(qI);var QY=qI.throttle;const ZY=Bs(QY);var Bm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},JI=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=wi(n)?e:Number(n),l=wi(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&l!=null&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},eX={width:0,height:0,overflow:"visible"},tX={width:0,overflowX:"visible"},rX={height:0,overflowY:"visible"},nX={},aX=e=>{var{width:t,height:r}=e,n=wi(t),a=wi(r);return n&&a?eX:n?tX:a?rX:nX};function sX(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function ct(e){return Number.isFinite(e)}function Os(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Gb(){return Gb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gb.apply(null,arguments)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){iX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iX(e,t,r){return(t=oX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oX(e){var t=lX(e,"string");return typeof t=="symbol"?t:t+""}function lX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QI=w.createContext({width:-1,height:-1});function cX(e){return Os(e.width)&&Os(e.height)}function ZI(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return cX(a)?w.createElement(QI.Provider,{value:a},t):null}var J_=()=>w.useContext(QI),uX=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,v=w.useRef(null),g=w.useRef();g.current=p,w.useImperativeHandle(t,()=>v.current);var[x,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),y=w.useCallback((C,T)=>{b(j=>{var P=Math.round(C),A=Math.round(T);return j.containerWidth===P&&j.containerHeight===A?j:{containerWidth:P,containerHeight:A}})},[]);w.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return A0;var C=A=>{var N,{width:L,height:K}=A[0].contentRect;y(L,K),(N=g.current)===null||N===void 0||N.call(g,L,K)};u>0&&(C=ZY(C,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(C),{width:j,height:P}=v.current.getBoundingClientRect();return y(j,P),T.observe(v.current),()=>{T.disconnect()}},[y,u]);var{containerWidth:k,containerHeight:E}=x;Bm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:_,calculatedHeight:S}=JI(k,E,{width:a,height:s,aspect:r,maxHeight:l});return Bm(_!=null&&_>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,_,S,a,s,i,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:He("recharts-responsive-container",h),style:sA(sA({},m),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:v},w.createElement("div",{style:aX({width:a,height:s})},w.createElement(ZI,{width:_,height:S},c)))}),It=w.forwardRef((e,t)=>{var r=J_();if(Os(r.width)&&Os(r.height))return e.children;var{width:n,height:a}=sX({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=JI(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return _e(s)&&_e(i)?w.createElement(ZI,{width:s,height:i},e.children):w.createElement(uX,Gb({},e,{width:n,height:a,ref:t}))});function eR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Ou=()=>{var e,t=cr(),r=ye(XY),n=ye(Ig),a=(e=ye(Mg))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},dX={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},tR=()=>{var e;return(e=ye(Nr))!==null&&e!==void 0?e:dX},Q_=()=>ye(Mi),Z_=()=>ye(Ii),fX=()=>ye(e=>e.layout.margin),ze=e=>e.layout.layoutType,zl=()=>ye(ze),hX=()=>{var e=zl();if(e==="horizontal"||e==="vertical")return e},pX=()=>{var e=zl();return e!==void 0},Rg=e=>{var t=mt(),r=cr(),{width:n,height:a}=e,s=J_(),i=n,o=a;return s&&(i=s.width>0?s.width:n,o=s.height>0?s.height:a),w.useEffect(()=>{!r&&Os(i)&&Os(o)&&t(_Y({width:i,height:o}))},[t,r,i,o]),null},rR=Symbol.for("immer-nothing"),iA=Symbol.for("immer-draftable"),ha=Symbol.for("immer-state");function es(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rf=Object.getPrototypeOf;function mu(e){return!!e&&!!e[ha]}function Al(e){var t;return e?nR(e)||Array.isArray(e)||!!e[iA]||!!((t=e.constructor)!=null&&t[iA])||D0(e)||Lg(e):!1}var mX=Object.prototype.constructor.toString(),oA=new WeakMap;function nR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=oA.get(r);return n===void 0&&(n=Function.toString.call(r),oA.set(r,n)),n===mX}function $m(e,t,r=!0){Fg(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Fg(e){const t=e[ha];return t?t.type_:Array.isArray(e)?1:D0(e)?2:Lg(e)?3:0}function qb(e,t){return Fg(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aR(e,t,r){const n=Fg(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function vX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function D0(e){return e instanceof Map}function Lg(e){return e instanceof Set}function Yo(e){return e.copy_||e.base_}function Yb(e,t){if(D0(e))return new Map(e);if(Lg(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ha];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Rf(e),n)}else{const n=Rf(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function ek(e,t=!1){return Bg(e)||mu(e)||!Al(e)||(Fg(e)>1&&Object.defineProperties(e,{set:Zh,add:Zh,clear:Zh,delete:Zh}),Object.freeze(e),t&&Object.values(e).forEach(r=>ek(r,!0))),e}function gX(){es(2)}var Zh={value:gX};function Bg(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var xX={};function jl(e){const t=xX[e];return t||es(0,e),t}var Ff;function sR(){return Ff}function yX(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function lA(e,t){t&&(jl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Xb(e){Jb(e),e.drafts_.forEach(bX),e.drafts_=null}function Jb(e){e===Ff&&(Ff=e.parent_)}function cA(e){return Ff=yX(Ff,e)}function bX(e){const t=e[ha];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function uA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ha].modified_&&(Xb(t),es(4)),Al(e)&&(e=Um(t,e),t.parent_||zm(t,e)),t.patches_&&jl("Patches").generateReplacementPatches_(r[ha].base_,e,t.patches_,t.inversePatches_)):e=Um(t,r,[]),Xb(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rR?e:void 0}function Um(e,t,r){if(Bg(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ha];if(!a)return $m(t,(s,i)=>dA(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return zm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),$m(i,(l,c)=>dA(e,a,s,l,c,r,o),n),zm(e,s,!1),r&&e.patches_&&jl("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function dA(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const o=Bg(a);if(!(o&&!i)){if(mu(a)){const l=s&&t&&t.type_!==3&&!qb(t.assigned_,n)?s.concat(n):void 0,c=Um(e,a,l);if(aR(r,n,c),mu(c))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Al(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;Um(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(D0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&zm(e,a)}}}function zm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ek(t,r)}function wX(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=tk;r&&(a=[n],s=Lf);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var tk={get(e,t){if(t===ha)return e;const r=Yo(e);if(!qb(r,t))return _X(e,r,t);const n=r[t];return e.finalized_||!Al(n)?n:n===Sy(e.base_,t)?(Ey(e),e.copy_[t]=Zb(n,e)):n},has(e,t){return t in Yo(e)},ownKeys(e){return Reflect.ownKeys(Yo(e))},set(e,t,r){const n=iR(Yo(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Sy(Yo(e),t),s=a==null?void 0:a[ha];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(vX(r,a)&&(r!==void 0||qb(e.base_,t)))return!0;Ey(e),Qb(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ey(e),Qb(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Yo(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){es(11)},getPrototypeOf(e){return Rf(e.base_)},setPrototypeOf(){es(12)}},Lf={};$m(tk,(e,t)=>{Lf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Lf.deleteProperty=function(e,t){return Lf.set.call(this,e,t,void 0)};Lf.set=function(e,t,r){return tk.set.call(this,e[0],t,r,e[0])};function Sy(e,t){const r=e[ha];return(r?Yo(r):e)[t]}function _X(e,t,r){var a;const n=iR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function iR(e,t){if(!(t in e))return;let r=Rf(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Rf(r)}}function Qb(e){e.modified_||(e.modified_=!0,e.parent_&&Qb(e.parent_))}function Ey(e){e.copy_||(e.copy_=Yb(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var kX=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...c){return i.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&es(6),n!==void 0&&typeof n!="function"&&es(7);let a;if(Al(t)){const s=cA(this),i=Zb(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?Xb(s):Jb(s)}return lA(s,n),uA(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===rR&&(a=void 0),this.autoFreeze_&&ek(a,!0),n){const s=[],i=[];jl("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else es(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Al(e)||es(8),mu(e)&&(e=SX(e));const t=cA(this),r=Zb(e,void 0);return r[ha].isManual_=!0,Jb(t),r}finishDraft(e,t){const r=e&&e[ha];(!r||!r.isManual_)&&es(9);const{scope_:n}=r;return lA(n,t),uA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=jl("Patches").applyPatches_;return mu(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Zb(e,t){const r=D0(e)?jl("MapSet").proxyMap_(e,t):Lg(e)?jl("MapSet").proxySet_(e,t):wX(e,t);return(t?t.scope_:sR()).drafts_.push(r),r}function SX(e){return mu(e)||es(10,e),oR(e)}function oR(e){if(!Al(e)||Bg(e))return e;const t=e[ha];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Yb(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Yb(e,!0);return $m(r,(a,s)=>{aR(r,a,oR(s))},n),t&&(t.finalized_=!1),r}var EX=new kX;EX.produce;var CX={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lR=ea({name:"legend",initialState:CX,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Nt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ls(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Nt()},removeLegendPayload:{reducer(e,t){var r=ls(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Nt()}}}),{setLegendSize:fA,setLegendSettings:TX,addLegendPayload:cR,replaceLegendPayload:uR,removeLegendPayload:dR}=lR.actions,AX=lR.reducer,jX=["contextPayload"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ew.apply(null,arguments)}function hA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=OX(e,"string");return typeof t=="symbol"?t:t+""}function OX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DX(e,t){if(e==null)return{};var r,n,a=MX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function MX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IX(e){return e.value}function RX(e){var{contextPayload:t}=e,r=DX(e,jX),n=tI(t,e.payloadUniqBy,IX),a=vu(vu({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement($G,a)}function FX(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-s.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),vu(vu({},c),u)}function LX(e){var t=mt();return w.useEffect(()=>{t(TX(e))},[t,e]),null}function BX(e){var t=mt();return w.useEffect(()=>(t(fA(e)),()=>{t(fA({width:0,height:0}))}),[t,e]),null}function $X(e,t,r,n){return e==="vertical"&&_e(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var UX={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function $r(e){var t=Pt(e,UX),r=Sq(),n=DK(),a=fX(),{width:s,height:i,wrapperStyle:o,portal:l}=t,[c,u]=hI([r]),f=Q_(),h=Z_();if(f==null||h==null)return null;var p=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),m=$X(t.layout,i,s,p),v=l?o:vu(vu({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},FX(o,t,a,f,h,c)),o),g=l??n;if(g==null||r==null)return null;var x=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},w.createElement(LX,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&w.createElement(BX,{width:c.width,height:c.height}),w.createElement(RX,ew({},t,m,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return x0.createPortal(x,g)}$r.displayName="Legend";function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){zX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HX(e){return Array.isArray(e)&&Ra(e[0])&&Ra(e[1])?e.join(" ~ "):e}var KX=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var E={padding:0,margin:0},_=(o?kg(s,o):s).map((S,C)=>{if(S.type==="none")return null;var T=S.formatter||i||HX,{value:j,name:P}=S,A=j,N=P;if(T){var L=T(j,P,S,C,s);if(Array.isArray(L))[A,N]=L;else if(L!=null)A=L;else return null}var K=Cy({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:K},Ra(N)?w.createElement("span",{className:"recharts-tooltip-item-name"},N):null,Ra(N)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},A),w.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:E},_)}return null},m=Cy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Cy({margin:0},a),g=!it(u),x=g?u:"",b=He("recharts-default-tooltip",l),y=He("recharts-tooltip-label",c);g&&f&&s!==void 0&&s!==null&&(x=f(u,s));var k=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",tw({className:b,style:m},k),w.createElement("p",{className:y,style:v},w.isValidElement(x)?x:"".concat(x)),p())},od="recharts-tooltip-wrapper",GX={visibility:"hidden"};function qX(e){var{coordinate:t,translateX:r,translateY:n}=e;return He(od,{["".concat(od,"-right")]:_e(r)&&t&&_e(t.x)&&r>=t.x,["".concat(od,"-left")]:_e(r)&&t&&_e(t.x)&&r<t.x,["".concat(od,"-bottom")]:_e(n)&&t&&_e(t.y)&&n>=t.y,["".concat(od,"-top")]:_e(n)&&t&&_e(t.y)&&n<t.y})}function mA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&_e(s[n]))return s[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?u:f;var h=l[n];if(h==null)return 0;if(i[n]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var v=f+o,g=h+c;return v>g?Math.max(u,h):Math.max(f,h)}function YX(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function XX(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,c,u,f;return i.height>0&&i.width>0&&r?(u=mA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=mA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=YX({translateX:u,translateY:f,useTranslate3d:o})):c=GX,{cssProperties:c,cssClasses:qX({translateX:u,translateY:f,coordinate:r})}}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){rw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rw(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ZX extends w.PureComponent{constructor(){super(...arguments),rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),rw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:y}=XX({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),k=x?{}:ep(ep({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=ep(ep({},k),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:E,ref:g},s)}}var eJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Do={devToolsEnabled:!1,isSsr:eJ()},fR=()=>{var e;return(e=ye(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(null,arguments)}function gA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gA(Object(r),!0).forEach(function(n){tJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tJ(e,t,r){return(t=rJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yA={curveBasisClosed:QK,curveBasisOpen:ZK,curveBasis:JK,curveBumpX:FK,curveBumpY:LK,curveLinearClosed:eG,curveLinear:mg,curveMonotoneX:tG,curveMonotoneY:rG,curveNatural:nG,curveStep:aG,curveStepAfter:iG,curveStepBefore:sG},Vm=e=>ct(e.x)&&ct(e.y),bA=e=>e.base!=null&&Vm(e.base)&&Vm(e),ld=e=>e.x,cd=e=>e.y,aJ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(T0(e));return(r==="curveMonotone"||r==="curveBump")&&t?yA["".concat(r).concat(t==="vertical"?"Y":"X")]:yA[r]||mg},sJ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=aJ(t,a),o=s?r.filter(Vm):r,l;if(Array.isArray(n)){var c=r.map((p,m)=>xA(xA({},p),{},{base:n[m]}));a==="vertical"?l=Kh().y(cd).x1(ld).x0(p=>p.base.x):l=Kh().x(ld).y1(cd).y0(p=>p.base.y);var u=l.defined(bA).curve(i),f=s?c.filter(bA):c;return u(f)}a==="vertical"&&_e(n)?l=Kh().y(cd).x1(ld).x0(n):_e(n)?l=Kh().x(ld).y1(cd).y0(n):l=wM().x(ld).y(cd);var h=l.defined(Vm).curve(i);return h(o)},ml=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?sJ(e):n;return w.createElement("path",nw({},sn(e),T_(e),{className:He("recharts-curve",t),d:s===null?void 0:s,ref:a}))},iJ=["x","y","top","left","width","height","className"];function aw(){return aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aw.apply(null,arguments)}function wA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(r),!0).forEach(function(n){lJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lJ(e,t,r){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cJ(e){var t=uJ(e,"string");return typeof t=="symbol"?t:t+""}function uJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dJ(e,t){if(e==null)return{};var r,n,a=fJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hJ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),pJ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=dJ(e,iJ),c=oJ({x:t,y:r,top:n,left:a,width:s,height:i},l);return!_e(t)||!_e(r)||!_e(s)||!_e(i)||!_e(n)||!_e(a)?null:w.createElement("path",aw({},on(c),{className:He("recharts-cross",o),d:hJ(t,r,s,i,n,a)}))};function mJ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=xJ(e,"string");return typeof t=="symbol"?t:t+""}function xJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hR=(e,t,r)=>e.map(n=>"".concat(yJ(n)," ").concat(t,"ms ").concat(r)).join(","),bJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Bf=(e,t)=>Object.keys(t).reduce((r,n)=>kA(kA({},r),{},{[n]:e(n,t[n])}),{});function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){wJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wJ(e,t,r){return(t=_J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wm=(e,t,r)=>e+(t-e)*r,sw=e=>{var{from:t,to:r}=e;return t!==r},pR=(e,t,r)=>{var n=Bf((a,s)=>{if(sw(s)){var[i,o]=e(s.from,s.to,s.velocity);return Cr(Cr({},s),{},{from:i,velocity:o})}return s},t);return r<1?Bf((a,s)=>sw(s)?Cr(Cr({},s),{},{velocity:Wm(s.velocity,n[a].velocity,r),from:Wm(s.from,n[a].from,r)}):s,t):pR(e,n,r-1)};function SJ(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>Cr(Cr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>Bf((h,p)=>p.from,o),c=()=>!Object.values(o).filter(sw).length,u=null,f=h=>{i||(i=h);var p=h-i,m=p/r.dt;o=pR(r,o,m),a(Cr(Cr(Cr({},e),t),l())),i=h,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var h;(h=u)===null||h===void 0||h()})}function EJ(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,h)=>Cr(Cr({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,p=Bf((v,g)=>Wm(...g,r(h)),l);if(s(Cr(Cr(Cr({},e),t),p)),h<1)o=i.setTimeout(u);else{var m=Bf((v,g)=>Wm(...g,r(1)),l);s(Cr(Cr(Cr({},e),t),m))}};return()=>(o=i.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const CJ=(e,t,r,n,a,s)=>{var i=bJ(e,t);return r==null?()=>(a(Cr(Cr({},e),t)),()=>{}):r.isStepper===!0?SJ(e,t,r,i,a,s):EJ(e,t,r,n,i,a,s)};var Hm=1e-4,mR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],vR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),EA=(e,t)=>r=>{var n=mR(e,t);return vR(n,r)},TJ=(e,t)=>r=>{var n=mR(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return vR(a,r)},AJ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},jJ=(e,t,r,n)=>{var a=EA(e,r),s=EA(t,n),i=TJ(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,h=0;h<8;++h){var p=a(f)-u,m=i(f);if(Math.abs(p-u)<Hm||m<Hm)return s(f);f=o(f-p/m)}return s(f)};return l.isStepper=!1,l},CA=function(){return jJ(...AJ(...arguments))},PJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var c=-(i-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+i;return Math.abs(h-o)<Hm&&Math.abs(f)<Hm?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},NJ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return CA(e);case"spring":return PJ();default:if(e.split("(")[0]==="cubic-bezier")return CA(e)}return typeof e=="function"?e:null};function OJ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,c),l);return}s(l),a=e.setTimeout(s.bind(null,c));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class DJ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function MJ(){return OJ(new DJ)}var IJ=w.createContext(MJ);function RJ(e,t){var r=w.useContext(IJ);return w.useMemo(()=>t??r(e),[e,t,r])}var FJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},TA={t:0},Ty={t:1};function Vl(e){var t=Pt(e,FJ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=r==="auto"?!Do.isSsr:r,f=RJ(t.animationId,t.animationManager),[h,p]=w.useState(u?TA:Ty),m=w.useRef(null);return w.useEffect(()=>{u||p(Ty)},[u]),w.useEffect(()=>{if(!u||!n)return A0;var v=CJ(TA,Ty,NJ(s),a,p,f.getTimeoutController()),g=()=>{m.current=v()};return f.start([l,i,g,a,o]),()=>{f.stop(),m.current&&m.current(),o()}},[u,n,a,s,i,l,o,f]),c(h.t)}function Wl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Of(t)),n=w.useRef(e);return n.current!==e&&(r.current=Of(t),n.current=e),r.current}var LJ=["radius"],BJ=["radius"];function AA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AA(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=zJ(e,"string");return typeof t=="symbol"?t:t+""}function zJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Km(){return Km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Km.apply(null,arguments)}function PA(e,t){if(e==null)return{};var r,n,a=VJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NA=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>s?s:a[f];c="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*u[1])),c+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*u[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);c="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},OA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gR=e=>{var t=Pt(e,OA),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&a(W)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,g=w.useRef(o),x=w.useRef(l),b=w.useRef(s),y=w.useRef(i),k=w.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),E=Wl(k,"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var _=He("recharts-rectangle",u);if(!v){var S=on(t),{radius:C}=S,T=PA(S,LJ);return w.createElement("path",Km({},T,{radius:typeof c=="number"?c:void 0,className:_,d:NA(s,i,o,l,c)}))}var j=g.current,P=x.current,A=b.current,N=y.current,L="0px ".concat(n===-1?1:n,"px"),K="".concat(n,"px 0px"),X=hR(["strokeDasharray"],h,typeof f=="string"?f:OA.animationEasing);return w.createElement(Vl,{animationId:E,key:E,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},W=>{var q=qe(j,o,W),I=qe(P,l,W),J=qe(A,s,W),Q=qe(N,i,W);r.current&&(g.current=q,x.current=I,b.current=J,y.current=Q);var M;m?W>0?M={transition:X,strokeDasharray:K}:M={strokeDasharray:L}:M={strokeDasharray:K};var U=on(t),{radius:G}=U,H=PA(U,BJ);return w.createElement("path",Km({},H,{radius:typeof c=="number"?c:void 0,className:_,d:NA(J,Q,q,I,c),ref:r,style:jA(jA({},M),t.style)}))})};function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gm=Math.PI/180,GJ=e=>e*180/Math.PI,yr=(e,t,r,n)=>({x:e+Math.cos(-Gm*n)*r,y:t+Math.sin(-Gm*n)*r}),xR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qJ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},YJ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=qJ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:GJ(l),angleInRadian:l}},XJ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},JJ=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},QJ=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=YJ({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:c}=XJ(t),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?MA(MA({},t),{},{radius:a,angle:JJ(u,t)}):null};function yR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=yr(t,r,n,a),o=yr(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(null,arguments)}var ZJ=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},tp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,u=Math.asin(o/c)/Gm,f=l?a:a+s*u,h=yr(t,r,c,f),p=yr(t,r,n,f),m=l?a-s*u:a,v=yr(t,r,c*Math.cos(u*Gm),m);return{center:h,circleTangency:p,lineTangency:v,theta:u}},bR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=ZJ(s,i),l=s+o,c=yr(t,r,a,s),u=yr(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=yr(t,r,n,s),p=yr(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},eQ=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=zr(c-l),{circleTangency:f,lineTangency:h,theta:p}=tp({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:v,theta:g}=tp({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-p-g;if(x<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):bR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:y,lineTangency:k,theta:E}=tp({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:_,lineTangency:S,theta:C}=tp({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-E-C;if(T<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},tQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wR=e=>{var t=Pt(e,tQ),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(s<a||c===u)return null;var h=He("recharts-sector",f),p=s-a,m=kn(i,p,0,!0),v;return m>0&&Math.abs(c-u)<360?v=eQ({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=bR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u}),w.createElement("path",iw({},on(t),{className:h,d:v}))};function rQ(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(FM(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=yr(n,a,s,o),c=yr(n,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return yR(t)}}var _R={},kR={},SR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L_;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(SR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SR;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(kR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=B_,r=kR;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=i;return l}e.range=n})(_R);var nQ=_R.range;const ER=Bs(nQ);function mo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function aQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rk(e){let t,r,n;e.length!==2?(t=mo,r=(o,l)=>mo(e(o),l),n=(o,l)=>e(o)-l):(t=e===mo||e===aQ?e:sQ,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function sQ(){return 0}function CR(e){return e===null?NaN:+e}function*iQ(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const oQ=rk(mo),M0=oQ.right;rk(CR).center;class IA extends Map{constructor(t,r=uQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(RA(this,t))}has(t){return super.has(RA(this,t))}set(t,r){return super.set(lQ(this,t),r)}delete(t){return super.delete(cQ(this,t))}}function RA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function lQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function cQ({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function uQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function dQ(e=mo){if(e===mo)return TR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const fQ=Math.sqrt(50),hQ=Math.sqrt(10),pQ=Math.sqrt(2);function qm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=fQ?10:s>=hQ?5:s>=pQ?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?qm(e,t,r*2):[o,l,c]}function ow(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?qm(t,e,r):qm(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function lw(e,t,r){return t=+t,e=+e,r=+r,qm(e,t,r)[2]}function cw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?lw(t,e,r):lw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function FA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function LA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function AR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?TR:dQ(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));AR(e,t,p,m,a)}const s=e[t];let i=r,o=n;for(ud(e,r,t),a(e[n],s)>0&&ud(e,r,n);i<o;){for(ud(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?ud(e,r,o):(++o,ud(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function ud(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mQ(e,t,r){if(e=Float64Array.from(iQ(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return LA(e);if(t>=1)return FA(e);var n,a=(n-1)*t,s=Math.floor(a),i=FA(AR(e,s).subarray(0,s+1)),o=LA(e.subarray(s+1));return i+(o-i)*(a-s)}}function vQ(e,t,r=CR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function gQ(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ua(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ri(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const uw=Symbol("implicit");function nk(){var e=new IA,t=[],r=[],n=uw;function a(s){let i=e.get(s);if(i===void 0){if(n!==uw)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new IA;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return nk(t,r).unknown(n)},Ua.apply(a,arguments),a}function ak(){var e=nk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;s=(v-m)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),m+=(v-m-s*(h-l))*u,i=s*(1-l),o&&(m=Math.round(m),i=Math.round(i));var g=gQ(h).map(function(x){return m+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return ak(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ua.apply(f(),arguments)}function jR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jR(t())},e}function xQ(){return jR(ak.apply(null,arguments).paddingInner(1))}function sk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function PR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function I0(){}var $f=.7,Ym=1/$f,Jc="\\s*([+-]?\\d+)\\s*",Uf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",js="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yQ=/^#([0-9a-f]{3,8})$/,bQ=new RegExp(`^rgb\\(${Jc},${Jc},${Jc}\\)$`),wQ=new RegExp(`^rgb\\(${js},${js},${js}\\)$`),_Q=new RegExp(`^rgba\\(${Jc},${Jc},${Jc},${Uf}\\)$`),kQ=new RegExp(`^rgba\\(${js},${js},${js},${Uf}\\)$`),SQ=new RegExp(`^hsl\\(${Uf},${js},${js}\\)$`),EQ=new RegExp(`^hsla\\(${Uf},${js},${js},${Uf}\\)$`),BA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};sk(I0,zf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$A,formatHex:$A,formatHex8:CQ,formatHsl:TQ,formatRgb:UA,toString:UA});function $A(){return this.rgb().formatHex()}function CQ(){return this.rgb().formatHex8()}function TQ(){return NR(this).formatHsl()}function UA(){return this.rgb().formatRgb()}function zf(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=yQ.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?zA(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?rp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?rp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bQ.exec(e))?new qn(t[1],t[2],t[3],1):(t=wQ.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_Q.exec(e))?rp(t[1],t[2],t[3],t[4]):(t=kQ.exec(e))?rp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=SQ.exec(e))?HA(t[1],t[2]/100,t[3]/100,1):(t=EQ.exec(e))?HA(t[1],t[2]/100,t[3]/100,t[4]):BA.hasOwnProperty(e)?zA(BA[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function zA(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function rp(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function AQ(e){return e instanceof I0||(e=zf(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function dw(e,t,r,n){return arguments.length===1?AQ(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}sk(qn,dw,PR(I0,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(vl(this.r),vl(this.g),vl(this.b),Xm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VA,formatHex:VA,formatHex8:jQ,formatRgb:WA,toString:WA}));function VA(){return`#${il(this.r)}${il(this.g)}${il(this.b)}`}function jQ(){return`#${il(this.r)}${il(this.g)}${il(this.b)}${il((isNaN(this.opacity)?1:this.opacity)*255)}`}function WA(){const e=Xm(this.opacity);return`${e===1?"rgb(":"rgba("}${vl(this.r)}, ${vl(this.g)}, ${vl(this.b)}${e===1?")":`, ${e})`}`}function Xm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function il(e){return e=vl(e),(e<16?"0":"")+e.toString(16)}function HA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ts(e,t,r,n)}function NR(e){if(e instanceof ts)return new ts(e.h,e.s,e.l,e.opacity);if(e instanceof I0||(e=zf(e)),!e)return new ts;if(e instanceof ts)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new ts(i,o,l,e.opacity)}function PQ(e,t,r,n){return arguments.length===1?NR(e):new ts(e,t,r,n??1)}function ts(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}sk(ts,PQ,PR(I0,{brighter(e){return e=e==null?Ym:Math.pow(Ym,e),new ts(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$f:Math.pow($f,e),new ts(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new qn(Ay(e>=240?e-240:e+120,a,n),Ay(e,a,n),Ay(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ts(KA(this.h),np(this.s),np(this.l),Xm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xm(this.opacity);return`${e===1?"hsl(":"hsla("}${KA(this.h)}, ${np(this.s)*100}%, ${np(this.l)*100}%${e===1?")":`, ${e})`}`}}));function KA(e){return e=(e||0)%360,e<0?e+360:e}function np(e){return Math.max(0,Math.min(1,e||0))}function Ay(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ik=e=>()=>e;function NQ(e,t){return function(r){return e+r*t}}function OQ(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function DQ(e){return(e=+e)==1?OR:function(t,r){return r-t?OQ(t,r,e):ik(isNaN(t)?r:t)}}function OR(e,t){var r=t-e;return r?NQ(e,r):ik(isNaN(e)?t:e)}const GA=function e(t){var r=DQ(t);function n(a,s){var i=r((a=dw(a)).r,(s=dw(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),c=OR(a.opacity,s.opacity);return function(u){return a.r=i(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function MQ(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function IQ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RQ(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Du(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function FQ(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Jm(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LQ(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Du(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jy=new RegExp(fw.source,"g");function BQ(e){return function(){return e}}function $Q(e){return function(t){return e(t)+""}}function UQ(e,t){var r=fw.lastIndex=jy.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=fw.exec(e))&&(a=jy.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:Jm(n,a)})),r=jy.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?$Q(l[0].x):BQ(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Du(e,t){var r=typeof t,n;return t==null||r==="boolean"?ik(t):(r==="number"?Jm:r==="string"?(n=zf(t))?(t=n,GA):UQ:t instanceof zf?GA:t instanceof Date?FQ:IQ(t)?MQ:Array.isArray(t)?RQ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LQ:Jm)(e,t)}function ok(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zQ(e,t){t===void 0&&(t=e,e=Du);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function VQ(e){return function(){return e}}function Qm(e){return+e}var qA=[0,1];function On(e){return e}function hw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:VQ(isNaN(t)?NaN:.5)}function WQ(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function HQ(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=hw(a,n),s=r(i,s)):(n=hw(n,a),s=r(s,i)),function(o){return s(n(o))}}function KQ(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=hw(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=M0(e,o,1,n)-1;return s[l](a[l](o))}}function R0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $g(){var e=qA,t=qA,r=Du,n,a,s,i=On,o,l,c;function u(){var h=Math.min(e.length,t.length);return i!==On&&(i=WQ(e[0],e[h-1])),o=h>2?KQ:HQ,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=o(t,e.map(n),Jm)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Qm),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ok,u()},f.clamp=function(h){return arguments.length?(i=h?!0:On,u()):i!==On},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,u()}}function lk(){return $g()(On,On)}function GQ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function gu(e){return e=Zm(Math.abs(e)),e?e[1]:NaN}function qQ(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function YQ(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var XQ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vf(e){if(!(t=XQ.exec(e)))throw new Error("invalid format: "+e);var t;return new ck({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Vf.prototype=ck.prototype;function ck(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ck.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JQ(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var DR;function QQ(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(DR=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Zm(e,Math.max(0,t+s-1))[0]}function YA(e,t){var r=Zm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const XA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:GQ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>YA(e*100,t),r:YA,s:QQ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function JA(e){return e}var QA=Array.prototype.map,ZA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ZQ(e){var t=e.grouping===void 0||e.thousands===void 0?JA:qQ(QA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?JA:YQ(QA.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Vf(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,x=f.width,b=f.comma,y=f.precision,k=f.trim,E=f.type;E==="n"?(b=!0,E="g"):XA[E]||(y===void 0&&(y=12),k=!0,E="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var _=v==="$"?r:v==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",S=v==="$"?n:/[%p]/.test(E)?i:"",C=XA[E],T=/[defgprs%]/.test(E);y=y===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function j(P){var A=_,N=S,L,K,X;if(E==="c")N=C(P)+N,P="";else{P=+P;var W=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),y),k&&(P=JQ(P)),W&&+P==0&&m!=="+"&&(W=!1),A=(W?m==="("?m:o:m==="-"||m==="("?"":m)+A,N=(E==="s"?ZA[8+DR/3]:"")+N+(W&&m==="("?")":""),T){for(L=-1,K=P.length;++L<K;)if(X=P.charCodeAt(L),48>X||X>57){N=(X===46?a+P.slice(L+1):P.slice(L))+N,P=P.slice(0,L);break}}}b&&!g&&(P=t(P,1/0));var q=A.length+P.length+N.length,I=q<x?new Array(x-q+1).join(h):"";switch(b&&g&&(P=t(I+P,I.length?x-N.length:1/0),I=""),p){case"<":P=A+P+N+I;break;case"=":P=A+I+P+N;break;case"^":P=I.slice(0,q=I.length>>1)+A+P+N+I.slice(q);break;default:P=I+A+P+N;break}return s(P)}return j.toString=function(){return f+""},j}function u(f,h){var p=c((f=Vf(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(gu(h)/3)))*3,v=Math.pow(10,-m),g=ZA[8+m/3];return function(x){return p(v*x)+g}}return{format:c,formatPrefix:u}}var ap,uk,MR;eZ({thousands:",",grouping:[3],currency:["$",""]});function eZ(e){return ap=ZQ(e),uk=ap.format,MR=ap.formatPrefix,ap}function tZ(e){return Math.max(0,-gu(Math.abs(e)))}function rZ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gu(t)/3)))*3-gu(Math.abs(e)))}function nZ(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gu(t)-gu(e))+1}function IR(e,t,r,n){var a=cw(e,t,r),s;switch(n=Vf(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rZ(a,i))&&(n.precision=s),MR(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nZ(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tZ(a))&&(n.precision=s-(n.type==="%")*2);break}}return uk(n)}function Mo(e){var t=e.domain;return e.ticks=function(r){var n=t();return ow(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return IR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,c,u=10;for(o<i&&(c=i,i=o,o=c,c=a,a=s,s=c);u-- >0;){if(c=lw(i,o,r),c===l)return n[a]=i,n[s]=o,t(n);if(c>0)i=Math.floor(i/c)*c,o=Math.ceil(o/c)*c;else if(c<0)i=Math.ceil(i*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function RR(){var e=lk();return e.copy=function(){return R0(e,RR())},Ua.apply(e,arguments),Mo(e)}function FR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Qm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return FR(e).unknown(t)},e=arguments.length?Array.from(e,Qm):[0,1],Mo(r)}function LR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function ej(e){return Math.log(e)}function tj(e){return Math.exp(e)}function aZ(e){return-Math.log(-e)}function sZ(e){return-Math.exp(-e)}function iZ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oZ(e){return e===10?iZ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lZ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function rj(e){return(t,r)=>-e(-t,r)}function dk(e){const t=e(ej,tj),r=t.domain;let n=10,a,s;function i(){return a=lZ(n),s=oZ(n),r()[0]<0?(a=rj(a),s=rj(s),e(aZ,sZ)):e(ej,tj),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const g=o==null?10:+o;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}x.length*2<g&&(x=ow(c,u,g))}else x=ow(h,p,Math.min(p-h,g)).map(s);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Vf(l)).precision==null&&(l.trim=!0),l=uk(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/s(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(LR(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function BR(){const e=dk($g()).domain([1,10]);return e.copy=()=>R0(e,BR()).base(e.base()),Ua.apply(e,arguments),e}function nj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function fk(e){var t=1,r=e(nj(t),aj(t));return r.constant=function(n){return arguments.length?e(nj(t=+n),aj(t)):t},Mo(r)}function $R(){var e=fk($g());return e.copy=function(){return R0(e,$R()).constant(e.constant())},Ua.apply(e,arguments)}function sj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cZ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uZ(e){return e<0?-e*e:e*e}function hk(e){var t=e(On,On),r=1;function n(){return r===1?e(On,On):r===.5?e(cZ,uZ):e(sj(r),sj(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Mo(t)}function pk(){var e=hk($g());return e.copy=function(){return R0(e,pk()).exponent(e.exponent())},Ua.apply(e,arguments),e}function dZ(){return pk.apply(null,arguments).exponent(.5)}function ij(e){return Math.sign(e)*e*e}function fZ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function UR(){var e=lk(),t=[0,1],r=!1,n;function a(s){var i=fZ(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(ij(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Qm)).map(ij)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return UR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ua.apply(a,arguments),Mo(a)}function zR(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=vQ(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[M0(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(mo),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return zR().domain(e).range(t).unknown(n)},Ua.apply(s,arguments)}function VR(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[M0(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return VR().domain([e,t]).range(a).unknown(s)},Ua.apply(Mo(i),arguments)}function WR(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[M0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return WR().domain(e).range(t).unknown(r)},Ua.apply(a,arguments)}const Py=new Date,Ny=new Date;function Or(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<i);return l},a.filter=s=>Or(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(Py.setTime(+s),Ny.setTime(+i),e(Py),e(Ny),Math.floor(r(Py,Ny))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const ev=Or(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ev.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Or(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ev);ev.range;const ni=1e3,Pa=ni*60,ai=Pa*60,ki=ai*24,mk=ki*7,oj=ki*30,Oy=ki*365,ol=Or(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ni)},(e,t)=>(t-e)/ni,e=>e.getUTCSeconds());ol.range;const vk=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getMinutes());vk.range;const gk=Or(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pa)},(e,t)=>(t-e)/Pa,e=>e.getUTCMinutes());gk.range;const xk=Or(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ni-e.getMinutes()*Pa)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getHours());xk.range;const yk=Or(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ai)},(e,t)=>(t-e)/ai,e=>e.getUTCHours());yk.range;const F0=Or(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pa)/ki,e=>e.getDate()-1);F0.range;const Ug=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>e.getUTCDate()-1);Ug.range;const HR=Or(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ki,e=>Math.floor(e/ki));HR.range;function Hl(e){return Or(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pa)/mk)}const zg=Hl(0),tv=Hl(1),hZ=Hl(2),pZ=Hl(3),xu=Hl(4),mZ=Hl(5),vZ=Hl(6);zg.range;tv.range;hZ.range;pZ.range;xu.range;mZ.range;vZ.range;function Kl(e){return Or(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mk)}const Vg=Kl(0),rv=Kl(1),gZ=Kl(2),xZ=Kl(3),yu=Kl(4),yZ=Kl(5),bZ=Kl(6);Vg.range;rv.range;gZ.range;xZ.range;yu.range;yZ.range;bZ.range;const bk=Or(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bk.range;const wk=Or(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());wk.range;const Si=Or(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Si.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Si.range;const Ei=Or(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Or(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ei.range;function KR(e,t,r,n,a,s){const i=[[ol,1,ni],[ol,5,5*ni],[ol,15,15*ni],[ol,30,30*ni],[s,1,Pa],[s,5,5*Pa],[s,15,15*Pa],[s,30,30*Pa],[a,1,ai],[a,3,3*ai],[a,6,6*ai],[a,12,12*ai],[n,1,ki],[n,2,2*ki],[r,1,mk],[t,1,oj],[t,3,3*oj],[e,1,Oy]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=rk(([,,g])=>g).right(i,h);if(p===i.length)return e.every(cw(c/Oy,u/Oy,f));if(p===0)return ev.every(Math.max(cw(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[o,l]}const[wZ,_Z]=KR(Ei,wk,Vg,HR,yk,gk),[kZ,SZ]=KR(Si,bk,zg,F0,xk,vk);function Dy(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function My(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function dd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function EZ(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=fd(a),u=hd(a),f=fd(s),h=hd(s),p=fd(i),m=hd(i),v=fd(o),g=hd(o),x=fd(l),b=hd(l),y={a:W,A:q,b:I,B:J,c:null,d:hj,e:hj,f:qZ,g:aee,G:iee,H:HZ,I:KZ,j:GZ,L:GR,m:YZ,M:XZ,p:Q,q:M,Q:vj,s:gj,S:JZ,u:QZ,U:ZZ,V:eee,w:tee,W:ree,x:null,X:null,y:nee,Y:see,Z:oee,"%":mj},k={a:U,A:G,b:H,B:ee,c:null,d:pj,e:pj,f:dee,g:wee,G:kee,H:lee,I:cee,j:uee,L:YR,m:fee,M:hee,p:oe,q:ce,Q:vj,s:gj,S:pee,u:mee,U:vee,V:gee,w:xee,W:yee,x:null,X:null,y:bee,Y:_ee,Z:See,"%":mj},E={a:j,A:P,b:A,B:N,c:L,d:dj,e:dj,f:UZ,g:uj,G:cj,H:fj,I:fj,j:FZ,L:$Z,m:RZ,M:LZ,p:T,q:IZ,Q:VZ,s:WZ,S:BZ,u:PZ,U:NZ,V:OZ,w:jZ,W:DZ,x:K,X,y:uj,Y:cj,Z:MZ,"%":zZ};y.x=_(r,y),y.X=_(n,y),y.c=_(t,y),k.x=_(r,k),k.X=_(n,k),k.c=_(t,k);function _(Y,te){return function(le){var D=[],Pe=-1,he=0,ge=Y.length,pe,ue,ke;for(le instanceof Date||(le=new Date(+le));++Pe<ge;)Y.charCodeAt(Pe)===37&&(D.push(Y.slice(he,Pe)),(ue=lj[pe=Y.charAt(++Pe)])!=null?pe=Y.charAt(++Pe):ue=pe==="e"?" ":"0",(ke=te[pe])&&(pe=ke(le,ue)),D.push(pe),he=Pe+1);return D.push(Y.slice(he,Pe)),D.join("")}}function S(Y,te){return function(le){var D=dd(1900,void 0,1),Pe=C(D,Y,le+="",0),he,ge;if(Pe!=le.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(te&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(he=My(dd(D.y,0,1)),ge=he.getUTCDay(),he=ge>4||ge===0?rv.ceil(he):rv(he),he=Ug.offset(he,(D.V-1)*7),D.y=he.getUTCFullYear(),D.m=he.getUTCMonth(),D.d=he.getUTCDate()+(D.w+6)%7):(he=Dy(dd(D.y,0,1)),ge=he.getDay(),he=ge>4||ge===0?tv.ceil(he):tv(he),he=F0.offset(he,(D.V-1)*7),D.y=he.getFullYear(),D.m=he.getMonth(),D.d=he.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),ge="Z"in D?My(dd(D.y,0,1)).getUTCDay():Dy(dd(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(ge+5)%7:D.w+D.U*7-(ge+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,My(D)):Dy(D)}}function C(Y,te,le,D){for(var Pe=0,he=te.length,ge=le.length,pe,ue;Pe<he;){if(D>=ge)return-1;if(pe=te.charCodeAt(Pe++),pe===37){if(pe=te.charAt(Pe++),ue=E[pe in lj?te.charAt(Pe++):pe],!ue||(D=ue(Y,le,D))<0)return-1}else if(pe!=le.charCodeAt(D++))return-1}return D}function T(Y,te,le){var D=c.exec(te.slice(le));return D?(Y.p=u.get(D[0].toLowerCase()),le+D[0].length):-1}function j(Y,te,le){var D=p.exec(te.slice(le));return D?(Y.w=m.get(D[0].toLowerCase()),le+D[0].length):-1}function P(Y,te,le){var D=f.exec(te.slice(le));return D?(Y.w=h.get(D[0].toLowerCase()),le+D[0].length):-1}function A(Y,te,le){var D=x.exec(te.slice(le));return D?(Y.m=b.get(D[0].toLowerCase()),le+D[0].length):-1}function N(Y,te,le){var D=v.exec(te.slice(le));return D?(Y.m=g.get(D[0].toLowerCase()),le+D[0].length):-1}function L(Y,te,le){return C(Y,t,te,le)}function K(Y,te,le){return C(Y,r,te,le)}function X(Y,te,le){return C(Y,n,te,le)}function W(Y){return i[Y.getDay()]}function q(Y){return s[Y.getDay()]}function I(Y){return l[Y.getMonth()]}function J(Y){return o[Y.getMonth()]}function Q(Y){return a[+(Y.getHours()>=12)]}function M(Y){return 1+~~(Y.getMonth()/3)}function U(Y){return i[Y.getUTCDay()]}function G(Y){return s[Y.getUTCDay()]}function H(Y){return l[Y.getUTCMonth()]}function ee(Y){return o[Y.getUTCMonth()]}function oe(Y){return a[+(Y.getUTCHours()>=12)]}function ce(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=_(Y+="",y);return te.toString=function(){return Y},te},parse:function(Y){var te=S(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=_(Y+="",k);return te.toString=function(){return Y},te},utcParse:function(Y){var te=S(Y+="",!0);return te.toString=function(){return Y},te}}}var lj={"-":"",_:" ",0:"0"},Hr=/^\s*\d+/,CZ=/^%/,TZ=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function AZ(e){return e.replace(TZ,"\\$&")}function fd(e){return new RegExp("^(?:"+e.map(AZ).join("|")+")","i")}function hd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jZ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function PZ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function NZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function OZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function cj(e,t,r){var n=Hr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function uj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function MZ(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function IZ(e,t,r){var n=Hr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function RZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function dj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function FZ(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function LZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function BZ(e,t,r){var n=Hr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function $Z(e,t,r){var n=Hr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UZ(e,t,r){var n=Hr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function zZ(e,t,r){var n=CZ.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VZ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function WZ(e,t,r){var n=Hr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function hj(e,t){return rt(e.getDate(),t,2)}function HZ(e,t){return rt(e.getHours(),t,2)}function KZ(e,t){return rt(e.getHours()%12||12,t,2)}function GZ(e,t){return rt(1+F0.count(Si(e),e),t,3)}function GR(e,t){return rt(e.getMilliseconds(),t,3)}function qZ(e,t){return GR(e,t)+"000"}function YZ(e,t){return rt(e.getMonth()+1,t,2)}function XZ(e,t){return rt(e.getMinutes(),t,2)}function JZ(e,t){return rt(e.getSeconds(),t,2)}function QZ(e){var t=e.getDay();return t===0?7:t}function ZZ(e,t){return rt(zg.count(Si(e)-1,e),t,2)}function qR(e){var t=e.getDay();return t>=4||t===0?xu(e):xu.ceil(e)}function eee(e,t){return e=qR(e),rt(xu.count(Si(e),e)+(Si(e).getDay()===4),t,2)}function tee(e){return e.getDay()}function ree(e,t){return rt(tv.count(Si(e)-1,e),t,2)}function nee(e,t){return rt(e.getFullYear()%100,t,2)}function aee(e,t){return e=qR(e),rt(e.getFullYear()%100,t,2)}function see(e,t){return rt(e.getFullYear()%1e4,t,4)}function iee(e,t){var r=e.getDay();return e=r>=4||r===0?xu(e):xu.ceil(e),rt(e.getFullYear()%1e4,t,4)}function oee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function pj(e,t){return rt(e.getUTCDate(),t,2)}function lee(e,t){return rt(e.getUTCHours(),t,2)}function cee(e,t){return rt(e.getUTCHours()%12||12,t,2)}function uee(e,t){return rt(1+Ug.count(Ei(e),e),t,3)}function YR(e,t){return rt(e.getUTCMilliseconds(),t,3)}function dee(e,t){return YR(e,t)+"000"}function fee(e,t){return rt(e.getUTCMonth()+1,t,2)}function hee(e,t){return rt(e.getUTCMinutes(),t,2)}function pee(e,t){return rt(e.getUTCSeconds(),t,2)}function mee(e){var t=e.getUTCDay();return t===0?7:t}function vee(e,t){return rt(Vg.count(Ei(e)-1,e),t,2)}function XR(e){var t=e.getUTCDay();return t>=4||t===0?yu(e):yu.ceil(e)}function gee(e,t){return e=XR(e),rt(yu.count(Ei(e),e)+(Ei(e).getUTCDay()===4),t,2)}function xee(e){return e.getUTCDay()}function yee(e,t){return rt(rv.count(Ei(e)-1,e),t,2)}function bee(e,t){return rt(e.getUTCFullYear()%100,t,2)}function wee(e,t){return e=XR(e),rt(e.getUTCFullYear()%100,t,2)}function _ee(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function kee(e,t){var r=e.getUTCDay();return e=r>=4||r===0?yu(e):yu.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function See(){return"+0000"}function mj(){return"%"}function vj(e){return+e}function gj(e){return Math.floor(+e/1e3)}var cc,JR,QR;Eee({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Eee(e){return cc=EZ(e),JR=cc.format,cc.parse,QR=cc.utcFormat,cc.utcParse,cc}function Cee(e){return new Date(e)}function Tee(e){return e instanceof Date?+e:+new Date(+e)}function _k(e,t,r,n,a,s,i,o,l,c){var u=lk(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),k=c("%Y");function E(_){return(l(_)<_?p:o(_)<_?m:i(_)<_?v:s(_)<_?g:n(_)<_?a(_)<_?x:b:r(_)<_?y:k)(_)}return u.invert=function(_){return new Date(f(_))},u.domain=function(_){return arguments.length?h(Array.from(_,Tee)):h().map(Cee)},u.ticks=function(_){var S=h();return e(S[0],S[S.length-1],_??10)},u.tickFormat=function(_,S){return S==null?E:c(S)},u.nice=function(_){var S=h();return(!_||typeof _.range!="function")&&(_=t(S[0],S[S.length-1],_??10)),_?h(LR(S,_)):u},u.copy=function(){return R0(u,_k(e,t,r,n,a,s,i,o,l,c))},u}function Aee(){return Ua.apply(_k(kZ,SZ,Si,bk,zg,F0,xk,vk,ol,JR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jee(){return Ua.apply(_k(wZ,_Z,Ei,wk,Vg,Ug,yk,gk,ol,QR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wg(){var e=0,t=1,r,n,a,s,i=On,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(Du),c.rangeRound=u(ok),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Io(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ZR(){var e=Mo(Wg()(On));return e.copy=function(){return Io(e,ZR())},Ri.apply(e,arguments)}function e5(){var e=dk(Wg()).domain([1,10]);return e.copy=function(){return Io(e,e5()).base(e.base())},Ri.apply(e,arguments)}function t5(){var e=fk(Wg());return e.copy=function(){return Io(e,t5()).constant(e.constant())},Ri.apply(e,arguments)}function kk(){var e=hk(Wg());return e.copy=function(){return Io(e,kk()).exponent(e.exponent())},Ri.apply(e,arguments)}function Pee(){return kk.apply(null,arguments).exponent(.5)}function r5(){var e=[],t=On;function r(n){if(n!=null&&!isNaN(n=+n))return t((M0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(mo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>mQ(e,s/n))},r.copy=function(){return r5(t).domain(e)},Ri.apply(r,arguments)}function Hg(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,c=On,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-s)*(n*v<n*s?o:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),s=u(t=+t),i=u(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var x,b,y;return arguments.length?([x,b,y]=g,c=zQ(v,[x,b,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(Du),p.rangeRound=m(ok),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),s=v(t),i=v(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function n5(){var e=Mo(Hg()(On));return e.copy=function(){return Io(e,n5())},Ri.apply(e,arguments)}function a5(){var e=dk(Hg()).domain([.1,1,10]);return e.copy=function(){return Io(e,a5()).base(e.base())},Ri.apply(e,arguments)}function s5(){var e=fk(Hg());return e.copy=function(){return Io(e,s5()).constant(e.constant())},Ri.apply(e,arguments)}function Sk(){var e=hk(Hg());return e.copy=function(){return Io(e,Sk()).exponent(e.exponent())},Ri.apply(e,arguments)}function Nee(){return Sk.apply(null,arguments).exponent(.5)}const Ed=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:ak,scaleDiverging:n5,scaleDivergingLog:a5,scaleDivergingPow:Sk,scaleDivergingSqrt:Nee,scaleDivergingSymlog:s5,scaleIdentity:FR,scaleImplicit:uw,scaleLinear:RR,scaleLog:BR,scaleOrdinal:nk,scalePoint:xQ,scalePow:pk,scaleQuantile:zR,scaleQuantize:VR,scaleRadial:UR,scaleSequential:ZR,scaleSequentialLog:e5,scaleSequentialPow:kk,scaleSequentialQuantile:r5,scaleSequentialSqrt:Pee,scaleSequentialSymlog:t5,scaleSqrt:dZ,scaleSymlog:$R,scaleThreshold:WR,scaleTime:Aee,scaleUtc:jee,tickFormat:IR},Symbol.toStringTag,{value:"Module"}));var Ro=e=>e.chartData,Ek=Z([Ro],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Mu=(e,t,r,n)=>n?Ek(e):Ro(e);function _o(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ct(t)&&ct(r))return!0}return!1}function xj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function i5(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(ct(r))a=r;else if(typeof r=="function")return;if(ct(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(_o(i))return i}}function Oee(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(_o(n))return xj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(_e(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&eA.test(a)){var l=eA.exec(a);if(l==null||t==null)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(_e(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&tA.test(s)){var u=tA.exec(s);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(_o(h))return t==null?h:xj(h,t,r)}}}var Iu=1e9,Dee={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Tk,Rt=!0,La="[DecimalError] ",gl=La+"Invalid argument: ",Ck=La+"Exponent out of range: ",Ru=Math.floor,Xo=Math.pow,Mee=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,Fr=1e7,Et=7,o5=9007199254740991,nv=Ru(o5/Et),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Et;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return li(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return pt(li(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return br(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sa))throw Error(La+"NaN");if(r.s<1)throw Error(La+(r.s?"NaN":"-Infinity"));return r.eq(sa)?new n(0):(Rt=!1,t=li(Wf(r,s),Wf(e,s),s),Rt=!0,pt(t,a))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?u5(t,e):l5(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(La+"NaN");return r.s?(Rt=!1,t=li(r,e,0,1).times(e),Rt=!0,r.minus(t)):pt(new n(r),a)};Ae.naturalExponential=Ae.exp=function(){return c5(this)};Ae.naturalLogarithm=Ae.ln=function(){return Wf(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?l5(t,e):u5(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gl+e);if(t=br(a)+1,n=a.d.length-1,r=n*Et+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(La+"NaN")}for(e=br(o),Rt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ss(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ru((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(li(o,s,i+2)).times(.5),Ss(s.d).slice(0,i)===(t=Ss(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(pt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Rt=!0,pt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,a,s,i,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,i=l,l=c,c=i),s=[],i=l+c,n=i;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%Fr|0,t=o/Fr|0;s[a]=(s[a]+t)%Fr|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Rt?pt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ds(e,0,Iu),t===void 0?t=n.rounding:Ds(t,0,8),pt(r,e+br(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Pl(n,!0):(Ds(e,0,Iu),t===void 0?t=a.rounding:Ds(t,0,8),n=pt(new a(n),e+1,t),r=Pl(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Pl(a):(Ds(e,0,Iu),t===void 0?t=s.rounding:Ds(t,0,8),n=pt(new s(a),e+br(a)+1,t),r=Pl(n.abs(),!1,e+br(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return pt(new t(e),br(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(sa);if(o=new l(o),!o.s){if(e.s<1)throw Error(La+"Infinity");return o}if(o.eq(sa))return o;if(n=l.precision,e.eq(sa))return pt(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=u<0?-u:u)<=o5){for(a=new l(sa),t=Math.ceil(n/Et+4),Rt=!1;r%2&&(a=a.times(o),bj(a.d,t)),r=Ru(r/2),r!==0;)o=o.times(o),bj(o.d,t);return Rt=!0,e.s<0?new l(sa).div(a):pt(a,n)}}else if(s<0)throw Error(La+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Rt=!1,a=e.times(Wf(o,n+c)),Rt=!0,a=c5(a),a.s=s,a};Ae.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=br(a),n=Pl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ds(e,1,Iu),t===void 0?t=s.rounding:Ds(t,0,8),a=pt(new s(a),e,t),r=br(a),n=Pl(a,e<=r||r<=s.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ds(e,1,Iu),t===void 0?t=n.rounding:Ds(t,0,8)),pt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=br(e),r=e.constructor;return Pl(e,t<=r.toExpNeg||t>=r.toExpPos)};function l5(e,t){var r,n,a,s,i,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Rt?pt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),i=Math.ceil(f/Et),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Fr|0,l[s]%=Fr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Rt?pt(t,f):t}function Ds(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gl+e)}function Ss(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Et-n.length,r&&(s+=Gi(r)),s+=n;i=e[t],n=i+"",r=Et-n.length,r&&(s+=Gi(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var li=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Fr|0,i=s/Fr|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Fr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,c,u,f,h,p,m,v,g,x,b,y,k,E,_,S,C,T=n.constructor,j=n.s==a.s?1:-1,P=n.d,A=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(La+"Division by zero");for(l=n.e-a.e,S=A.length,E=P.length,p=new T(j),m=p.d=[],c=0;A[c]==(P[c]||0);)++c;if(A[c]>(P[c]||0)&&--l,s==null?b=s=T.precision:i?b=s+(br(n)-br(a))+1:b=s,b<0)return new T(0);if(b=b/Et+2|0,c=0,S==1)for(u=0,A=A[0],b++;(c<E||u)&&b--;c++)y=u*Fr+(P[c]||0),m[c]=y/A|0,u=y%A|0;else{for(u=Fr/(A[0]+1)|0,u>1&&(A=e(A,u),P=e(P,u),S=A.length,E=P.length),k=S,v=P.slice(0,S),g=v.length;g<S;)v[g++]=0;C=A.slice(),C.unshift(0),_=A[0],A[1]>=Fr/2&&++_;do u=0,o=t(A,v,S,g),o<0?(x=v[0],S!=g&&(x=x*Fr+(v[1]||0)),u=x/_|0,u>1?(u>=Fr&&(u=Fr-1),f=e(A,u),h=f.length,g=v.length,o=t(f,v,h,g),o==1&&(u--,r(f,S<h?C:A,h))):(u==0&&(o=u=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),o==-1&&(g=v.length,o=t(A,v,S,g),o<1&&(u++,r(v,S<g?C:A,g))),g=v.length):o===0&&(u++,v=[0]),m[c++]=u,o&&v[0]?v[g++]=P[k]||0:(v=[P[k]],g=1);while((k++<E||v[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,pt(p,i?s+br(p)+1:s)}}();function c5(e,t){var r,n,a,s,i,o,l=0,c=0,u=e.constructor,f=u.precision;if(br(e)>16)throw Error(Ck+br(e));if(!e.s)return new u(sa);for(Rt=!1,o=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(Xo(2,c))/Math.LN10*2+5|0,o+=n,r=a=s=new u(sa),u.precision=o;;){if(a=pt(a.times(e),o),r=r.times(++l),i=s.plus(li(a,r,o)),Ss(i.d).slice(0,o)===Ss(s.d).slice(0,o)){for(;c--;)s=pt(s.times(s),o);return u.precision=f,t==null?(Rt=!0,pt(s,f)):s}s=i}}function br(e){for(var t=e.e*Et,r=e.d[0];r>=10;r/=10)t++;return t}function Iy(e,t,r){if(t>e.LN10.sd())throw Rt=!0,r&&(e.precision=r),Error(La+"LN10 precision limit exceeded");return pt(new e(e.LN10),t)}function Gi(e){for(var t="";e--;)t+="0";return t}function Wf(e,t){var r,n,a,s,i,o,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(La+(p.s?"NaN":"-Infinity"));if(p.eq(sa))return new v(0);if(t==null?(Rt=!1,c=g):c=t,p.eq(10))return t==null&&(Rt=!0),Iy(v,c);if(c+=h,v.precision=c,r=Ss(m),n=r.charAt(0),s=br(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ss(p.d),n=r.charAt(0),f++;s=br(p),n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return l=Iy(v,c+2,g).times(s+""),p=Wf(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=g,t==null?(Rt=!0,pt(p,g)):p;for(o=i=p=li(p.minus(sa),p.plus(sa),c),u=pt(p.times(p),c),a=3;;){if(i=pt(i.times(u),c),l=o.plus(li(i,new v(a),c)),Ss(l.d).slice(0,c)===Ss(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(Iy(v,c+2,g).times(s+""))),o=li(o,new v(f),c),v.precision=g,t==null?(Rt=!0,pt(o,g)):o;o=l,a+=2}}function yj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ru(r/Et),e.d=[],n=(r+1)%Et,r<0&&(n+=Et),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Et;n<a;)e.d.push(+t.slice(n,n+=Et));t=t.slice(n),n=Et-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Rt&&(e.e>nv||e.e<-nv))throw Error(Ck+r)}else e.s=0,e.e=0,e.d=[0];return e}function pt(e,t,r){var n,a,s,i,o,l,c,u,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Et,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Et),s=f.length,u>=s)return e;for(c=s=f[u],i=1;s>=10;s/=10)i++;n%=Et,a=n-Et+i}if(r!==void 0&&(s=Xo(10,i-a-1),o=c/s%10|0,l=t<0||f[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/Xo(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=br(e),f.length=1,t=t-s-1,f[0]=Xo(10,(Et-t%Et)%Et),e.e=Ru(-t/Et)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=Xo(10,Et-n),f[u]=a>0?(c/Xo(10,i-a)%Xo(10,a)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==Fr&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=Fr)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Rt&&(e.e>nv||e.e<-nv))throw Error(Ck+br(e));return e}function u5(e,t){var r,n,a,s,i,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Rt?pt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Et),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Fr-1;--l[s],l[a]+=Fr}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Rt?pt(t,p):t):new h(0)}function Pl(e,t,r){var n,a=br(e),s=Ss(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+Gi(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Gi(-a-1)+s,r&&(n=r-i)>0&&(s+=Gi(n))):a>=i?(s+=Gi(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+Gi(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=Gi(n))),e.s<0?"-"+s:s}function bj(e,t){if(e.length>t)return e.length=t,!0}function d5(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gl+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return yj(i,s.toString())}else if(typeof s!="string")throw Error(gl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Mee.test(s))yj(i,s);else throw Error(gl+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=d5,a.config=a.set=Iee,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Iee(e){if(!e||typeof e!="object")throw Error(La+"Object expected");var t,r,n,a=["precision",1,Iu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ru(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(gl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gl+r+": "+n);return this}var Tk=d5(Dee);sa=new Tk(1);const lt=Tk;var Ree=e=>e,f5={},h5=e=>e===f5,wj=e=>function t(){return arguments.length===0||arguments.length===1&&h5(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},p5=(e,t)=>e===1?t:wj(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==f5).length;return s>=e?t(...n):p5(e-s,wj(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=n.map(u=>h5(u)?o.shift():u);return t(...c,...o)}))}),Fee=e=>p5(e.length,e),pw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Lee=Fee((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Bee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Ree;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},mw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function m5(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function v5(e,t,r){for(var n=new lt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var g5=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},x5=(e,t,r)=>{if(e.lte(0))return new lt(0);var n=m5(e.toNumber()),a=new lt(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new lt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new lt(l.toNumber()):new lt(Math.ceil(l.toNumber()))},$ee=(e,t,r)=>{var n=new lt(1),a=new lt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new lt(10).pow(m5(e)-1),a=new lt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new lt(Math.floor(e)))}else e===0?a=new lt(Math.floor((t-1)/2)):r||(a=new lt(Math.floor(e)));var i=Math.floor((t-1)/2),o=Bee(Lee(l=>a.add(new lt(l-i).mul(n)).toNumber()),pw);return o(0,t)},y5=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var i=x5(new lt(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new lt(0):(o=new lt(t).add(r).div(2),o=o.sub(new lt(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new lt(r).sub(o).div(i).toNumber()),u=l+c+1;return u>n?y5(t,r,n,a,s+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:i,tickMin:o.sub(new lt(l).mul(i)),tickMax:o.add(new lt(c).mul(i))})},Uee=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=g5([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...pw(0,a-1).map(()=>1/0)]:[...pw(0,a-1).map(()=>-1/0),l];return r>n?mw(c):c}if(o===l)return $ee(o,a,s);var{step:u,tickMin:f,tickMax:h}=y5(o,l,i,s,0),p=v5(f,h.add(new lt(.1).mul(u)),u);return r>n?mw(p):p},zee=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=g5([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var l=Math.max(r,2),c=x5(new lt(o).sub(i).div(l-1),s,0),u=[...v5(new lt(i),new lt(o),c),o];return s===!1&&(u=u.map(f=>Math.round(f))),n>a?mw(u):u},b5=e=>e.rootProps.maxBarSize,Vee=e=>e.rootProps.barGap,w5=e=>e.rootProps.barCategoryGap,Wee=e=>e.rootProps.barSize,L0=e=>e.rootProps.stackOffset,_5=e=>e.rootProps.reverseStackOrder,Ak=e=>e.options.chartName,jk=e=>e.rootProps.syncId,k5=e=>e.rootProps.syncMethod,Pk=e=>e.options.eventEmitter,Hee=e=>e.rootProps.baseValue,Ft={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Qs={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},na={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Kg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Kee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:Qs.reversed,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:Qs.type,unit:void 0},Gee={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:na.type,unit:void 0},qee={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Qs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Qs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Qs.scale,tick:Qs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yee={allowDataOverflow:na.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:na.tickCount,ticks:void 0,type:"category",unit:void 0},Nk=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?qee:Kee,Ok=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Yee:Gee,Gg=e=>e.polarOptions,Dk=Z([Mi,Ii,Nr],xR),S5=Z([Gg,Dk],(e,t)=>{if(e!=null)return kn(e.innerRadius,t,0)}),E5=Z([Gg,Dk],(e,t)=>{if(e!=null)return kn(e.outerRadius,t,t*.8)}),Xee=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},C5=Z([Gg],Xee);Z([Nk,C5],Kg);var T5=Z([Dk,S5,E5],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Z([Ok,T5],Kg);var A5=Z([ze,Gg,S5,E5,Mi,Ii],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:kn(i,a,a/2),cy:kn(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Lt=(e,t)=>t,B0=(e,t,r)=>r;function qg(e){return e==null?void 0:e.id}function j5(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=qg(o);c.forEach((f,h)=>{var p=s==null||a?h:String(Ze(f,s,null)),m=Ze(f,o.dataKey,0),v;i.has(p)?v=i.get(p):v={},Object.assign(v,{[u]:m}),i.set(p,v)})}}),Array.from(i.values())}function Yg(e){return e.stackId!=null&&e.dataKey!=null}var Xg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Jg(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Jee(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Dr=e=>{var t=ze(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Fu=e=>e.tooltip.settings.axisId;function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function av(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Qee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qee(e,t,r){return(t=Zee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zee(e){var t=ete(e,"string");return typeof t=="symbol"?t:t+""}function ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vw=[0,"auto"],Ir={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},P5=(e,t)=>e.cartesianAxis.xAxis[t],Vs=(e,t)=>{var r=P5(e,t);return r??Ir},Rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:vw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:O0},N5=(e,t)=>e.cartesianAxis.yAxis[t],Ws=(e,t)=>{var r=N5(e,t);return r??Rr},O5={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Mk=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??O5},qt=(e,t,r)=>{switch(t){case"xAxis":return Vs(e,r);case"yAxis":return Ws(e,r);case"zAxis":return Mk(e,r);case"angleAxis":return Nk(e,r);case"radiusAxis":return Ok(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tte=(e,t,r)=>{switch(t){case"xAxis":return Vs(e,r);case"yAxis":return Ws(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},$0=(e,t,r)=>{switch(t){case"xAxis":return Vs(e,r);case"yAxis":return Ws(e,r);case"angleAxis":return Nk(e,r);case"radiusAxis":return Ok(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},D5=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ik(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Lu=e=>e.graphicalItems.cartesianItems,rte=Z([Lt,B0],Ik),Rk=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),U0=Z([Lu,qt,rte],Rk,{memoizeOptions:{resultEqualityCheck:Jg}}),M5=Z([U0],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Yg)),I5=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),nte=Z([U0],I5),Fk=e=>e.map(t=>t.data).filter(Boolean).flat(1),ate=Z([U0],Fk,{memoizeOptions:{resultEqualityCheck:Jg}}),Lk=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Bk=Z([ate,Mu],Lk),$k=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ze(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Ze(a,n)}))):e.map(n=>({value:n})),Qg=Z([Bk,qt,U0],$k);function R5(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wp(e){if(Ra(e)||e instanceof Date){var t=Number(e);if(ct(t))return t}}function kj(e){if(Array.isArray(e)){var t=[Wp(e[0]),Wp(e[1])];return _o(t)?t:void 0}var r=Wp(e);if(r!=null)return[r,r]}function Ci(e){return e.map(Wp).filter(vG)}function ste(e,t,r){return!r||typeof t!="number"||Zn(t)?[]:r.length?Ci(r.flatMap(n=>{var a=Ze(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!ct(s)||!ct(i)))return[t-s,t+i]})):[]}var Mr=e=>{var t=Dr(e),r=Fu(e);return $0(e,t,r)},z0=Z([Mr],e=>e==null?void 0:e.dataKey),ite=Z([M5,Mu,Mr],j5),F5=(e,t,r,n)=>{var a={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=n?[...l].reverse():l,u=c.map(qg);return[o,{stackedData:MY(e,u,r),graphicalItems:c}]}))},Hf=Z([ite,M5,L0,_5],F5),L5=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=LY(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},ote=Z([qt],e=>e.allowDataOverflow),Uk=e=>{var t;if(e==null||!("domain"in e))return vw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ci(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:vw},zk=Z([qt],Uk),Vk=Z([zk,ote],i5),lte=Z([Hf,Ro,Lt,Vk],L5,{memoizeOptions:{resultEqualityCheck:Xg}}),Zg=e=>e.errorBars,cte=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>R5(r,n)),sv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},Wk=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,u,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(x=>R5(a,x)),h=Ze(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),p=ste(o,h,f);if(p.length>=2){var m=Math.min(...p),v=Math.max(...p);(s==null||m<s)&&(s=m),(i==null||v>i)&&(i=v)}var g=kj(h);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),i=i==null?g[1]:Math.max(i,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=kj(Ze(o,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),i=i==null?l[1]:Math.max(i,l[1]))}),ct(s)&&ct(i))return[s,i]},ute=Z([Bk,qt,nte,Zg,Lt],Wk,{memoizeOptions:{resultEqualityCheck:Xg}});function dte(e){var{value:t}=e;if(Ra(t)||t instanceof Date)return t}var fte=(e,t,r)=>{var n=e.map(dte).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&MM(n))?ER(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},B5=e=>e.referenceElements.dots,Bu=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),hte=Z([B5,Lt,B0],Bu),$5=e=>e.referenceElements.areas,pte=Z([$5,Lt,B0],Bu),U5=e=>e.referenceElements.lines,mte=Z([U5,Lt,B0],Bu),z5=(e,t)=>{var r=Ci(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vte=Z(hte,Lt,z5),V5=(e,t)=>{var r=Ci(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gte=Z([pte,Lt],V5);function xte(e){var t;if(e.x!=null)return Ci([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ci(r)}function yte(e){var t;if(e.y!=null)return Ci([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ci(r)}var W5=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?xte(n):yte(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bte=Z([mte,Lt],W5),wte=Z(vte,bte,gte,(e,t,r)=>sv(e,r,t)),Hk=(e,t,r,n,a,s,i,o)=>{if(r!=null)return r;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?sv(n,s,a):sv(s,a);return Oee(t,c,e.allowDataOverflow)},_te=Z([qt,zk,Vk,lte,ute,wte,ze,Lt],Hk,{memoizeOptions:{resultEqualityCheck:Xg}}),kte=[0,1],Kk=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,c=Us(t,s);if(c&&o==null){var u;return ER(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return l==="category"?fte(n,e,c):a==="expand"?kte:i}},Gk=Z([qt,ze,Bk,Qg,L0,Lt,_te],Kk),H5=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(T0(s));return o in Ed?o:"point"}}},$u=Z([qt,ze,D5,Ak,Lt],H5);function Ste(e){if(e!=null){if(e in Ed)return Ed[e]();var t="scale".concat(T0(e));if(t in Ed)return Ed[t]()}}function qk(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ste(t);if(a!=null){var s=a.domain(r).range(n);return jY(s),s}}}var Yk=(e,t,r)=>{var n=Uk(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_o(e))return Uee(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&_o(e))return zee(e,t.tickCount,t.allowDecimals)}},Xk=Z([Gk,$0,$u],Yk),Jk=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&_o(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},Ete=Z([qt,Gk,Xk,Lt],Jk),Cte=Z(Qg,qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ci(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),K5=Z(Cte,ze,w5,Nr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ct(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=kn(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),Tte=(e,t)=>{var r=Vs(e,t);return r==null||typeof r.padding!="string"?0:K5(e,"xAxis",t,r.padding)},Ate=(e,t)=>{var r=Ws(e,t);return r==null||typeof r.padding!="string"?0:K5(e,"yAxis",t,r.padding)},jte=Z(Vs,Tte,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Pte=Z(Ws,Ate,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Nte=Z([Nr,jte,Ig,Mg,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Ote=Z([Nr,ze,Pte,Ig,Mg,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),V0=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Nte(e,r,n);case"yAxis":return Ote(e,r,n);case"zAxis":return(a=Mk(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return C5(e);case"radiusAxis":return T5(e,r);default:return}},G5=Z([qt,V0],Kg),ko=Z([qt,$u,Ete,G5],qk);Z([U0,Zg,Lt],cte);function q5(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ex=(e,t)=>t,tx=(e,t,r)=>r,Dte=Z(Og,ex,tx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q5)),Mte=Z(Dg,ex,tx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(q5)),Y5=(e,t)=>({width:e.width,height:t.height}),Ite=(e,t)=>{var r=typeof t.width=="number"?t.width:O0;return{width:r,height:e.height}},X5=Z(Nr,Vs,Y5),Rte=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Fte=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Lte=Z(Ii,Nr,Dte,ex,tx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=Y5(t,o);i==null&&(i=Rte(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(c)*l.height,i+=(c?-1:1)*l.height}),s}),Bte=Z(Mi,Nr,Mte,ex,tx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=Ite(t,o);i==null&&(i=Fte(t,n,e));var c=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(c)*l.width,i+=(c?-1:1)*l.width}),s}),$te=(e,t)=>{var r=Vs(e,t);if(r!=null)return Lte(e,r.orientation,r.mirror)},Ute=Z([Nr,Vs,$te,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),zte=(e,t)=>{var r=Ws(e,t);if(r!=null)return Bte(e,r.orientation,r.mirror)},Vte=Z([Nr,Ws,zte,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),J5=Z(Nr,Ws,(e,t)=>{var r=typeof t.width=="number"?t.width:O0;return{width:r,height:e.height}}),Sj=(e,t,r)=>{switch(t){case"xAxis":return X5(e,r).width;case"yAxis":return J5(e,r).height;default:return}},Q5=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=Us(e,n),l=t.map(c=>c.value);if(i&&o&&s==="category"&&a&&MM(l))return l}},Qk=Z([ze,Qg,qt,Lt],Q5),Z5=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Us(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},Zk=Z([ze,Qg,$0,Lt],Z5),Ej=Z([ze,tte,$u,ko,Qk,Zk,V0,Xk,Lt],(e,t,r,n,a,s,i,o,l)=>{if(t!=null){var c=Us(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}}),Wte=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var c=Us(e,l),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&s!=null&&s.length>=2?zr(s[0]-s[1])*2*m:m;var v=f||a;if(v){var g=v.map((x,b)=>{var y=i?i.indexOf(x):x;return{index:b,coordinate:n(y)+m,value:x,offset:m}});return g.filter(x=>ct(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})).filter(x=>ct(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:i?i[x]:x,index:b,offset:m}))}},eF=Z([ze,$0,$u,ko,Xk,V0,Qk,Zk,Lt],Wte),Hte=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Us(e,i),{tickCount:l}=t,c=0;return c=i==="angleAxis"&&(n==null?void 0:n.length)>=2?zr(n[0]-n[1])*2*c:c,o&&s?s.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},Ba=Z([ze,$0,ko,V0,Qk,Zk,Lt],Hte),$a=Z(qt,ko,(e,t)=>{if(!(e==null||t==null))return av(av({},e),{},{scale:t})}),Kte=Z([qt,$u,Gk,G5],qk),Gte=Z((e,t,r)=>Mk(e,r),Kte,(e,t)=>{if(!(e==null||t==null))return av(av({},e),{},{scale:t})}),qte=Z([ze,Og,Dg],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),tF=e=>e.options.defaultTooltipEventType,rF=e=>e.options.validateTooltipEventTypes;function nF(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function eS(e,t){var r=tF(e),n=rF(e);return nF(t,r,n)}function Yte(e){return ye(t=>eS(t,e))}var aF=(e,t)=>{var r,n=Number(t);if(!(Zn(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Xte=e=>e.tooltip.settings,Qi={active:!1,index:null,dataKey:void 0,coordinate:void 0},Jte={itemInteraction:{click:Qi,hover:Qi},axisInteraction:{click:Qi,hover:Qi},keyboardInteraction:Qi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},sF=ea({name:"tooltip",initialState:Jte,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Nt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ls(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Nt()},removeTooltipEntrySettings:{reducer(e,t){var r=ls(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Nt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Qte,replaceTooltipEntrySettings:Zte,removeTooltipEntrySettings:ere,setTooltipSettingsState:tre,setActiveMouseOverItemIndex:iF,mouseLeaveItem:rre,mouseLeaveChart:oF,setActiveClickItemIndex:nre,setMouseOverAxisIndex:lF,setMouseClickAxisIndex:are,setSyncInteraction:gw,setKeyboardInteraction:xw}=sF.actions,sre=sF.reducer;function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){ire(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ire(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cre(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ure(e){return e.index!=null}var cF=(e,t,r,n)=>{if(t==null)return Qi;var a=cre(e,t,r);if(a==null)return Qi;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(ure(a)){if(s)return sp(sp({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return sp(sp({},Qi),{},{coordinate:a.coordinate})};function dre(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function fre(e,t){var r=dre(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function hre(e,t,r){if(r==null||t==null)return!0;var n=Ze(e,t);return n==null||!_o(r)?!0:fre(n,r)}var tS=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!ct(s))return a;var i=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(i,Math.min(s,o)),c=t[l];return c==null||hre(c,r,n)?String(l):null},uF=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},dF=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},W0=e=>e.options.tooltipPayloadSearcher,Uu=e=>e.tooltip;function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Aj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){pre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pre(e,t,r){return(t=mre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mre(e){var t=vre(e,"string");return typeof t=="symbol"?t:t+""}function vre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gre(e,t){return e??t}var fF=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:v,settings:g}=p,x=gre(v,o),b=Array.isArray(x)?VI(x,c,u):x,y=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,k=g==null?void 0:g.nameKey,E;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?E=IM(b,n,a):E=s(b,t,l,k),Array.isArray(E))E.forEach(S=>{var C=Aj(Aj({},g),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});h.push(rA({tooltipEntrySettings:C,dataKey:S.dataKey,payload:S.payload,value:Ze(S.payload,S.dataKey),name:S.name}))});else{var _;h.push(rA({tooltipEntrySettings:g,dataKey:y,payload:E,value:Ze(E,y),name:(_=Ze(E,k))!==null&&_!==void 0?_:g==null?void 0:g.name}))}return h},f)}},rS=Z([Mr,ze,D5,Ak,Dr],H5),xre=Z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),yre=Z([Dr,Fu],Ik),H0=Z([xre,Mr,yre],Rk,{memoizeOptions:{resultEqualityCheck:Jg}}),bre=Z([H0],e=>e.filter(Yg)),wre=Z([H0],Fk,{memoizeOptions:{resultEqualityCheck:Jg}}),zu=Z([wre,Ro],Lk),_re=Z([bre,Ro,Mr],j5),nS=Z([zu,Mr,H0],$k),hF=Z([Mr],Uk),kre=Z([Mr],e=>e.allowDataOverflow),pF=Z([hF,kre],i5),Sre=Z([H0],e=>e.filter(Yg)),Ere=Z([_re,Sre,L0,_5],F5),Cre=Z([Ere,Ro,Dr,pF],L5),Tre=Z([H0],I5),Are=Z([zu,Mr,Tre,Zg,Dr],Wk,{memoizeOptions:{resultEqualityCheck:Xg}}),jre=Z([B5,Dr,Fu],Bu),Pre=Z([jre,Dr],z5),Nre=Z([$5,Dr,Fu],Bu),Ore=Z([Nre,Dr],V5),Dre=Z([U5,Dr,Fu],Bu),Mre=Z([Dre,Dr],W5),Ire=Z([Pre,Mre,Ore],sv),Rre=Z([Mr,hF,pF,Cre,Are,Ire,ze,Dr],Hk),K0=Z([Mr,ze,zu,nS,L0,Dr,Rre],Kk),Fre=Z([K0,Mr,rS],Yk),Lre=Z([Mr,K0,Fre,Dr],Jk),mF=e=>{var t=Dr(e),r=Fu(e),n=!1;return V0(e,t,r,n)},vF=Z([Mr,mF],Kg),gF=Z([Mr,rS,Lre,vF],qk),Bre=Z([ze,nS,Mr,Dr],Q5),$re=Z([ze,nS,Mr,Dr],Z5),Ure=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=Us(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?zr(a[0]-a[1])*2*f:f,c&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},Fi=Z([ze,Mr,rS,gF,mF,Bre,$re,Dr],Ure),aS=Z([tF,rF,Xte],(e,t,r)=>nF(r.shared,e,t)),xF=e=>e.tooltip.settings.trigger,sS=e=>e.tooltip.settings.defaultIndex,rx=Z([Uu,aS,xF,sS],cF),Ti=Z([rx,zu,z0,K0],tS),yF=Z([Fi,Ti],aF),bF=Z([rx],e=>{if(e)return e.dataKey}),wF=Z([Uu,aS,xF,sS],dF),zre=Z([Mi,Ii,ze,Nr,Fi,sS,wF,W0],uF),Vre=Z([rx,zre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Wre=Z([rx],e=>e.active),Hre=Z([wF,Ti,Ro,z0,yF,W0,aS],fF),Kre=Z([Hre],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){Gre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gre(e,t,r){return(t=qre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qre(e){var t=Yre(e,"string");return typeof t=="symbol"?t:t+""}function Yre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xre=()=>ye(Mr),Jre=()=>{var e=Xre(),t=ye(Fi),r=ye(gF);return wo(!e||!r?void 0:Pj(Pj({},e),{},{scale:r}),t)};function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){Qre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qre(e,t,r){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zre(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tne=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},rne=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return uc(uc(uc({},n),yr(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return uc(uc(uc({},n),yr(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function nne(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var _F=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(zr(u-c)!==zr(f-u)){var p=[];if(zr(f-u)===zr(a[1]-a[0])){h=f;var m=u+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var v=f+a[1]-a[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,f),b=Math.max(c,f);if(e>(x+u)/2&&e<=(b+u)/2){({index:i}=r[l]);break}}}else if(t){for(var y=0;y<o;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}}return i},kF=()=>ye(Ak),iS=(e,t)=>t,SF=(e,t,r)=>r,oS=(e,t,r,n)=>n,ane=Z(Fi,e=>kg(e,t=>t.coordinate)),lS=Z([Uu,iS,SF,oS],cF),cS=Z([lS,zu,z0,K0],tS),sne=(e,t,r)=>{if(t!=null){var n=Uu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},EF=Z([Uu,iS,SF,oS],dF),iv=Z([Mi,Ii,ze,Nr,Fi,oS,EF,W0],uF),ine=Z([lS,iv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),CF=Z([Fi,cS],aF),one=Z([EF,cS,Ro,z0,CF,W0,iS],fF),lne=Z([lS,cS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),cne=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&nne(e,i)){var o=BY(e,t),l=_F(o,s,a,r,n),c=tne(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},une=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var o=QJ(e,r);if(o){var l=$Y(o,t),c=_F(l,i,s,n,a),u=rne(t,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},dne=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?cne(e,t,n,a,s,i,o):une(e,t,r,n,a,s,i)},fne=Z(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),hne=Z(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Ft)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Jee}});function Oj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(r),!0).forEach(function(n){pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pne(e,t,r){return(t=mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mne(e){var t=vne(e,"string");return typeof t=="symbol"?t:t+""}function vne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gne={},xne={zIndexMap:Object.values(Ft).reduce((e,t)=>Dj(Dj({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),gne)},yne=new Set(Object.values(Ft));function bne(e){return yne.has(e)}var TF=ea({name:"zIndex",initialState:xne,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Nt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!bne(r)&&delete e.zIndexMap[r])},prepare:Nt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Nt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Nt()}}}),{registerZIndexPortal:wne,unregisterZIndexPortal:_ne,registerZIndexPortalId:kne,unregisterZIndexPortalId:Sne}=TF.actions,Ene=TF.reducer;function Kr(e){var{zIndex:t,children:r}=e,n=pX(),a=n&&t!==void 0&&t!==0,s=cr(),i=mt();w.useLayoutEffect(()=>a?(i(wne({zIndex:t})),()=>{i(_ne({zIndex:t}))}):A0,[i,t,a]);var o=ye(c=>fne(c,t,s));if(!a)return r;if(!o)return null;var l=document.getElementById(o);return l?x0.createPortal(r,l):null}function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yw.apply(null,arguments)}function Mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ip(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mj(Object(r),!0).forEach(function(n){Cne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cne(e,t,r){return(t=Tne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tne(e){var t=Ane(e,"string");return typeof t=="symbol"?t:t+""}function Ane(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jne(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function Pne(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,f=r,h=n,p=a;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var m,v,g;if(u==="ScatterChart")m=f,v=pJ,g=Ft.cursorLine;else if(u==="BarChart")m=mJ(o,f,s,i),v=gR,g=Ft.cursorRectangle;else if(o==="radial"&&FM(f)){var{cx:x,cy:b,radius:y,startAngle:k,endAngle:E}=yR(f);m={cx:x,cy:b,startAngle:k,endAngle:E,innerRadius:y,outerRadius:y},v=wR,g=Ft.cursorLine}else m={points:rQ(o,f,s)},v=ml,g=Ft.cursorLine;var _=typeof l=="object"&&"className"in l?l.className:void 0,S=ip(ip(ip(ip({stroke:"#ccc",pointerEvents:"none"},s),m),bo(l)),{},{payload:h,payloadIndex:p,className:He("recharts-tooltip-cursor",_)});return w.createElement(Kr,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},w.createElement(jne,{cursor:l,cursorComp:v,cursorProps:S}))}function Nne(e){var t=Jre(),r=tR(),n=zl(),a=kF();return t==null||r==null||n==null||a==null?null:w.createElement(Pne,yw({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var AF=w.createContext(null),One=()=>w.useContext(AF),jF={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,m),!0}for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var k=g.length,E;for(y=0;y<k;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),x){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,u);break;case 3:g[y].fn.call(g[y].context,u,f);break;case 4:g[y].fn.call(g[y].context,u,f,h);break;default:if(!b)for(E=1,b=new Array(x-1);E<x;E++)b[E-1]=arguments[E];g[y].fn.apply(g[y].context,b)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,g=[],x=m.length;v<x;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(jF);var Dne=jF.exports;const Mne=Bs(Dne);var Kf=new Mne,bw="recharts.syncEvent.tooltip",Ij="recharts.syncEvent.brush";function G0(e,t){if(t){var r=Number.parseInt(t,10);if(!Zn(r))return e==null?void 0:e[r]}}var Ine={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},PF=ea({name:"options",initialState:Ine,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Rne=PF.reducer,{createEventEmitter:Fne}=PF.actions;function Lne(e){return e.tooltip.syncInteraction}var Bne={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},NF=ea({name:"chartData",initialState:Bne,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Rj,setDataStartEndIndexes:$ne,setComputedData:qTe}=NF.actions,Une=NF.reducer,zne=["x","y"];function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kne(e,t){if(e==null)return{};var r,n,a=Gne(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qne(){var e=ye(jk),t=ye(Pk),r=mt(),n=ye(k5),a=ye(Fi),s=zl(),i=Ou(),o=ye(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return A0;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(i&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:m,y:v}=p,g=Kne(p,zne),{x,y:b,width:y,height:k}=u.payload.sourceViewBox,E=dc(dc({},g),{},{x:i.x+(y?(m-x)/y:0)*i.width,y:i.y+(k?(v-b)/k:0)*i.height});r(dc(dc({},u),{},{payload:dc(dc({},u.payload),{},{coordinate:E})}))}else r(u);return}if(a!=null){var _;if(typeof n=="function"){var S={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(a,S);_=a[C]}else n==="value"&&(_=a.find(X=>String(X.value)===u.payload.label));var{coordinate:T}=u.payload;if(_==null||u.payload.active===!1||T==null||i==null){r(gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:j,y:P}=T,A=Math.min(j,i.x+i.width),N=Math.min(P,i.y+i.height),L={x:s==="horizontal"?_.coordinate:A,y:s==="horizontal"?N:_.coordinate},K=gw({active:u.payload.active,coordinate:L,dataKey:u.payload.dataKey,index:String(_.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});r(K)}}};return Kf.on(bw,l),()=>{Kf.off(bw,l)}},[o,r,t,e,n,a,s,i])}function Yne(){var e=ye(jk),t=ye(Pk),r=mt();w.useEffect(()=>{if(e==null)return A0;var n=(a,s,i)=>{t!==i&&e===a&&r($ne(s))};return Kf.on(Ij,n),()=>{Kf.off(Ij,n)}},[r,t,e])}function Xne(){var e=mt();w.useEffect(()=>{e(Fne())},[e]),qne(),Yne()}function Jne(e,t,r,n,a,s){var i=ye(p=>sne(p,e,t)),o=ye(Pk),l=ye(jk),c=ye(k5),u=ye(Lne),f=u==null?void 0:u.active,h=Ou();w.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=gw({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});Kf.emit(bw,l,p,o)}},[f,r,i,a,n,o,l,c,s,h])}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){Qne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qne(e,t,r){return(t=Zne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zne(e){var t=eae(e,"string");return typeof t=="symbol"?t:t+""}function eae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tae(e){return e.dataKey}function rae(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(KX,t)}var $j=[],nae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Do.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ct(e){var t,r,n=Pt(e,nae),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:m,useTranslate3d:v,wrapperStyle:g,cursor:x,shared:b,trigger:y,defaultIndex:k,portal:E,axisId:_}=n,S=mt(),C=typeof k=="number"?String(k):k;w.useEffect(()=>{S(tre({shared:b,trigger:y,axisId:_,active:a,defaultIndex:C}))},[S,b,y,_,a,C]);var T=Ou(),j=fR(),P=Yte(b),{activeIndex:A,isActive:N}=(t=ye(oe=>lne(oe,P,y,C)))!==null&&t!==void 0?t:{},L=ye(oe=>one(oe,P,y,C)),K=ye(oe=>CF(oe,P,y,C)),X=ye(oe=>ine(oe,P,y,C)),W=L,q=One(),I=(r=a??N)!==null&&r!==void 0?r:!1,[J,Q]=hI([W,I]),M=P==="axis"?K:void 0;Jne(P,y,X,M,A,I);var U=E??q;if(U==null||T==null||P==null)return null;var G=W??$j;I||(G=$j),c&&G.length&&(G=tI(G.filter(oe=>oe.value!=null&&(oe.hide!==!0||n.includeHidden)),h,tae));var H=G.length>0,ee=w.createElement(ZX,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:u,active:I,coordinate:X,hasPayload:H,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:T,wrapperStyle:g,lastBoundingBox:J,innerRef:Q,hasPortalFromProps:!!E},rae(l,Bj(Bj({},n),{},{payload:G,label:M,active:I,activeIndex:A,coordinate:X,accessibilityLayer:j})));return w.createElement(w.Fragment,null,x0.createPortal(ee,U),I&&w.createElement(Nne,{cursor:x,tooltipEventType:P,coordinate:X,payload:G,index:A}))}var Ms=e=>null;Ms.displayName="Cell";function aae(e,t,r){return(t=sae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oae{constructor(t){aae(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lae(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cae(e,t,r){return(t=uae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fae={cacheSize:2e3,enableCache:!0},OF=lae({},fae),zj=new oae(OF.cacheSize),hae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Vj="recharts_measurement_span";function pae(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var Wj=(e,t)=>{try{var r=document.getElementById(Vj);r||(r=document.createElement("span"),r.setAttribute("id",Vj),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,hae,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Vd=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Do.isSsr)return{width:0,height:0};if(!OF.enableCache)return Wj(t,r);var n=pae(t,r),a=zj.get(n);if(a)return a;var s=Wj(t,r);return zj.set(n,s),s},Hj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Kj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,DF={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gae=Object.keys(DF),Rc="NaN";function xae(e,t){return e*DF[t]}class Wn{static parse(t){var r,[,n,a]=(r=vae.exec(t))!==null&&r!==void 0?r:[];return new Wn(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Zn(t)&&(this.unit=""),r!==""&&!mae.test(r)&&(this.num=NaN,this.unit=""),gae.includes(r)&&(this.num=xae(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wn(NaN,""):new Wn(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Zn(this.num)}}function MF(e){if(e.includes(Rc))return Rc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=Hj.exec(t))!==null&&r!==void 0?r:[],i=Wn.parse(n??""),o=Wn.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return Rc;t=t.replace(Hj,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=Kj.exec(t))!==null&&c!==void 0?c:[],p=Wn.parse(u??""),m=Wn.parse(h??""),v=f==="+"?p.add(m):p.subtract(m);if(v.isNaN())return Rc;t=t.replace(Kj,v.toString())}return t}var Gj=/\(([^()]*)\)/;function yae(e){for(var t=e,r;(r=Gj.exec(t))!=null;){var[,n]=r;t=t.replace(Gj,MF(n))}return t}function bae(e){var t=e.replace(/\s+/g,"");return t=yae(t),t=MF(t),t}function wae(e){try{return bae(e)}catch{return Rc}}function Ry(e){var t=wae(e.slice(5,-1));return t===Rc?"":t}var _ae=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],kae=["dx","dy","angle","className","breakAll"];function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ww.apply(null,arguments)}function qj(e,t){if(e==null)return{};var r,n,a=Sae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IF=/[ \f\n\r\t\v\u2028\u2029]+/,RF=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];it(t)||(r?a=t.toString().split(""):a=t.toString().split(IF));var s=a.map(o=>({word:o,width:Vd(o,n).width})),i=r?0:Vd("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Eae(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var FF=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:o}=s,l=a[a.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(i),l.width+=o+r;else{var c={words:[i],width:o};a.push(c)}return a},[]),LF=e=>e.reduce((t,r)=>t.width>r.width?t:r),Cae="",Yj=(e,t,r,n,a,s,i,o)=>{var l=e.slice(0,t),c=RF({breakAll:r,style:n,children:l+Cae});if(!c)return[!1,[]];var u=FF(c.wordsWithComputedWidth,s,i,o),f=u.length>a||LF(u).width>Number(s);return[f,u]},Tae=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=_e(s),u=String(i),f=FF(t,n,r,a);if(!c||a)return f;var h=f.length>s||LF(f).width>Number(n);if(!h)return f;for(var p=0,m=u.length-1,v=0,g;p<=m&&v<=u.length-1;){var x=Math.floor((p+m)/2),b=x-1,[y,k]=Yj(u,b,l,o,s,n,r,a),[E]=Yj(u,x,l,o,s,n,r,a);if(!y&&!E&&(p=x+1),y&&E&&(m=x-1),!y&&E){g=k;break}v++}return g||f},Xj=e=>{var t=it(e)?[]:e.toString().split(IF);return[{words:t,width:void 0}]},Aae=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Do.isSsr){var o,l,c=RF({breakAll:s,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return Xj(n);return Tae({breakAll:s,children:n,maxLines:i,style:a},o,l,t,!!r)}return Xj(n)},BF="#808080",jae={angle:0,breakAll:!1,capHeight:"0.71em",fill:BF,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nx=w.forwardRef((e,t)=>{var r=Pt(e,jae),{x:n,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,f=qj(r,_ae),h=w.useMemo(()=>Aae({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:v,className:g,breakAll:x}=f,b=qj(f,kae);if(!Ra(n)||!Ra(a)||h.length===0)return null;var y=Number(n)+(_e(p)?p:0),k=Number(a)+(_e(m)?m:0);if(!ct(y)||!ct(k))return null;var E;switch(u){case"start":E=Ry("calc(".concat(i,")"));break;case"middle":E=Ry("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:E=Ry("calc(".concat(h.length-1," * -").concat(s,")"));break}var _=[];if(l){var S=h[0].width,{width:C}=f;_.push("scale(".concat(_e(C)&&_e(S)?C/S:1,")"))}return v&&_.push("rotate(".concat(v,", ").concat(y,", ").concat(k,")")),_.length&&(b.transform=_.join(" ")),w.createElement("text",ww({},on(b),{ref:t,x:y,y:k,className:He("recharts-text",g),textAnchor:c,fill:o.includes("url")?BF:o}),h.map((T,j)=>{var P=T.words.join(x?"":" ");return w.createElement("tspan",{x:y,dy:j===0?E:s,key:"".concat(P,"-").concat(j)},P)}))});nx.displayName="Text";var Pae=["labelRef"];function Nae(e,t){if(e==null)return{};var r,n,a=Oae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){Dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dae(e,t,r){return(t=Mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zs(){return Zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zs.apply(null,arguments)}var $F=w.createContext(null),UF=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:o}=e,l=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return w.createElement($F.Provider,{value:l},o)},zF=()=>{var e=w.useContext($F),t=Ou();return e||eR(t)},Rae=w.createContext(null),Fae=()=>{var e=w.useContext(Rae),t=ye(A5);return e||t},Lae=e=>{var{value:t,formatter:r}=e,n=it(e.children)?t:e.children;return typeof r=="function"?r(n):n},uS=e=>e!=null&&typeof e=="function",Bae=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},$ae=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=a,m=(c+u)/2,v=Bae(f,h),g=v>=0?1:-1,x,b;switch(t){case"insideStart":x=f+g*s,b=p;break;case"insideEnd":x=h-g*s,b=!p;break;case"end":x=h+g*s,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var y=yr(o,l,m,x),k=yr(o,l,m,x+(b?1:-1)*359),E="M".concat(y.x,",").concat(y.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(k.x,",").concat(k.y),_=it(e.id)?Of("recharts-radial-line-"):e.id;return w.createElement("text",Zs({},n,{dominantBaseline:"central",className:He("recharts-radial-bar-label",i)}),w.createElement("defs",null,w.createElement("path",{id:_,d:E})),w.createElement("textPath",{xlinkHref:"#".concat(_)},r))},Uae=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=yr(n,a,i+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:m}=yr(n,a,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},_w=e=>"cx"in e&&_e(e.cx),zae=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!_w(r)&&(s=r);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:u}=t,f=i,h=i+(l-c)/2,p=(f+h)/2,m=(l+c)/2,v=f+l/2,g=u>=0?1:-1,x=g*n,b=g>0?"end":"start",y=g>0?"start":"end",k=l>=0?1:-1,E=k*n,_=k>0?"end":"start",S=k>0?"start":"end";if(a==="top"){var C={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return nr(nr({},C),s?{height:Math.max(o-s.y,0),width:l}:{})}if(a==="bottom"){var T={x:h+c/2,y:o+u+x,textAnchor:"middle",verticalAnchor:y};return nr(nr({},T),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(a==="left"){var j={x:p-E,y:o+u/2,textAnchor:_,verticalAnchor:"middle"};return nr(nr({},j),s?{width:Math.max(j.x-s.x,0),height:u}:{})}if(a==="right"){var P={x:p+m+E,y:o+u/2,textAnchor:S,verticalAnchor:"middle"};return nr(nr({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:u}:{})}var A=s?{width:m,height:u}:{};return a==="insideLeft"?nr({x:p+E,y:o+u/2,textAnchor:S,verticalAnchor:"middle"},A):a==="insideRight"?nr({x:p+m-E,y:o+u/2,textAnchor:_,verticalAnchor:"middle"},A):a==="insideTop"?nr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},A):a==="insideBottom"?nr({x:h+c/2,y:o+u-x,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?nr({x:f+E,y:o+x,textAnchor:S,verticalAnchor:y},A):a==="insideTopRight"?nr({x:f+l-E,y:o+x,textAnchor:_,verticalAnchor:y},A):a==="insideBottomLeft"?nr({x:h+E,y:o+u-x,textAnchor:S,verticalAnchor:b},A):a==="insideBottomRight"?nr({x:h+c-E,y:o+u-x,textAnchor:_,verticalAnchor:b},A):a&&typeof a=="object"&&(_e(a.x)||wi(a.x))&&(_e(a.y)||wi(a.y))?nr({x:i+kn(a.x,m),y:o+kn(a.y,u),textAnchor:"end",verticalAnchor:"end"},A):nr({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Vae={angle:0,offset:5,zIndex:Ft.label,position:"middle",textBreakAll:!1};function qi(e){var t=Pt(e,Vae),{viewBox:r,position:n,value:a,children:s,content:i,className:o="",textBreakAll:l,labelRef:c}=t,u=Fae(),f=zF(),h=n==="center"?f:u??f,p,m,v;if(r==null?p=h:_w(r)?p=r:p=eR(r),!p||it(a)&&it(s)&&!w.isValidElement(i)&&typeof i!="function")return null;var g=nr(nr({},t),{},{viewBox:p});if(w.isValidElement(i)){var{labelRef:x}=g,b=Nae(g,Pae);return w.cloneElement(i,b)}if(typeof i=="function"){if(m=w.createElement(i,g),w.isValidElement(m))return m}else m=Lae(t);var y=on(t);if(_w(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return $ae(t,n,m,y,p);v=Uae(p,t.offset,t.position)}else v=zae(t,p);return w.createElement(Kr,{zIndex:t.zIndex},w.createElement(nx,Zs({ref:c,className:He("recharts-label",o)},y,v,{textAnchor:Eae(y.textAnchor)?y.textAnchor:v.textAnchor,breakAll:l}),m))}qi.displayName="Label";var Wae=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(qi,Zs({key:"label-implicit"},n)):Ra(e)?w.createElement(qi,Zs({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===qi?w.cloneElement(e,nr({key:"label-implicit"},n)):w.createElement(qi,Zs({key:"label-implicit",content:e},n)):uS(e)?w.createElement(qi,Zs({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(qi,Zs({},e,{key:"label-implicit"},n)):null};function VF(e){var{label:t,labelRef:r}=e,n=zF();return Wae(t,n,r)||null}var WF={},HF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(HF);var KF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(KF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HF,r=KF,n=wg;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(WF);var Hae=WF.last;const Kae=Bs(Hae);var Gae=["valueAccessor"],qae=["dataKey","clockWise","id","textBreakAll","zIndex"];function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function Qj(e,t){if(e==null)return{};var r,n,a=Yae(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xae=e=>Array.isArray(e.value)?Kae(e.value):e.value,GF=w.createContext(void 0),ax=GF.Provider,qF=w.createContext(void 0),Jae=qF.Provider;function Qae(){return w.useContext(GF)}function Zae(){return w.useContext(qF)}function Hp(e){var{valueAccessor:t=Xae}=e,r=Qj(e,Gae),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:o}=r,l=Qj(r,qae),c=Qae(),u=Zae(),f=c||u;return!f||!f.length?null:w.createElement(Kr,{zIndex:o??Ft.label},w.createElement(ft,{className:"recharts-label-list"},f.map((h,p)=>{var m,v=it(n)?t(h,p):Ze(h&&h.payload,n),g=it(s)?{}:{id:"".concat(s,"-").concat(p)};return w.createElement(qi,ov({key:"label-".concat(p)},on(h),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:i,viewBox:h.viewBox,index:p,zIndex:0}))})))}Hp.displayName="LabelList";function q0(e){var{label:t}=e;return t?t===!0?w.createElement(Hp,{key:"labelList-implicit"}):w.isValidElement(t)||uS(t)?w.createElement(Hp,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Hp,ov({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function kw(){return kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kw.apply(null,arguments)}var YF=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=He("recharts-dot",a);return _e(t)&&_e(r)&&_e(n)?w.createElement("circle",kw({},sn(e),T_(e),{className:s,cx:t,cy:r,r:n})):null},XF=e=>e.graphicalItems.polarItems,ese=Z([Lt,B0],Ik),sx=Z([XF,qt,ese],Rk),tse=Z([sx],Fk),ix=Z([tse,Ek],Lk),rse=Z([ix,qt,sx],$k);Z([ix,qt,sx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=Ze(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ze(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var Zj=()=>{},nse=Z([ix,qt,sx,Zg,Lt],Wk),ase=Z([qt,zk,Vk,Zj,nse,Zj,ze,Lt],Hk),JF=Z([qt,ze,ix,rse,L0,Lt,ase],Kk),sse=Z([JF,qt,$u],Yk);Z([qt,JF,sse,Lt],Jk);var ise={radiusAxis:{},angleAxis:{}},QF=ea({name:"polarAxis",initialState:ise,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:YTe,removeRadiusAxis:XTe,addAngleAxis:JTe,removeAngleAxis:QTe}=QF.actions,ose=QF.reducer;function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){lse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lse(e,t,r){return(t=cse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cse(e){var t=use(e,"string");return typeof t=="symbol"?t:t+""}function use(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dse=(e,t)=>t,dS=Z([XF,dse],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),fse=[],fS=(e,t,r)=>(r==null?void 0:r.length)===0?fse:r,ZF=Z([Ek,dS,fS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>tP(tP({},t.presentationProps),s.props))),a!=null)return a}}),hse=Z([ZF,dS,fS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=Ze(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:zs(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),pse=Z([ZF,dS,fS,Nr],(e,t,r,n)=>{if(!(t==null||e==null))return wie({offset:n,pieSettings:t,displayedData:e,cells:r})}),e8={exports:{}},vt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ox=60103,lx=60106,Y0=60107,X0=60108,J0=60114,Q0=60109,Z0=60110,eh=60112,th=60113,hS=60120,rh=60115,nh=60116,t8=60121,r8=60122,n8=60117,a8=60129,s8=60131;if(typeof Symbol=="function"&&Symbol.for){var qr=Symbol.for;ox=qr("react.element"),lx=qr("react.portal"),Y0=qr("react.fragment"),X0=qr("react.strict_mode"),J0=qr("react.profiler"),Q0=qr("react.provider"),Z0=qr("react.context"),eh=qr("react.forward_ref"),th=qr("react.suspense"),hS=qr("react.suspense_list"),rh=qr("react.memo"),nh=qr("react.lazy"),t8=qr("react.block"),r8=qr("react.server.block"),n8=qr("react.fundamental"),a8=qr("react.debug_trace_mode"),s8=qr("react.legacy_hidden")}function fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ox:switch(e=e.type,e){case Y0:case J0:case X0:case th:case hS:return e;default:switch(e=e&&e.$$typeof,e){case Z0:case eh:case nh:case rh:case Q0:return e;default:return t}}case lx:return t}}}var mse=Q0,vse=ox,gse=eh,xse=Y0,yse=nh,bse=rh,wse=lx,_se=J0,kse=X0,Sse=th;vt.ContextConsumer=Z0;vt.ContextProvider=mse;vt.Element=vse;vt.ForwardRef=gse;vt.Fragment=xse;vt.Lazy=yse;vt.Memo=bse;vt.Portal=wse;vt.Profiler=_se;vt.StrictMode=kse;vt.Suspense=Sse;vt.isAsyncMode=function(){return!1};vt.isConcurrentMode=function(){return!1};vt.isContextConsumer=function(e){return fs(e)===Z0};vt.isContextProvider=function(e){return fs(e)===Q0};vt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ox};vt.isForwardRef=function(e){return fs(e)===eh};vt.isFragment=function(e){return fs(e)===Y0};vt.isLazy=function(e){return fs(e)===nh};vt.isMemo=function(e){return fs(e)===rh};vt.isPortal=function(e){return fs(e)===lx};vt.isProfiler=function(e){return fs(e)===J0};vt.isStrictMode=function(e){return fs(e)===X0};vt.isSuspense=function(e){return fs(e)===th};vt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Y0||e===J0||e===a8||e===X0||e===th||e===hS||e===s8||typeof e=="object"&&e!==null&&(e.$$typeof===nh||e.$$typeof===rh||e.$$typeof===Q0||e.$$typeof===Z0||e.$$typeof===eh||e.$$typeof===n8||e.$$typeof===t8||e[0]===r8)};vt.typeOf=fs;e8.exports=vt;var Ese=e8.exports,rP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",nP=null,Fy=null,i8=e=>{if(e===nP&&Array.isArray(Fy))return Fy;var t=[];return w.Children.forEach(e,r=>{it(r)||(Ese.isFragment(r)?t=t.concat(i8(r.props.children)):t.push(r))}),Fy=t,nP=e,t};function cx(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>rP(a)):n=[rP(t)],i8(e).forEach(a=>{var s=Tl(a,"type.displayName")||Tl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var pS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,o8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(o8);var Cse=o8.isPlainObject;const Tse=Bs(Cse);function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){Ase(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ase(e,t,r){return(t=jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=Pse(e,"string");return typeof t=="symbol"?t:t+""}function Pse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lv(){return lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lv.apply(null,arguments)}var iP=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Nse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ose=e=>{var t=Pt(e,Nse),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=w.useRef(null),[p,m]=w.useState(-1),v=w.useRef(a),g=w.useRef(s),x=w.useRef(i),b=w.useRef(r),y=w.useRef(n),k=Wl(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var L=h.current.getTotalLength();L&&m(L)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var E=He("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",lv({},on(t),{className:E,d:iP(r,n,a,s,i)})));var _=v.current,S=g.current,C=x.current,T=b.current,j=y.current,P="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),N=hR(["strokeDasharray"],c,l);return w.createElement(Vl,{animationId:k,key:k,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},L=>{var K=qe(_,a,L),X=qe(S,s,L),W=qe(C,i,L),q=qe(T,r,L),I=qe(j,n,L);h.current&&(v.current=K,g.current=X,x.current=W,b.current=q,y.current=I);var J=L>0?{transition:N,strokeDasharray:A}:{strokeDasharray:P};return w.createElement("path",lv({},on(t),{className:E,d:iP(q,I,K,X,W),ref:h,style:sP(sP({},J),t.style)}))})},Dse=["option","shapeType","propTransformer","activeClassName"];function Mse(e,t){if(e==null)return{};var r,n,a=Ise(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ise(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){Rse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rse(e,t,r){return(t=Fse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fse(e){var t=Lse(e,"string");return typeof t=="symbol"?t:t+""}function Lse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bse(e,t){return cv(cv({},t),e)}function $se(e,t){return e==="symbols"}function lP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(gR,r);case"trapezoid":return w.createElement(Ose,r);case"sector":return w.createElement(wR,r);case"symbols":if($se(t))return w.createElement(bg,r);break;case"curve":return w.createElement(ml,r);default:return null}}function Use(e){return w.isValidElement(e)?e.props:e}function Gf(e){var{option:t,shapeType:r,propTransformer:n=Bse,activeClassName:a="recharts-active-shape"}=e,s=Mse(e,Dse),i;if(w.isValidElement(t))i=w.cloneElement(t,cv(cv({},s),Use(t)));else if(typeof t=="function")i=t(s);else if(Tse(t)&&typeof t!="boolean"){var o=n(t,s);i=w.createElement(lP,{shapeType:r,elementProps:o})}else{var l=s;i=w.createElement(lP,{shapeType:r,elementProps:l})}return s.isActive?w.createElement(ft,{className:a},i):i}var ux=(e,t)=>{var r=mt();return(n,a)=>s=>{e==null||e(n,a,s),r(iF({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},dx=e=>{var t=mt();return(r,n)=>a=>{e==null||e(r,n,a),t(rre())}},fx=(e,t)=>{var r=mt();return(n,a)=>s=>{e==null||e(n,a,s),r(nre({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function ah(e){var{tooltipEntrySettings:t}=e,r=mt(),n=cr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(Qte(t)):a.current!==t&&r(Zte({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(ere(a.current)),a.current=null)},[r]),null}function hx(e){var{legendPayload:t}=e,r=mt(),n=cr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(cR(t)):a.current!==t&&r(uR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(dR(a.current)),a.current=null)},[r]),null}function zse(e){var{legendPayload:t}=e,r=mt(),n=ye(ze),a=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(cR(t)):a.current!==t&&r(uR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(dR(a.current)),a.current=null)},[r]),null}var Ly,Vse=()=>{var[e]=w.useState(()=>Of("uid-"));return e},Wse=(Ly=S9.useId)!==null&&Ly!==void 0?Ly:Vse;function l8(e,t){var r=Wse();return t||(e?"".concat(e,"-").concat(r):r)}var Hse=w.createContext(void 0),sh=e=>{var{id:t,type:r,children:n}=e,a=l8("recharts-".concat(r),t);return w.createElement(Hse.Provider,{value:a},n(a))},Kse={cartesianItems:[],polarItems:[]},c8=ea({name:"graphicalItems",initialState:Kse,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Nt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=ls(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Nt()},removeCartesianGraphicalItem:{reducer(e,t){var r=ls(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Nt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Nt()},removePolarGraphicalItem:{reducer(e,t){var r=ls(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Nt()}}}),{addCartesianGraphicalItem:Gse,replaceCartesianGraphicalItem:qse,removeCartesianGraphicalItem:Yse,addPolarGraphicalItem:Xse,removePolarGraphicalItem:Jse}=c8.actions,Qse=c8.reducer,Zse=e=>{var t=mt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Gse(e)):r.current!==e&&t(qse({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(Yse(r.current)),r.current=null)},[t]),null},px=w.memo(Zse);function eie(e){var t=mt();return w.useLayoutEffect(()=>(t(Xse(e)),()=>{t(Jse(e))}),[t,e]),null}var tie=["key"],rie=["onMouseEnter","onClick","onMouseLeave"],nie=["id"],aie=["id"];function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t,r){return(t=iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function So(){return So=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},So.apply(null,arguments)}function mx(e,t){if(e==null)return{};var r,n,a=lie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cie(e){var t=w.useMemo(()=>cx(e.children,Ms),[e.children]),r=ye(n=>hse(n,e.id,t));return r==null?null:w.createElement(zse,{legendPayload:r})}var uie=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:zs(o,t),hide:l,type:c,color:i,unit:""}};return w.createElement(ah,{tooltipEntrySettings:u})}),die=(e,t)=>e>t?"start":e<t?"end":"middle",fie=(e,t,r)=>kn(typeof t=="function"?t(e):t,r,r*.8),hie=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=xR(s,i),l=a+kn(e.cx,s,s/2),c=n+kn(e.cy,i,i/2),u=kn(e.innerRadius,o,0),f=fie(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},pie=(e,t)=>{var r=zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function mie(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var vie=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=He("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=mx(t,tie);return w.createElement(ml,So({},a,{type:"linear",className:r}))},gie=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=He("recharts-pie-label-text",mie(e));return w.createElement(nx,So({},t,{alignmentBaseline:"middle",className:a}),n)};function xie(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=sn(r),l=bo(a),c=bo(s),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,v=yr(h.cx,h.cy,h.outerRadius+u,m),g=Qt(Qt(Qt(Qt({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:die(v.x,h.cx)},v),x=Qt(Qt(Qt(Qt({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[yr(h.cx,h.cy,h.outerRadius,m),v],key:"line"});return w.createElement(Kr,{zIndex:Ft.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},w.createElement(ft,null,s&&vie(s,x),gie(a,g,Ze(h,i))))});return w.createElement(ft,{className:"recharts-pie-labels"},f)}function yie(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(q0,{label:a}):w.createElement(xie,{sectors:t,props:r,showLabels:n})}function bie(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s}=e,i=ye(Ti),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=mx(a,rie),f=ux(o,a.dataKey),h=dx(c),p=fx(l,a.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,v)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=String(v)===i,x=i?n:null,b=r&&g?r:x,y=Qt(Qt({},m),{},{stroke:m.stroke,tabIndex:-1,[q_]:v,[Y_]:a.dataKey});return w.createElement(ft,So({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},Nu(u,m,v),{onMouseEnter:f(m,v),onMouseLeave:h(m,v),onClick:p(m,v)}),w.createElement(Gf,So({option:s??b,shapeType:"sector",isActive:g},y)))}))}function wie(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),p=pie(o,l),m=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(_=>Ze(_,c,0)!==0).length,x=(m>=360?g:g-1)*v,b=m-g*h-x,y=n.reduce((_,S)=>{var C=Ze(S,c,0);return _+(_e(C)?C:0)},0),k;if(y>0){var E;k=n.map((_,S)=>{var C=Ze(_,c,0),T=Ze(_,u,S),j=hie(r,s,_),P=(_e(C)?C:0)/y,A,N=Qt(Qt({},_),a&&a[S]&&a[S].props);S?A=E.endAngle+zr(p)*v*(C!==0?1:0):A=o;var L=A+zr(p)*((C!==0?h:0)+P*b),K=(A+L)/2,X=(j.innerRadius+j.outerRadius)/2,W=[{name:T,value:C,payload:N,dataKey:c,type:f}],q=yr(j.cx,j.cy,X,K);return E=Qt(Qt(Qt(Qt({},r.presentationProps),{},{percent:P,cornerRadius:typeof i=="string"?parseFloat(i):i,name:T,tooltipPayload:W,midAngle:K,middleRadius:X,tooltipPosition:q},N),j),{},{value:C,startAngle:A,endAngle:L,payload:N,paddingAngle:zr(p)*v}),E})}return k}function _ie(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(Jae,{value:t?a:void 0},n)}function kie(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=Wl(t,"recharts-pie-"),p=r.current,[m,v]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),x=w.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return w.createElement(_ie,{showLabels:!m,sectors:n},w.createElement(Vl,{animationId:h,begin:s,duration:i,isActive:a,easing:o,onAnimationStart:x,onAnimationEnd:g,key:h},b=>{var y=[],k=n&&n[0],E=k==null?void 0:k.startAngle;return n==null||n.forEach((_,S)=>{var C=p&&p[S],T=S>0?Tl(_,"paddingAngle",0):0;if(C){var j=qe(C.endAngle-C.startAngle,_.endAngle-_.startAngle,b),P=Qt(Qt({},_),{},{startAngle:E+T,endAngle:E+j+T});y.push(P),E=P.endAngle}else{var{endAngle:A,startAngle:N}=_,L=qe(0,A-N,b),K=Qt(Qt({},_),{},{startAngle:E+T,endAngle:E+L+T});y.push(K),E=K.endAngle}}),r.current=y,w.createElement(ft,null,w.createElement(bie,{sectors:y,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),w.createElement(yie,{showLabels:!m,sectors:n,props:t}),t.children)}var Sie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Do.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Ft.area};function Eie(e){var{id:t}=e,r=mx(e,nie),{hide:n,className:a,rootTabIndex:s}=e,i=w.useMemo(()=>cx(e.children,Ms),[e.children]),o=ye(u=>pse(u,t,i)),l=w.useRef(null),c=He("recharts-pie",a);return n||o==null?(l.current=null,w.createElement(ft,{tabIndex:s,className:c})):w.createElement(Kr,{zIndex:e.zIndex},w.createElement(uie,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(ft,{tabIndex:s,className:c},w.createElement(kie,{props:Qt(Qt({},r),{},{sectors:o}),previousSectorsRef:l})))}function mS(e){var t=Pt(e,Sie),{id:r}=t,n=mx(t,aie),a=sn(n);return w.createElement(sh,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(eie,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(cie,So({},n,{id:s})),w.createElement(Eie,So({},n,{id:s}))))}mS.displayName="Pie";var Cie=["points"];function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function By(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){Tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tie(e,t,r){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aie(e){var t=jie(e,"string");return typeof t=="symbol"?t:t+""}function jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uv(){return uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uv.apply(null,arguments)}function Pie(e,t){if(e==null)return{};var r,n,a=Nie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Oie(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=He(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,o=Pie(s,Cie);return w.createElement(YF,uv({},o,{className:a}))}function Die(e,t){return e==null?!1:t?!0:e.length===1}function u8(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:o,clipPathId:l,zIndex:c=Ft.scatter}=e;if(!Die(t,r))return null;var u=pS(r),f=CK(r),h=t.map((m,v)=>{var g,x,b=By(By(By({r:3},i),f),{},{index:v,cx:(g=m.x)!==null&&g!==void 0?g:void 0,cy:(x=m.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:m.value,payload:m.payload,points:t});return w.createElement(Oie,{key:"dot-".concat(v),option:r,dotProps:b,className:a})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),w.createElement(Kr,{zIndex:c},w.createElement(ft,uv({className:n},p),h))}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){Mie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mie(e,t,r){return(t=Iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iie(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fie={xAxis:{},yAxis:{},zAxis:{}},d8=ea({name:"cartesianAxis",initialState:Fie,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Nt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Nt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Nt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Nt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Nt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Nt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Nt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Nt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Nt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=fP(fP({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:Lie,replaceXAxis:Bie,removeXAxis:$ie,addYAxis:Uie,replaceYAxis:zie,removeYAxis:Vie,addZAxis:ZTe,replaceZAxis:eAe,removeZAxis:tAe,updateYAxisWidth:Wie}=d8.actions,Hie=d8.reducer,Kie=Z([Nr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Gie=Z([Kie,Mi,Ii],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),vx=()=>ye(Gie),qie=()=>ye(Kre);function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){Yie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yie(e,t,r){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xie(e){var t=Jie(e,"string");return typeof t=="symbol"?t:t+""}function Jie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qie=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=$y($y($y({},o),bo(a)),T_(a)),c;return w.isValidElement(a)?c=w.cloneElement(a,l):typeof a=="function"?c=a(l):c=w.createElement(YF,l),w.createElement(ft,{className:"recharts-active-dot",clipPath:i},c)};function Sw(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=Ft.activeDot}=e,o=ye(Ti),l=qie();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return it(c)?null:w.createElement(Kr,{zIndex:i},w.createElement(Qie,{point:c,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Zie="Invariant failed";function eoe(e,t){throw new Error(Zie)}var toe=["x","y"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(null,arguments)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){roe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function roe(e,t,r){return(t=noe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function noe(e){var t=aoe(e,"string");return typeof t=="symbol"?t:t+""}function aoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function soe(e,t){if(e==null)return{};var r,n,a=ioe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ioe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ooe(e,t){var{x:r,y:n}=e,a=soe(e,toe),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return pd(pd(pd(pd(pd({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function dv(e){return w.createElement(Gf,Ew({shapeType:"rectangle",propTransformer:ooe,activeClassName:"recharts-active-bar"},e))}var loe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(_e(t))return t;var s=_e(n)||it(n);return s?t(n,a):(s||eoe(),r)}},coe={},f8=ea({name:"errorBars",initialState:coe,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:rAe,replaceErrorBar:nAe,removeErrorBar:aAe}=f8.actions,uoe=f8.reducer,doe=["children"];function foe(e,t){if(e==null)return{};var r,n,a=hoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var poe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},moe=w.createContext(poe);function vS(e){var{children:t}=e,r=foe(e,doe);return w.createElement(moe.Provider,{value:r},t)}function ih(e,t){var r,n,a=ye(c=>Vs(c,e)),s=ye(c=>Ws(c,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Ir.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Rr.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function gx(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=vx(),{needClipX:s,needClipY:i,needClip:o}=ih(t,r);if(!o||!a)return null;var{x:l,y:c,width:u,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?l:l-u/2,y:i?c:c-f/2,width:s?u:u*2,height:i?f:f*2}))}function voe(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ct(e.zIndex)?e.zIndex:t}var goe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oh=w;function xoe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yoe=typeof Object.is=="function"?Object.is:xoe,boe=oh.useSyncExternalStore,woe=oh.useRef,_oe=oh.useEffect,koe=oh.useMemo,Soe=oh.useDebugValue;goe.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=woe(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=koe(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,yoe(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=boe(e,s[0],s[1]);return _oe(function(){i.hasValue=!0,i.value=o},[o]),Soe(o),o};function Eoe(e){e()}function Coe(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Eoe(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var mP={notify(){},get:()=>[]};function Toe(e,t){let r,n=mP,a=0,s=!1;function i(v){u();const g=n.subscribe(v);let x=!1;return()=>{x||(x=!0,g(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){a++,r||(r=e.subscribe(l),n=Coe())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=mP)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,f())}const m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var Aoe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",joe=Aoe(),Poe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Noe=Poe(),Ooe=()=>joe||Noe?w.useLayoutEffect:w.useEffect,Doe=Ooe();function vP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Moe(e,t){if(vP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!vP(e[r[a]],t[r[a]]))return!1;return!0}var Uy=Symbol.for("react-redux-context"),zy=typeof globalThis<"u"?globalThis:{};function Ioe(){if(!w.createContext)return{};const e=zy[Uy]??(zy[Uy]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var Roe=Ioe();function Foe(e){const{children:t,context:r,serverState:n,store:a}=e,s=w.useMemo(()=>{const l=Toe(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);Doe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||Roe;return w.createElement(o.Provider,{value:s},t)}var Loe=Foe,Boe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function $oe(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vu(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Boe.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Moe(e[n],t[n]))return!1}else if(!$oe(e[n],t[n]))return!1;return!0}var Uoe=["onMouseEnter","onMouseLeave","onClick"],zoe=["value","background","tooltipPosition"],Voe=["id"],Woe=["onMouseEnter","onClick","onMouseLeave"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(null,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hoe(e,t,r){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fv(e,t){if(e==null)return{};var r,n,a=qoe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qoe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yoe=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:zs(r,t),payload:e}]},Xoe=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:zs(s,t),hide:i,type:l,color:a,unit:o}};return w.createElement(ah,{tooltipEntrySettings:c})});function Joe(e){var t=ye(Ti),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,c=fv(s,Uoe),u=ux(i,n),f=dx(o),h=fx(l,n);if(!a||r==null)return null;var p=bo(a);return w.createElement(Kr,{zIndex:voe(a,Ft.barBackground)},r.map((m,v)=>{var{value:g,background:x,tooltipPosition:b}=m,y=fv(m,zoe);if(!x)return null;var k=u(m,v),E=f(m,v),_=h(m,v),S=Pn(Pn(Pn(Pn(Pn({option:a,isActive:String(v)===t},y),{},{fill:"#eee"},x),p),Nu(c,m,v)),{},{onMouseEnter:k,onMouseLeave:E,onClick:_,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(dv,Ai({key:"background-bar-".concat(v)},S))}))}function Qoe(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Pn(Pn({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return w.createElement(ax,{value:t?a:void 0},r)}function Zoe(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=ye(Ti),l=ye(bF),c=r&&String(s)===o&&(l==null||i===l),u=c?r:t;return c?w.createElement(Kr,{zIndex:Ft.activeBar},w.createElement(dv,Ai({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))):w.createElement(dv,Ai({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))}function ele(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return w.createElement(dv,Ai({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function tle(e){var t,{data:r,props:n}=e,a=(t=sn(n))!==null&&t!==void 0?t:{},{id:s}=a,i=fv(a,Voe),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:f,onMouseLeave:h}=n,p=fv(n,Woe),m=ux(u,l),v=dx(h),g=fx(f,l);return r?w.createElement(w.Fragment,null,r.map((x,b)=>w.createElement(ft,Ai({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},Nu(p,x,b),{onMouseEnter:m(x,b),onMouseLeave:v(x,b),onClick:g(x,b)}),c?w.createElement(Zoe,{shape:o,activeBar:c,baseProps:i,entry:x,index:b,dataKey:l}):w.createElement(ele,{shape:o,baseProps:i,entry:x,index:b,dataKey:l})))):null}function rle(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=Wl(t,"recharts-bar-"),[p,m]=w.useState(!1),v=!p,g=w.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=w.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return w.createElement(Qoe,{showLabels:v,rects:n},w.createElement(Vl,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:x,key:h},b=>{var y=b===1?n:n==null?void 0:n.map((k,E)=>{var _=f&&f[E];if(_)return Pn(Pn({},k),{},{x:qe(_.x,k.x,b),y:qe(_.y,k.y,b),width:qe(_.width,k.width,b),height:qe(_.height,k.height,b)});if(a==="horizontal"){var S=qe(0,k.height,b),C=qe(k.stackedBarStart,k.y,b);return Pn(Pn({},k),{},{y:C,height:S})}var T=qe(0,k.width,b),j=qe(k.stackedBarStart,k.x,b);return Pn(Pn({},k),{},{width:T,x:j})});return b>0&&(r.current=y??null),y==null?null:w.createElement(ft,null,w.createElement(tle,{props:t,data:y}))}),w.createElement(q0,{label:t.label}),t.children)}function nle(e){var t=w.useRef(null);return w.createElement(rle,{previousRectanglesRef:t,props:e})}var h8=0,ale=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ze(e,t)}};class sle extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=He("recharts-bar",a),f=c;return w.createElement(ft,{className:u,id:c},o&&w.createElement("defs",null,w.createElement(gx,{clipPathId:f,xAxisId:s,yAxisId:i})),w.createElement(ft,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(Joe,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),w.createElement(nle,this.props)))}}var ile={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:h8,xAxisId:0,yAxisId:0,zIndex:Ft.bar};function ole(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=ih(t,r),h=zl(),p=cr(),m=cx(e.children,Ms),v=ye(b=>Ile(b,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var g,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?g=0:g=h==="vertical"?x.height/2:x.width/2,w.createElement(vS,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:ale,errorBarOffset:g},w.createElement(sle,Ai({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function lle(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m,dataStartIndex:v}=e,g=t==="horizontal"?o:i,x=u?g.scale.domain():null,b=IY({numericAxis:g}),y=g.scale(b);return f.map((k,E)=>{var _,S,C,T,j,P;u?_=PY(u[E+v],x):(_=Ze(k,r),Array.isArray(_)||(_=[b,_]));var A=loe(n,h8)(_[1],E);if(t==="horizontal"){var N,[L,K]=[o.scale(_[0]),o.scale(_[1])];S=ZT({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:k,index:E}),C=(N=K??L)!==null&&N!==void 0?N:void 0,T=a.size;var X=L-K;if(j=Zn(X)?0:X,P={x:S,y:h.top,width:T,height:h.height},Math.abs(A)>0&&Math.abs(j)<Math.abs(A)){var W=zr(j||A)*(Math.abs(A)-Math.abs(j));C-=W,j+=W}}else{var[q,I]=[i.scale(_[0]),i.scale(_[1])];if(S=q,C=ZT({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:k,index:E}),T=I-q,j=a.size,P={x:h.left,y:C,width:h.width,height:j},Math.abs(A)>0&&Math.abs(T)<Math.abs(A)){var J=zr(T||A)*(Math.abs(A)-Math.abs(T));T+=J}}if(S==null||C==null||T==null||j==null)return null;var Q=Pn(Pn({},k),{},{stackedBarStart:y,x:S,y:C,width:T,height:j,value:u?_:_[1],payload:k,background:P,tooltipPosition:{x:S+T/2,y:C+j/2},parentViewBox:m},p&&p[E]&&p[E].props);return Q}).filter(Boolean)}function cle(e){var t=Pt(e,ile),r=cr();return w.createElement(sh,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(hx,{legendPayload:Yoe(t)}),w.createElement(Xoe,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(px,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:KI(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Kr,{zIndex:t.zIndex},w.createElement(ole,Ai({},t,{id:n})))))}var Ur=w.memo(cle,Vu);Ur.displayName="Bar";function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){ule(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ule(e,t,r){return(t=dle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dle(e){var t=fle(e,"string");return typeof t=="symbol"?t:t+""}function fle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hle=(e,t)=>t,ple=(e,t,r)=>r,mle=(e,t,r,n)=>n,vle=(e,t,r,n,a)=>a,lh=Z([Lu,vle],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),gle=Z([lh],e=>e==null?void 0:e.maxBarSize),xle=(e,t,r,n,a,s)=>s,yP=(e,t,r)=>{var n=r??e;if(!it(n))return kn(n,t,0)},yle=Z([ze,Lu,hle,ple,mle],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),ble=(e,t,r,n)=>{var a=ze(e);return a==="horizontal"?Hf(e,"yAxis",r,n):Hf(e,"xAxis",t,n)},wle=(e,t,r)=>{var n=ze(e);return n==="horizontal"?Sj(e,"xAxis",t):Sj(e,"yAxis",r)},_le=(e,t,r)=>{var n={},a=e.filter(Yg),s=e.filter(c=>c.stackId==null),i=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(i).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=yP(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=s.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=yP(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},kle=Z([yle,Wee,wle],_le),Sle=(e,t,r,n,a)=>{var s,i,o=lh(e,t,r,n,a);if(o!=null){var l=ze(e),c=b5(e),{maxBarSize:u}=o,f=it(u)?c:u,h,p;return l==="horizontal"?(h=$a(e,"xAxis",t,n),p=Ba(e,"xAxis",t,n)):(h=$a(e,"yAxis",r,n),p=Ba(e,"yAxis",r,n)),(s=(i=wo(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},p8=(e,t,r,n)=>{var a=ze(e),s,i;return a==="horizontal"?(s=$a(e,"xAxis",t,n),i=Ba(e,"xAxis",t,n)):(s=$a(e,"yAxis",r,n),i=Ba(e,"yAxis",r,n)),wo(s,i)};function Ele(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=kn(e,r,0,!0),o,l=[];if(ct(n[0].barSize)){var c=!1,u=r/s,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&u>0&&(c=!0,u*=.9,f=s*u);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((x,b)=>{var y,k={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+i,size:c?u:(y=b.barSize)!==null&&y!==void 0?y:0}},E=[...x,k];return p=E[E.length-1].position,E},l)}else{var m=kn(t,r,0,!0);r-2*m-(s-1)*i<=0&&(i=0);var v=(r-2*m-(s-1)*i)/s;v>1&&(v>>=0);var g=ct(a)?Math.min(v,a):v;o=n.reduce((x,b,y)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(v+i)*y+(v-g)/2,size:g}}],l)}return o}}var Cle=(e,t,r,n,a,s,i)=>{var o=it(i)?t:i,l=Ele(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(c=>op(op({},c),{},{position:op(op({},c.position),{},{offset:c.position.offset-a/2})}))),l},Tle=Z([kle,b5,Vee,w5,Sle,p8,gle],Cle),Ale=(e,t,r,n)=>$a(e,"xAxis",t,n),jle=(e,t,r,n)=>$a(e,"yAxis",r,n),Ple=(e,t,r,n)=>Ba(e,"xAxis",t,n),Nle=(e,t,r,n)=>Ba(e,"yAxis",r,n),Ole=Z([Tle,lh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Dle=(e,t)=>{var r=qg(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},Mle=Z([ble,lh],Dle),Ile=Z([Nr,X_,Ale,jle,Ple,Nle,Ole,ze,Mu,p8,Mle,lh,xle],(e,t,r,n,a,s,i,o,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||i==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||c==null)){var{data:g}=f,x;if(g!=null&&g.length>0?x=g:x=p==null?void 0:p.slice(m,v+1),x!=null)return lle({layout:o,barSettings:f,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:u,displayedData:x,offset:e,cells:h,dataStartIndex:m})}}),m8=e=>{var{chartData:t}=e,r=mt(),n=cr();return w.useEffect(()=>n?()=>{}:(r(Rj(t)),()=>{r(Rj(void 0))}),[t,r,n]),null},bP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},v8=ea({name:"brush",initialState:bP,reducers:{setBrushSettings(e,t){return t.payload==null?bP:t.payload}}}),{setBrushSettings:sAe}=v8.actions,Rle=v8.reducer;function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=Fle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fle(e){var t=Lle(e,"string");return typeof t=="symbol"?t:t+""}function Lle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ble=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},$le=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Ble({x:t,y:r},{x:n,y:a})};class xx{static create(t){return new xx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}g8(xx,"EPS",1e-4);var Ule=e=>{var t=Object.keys(e).reduce((r,n)=>lp(lp({},r),{},{[n]:xx.create(e[n])}),{});return lp(lp({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,o]=s;return[i,t[i].apply(o,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function zle(e){return(e%180+180)%180}var Vle=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=zle(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},Wle={dots:[],areas:[],lines:[]},x8=ea({name:"referenceElements",initialState:Wle,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ls(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ls(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ls(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:iAe,removeDot:oAe,addArea:lAe,removeArea:cAe,addLine:Hle,removeLine:Kle}=x8.actions,Gle=x8.reducer,y8=w.createContext(void 0),qle=e=>{var{children:t}=e,[r]=w.useState("".concat(Of("recharts"),"-clip")),n=vx();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return w.createElement(y8.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:s,height:o,width:i}))),t)},Yle=()=>w.useContext(y8);function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){Xle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xle(e,t,r){return(t=Jle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jle(e){var t=Qle(e,"string");return typeof t=="symbol"?t:t+""}function Qle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}var Zle=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ct(t.x1)||!ct(t.y1)||!ct(t.x2)||!ct(t.y2))return null;r=w.createElement("line",hv({},t,{className:"recharts-reference-line-line"}))}return r},ece=(e,t,r,n,a,s)=>{var{x:i,width:o}=s,l=a.y.apply(e,{position:r});if(Zn(l)||t==="discard"&&!a.y.isInRange(l))return null;var c=[{x:i+o,y:l},{x:i,y:l}];return n==="left"?c.reverse():c},tce=(e,t,r,n,a,s)=>{var{y:i,height:o}=s,l=a.x.apply(e,{position:r});if(Zn(l)||t==="discard"&&!a.x.isInRange(l))return null;var c=[{x:l,y:i+o},{x:l,y:i}];return n==="top"?c.reverse():c},rce=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},nce=(e,t,r,n,a,s)=>{var{x:i,y:o,segment:l,ifOverflow:c}=s,u=Ra(i),f=Ra(o);return f?ece(o,c,r,a,e,t):u?tce(i,c,r,n,e,t):l!=null&&l.length===2?rce(l,c,r,e):null};function ace(e){var t=mt();return w.useEffect(()=>(t(Hle(e)),()=>{t(Kle(e))})),null}function sce(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=cr(),o=Yle(),l=ye(_=>Vs(_,t)),c=ye(_=>Ws(_,r)),u=ye(_=>ko(_,"xAxis",t,i)),f=ye(_=>ko(_,"yAxis",r,i)),h=Ou();if(!o||!h||l==null||c==null||u==null||f==null)return null;var p=Ule({x:u,y:f}),m=nce(p,h,e.position,l.orientation,c.orientation,e);if(!m)return null;var[{x:v,y:g},{x,y:b}]=m,y=s==="hidden"?"url(#".concat(o,")"):void 0,k=kP(kP({clipPath:y},on(e)),{},{x1:v,y1:g,x2:x,y2:b}),E=$le({x1:v,y1:g,x2:x,y2:b});return w.createElement(Kr,{zIndex:e.zIndex},w.createElement(ft,{className:He("recharts-reference-line",a)},Zle(n,k),w.createElement(UF,hv({},E,{lowerWidth:E.width,upperWidth:E.width}),w.createElement(VF,{label:e.label}),e.children)))}var ice={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Ft.line};function gS(e){var t=Pt(e,ice);return w.createElement(w.Fragment,null,w.createElement(ace,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),w.createElement(sce,t))}gS.displayName="ReferenceLine";function b8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function oce(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Vle(n,r)}function lce(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function pv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function cce(e,t){return b8(e,t+1)}function uce(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:b8(n,c)};var v=l,g,x=()=>(g===void 0&&(g=r(m,v)),g),b=m.coordinate,y=l===0||pv(e,b,x,u,o);y||(l=0,u=i,c+=1),y&&(u=b+e*(x()/2+a),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){dce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dce(e,t,r){return(t=fce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pce(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(h){var p=s[h],m,v=()=>(m===void 0&&(m=r(p,h)),m);if(h===i-1){var g=e*(p.coordinate+e*v()/2-l);s[h]=p=pn(pn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=pn(pn({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=pv(e,p.tickCoord,v,o,l);x&&(l=p.tickCoord-e*(v()/2+a),s[h]=pn(pn({},p),{},{isShow:!0}))}},u=i-1;u>=0;u--)c(u);return s}function mce(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);if(i[o-1]=u=pn(pn({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var p=pv(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+a),i[o-1]=pn(pn({},u),{},{isShow:!0}))}}for(var m=s?o-1:o,v=function(b){var y=i[b],k,E=()=>(k===void 0&&(k=r(y,b)),k);if(b===0){var _=e*(y.coordinate-e*E()/2-l);i[b]=y=pn(pn({},y),{},{tickCoord:_<0?y.coordinate-_*e:y.coordinate})}else i[b]=y=pn(pn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var S=pv(e,y.tickCoord,E,l,c);S&&(l=y.tickCoord+e*(E()/2+a),i[b]=pn(pn({},y),{},{isShow:!0}))}},g=0;g<m;g++)v(g);return i}function xS(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(_e(l)||Do.isSsr){var h;return(h=cce(a,_e(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",v=u&&m==="width"?Vd(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(y,k)=>{var E=typeof c=="function"?c(y.value,k):y.value;return m==="width"?oce(Vd(E,{fontSize:t,letterSpacing:r}),v,f):Vd(E,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?zr(a[1].coordinate-a[0].coordinate):1,b=lce(s,x,m);return l==="equidistantPreserveStart"?uce(x,b,g,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=mce(x,b,g,a,i,l==="preserveStartEnd"):p=pce(x,b,g,a,i),p.filter(y=>y.isShow))}var vce=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,c=i+l+o+(r?n:0);return Math.round(c)}return 0},gce=["axisLine","width","height","className","hide","ticks","axisType"];function xce(e,t){if(e==null)return{};var r,n,a=yce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function yce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(null,arguments)}function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){bce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bce(e,t,r){return(t=wce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wce(e){var t=_ce(e,"string");return typeof t=="symbol"?t:t+""}function _ce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ci={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Ft.axis};function kce(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=gr(gr(gr({},l),sn(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);c=gr(gr({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);c=gr(gr({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Nl({},c,{className:He("recharts-cartesian-axis-line",Tl(o,"className"))}))}function Sce(e,t,r,n,a,s,i,o,l){var c,u,f,h,p,m,v=o?-1:1,g=e.tickSize||i,x=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-v*g,m=f-v*l,p=x;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-v*g,p=c-v*l,m=x;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+v*g,p=c+v*l,m=x;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+v*g,m=f+v*l,p=x;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function Ece(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Cce(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Tce(e){var{option:t,tickProps:r,value:n}=e,a,s=He(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,gr(gr({},r),{},{className:s}));else if(typeof t=="function")a=t(gr(gr({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=He(i,t==null?void 0:t.className)),a=w.createElement(nx,Nl({},r,{className:i}),n)}return a}var Ace=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:h,y:p,width:m,height:v,tickSize:g,tickMargin:x,fontSize:b,letterSpacing:y,getTicksConfig:k,events:E,axisType:_}=e,S=xS(gr(gr({},k),{},{ticks:r}),b,y),C=Ece(u,f),T=Cce(u,f),j=sn(k),P=bo(n),A={};typeof a=="object"&&(A=a);var N=gr(gr({},j),{},{fill:"none"},A),L=S.map(W=>gr({entry:W},Sce(W,h,p,m,v,u,g,f,x))),K=L.map(W=>{var{entry:q,line:I}=W;return w.createElement(ft,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(q.value,"-").concat(q.coordinate,"-").concat(q.tickCoord)},a&&w.createElement("line",Nl({},N,I,{className:He("recharts-cartesian-axis-tick-line",Tl(a,"className"))})))}),X=L.map((W,q)=>{var{entry:I,tick:J}=W,Q=gr(gr(gr(gr({textAnchor:C,verticalAnchor:T},j),{},{stroke:"none",fill:s},P),J),{},{index:q,payload:I,visibleTicksCount:S.length,tickFormatter:i,padding:l},c);return w.createElement(ft,Nl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Nu(E,I,q)),n&&w.createElement(Tce,{option:n,tickProps:Q,value:"".concat(typeof i=="function"?i(I.value,q):I.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(_,"-ticks")},X.length>0&&w.createElement(Kr,{zIndex:Ft.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(_,"-tick-labels"),ref:t},X)),K.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(_,"-tick-lines")},K))}),jce=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:o,axisType:l}=e,c=xce(e,gce),[u,f]=w.useState(""),[h,p]=w.useState(""),m=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return vce({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=x;var b=x[0];if(b){var y=window.getComputedStyle(b),k=y.fontSize,E=y.letterSpacing;(k!==u||E!==h)&&(f(k),p(E))}}},[u,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(Kr,{zIndex:e.zIndex},w.createElement(ft,{className:He("recharts-cartesian-axis",s)},w.createElement(kce,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:sn(e)}),w.createElement(Ace,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(UF,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(VF,{label:e.label,labelRef:e.labelRef}),e.children)))}),yS=w.forwardRef((e,t)=>{var r=Pt(e,ci);return w.createElement(jce,Nl({},r,{ref:t}))});yS.displayName="CartesianAxis";var Pce=["x1","y1","x2","y2","key"],Nce=["offset"],Oce=["xAxisId","yAxisId"],Dce=["xAxisId","yAxisId"];function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){Mce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mce(e,t,r){return(t=Ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ice(e){var t=Rce(e,"string");return typeof t=="symbol"?t:t+""}function Rce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}function mv(e,t){if(e==null)return{};var r,n,a=Fce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function w8(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:o,y2:l,key:c}=r,u=mv(r,Pce),f=(a=sn(u))!==null&&a!==void 0?a:{},{offset:h}=f,p=mv(f,Nce);n=w.createElement("line",ll({},p,{x1:s,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function Bce(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=mv(e,Oce),l=a.map((c,u)=>{var f=gn(gn({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return w.createElement(w8,{key:"line-".concat(u),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function $ce(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=mv(e,Dce),l=a.map((c,u)=>{var f=gn(gn({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return w.createElement(w8,{option:n,lineItemProps:f,key:"line-".concat(u)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Uce(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function zce(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Vce=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return WI(xS(gn(gn(gn({},ci),r),{},{ticks:HI(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Wce=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return WI(xS(gn(gn(gn({},ci),r),{},{ticks:HI(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},Hce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Ft.grid};function Vt(e){var t=Q_(),r=Z_(),n=tR(),a=gn(gn({},Pt(e,Hce)),{},{x:_e(e.x)?e.x:n.left,y:_e(e.y)?e.y:n.top,width:_e(e.width)?e.width:n.width,height:_e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,m=cr(),v=ye(T=>Ej(T,"xAxis",s,m)),g=ye(T=>Ej(T,"yAxis",i,m));if(!Os(c)||!Os(u)||!_e(o)||!_e(l))return null;var x=a.verticalCoordinatesGenerator||Vce,b=a.horizontalCoordinatesGenerator||Wce,{horizontalPoints:y,verticalPoints:k}=a;if((!y||!y.length)&&typeof b=="function"){var E=h&&h.length,_=b({yAxis:g?gn(gn({},g),{},{ticks:E?h:g.ticks}):void 0,width:t??c,height:r??u,offset:n},E?!0:f);Bm(Array.isArray(_),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(y=_)}if((!k||!k.length)&&typeof x=="function"){var S=p&&p.length,C=x({xAxis:v?gn(gn({},v),{},{ticks:S?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},S?!0:f);Bm(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(k=C)}return w.createElement(Kr,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Lce,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Uce,ll({},a,{horizontalPoints:y})),w.createElement(zce,ll({},a,{verticalPoints:k})),w.createElement(Bce,ll({},a,{offset:n,horizontalPoints:y,xAxis:v,yAxis:g})),w.createElement($ce,ll({},a,{offset:n,verticalPoints:k,xAxis:v,yAxis:g}))))}Vt.displayName="CartesianGrid";var _8=(e,t,r,n)=>$a(e,"xAxis",t,n),k8=(e,t,r,n)=>Ba(e,"xAxis",t,n),S8=(e,t,r,n)=>$a(e,"yAxis",r,n),E8=(e,t,r,n)=>Ba(e,"yAxis",r,n),Kce=Z([ze,_8,S8,k8,E8],(e,t,r,n,a)=>Us(e,"xAxis")?wo(t,n,!1):wo(r,a,!1)),Gce=(e,t,r,n,a)=>a;function qce(e){return e.type==="line"}var Yce=Z([Lu,Gce],(e,t)=>e.filter(qce).find(r=>r.id===t)),Xce=Z([ze,_8,S8,k8,E8,Yce,Kce,Mu],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return vue({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:p})}});function C8(e){var t=bo(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),o=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(o)||o<0)&&(o=n),{r:i,strokeWidth:o}}return{r,strokeWidth:n}}var Jce=["id"],Qce=["type","layout","connectNulls","needClip","shape"],Zce=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function qf(){return qf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qf.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eue(e,t,r){return(t=tue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tue(e){var t=rue(e,"string");return typeof t=="symbol"?t:t+""}function rue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bS(e,t){if(e==null)return{};var r,n,a=nue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function nue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aue=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:zs(r,t),payload:e}]},sue=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:zs(i,t),hide:o,type:c,color:n,unit:l}};return w.createElement(ah,{tooltipEntrySettings:u})}),T8=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function iue(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var oue=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return T8(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var u=o.length%2===0?[0,i]:[i];return[...iue(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function lue(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:o}=n,l=bS(n,Jce),c=sn(l);return w.createElement(u8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function cue(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n==null?void 0:n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return xs(xs({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(ax,{value:t?a:void 0},r)}function AP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:l,needClip:c,shape:u}=s,f=bS(s,Qce),h=xs(xs({},on(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:l,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(Gf,qf({shapeType:"curve",option:u},h,{pathRef:r})),w.createElement(lue,{points:n,clipPathId:t,props:s}))}function uue(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function due(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:v,onAnimationStart:g}=r,x=a.current,b=Wl(i,"recharts-line-"),y=w.useRef(b),[k,E]=w.useState(!1),_=!k,S=w.useCallback(()=>{typeof v=="function"&&v(),E(!1)},[v]),C=w.useCallback(()=>{typeof g=="function"&&g(),E(!0)},[g]),T=uue(n.current),j=w.useRef(0);y.current!==b&&(j.current=s.current,y.current=b);var P=j.current;return w.createElement(cue,{points:i,showLabels:_},r.children,w.createElement(Vl,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:S,onAnimationStart:C,key:b},A=>{var N=qe(P,T+P,A),L=Math.min(N,T),K;if(l)if(o){var X="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));K=oue(L,T,X)}else K=T8(T,L);else K=o==null?void 0:String(o);if(A>0&&T>0&&(a.current=i,s.current=Math.max(s.current,L)),x){var W=x.length/i.length,q=A===1?i:i.map((I,J)=>{var Q=Math.floor(J*W);if(x[Q]){var M=x[Q];return xs(xs({},I),{},{x:qe(M.x,I.x,A),y:qe(M.y,I.y,A)})}return h?xs(xs({},I),{},{x:qe(p*2,I.x,A),y:qe(m/2,I.y,A)}):xs(xs({},I),{},{x:I.x,y:I.y})});return a.current=q,w.createElement(AP,{props:r,points:q,clipPathId:t,pathRef:n,strokeDasharray:K})}return w.createElement(AP,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:K})}),w.createElement(q0,{label:r.label}))}function fue(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),s=w.useRef(null);return w.createElement(due,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var hue=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:Ze(e.payload,t)}};class pue extends w.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:l,width:c,height:u,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var m=He("recharts-line",a),v=f,{r:g,strokeWidth:x}=C8(r),b=pS(r),y=g*2+x,k=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return w.createElement(Kr,{zIndex:p},w.createElement(ft,{className:m},h&&w.createElement("defs",null,w.createElement(gx,{clipPathId:v,xAxisId:s,yAxisId:i}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(v)},w.createElement("rect",{x:l-y/2,y:o-y/2,width:c+y,height:u+y}))),w.createElement(vS,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:hue,errorBarOffset:0},w.createElement(fue,{props:this.props,clipPathId:v}))),w.createElement(Sw,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:k}))}}var A8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Ft.line,type:"linear"};function mue(e){var t=Pt(e,A8),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:m,id:v}=t,g=bS(t,Zce),{needClip:x}=ih(p,m),b=vx(),y=zl(),k=cr(),E=ye(j=>Xce(j,p,m,k,v));if(y!=="horizontal"&&y!=="vertical"||E==null||b==null)return null;var{height:_,width:S,x:C,y:T}=b;return w.createElement(pue,qf({},g,{id:v,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:m,points:E,layout:y,height:_,width:S,left:C,top:T,needClip:x}))}function vue(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=Ze(c,i);if(t==="horizontal"){var h=pu({axis:r,ticks:a,bandSize:o,entry:c,index:u}),p=it(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var m=it(f)?null:r.scale(f),v=pu({axis:n,ticks:s,bandSize:o,entry:c,index:u});return m==null||v==null?null:{x:m,y:v,value:f,payload:c}}).filter(Boolean)}function gue(e){var t=Pt(e,A8),r=cr();return w.createElement(sh,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(hx,{legendPayload:aue(t)}),w.createElement(sue,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(px,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(mue,qf({},t,{id:n}))))}var sr=w.memo(gue,Vu);sr.displayName="Line";var j8=(e,t,r,n)=>$a(e,"xAxis",t,n),P8=(e,t,r,n)=>Ba(e,"xAxis",t,n),N8=(e,t,r,n)=>$a(e,"yAxis",r,n),O8=(e,t,r,n)=>Ba(e,"yAxis",r,n),xue=Z([ze,j8,N8,P8,O8],(e,t,r,n,a)=>Us(e,"xAxis")?wo(t,n,!1):wo(r,a,!1)),yue=(e,t,r,n,a)=>a,D8=Z([Lu,yue],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),bue=(e,t,r,n,a)=>{var s,i=D8(e,t,r,n,a);if(i!=null){var o=ze(e),l=Us(o,"xAxis"),c;if(l?c=Hf(e,"yAxis",r,n):c=Hf(e,"xAxis",t,n),c!=null){var{stackId:u}=i,f=qg(i);if(!(u==null||f==null)){var h=(s=c[u])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},wue=Z([ze,j8,N8,P8,O8,bue,Mu,xue,D8,Hee],(e,t,r,n,a,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=i;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=u==null?void 0:u.slice(f,h+1),m!=null)return $ue({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:c,bandSize:o})}}),_ue=["id"],kue=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xl(){return xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xl.apply(null,arguments)}function M8(e,t){if(e==null)return{};var r,n,a=Sue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Sue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Eue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eue(e,t,r){return(t=Cue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cue(e){var t=Tue(e,"string");return typeof t=="symbol"?t:t+""}function Tue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vv(e,t){return e&&e!=="none"?e:t}var Aue=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:vv(n,a),value:zs(r,t),payload:e}]},jue=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:zs(i,t),hide:o,type:c,color:vv(n,s),unit:l}};return w.createElement(ah,{tooltipEntrySettings:u})});function Pue(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:i}=n,o=sn(n);return w.createElement(u8,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:i,baseProps:o,needClip:a,clipPathId:t})}function Nue(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Fc(Fc({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(ax,{value:t?a:void 0},r)}function PP(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:i,type:o,stroke:l,connectNulls:c,isRange:u}=s,{id:f}=s,h=M8(s,_ue),p=sn(h),m=on(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(ft,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},w.createElement(ml,xl({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:i,stroke:"none",className:"recharts-area-area"})),l!=="none"&&w.createElement(ml,xl({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&w.createElement(ml,xl({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:r}))),w.createElement(Pue,{points:t,props:h,clipPathId:a}))}function Oue(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,i=n[n.length-1].y;if(!ct(s)||!ct(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.x||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),_e(l)?w.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function Due(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,i=n[n.length-1].x;if(!ct(s)||!ct(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.y||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),_e(l)?w.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function Mue(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?w.createElement(Oue,{alpha:t,points:n,baseLine:a,strokeWidth:s}):w.createElement(Due,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function Iue(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:i,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=w.useMemo(()=>({points:i,baseLine:o}),[i,o]),v=Wl(m,"recharts-area-"),g=hX(),[x,b]=w.useState(!1),y=!x,k=w.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),E=w.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);if(g==null)return null;var _=a.current,S=s.current;return w.createElement(Nue,{showLabels:y,points:i},n.children,w.createElement(Vl,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:k,onAnimationStart:E,key:v},C=>{if(_){var T=_.length/i.length,j=C===1?i:i.map((A,N)=>{var L=Math.floor(N*T);if(_[L]){var K=_[L];return Fc(Fc({},A),{},{x:qe(K.x,A.x,C),y:qe(K.y,A.y,C)})}return A}),P;return _e(o)?P=qe(S,o,C):it(o)||Zn(o)?P=qe(S,0,C):P=o.map((A,N)=>{var L=Math.floor(N*T);if(Array.isArray(S)&&S[L]){var K=S[L];return Fc(Fc({},A),{},{x:qe(K.x,A.x,C),y:qe(K.y,A.y,C)})}return A}),C>0&&(a.current=j,s.current=P),w.createElement(PP,{points:j,baseLine:P,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=i,s.current=o),w.createElement(ft,null,l&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(Mue,{alpha:C,points:i,baseLine:o,layout:g,strokeWidth:n.strokeWidth}))),w.createElement(ft,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(PP,{points:i,baseLine:o,needClip:t,clipPathId:r,props:n})))}),w.createElement(q0,{label:n.label}))}function Rue(e){var{needClip:t,clipPathId:r,props:n}=e,a=w.useRef(null),s=w.useRef();return w.createElement(Iue,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Fue extends w.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:i,needClip:o,xAxisId:l,yAxisId:c,width:u,height:f,id:h,baseLine:p,zIndex:m}=this.props;if(t)return null;var v=He("recharts-area",a),g=h,{r:x,strokeWidth:b}=C8(r),y=pS(r),k=x*2+b,E=o?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return w.createElement(Kr,{zIndex:m},w.createElement(ft,{className:v},o&&w.createElement("defs",null,w.createElement(gx,{clipPathId:g,xAxisId:l,yAxisId:c}),!y&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:i-k/2,y:s-k/2,width:u+k,height:f+k}))),w.createElement(Rue,{needClip:o,clipPathId:g,props:this.props})),w.createElement(Sw,{points:n,mainColor:vv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:E}),this.props.isRange&&Array.isArray(p)&&w.createElement(Sw,{points:p,mainColor:vv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:E}))}}var I8={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ft.area};function Lue(e){var t,r=Pt(e,I8),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:v,yAxisId:g}=r,x=M8(r,kue),b=zl(),y=kF(),{needClip:k}=ih(v,g),E=cr(),{points:_,isRange:S,baseLine:C}=(t=ye(L=>wue(L,v,g,E,e.id)))!==null&&t!==void 0?t:{},T=vx();if(b!=="horizontal"&&b!=="vertical"||T==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:j,width:P,x:A,y:N}=T;return!_||!_.length?null:w.createElement(Fue,xl({},x,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,baseLine:C,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:j,hide:f,layout:b,isAnimationActive:h==="auto"?!Do.isSsr:h,isRange:S,legendType:p,needClip:k,points:_,stroke:m,width:P,left:A,top:N,xAxisId:v,yAxisId:g}))}var Bue=(e,t,r,n,a)=>{var s=r??t;if(_e(s))return s;var i=e==="horizontal"?a:n,o=i.scale.domain();if(i.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function $ue(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:i,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=a&&a.length,v=Bue(s,i,r,o,l),g=s==="horizontal",x=!1,b=c.map((k,E)=>{var _;m?_=a[u+E]:(_=Ze(k,n),Array.isArray(_)?x=!0:_=[v,_]);var S=_[1]==null||m&&!t&&Ze(k,n)==null;return g?{x:pu({axis:o,ticks:f,bandSize:p,entry:k,index:E}),y:S?null:l.scale(_[1]),value:_,payload:k}:{x:S?null:o.scale(_[1]),y:pu({axis:l,ticks:h,bandSize:p,entry:k,index:E}),value:_,payload:k}}),y;return m||x?y=b.map(k=>{var E=Array.isArray(k.value)?k.value[0]:null;return g?{x:k.x,y:E!=null&&k.y!=null?l.scale(E):null,payload:k.payload}:{x:E!=null?o.scale(E):null,y:k.y,payload:k.payload}}):y=g?l.scale(v):o.scale(v),{points:b,baseLine:y,isRange:x}}function Uue(e){var t=Pt(e,I8),r=cr();return w.createElement(sh,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(hx,{legendPayload:Aue(t)}),w.createElement(jue,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(px,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:KI(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(Lue,xl({},t,{id:n}))))}var yx=w.memo(Uue,Vu);yx.displayName="Area";var zue=["option","isActive"];function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wd.apply(null,arguments)}function Vue(e,t){if(e==null)return{};var r,n,a=Wue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Wue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hue(e){var{option:t,isActive:r}=e,n=Vue(e,zue);return typeof t=="string"?w.createElement(Gf,Wd({option:w.createElement(bg,Wd({type:t},n)),isActive:r,shapeType:"symbols"},n)):w.createElement(Gf,Wd({option:t,isActive:r,shapeType:"symbols"},n))}var Kue=(e,t,r,n,a,s,i)=>$a(e,"xAxis",t,i),Gue=(e,t,r,n,a,s,i)=>Ba(e,"xAxis",t,i),que=(e,t,r,n,a,s,i)=>$a(e,"yAxis",r,i),Yue=(e,t,r,n,a,s,i)=>Ba(e,"yAxis",r,i),Xue=(e,t,r,n)=>Gte(e,"zAxis",n,!1),Jue=(e,t,r,n,a)=>a,Que=(e,t,r,n,a,s)=>s,Zue=(e,t,r,n,a,s,i)=>Mu(e,t,r,i),ede=Z([Lu,Jue],(e,t)=>e.filter(r=>r.type==="scatter").find(r=>r.id===t)),tde=Z([Zue,Kue,Gue,que,Yue,Xue,ede,Que],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=e;if(i!=null){var f;if((i==null?void 0:i.data)!=null&&i.data.length>0?f=i.data:f=l==null?void 0:l.slice(c,u+1),!(f==null||t==null||n==null||r==null||a==null||(r==null?void 0:r.length)===0||(a==null?void 0:a.length)===0))return mde({displayedData:f,xAxis:t,yAxis:n,zAxis:s,scatterSettings:i,xAxisTicks:r,yAxisTicks:a,cells:o})}}),rde=["onMouseEnter","onClick","onMouseLeave"],nde=["id"],ade=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Cw(e,t){if(e==null)return{};var r,n,a=sde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ol.apply(null,arguments)}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){ide(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ide(e,t,r){return(t=ode(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ode(e){var t=lde(e,"string");return typeof t=="symbol"?t:t+""}function lde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cde=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:zs(r,t),payload:e}]},ude=w.memo(e=>{var{dataKey:t,points:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,tooltipType:l}=e,c={dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:n,strokeWidth:a,fill:s,nameKey:void 0,dataKey:t,name:zs(i,t),hide:o,type:l,color:s,unit:""}};return w.createElement(ah,{tooltipEntrySettings:c})});function dde(e){var{points:t,props:r}=e,{line:n,lineType:a,lineJointType:s}=r;if(!n)return null;var i=sn(r),o=bo(n),l,c;if(a==="joint")l=t.map(g=>{var x,b;return{x:(x=g.cx)!==null&&x!==void 0?x:null,y:(b=g.cy)!==null&&b!==void 0?b:null}});else if(a==="fitting"){var{xmin:u,xmax:f,a:h,b:p}=mG(t),m=g=>h*g+p;l=[{x:u,y:m(u)},{x:f,y:m(f)}]}var v=Yn(Yn(Yn({},i),{},{fill:"none",stroke:i&&i.fill},o),{},{points:l});return w.isValidElement(n)?c=w.cloneElement(n,v):typeof n=="function"?c=n(v):c=w.createElement(ml,Ol({},v,{type:s})),w.createElement(ft,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function fde(e){var{showLabels:t,points:r,children:n}=e,a=Ou(),s=w.useMemo(()=>r==null?void 0:r.map(i=>{var o,l,c={x:(o=i.x)!==null&&o!==void 0?o:0,y:(l=i.y)!==null&&l!==void 0?l:0,width:i.width,height:i.height,lowerWidth:i.width,upperWidth:i.width};return Yn(Yn({},c),{},{value:void 0,payload:i.payload,viewBox:c,parentViewBox:a,fill:void 0})}),[a,r]);return w.createElement(ax,{value:t?s:void 0},n)}function hde(e){var{points:t,allOtherScatterProps:r}=e,{shape:n,activeShape:a,dataKey:s}=r,i=ye(Ti),{onMouseEnter:o,onClick:l,onMouseLeave:c}=r,u=Cw(r,rde),f=ux(o,r.dataKey),h=dx(c),p=fx(l,r.dataKey);if(!AG(t))return null;var{id:m}=r,v=Cw(r,nde),g=sn(v);return w.createElement(w.Fragment,null,w.createElement(dde,{points:t,props:v}),t.map((x,b)=>{var y=a!=null&&a!==!1,k=y&&i===String(b),E=y&&k?a:n,_=Yn(Yn(Yn({},g),x),{},{[q_]:b,[Y_]:String(s)});return w.createElement(Kr,{key:"symbol-".concat(x==null?void 0:x.cx,"-").concat(x==null?void 0:x.cy,"-").concat(x==null?void 0:x.size,"-").concat(b),zIndex:k?Ft.activeDot:void 0},w.createElement(ft,Ol({className:"recharts-scatter-symbol"},Nu(u,x,b),{onMouseEnter:f(x,b),onMouseLeave:h(x,b),onClick:p(x,b)}),w.createElement(Hue,Ol({option:E,isActive:k},_))))}))}function pde(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o}=r,l=t.current,c=Wl(r,"recharts-scatter-"),[u,f]=w.useState(!1),h=w.useCallback(()=>{f(!1)},[]),p=w.useCallback(()=>{f(!0)},[]),m=!u;return w.createElement(fde,{showLabels:m,points:n},r.children,w.createElement(Vl,{animationId:c,begin:s,duration:i,isActive:a,easing:o,onAnimationEnd:h,onAnimationStart:p,key:c},v=>{var g=v===1?n:n==null?void 0:n.map((x,b)=>{var y=l&&l[b];return y?Yn(Yn({},x),{},{cx:x.cx==null?void 0:qe(y.cx,x.cx,v),cy:x.cy==null?void 0:qe(y.cy,x.cy,v),size:qe(y.size,x.size,v)}):Yn(Yn({},x),{},{size:qe(0,x.size,v)})});return v>0&&(t.current=g),w.createElement(ft,null,w.createElement(hde,{points:g,allOtherScatterProps:r,showLabels:m}))}),w.createElement(q0,{label:r.label}))}function mde(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:a,scatterSettings:s,xAxisTicks:i,yAxisTicks:o,cells:l}=e,c=it(r.dataKey)?s.dataKey:r.dataKey,u=it(n.dataKey)?s.dataKey:n.dataKey,f=a&&a.dataKey,h=a?a.range:O5.range,p=h&&h[0],m=r.scale.bandwidth?r.scale.bandwidth():0,v=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((g,x)=>{var b=Ze(g,c),y=Ze(g,u),k=!it(f)&&Ze(g,f)||"-",E=[{name:it(r.dataKey)?s.name:r.name||String(r.dataKey),unit:r.unit||"",value:b,payload:g,dataKey:c,type:s.tooltipType},{name:it(n.dataKey)?s.name:n.name||String(n.dataKey),unit:n.unit||"",value:y,payload:g,dataKey:u,type:s.tooltipType}];k!=="-"&&E.push({name:a.name||a.dataKey,unit:a.unit||"",value:k,payload:g,dataKey:f,type:s.tooltipType});var _=pu({axis:r,ticks:i,bandSize:m,entry:g,index:x,dataKey:c}),S=pu({axis:n,ticks:o,bandSize:v,entry:g,index:x,dataKey:u}),C=k!=="-"?a.scale(k):p,T=Math.sqrt(Math.max(C,0)/Math.PI);return Yn(Yn({},g),{},{cx:_,cy:S,x:_==null?void 0:_-T,y:S==null?void 0:S-T,width:2*T,height:2*T,size:C,node:{x:b,y,z:k},tooltipPayload:E,tooltipPosition:{x:_,y:S},payload:g},l&&l[x]&&l[x].props)})}var vde=(e,t,r)=>({x:e.cx,y:e.cy,value:Number(r==="x"?e.node.x:e.node.y),errorVal:Ze(e,t)});function gde(e){var{hide:t,points:r,className:n,needClip:a,xAxisId:s,yAxisId:i,id:o}=e,l=w.useRef(null);if(t)return null;var c=He("recharts-scatter",n),u=o;return w.createElement(Kr,{zIndex:e.zIndex},w.createElement(ft,{className:c,clipPath:a?"url(#clipPath-".concat(u,")"):void 0,id:o},a&&w.createElement("defs",null,w.createElement(gx,{clipPathId:u,xAxisId:s,yAxisId:i})),w.createElement(vS,{xAxisId:s,yAxisId:i,data:r,dataPointFormatter:vde,errorBarOffset:0},w.createElement(ft,{key:"recharts-scatter-symbols"},w.createElement(pde,{props:e,previousPointsRef:l})))))}var R8={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:Ft.scatter};function xde(e){var t=Pt(e,R8),{animationBegin:r,animationDuration:n,animationEasing:a,hide:s,isAnimationActive:i,legendType:o,lineJointType:l,lineType:c,shape:u,xAxisId:f,yAxisId:h,zAxisId:p}=t,m=Cw(t,ade),{needClip:v}=ih(f,h),g=w.useMemo(()=>cx(e.children,Ms),[e.children]),x=cr(),b=ye(y=>tde(y,f,h,p,e.id,g,x));return v==null||b==null?null:w.createElement(w.Fragment,null,w.createElement(ude,{dataKey:e.dataKey,points:b,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(gde,Ol({},m,{xAxisId:f,yAxisId:h,zAxisId:p,lineType:c,lineJointType:l,legendType:o,shape:u,hide:s,isAnimationActive:i,animationBegin:r,animationDuration:n,animationEasing:a,points:b,needClip:v})))}function yde(e){var t=Pt(e,R8),r=cr();return w.createElement(sh,{id:t.id,type:"scatter"},n=>w.createElement(w.Fragment,null,w.createElement(hx,{legendPayload:cde(t)}),w.createElement(px,{type:"scatter",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:r}),w.createElement(xde,Ol({},t,{id:n}))))}var F8=w.memo(yde,Vu);F8.displayName="Scatter";var bde=["domain","range"],wde=["domain","range"];function OP(e,t){if(e==null)return{};var r,n,a=_de(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _de(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function L8(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=OP(e,bde),{domain:s,range:i}=t,o=OP(t,wde);return!DP(r,s)||!DP(n,i)?!1:Vu(a,o)}var kde=["dangerouslySetInnerHTML","ticks"],Sde=["id"];function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(null,arguments)}function MP(e,t){if(e==null)return{};var r,n,a=Ede(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ede(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Cde(e){var t=mt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Lie(e)):r.current!==e&&t(Bie({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t($ie(r.current)),r.current=null)},[t]),null}var Tde=e=>{var{xAxisId:t,className:r}=e,n=ye(X_),a=cr(),s="xAxis",i=ye(g=>ko(g,s,t,a)),o=ye(g=>eF(g,s,t,a)),l=ye(g=>X5(g,t)),c=ye(g=>Ute(g,t)),u=ye(g=>P5(g,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=MP(e,kde),{id:m}=u,v=MP(u,Sde);return w.createElement(yS,Tw({},p,v,{scale:i,x:c.x,y:c.y,width:l.width,height:l.height,className:He("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},Ade={allowDataOverflow:Ir.allowDataOverflow,allowDecimals:Ir.allowDecimals,allowDuplicatedCategory:Ir.allowDuplicatedCategory,angle:Ir.angle,axisLine:ci.axisLine,height:Ir.height,hide:!1,includeHidden:Ir.includeHidden,interval:Ir.interval,minTickGap:Ir.minTickGap,mirror:Ir.mirror,orientation:Ir.orientation,padding:Ir.padding,reversed:Ir.reversed,scale:Ir.scale,tick:Ir.tick,tickCount:Ir.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:Ir.type,xAxisId:0},jde=e=>{var t=Pt(e,Ade);return w.createElement(w.Fragment,null,w.createElement(Cde,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(Tde,t))},Tt=w.memo(jde,L8);Tt.displayName="XAxis";var Pde=["dangerouslySetInnerHTML","ticks"],Nde=["id"];function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(null,arguments)}function IP(e,t){if(e==null)return{};var r,n,a=Ode(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ode(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dde(e){var t=mt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Uie(e)):r.current!==e&&t(zie({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(Vie(r.current)),r.current=null)},[t]),null}var Mde=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=w.useRef(null),i=w.useRef(null),o=ye(X_),l=cr(),c=mt(),u="yAxis",f=ye(E=>ko(E,u,t,l)),h=ye(E=>J5(E,t)),p=ye(E=>Vte(E,t)),m=ye(E=>eF(E,u,t,l)),v=ye(E=>N5(E,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||uS(a)||w.isValidElement(a)||v==null)){var E=s.current;if(E){var _=E.getCalculatedWidth();Math.round(h.width)!==Math.round(_)&&c(Wie({id:t,width:_}))}}},[m,h,c,a,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=IP(e,Pde),{id:y}=v,k=IP(v,Nde);return w.createElement(yS,Aw({},b,k,{ref:s,labelRef:i,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:He("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:m,axisType:u}))},Ide={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:Rr.allowDecimals,allowDuplicatedCategory:Rr.allowDuplicatedCategory,angle:Rr.angle,axisLine:ci.axisLine,hide:!1,includeHidden:Rr.includeHidden,interval:Rr.interval,minTickGap:Rr.minTickGap,mirror:Rr.mirror,orientation:Rr.orientation,padding:Rr.padding,reversed:Rr.reversed,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,tickLine:ci.tickLine,tickSize:ci.tickSize,type:Rr.type,width:Rr.width,yAxisId:0},Rde=e=>{var t=Pt(e,Ide);return w.createElement(w.Fragment,null,w.createElement(Dde,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(Mde,t))},nt=w.memo(Rde,L8);nt.displayName="YAxis";var Fde=(e,t)=>t,wS=Z([Fde,ze,A5,Dr,vF,Fi,ane,Nr],dne),_S=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},B8=Fa("mouseClick"),$8=N0();$8.startListening({actionCreator:B8,effect:(e,t)=>{var r=e.payload,n=wS(t.getState(),_S(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(are({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var jw=Fa("mouseMove"),U8=N0(),cp=null;U8.startListening({actionCreator:jw,effect:(e,t)=>{var r=e.payload;cp!==null&&cancelAnimationFrame(cp);var n=_S(r);cp=requestAnimationFrame(()=>{var a=t.getState(),s=eS(a,a.tooltip.settings.shared);if(s==="axis"){var i=wS(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(lF({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(oF())}cp=null})}});var RP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},z8=ea({name:"rootProps",initialState:RP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:RP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Lde=z8.reducer,{updateOptions:Bde}=z8.actions,V8=ea({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$de}=V8.actions,Ude=V8.reducer,W8=Fa("keyDown"),H8=Fa("focus"),kS=N0();kS.startListening({actionCreator:W8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=tS(a,zu(r),z0(r),K0(r)),o=i==null?-1:Number(i);if(!(!Number.isFinite(o)||o<0)){var l=Fi(r);if(s==="Enter"){var c=iv(r,"axis","hover",String(a.index));t.dispatch(xw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=qte(r),f=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var m=iv(r,"axis","hover",String(p));t.dispatch(xw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}}});kS.startListening({actionCreator:H8,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=iv(r,"axis","hover",String(s));t.dispatch(xw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var wa=Fa("externalEvent"),K8=N0(),Vy=new Map;K8.startListening({actionCreator:wa,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=Vy.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Vre(o),activeDataKey:bF(o),activeIndex:Ti(o),activeLabel:yF(o),activeTooltipIndex:Ti(o),isTooltipActive:Wre(o)};r(l,n)}finally{Vy.delete(a)}});Vy.set(a,i)}}});var zde=Z([Uu],e=>e.tooltipItemPayloads),Vde=Z([zde,W0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),G8=Fa("touchMove"),q8=N0();q8.startListening({actionCreator:G8,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=eS(n,n.tooltip.settings.shared);if(a==="axis"){var s=wS(n,_S({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(lF({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(q_),u=(i=l.getAttribute(Y_))!==null&&i!==void 0?i:void 0,f=Vde(t.getState(),c,u);t.dispatch(iF({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}}});var Wde=mI({brush:Rle,cartesianAxis:Hie,chartData:Une,errorBars:uoe,graphicalItems:Qse,layout:SY,legend:AX,options:Rne,polarAxis:ose,polarOptions:Ude,referenceElements:Gle,rootProps:Lde,tooltip:sre,zIndex:Ene}),Hde=function(t){return Yq({reducer:Wde,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([$8.middleware,U8.middleware,kS.middleware,K8.middleware,q8.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(PI({type:"raf"}))},devTools:Do.devToolsEnabled})};function Y8(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=cr(),s=w.useRef(null);if(a)return r;s.current==null&&(s.current=Hde(t));var i=F_;return w.createElement(Loe,{context:i,store:s.current},r)}function Kde(e){var{layout:t,margin:r}=e,n=mt(),a=cr();return w.useEffect(()=>{a||(n(wY(t)),n(bY(r)))},[n,a,t,r]),null}var X8=w.memo(Kde,Vu);function J8(e){var t=mt();return w.useEffect(()=>{t(Bde(e))},[t,e]),null}function FP(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=l8("".concat(n).concat(t)),s=mt();return w.useLayoutEffect(()=>(s(kne({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Sne({zIndex:t,isPanorama:r}))}),[s,t,a,r]),w.createElement("g",{id:a})}function LP(e){var{children:t,isPanorama:r}=e,n=ye(hne);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return w.createElement(w.Fragment,null,a.map(i=>w.createElement(FP,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>w.createElement(FP,{key:i,zIndex:i,isPanorama:r})))}var Gde=["children"];function qde(e,t){if(e==null)return{};var r,n,a=Yde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gv(){return gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gv.apply(null,arguments)}var Xde={width:"100%",height:"100%",display:"block"},Jde=w.forwardRef((e,t)=>{var r=Q_(),n=Z_(),a=fR();if(!Os(r)||!Os(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,c,u;return i!=null&&(typeof i.tabIndex=="number"?c=i.tabIndex:c=a?0:void 0,typeof i.role=="string"?u=i.role:u=a?"application":void 0),w.createElement(__,gv({},i,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:Xde,ref:t}),s)}),Qde=e=>{var{children:t}=e,r=ye(Ig);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return w.createElement(__,{width:n,height:a,x:i,y:s},t)},BP=w.forwardRef((e,t)=>{var{children:r}=e,n=qde(e,Gde),a=cr();return a?w.createElement(Qde,null,w.createElement(LP,{isPanorama:!0},r)):w.createElement(Jde,gv({ref:t},n),w.createElement(LP,{isPanorama:!1},r))});function Zde(){var e=mt(),[t,r]=w.useState(null),n=ye(UY);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ct(s)&&s!==n&&e(kY(s))}},[t,e,n]),r}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function efe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tfe(e,t,r){return(t=rfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rfe(e){var t=nfe(e,"string");return typeof t=="symbol"?t:t+""}function nfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(null,arguments)}var afe=()=>(Xne(),null);function xv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var sfe=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[s,i]=w.useState({containerWidth:xv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:xv((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,u)=>{i(f=>{var h=Math.round(c),p=Math.round(u);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var h=m=>{var{width:v,height:g}=m[0].contentRect;o(v,g)},p=new ResizeObserver(h);p.observe(c),a.current=p}},[t,o]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(Rg,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Dl({ref:l},e)))}),ife=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=w.useState({containerWidth:xv(r),containerHeight:xv(n)}),i=w.useCallback((l,c)=>{s(u=>{var f=Math.round(l),h=Math.round(c);return u.containerWidth===f&&u.containerHeight===h?u:{containerWidth:f,containerHeight:h}})},[]),o=w.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();i(c,u)}},[t,i]);return w.createElement(w.Fragment,null,w.createElement(Rg,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Dl({ref:o},e)))}),ofe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(Rg,{width:r,height:n}),w.createElement("div",Dl({ref:t},e)))}),lfe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return wi(r)||wi(n)?w.createElement(ife,Dl({},e,{ref:t})):w.createElement(ofe,Dl({},e,{ref:t}))});function cfe(e){return e===!0?sfe:lfe}var ufe=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:g,width:x,responsive:b,dispatchTouchEvents:y=!0}=e,k=w.useRef(null),E=mt(),[_,S]=w.useState(null),[C,T]=w.useState(null),j=Zde(),P=J_(),A=(P==null?void 0:P.width)>0?P.width:x,N=(P==null?void 0:P.height)>0?P.height:a,L=w.useCallback(Y=>{j(Y),typeof t=="function"&&t(Y),S(Y),T(Y),Y!=null&&(k.current=Y)},[j,t,S,T]),K=w.useCallback(Y=>{E(B8(Y)),E(wa({handler:s,reactEvent:Y}))},[E,s]),X=w.useCallback(Y=>{E(jw(Y)),E(wa({handler:c,reactEvent:Y}))},[E,c]),W=w.useCallback(Y=>{E(oF()),E(wa({handler:u,reactEvent:Y}))},[E,u]),q=w.useCallback(Y=>{E(jw(Y)),E(wa({handler:f,reactEvent:Y}))},[E,f]),I=w.useCallback(()=>{E(H8())},[E]),J=w.useCallback(Y=>{E(W8(Y.key))},[E]),Q=w.useCallback(Y=>{E(wa({handler:i,reactEvent:Y}))},[E,i]),M=w.useCallback(Y=>{E(wa({handler:o,reactEvent:Y}))},[E,o]),U=w.useCallback(Y=>{E(wa({handler:l,reactEvent:Y}))},[E,l]),G=w.useCallback(Y=>{E(wa({handler:h,reactEvent:Y}))},[E,h]),H=w.useCallback(Y=>{E(wa({handler:v,reactEvent:Y}))},[E,v]),ee=w.useCallback(Y=>{y&&E(G8(Y)),E(wa({handler:m,reactEvent:Y}))},[E,y,m]),oe=w.useCallback(Y=>{E(wa({handler:p,reactEvent:Y}))},[E,p]),ce=cfe(b);return w.createElement(AF.Provider,{value:_},w.createElement(mM.Provider,{value:C},w.createElement(ce,{width:A??(g==null?void 0:g.width),height:N??(g==null?void 0:g.height),className:He("recharts-wrapper",n),style:efe({position:"relative",cursor:"default",width:A,height:N},g),onClick:K,onContextMenu:Q,onDoubleClick:M,onFocus:I,onKeyDown:J,onMouseDown:U,onMouseEnter:X,onMouseLeave:W,onMouseMove:q,onMouseUp:G,onTouchEnd:oe,onTouchMove:ee,onTouchStart:H,ref:L},w.createElement(afe,null),r)))}),dfe=["width","height","responsive","children","className","style","compact","title","desc"];function ffe(e,t){if(e==null)return{};var r,n,a=hfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function hfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q8=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:o,compact:l,title:c,desc:u}=e,f=ffe(e,dfe),h=sn(f);return l?w.createElement(w.Fragment,null,w.createElement(Rg,{width:r,height:n}),w.createElement(BP,{otherAttributes:h,title:c,desc:u},s)):w.createElement(ufe,{className:i,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(BP,{otherAttributes:h,title:c,desc:u,ref:t},w.createElement(qle,null,s)))});function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pw.apply(null,arguments)}var pfe={top:5,right:5,bottom:5,left:5},mfe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pfe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},bx=w.forwardRef(function(t,r){var n,a=Pt(t.categoricalChartProps,mfe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return w.createElement(Y8,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},w.createElement(m8,{chartData:c.data}),w.createElement(X8,{layout:a.layout,margin:a.margin}),w.createElement(J8,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Q8,Pw({},a,{ref:r})))}),vfe=["axis"],ui=w.forwardRef((e,t)=>w.createElement(bx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vfe,tooltipPayloadSearcher:G0,categoricalChartProps:e,ref:t})),gfe=["axis","item"],di=w.forwardRef((e,t)=>w.createElement(bx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gfe,tooltipPayloadSearcher:G0,categoricalChartProps:e,ref:t}));function xfe(e){var t=mt();return w.useEffect(()=>{t($de(e))},[t,e]),null}var yfe=["layout"];function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(null,arguments)}function bfe(e,t){if(e==null)return{};var r,n,a=wfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _fe={top:5,right:5,bottom:5,left:5},kfe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:_fe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Sfe=w.forwardRef(function(t,r){var n,a=Pt(t.categoricalChartProps,kfe),{layout:s}=a,i=bfe(a,yfe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(Y8,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},w.createElement(m8,{chartData:a.data}),w.createElement(X8,{layout:s,margin:a.margin}),w.createElement(J8,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(xfe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(Q8,Nw({},i,{ref:r})))}),Efe=["item"],Cfe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Z8=w.forwardRef((e,t)=>{var r=Pt(e,Cfe);return w.createElement(Sfe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Efe,tooltipPayloadSearcher:G0,categoricalChartProps:r,ref:t})}),Tfe=["axis"],Afe=w.forwardRef((e,t)=>w.createElement(bx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tfe,tooltipPayloadSearcher:G0,categoricalChartProps:e,ref:t})),jfe=["axis"],ch=w.forwardRef((e,t)=>w.createElement(bx,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:jfe,tooltipPayloadSearcher:G0,categoricalChartProps:e,ref:t}));const fc=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#6366F1","#14B8A6"],Pfe=({data:e})=>{const[t,r]=w.useState("cartoes"),[n,a]=w.useState("canal"),[s,i]=w.useState("pie"),[o,l]=w.useState("desc"),c=w.useMemo(()=>{const h={};Object.values(e).flat().forEach(m=>{let v="";switch(n){case"canal":v=m.canal;break;case"bu":v=m.bu;break;case"parceiro":v=m.parceiro;break;case"oferta":v=m.oferta||"Padrao";break;case"segmento":v=m.segmento;break;default:v="Outros"}v||(v="Outros"),h[v]||(h[v]={name:v,value:0,cost:0,cards:0});const g=m.kpis;switch(h[v].cost+=g.custoTotal||0,h[v].cards+=g.cartoes||0,t){case"cartoes":h[v].value+=g.cartoes||0;break;case"custo":h[v].value+=g.custoTotal||0;break;case"envios":h[v].value+=g.baseEnviada||0;break;case"aprovacoes":h[v].value+=g.aprovados||0;break}});let p=Object.values(h);switch(t==="cac"&&(p=p.map(m=>({...m,value:m.cards>0?parseFloat((m.cost/m.cards).toFixed(2)):0}))),o){case"desc":p.sort((m,v)=>v.value-m.value);break;case"asc":p.sort((m,v)=>m.value-v.value);break;case"alpha":p.sort((m,v)=>m.name.localeCompare(v.name));break}return p},[e,t,n,o]),u=h=>t==="custo"?`R$ ${(h/1e3).toFixed(1)}k`:t==="cac"?`R$ ${h.toFixed(2)}`:new Intl.NumberFormat("pt-BR").format(h),f=w.useMemo(()=>{if(t==="cac"){const h=c.reduce((m,v)=>m+v.cost,0),p=c.reduce((m,v)=>m+v.cards,0);return p>0?h/p:0}return c.reduce((h,p)=>h+p.value,0)},[c,t]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8",children:[d.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-3",children:[d.jsx(ju,{size:24,className:"text-blue-400"}),"Anlise de Distribuio"]}),d.jsxs("div",{className:"flex gap-2 bg-slate-900 rounded-lg p-1.5 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("pie"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="pie"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx($3,{size:18}),"Pizza"]}),d.jsxs("button",{onClick:()=>i("bar"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="bar"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx(h_,{size:18}),"Barras"]})]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsxs("select",{value:t,onChange:h=>r(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[180px]",children:[d.jsx("option",{value:"cartoes",children:"Cartes Gerados"}),d.jsx("option",{value:"custo",children:"Custo Total"}),d.jsx("option",{value:"envios",children:"Base Enviada"}),d.jsx("option",{value:"aprovacoes",children:"Aprovaes"}),d.jsx("option",{value:"cac",children:"CAC Mdio"})]}),d.jsx("span",{className:"text-slate-400 text-base font-medium",children:"por"}),d.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[150px]",children:[d.jsx("option",{value:"canal",children:"Canal"}),d.jsx("option",{value:"bu",children:"BU"}),d.jsx("option",{value:"parceiro",children:"Parceiro"}),d.jsx("option",{value:"oferta",children:"Oferta"}),d.jsx("option",{value:"segmento",children:"Segmento"})]}),d.jsx("span",{className:"text-slate-600 text-base",children:""}),d.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[170px]",children:[d.jsx("option",{value:"desc",children:"Maior  Menor"}),d.jsx("option",{value:"asc",children:"Menor  Maior"}),d.jsx("option",{value:"alpha",children:"Alfabtica"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-10 items-start",children:[d.jsx("div",{className:"col-span-2 h-[500px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:s==="pie"?d.jsx(Z8,{children:d.jsx(mS,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,paddingAngle:2,stroke:"#0f172a",strokeWidth:2,labelLine:!1,label:({percent:h=0,name:p})=>`${p}: ${(h*100).toFixed(1)}%`,children:c.map((h,p)=>d.jsx(Ms,{fill:fc[p%fc.length]},`cell-${p}`))})}):d.jsxs(di,{data:c,layout:"vertical",margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(Tt,{type:"number",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1}),d.jsx(nt,{type:"category",dataKey:"name",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1,width:90}),d.jsx(Ct,{formatter:h=>u(h),contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9",fontSize:"14px",padding:"12px",borderRadius:"8px"},itemStyle:{color:"#f1f5f9"}}),d.jsx(Ur,{dataKey:"value",radius:[0,8,8,0],barSize:40,children:c.map((h,p)=>d.jsx(Ms,{fill:fc[p%fc.length]},`cell-${p}`))})]})})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700 text-center shadow-lg",children:[d.jsx("p",{className:"text-base text-slate-400 mb-3 font-medium",children:t==="cac"?"CAC Mdio Global":"Total Geral"}),d.jsx("p",{className:"text-5xl font-bold text-white mb-2",children:u(f)})]}),d.jsx("div",{className:"space-y-3 max-h-[380px] overflow-y-auto pr-3 custom-scrollbar",children:c.map((h,p)=>d.jsxs("div",{className:"flex items-center justify-between text-base p-3 hover:bg-slate-700/40 rounded-lg transition bg-slate-900/30 border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 rounded-full shadow-md",style:{backgroundColor:fc[p%fc.length]}}),d.jsx("span",{className:"text-slate-200 font-medium",children:h.name})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"font-bold text-slate-100 text-lg",children:u(h.value)}),t!=="cac"&&f>0&&d.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:[(h.value/f*100).toFixed(1),"%"]})]})]},p))})]})]})]})},Nfe=({goal:e,currentCartoes:t,currentAprovacoes:r,currentCAC:n})=>{var o,l;const a=e.cartoes_meta?Math.min(t/e.cartoes_meta*100,100):0,s=e.aprovacoes_meta?Math.min(r/e.aprovacoes_meta*100,100):0,i=!e.cac_max||n<=e.cac_max;return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-blue-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(bz,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Cartes Gerados"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${a>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[a.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((o=e.cartoes_meta)==null?void 0:o.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-emerald-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(yn,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Aprovaes"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${s>=100,"bg-emerald-500/20 text-emerald-400"}`,children:[s.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:r.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((l=e.aprovacoes_meta)==null?void 0:l.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${s}%`}})})]}),d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-4 relative overflow-hidden group transition-all ${i?"border-slate-700 hover:border-emerald-500/50":"border-red-900/50 hover:border-red-500/50"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(b0,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"CAC Mdio"}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:i?"Dentro da Meta":"Acima da Meta"})]}),d.jsxs("div",{className:`text-2xl font-bold mb-1 ${i?"text-emerald-400":"text-red-400"}`,children:["R$ ",n.toFixed(2)]}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta Mx: ",e.cac_max?`R$ ${e.cac_max.toFixed(2)}`:"-"]}),d.jsxs("div",{className:"relative h-1.5 bg-slate-700 rounded-full overflow-hidden",children:[e.cac_max&&d.jsx("div",{className:"absolute h-full w-0.5 bg-white z-10",style:{left:`${Math.min(e.cac_max/(e.cac_max*1.5)*100,100)}%`}}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${i?"bg-emerald-500":"bg-red-500"}`,style:{width:`${e.cac_max?Math.min(n/(e.cac_max*1.5)*100,100):0}%`}})]})]})]})})},Ofe=({isOpen:e,onClose:t,onSave:r,initialGoal:n,currentMonthLabel:a})=>{const[s,i]=w.useState("B2C"),[o,l]=w.useState({B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}});w.useEffect(()=>{if(e){const f={B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}};n.bus&&Object.entries(n.bus).forEach(([h,p])=>{var m,v,g;f[h]&&(f[h]={cartoes:((m=p.cartoes)==null?void 0:m.toString())||"",aprovacoes:((v=p.aprovacoes)==null?void 0:v.toString())||"",cac:((g=p.cac)==null?void 0:g.toString())||""})}),l(f)}},[e,n]);const c=w.useMemo(()=>{let f=0,h=0,p=0,m=0;return Object.values(o).forEach(v=>{f+=Number(v.cartoes)||0,h+=Number(v.aprovacoes)||0,Number(v.cac)>0&&(p+=Number(v.cac),m++)}),{cartoes:f,aprovacoes:h,cacMedio:m>0?p/m:0}},[o]);if(!e)return null;const u=f=>{f.preventDefault();const h={};Object.entries(o).forEach(([p,m])=>{h[p]={cartoes:Number(m.cartoes)||0,aprovacoes:Number(m.aprovacoes)||0,cac:Number(m.cac)||0}}),r({mes:n.mes,cartoes_meta:c.cartoes,aprovacoes_meta:c.aprovacoes,cac_max:c.cacMedio,bus:h}),t()};return d.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-2xl w-full max-w-2xl border border-white/10 flex flex-col md:flex-row overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2 mb-6",children:[d.jsx(Oo,{className:"text-blue-400",size:20}),"Metas"]}),d.jsx("div",{className:"space-y-2 flex-1",children:["B2C","B2B2C","Plurix"].map(f=>d.jsxs("button",{type:"button",onClick:()=>i(f),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition flex items-center justify-between group ${s===f?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[f,s===f&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"})]},f))}),d.jsxs("div",{className:"mt-6 bg-slate-800/50 rounded-lg p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[d.jsx(f_,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Consolidado"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Cartes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Aprovaes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.aprovacoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"CAC Mdio"}),d.jsxs("span",{className:"text-emerald-400 font-mono",children:["R$ ",c.cacMedio.toFixed(2)]})]})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-slate-800/50",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-100 font-bold",children:["Configurao: ",s]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Defina as metas para o ms de ",a]})]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200 transition",children:d.jsx($s,{size:20})})]}),d.jsx("form",{onSubmit:u,className:"p-6 space-y-6 flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Cartes Gerados"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].cartoes,onChange:f=>l({...o,[s]:{...o[s],cartoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Aprovaes"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].aprovacoes,onChange:f=>l({...o,[s]:{...o[s],aprovacoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"CAC Mximo Aceitvel"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",value:o[s].cac,onChange:f=>l({...o,[s]:{...o[s],cac:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 pl-10 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0.00"})]})]})]})}),d.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900/30 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded-lg transition",children:"Cancelar"}),d.jsxs("button",{onClick:u,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center gap-2 transition shadow-lg shadow-blue-900/20 font-medium",children:[d.jsx(S0,{size:18}),"Salvar Todas as Metas"]})]})]})]})})};function ji(e){"@babel/helpers - typeof";return ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ji(e)}function lr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Le(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Be(e){Le(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||ji(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function yv(e,t){Le(2,arguments);var r=Be(e),n=lr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function SS(e,t){Le(2,arguments);var r=Be(e),n=lr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function Dfe(e,t){Le(2,arguments);var r=Be(e).getTime(),n=lr(t);return new Date(r+n)}var Mfe={};function Fo(){return Mfe}function Gl(e,t){var r,n,a,s,i,o,l,c;Le(1,arguments);var u=Fo(),f=lr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Be(e),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function bv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Is(e){Le(1,arguments);var t=Be(e);return t.setHours(0,0,0,0),t}var Ife=864e5;function Rfe(e,t){Le(2,arguments);var r=Is(e),n=Is(t),a=r.getTime()-bv(r),s=n.getTime()-bv(n);return Math.round((a-s)/Ife)}var ES=6e4,CS=36e5,Ffe=1e3;function bu(e,t){Le(2,arguments);var r=Is(e),n=Is(t);return r.getTime()===n.getTime()}function Lfe(e){return Le(1,arguments),e instanceof Date||ji(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function e6(e){if(Le(1,arguments),!Lfe(e)&&typeof e!="number")return!1;var t=Be(e);return!isNaN(Number(t))}function UP(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Yf(e,t){Le(2,arguments);var r=Be(e),n=Be(t),a=UP(r,n),s=Math.abs(Rfe(r,n));r.setDate(r.getDate()-a*s);var i=+(UP(r,n)===-a),o=a*(s-i);return o===0?0:o}function Xf(e){Le(1,arguments);var t=Be(e);return t.setHours(23,59,59,999),t}function Ml(e){Le(1,arguments);var t=Be(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function TS(e,t){var r;Le(1,arguments);var n=e||{},a=Be(n.start),s=Be(n.end),i=s.getTime();if(!(a.getTime()<=i))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)o.push(Be(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function en(e){Le(1,arguments);var t=Be(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Bfe(e,t){var r,n,a,s,i,o;Le(1,arguments);var l=Fo(),c=lr((r=(n=(a=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(i=l.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=Be(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function t6(e,t){Le(2,arguments);var r=lr(t);return Dfe(e,-r)}var $fe=864e5;function Ufe(e){Le(1,arguments);var t=Be(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/$fe)+1}function wu(e){Le(1,arguments);var t=1,r=Be(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function r6(e){Le(1,arguments);var t=Be(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=wu(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var i=wu(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function zfe(e){Le(1,arguments);var t=r6(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=wu(r);return n}var Vfe=6048e5;function n6(e){Le(1,arguments);var t=Be(e),r=wu(t).getTime()-zfe(t).getTime();return Math.round(r/Vfe)+1}function Il(e,t){var r,n,a,s,i,o,l,c;Le(1,arguments);var u=Fo(),f=lr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Be(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function AS(e,t){var r,n,a,s,i,o,l,c;Le(1,arguments);var u=Be(e),f=u.getUTCFullYear(),h=Fo(),p=lr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var v=Il(m,t),g=new Date(0);g.setUTCFullYear(f,0,p),g.setUTCHours(0,0,0,0);var x=Il(g,t);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function Wfe(e,t){var r,n,a,s,i,o,l,c;Le(1,arguments);var u=Fo(),f=lr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=AS(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Il(p,t);return m}var Hfe=6048e5;function a6(e,t){Le(1,arguments);var r=Be(e),n=Il(r,t).getTime()-Wfe(r,t).getTime();return Math.round(n/Hfe)+1}function ot(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var $i={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return ot(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):ot(n+1,2)},d:function(t,r){return ot(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return ot(t.getUTCHours()%12||12,r.length)},H:function(t,r){return ot(t.getUTCHours(),r.length)},m:function(t,r){return ot(t.getUTCMinutes(),r.length)},s:function(t,r){return ot(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return ot(s,r.length)}},hc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kfe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return $i.y(t,r)},Y:function(t,r,n,a){var s=AS(t,a),i=s>0?s:1-s;if(r==="YY"){var o=i%100;return ot(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,r.length)},R:function(t,r){var n=r6(t);return ot(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return ot(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ot(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ot(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return $i.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return ot(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=a6(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,r.length)},I:function(t,r,n){var a=n6(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ot(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):$i.d(t,r)},D:function(t,r,n){var a=Ufe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ot(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return ot(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return ot(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=hc.noon:a===0?s=hc.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=hc.evening:a>=12?s=hc.afternoon:a>=4?s=hc.morning:s=hc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return $i.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):$i.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):$i.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):$i.s(t,r)},S:function(t,r){return $i.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return VP(i);case"XXXX":case"XX":return Jo(i);case"XXXXX":case"XXX":default:return Jo(i,":")}},x:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"x":return VP(i);case"xxxx":case"xx":return Jo(i);case"xxxxx":case"xxx":default:return Jo(i,":")}},O:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+zP(i,":");case"OOOO":default:return"GMT"+Jo(i,":")}},z:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+zP(i,":");case"zzzz":default:return"GMT"+Jo(i,":")}},t:function(t,r,n,a){var s=a._originalDate||t,i=Math.floor(s.getTime()/1e3);return ot(i,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,i=s.getTime();return ot(i,r.length)}};function zP(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var i=t;return r+String(a)+i+ot(s,2)}function VP(e,t){if(e%60===0){var r=e>0?"-":"+";return r+ot(Math.abs(e)/60,2)}return Jo(e,t)}function Jo(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=ot(Math.floor(a/60),2),i=ot(a%60,2);return n+s+r+i}var WP=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},s6=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Gfe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return WP(t,r);var i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",WP(a,r)).replace("{{time}}",s6(s,r))},Ow={p:s6,P:Gfe},qfe=["D","DD"],Yfe=["YY","YYYY"];function i6(e){return qfe.indexOf(e)!==-1}function o6(e){return Yfe.indexOf(e)!==-1}function wv(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Xfe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Jfe=function(t,r,n){var a,s=Xfe[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Qc(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Qfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},e0e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},t0e={date:Qc({formats:Qfe,defaultWidth:"full"}),time:Qc({formats:Zfe,defaultWidth:"full"}),dateTime:Qc({formats:e0e,defaultWidth:"full"})},r0e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n0e=function(t,r,n,a){return r0e[t]};function bs(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):s;a=e.formattingValues[i]||e.formattingValues[s]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var a0e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},s0e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},i0e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},o0e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},l0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},c0e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},u0e=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},d0e={ordinalNumber:u0e,era:bs({values:a0e,defaultWidth:"wide"}),quarter:bs({values:s0e,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:bs({values:i0e,defaultWidth:"wide"}),day:bs({values:o0e,defaultWidth:"wide"}),dayPeriod:bs({values:l0e,defaultWidth:"wide",formattingValues:c0e,defaultFormattingWidth:"wide"})};function ws(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?h0e(o,function(f){return f.test(i)}):f0e(o,function(f){return f.test(i)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(i.length);return{value:c,rest:u}}}function f0e(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function h0e(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function l6(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var p0e=/^(\d+)(th|st|nd|rd)?/i,m0e=/\d+/i,v0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},g0e={any:[/^b/i,/^(a|c)/i]},x0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},y0e={any:[/1/i,/2/i,/3/i,/4/i]},b0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},w0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},k0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},S0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},E0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},C0e={ordinalNumber:l6({matchPattern:p0e,parsePattern:m0e,valueCallback:function(t){return parseInt(t,10)}}),era:ws({matchPatterns:v0e,defaultMatchWidth:"wide",parsePatterns:g0e,defaultParseWidth:"any"}),quarter:ws({matchPatterns:x0e,defaultMatchWidth:"wide",parsePatterns:y0e,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ws({matchPatterns:b0e,defaultMatchWidth:"wide",parsePatterns:w0e,defaultParseWidth:"any"}),day:ws({matchPatterns:_0e,defaultMatchWidth:"wide",parsePatterns:k0e,defaultParseWidth:"any"}),dayPeriod:ws({matchPatterns:S0e,defaultMatchWidth:"any",parsePatterns:E0e,defaultParseWidth:"any"})},c6={code:"en-US",formatDistance:Jfe,formatLong:t0e,formatRelative:n0e,localize:d0e,match:C0e,options:{weekStartsOn:0,firstWeekContainsDate:1}},T0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,A0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j0e=/^'([^]*?)'?$/,P0e=/''/g,N0e=/[a-zA-Z]/;function Te(e,t,r){var n,a,s,i,o,l,c,u,f,h,p,m,v,g,x,b,y,k;Le(2,arguments);var E=String(t),_=Fo(),S=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:_.locale)!==null&&n!==void 0?n:c6,C=lr((s=(i=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:_.firstWeekContainsDate)!==null&&i!==void 0?i:(f=_.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=lr((p=(m=(v=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:_.weekStartsOn)!==null&&m!==void 0?m:(y=_.locale)===null||y===void 0||(k=y.options)===null||k===void 0?void 0:k.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var j=Be(e);if(!e6(j))throw new RangeError("Invalid time value");var P=bv(j),A=t6(j,P),N={firstWeekContainsDate:C,weekStartsOn:T,locale:S,_originalDate:j},L=E.match(A0e).map(function(K){var X=K[0];if(X==="p"||X==="P"){var W=Ow[X];return W(K,S.formatLong)}return K}).join("").match(T0e).map(function(K){if(K==="''")return"'";var X=K[0];if(X==="'")return O0e(K);var W=Kfe[X];if(W)return!(r!=null&&r.useAdditionalWeekYearTokens)&&o6(K)&&wv(K,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&i6(K)&&wv(K,t,String(e)),W(A,K,S.localize,N);if(X.match(N0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+X+"`");return K}).join("");return L}function O0e(e){var t=e.match(j0e);return t?t[1].replace(P0e,"'"):e}function D0e(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Jf(e){Le(1,arguments);var t=Be(e),r=t.getDate();return r}function jS(e){Le(1,arguments);var t=Be(e),r=t.getDay();return r}function wx(e){Le(1,arguments);var t=Be(e),r=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function M0e(e,t){Le(2,arguments);var r=Be(e),n=Be(t);return r.getTime()>n.getTime()}function HP(e,t){Le(2,arguments);var r=Be(e),n=Be(t);return r.getTime()<n.getTime()}function Wy(e){return Le(1,arguments),Be(e).getTime()>Date.now()}function KP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function I0e(e,t){if(e){if(typeof e=="string")return KP(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?KP(e,t):void 0}}function GP(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I0e(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return i=c.done,c},e:function(c){o=!0,s=c},f:function(){try{i||r.return==null||r.return()}finally{if(o)throw s}}}}function Ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(e,t){return Dw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Dw(e,t)}function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dw(e,t)}function _v(e){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_v(e)}function u6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u6=function(){return!!e})()}function R0e(e,t){if(t&&(ji(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ee(e)}function tt(e){var t=u6();return function(){var r,n=_v(e);if(t){var a=_v(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return R0e(this,r)}}function Ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F0e(e,t){if(ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d6(e){var t=F0e(e,"string");return ji(t)=="symbol"?t:t+""}function L0e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d6(n.key),n)}}function Ge(e,t,r){return t&&L0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function be(e,t,r){return(t=d6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var B0e=10,f6=function(){function e(){Ke(this,e),be(this,"priority",void 0),be(this,"subPriority",0)}return Ge(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),$0e=function(e){et(r,e);var t=tt(r);function r(n,a,s,i,o){var l;return Ke(this,r),l=t.call(this),l.value=n,l.validateValue=a,l.setValue=s,l.priority=i,o&&(l.subPriority=o),l}return Ge(r,[{key:"validate",value:function(a,s){return this.validateValue(a,this.value,s)}},{key:"set",value:function(a,s,i){return this.setValue(a,s,this.value,i)}}]),r}(f6),U0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",B0e),be(Ee(n),"subPriority",-1),n}return Ge(r,[{key:"set",value:function(a,s){if(s.timestampIsSet)return a;var i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}}]),r}(f6),at=function(){function e(){Ke(this,e),be(this,"incompatibleTokens",void 0),be(this,"priority",void 0),be(this,"subPriority",void 0)}return Ge(e,[{key:"run",value:function(r,n,a,s){var i=this.parse(r,n,a,s);return i?{setter:new $0e(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}(),z0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",140),be(Ee(n),"incompatibleTokens",["R","u","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})||i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"})}}},{key:"set",value:function(a,s,i){return s.era=i,a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),ir={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},_s={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function or(e,t){return e&&{value:t(e.value),rest:e.rest}}function Wt(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function ks(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*CS+s*ES+i*Ffe),rest:t.slice(r[0].length)}}function h6(e){return Wt(ir.anyDigitsSigned,e)}function er(e,t){switch(e){case 1:return Wt(ir.singleDigit,t);case 2:return Wt(ir.twoDigits,t);case 3:return Wt(ir.threeDigits,t);case 4:return Wt(ir.fourDigits,t);default:return Wt(new RegExp("^\\d{1,"+e+"}"),t)}}function kv(e,t){switch(e){case 1:return Wt(ir.singleDigitSigned,t);case 2:return Wt(ir.twoDigitsSigned,t);case 3:return Wt(ir.threeDigitsSigned,t);case 4:return Wt(ir.fourDigitsSigned,t);default:return Wt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function PS(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function p6(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var s=n+50,i=Math.floor(s/100)*100,o=e>=s%100;a=e+i-(o?100:0)}return r?a:1-a}function m6(e){return e%400===0||e%4===0&&e%100!==0}var V0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",130),be(Ee(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return or(er(4,a),o);case"yo":return or(i.ordinalNumber(a,{unit:"year"}),o);default:return or(er(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i){var o=a.getUTCFullYear();if(i.isTwoDigitYear){var l=p6(i.year,o);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var c=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),W0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",130),be(Ee(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return or(er(4,a),o);case"Yo":return or(i.ordinalNumber(a,{unit:"year"}),o);default:return or(er(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i,o){var l=AS(a,o);if(i.isTwoDigitYear){var c=p6(i.year,l);return a.setUTCFullYear(c,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Il(a,o)}var u=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(u,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Il(a,o)}}]),r}(at),H0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",130),be(Ee(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s){return kv(s==="R"?4:s.length,a)}},{key:"set",value:function(a,s,i){var o=new Date(0);return o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0),wu(o)}}]),r}(at),K0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",130),be(Ee(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s){return kv(s==="u"?4:s.length,a)}},{key:"set",value:function(a,s,i){return a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),G0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",120),be(Ee(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"Q":case"QQ":return er(s.length,a);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})||i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),q0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",120),be(Ee(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"q":case"qq":return er(s.length,a);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})||i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),Y0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),be(Ee(n),"priority",110),n}return Ge(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"M":return or(Wt(ir.month,a),o);case"MM":return or(er(2,a),o);case"Mo":return or(i.ordinalNumber(a,{unit:"month"}),o);case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})||i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(at),X0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",110),be(Ee(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"L":return or(Wt(ir.month,a),o);case"LL":return or(er(2,a),o);case"Lo":return or(i.ordinalNumber(a,{unit:"month"}),o);case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})||i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(at);function J0e(e,t,r){Le(2,arguments);var n=Be(e),a=lr(t),s=a6(n,r)-a;return n.setUTCDate(n.getUTCDate()-s*7),n}var Q0e=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",100),be(Ee(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"w":return Wt(ir.week,a);case"wo":return i.ordinalNumber(a,{unit:"week"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i,o){return Il(J0e(a,i,o),o)}}]),r}(at);function Z0e(e,t){Le(2,arguments);var r=Be(e),n=lr(t),a=n6(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}var ehe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",100),be(Ee(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"I":return Wt(ir.week,a);case"Io":return i.ordinalNumber(a,{unit:"week"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i){return wu(Z0e(a,i))}}]),r}(at),the=[31,28,31,30,31,30,31,31,30,31,30,31],rhe=[31,29,31,30,31,30,31,31,30,31,30,31],nhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"subPriority",1),be(Ee(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"d":return Wt(ir.date,a);case"do":return i.ordinalNumber(a,{unit:"date"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=m6(i),l=a.getUTCMonth();return o?s>=1&&s<=rhe[l]:s>=1&&s<=the[l]}},{key:"set",value:function(a,s,i){return a.setUTCDate(i),a.setUTCHours(0,0,0,0),a}}]),r}(at),ahe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"subpriority",1),be(Ee(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"D":case"DD":return Wt(ir.dayOfYear,a);case"Do":return i.ordinalNumber(a,{unit:"date"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=m6(i);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(a,s,i){return a.setUTCMonth(0,i),a.setUTCHours(0,0,0,0),a}}]),r}(at);function NS(e,t,r){var n,a,s,i,o,l,c,u;Le(2,arguments);var f=Fo(),h=lr((n=(a=(s=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(o=r.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&a!==void 0?a:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Be(e),m=lr(t),v=p.getUTCDay(),g=m%7,x=(g+7)%7,b=(x<h?7:0)+m-v;return p.setUTCDate(p.getUTCDate()+b),p}var she=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=NS(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(at),ihe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return or(er(s.length,a),l);case"eo":return or(i.ordinalNumber(a,{unit:"day"}),l);case"eee":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeeee":return i.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=NS(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(at),ohe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return or(er(s.length,a),l);case"co":return or(i.ordinalNumber(a,{unit:"day"}),l);case"ccc":return i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"ccccc":return i.day(a,{width:"narrow",context:"standalone"});case"cccccc":return i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(a,{width:"wide",context:"standalone"})||i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=NS(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(at);function lhe(e,t){Le(2,arguments);var r=lr(t);r%7===0&&(r=r-7);var n=1,a=Be(e),s=a.getUTCDay(),i=r%7,o=(i+7)%7,l=(o<n?7:0)+r-s;return a.setUTCDate(a.getUTCDate()+l),a}var che=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",90),be(Ee(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c===0?7:c};switch(s){case"i":case"ii":return er(s.length,a);case"io":return i.ordinalNumber(a,{unit:"day"});case"iii":return or(i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiii":return or(i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiiii":return or(i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiii":default:return or(i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(a,s){return s>=1&&s<=7}},{key:"set",value:function(a,s,i){return a=lhe(a,i),a.setUTCHours(0,0,0,0),a}}]),r}(at),uhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",80),be(Ee(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(PS(i),0,0,0),a}}]),r}(at),dhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",80),be(Ee(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(PS(i),0,0,0),a}}]),r}(at),fhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",80),be(Ee(n),"incompatibleTokens",["a","b","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(PS(i),0,0,0),a}}]),r}(at),hhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",70),be(Ee(n),"incompatibleTokens",["H","K","k","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"h":return Wt(ir.hour12h,a);case"ho":return i.ordinalNumber(a,{unit:"hour"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=12}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):!o&&i===12?a.setUTCHours(0,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(at),phe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",70),be(Ee(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"H":return Wt(ir.hour23h,a);case"Ho":return i.ordinalNumber(a,{unit:"hour"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=23}},{key:"set",value:function(a,s,i){return a.setUTCHours(i,0,0,0),a}}]),r}(at),mhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",70),be(Ee(n),"incompatibleTokens",["h","H","k","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"K":return Wt(ir.hour11h,a);case"Ko":return i.ordinalNumber(a,{unit:"hour"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(at),vhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",70),be(Ee(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"k":return Wt(ir.hour24h,a);case"ko":return i.ordinalNumber(a,{unit:"hour"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=24}},{key:"set",value:function(a,s,i){var o=i<=24?i%24:i;return a.setUTCHours(o,0,0,0),a}}]),r}(at),ghe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",60),be(Ee(n),"incompatibleTokens",["t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"m":return Wt(ir.minute,a);case"mo":return i.ordinalNumber(a,{unit:"minute"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCMinutes(i,0,0),a}}]),r}(at),xhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",50),be(Ee(n),"incompatibleTokens",["t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s,i){switch(s){case"s":return Wt(ir.second,a);case"so":return i.ordinalNumber(a,{unit:"second"});default:return er(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCSeconds(i,0),a}}]),r}(at),yhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",30),be(Ee(n),"incompatibleTokens",["t","T"]),n}return Ge(r,[{key:"parse",value:function(a,s){var i=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return or(er(s.length,a),i)}},{key:"set",value:function(a,s,i){return a.setUTCMilliseconds(i),a}}]),r}(at),bhe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",10),be(Ee(n),"incompatibleTokens",["t","T","x"]),n}return Ge(r,[{key:"parse",value:function(a,s){switch(s){case"X":return ks(_s.basicOptionalMinutes,a);case"XX":return ks(_s.basic,a);case"XXXX":return ks(_s.basicOptionalSeconds,a);case"XXXXX":return ks(_s.extendedOptionalSeconds,a);case"XXX":default:return ks(_s.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(at),whe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",10),be(Ee(n),"incompatibleTokens",["t","T","X"]),n}return Ge(r,[{key:"parse",value:function(a,s){switch(s){case"x":return ks(_s.basicOptionalMinutes,a);case"xx":return ks(_s.basic,a);case"xxxx":return ks(_s.basicOptionalSeconds,a);case"xxxxx":return ks(_s.extendedOptionalSeconds,a);case"xxx":default:return ks(_s.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(at),_he=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",40),be(Ee(n),"incompatibleTokens","*"),n}return Ge(r,[{key:"parse",value:function(a){return h6(a)}},{key:"set",value:function(a,s,i){return[new Date(i*1e3),{timestampIsSet:!0}]}}]),r}(at),khe=function(e){et(r,e);var t=tt(r);function r(){var n;Ke(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),be(Ee(n),"priority",20),be(Ee(n),"incompatibleTokens","*"),n}return Ge(r,[{key:"parse",value:function(a){return h6(a)}},{key:"set",value:function(a,s,i){return[new Date(i),{timestampIsSet:!0}]}}]),r}(at),She={G:new z0e,y:new V0e,Y:new W0e,R:new H0e,u:new K0e,Q:new G0e,q:new q0e,M:new Y0e,L:new X0e,w:new Q0e,I:new ehe,d:new nhe,D:new ahe,E:new she,e:new ihe,c:new ohe,i:new che,a:new uhe,b:new dhe,B:new fhe,h:new hhe,H:new phe,K:new mhe,k:new vhe,m:new ghe,s:new xhe,S:new yhe,X:new bhe,x:new whe,t:new _he,T:new khe},Ehe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Che=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,The=/^'([^]*?)'?$/,Ahe=/''/g,jhe=/\S/,Phe=/[a-zA-Z]/;function Nhe(e,t,r,n){var a,s,i,o,l,c,u,f,h,p,m,v,g,x;Le(3,arguments);var b=String(e),y=String(t),k=Fo(),E=(a=(s=void 0)!==null&&s!==void 0?s:k.locale)!==null&&a!==void 0?a:c6;if(!E.match)throw new RangeError("locale must contain match property");var _=lr((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:k.firstWeekContainsDate)!==null&&o!==void 0?o:(u=k.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(_>=1&&_<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=lr((h=(p=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:k.weekStartsOn)!==null&&p!==void 0?p:(g=k.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(y==="")return b===""?Be(r):new Date(NaN);var C={firstWeekContainsDate:_,weekStartsOn:S,locale:E},T=[new U0e],j=y.match(Che).map(function(G){var H=G[0];if(H in Ow){var ee=Ow[H];return ee(G,E.formatLong)}return G}).join("").match(Ehe),P=[],A=GP(j),N;try{var L=function(){var H=N.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&o6(H)&&wv(H,y,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&i6(H)&&wv(H,y,e);var ee=H[0],oe=She[ee];if(oe){var ce=oe.incompatibleTokens;if(Array.isArray(ce)){var Y=P.find(function(le){return ce.includes(le.token)||le.token===ee});if(Y)throw new RangeError("The format string mustn't contain `".concat(Y.fullToken,"` and `").concat(H,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));P.push({token:ee,fullToken:H});var te=oe.run(b,H,E.match,C);if(!te)return{v:new Date(NaN)};T.push(te.setter),b=te.rest}else{if(ee.match(Phe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");if(H==="''"?H="'":ee==="'"&&(H=Ohe(H)),b.indexOf(H)===0)b=b.slice(H.length);else return{v:new Date(NaN)}}};for(A.s();!(N=A.n()).done;){var K=L();if(ji(K)==="object")return K.v}}catch(G){A.e(G)}finally{A.f()}if(b.length>0&&jhe.test(b))return new Date(NaN);var X=T.map(function(G){return G.priority}).sort(function(G,H){return H-G}).filter(function(G,H,ee){return ee.indexOf(G)===H}).map(function(G){return T.filter(function(H){return H.priority===G}).sort(function(H,ee){return ee.subPriority-H.subPriority})}).map(function(G){return G[0]}),W=Be(r);if(isNaN(W.getTime()))return new Date(NaN);var q=t6(W,bv(W)),I={},J=GP(X),Q;try{for(J.s();!(Q=J.n()).done;){var M=Q.value;if(!M.validate(q,C))return new Date(NaN);var U=M.set(q,I,C);Array.isArray(U)?(q=U[0],D0e(I,U[1])):q=U}}catch(G){J.e(G)}finally{J.f()}return q}function Ohe(e){return e.match(The)[1].replace(Ahe,"'")}function Qf(e,t){Le(2,arguments);var r=Be(e),n=Be(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function fi(e,t){Le(2,arguments);var r=Be(e).getTime(),n=Be(t.start).getTime(),a=Be(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function yt(e,t){Le(2,arguments);var r=lr(t);return yv(e,-r)}function bn(e,t){var r;Le(1,arguments);var n=lr((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Rhe(e),s;if(a.date){var i=Fhe(a.date,n);s=Lhe(i.restDateString,i.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,c;if(a.time&&(l=Bhe(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=$he(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var up={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Mhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Ihe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Rhe(e){var t={},r=e.split(up.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],up.timeZoneDelimiter.test(t.date)&&(t.date=e.split(up.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=up.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Fhe(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Lhe(e,t){if(t===null)return new Date(NaN);var r=e.match(Dhe);if(!r)return new Date(NaN);var n=!!r[4],a=md(r[1]),s=md(r[2])-1,i=md(r[3]),o=md(r[4]),l=md(r[5])-1;if(n)return Hhe(t,o,l)?Uhe(t,o,l):new Date(NaN);var c=new Date(0);return!Vhe(t,s,i)||!Whe(t,a)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(a,i)),c)}function md(e){return e?parseInt(e):1}function Bhe(e){var t=e.match(Mhe);if(!t)return NaN;var r=Hy(t[1]),n=Hy(t[2]),a=Hy(t[3]);return Khe(r,n,a)?r*CS+n*ES+a*1e3:NaN}function Hy(e){return e&&parseFloat(e.replace(",","."))||0}function $he(e){if(e==="Z")return 0;var t=e.match(Ihe);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Ghe(n,a)?r*(n*CS+a*ES):NaN}function Uhe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var zhe=[31,null,31,30,31,30,31,31,30,31,30,31];function v6(e){return e%400===0||e%4===0&&e%100!==0}function Vhe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(zhe[t]||(v6(e)?29:28))}function Whe(e,t){return t>=1&&t<=(v6(e)?366:365)}function Hhe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Khe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ghe(e,t){return t>=0&&t<=59}function _u(e,t){Le(2,arguments);var r=lr(t);return SS(e,-r)}const Kp=e=>{if(typeof e=="string"){const s=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(s)return`${s[1]}-${s[2]}-${s[3]}`}const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"UNKNOWN";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},g6=e=>{if(!e)return null;try{if(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))&&!e.includes("/")&&!e.includes("-")){const i=Number(e),l=Math.floor(i-25569)*86400,c=new Date(l*1e3),u=i-Math.floor(i)+1e-7,f=Math.floor(86400*u),h=f%60,p=Math.floor(f/60)%60,m=Math.floor(f/(60*60));return new Date(c.getFullYear(),c.getMonth(),c.getDate(),m,p,h)}const t=e.toString().trim();if(t.includes("/")){const i=t.split("/");if(i.length===3){const o=parseInt(i[0],10),l=parseInt(i[1],10);let c=parseInt(i[2],10);c<100&&(c+=2e3);let u=o,f=l,h=new Date(c,f-1,u);if(h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u||(u=l,f=o,h=new Date(c,f-1,u),h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u))return h}}if(t.includes("-")){const i=t.split("-");if(i.length>=3&&!isNaN(parseInt(i[1]))){const o=parseInt(i[0],10),l=parseInt(i[1],10),c=i[2].split("T")[0].split(" ")[0],u=parseInt(c,10);if(!isNaN(o)&&!isNaN(l)&&!isNaN(u))return new Date(o,l-1,u)}}const r={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},n=t.toLowerCase().match(/(\d{1,2})[\s\-\/de]+([a-z]+)[\s\-\/de]+(\d{2,4})/);if(n){const i=parseInt(n[1],10),o=n[2],l=Object.keys(r).find(u=>o.includes(u)||u.includes(o));let c=parseInt(n[3],10);if(c<100&&(c+=2e3),l!==void 0){const u=r[l];return new Date(c,u,i)}}let a=t;a.endsWith("Z")&&(a=a.slice(0,-1));const s=new Date(a);return isNaN(s.getTime())?null:s}catch{return null}},qhe=({data:e,currentGoal:t,selectedBU:r,onPointClick:n})=>{var y;const[a,s]=w.useState(0),i=new Date,o=t.mes,l=bn(`${o}-01`),c=wx(l),u=Qf(i,l),f=w.useMemo(()=>{if(!u)return c;const k=Object.keys(e).filter(_=>_.startsWith(o)).sort();if(k.length>0){const _=bn(k[k.length-1]);return Jf(_)}const E=Jf(i);return Math.min(E,c)},[e,o,u,c,i]),h=u?f:c,p=c-h,m=w.useMemo(()=>{let k=0,E=0,_=0;return Object.entries(e).forEach(([S,C])=>{S.startsWith(o)&&C.forEach(T=>{r&&T.bu!==r||(k+=T.kpis.cartoes||0,E+=T.kpis.aprovados||0,_+=T.kpis.custoTotal||0)})}),{cartoes:k,aprovacoes:E,custo:_,cac:k>0?_/k:0}},[e,o,r]),v=w.useMemo(()=>{const k=h>0?m.cartoes/h:0,E=h>0?m.aprovacoes/h:0,_=m.cartoes+k*p,S=m.aprovacoes+E*p,C=_*(1+a/100);return{cartoes:Math.round(_),aprovacoes:Math.round(S),simulatedCartoes:Math.round(C),rateCartoes:k}},[m,h,p,a]),g=w.useMemo(()=>{const k=t.cartoes_meta||0,E=Math.max(0,k-m.cartoes);return{daily:p>0?Math.ceil(E/p):0,gap:E}},[t,m,p]),x=w.useMemo(()=>{const k=[],E=(t.cartoes_meta||0)/c;let _=0,S=0,C=0;const T=Object.keys(e).slice(0,3);console.log(" Projections Debug:",{currentMonthStr:o,sampleDataKeys:T,firstDayGenerated:Kp(`${o}-01`),hasDataForFirstDay:!!e[Kp(`${o}-01`)]});for(let j=1;j<=c;j++){const P=`${o}-${String(j).padStart(2,"0")}`,A=Kp(P);let N=0;j<=h?((e[A]||[]).forEach(K=>{r&&K.bu!==r||(N+=K.kpis.cartoes||0)}),_+=N,S=_):S+=v.rateCartoes*(1+a/100),C+=E,k.push({day:j,label:`${j}/${o.split("-")[1]}`,realizado:j<=h?_:null,projetado:Math.round(S),meta:Math.round(C)})}return k},[e,o,c,h,t,v.rateCartoes,a,r]),b=k=>{if(k&&k.activePayload&&k.activePayload[0]&&n){const _=k.activePayload[0].payload.day,S=bn(`${o}-${String(_).padStart(2,"0")}`);n(S)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(fa,{size:20,className:"text-blue-400"}),"Projeo do Ms"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Projeo de Fechamento"}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:v.cartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsxs("span",{className:"text-slate-500",children:["Meta: ",(t.cartoes_meta||0).toLocaleString("pt-BR")]}),v.cartoes>=(t.cartoes_meta||0)?d.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1",children:[d.jsx(fa,{size:12})," Atingir"]}):d.jsxs("span",{className:"text-red-400 font-bold flex items-center gap-1",children:[d.jsx(E0,{size:12})," Abaixo"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsxs("span",{className:"text-slate-400",children:["Realizado (",h," dias)"]}),d.jsx("span",{className:"text-slate-200 font-mono",children:m.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Ritmo Atual (dia)"}),d.jsx("span",{className:"text-slate-200 font-mono",children:Math.round(v.rateCartoes).toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Gap para Meta"}),d.jsx("span",{className:"text-red-400 font-mono font-bold",children:g.gap.toLocaleString("pt-BR")})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(f_,{size:20,className:"text-amber-400"}),"Quanto Preciso Fazer?"]}),d.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px]",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Para bater a meta, voc precisa de:"}),d.jsx("div",{className:"text-5xl font-bold text-amber-400 mb-2",children:g.daily.toLocaleString("pt-BR")}),d.jsx("div",{className:"text-sm text-slate-300",children:"cartes / dia"})]}),d.jsxs("div",{className:"w-full bg-slate-900/50 rounded p-3 text-xs text-center text-slate-400",children:["Restam ",d.jsx("span",{className:"text-white font-bold",children:p})," dias teis comerciais (aprox)"]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(Oo,{size:20,className:"text-purple-400"}),"Simulador de Cenrios"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impacto de Nova Campanha (% Converso)"}),d.jsx("input",{type:"range",min:"-20",max:"50",step:"5",value:a,onChange:k=>s(Number(k.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[d.jsx("span",{children:"-20%"}),d.jsxs("span",{className:"text-purple-400 font-bold",children:["+",a,"%"]}),d.jsx("span",{children:"+50%"})]})]}),d.jsxs("div",{className:"bg-purple-900/20 border border-purple-900/50 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-purple-300 mb-1",children:"Resultado Simulado"}),d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:v.simulatedCartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:`text-sm font-bold ${v.simulatedCartoes>v.cartoes?"text-green-400":"text-slate-400"}`,children:[v.simulatedCartoes>v.cartoes?"+":"",(v.simulatedCartoes-v.cartoes).toLocaleString("pt-BR")]})]})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-6",children:"Evoluo: Realizado vs. Projetado vs. Meta"}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:x,margin:{top:5,right:30,left:20,bottom:5},onClick:b,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Tt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(nt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Ct,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"}}),d.jsx($r,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(sr,{type:"monotone",dataKey:"realizado",name:"Realizado",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6",strokeWidth:0}}),d.jsx(sr,{type:"monotone",dataKey:"projetado",name:"Projeo",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(sr,{type:"monotone",dataKey:"meta",name:"Meta Ideal",stroke:"#ef4444",strokeWidth:2,dot:!1}),u&&d.jsx(gS,{x:(y=x[h-1])==null?void 0:y.label,stroke:"#fbbf24",strokeDasharray:"3 3",label:"Hoje"})]})})})]})]})},Yhe=m_()(v_((e,t)=>({metas:[],setMeta:r=>{const n=`${r.mes}-${r.bu}`,a=new Date().toISOString();e(s=>{const i=s.metas.findIndex(o=>o.mes===r.mes&&o.bu===r.bu);if(i>=0){const o=[...s.metas];return o[i]={...o[i],...r,updated_at:a},{metas:o}}else return{metas:[...s.metas,{id:n,...r,created_at:a,updated_at:a}]}})},getMeta:(r,n)=>t().metas.find(a=>a.mes===r&&a.bu===n),getMetasMes:r=>t().metas.filter(n=>n.mes===r),deleteMeta:r=>{e(n=>({metas:n.metas.filter(a=>a.id!==r)}))},getMetaConsolidada:r=>{const n=t().metas.filter(a=>a.mes===r);return n.length===0?{cartoes_meta:0,pedidos_meta:0,cac_max_medio:0}:{cartoes_meta:n.reduce((a,s)=>a+s.cartoes_meta,0),pedidos_meta:n.reduce((a,s)=>a+s.pedidos_meta,0),cac_max_medio:n.reduce((a,s)=>a+s.cac_max,0)/n.length}}}),{name:"growth-brain-metas",version:1})),Xhe=()=>{const{getMetasMes:e,setMeta:t}=Yhe();return{getGoal:a=>{const s=e(a),i={mes:a,cartoes_meta:0,aprovacoes_meta:0,cac_max:0,bus:{}};if(s.length===0)return i;let o=0,l=0,c=0;return s.forEach(u=>{o+=u.cartoes_meta,l+=u.pedidos_meta,c+=u.cac_max,i.bus||(i.bus={}),i.bus[u.bu]={cartoes:u.cartoes_meta,aprovacoes:u.pedidos_meta,cac:u.cac_max}}),i.cartoes_meta=o,i.aprovacoes_meta=l,i.cac_max=s.length>0?c/s.length:0,i},saveGoal:a=>{a.bus?Object.entries(a.bus).forEach(([s,i])=>{t({mes:a.mes,bu:s,cartoes_meta:i.cartoes,pedidos_meta:i.aprovacoes,cac_max:i.cac})}):console.warn("saveGoal called without BU breakdown. This might result in data loss in the new store.")}}},uh=({date:e,activities:t,anomalyFilters:r=[],onClose:n,titleOverride:a})=>{if(!e&&!a)return null;const s=t.filter(i=>{if(r.length===0)return!0;const o=String(i.raw["Cartes Gerados"]||"").toLowerCase().trim(),l=o.includes("aguardando")||o.includes("confirmar"),c=String(i.raw["Disparado?"]||"").toLowerCase().trim(),u=["sim","s","yes","y","enviado","ok","true","1"].includes(c),f=u&&(i.kpis.baseEnviada||0)===0,h=u&&(i.kpis.baseEntregue||0)===0,p=u&&(i.kpis.taxaAbertura||0)===0;return!!(r.includes("pending")&&l||r.includes("no_sent")&&f||r.includes("no_delivered")&&h||r.includes("no_open")&&p)});return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:a||` Detalhes do Dia: ${e==null?void 0:e.toLocaleDateString("pt-BR")}`}),d.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[s.length," atividades registradas ",r.length>0&&"(Filtrado)"]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx($s,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:s.map(i=>{const o=String(i.raw["Cartes Gerados"]||"").toLowerCase().trim(),l=o.includes("aguardando")||o.includes("confirmar"),c=String(i.raw["Disparado?"]||"").toLowerCase().trim(),u=["sim","s","yes","y","enviado","ok","true","1"].includes(c),f=u&&((i.kpis.baseEnviada||0)===0||(i.kpis.baseEntregue||0)===0||(i.kpis.taxaAbertura||0)===0),h=l||f;return d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-3 transition ${h?"border-amber-500/30 bg-amber-900/10":"border-slate-700/50"}`,children:[d.jsx("div",{className:"flex justify-between items-start mb-2",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${h?"bg-amber-900/50 text-amber-200":"bg-slate-700 text-slate-300"}`,children:i.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:i.bu}),i.segmento&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:i.segmento})]}),i.jornada&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-purple-300",children:i.jornada})]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-1",title:i.id,children:i.id})]})}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Enviado"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:i.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Entregue"}),d.jsx("div",{className:`text-xs font-semibold ${(i.kpis.baseEntregue||0)===0&&u?"text-red-400":"text-slate-200"}`,children:i.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Cartes"}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:i.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Converso"}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[i.kpis.taxaConversao?(i.kpis.taxaConversao*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Custo"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.kpis.custoTotal||0)})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"CAC"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i.kpis.cac||0)})]})]})]},i.id)})}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},Jhe=({resultados:e,data:t,selectedBU:r})=>{var _;const[n,a]=w.useState(!1),{getGoal:s,saveGoal:i}=Xhe(),[o,l]=w.useState(!1),[c,u]=w.useState([]),[f,h]=w.useState(null),p=S=>{const C=t[S]||[],[T,j,P]=S.split("-").map(Number);h(new Date(T,j-1,P)),u(C),l(!0)},m=((_=Object.keys(t).sort().pop())==null?void 0:_.substring(0,7))||new Date().toISOString().substring(0,7),v=s(m),g=w.useMemo(()=>r&&v.bus&&v.bus[r]?{mes:v.mes,cartoes_meta:v.bus[r].cartoes,aprovacoes_meta:v.bus[r].aprovacoes,cac_max:v.bus[r].cac}:v,[v,r]),b=Object.values(e).sort((S,C)=>C.totalCartoes-S.totalCartoes).reduce((S,C)=>S+C.totalCartoes,0);let y=0,k=0;Object.values(t).flat().forEach(S=>{y+=S.kpis.aprovados||0,k+=S.kpis.custoTotal||0});const E=b>0?k/b:0;return Object.keys(e).length===0?d.jsx("div",{className:"text-center py-12 text-slate-400",children:"Nenhum resultado registrado"}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(Pfe,{data:t}),d.jsx(qhe,{data:t,currentGoal:g,selectedBU:r,onPointClick:S=>{const C=Te(S,"yyyy-MM-dd");p(C)}}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Oo,{size:20,className:"text-blue-400"}),"Meta vs. Realizado ",d.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",r||"Global",")"]})]}),d.jsx("button",{onClick:()=>a(!0),className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"Definir Metas"})]}),d.jsx(Nfe,{goal:g,currentCartoes:b,currentAprovacoes:y,currentCAC:E,scope:r||"Global"})]})}),d.jsx(Ofe,{isOpen:n,onClose:()=>a(!1),onSave:i,initialGoal:v,currentMonthLabel:m}),o&&d.jsx(uh,{date:f,activities:c,onClose:()=>l(!1)})]})};var Qhe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Zhe=function(t,r,n){var a,s=Qhe[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},epe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},tpe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},rpe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},npe={date:Qc({formats:epe,defaultWidth:"full"}),time:Qc({formats:tpe,defaultWidth:"full"}),dateTime:Qc({formats:rpe,defaultWidth:"full"})},ape={lastWeek:function(t){var r=t.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},spe=function(t,r,n,a){var s=ape[t];return typeof s=="function"?s(r):s},ipe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},ope={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},lpe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},cpe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},upe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},dpe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},fpe=function(t,r){var n=Number(t);return(r==null?void 0:r.unit)==="week"?n+"":n+""},hpe={ordinalNumber:fpe,era:bs({values:ipe,defaultWidth:"wide"}),quarter:bs({values:ope,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:bs({values:lpe,defaultWidth:"wide"}),day:bs({values:cpe,defaultWidth:"wide"}),dayPeriod:bs({values:upe,defaultWidth:"wide",formattingValues:dpe,defaultFormattingWidth:"wide"})},ppe=/^(\d+)[o]?/i,mpe=/\d+/i,vpe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},gpe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},xpe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},ype={any:[/1/i,/2/i,/3/i,/4/i]},bpe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},wpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},_pe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},kpe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Spe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Epe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Cpe={ordinalNumber:l6({matchPattern:ppe,parsePattern:mpe,valueCallback:function(t){return parseInt(t,10)}}),era:ws({matchPatterns:vpe,defaultMatchWidth:"wide",parsePatterns:gpe,defaultParseWidth:"any"}),quarter:ws({matchPatterns:xpe,defaultMatchWidth:"wide",parsePatterns:ype,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ws({matchPatterns:bpe,defaultMatchWidth:"wide",parsePatterns:wpe,defaultParseWidth:"any"}),day:ws({matchPatterns:_pe,defaultMatchWidth:"wide",parsePatterns:kpe,defaultParseWidth:"any"}),dayPeriod:ws({matchPatterns:Spe,defaultMatchWidth:"any",parsePatterns:Epe,defaultParseWidth:"any"})},Rs={code:"pt-BR",formatDistance:Zhe,formatLong:npe,formatRelative:spe,localize:hpe,match:Cpe,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Tpe=({data:e,mode:t,anomalyFilters:r=[],onPointClick:n})=>{const[a,s]=w.useState("daily"),[i,o]=w.useState({cartoes:!0,aprovados:!0,propostas:!0}),l=w.useMemo(()=>{const h={};return Object.entries(e).forEach(([p,m])=>{let v=p,g=Te(bn(p),"dd/MM",{locale:Rs});if(a==="weekly"){const x=bn(p),b=Gl(x,{weekStartsOn:0});v=Te(b,"yyyy-MM-dd"),g=`Semana ${Te(b,"dd/MM")}`}h[v]||(h[v]={date:v,label:g,cartoes:0,aprovados:0,propostas:0,anomalies:0,timestamp:bn(v).getTime()}),m.forEach(x=>{if(t==="performance")h[v].cartoes+=x.kpis.cartoes||0,h[v].aprovados+=x.kpis.aprovados||0,h[v].propostas+=x.kpis.propostas||0;else{const b=String(x.raw["Cartes Gerados"]||"").toLowerCase().trim(),y=b.includes("aguardando")||b.includes("confirmar"),k=String(x.raw["Disparado?"]||"").toLowerCase().trim(),E=["sim","s","yes","y","enviado","ok","true","1"].includes(k),_=E&&(x.kpis.baseEnviada||0)===0,S=E&&(x.kpis.baseEntregue||0)===0,C=E&&(x.kpis.taxaAbertura||0)===0;let T=!1;r.length===0?T=y||_||S||C:(r.includes("pending")&&y&&(T=!0),r.includes("no_sent")&&_&&(T=!0),r.includes("no_delivered")&&S&&(T=!0),r.includes("no_open")&&C&&(T=!0)),T&&(h[v].anomalies+=1)}})}),Object.values(h).sort((p,m)=>p.timestamp-m.timestamp)},[e,a,t,r]),c=h=>{const{dataKey:p}=h;o(m=>({...m,[p]:!m[p]}))},u=h=>{if(h&&typeof h.activeIndex=="string"){const p=parseInt(h.activeIndex,10);!isNaN(p)&&l[p]&&n(bn(l[p].date))}},f=({active:h,payload:p,label:m})=>h&&p&&p.length?d.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded shadow-lg",children:[d.jsx("p",{className:"text-slate-200 font-bold mb-2",children:m}),p.map(v=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),d.jsxs("span",{className:"text-slate-400 capitalize",children:[v.name,":"]}),d.jsx("span",{className:"text-slate-200 font-mono font-bold",children:v.value.toLocaleString("pt-BR")})]},v.name)),d.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Clique para ver detalhes"})]}):null;return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100",children:t==="performance"?"Evoluo de Performance":"Evoluo de Anomalias"}),d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsx("button",{onClick:()=>s("daily"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="daily"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>s("weekly"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="weekly"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Semanal"})]})]}),d.jsx("div",{className:"h-[400px] w-full cursor-pointer",children:d.jsx(It,{width:"100%",height:"100%",children:t==="performance"?d.jsxs(ui,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Tt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(nt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:h=>h.toLocaleString("pt-BR")}),d.jsx(Ct,{content:d.jsx(f,{})}),d.jsx($r,{onClick:c,wrapperStyle:{paddingTop:"20px"}}),d.jsx(sr,{type:"monotone",dataKey:"propostas",name:"Propostas",stroke:"#8b5cf6",strokeWidth:2,dot:{r:4,fill:"#8b5cf6",strokeWidth:0},activeDot:{r:6},hide:!i.propostas}),d.jsx(sr,{type:"monotone",dataKey:"aprovados",name:"Aprovados",stroke:"#10b981",strokeWidth:2,dot:{r:4,fill:"#10b981",strokeWidth:0},activeDot:{r:6},hide:!i.aprovados}),d.jsx(sr,{type:"monotone",dataKey:"cartoes",name:"Cartes",stroke:"#3b82f6",strokeWidth:2,dot:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:6},hide:!i.cartoes})]}):d.jsxs(di,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Tt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(nt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Ct,{content:d.jsx(f,{})}),d.jsx(Ur,{dataKey:"anomalies",name:"Anomalias",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})},Es=({content:e,side:t="top",size:r=14,children:n})=>{const a=w.useRef(null),[s,i]=w.useState(!1),[o,l]=w.useState(null);return w.useEffect(()=>{if(!s||!a.current)return;const c=a.current.getBoundingClientRect(),u=8;let f=c.top,h=c.left;switch(t){case"right":f=c.top+c.height/2,h=c.right+u;break;case"bottom":f=c.bottom+u,h=c.left+c.width/2;break;case"left":f=c.top+c.height/2,h=c.left-u;break;case"top":default:f=c.top-u,h=c.left+c.width/2}const p=window.innerWidth,m=window.innerHeight;h=Math.max(8,Math.min(p-8,h)),f=Math.max(8,Math.min(m-8,f)),l({top:f,left:h})},[s,t]),d.jsxs("span",{ref:a,className:"inline-flex items-center align-middle select-none",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[n||d.jsx(_0,{size:r,className:"text-slate-400 hover:text-slate-300 transition-colors cursor-default"}),s&&o&&x0.createPortal(d.jsx("div",{className:"fixed z-50 opacity-0 animate-[fadeIn_120ms_ease-out_forwards]",style:{top:o.top,left:o.left,transform:t==="top"||t==="bottom"?"translateX(-50%)":"translateY(-50%)"},children:d.jsx("div",{className:"max-w-xs text-xs text-slate-300 bg-slate-900/90 border border-slate-700 rounded-md shadow-xl px-3 py-2 whitespace-pre-line",children:e})}),document.body),d.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }"})]})},Ape=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[],onDayClick:s})=>{const[i,o]=w.useState("conversao"),[l,c]=w.useState("daily"),u=p=>{var m;if(s&&l==="daily"){const v=((m=p.payload)==null?void 0:m.date)||p.date;v&&s(v)}},f=w.useMemo(()=>{const p={};return Object.keys(e).sort().forEach(g=>{const x=e[g].filter(E=>!(t&&E.bu!==t||r.length>0&&!r.includes(E.canal)||n.length>0&&!n.includes(E.segmento)||a.length>0&&!a.includes(E.parceiro)));if(x.length===0)return;let b=g,y=Te(bn(g),"dd/MM",{locale:Rs}),k=bn(g).getTime();if(l==="weekly"){const E=bn(g),_=Gl(E,{weekStartsOn:0});b=Te(_,"yyyy-MM-dd"),y=`Sem ${Te(_,"dd/MM")}`,k=_.getTime()}p[b]||(p[b]={date:b,label:y,timestamp:k,baseEnviada:0,baseEntregue:0,propostas:0,cartoes:0,custo:0,count:0}),x.forEach(E=>{p[b].baseEnviada+=E.kpis.baseEnviada||0,p[b].baseEntregue+=E.kpis.baseEntregue||0,p[b].propostas+=E.kpis.propostas||0,p[b].cartoes+=E.kpis.cartoes||0,p[b].custo+=E.kpis.custoTotal||0,p[b].count+=1})}),Object.values(p).map(g=>{let x=0;switch(i){case"conversao":x=g.baseEnviada>0?g.cartoes/g.baseEnviada*100:0;break;case"cac":x=g.cartoes>0?g.custo/g.cartoes:0;break;case"entrega":x=g.baseEnviada>0?g.baseEntregue/g.baseEnviada*100:0;break;case"abertura":x=g.baseEntregue>0?g.propostas/g.baseEntregue*100:0;break}return{...g,value:Number(x.toFixed(2))}}).sort((g,x)=>g.timestamp-x.timestamp)},[e,t,r,n,a,l,i]),h=w.useMemo(()=>{if(f.length===0)return{avg:0,max:0,maxDate:"",min:0,minDate:""};const p=f.map(k=>k.value),m=Math.max(...p),v=Math.min(...p),x=p.reduce((k,E)=>k+E,0)/p.length,b=f.find(k=>k.value===m),y=f.find(k=>k.value===v);return{avg:x.toFixed(2),max:m.toFixed(2),maxDate:(b==null?void 0:b.label)||"",min:v.toFixed(2),minDate:(y==null?void 0:y.label)||""}},[f]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[" Anlise Temporal",d.jsx(Es,{content:"Evoluo das mtricas ao longo do tempo com comparao e agrupamento."})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Mtrica"}),d.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs rounded px-2 py-1.5",children:[d.jsx("option",{value:"conversao",children:"Taxa de Converso"}),d.jsx("option",{value:"cac",children:"CAC"}),d.jsx("option",{value:"entrega",children:"Taxa de Entrega"}),d.jsx("option",{value:"abertura",children:"Taxa de Abertura"})]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Agrupamento"}),d.jsxs("div",{className:"flex bg-slate-900 rounded p-0.5 border border-slate-700",children:[d.jsx("button",{onClick:()=>c("daily"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="daily"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>c("weekly"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="weekly"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Semanal"})]})]})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:f,margin:{top:10,right:30,left:0,bottom:0},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Tt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(nt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(Ct,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155"},formatter:p=>[`${p.toFixed(2)}${i==="cac"?"":"%"}`,i==="cac"?"CAC":"Taxa"]}),d.jsx($r,{}),d.jsx(sr,{type:"monotone",dataKey:"value",name:"Atual",stroke:"#3b82f6",strokeWidth:3,dot:l==="daily"?{r:5,fill:"#3b82f6",strokeWidth:0,cursor:"pointer"}:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:7},onClick:p=>u(p)})]})})}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 flex gap-6 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mdia:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.avg,i==="cac"?"":"%"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mx:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.max,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.maxDate,")"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mn:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.min,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.minDate,")"]})]})]})]})},jpe=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[]})=>{const[s,i]=w.useState("performance"),[o,l]=w.useState(null),[c,u]=w.useState([]),f=p=>{u(m=>m.includes(p)?m.filter(v=>v!==p):[...m,p])},h=w.useMemo(()=>{if(!o)return[];const p=Te(o,"yyyy-MM-dd");return(e[p]||[]).filter(v=>!(t&&v.bu!==t||r.length>0&&!r.includes(v.canal)||n.length>0&&!n.includes(v.segmento)||a.length>0&&!a.includes(v.parceiro)))},[e,o,t,r,n,a]);return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx(uh,{date:o,activities:h,anomalyFilters:c,onClose:()=>l(null)}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-slate-100 mb-2 flex items-center gap-2",children:["Jornada & Disparos",d.jsx(Es,{content:"Viso geral do funil de converso, do disparo at emisso, com identificao automtica de gargalos e anomalias."})]}),d.jsx("p",{className:"text-sm text-slate-400",children:"Anlise profunda de converso e identificao de gargalos"}),d.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Total Activities: ",Object.values(e).reduce((p,m)=>p+m.length,0)]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[s==="anomalies"&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700 gap-1",children:[[{id:"pending",label:"Pendente"},{id:"no_sent",label:"Sem Envio"},{id:"no_delivered",label:"Sem Entrega"},{id:"no_open",label:"Sem Abertura"}].map(p=>d.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-medium rounded transition ${c.includes(p.id)?"bg-amber-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:p.label},p.id)),c.length>0&&d.jsx("button",{onClick:()=>u([]),className:"px-2 py-1 text-xs font-medium text-slate-500 hover:text-slate-300 border-l border-slate-700 ml-1 pl-2",children:"Limpar"})]}),d.jsx(Es,{content:"Filtre as anomalias por tipo para focar em problemas especficos."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("performance"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="performance"?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx(Cl,{size:16}),"Performance"]}),d.jsxs("button",{onClick:()=>i("anomalies"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="anomalies"?"bg-red-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx(oi,{size:16}),"Anomalias"]})]}),d.jsx(Es,{content:"Alterne entre viso de performance e investigao de anomalias.",side:"left"})]})]})]}),d.jsx(Tpe,{data:e,mode:s,anomalyFilters:c,onPointClick:l}),d.jsx(Ape,{data:e,selectedBU:t,selectedCanais:r,selectedSegmentos:n,selectedParceiros:a,onDayClick:p=>{const m=new Date(`${p}T00:00:00`);l(m)}})]})},x6=m_()(v_((e,t)=>({entries:[],addEntry:r=>e(n=>({entries:[...n.entries,{...r,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]})),updateEntry:(r,n)=>e(a=>({entries:a.entries.map(s=>s.id===r?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteEntry:r=>e(n=>({entries:n.entries.filter(a=>a.id!==r)})),getEntriesByDate:r=>t().entries.filter(n=>n.date===r),getEntriesByDateRange:(r,n)=>t().entries.filter(a=>a.date>=r&&a.date<=n),getEntriesByBU:r=>t().entries.filter(n=>n.bu===r),getExperimentos:()=>t().entries.filter(r=>r.isTesteAB),clearEntries:()=>e({entries:[]}),importEntries:r=>e(n=>{const a=new Set(n.entries.map(i=>i.id)),s=r.filter(i=>!a.has(i.id));return{entries:[...n.entries,...s]}})}),{name:"growth_brain_diary_store"})),Ppe="modulepreload",Npe=function(e){return"/GaaS-Framework-Afinz/"+e},qP={},Ope=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Npe(l),l in qP)return;qP[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Ppe,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Dpe=()=>{const e=[],t=[],r=new Date,n=en(_u(r,2)),a=yv(r,60),s=["Email","SMS","Push","WhatsApp"],i=["Ativos","Churn","Novos","Alto Valor","Inativos"],o=["B2C","B2B2C","Plurix"],l=Yf(a,n)+1;console.log(` Gerando dados simulados: ${l} dias de ${n.toLocaleDateString()} a ${a.toLocaleDateString()}`);for(let c=0;c<l;c++){const u=yv(n,c);if(Math.random()>.8&&(u.getDay()===0||u.getDay()===6))continue;const f=Math.floor(Math.random()*6)+3;for(let h=0;h<f;h++){const p=s[Math.floor(Math.random()*s.length)],m=i[Math.floor(Math.random()*i.length)],v=o[h%o.length],g=Math.floor(Math.random()*5e4)+5e3,x=Math.floor(g*(.85+Math.random()*.14)),b=Math.floor(x*(.9+Math.random()*.09)),y=Math.random()*.25+.15,k=Math.floor(b*y),E=Math.random()*.15+.02,_=Math.floor(k*E),S=Math.random()*.08+.01,C=Math.floor(_*S),T=.05+Math.random()*.1,j=x*T,P=u.toLocaleDateString("pt-BR"),A=c*100+h,N=`Campanha ${v} ${p} ${A}`,L={"Activity name / Taxonomia":N,"Data de Disparo":P,"Data Fim":P,BU:v,Canal:p,Segmento:m,Jornada:"Jornada Simulada",Parceiro:"Simulado",Safra:u.toLocaleDateString("pt-BR",{year:"2-digit",month:"2-digit"}),Oferta:"Oferta Simulada","Ordem de disparo":h+1,"Base Total":g,"Base Acionvel":x,"Taxa de Entrega":b/x,Propostas:_,"Taxa de Proposta":_/b,Aprovados:Math.floor(C*.8),"Taxa de Aprovao":.8,"Cartes Gerados":C,"Taxa de Finalizao":1,"Taxa de Converso":S,"Taxa de Abertura":y,CAC:C>0?j/C:0,"Custo Total Campanha":j,"Disparado?":"Sim",SIGLA:"SIG","SIGLA.1":"SIG1","SIGLA.2":"SIG2",Subgrupos:"Geral","Etapa de aquisio":"Converso","Perfil de Crdito":"A",Produto:"Carto",Promocional:"No","Oferta 2":"","Promocional 2":"","Custo Unitrio Oferta":0,"Custo Total da Oferta":0,"Custo unitrio do canal":T,"Custo total canal":j,"Taxa de Clique":E,"% Otimizao de base":0};t.push(L);const K={id:N,dataDisparo:new Date(u),canal:p,segmento:m,bu:v,kpis:{baseEnviada:x,baseEntregue:b,taxaEntrega:x>0?b/x*100:0,taxaAbertura:y*100,taxaConversao:S*100,custoTotal:j,cartoes:C,aprovados:Math.floor(C*.8),propostas:_,taxaPropostas:b>0?_/b*100:0,taxaAprovacao:80,emissoes:C,taxaFinalizacao:100,cac:C>0?j/C:0},parceiro:"Simulado",jornada:"Jornada Simulada",raw:L};e.push(K)}}return console.log(` Dados simulados gerados: ${e.length} atividades`),{rows:t,activities:e}},dp="app-data",Cs={async listFiles(e){const{data:t,error:r}=await ns.storage.from(dp).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return t},async uploadFile(e,t){const r=new Date().getTime(),n=t.name.split(".").pop(),a=t.name.replace(`.${n}`,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),s=`${e}/${a}-${r}.${n}`,{data:i,error:o}=await ns.storage.from(dp).upload(s,t,{cacheControl:"3600",upsert:!1});if(o)throw o;return i},async getDownloadUrl(e){const{data:t,error:r}=await ns.storage.from(dp).createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},async deleteFile(e){const{error:t}=await ns.storage.from(dp).remove([e]);if(t)throw t}};function Mw(e){return new Worker("/GaaS-Framework-Afinz/assets/csvWorker-BPo7gju1.js",{name:e==null?void 0:e.name})}const _x=()=>{const{setFrameworkData:e,activities:t}=Tr(),[r,n]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState([]),[l,c]=w.useState(!1),u=t.length,f=w.useMemo(()=>{const m={};return t.forEach(v=>{const g=Kp(v.dataDisparo);m[g]||(m[g]=[]),m[g].push(v)}),m},[t]),h=w.useCallback(m=>{console.log(" Iniciando processamento do CSV (Worker):",m.name),n(!0),s(null),o([]);const v=new Mw,g=new FileReader;g.onload=x=>{var k;const y={type:"PARSE_FRAMEWORK_CSV",fileContent:(k=x.target)==null?void 0:k.result};v.postMessage(y)},g.onerror=()=>{s("Erro ao ler arquivo."),n(!1),v.terminate()},v.onmessage=x=>{const{type:b}=x.data;if(b==="SUCCESS"){const y=x.data.data;console.log(` Worker Finalizado: ${y.activities.length} atividades`);const k=y.activities.map(E=>{const _=(typeof E.dataDisparo=="string"?g6(E.dataDisparo):E.dataDisparo)||new Date(E.dataDisparo);return _ instanceof Date&&!isNaN(_.getTime())&&_.getHours()===21&&(_.setDate(_.getDate()+1),_.setHours(0)),{...E,dataDisparo:_}});y.warnings&&y.warnings.length>0&&(console.warn("Import Warnings:",y.warnings),alert(` ATENO: ${y.warnings.length} linhas foram ignoradas!
Provvel erro de data/formato.

Erros:
${y.warnings.slice(0,3).join(`
`)}`)),e(y.rows,k),n(!1)}else b==="ERROR"&&(s(x.data.error),n(!1));v.terminate()},v.onerror=x=>{s("Erro no Worker: "+x.message),n(!1),v.terminate()},g.readAsText(m)},[e]);w.useEffect(()=>{(async()=>{Tr.persist&&!Tr.persist.hasHydrated()&&(console.log(" Aguardando hidratao do storage..."),await new Promise(b=>{Tr.persist.onFinishHydration(()=>{b()})}),console.log(" Storage hidratado."));const{activities:v,setB2CData:g,setPaidMediaData:x}=Tr.getState();if(v.length>0){n(!1);return}if(!l){c(!0);try{console.log(" Conectando ao Supabase para buscar dados..."),Ope(()=>import("./dataService-meGF3LNg.js"),[]).then(async({dataService:b})=>{const[y,k,E]=await Promise.all([b.fetchActivities(),b.fetchB2CMetrics(),b.fetchPaidMedia()]);console.log(` Dados Carregados: ${y.length} Atividades, ${k.length} B2C, ${E.length} Media.`);const _=y.map(C=>C.raw||{});let S=k;if(k.length===0)try{const C=await Cs.listFiles("b2c");if(C&&C.length>0){console.log(" Fallback B2C: Found in Storage:",C[0].name);const T=await Cs.getDownloadUrl("b2c/"+C[0].name),A=await(await(await fetch(T)).blob()).text();S=await new Promise(N=>{const L=new Mw;L.postMessage({type:"PARSE_B2C_CSV",fileContent:A}),L.onmessage=K=>{K.data.type==="SUCCESS"||K.data.type==="SUCCESS_B2C"?N(K.data.data||[]):N([]),L.terminate()},L.onerror=()=>{N([]),L.terminate()}}),console.log(` Fallback Loaded: ${S.length} B2C rows.`)}}catch(C){console.warn("Fallback B2C failed:",C)}e(_,y),g(S),x(E),n(!1)}).catch(b=>{console.error("Erro ao importar dataService:",b),s("Fail to load data service"),n(!1)})}catch(b){console.error(" Falha no Carregamento SQL:",b),s("Erro de conexo com Banco de Dados."),n(!1)}}})()},[e,l]);const p=w.useCallback(()=>{try{n(!0);const{rows:m,activities:v}=Dpe();e(m,v),n(!1)}catch(m){s("Erro ao gerar dados: "+m.message),n(!1)}},[e]);return{data:f,loading:r,error:a,totalActivities:u,processCSV:h,loadSimulatedData:p,debugHeaders:i}};function Mpe(){const{data:e}=_x();return w.useMemo(()=>{const t=new Set,r=new Set,n=new Set,a=new Set,s=new Set,i=new Set;return Object.values(e).forEach(o=>{o.forEach(l=>{l.bu&&t.add(l.bu),l.canal&&r.add(l.canal),l.segmento&&n.add(l.segmento),l.parceiro&&a.add(l.parceiro),l.oferta&&s.add(l.oferta),l.id&&i.add(l.id)})}),t.size===0&&["B2C","B2B2C","Plurix"].forEach(o=>t.add(o)),{bus:Array.from(t).sort(),canais:Array.from(r).sort(),segmentos:Array.from(n).sort(),parceiros:Array.from(a).sort(),ofertas:Array.from(s).sort(),campanhas:Array.from(i).sort()}},[e])}const YP=({label:e,options:t,selected:r,onChange:n,colorMap:a})=>{const s=i=>{r.includes(i)?n(r.filter(o=>o!==i)):n([...r,i])};return d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 uppercase tracking-wider",children:e}),d.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-900/30 rounded-lg border border-slate-700/50 min-h-[60px]",children:t.length===0?d.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma opo disponvel"}):t.map(i=>{const o=r.includes(i),l=a==null?void 0:a[i];let c="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-all cursor-pointer select-none border";return o?c+=" bg-blue-600 border-blue-500 text-white shadow-md shadow-blue-900/20":c+=" bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-slate-200 hover:border-slate-600",d.jsxs("div",{onClick:()=>s(i),className:c,children:[i,o&&d.jsx(oz,{size:12,className:"stroke-[3]"})]},i)})})]})},Ipe={B2C:"bg-blue-500/20 text-blue-100 border-blue-500/50",B2B2C:"bg-emerald-500/20 text-emerald-100 border-emerald-500/50",Plurix:"bg-purple-500/20 text-purple-100 border-purple-500/50"},Rpe={B2C:"bg-blue-600 text-blue-50",B2B2C:"bg-emerald-600 text-emerald-50",Plurix:"bg-purple-600 text-purple-50"},Ky={hipotese:{label:"Hiptese",icon:mz,color:"text-amber-400 bg-amber-400/10"},rodando:{label:"Rodando",icon:wm,color:"text-blue-400 bg-blue-400/10"},concluido:{label:"Concludo",icon:yn,color:"text-emerald-400 bg-emerald-400/10"},aprendizado:{label:"Aprendizado",icon:Sf,color:"text-purple-400 bg-purple-400/10"}},fp={date:new Date().toISOString().split("T")[0],bu:"B2C",title:"",description:"",segmentos:[],parceiros:[],canais:[],campanhasRelacionadas:[],isTesteAB:!1,statusExperimento:"hipotese",hipotese:"",conclusao:""},Fpe=()=>{var A;const{entries:e,addEntry:t,updateEntry:r,deleteEntry:n,clearEntries:a,importEntries:s}=x6(),{segmentos:i,parceiros:o}=Mpe(),{viewSettings:l}=Tr(),c=l.filtrosGlobais,[u,f]=w.useState(fp),[h,p]=w.useState(null),[m,v]=w.useState(null),g=(N,L="info")=>{v({message:N,type:L}),setTimeout(()=>v(null),3e3)},x=N=>{if(N.preventDefault(),!u.title.trim()){g("Anotao no pode estar vazia","error");return}t(u),f(fp),g("Anotao adicionada com sucesso","success")},b=N=>{p(N.id),f({date:N.date,bu:N.bu,title:N.title,description:N.description||"",segmentos:N.segmentos,parceiros:N.parceiros,canais:N.canais||[],campanhasRelacionadas:N.campanhasRelacionadas||[],isTesteAB:N.isTesteAB,statusExperimento:N.statusExperimento||"hipotese",hipotese:N.hipotese||"",conclusao:N.conclusao||""})},y=()=>{if(h){if(!u.title.trim()){g("Anotao no pode estar vazia","error");return}r(h,u),p(null),f(fp),g("Anotao atualizada com sucesso","success")}},k=()=>{p(null),f(fp)},E=N=>{window.confirm("Tem certeza? Esta ao  irreversvel")&&(n(N),g("Anotao removida","success"))},_=()=>{window.confirm("Tem certeza que deseja apagar TODAS as anotaes? Esta ao  irreversvel")&&(a(),g("Todas as anotaes foram removidas","success"))},S=()=>{const N=["Data","BU","Ttulo","Descrio","Segmentos","Parceiros","Teste AB","Status","Hiptese","Concluso"],L=e.map(Q=>[Q.date,Q.bu,`"${Q.title.replace(/"/g,'""')}"`,`"${(Q.description||"").replace(/"/g,'""')}"`,Q.segmentos.join("; "),Q.parceiros.join("; "),Q.isTesteAB?"Sim":"No",Q.statusExperimento||"",`"${(Q.hipotese||"").replace(/"/g,'""')}"`,`"${(Q.conclusao||"").replace(/"/g,'""')}"`]),K=[N.join(","),...L.map(Q=>Q.join(","))].join(`
`),X=new Blob([K],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(X),q=document.createElement("a"),J=new Date().toISOString().split("T")[0];q.href=W,q.download=`diario_bordo_${J}.csv`,q.click(),URL.revokeObjectURL(W),g("Dirio exportado como CSV com sucesso","success")},C=N=>{var X;const L=(X=N.target.files)==null?void 0:X[0];if(!L)return;const K=new FileReader;K.onload=W=>{var q;try{const I=(q=W.target)==null?void 0:q.result;if(L.name.endsWith(".csv"))g("Importao de CSV ainda no suportada completamente. Use JSON.","info");else{const J=JSON.parse(I),M=(Array.isArray(J)?J:J.entries||J.anotacoes||[]).map(U=>({id:U.id||crypto.randomUUID(),createdAt:U.createdAt||U.criadoEm||new Date().toISOString(),updatedAt:U.updatedAt||U.atualizadoEm||new Date().toISOString(),date:U.date||U.data,bu:U.bu,title:U.title||U.anotacao,description:U.description||"",segmentos:U.segmentos||[],parceiros:U.parceiros||[],canais:U.canais||[],campanhasRelacionadas:U.campanhasRelacionadas||[],isTesteAB:U.isTesteAB||U.testeAB||!1,statusExperimento:U.statusExperimento,hipotese:U.hipotese,conclusao:U.conclusao})).filter(U=>U.date&&U.title);s(M),g(`${M.length} anotaes importadas com sucesso`,"success")}}catch{g("Erro ao importar arquivo","error")}},K.readAsText(L)},T=N=>{if(!N)return"";const[L,K,X]=N.split("-");return new Date(parseInt(L),parseInt(K)-1,parseInt(X)).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})},P=[...e.filter(N=>!(c.bu.length>0&&!c.bu.includes(N.bu)||c.segmentos.length>0&&!N.segmentos.some(K=>c.segmentos.includes(K))||c.parceiros.length>0&&!N.parceiros.some(K=>c.parceiros.includes(K))))].sort((N,L)=>L.date.localeCompare(N.date));return d.jsxs("div",{className:"flex flex-col flex-1 min-h-0 bg-gradient-to-br from-slate-900 to-slate-800 p-4 gap-4 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Dirio de Bordo"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-600/80 hover:bg-emerald-600 text-emerald-50 rounded text-xs font-medium cursor-pointer transition",children:[d.jsx(lg,{size:14}),"Importar JSON",d.jsx("input",{type:"file",accept:".json",onChange:C,className:"hidden"})]}),d.jsxs("button",{onClick:S,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-orange-600/80 hover:bg-orange-600 text-orange-50 rounded text-xs font-medium transition",title:"Exportar como CSV",children:[d.jsx(w0,{size:14}),"Exportar"]}),d.jsxs("button",{onClick:_,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-600/80 hover:bg-red-600 text-red-50 rounded text-xs font-medium transition",title:"Apagar todas as anotaes",children:[d.jsx(Ef,{size:14}),"Apagar Tudo"]})]})]}),d.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 shrink-0 overflow-y-auto max-h-[400px]",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Data"}),d.jsx("input",{type:"date",value:u.date,onChange:N=>f({...u,date:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"BU"}),d.jsxs("select",{value:u.bu,onChange:N=>f({...u,bu:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-700 px-3 py-1.5 rounded border border-slate-600 w-full hover:bg-slate-600 transition",children:[d.jsx("input",{type:"checkbox",checked:u.isTesteAB,onChange:N=>f({...u,isTesteAB:N.target.checked}),className:"rounded border-slate-500 text-blue-500 focus:ring-blue-500 bg-slate-800"}),d.jsxs("span",{className:"text-xs font-semibold text-slate-200 flex items-center gap-1",children:[d.jsx(eT,{size:14,className:u.isTesteAB?"text-blue-400":"text-slate-400"})," Teste A/B?"]})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Anotao Principal"}),d.jsx("textarea",{value:u.title,onChange:N=>f({...u,title:N.target.value}),placeholder:"Descreva o evento ou observao...",className:"w-full px-2 py-2 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none",style:{minHeight:"60px"}})]}),u.isTesteAB&&d.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded p-3 space-y-3 animate-in fade-in slide-in-from-top-2",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Status do Experimento"}),d.jsxs("select",{value:u.statusExperimento,onChange:N=>f({...u,statusExperimento:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"hipotese",children:" Hiptese"}),d.jsx("option",{value:"rodando",children:" Rodando"}),d.jsx("option",{value:"concluido",children:" Concludo"}),d.jsx("option",{value:"aprendizado",children:" Aprendizado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Campanhas Relacionadas"}),d.jsx("input",{type:"text",value:(A=u.campanhasRelacionadas)==null?void 0:A.join(", "),onChange:N=>f({...u,campanhasRelacionadas:N.target.value.split(",").map(L=>L.trim()).filter(Boolean)}),placeholder:"Ex: Campanha X, Campanha Y",className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:u.hipotese,onChange:N=>f({...u,hipotese:N.target.value}),placeholder:"O que esperamos que acontea?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Concluso / Resultados"}),d.jsx("textarea",{value:u.conclusao,onChange:N=>f({...u,conclusao:N.target.value}),placeholder:"O que aprendemos?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(YP,{label:"Segmentos",options:i,selected:u.segmentos,onChange:N=>f({...u,segmentos:N})}),d.jsx(YP,{label:"Parceiros",options:o,selected:u.parceiros,onChange:N=>f({...u,parceiros:N})})]}),d.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[h&&d.jsx("button",{onClick:k,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-slate-50 rounded text-sm font-semibold transition",children:"Cancelar"}),d.jsxs("button",{onClick:h?y:x,className:`px-6 py-2 rounded text-sm font-semibold transition flex items-center justify-center gap-2 shadow-lg ${h?"bg-green-600 hover:bg-green-700 text-green-50 shadow-green-900/20":"bg-blue-600 hover:bg-blue-700 text-blue-50 shadow-blue-900/20"}`,children:[h?d.jsx(yn,{size:16}):d.jsx(p_,{size:16}),h?"Salvar Alteraes":"Adicionar Registro"]})]})]})}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-3 pr-2",children:P.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-slate-400",children:[d.jsx("p",{className:"text-xs",children:" Nenhuma anotao ainda"}),d.jsx("p",{className:"text-xs italic mt-1",children:"Comece adicionando uma acima"})]}):P.map(N=>d.jsx("div",{className:`${Ipe[N.bu]} border rounded-lg overflow-hidden transition hover:shadow-lg relative group`,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-slate-200",children:T(N.date)}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Rpe[N.bu]}`,children:N.bu}),N.isTesteAB&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30",children:[d.jsx(eT,{size:12}),"Teste A/B"]}),N.isTesteAB&&N.statusExperimento&&d.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border border-white/10 ${Ky[N.statusExperimento].color}`,children:[ei.createElement(Ky[N.statusExperimento].icon,{size:12}),Ky[N.statusExperimento].label]})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>b(N),className:"p-1.5 hover:bg-white/10 rounded transition text-slate-300 hover:text-white",title:"Editar",children:d.jsx(K3,{size:14})}),d.jsx("button",{onClick:()=>E(N.id),className:"p-1.5 hover:bg-red-500/20 rounded transition text-slate-300 hover:text-red-400",title:"Deletar",children:d.jsx(Ef,{size:14})})]})]}),d.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap text-slate-200 mb-3",children:N.title}),N.description&&d.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap text-slate-400 mb-3 border-l-2 border-slate-600 pl-2",children:N.description}),N.isTesteAB&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 mb-3 bg-black/20 p-3 rounded border border-white/5",children:[N.hipotese&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Hiptese"}),d.jsx("p",{className:"text-xs text-slate-300",children:N.hipotese})]}),N.conclusao&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Concluso"}),d.jsx("p",{className:"text-xs text-slate-300",children:N.conclusao})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 pt-2 border-t border-white/5",children:[N.campanhasRelacionadas&&N.campanhasRelacionadas.length>0&&d.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mr-2",children:[d.jsx(Lz,{size:12}),N.campanhasRelacionadas.join(", ")]}),N.segmentos&&N.segmentos.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",N.segmentos.join(", ")]}),N.parceiros&&N.parceiros.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",N.parceiros.join(", ")]})]})]})},N.id))}),m&&d.jsx("div",{className:`fixed bottom-4 right-4 px-4 py-2 rounded text-xs font-medium transition-all shadow-lg z-50 ${m.type==="success"?"bg-emerald-600 text-emerald-50":m.type==="error"?"bg-red-600 text-red-50":"bg-blue-600 text-blue-50"}`,children:m.message})]})},Lpe=({initialMetrics:e,onCalculate:t})=>{const[r,n]=w.useState({visitors:(e==null?void 0:e.controle.disparos)||0,conversions:(e==null?void 0:e.controle.conversoes)||0}),[a,s]=w.useState({visitors:(e==null?void 0:e.variante.disparos)||0,conversions:(e==null?void 0:e.variante.conversoes)||0}),[i,o]=w.useState(null);w.useEffect(()=>{e&&(n({visitors:e.controle.disparos,conversions:e.controle.conversoes}),s({visitors:e.variante.disparos,conversions:e.variante.conversoes}))},[e]);const l=()=>{const c=Number(r.visitors),u=Number(r.conversions),f=Number(a.visitors),h=Number(a.conversions);if(c===0||f===0){o(null);return}const p=u/c,m=h/f,v=Math.sqrt(p*(1-p)/c+m*(1-m)/f),g=Math.abs((p-m)/v);let x=0;g>=2.576?x=99:g>=1.96?x=95:g>=1.645?x=90:x=Math.round((1-Math.exp(-.7*g*g))*100);const b=x>=90,y=p>m?"control":"variant";o({confidence:x,isSignificant:b,winner:b?y:null}),t&&t({controle:{disparos:c,conversoes:u},variante:{disparos:f,conversoes:h}})};return d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[d.jsx(f_,{size:16,className:"text-blue-400"}),"Calculadora de Significncia"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Controle (A)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:r.visitors,onChange:c=>n({...r,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:r.conversions,onChange:c=>n({...r,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",r.visitors>0?(r.conversions/r.visitors*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Variante (B)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:a.visitors,onChange:c=>s({...a,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:a.conversions,onChange:c=>s({...a,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",a.visitors>0?(a.conversions/a.visitors*100).toFixed(2):0,"%"]})]})]}),d.jsx("button",{onClick:l,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition mb-4",children:"Calcular"}),i&&d.jsxs("div",{className:`p-3 rounded-lg border ${i.isSignificant?"bg-emerald-900/20 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.isSignificant?d.jsx(yn,{size:16,className:"text-emerald-400"}):d.jsx(Ul,{size:16,className:"text-slate-400"}),d.jsx("span",{className:`font-bold ${i.isSignificant?"text-emerald-400":"text-slate-300"}`,children:i.isSignificant?"Resultado Significativo!":"Inconclusivo"})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Confiana estatstica: ",d.jsxs("span",{className:"text-slate-200 font-bold",children:[i.confidence,"%"]})]}),i.isSignificant&&d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Vencedor: ",d.jsx("span",{className:"text-emerald-400 font-bold uppercase",children:i.winner==="control"?"Controle (A)":"Variante (B)"})]})]})]})},XP=[{id:"hipotese",label:"Hiptese",color:"border-amber-500/50"},{id:"rodando",label:"Rodando",color:"border-blue-500/50"},{id:"concluido",label:"Concludo",color:"border-emerald-500/50"},{id:"aprendizado",label:"Aprendizado",color:"border-purple-500/50"}],Bpe=()=>{const{getExperimentos:e,updateEntry:t,addEntry:r}=x6(),n=e(),[a,s]=w.useState(null),i=(l,c)=>{t(l,{statusExperimento:c})},o=()=>{r({date:new Date().toISOString().split("T")[0],bu:"B2C",title:"Novo Experimento",description:"",segmentos:[],parceiros:[],isTesteAB:!0,statusExperimento:"hipotese",hipotese:"",conclusao:""})};return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(W3,{className:"text-purple-400"}),"Gestor de Experimentos"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Gerencie seus testes A/B e valide hipteses."})]}),d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition",children:[d.jsx(p_,{size:18}),"Novo Experimento"]})]}),d.jsx("div",{className:"flex-1 grid grid-cols-4 gap-4 overflow-hidden min-h-0",children:XP.map(l=>d.jsxs("div",{className:"flex flex-col bg-slate-900/50 rounded-xl border border-slate-800 h-full overflow-hidden",children:[d.jsxs("div",{className:`p-3 border-b border-slate-800 flex items-center justify-between border-t-2 ${l.color}`,children:[d.jsx("span",{className:"font-bold text-slate-300 text-sm uppercase",children:l.label}),d.jsx("span",{className:"text-xs bg-slate-800 px-2 py-0.5 rounded-full text-slate-400",children:n.filter(c=>c.statusExperimento===l.id).length})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:n.filter(c=>c.statusExperimento===l.id).map(c=>d.jsxs("div",{onClick:()=>s(c),className:"bg-slate-800 p-3 rounded-lg border border-slate-700 hover:border-blue-500/50 cursor-pointer transition group relative",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${c.bu==="B2C"?"bg-blue-900/30 border-blue-800 text-blue-300":c.bu==="B2B2C"?"bg-emerald-900/30 border-emerald-800 text-emerald-300":"bg-purple-900/30 border-purple-800 text-purple-300"}`,children:c.bu}),d.jsx("span",{className:"text-[10px] text-slate-500",children:c.date})]}),d.jsx("h4",{className:"text-sm font-medium text-slate-200 mb-1 line-clamp-2",children:c.title}),c.hipotese&&d.jsxs("p",{className:"text-xs text-slate-400 line-clamp-2 mb-2 italic",children:['"',c.hipotese,'"']}),d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:l.id!=="aprendizado"&&d.jsx("button",{onClick:u=>{u.stopPropagation();const f=l.id==="hipotese"?"rodando":l.id==="rodando"?"concluido":"aprendizado";i(c.id,f)},className:"p-1 bg-slate-700 hover:bg-blue-600 rounded text-slate-300 hover:text-white",title:"Avanar",children:d.jsx(u_,{size:12})})})]},c.id))})]},l.id))}),a&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl rounded-2xl border border-slate-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("input",{type:"text",value:a.title,onChange:l=>t(a.id,{title:l.target.value}),className:"bg-transparent text-xl font-bold text-white border-none focus:ring-0 p-0 w-full",placeholder:"Nome do Experimento"}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("select",{value:a.bu,onChange:l=>t(a.id,{bu:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]}),d.jsx("select",{value:a.statusExperimento,onChange:l=>t(a.id,{statusExperimento:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:XP.map(l=>d.jsx("option",{value:l.id,children:l.label},l.id))})]})]}),d.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:d.jsx(Ez,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:a.hipotese||"",onChange:l=>t(a.id,{hipotese:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"Se fizermos X, esperamos Y..."})]}),d.jsxs("div",{className:"bg-slate-950/50 rounded-xl p-4 border border-slate-800",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"font-bold text-slate-200",children:"Dados & Resultados"})}),d.jsx(Lpe,{initialMetrics:a.metrics,onCalculate:l=>t(a.id,{metrics:l})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Concluso / Aprendizado"}),d.jsx("textarea",{value:a.conclusao||"",onChange:l=>t(a.id,{conclusao:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"O que aprendemos com este teste?"})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end",children:d.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Salvar e Fechar"})})]})})]})},$pe=()=>{const[e,t]=w.useState("diario");return d.jsxs("div",{className:"flex flex-col h-full bg-[#0F172A]",children:[d.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900/50 px-6 pt-4",children:[d.jsxs("button",{onClick:()=>t("diario"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="diario"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(B3,{size:18}),d.jsx("span",{className:"font-medium",children:"Dirio de Bordo"})]}),d.jsxs("button",{onClick:()=>t("experimentos"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="experimentos"?"border-purple-500 text-purple-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(W3,{size:18}),d.jsx("span",{className:"font-medium",children:"Gestor de Experimentos"})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e==="diario"?d.jsx(Fpe,{}):d.jsx(Bpe,{})})]})};var y6={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(l9,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var j=E(T);j.chunkSize=parseInt(j.chunkSize),T.step||T.chunk||(j.chunkSize=null),this._handle=new v(j),(this._handle.streamer=this)._config=j}).call(this,C),this.parseChunk=function(T,j){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let N=this._config.newline;N||(A=this._config.quoteChar||'"',N=this._handle.guessLineEndings(T,A)),T=[...T.split(N).slice(P)].join(N)}this.isFirstChunk&&S(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(T))!==void 0&&(T=A),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+T,A=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=A.meta.cursor,P=(this._finished||(this._partialLine=P.substring(T-this._baseIndex),this._baseIndex=T),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:A,workerId:c.WORKER_ID,finished:P});else if(S(this._config.chunk)&&!j){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!P||!S(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(T){S(this._config.error)?this._config.error(T):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function f(C){var T;(C=C||{}).chunkSize||(C.chunkSize=c.RemoteChunkSize),u.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var j,P=this._config.downloadRequestHeaders;for(j in P)T.setRequestHeader(j,P[j])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+A));try{T.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(j){j=T.statusText||j,this._sendError(new Error(j))}}function h(C){(C=C||{}).chunkSize||(C.chunkSize=c.LocalChunkSize),u.call(this,C);var T,j,P=typeof FileReader<"u";this.stream=function(A){this._input=A,j=A.slice||A.webkitSlice||A.mozSlice,P?((T=new FileReader).onload=_(this._chunkLoaded,this),T.onerror=_(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),A=j.call(A,this._start,N)),T.readAsText(A,this._config.encoding));P||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(C){var T;u.call(this,C=C||{}),this.stream=function(j){return T=j,this._nextChunk()},this._nextChunk=function(){var j,P;if(!this._finished)return j=this._config.chunkSize,T=j?(P=T.substring(0,j),T.substring(j)):(P=T,""),this._finished=!T,this.parseChunk(P)}}function m(C){u.call(this,C=C||{});var T=[],j=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):j=!0},this._streamData=_(function(A){try{T.push(typeof A=="string"?A:A.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(N){this._streamError(N)}},this),this._streamError=_(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=_(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=_(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var T,j,P,A,N=Math.pow(2,53),L=-N,K=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,q=0,I=0,J=!1,Q=!1,M=[],U={data:[],errors:[],meta:{}};function G(ce){return C.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function H(){if(U&&P&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),C.skipEmptyLines&&(U.data=U.data.filter(function(le){return!G(le)})),ee()){let le=function(D,Pe){S(C.transformHeader)&&(D=C.transformHeader(D,Pe)),M.push(D)};if(U)if(Array.isArray(U.data[0])){for(var ce=0;ee()&&ce<U.data.length;ce++)U.data[ce].forEach(le);U.data.splice(0,1)}else U.data.forEach(le)}function Y(le,D){for(var Pe=C.header?{}:[],he=0;he<le.length;he++){var ge=he,pe=le[he],pe=((ue,ke)=>(Ve=>(C.dynamicTypingFunction&&C.dynamicTyping[Ve]===void 0&&(C.dynamicTyping[Ve]=C.dynamicTypingFunction(Ve)),(C.dynamicTyping[Ve]||C.dynamicTyping)===!0))(ue)?ke==="true"||ke==="TRUE"||ke!=="false"&&ke!=="FALSE"&&((Ve=>{if(K.test(Ve)&&(Ve=parseFloat(Ve),L<Ve&&Ve<N))return 1})(ke)?parseFloat(ke):X.test(ke)?new Date(ke):ke===""?null:ke):ke)(ge=C.header?he>=M.length?"__parsed_extra":M[he]:ge,pe=C.transform?C.transform(pe,ge):pe);ge==="__parsed_extra"?(Pe[ge]=Pe[ge]||[],Pe[ge].push(pe)):Pe[ge]=pe}return C.header&&(he>M.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+he,I+D):he<M.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+he,I+D)),Pe}var te;U&&(C.header||C.dynamicTyping||C.transform)&&(te=1,!U.data.length||Array.isArray(U.data[0])?(U.data=U.data.map(Y),te=U.data.length):U.data=Y(U.data,0),C.header&&U.meta&&(U.meta.fields=M),I+=te)}function ee(){return C.header&&M.length===0}function oe(ce,Y,te,le){ce={type:ce,code:Y,message:te},le!==void 0&&(ce.row=le),U.errors.push(ce)}S(C.step)&&(A=C.step,C.step=function(ce){U=ce,ee()?H():(H(),U.data.length!==0&&(q+=ce.data.length,C.preview&&q>C.preview?j.abort():(U.data=U.data[0],A(U,W))))}),this.parse=function(ce,Y,te){var le=C.quoteChar||'"',le=(C.newline||(C.newline=this.guessLineEndings(ce,le)),P=!1,C.delimiter?S(C.delimiter)&&(C.delimiter=C.delimiter(ce),U.meta.delimiter=C.delimiter):((le=((D,Pe,he,ge,pe)=>{var ue,ke,Ve,wr;pe=pe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ln=0;ln<pe.length;ln++){for(var cn,zn=pe[ln],st=0,ur=0,ht=0,dr=(Ve=void 0,new x({comments:ge,delimiter:zn,newline:Pe,preview:10}).parse(D)),_t=0;_t<dr.data.length;_t++)he&&G(dr.data[_t])?ht++:(cn=dr.data[_t].length,ur+=cn,Ve===void 0?Ve=cn:0<cn&&(st+=Math.abs(cn-Ve),Ve=cn));0<dr.data.length&&(ur/=dr.data.length-ht),(ke===void 0||st<=ke)&&(wr===void 0||wr<ur)&&1.99<ur&&(ke=st,ue=zn,wr=ur)}return{successful:!!(C.delimiter=ue),bestDelimiter:ue}})(ce,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=le.bestDelimiter:(P=!0,C.delimiter=c.DefaultDelimiter),U.meta.delimiter=C.delimiter),E(C));return C.preview&&C.header&&le.preview++,T=ce,j=new x(le),U=j.parse(T,Y,te),H(),J?{meta:{paused:!0}}:U||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,j.abort(),T=S(C.chunk)?"":T.substring(j.getCharIndex())},this.resume=function(){W.streamer._halted?(J=!1,W.streamer.parseChunk(T,!0)):setTimeout(W.resume,3)},this.aborted=function(){return Q},this.abort=function(){Q=!0,j.abort(),U.meta.aborted=!0,S(C.complete)&&C.complete(U),T=""},this.guessLineEndings=function(D,le){D=D.substring(0,1048576);var le=new RegExp(g(le)+"([^]*?)"+g(le),"gm"),te=(D=D.replace(le,"")).split("\r"),le=D.split(`
`),D=1<le.length&&le[0].length<te[0].length;if(te.length===1||D)return`
`;for(var Pe=0,he=0;he<te.length;he++)te[he][0]===`
`&&Pe++;return Pe>=te.length/2?`\r
`:"\r"}}function g(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(C){var T=(C=C||{}).delimiter,j=C.newline,P=C.comments,A=C.step,N=C.preview,L=C.fastMode,K=null,X=!1,W=C.quoteChar==null?'"':C.quoteChar,q=W;if(C.escapeChar!==void 0&&(q=C.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),P===T)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<c.BAD_DELIMITERS.indexOf(P))&&(P=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var I=0,J=!1;this.parse=function(Q,M,U){if(typeof Q!="string")throw new Error("Input must be a string");var G=Q.length,H=T.length,ee=j.length,oe=P.length,ce=S(A),Y=[],te=[],le=[],D=I=0;if(!Q)return st();if(L||L!==!1&&Q.indexOf(W)===-1){for(var Pe=Q.split(j),he=0;he<Pe.length;he++){if(le=Pe[he],I+=le.length,he!==Pe.length-1)I+=j.length;else if(U)return st();if(!P||le.substring(0,oe)!==P){if(ce){if(Y=[],wr(le.split(T)),ur(),J)return st()}else wr(le.split(T));if(N&&N<=he)return Y=Y.slice(0,N),st(!0)}}return st()}for(var ge=Q.indexOf(T,I),pe=Q.indexOf(j,I),ue=new RegExp(g(q)+g(W),"g"),ke=Q.indexOf(W,I);;)if(Q[I]===W)for(ke=I,I++;;){if((ke=Q.indexOf(W,ke+1))===-1)return U||te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Y.length,index:I}),cn();if(ke===G-1)return cn(Q.substring(I,ke).replace(ue,W));if(W===q&&Q[ke+1]===q)ke++;else if(W===q||ke===0||Q[ke-1]!==q){ge!==-1&&ge<ke+1&&(ge=Q.indexOf(T,ke+1));var Ve=ln((pe=pe!==-1&&pe<ke+1?Q.indexOf(j,ke+1):pe)===-1?ge:Math.min(ge,pe));if(Q.substr(ke+1+Ve,H)===T){le.push(Q.substring(I,ke).replace(ue,W)),Q[I=ke+1+Ve+H]!==W&&(ke=Q.indexOf(W,I)),ge=Q.indexOf(T,I),pe=Q.indexOf(j,I);break}if(Ve=ln(pe),Q.substring(ke+1+Ve,ke+1+Ve+ee)===j){if(le.push(Q.substring(I,ke).replace(ue,W)),zn(ke+1+Ve+ee),ge=Q.indexOf(T,I),ke=Q.indexOf(W,I),ce&&(ur(),J))return st();if(N&&Y.length>=N)return st(!0);break}te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Y.length,index:I}),ke++}}else if(P&&le.length===0&&Q.substring(I,I+oe)===P){if(pe===-1)return st();I=pe+ee,pe=Q.indexOf(j,I),ge=Q.indexOf(T,I)}else if(ge!==-1&&(ge<pe||pe===-1))le.push(Q.substring(I,ge)),I=ge+H,ge=Q.indexOf(T,I);else{if(pe===-1)break;if(le.push(Q.substring(I,pe)),zn(pe+ee),ce&&(ur(),J))return st();if(N&&Y.length>=N)return st(!0)}return cn();function wr(ht){Y.push(ht),D=I}function ln(ht){var dr=0;return dr=ht!==-1&&(ht=Q.substring(ke+1,ht))&&ht.trim()===""?ht.length:dr}function cn(ht){return U||(ht===void 0&&(ht=Q.substring(I)),le.push(ht),I=G,wr(le),ce&&ur()),st()}function zn(ht){I=ht,wr(le),le=[],pe=Q.indexOf(j,I)}function st(ht){if(C.header&&!M&&Y.length&&!X){var dr=Y[0],_t=Object.create(null),Vn=new Set(dr);let $e=!1;for(let dt=0;dt<dr.length;dt++){let Bt=dr[dt];if(_t[Bt=S(C.transformHeader)?C.transformHeader(Bt,dt):Bt]){let kt,hs=_t[Bt];for(;kt=Bt+"_"+hs,hs++,Vn.has(kt););Vn.add(kt),dr[dt]=kt,_t[Bt]++,$e=!0,(K=K===null?{}:K)[kt]=Bt}else _t[Bt]=1,dr[dt]=Bt;Vn.add(Bt)}$e&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:Y,errors:te,meta:{delimiter:T,linebreak:j,aborted:J,truncated:!!ht,cursor:D+(M||0),renamedHeaders:K}}}function ur(){A(st()),Y=[],te=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return I}}function b(C){var T=C.data,j=o[T.workerId],P=!1;if(T.error)j.userError(T.error,T.file);else if(T.results&&T.results.data){var A={abort:function(){P=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:k,resume:k};if(S(j.userStep)){for(var N=0;N<T.results.data.length&&(j.userStep({data:T.results.data[N],errors:T.results.errors,meta:T.results.meta},A),!P);N++);delete T.results}else S(j.userChunk)&&(j.userChunk(T.results,A,T.file),delete T.results)}T.finished&&!P&&y(T.workerId,T.results)}function y(C,T){var j=o[C];S(j.userComplete)&&j.userComplete(T),j.terminate(),delete o[C]}function k(){throw new Error("Not implemented.")}function E(C){if(typeof C!="object"||C===null)return C;var T,j=Array.isArray(C)?[]:{};for(T in C)j[T]=E(C[T]);return j}function _(C,T){return function(){C.apply(T,arguments)}}function S(C){return typeof C=="function"}return c.parse=function(C,T){var j=(T=T||{}).dynamicTyping||!1;if(S(j)&&(T.dynamicTypingFunction=j,j={}),T.dynamicTyping=j,T.transform=!!S(T.transform)&&T.transform,!T.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof C=="string"?(C=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(C),j=new(T.download?f:p)(T)):C.readable===!0&&S(C.read)&&S(C.on)?j=new m(T):(n.File&&C instanceof File||C instanceof Object)&&(j=new h(T)),j.stream(C);(j=(()=>{var P;return!!c.WORKERS_SUPPORTED&&(P=(()=>{var A=n.URL||n.webkitURL||null,N=r.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=b,P.id=l++,o[P.id]=P)})()).userStep=T.step,j.userChunk=T.chunk,j.userComplete=T.complete,j.userError=T.error,T.step=S(T.step),T.chunk=S(T.chunk),T.complete=S(T.complete),T.error=S(T.error),delete T.worker,j.postMessage({input:C,config:T,workerId:j.id})},c.unparse=function(C,T){var j=!1,P=!0,A=",",N=`\r
`,L='"',K=L+L,X=!1,W=null,q=!1,I=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(M){return T.delimiter.indexOf(M)!==-1}).length||(A=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(j=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(X=T.skipEmptyLines),typeof T.newline=="string"&&(N=T.newline),typeof T.quoteChar=="string"&&(L=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");W=T.columns}T.escapeChar!==void 0&&(K=T.escapeChar+L),T.escapeFormulae instanceof RegExp?q=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(L),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return J(null,C,X);if(typeof C[0]=="object")return J(W||Object.keys(C[0]),C,X)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||W),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),J(C.fields||[],C.data||[],X);throw new Error("Unable to serialize unrecognized input");function J(M,U,G){var H="",ee=(typeof M=="string"&&(M=JSON.parse(M)),typeof U=="string"&&(U=JSON.parse(U)),Array.isArray(M)&&0<M.length),oe=!Array.isArray(U[0]);if(ee&&P){for(var ce=0;ce<M.length;ce++)0<ce&&(H+=A),H+=Q(M[ce],ce);0<U.length&&(H+=N)}for(var Y=0;Y<U.length;Y++){var te=(ee?M:U[Y]).length,le=!1,D=ee?Object.keys(U[Y]).length===0:U[Y].length===0;if(G&&!ee&&(le=G==="greedy"?U[Y].join("").trim()==="":U[Y].length===1&&U[Y][0].length===0),G==="greedy"&&ee){for(var Pe=[],he=0;he<te;he++){var ge=oe?M[he]:he;Pe.push(U[Y][ge])}le=Pe.join("").trim()===""}if(!le){for(var pe=0;pe<te;pe++){0<pe&&!D&&(H+=A);var ue=ee&&oe?M[pe]:pe;H+=Q(U[Y][ue],pe)}Y<U.length-1&&(!G||0<te&&!D)&&(H+=N)}}return H}function Q(M,U){var G,H;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(H=!1,q&&typeof M=="string"&&q.test(M)&&(M="'"+M,H=!0),G=M.toString().replace(I,K),(H=H||j===!0||typeof j=="function"&&j(M,U)||Array.isArray(j)&&j[U]||((ee,oe)=>{for(var ce=0;ce<oe.length;ce++)if(-1<ee.indexOf(oe[ce]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(A)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?L+G+L:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=x,c.ParserHandle=v,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(C){var T=C.config||{},j=[];return this.each(function(N){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var L=0;L<this.files.length;L++)j.push({file:this.files[L],inputElem:this,instanceConfig:a.extend({},T)})}),P(),this;function P(){if(j.length===0)S(C.complete)&&C.complete();else{var N,L,K,X,W=j[0];if(S(C.before)){var q=C.before(W.file,W.inputElem);if(typeof q=="object"){if(q.action==="abort")return N="AbortError",L=W.file,K=W.inputElem,X=q.reason,void(S(C.error)&&C.error({name:N},L,K,X));if(q.action==="skip")return void A();typeof q.config=="object"&&(W.instanceConfig=a.extend(W.instanceConfig,q.config))}else if(q==="skip")return void A()}var I=W.instanceConfig.complete;W.instanceConfig.complete=function(J){S(I)&&I(J,W.file,W.inputElem),A()},c.parse(W.file,W.instanceConfig)}}function A(){j.splice(0,1),P()}}),i&&(n.onmessage=function(C){C=C.data,c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=c.parse(C.input,C.config))&&n.postMessage({workerId:c.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(y6);var Upe=y6.exports;const b6=Bs(Upe),JP="growth_brain_versions",QP=10,zpe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState(0);w.useEffect(()=>{try{const f=localStorage.getItem(JP);if(f){const h=JSON.parse(f);t(h.versions||[]),n(h.currentVersionId||null)}i()}catch(f){console.error("Failed to load versions from localStorage",f)}},[]),w.useEffect(()=>{if(e.length>0||r)try{const h=JSON.stringify({currentVersionId:r,versions:e});localStorage.setItem(JP,h),i()}catch(f){console.error("Failed to save versions to localStorage",f),alert("Erro ao salvar no armazenamento local. O limite pode ter sido atingido.")}},[e,r]);const i=()=>{let f=0;for(const h in localStorage)localStorage.hasOwnProperty(h)&&(f+=localStorage[h].length*2/1024/1024);s(f)},o=w.useCallback((f,h,p,m=0)=>{if(e.length>=QP)throw new Error(`Limite de ${QP} verses atingido. Exclua verses antigas.`);const v={id:crypto.randomUUID(),name:f,description:p,createdAt:new Date().toISOString(),createdBy:"User",rowCount:h.length,editCount:m,data:h};return t(g=>[v,...g]),n(v.id),v},[e]),l=w.useCallback(f=>{const h=e.find(p=>p.id===f);if(!h)throw new Error("Verso no encontrada");return n(f),h.data},[e]),c=w.useCallback(f=>{if(f===r)throw new Error("No  possvel excluir a verso atual ativa.");t(h=>h.filter(p=>p.id!==f))},[r]),u=w.useCallback(f=>{const h=e.find(x=>x.id===f);if(!h)return;const p=b6.unparse(h.data,{delimiter:";",quotes:!0}),m=new Blob([p],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),g=document.createElement("a");g.href=v,g.setAttribute("download",`${h.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.csv`),document.body.appendChild(g),g.click(),document.body.removeChild(g)},[e]);return{versions:e,currentVersion:e.find(f=>f.id===r),currentVersionId:r,storageUsage:a,saveNewVersion:o,restoreVersion:l,deleteVersion:c,exportVersion:u}},Vpe=({isOpen:e,onClose:t,onSave:r,pendingEditsCount:n})=>{const[a,s]=w.useState(""),[i,o]=w.useState("");if(!e)return null;const l=c=>{c.preventDefault(),a.trim()&&(r(a,i),s(""),o(""),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(S0,{className:"text-emerald-400",size:20}),"Salvar Nova Verso"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx($s,{size:20})})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700 text-sm text-slate-300",children:["Esta verso incluir ",d.jsxs("strong",{children:[n," alteraes"]})," pendentes."]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Nome da Verso"}),d.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"Ex: Ajuste de Metas Nov",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none",autoFocus:!0,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Descrio (Opcional)"}),d.jsx("textarea",{value:i,onChange:c=>o(c.target.value),placeholder:"O que mudou nesta verso?",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none h-24 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded transition",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded font-medium transition",children:"Salvar Verso"})]})]})]})})},Wpe=({isOpen:e,onClose:t,versions:r,currentVersionId:n,onRestore:a,onDelete:s,onExport:i,storageUsage:o})=>e?d.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"w-96 bg-slate-900 border-l border-slate-700 h-full flex flex-col shadow-2xl animate-in slide-in-from-right duration-200",children:[d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(wm,{className:"text-blue-400",size:20}),"Histrico de Verses"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx($s,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:[d.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[d.jsx("span",{children:"Armazenamento Local"}),d.jsxs("span",{children:[o.toFixed(2)," MB / ~5 MB"]})]}),d.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${o>4?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(o/5*100,100)}%`}})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?d.jsx("div",{className:"text-center text-slate-500 py-8",children:d.jsx("p",{children:"Nenhuma verso salva."})}):r.map(l=>{const c=l.id===n;return d.jsxs("div",{className:`border rounded-lg p-4 transition ${c?"bg-blue-900/20 border-blue-500/50":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${c?"text-blue-400":"text-slate-200"}`,children:l.name}),d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[d.jsx(wm,{size:12}),Te(bn(l.createdAt),"dd 'de' MMM 's' HH:mm",{locale:Rs})]})]}),c&&d.jsxs("span",{className:"bg-blue-900/50 text-blue-400 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[d.jsx(yn,{size:12})," Atual"]})]}),l.description&&d.jsxs("p",{className:"text-sm text-slate-400 mb-3 italic border-l-2 border-slate-700 pl-2",children:['"',l.description,'"']}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[d.jsxs("span",{children:[l.rowCount," linhas"]}),d.jsxs("span",{children:[l.editCount," edies"]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700/50",children:[d.jsxs("button",{onClick:()=>i(l.id),className:"text-slate-400 hover:text-slate-200 flex items-center gap-1 text-xs transition",title:"Baixar CSV",children:[d.jsx(w0,{size:14})," CSV"]}),d.jsx("div",{className:"flex items-center gap-2",children:!c&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>a(l.id),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-xs transition font-medium",children:[d.jsx(iV,{size:14})," Restaurar"]}),d.jsx("button",{onClick:()=>s(l.id),className:"text-red-400 hover:text-red-300 flex items-center gap-1 text-xs transition",title:"Excluir",children:d.jsx(Ef,{size:14})})]})})]})]},l.id)})})]})}):null,Hpe=()=>{const{frameworkData:e,setFrameworkData:t,activities:r,viewSettings:n}=Tr(),[a,s]=w.useState(""),[i,o]=w.useState({}),[l,c]=w.useState({key:null,direction:"asc"}),[u,f]=w.useState(!1),[h,p]=w.useState(!1),{versions:m,currentVersion:v,saveNewVersion:g,restoreVersion:x,deleteVersion:b,exportVersion:y,storageUsage:k}=zpe();w.useEffect(()=>{e.length>0&&m.length===0&&g("Original - Importado",e,"Verso inicial criada automaticamente ao importar CSV.")},[e.length,m.length,g,e]);const E=w.useMemo(()=>e.length===0?[]:Object.keys(e[0]),[e]),_=L=>{c(K=>K.key===L?K.direction==="asc"?{key:L,direction:"desc"}:{key:null,direction:"asc"}:{key:L,direction:"asc"})},S=w.useMemo(()=>{let L=e.map((X,W)=>({...X,_originalIndex:W}));const K=n.filtrosGlobais;if(L=L.filter(X=>!(K.bu.length>0&&!K.bu.includes(X.BU)||K.canais.length>0&&!K.canais.includes(X.Canal)||K.segmentos.length>0&&!K.segmentos.includes(X.Segmento)||K.parceiros.length>0&&!K.parceiros.includes(X.Parceiro))),a){const X=a.toLowerCase();L=L.filter(W=>Object.values(W).some(q=>String(q).toLowerCase().includes(X)))}return l.key&&L.sort((X,W)=>{var H,ee;const q=l.key,I=((H=i[X._originalIndex])==null?void 0:H[q])??X[q],J=((ee=i[W._originalIndex])==null?void 0:ee[q])??W[q];if(I===J)return 0;const Q=Number(String(I).replace(",",".").replace(/[^0-9.-]+/g,"")),M=Number(String(J).replace(",",".").replace(/[^0-9.-]+/g,""));if(!isNaN(Q)&&!isNaN(M)&&String(I).trim()!==""&&String(J).trim()!=="")return l.direction==="asc"?Q-M:M-Q;const U=String(I).toLowerCase(),G=String(J).toLowerCase();return U<G?l.direction==="asc"?-1:1:U>G?l.direction==="asc"?1:-1:0}),L},[e,a,l,i,n.filtrosGlobais]),C=(L,K,X)=>{o(W=>({...W,[L]:{...W[L],[K]:X}}))},T=(L,K)=>{L.key==="Enter"&&K.blur(),L.key==="Escape"&&K.blur()},j=()=>{const L=e.map((K,X)=>i[X]?{...K,...i[X]}:K);t(L,r),o({})},P=(L,K)=>{const X=e.map((W,q)=>i[q]?{...W,...i[q]}:W);try{g(L,X,K,Object.keys(i).length),t(X,r),o({}),alert("Verso salva com sucesso!")}catch(W){alert(W.message)}},A=L=>{if(!(Object.keys(i).length>0&&!confirm("Voc tem edies no salvas. Restaurar uma verso anterior ir descart-las. Continuar?")))try{const K=x(L);t(K,r),o({}),p(!1)}catch(K){alert(K.message)}},N=()=>{const L=e.map((I,J)=>i[J]?{...I,...i[J]}:I),K=b6.unparse(L,{delimiter:";",quotes:!0}),X=new Blob([K],{type:"text/csv;charset=utf-8;"}),W=URL.createObjectURL(X),q=document.createElement("a");q.href=W,q.setAttribute("download","framework_editado.csv"),document.body.appendChild(q),q.click(),document.body.removeChild(q)};return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(Ul,{size:48,className:"mb-4 opacity-50"}),d.jsx("p",{children:"Nenhum dado carregado. Faa upload do CSV na tela inicial."})]}):d.jsxs("div",{className:"flex flex-col h-full bg-slate-900 relative",children:[d.jsx(Vpe,{isOpen:u,onClose:()=>f(!1),onSave:P,pendingEditsCount:Object.keys(i).length}),d.jsx(Wpe,{isOpen:h,onClose:()=>p(!1),versions:m,currentVersionId:(v==null?void 0:v.id)||null,onRestore:A,onDelete:b,onExport:y,storageUsage:k}),d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between gap-4 bg-slate-800/50",children:[d.jsxs("div",{className:"relative flex-1 max-w-md group",children:[d.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 group-focus-within:text-blue-400 transition"}),d.jsx("input",{type:"text",placeholder:"Buscar em todas as colunas...",value:a,onChange:L=>s(L.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-10 py-2 text-sm text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition"}),a&&d.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200",children:d.jsx($s,{size:14})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[v&&d.jsxs("div",{className:"hidden md:flex items-center gap-2 mr-4 text-xs text-slate-400 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700",children:[d.jsx(VU,{size:12}),d.jsx("span",{className:"max-w-[150px] truncate",children:v.name})]}),d.jsx("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg text-sm font-medium transition",title:"Histrico de Verses",children:d.jsx(Dz,{size:18})}),Object.keys(i).length>0&&d.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[d.jsxs("span",{className:"text-amber-400 text-xs font-medium bg-amber-900/30 px-2 py-1 rounded border border-amber-500/30",children:[Object.keys(i).length," alteraes"]}),d.jsx("button",{onClick:j,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",title:"Aplicar na memria (sem criar nova verso)",children:"Aplicar"})]}),d.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition shadow-lg shadow-emerald-900/20",children:[d.jsx(S0,{size:16}),"Salvar Verso"]}),d.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",children:[d.jsx(w0,{size:16}),"Exportar"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto relative",children:[d.jsxs("table",{className:"w-full border-collapse text-sm text-left relative",children:[d.jsx("thead",{className:"bg-slate-800 text-slate-400 sticky top-0 z-20 shadow-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 border-b border-slate-600 font-medium w-12 text-center sticky left-0 z-30 bg-slate-800 border-r border-slate-600 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]",children:"#"}),E.map(L=>d.jsx("th",{onClick:()=>_(L),className:"p-3 border-b border-slate-700 font-medium whitespace-nowrap min-w-[150px] cursor-pointer hover:bg-slate-700 hover:text-slate-200 transition select-none group",children:d.jsxs("div",{className:"flex items-center gap-2",children:[L,d.jsx("span",{className:"text-slate-600 group-hover:text-slate-400",children:l.key===L?l.direction==="asc"?d.jsx(d_,{size:14,className:"text-blue-400"}):d.jsx(c_,{size:14,className:"text-blue-400"}):d.jsx(Ea,{size:14,className:"opacity-0 group-hover:opacity-100 transition"})})]})},L))]})}),d.jsx("tbody",{className:"divide-y divide-slate-800",children:S.map((L,K)=>{const X=L._originalIndex;return d.jsxs("tr",{className:`transition group ${K%2===0?"bg-slate-800":"bg-slate-800/50"} hover:bg-slate-700`,children:[d.jsx("td",{className:`p-2 text-slate-400 text-xs text-center border-r border-slate-600 sticky left-0 z-10 ${K%2===0?"bg-slate-800":"bg-slate-800/50"} group-hover:bg-slate-700 transition shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]`,children:K+1}),E.map(W=>{var J,Q;const q=((J=i[X])==null?void 0:J[W])??L[W],I=((Q=i[X])==null?void 0:Q[W])!==void 0;return d.jsx("td",{className:`p-0 border-r border-slate-700/50 relative ${I?"bg-amber-900/20":""}`,children:d.jsx("input",{type:"text",value:q,onChange:M=>C(X,W,M.target.value),onKeyDown:M=>T(M,M.currentTarget),className:`w-full h-full p-3 bg-transparent border-none outline-none text-slate-300 focus:bg-slate-800 focus:ring-1 focus:ring-inset focus:ring-blue-500 transition ${I?"text-amber-200 font-medium":""}`})},W)})]},X)})})]}),S.length===0&&d.jsxs("div",{className:"p-8 text-center text-slate-500",children:['Nenhum resultado encontrado para "',a,'"']})]}),d.jsxs("div",{className:"bg-slate-800 border-t border-slate-700 p-2 px-4 text-xs text-slate-400 flex justify-between items-center",children:[d.jsxs("span",{children:["Total: ",d.jsx("strong",{children:e.length})," linhas"]}),d.jsxs("span",{children:["Mostrando: ",d.jsx("strong",{children:S.length})," linhas"]})]})]})},Kpe=e=>w.useMemo(()=>{const r=new Map;e.forEach(a=>{const s=a.bu.trim(),i=a.raw["Oferta 2"]||"Padrao",o=a.raw["Promocional 2"]||"N/A",l=`${s}|${a.canal}|${a.oferta||"Sem Oferta"}|${a.segmento}|${a.promocional||"N/A"}|${i}|${o}`;r.has(l)||r.set(l,[]),r.get(l).push(a)});const n=[];return r.forEach((a,s)=>{const[i,o,l,c,u,f,h]=s.split("|"),p={bu:i,canal:o,oferta:l,segmento:c,promocional:u!=="N/A"?u:void 0,oferta2:f,promocional2:h!=="N/A"?h:void 0};let m=0,v=0,g=0,x=0,b=0;a.forEach(L=>{L.kpis.cac!==null&&L.kpis.cac>0&&(m+=L.kpis.cac,x++),L.kpis.taxaConversao!==null&&(v+=L.kpis.taxaConversao,b++),L.kpis.cartoes!==null&&(g+=L.kpis.cartoes)});const y=x>0?m/x:0,k=b>0?v/b:0,E=a.length,_=a.length>0?new Date(Math.max(...a.map(L=>L.dataDisparo.getTime()))):null,S={avgCAC:y,avgConversion:k,totalVolume:E,totalCards:g,successRate:0,lastExecuted:_};let C=0;x>0&&(C=Math.max(0,Math.min(100,100-y/2)));const T=Math.max(0,Math.min(100,k/.05*100)),j=Math.min(100,E/10*100),P=C*.4+T*.4+j*.2,A={cacScore:C,conversionScore:T,volumeScore:j,finalScore:P},N=[];x>0?y<60?N.push({type:"positive",text:"CAC Excelente (< R$ 60)"}):y>150&&N.push({type:"negative",text:"CAC Alto (> R$ 150)"}):N.push({type:"neutral",text:"Sem dados de CAC"}),k>.03?N.push({type:"positive",text:"Alta Converso (> 3%)"}):k<.005&&b>0&&N.push({type:"negative",text:"Baixa Converso (< 0.5%)"}),E<3&&N.push({type:"neutral",text:"Volume baixo (pouca confiana)"}),E>10&&N.push({type:"positive",text:"Volume alto (alta confiana)"}),n.push({id:s,combo:p,metrics:S,score:A,insights:N,sampleActivities:a.sort((L,K)=>K.dataDisparo.getTime()-L.dataDisparo.getTime())})}),n.sort((a,s)=>s.score.finalScore-a.score.finalScore)},[e]),w6=w.createContext(void 0),ZP="growth-brain-bu-selection",Gpe=({children:e})=>{const[t,r]=w.useState(()=>{const o=localStorage.getItem(ZP);return o?JSON.parse(o):["B2C","B2B2C","Plurix"]});w.useEffect(()=>{localStorage.setItem(ZP,JSON.stringify(t))},[t]);const n=o=>{r(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a=()=>{r(["B2C","B2B2C","Plurix"])},s=()=>{r([])},i=o=>t.includes(o);return d.jsx(w6.Provider,{value:{selectedBUs:t,toggleBU:n,selectAll:a,deselectAll:s,isBUSelected:i},children:e})},dh=()=>{const e=w.useContext(w6);if(e===void 0)throw new Error("useBU must be used within a BUProvider");return e},qpe=({recommendation:e,onClick:t})=>{const{combo:r,score:n,metrics:a,insights:s}=e,i=f=>f>=80?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":f>=60?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":f>=40?"text-orange-400 border-orange-500/50 bg-orange-500/10":"text-red-400 border-red-500/50 bg-red-500/10",o=f=>{const h=f.toLowerCase();return h.includes("email")||h.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":h.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":h.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":h.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"},c=(f=>{if(!f)return{text:"Nunca executado",color:"text-blue-400"};const h=Math.abs(new Date().getTime()-f.getTime()),p=Math.ceil(h/(1e3*60*60*24));return p<7?{text:`h ${p} dias`,color:"text-slate-500"}:p<14?{text:`h ${p} dias`,color:"text-yellow-500"}:{text:`h ${p} dias`,color:"text-emerald-500"}})(a.lastExecuted),u=i(n.finalScore);return d.jsxs("div",{onClick:t,className:`bg-slate-800/50 border rounded-lg p-4 transition cursor-pointer group relative overflow-hidden hover:shadow-lg ${u.replace("text-","border-").split(" ")[1]}`,children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full -mr-10 -mt-10 transition-opacity opacity-0 group-hover:opacity-100 pointer-events-none"}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${o(r.canal)}`,children:r.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:r.segmento}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-pink-500/10 text-pink-300 px-1.5 py-0.5 rounded border border-pink-500/20",children:r.promocional})]}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-cyan-500/10 text-cyan-300 px-1.5 py-0.5 rounded border border-cyan-500/20",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-300 px-1.5 py-0.5 rounded border border-indigo-500/20",children:r.promocional2})]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-100 line-clamp-2",title:r.oferta,children:r.oferta})]}),d.jsx("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 ${u}`,children:d.jsx("span",{className:"text-sm font-bold",children:Math.round(n.finalScore)})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[d.jsx(Es,{content:"Custo de Aquisio Mdio das campanhas",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(b0,{size:10})," CAC"]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.avgCAC>0?`R$ ${a.avgCAC.toFixed(0)}`:"-"})]})}),d.jsx(Es,{content:"Taxa de Converso Mdia (Aprovados / Entregues)",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(fa,{size:10})," Conv."]}),d.jsxs("div",{className:"text-xs font-semibold text-slate-200",children:[(a.avgConversion*100).toFixed(1),"%"]})]})}),d.jsx(Es,{content:"Nmero total de execues desta combinao",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(EV,{size:10})," Vol."]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.totalVolume})]})}),d.jsx(Es,{content:"Data da ltima execuo registrada",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(wm,{size:10})," ltima"]}),d.jsx("div",{className:`text-[10px] font-semibold ${c.color} leading-tight`,children:c.text})]})})]}),d.jsx("div",{className:"space-y-1",children:s.slice(0,2).map((f,h)=>d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] px-2 py-1 rounded ${f.type==="positive"?"bg-emerald-500/10 text-emerald-300":f.type==="negative"?"bg-red-500/10 text-red-300":"bg-slate-700/50 text-slate-400"}`,children:[f.type==="positive"?d.jsx(fa,{size:10}):f.type==="negative"?d.jsx(E0,{size:10}):d.jsx(k0,{size:10}),f.text]},h))})]})},Gy=5,Ype=({recommendation:e,onClose:t})=>{const{combo:r,sampleActivities:n,metrics:a}=e,[s,i]=w.useState(1),o=w.useMemo(()=>[...n].sort((h,p)=>p.dataDisparo.getTime()-h.dataDisparo.getTime()),[n]),l=Math.ceil(o.length/Gy),c=o.slice((s-1)*Gy,s*Gy),u=w.useMemo(()=>[...n].sort((h,p)=>h.dataDisparo.getTime()-p.dataDisparo.getTime()).map(h=>({date:h.dataDisparo.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),cartoes:h.kpis.cartoes||0,cac:h.kpis.cac||0,conversao:(h.kpis.taxaConversao||0)*100})),[n]),f=()=>{const h=["Data","Activity Name","BU","Cartes","Converso (%)","CAC (R$)","Custo Total (R$)"],p=o.map(b=>[b.dataDisparo.toLocaleDateString("pt-BR"),`"${b.id}"`,b.bu,b.kpis.cartoes||0,((b.kpis.taxaConversao||0)*100).toFixed(2).replace(".",","),(b.kpis.cac||0).toFixed(2).replace(".",","),(b.kpis.custoTotal||0).toFixed(2).replace(".",",")]),m=[h.join(";"),...p.map(b=>b.join(";"))].join(`
`),v=new Blob([m],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(v),x=document.createElement("a");x.setAttribute("href",g),x.setAttribute("download",`historico_${r.canal}_${r.segmento}.csv`),document.body.appendChild(x),x.click(),document.body.removeChild(x)};return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Histrico de Execues"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1 flex-wrap",children:[d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.canal}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.segmento}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-slate-300 font-medium",children:r.oferta}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-pink-500/10 text-pink-300 px-2 py-0.5 rounded border border-pink-500/20 font-medium",children:r.promocional})]}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-cyan-500/10 text-cyan-300 px-2 py-0.5 rounded border border-cyan-500/20 font-medium",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-indigo-500/10 text-indigo-300 px-2 py-0.5 rounded border border-indigo-500/20 font-medium",children:r.promocional2})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-xs font-medium transition",children:[d.jsx(w0,{size:14})," Exportar CSV"]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx($s,{size:20})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Execues"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalVolume})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"CAC Mdio"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:["R$ ",a.avgCAC.toFixed(2)]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Converso Mdia"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[(a.avgConversion*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Cartes"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalCards})]})]}),d.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700/30",children:[d.jsx("h3",{className:"text-xs font-bold text-slate-400 mb-4 uppercase tracking-wider",children:"Tendncia de Cartes (ltimas Execues)"}),d.jsx("div",{className:"h-32 w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(Afe,{data:u,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorCartoes",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"date",stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1}),d.jsx(nt,{stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1,width:30}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",fontSize:"12px"},itemStyle:{color:"#e2e8f0"}}),d.jsx(yx,{type:"monotone",dataKey:"cartoes",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCartoes)"})]})})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300",children:"Lista de Execues"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Pgina ",s," de ",l]})]}),d.jsx("div",{className:"space-y-3",children:c.map(h=>{const p=m=>{const v=m.toLowerCase();return v.includes("email")||v.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":v.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":v.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":v.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-slate-600 transition",children:[d.jsx("div",{className:"flex justify-between items-start mb-2",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${p(h.canal)}`,children:h.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.bu}),h.segmento&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.segmento})]}),h.jornada&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-purple-300",children:h.jornada})]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-auto flex items-center gap-1",children:[d.jsx(y0,{size:10}),h.dataDisparo.toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-1",title:h.id,children:h.id})]})}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Enviado"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Entregue"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Cartes"}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:h.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Converso"}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[h.kpis.taxaConversao?(h.kpis.taxaConversao*100).toFixed(2):0,"%"]})]})]})]},h.id)})}),l>1&&d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[d.jsx("button",{onClick:()=>i(h=>Math.max(1,h-1)),disabled:s===1,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(sg,{size:20})}),d.jsxs("span",{className:"text-xs text-slate-400",children:[s," / ",l]}),d.jsx("button",{onClick:()=>i(h=>Math.min(l,h+1)),disabled:s===l,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(ig,{size:20})})]})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},_6=w.createContext(void 0),Xpe=({children:e})=>{const[t,r]=w.useState(yt(new Date,27)),[n,a]=w.useState(new Date),[s,i]=w.useState("last28"),[o,l]=w.useState(!1),[c,u]=w.useState(null),f=(m,v,g="custom")=>{r(m),a(v),i(g)},h=m=>{const v=new Date;let g=v,x=v;switch(m){case"today":g=v,x=v;break;case"yesterday":g=yt(v,1),x=yt(v,1);break;case"thisWeek":g=yt(v,v.getDay());break;case"last7":g=yt(v,6);break;case"last14":g=yt(v,13);break;case"last28":g=yt(v,27);break;case"last30":g=yt(v,29);break;case"last90":g=yt(v,89);break;case"thisMonth":g=en(v),x=Ml(v);break;case"lastMonth":g=en(_u(v,1)),x=Ml(_u(v,1));break;case"thisYear":g=new Date(v.getFullYear(),0,1);break;case"custom":return}r(g),a(x),i(m)},p=m=>{l(m),m&&!c?u("previousPeriod"):m||u(null)};return d.jsx(_6.Provider,{value:{startDate:t,endDate:n,preset:s,compareEnabled:o,compareMode:c,setPeriod:f,setPreset:h,toggleCompare:p},children:e})},ql=()=>{const e=w.useContext(_6);if(e===void 0)throw new Error("usePeriod must be used within a PeriodProvider");return e},Jpe=()=>{const{activities:e,viewSettings:t}=Tr(),{selectedBUs:r}=dh(),{startDate:n,endDate:a}=ql(),s=w.useMemo(()=>e.filter(p=>fi(p.dataDisparo,{start:n,end:a})),[e,n,a]),i=Kpe(s),[o,l]=w.useState(null),[c,u]=w.useState("score"),f=w.useMemo(()=>{const p=t.filtrosGlobais;return s.filter(m=>{const v=r.length===0||r.includes(m.bu),g=p.canais.length===0||p.canais.includes(m.canal),x=p.segmentos.length===0||p.segmentos.includes(m.segmento),b=p.jornadas.length===0||p.jornadas.includes(m.jornada),y=p.parceiros.length===0||p.parceiros.includes(m.parceiro);return v&&g&&x&&b&&y}).length},[s,t.filtrosGlobais,r]),h=w.useMemo(()=>{const p=t.filtrosGlobais;return i.filter(v=>{const g=r.length===0||r.includes(v.combo.bu),x=p.canais.length===0||p.canais.includes(v.combo.canal),b=p.segmentos.length===0||p.segmentos.includes(v.combo.segmento),y=p.jornadas.length===0||v.sampleActivities.some(E=>p.jornadas.includes(E.jornada)),k=p.parceiros.length===0||v.sampleActivities.some(E=>p.parceiros.includes(E.parceiro));return g&&x&&b&&y&&k}).sort((v,g)=>{var x,b;switch(c){case"score":return g.score.finalScore-v.score.finalScore;case"cac":const y=v.metrics.avgCAC>0?v.metrics.avgCAC:999999,k=g.metrics.avgCAC>0?g.metrics.avgCAC:999999;return y-k;case"conversion":return g.metrics.avgConversion-v.metrics.avgConversion;case"volume":return g.metrics.totalVolume-v.metrics.totalVolume;case"recency":const E=((x=v.metrics.lastExecuted)==null?void 0:x.getTime())||0;return(((b=g.metrics.lastExecuted)==null?void 0:b.getTime())||0)-E;default:return 0}})},[i,t.filtrosGlobais,c,r]);return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Sf,{className:"text-amber-400"}),"Orientador Estratgico"]}),d.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Recomendaes baseadas no histrico de ",f," campanhas."]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 p-1 rounded-lg border border-slate-800",children:[d.jsxs("span",{className:"text-xs text-slate-500 px-2 flex items-center gap-1",children:[d.jsx(Ea,{size:12})," Ordenar:"]}),[{id:"score",label:"Score"},{id:"cac",label:"Menor CAC"},{id:"conversion",label:"Maior Conv."},{id:"volume",label:"Volume"},{id:"recency",label:"Recente"}].map(p=>d.jsxs("button",{onClick:()=>u(p.id),className:`px-3 py-1 text-xs font-medium rounded transition flex items-center gap-1 ${c===p.id?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[p.label,p.id==="score"&&d.jsx(Es,{content:d.jsxs("div",{className:"w-48",children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-300 mb-2 border-b border-slate-700 pb-1",children:"Clculo do Score"}),d.jsxs("div",{className:"space-y-1 text-[10px] text-slate-400",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" CAC"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Converso"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Volume"}),d.jsx("span",{className:"text-slate-200",children:"20%"})]})]}),d.jsx("p",{className:"text-[9px] text-slate-500 mt-2 italic",children:"Score 100 = melhor combinao do perodo (Normalizado)"})]}),children:d.jsx(_0,{size:12,className:c==="score"?"text-blue-200":"text-slate-500"})})]},p.id))]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-900 px-3 py-1.5 rounded border border-slate-800",children:[d.jsx(ju,{size:12}),"Filtros Globais Ativos"]})]})]}),h.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-slate-500",children:[d.jsx(Sf,{size:48,className:"mb-4 opacity-20"}),d.jsx("p",{children:"Nenhuma recomendao encontrada com os filtros atuais."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto pb-4",children:h.map(p=>d.jsx(qpe,{recommendation:p,onClick:()=>l(p)},p.id))}),o&&d.jsx(Ype,{recommendation:o,onClose:()=>l(null)})]})},OS=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(null);return{parseB2CCSV:w.useCallback(s=>(t(!0),n(null),new Promise((i,o)=>{const l=new Mw,c=new FileReader;c.onload=u=>{var p;const h={type:"PARSE_B2C_CSV",fileContent:(p=u.target)==null?void 0:p.result};l.postMessage(h)},c.onerror=u=>{n("Erro ao ler arquivo."),t(!1),l.terminate(),o(u)},l.onmessage=u=>{const{type:f}=u.data;if(f==="SUCCESS"||f==="SUCCESS_B2C"){const h=u.data.data,p=u.data.warnings||[];i({data:h,warnings:p})}else{const h=u.data.error||"Unknown Worker Error";n(h),o(new Error(h))}t(!1),l.terminate()},l.onerror=u=>{n("Erro no Worker: "+u.message),t(!1),l.terminate(),o(u)},c.readAsText(s)})),[]),isLoading:e,error:r}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var k6=1252,Qpe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],DS={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},MS=function(e){Qpe.indexOf(e)!=-1&&(k6=DS[0]=e)};function Zpe(){MS(1252)}var as=function(e){MS(e)};function S6(){as(1200),Zpe()}function eN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function eme(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function E6(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Cd=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?eme(e.slice(2)):t==254&&r==255?E6(e.slice(2)):t==65279?e.slice(1):e},hp=function(t){return String.fromCharCode(t)},tN=function(t){return String.fromCharCode(t)},Zf,ro="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function rN(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),s=r>>2,n=e.charCodeAt(c++),i=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=ro.charAt(s)+ro.charAt(i)+ro.charAt(o)+ro.charAt(l);return t}function pa(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=ro.indexOf(e.charAt(c++)),i=ro.indexOf(e.charAt(c++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=ro.indexOf(e.charAt(c++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=ro.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var We=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),Yl=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Eo(e){return We?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function nN(e){return We?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var rs=function(t){return We?Yl(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function Xl(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function IS(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return IS(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Zi=We?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:Yl(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function tme(e){for(var t=[],r=0,n=e.length+250,a=Eo(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Eo(65535),n=65530)}return t.push(a.slice(0,r)),Zi(t)}var Fn=/\u0000/g,Td=/[\u0001-\u0006]/g;function Zc(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function ss(e,t){var r=""+e;return r.length>=t?r:Zt("0",t-r.length)+r}function RS(e,t){var r=""+e;return r.length>=t?r:Zt(" ",t-r.length)+r}function Sv(e,t){var r=""+e;return r.length>=t?r:r+Zt(" ",t-r.length)}function rme(e,t){var r=""+Math.round(e);return r.length>=t?r:Zt("0",t-r.length)+r}function nme(e,t){var r=""+e;return r.length>=t?r:Zt("0",t-r.length)+r}var aN=Math.pow(2,32);function pc(e,t){if(e>aN||e<-aN)return rme(e,t);var r=Math.round(e);return nme(r,t)}function Ev(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var sN=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],qy=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function ame(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Ie={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},iN={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},sme={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cv(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*i+s,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=i)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function no(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=dme(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var C6=new Date(1899,11,31,0,0,0),ime=C6.getTime(),ome=new Date(1900,2,1,0,0,0);function T6(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=ome&&(r+=24*60*60*1e3),(r-(ime+(e.getTimezoneOffset()-C6.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function FS(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function lme(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function cme(e){var t=e<0?12:11,r=FS(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function ume(e){var t=FS(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function e0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=cme(e):t===10?r=e.toFixed(10).substr(0,12):r=ume(e),FS(lme(r.toUpperCase()))}function Rl(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):e0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return ma(14,T6(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dme(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function fme(e,t,r,n){var a="",s=0,i=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return qy[r.m-1][1];case 5:return qy[r.m-1][0];default:return qy[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return sN[r.q][0];default:return sN[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?ss(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=ss(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?ss(l,c):"";return u}function ao(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var A6=/%/g;function hme(e,t,r){var n=t.replace(A6,""),a=t.length-n.length;return hi(e,n,r*Math.pow(10,2*a))+Zt("%",a)}function pme(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function j6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+j6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var P6=/# (\?+)( ?)\/( ?)(\d+)/;function mme(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?Zt(" ",e[1].length+1+e[4].length):RS(i,e[1].length)+e[2]+"/"+e[3]+ss(o,e[4].length))}function vme(e,t,r){return r+(t===0?"":""+t)+Zt(" ",e[1].length+2+e[4].length)}var N6=/^#*0*\.([0#]+)/,O6=/\).*[0#]/,D6=/\(###\) ###\\?-####/;function jn(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function oN(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function lN(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function gme(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function xme(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function _a(e,t,r){if(e.charCodeAt(0)===40&&!t.match(O6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_a("n",n,r):"("+_a("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return pme(e,t,r);if(t.indexOf("%")!==-1)return hme(e,t,r);if(t.indexOf("E")!==-1)return j6(t,r);if(t.charCodeAt(0)===36)return"$"+_a(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+pc(l,t.length);if(t.match(/^[#?]+$/))return a=pc(r,0),a==="0"&&(a=""),a.length>t.length?a:jn(t.substr(0,t.length-a.length))+a;if(s=t.match(P6))return mme(s,l,c);if(t.match(/^#+0+$/))return c+pc(l,t.length-t.indexOf("0"));if(s=t.match(N6))return a=oN(r,s[1].length).replace(/^([^\.]+)$/,"$1."+jn(s[1])).replace(/\.$/,"."+jn(s[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+Zt("0",jn(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+oN(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+ao(pc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_a(e,t,-r):ao(""+(Math.floor(r)+gme(r,s[1].length)))+"."+ss(lN(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return _a(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zc(_a(e,t.replace(/[\\-]/g,""),r)),i=0,Zc(Zc(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(D6))return a=_a(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Cv(l,Math.pow(10,i)-1,!1),a=""+c,u=hi("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Sv(o[2],i),u.length<s[4].length&&(u=jn(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Cv(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?RS(o[1],i)+s[2]+"/"+s[3]+Sv(o[2],i):Zt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=pc(r,0),t.length<=a.length?a:jn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return jn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=lN(r,s[1].length),r<0?"-"+_a(e,t,-r):ao(xme(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ss(0,3-m.length):"")+m})+"."+ss(i,s[1].length);switch(t){case"###,##0.00":return _a(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=ao(pc(l,0));return p!=="0"?c+p:"";case"###,###.00":return _a(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return _a(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function yme(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return hi(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function bme(e,t,r){var n=t.replace(A6,""),a=t.length-n.length;return hi(e,n,r*Math.pow(10,2*a))+Zt("%",a)}function M6(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+M6(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vs(e,t,r){if(e.charCodeAt(0)===40&&!t.match(O6)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vs("n",n,r):"("+vs("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return yme(e,t,r);if(t.indexOf("%")!==-1)return bme(e,t,r);if(t.indexOf("E")!==-1)return M6(t,r);if(t.charCodeAt(0)===36)return"$"+vs(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+ss(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:jn(t.substr(0,t.length-a.length))+a;if(s=t.match(P6))return vme(s,l,c);if(t.match(/^#+0+$/))return c+ss(l,t.length-t.indexOf("0"));if(s=t.match(N6))return a=(""+r).replace(/^([^\.]+)$/,"$1."+jn(s[1])).replace(/\.$/,"."+jn(s[1])),a=a.replace(/\.(\d*)$/,function(m,v){return"."+v+Zt("0",jn(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+ao(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vs(e,t,-r):ao(""+r)+"."+Zt("0",s[1].length);if(s=t.match(/^#,#*,#0/))return vs(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Zc(vs(e,t.replace(/[\\-]/g,""),r)),i=0,Zc(Zc(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(D6))return a=vs(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Cv(l,Math.pow(10,i)-1,!1),a=""+c,u=hi("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Sv(o[2],i),u.length<s[4].length&&(u=jn(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Cv(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?RS(o[1],i)+s[2]+"/"+s[3]+Sv(o[2],i):Zt(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:jn(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return jn(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vs(e,t,-r):ao(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?ss(0,3-m.length):"")+m})+"."+ss(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=ao(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return vs(e,t.slice(0,t.lastIndexOf(".")),r)+jn(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function hi(e,t,r){return(r|0)===r?vs(e,t,r):_a(e,t,r)}function wme(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var I6=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Jl(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Ev(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(I6))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function _me(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",c,u,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!Ev(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=no(t,r,e.charAt(i+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=no(t,r),c==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=no(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",i+=5,h="h"):(v.t="t",++i),c==null&&v.t==="T")return"";a[a.length]=v,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(I6)){if(c==null&&(c=no(t,r),c==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Jl(e)||(a[a.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,x=0,b;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",k;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=fme(a[i].t.charCodeAt(0),a[i].v,c,x),a[i].t="t";break;case"n":case"?":for(k=i+1;a[k]!=null&&((o=a[k].t)==="?"||o==="D"||(o===" "||o==="t")&&a[k+1]!=null&&(a[k+1].t==="?"||a[k+1].t==="t"&&a[k+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[k].v==="/"||a[k].v===" "&&a[k+1]!=null&&a[k+1].t=="?"));)a[i].v+=a[k].v,a[k]={v:"",t:";"},++k;y+=a[i].v,i=k-1;break;case"G":a[i].t="t",a[i].v=Rl(t,r);break}var E="",_,S;if(y.length>0){y.charCodeAt(0)==40?(_=t<0&&y.charCodeAt(0)===45?-t:t,S=hi("n",y,_)):(_=t<0&&n>1?-t:t,S=hi("n",y,_),_<0&&a[0]&&a[0].t=="t"&&(S=S.substr(1),a[0].v="-"+a[0].v)),k=S.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var T=a.length;if(C===a.length&&S.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(k>=a[i].v.length-1?(k-=a[i].v.length,a[i].v=S.substr(k+1,a[i].v.length)):k<0?a[i].v="":(a[i].v=S.substr(0,k+1),k=-1),a[i].t="t",T=i);k>=0&&T<a.length&&(a[T].v=S.substr(0,k+1)+a[T].v)}else if(C!==a.length&&S.indexOf("E")===-1){for(k=S.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,E=a[i].v.substr(u+1);u>=0;--u)k>=0&&(a[i].v.charAt(u)==="0"||a[i].v.charAt(u)==="#")&&(E=S.charAt(k--)+E);a[i].v=E,a[i].t="t",T=i}for(k>=0&&T<a.length&&(a[T].v=S.substr(0,k+1)+a[T].v),k=S.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,E=a[i].v.substr(0,u);u<a[i].v.length;++u)k<S.length&&(E+=S.charAt(k++));a[i].v=E,a[i].t="t",T=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(_=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=hi(a[i].t,a[i].v,_),a[i].t="t");var j="";for(i=0;i!==a.length;++i)a[i]!=null&&(j+=a[i].v);return j}var cN=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function uN(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function kme(e,t){var r=wme(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(cN),o=r[1].match(cN);return uN(t,i)?[n,r[0]]:uN(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function ma(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Ie)[e],n==null&&(n=r.table&&r.table[iN[e]]||Ie[iN[e]]),n==null&&(n=sme[e]||"General");break}if(Ev(n,0))return Rl(t,r);t instanceof Date&&(t=T6(t,r.date1904));var a=kme(n,t);if(Ev(a[1]))return Rl(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return _me(a[1],t,r,a[0])}function pi(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Ie[r]==null){t<0&&(t=r);continue}if(Ie[r]==e){t=r;break}}t<0&&(t=391)}return Ie[t]=e,t}function Sme(e){for(var t=0;t!=392;++t)e[t]!==void 0&&pi(e[t],t)}function R6(){Ie=ame()}var F6={format:ma,load:pi,_table:Ie,load_table:Sme,parse_date_code:no,is_date:Jl,get_table:function(){return F6._table=Ie}},Eme={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},L6=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Cme(e){var t=typeof e=="number"?Ie[e]:e;return t=t.replace(L6,"(\\d+)"),new RegExp("^"+t+"$")}function Tme(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(L6)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&s==-1?u:c+"T"+u}var Ame=function(){var e={};e.version="1.2.0";function t(){for(var S=0,C=new Array(256),T=0;T!=256;++T)S=T,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,C[T]=S;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(S){var C=0,T=0,j=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)P[j]=S[j];for(j=0;j!=256;++j)for(T=S[j],C=256+j;C<4096;C+=256)T=P[C]=T>>>8^S[T&255];var A=[];for(j=1;j!=16;++j)A[j-1]=typeof Int32Array<"u"?P.subarray(j*256,j*256+256):P.slice(j*256,j*256+256);return A}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],m=a[9],v=a[10],g=a[11],x=a[12],b=a[13],y=a[14];function k(S,C){for(var T=C^-1,j=0,P=S.length;j<P;)T=T>>>8^r[(T^S.charCodeAt(j++))&255];return~T}function E(S,C){for(var T=C^-1,j=S.length-15,P=0;P<j;)T=y[S[P++]^T&255]^b[S[P++]^T>>8&255]^x[S[P++]^T>>16&255]^g[S[P++]^T>>>24]^v[S[P++]]^m[S[P++]]^p[S[P++]]^h[S[P++]]^f[S[P++]]^u[S[P++]]^c[S[P++]]^l[S[P++]]^o[S[P++]]^i[S[P++]]^s[S[P++]]^r[S[P++]];for(j+=15;P<j;)T=T>>>8^r[(T^S[P++])&255];return~T}function _(S,C){for(var T=C^-1,j=0,P=S.length,A=0,N=0;j<P;)A=S.charCodeAt(j++),A<128?T=T>>>8^r[(T^A)&255]:A<2048?(T=T>>>8^r[(T^(192|A>>6&31))&255],T=T>>>8^r[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,N=S.charCodeAt(j++)&1023,T=T>>>8^r[(T^(240|A>>8&7))&255],T=T>>>8^r[(T^(128|A>>2&63))&255],T=T>>>8^r[(T^(128|N>>6&15|(A&3)<<4))&255],T=T>>>8^r[(T^(128|N&63))&255]):(T=T>>>8^r[(T^(224|A>>12&15))&255],T=T>>>8^r[(T^(128|A>>6&63))&255],T=T>>>8^r[(T^(128|A&63))&255]);return~T}return e.table=r,e.bstr=k,e.buf=E,e.str=_,e}(),Ye=function(){var t={};t.version="1.2.1";function r(O,B){for(var R=O.split("/"),F=B.split("/"),z=0,V=0,ne=Math.min(R.length,F.length);z<ne;++z){if(V=R[z].length-F[z].length)return V;if(R[z]!=F[z])return R[z]<F[z]?-1:1}return R.length-F.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var B=O.lastIndexOf("/");return B===-1?O:O.slice(0,B+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var B=O.lastIndexOf("/");return B===-1?O:O.slice(B+1)}function s(O,B){typeof B=="string"&&(B=new Date(B));var R=B.getHours();R=R<<6|B.getMinutes(),R=R<<5|B.getSeconds()>>>1,O.write_shift(2,R);var F=B.getFullYear()-1980;F=F<<4|B.getMonth()+1,F=F<<5|B.getDate(),O.write_shift(2,F)}function i(O){var B=O.read_shift(2)&65535,R=O.read_shift(2)&65535,F=new Date,z=R&31;R>>>=5;var V=R&15;R>>>=4,F.setMilliseconds(0),F.setFullYear(R+1980),F.setMonth(V-1),F.setDate(z);var ne=B&31;B>>>=5;var ie=B&63;return B>>>=6,F.setHours(B),F.setMinutes(ie),F.setSeconds(ne<<1),F}function o(O){Zr(O,0);for(var B={},R=0;O.l<=O.length-4;){var F=O.read_shift(2),z=O.read_shift(2),V=O.l+z,ne={};switch(F){case 21589:R=O.read_shift(1),R&1&&(ne.mtime=O.read_shift(4)),z>5&&(R&2&&(ne.atime=O.read_shift(4)),R&4&&(ne.ctime=O.read_shift(4))),ne.mtime&&(ne.mt=new Date(ne.mtime*1e3));break}O.l=V,B[F]=ne}return B}var l;function c(){return l||(l={})}function u(O,B){if(O[0]==80&&O[1]==75)return zE(O,B);if((O[0]|32)==109&&(O[1]|32)==105)return Z$(O,B);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var R=3,F=512,z=0,V=0,ne=0,ie=0,re=0,ae=[],se=O.slice(0,512);Zr(se,0);var de=f(se);switch(R=de[0],R){case 3:F=512;break;case 4:F=4096;break;case 0:if(de[1]==0)return zE(O,B);default:throw new Error("Major Version: Expected 3 or 4 saw "+R)}F!==512&&(se=O.slice(0,F),Zr(se,28));var ve=O.slice(0,F);h(se,R);var Se=se.read_shift(4,"i");if(R===3&&Se!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Se);se.l+=4,ne=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),ie=se.read_shift(4,"i"),z=se.read_shift(4,"i"),re=se.read_shift(4,"i"),V=se.read_shift(4,"i");for(var me=-1,xe=0;xe<109&&(me=se.read_shift(4,"i"),!(me<0));++xe)ae[xe]=me;var Fe=p(O,F);g(re,V,Fe,F,ae);var $t=b(Fe,ne,ae,F);$t[ne].name="!Directory",z>0&&ie!==N&&($t[ie].name="!MiniFAT"),$t[ae[0]].name="!FAT",$t.fat_addrs=ae,$t.ssz=F;var Ut={},un=[],Yu=[],Xu=[];y(ne,$t,Fe,un,z,Ut,Yu,ie),m(Yu,Xu,un),un.shift();var Ju={FileIndex:Yu,FullPaths:Xu};return B&&B.raw&&(Ju.raw={header:ve,sectors:Fe}),Ju}function f(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(L,"Header Signature: "),O.l+=16;var B=O.read_shift(2,"u");return[O.read_shift(2,"u"),B]}function h(O,B){var R=9;switch(O.l+=2,R=O.read_shift(2)){case 9:if(B!=3)throw new Error("Sector Shift: Expected 9 saw "+R);break;case 12:if(B!=4)throw new Error("Sector Shift: Expected 12 saw "+R);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+R)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,B){for(var R=Math.ceil(O.length/B)-1,F=[],z=1;z<R;++z)F[z-1]=O.slice(z*B,(z+1)*B);return F[R-1]=O.slice(R*B),F}function m(O,B,R){for(var F=0,z=0,V=0,ne=0,ie=0,re=R.length,ae=[],se=[];F<re;++F)ae[F]=se[F]=F,B[F]=R[F];for(;ie<se.length;++ie)F=se[ie],z=O[F].L,V=O[F].R,ne=O[F].C,ae[F]===F&&(z!==-1&&ae[z]!==z&&(ae[F]=ae[z]),V!==-1&&ae[V]!==V&&(ae[F]=ae[V])),ne!==-1&&(ae[ne]=F),z!==-1&&F!=ae[F]&&(ae[z]=ae[F],se.lastIndexOf(z)<ie&&se.push(z)),V!==-1&&F!=ae[F]&&(ae[V]=ae[F],se.lastIndexOf(V)<ie&&se.push(V));for(F=1;F<re;++F)ae[F]===F&&(V!==-1&&ae[V]!==V?ae[F]=ae[V]:z!==-1&&ae[z]!==z&&(ae[F]=ae[z]));for(F=1;F<re;++F)if(O[F].type!==0){if(ie=F,ie!=ae[ie])do ie=ae[ie],B[F]=B[ie]+"/"+B[F];while(ie!==0&&ae[ie]!==-1&&ie!=ae[ie]);ae[F]=-1}for(B[0]+="/",F=1;F<re;++F)O[F].type!==2&&(B[F]+="/")}function v(O,B,R){for(var F=O.start,z=O.size,V=[],ne=F;R&&z>0&&ne>=0;)V.push(B.slice(ne*A,ne*A+A)),z-=A,ne=tl(R,ne*4);return V.length===0?Sr(0):Zi(V).slice(0,O.size)}function g(O,B,R,F,z){var V=N;if(O===N){if(B!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var ne=R[O],ie=(F>>>2)-1;if(!ne)return;for(var re=0;re<ie&&(V=tl(ne,re*4))!==N;++re)z.push(V);g(tl(ne,F-4),B-1,R,F,z)}}function x(O,B,R,F,z){var V=[],ne=[];z||(z=[]);var ie=F-1,re=0,ae=0;for(re=B;re>=0;){z[re]=!0,V[V.length]=re,ne.push(O[re]);var se=R[Math.floor(re*4/F)];if(ae=re*4&ie,F<4+ae)throw new Error("FAT boundary crossed: "+re+" 4 "+F);if(!O[se])break;re=tl(O[se],ae)}return{nodes:V,data:bN([ne])}}function b(O,B,R,F){var z=O.length,V=[],ne=[],ie=[],re=[],ae=F-1,se=0,de=0,ve=0,Se=0;for(se=0;se<z;++se)if(ie=[],ve=se+B,ve>=z&&(ve-=z),!ne[ve]){re=[];var me=[];for(de=ve;de>=0;){me[de]=!0,ne[de]=!0,ie[ie.length]=de,re.push(O[de]);var xe=R[Math.floor(de*4/F)];if(Se=de*4&ae,F<4+Se)throw new Error("FAT boundary crossed: "+de+" 4 "+F);if(!O[xe]||(de=tl(O[xe],Se),me[de]))break}V[ve]={nodes:ie,data:bN([re])}}return V}function y(O,B,R,F,z,V,ne,ie){for(var re=0,ae=F.length?2:0,se=B[O].data,de=0,ve=0,Se;de<se.length;de+=128){var me=se.slice(de,de+128);Zr(me,64),ve=me.read_shift(2),Se=zS(me,0,ve-ae),F.push(Se);var xe={name:Se,type:me.read_shift(1),color:me.read_shift(1),L:me.read_shift(4,"i"),R:me.read_shift(4,"i"),C:me.read_shift(4,"i"),clsid:me.read_shift(16),state:me.read_shift(4,"i"),start:0,size:0},Fe=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);Fe!==0&&(xe.ct=k(me,me.l-8));var $t=me.read_shift(2)+me.read_shift(2)+me.read_shift(2)+me.read_shift(2);$t!==0&&(xe.mt=k(me,me.l-8)),xe.start=me.read_shift(4,"i"),xe.size=me.read_shift(4,"i"),xe.size<0&&xe.start<0&&(xe.size=xe.type=0,xe.start=N,xe.name=""),xe.type===5?(re=xe.start,z>0&&re!==N&&(B[re].name="!StreamData")):xe.size>=4096?(xe.storage="fat",B[xe.start]===void 0&&(B[xe.start]=x(R,xe.start,B.fat_addrs,B.ssz)),B[xe.start].name=xe.name,xe.content=B[xe.start].data.slice(0,xe.size)):(xe.storage="minifat",xe.size<0?xe.size=0:re!==N&&xe.start!==N&&B[re]&&(xe.content=v(xe,B[re].data,(B[ie]||{}).data))),xe.content&&Zr(xe.content,0),V[Se]=xe,ne.push(xe)}}function k(O,B){return new Date((aa(O,B+4)/1e7*Math.pow(2,32)+aa(O,B)/1e7-11644473600)*1e3)}function E(O,B){return c(),u(l.readFileSync(O),B)}function _(O,B){var R=B&&B.type;switch(R||We&&Buffer.isBuffer(O)&&(R="buffer"),R||"base64"){case"file":return E(O,B);case"base64":return u(rs(pa(O)),B);case"binary":return u(rs(O),B)}return u(O,B)}function S(O,B){var R=B||{},F=R.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=F+"/",O.FileIndex[0]={name:F,type:5}),R.CLSID&&(O.FileIndex[0].clsid=R.CLSID),C(O)}function C(O){var B="Sh33tJ5";if(!Ye.find(O,"/"+B)){var R=Sr(4);R[0]=55,R[1]=R[3]=50,R[2]=54,O.FileIndex.push({name:B,type:2,content:R,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+B),T(O)}}function T(O,B){S(O);for(var R=!1,F=!1,z=O.FullPaths.length-1;z>=0;--z){var V=O.FileIndex[z];switch(V.type){case 0:F?R=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:F=!0,isNaN(V.R*V.L*V.C)&&(R=!0),V.R>-1&&V.L>-1&&V.R==V.L&&(R=!0);break;default:R=!0;break}}if(!(!R&&!B)){var ne=new Date(1987,1,19),ie=0,re=Object.create?Object.create(null):{},ae=[];for(z=0;z<O.FullPaths.length;++z)re[O.FullPaths[z]]=!0,O.FileIndex[z].type!==0&&ae.push([O.FullPaths[z],O.FileIndex[z]]);for(z=0;z<ae.length;++z){var se=n(ae[z][0]);F=re[se],F||(ae.push([se,{name:a(se).replace("/",""),type:1,clsid:X,ct:ne,mt:ne,content:null}]),re[se]=!0)}for(ae.sort(function(Se,me){return r(Se[0],me[0])}),O.FullPaths=[],O.FileIndex=[],z=0;z<ae.length;++z)O.FullPaths[z]=ae[z][0],O.FileIndex[z]=ae[z][1];for(z=0;z<ae.length;++z){var de=O.FileIndex[z],ve=O.FullPaths[z];if(de.name=a(ve).replace("/",""),de.L=de.R=de.C=-(de.color=1),de.size=de.content?de.content.length:0,de.start=0,de.clsid=de.clsid||X,z===0)de.C=ae.length>1?1:-1,de.size=0,de.type=5;else if(ve.slice(-1)=="/"){for(ie=z+1;ie<ae.length&&n(O.FullPaths[ie])!=ve;++ie);for(de.C=ie>=ae.length?-1:ie,ie=z+1;ie<ae.length&&n(O.FullPaths[ie])!=n(ve);++ie);de.R=ie>=ae.length?-1:ie,de.type=1}else n(O.FullPaths[z+1]||"")==n(ve)&&(de.R=z+1),de.type=2}}}function j(O,B){var R=B||{};if(R.fileType=="mad")return e9(O,R);switch(T(O),R.fileType){case"zip":return G$(O,R)}var F=function(Se){for(var me=0,xe=0,Fe=0;Fe<Se.FileIndex.length;++Fe){var $t=Se.FileIndex[Fe];if($t.content){var Ut=$t.content.length;Ut>0&&(Ut<4096?me+=Ut+63>>6:xe+=Ut+511>>9)}}for(var un=Se.FullPaths.length+3>>2,Yu=me+7>>3,Xu=me+127>>7,Ju=Yu+xe+un+Xu,Uo=Ju+127>>7,Rx=Uo<=109?0:Math.ceil((Uo-109)/127);Ju+Uo+Rx+127>>7>Uo;)Rx=++Uo<=109?0:Math.ceil((Uo-109)/127);var Gs=[1,Rx,Uo,Xu,un,xe,me,0];return Se.FileIndex[0].size=me<<6,Gs[7]=(Se.FileIndex[0].start=Gs[0]+Gs[1]+Gs[2]+Gs[3]+Gs[4]+Gs[5])+(Gs[6]+7>>3),Gs}(O),z=Sr(F[7]<<9),V=0,ne=0;{for(V=0;V<8;++V)z.write_shift(1,K[V]);for(V=0;V<8;++V)z.write_shift(2,0);for(z.write_shift(2,62),z.write_shift(2,3),z.write_shift(2,65534),z.write_shift(2,9),z.write_shift(2,6),V=0;V<3;++V)z.write_shift(2,0);for(z.write_shift(4,0),z.write_shift(4,F[2]),z.write_shift(4,F[0]+F[1]+F[2]+F[3]-1),z.write_shift(4,0),z.write_shift(4,4096),z.write_shift(4,F[3]?F[0]+F[1]+F[2]-1:N),z.write_shift(4,F[3]),z.write_shift(-4,F[1]?F[0]-1:N),z.write_shift(4,F[1]),V=0;V<109;++V)z.write_shift(-4,V<F[2]?F[1]+V:-1)}if(F[1])for(ne=0;ne<F[1];++ne){for(;V<236+ne*127;++V)z.write_shift(-4,V<F[2]?F[1]+V:-1);z.write_shift(-4,ne===F[1]-1?N:ne+1)}var ie=function(Se){for(ne+=Se;V<ne-1;++V)z.write_shift(-4,V+1);Se&&(++V,z.write_shift(-4,N))};for(ne=V=0,ne+=F[1];V<ne;++V)z.write_shift(-4,W.DIFSECT);for(ne+=F[2];V<ne;++V)z.write_shift(-4,W.FATSECT);ie(F[3]),ie(F[4]);for(var re=0,ae=0,se=O.FileIndex[0];re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(ae<4096)&&(se.start=ne,ie(ae+511>>9)));for(ie(F[6]+7>>3);z.l&511;)z.write_shift(-4,W.ENDOFCHAIN);for(ne=V=0,re=0;re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(!ae||ae>=4096)&&(se.start=ne,ie(ae+63>>6)));for(;z.l&511;)z.write_shift(-4,W.ENDOFCHAIN);for(V=0;V<F[4]<<2;++V){var de=O.FullPaths[V];if(!de||de.length===0){for(re=0;re<17;++re)z.write_shift(4,0);for(re=0;re<3;++re)z.write_shift(4,-1);for(re=0;re<12;++re)z.write_shift(4,0);continue}se=O.FileIndex[V],V===0&&(se.start=se.size?se.start-1:N);var ve=V===0&&R.root||se.name;if(ae=2*(ve.length+1),z.write_shift(64,ve,"utf16le"),z.write_shift(2,ae),z.write_shift(1,se.type),z.write_shift(1,se.color),z.write_shift(-4,se.L),z.write_shift(-4,se.R),z.write_shift(-4,se.C),se.clsid)z.write_shift(16,se.clsid,"hex");else for(re=0;re<4;++re)z.write_shift(4,0);z.write_shift(4,se.state||0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,0),z.write_shift(4,se.start),z.write_shift(4,se.size),z.write_shift(4,0)}for(V=1;V<O.FileIndex.length;++V)if(se=O.FileIndex[V],se.size>=4096)if(z.l=se.start+1<<9,We&&Buffer.isBuffer(se.content))se.content.copy(z,z.l,0,se.size),z.l+=se.size+511&-512;else{for(re=0;re<se.size;++re)z.write_shift(1,se.content[re]);for(;re&511;++re)z.write_shift(1,0)}for(V=1;V<O.FileIndex.length;++V)if(se=O.FileIndex[V],se.size>0&&se.size<4096)if(We&&Buffer.isBuffer(se.content))se.content.copy(z,z.l,0,se.size),z.l+=se.size+63&-64;else{for(re=0;re<se.size;++re)z.write_shift(1,se.content[re]);for(;re&63;++re)z.write_shift(1,0)}if(We)z.l=z.length;else for(;z.l<z.length;)z.write_shift(1,0);return z}function P(O,B){var R=O.FullPaths.map(function(re){return re.toUpperCase()}),F=R.map(function(re){var ae=re.split("/");return ae[ae.length-(re.slice(-1)=="/"?2:1)]}),z=!1;B.charCodeAt(0)===47?(z=!0,B=R[0].slice(0,-1)+B):z=B.indexOf("/")!==-1;var V=B.toUpperCase(),ne=z===!0?R.indexOf(V):F.indexOf(V);if(ne!==-1)return O.FileIndex[ne];var ie=!V.match(Td);for(V=V.replace(Fn,""),ie&&(V=V.replace(Td,"!")),ne=0;ne<R.length;++ne)if((ie?R[ne].replace(Td,"!"):R[ne]).replace(Fn,"")==V||(ie?F[ne].replace(Td,"!"):F[ne]).replace(Fn,"")==V)return O.FileIndex[ne];return null}var A=64,N=-2,L="d0cf11e0a1b11ae1",K=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",W={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:L,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(O,B,R){c();var F=j(O,R);l.writeFileSync(B,F)}function I(O){for(var B=new Array(O.length),R=0;R<O.length;++R)B[R]=String.fromCharCode(O[R]);return B.join("")}function J(O,B){var R=j(O,B);switch(B&&B.type||"buffer"){case"file":return c(),l.writeFileSync(B.filename,R),R;case"binary":return typeof R=="string"?R:I(R);case"base64":return rN(typeof R=="string"?R:I(R));case"buffer":if(We)return Buffer.isBuffer(R)?R:Yl(R);case"array":return typeof R=="string"?rs(R):R}return R}var Q;function M(O){try{var B=O.InflateRaw,R=new B;if(R._processChunk(new Uint8Array([3,0]),R._finishFlushFlag),R.bytesRead)Q=O;else throw new Error("zlib does not expose bytesRead")}catch(F){console.error("cannot use native zlib: "+(F.message||F))}}function U(O,B){if(!Q)return $E(O,B);var R=Q.InflateRaw,F=new R,z=F._processChunk(O.slice(O.l),F._finishFlushFlag);return O.l+=F.bytesRead,z}function G(O){return Q?Q.deflateRawSync(O):$e(O)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(O){var B=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(B>>16|B>>8|B)&255}for(var Y=typeof Uint8Array<"u",te=Y?new Uint8Array(256):[],le=0;le<256;++le)te[le]=ce(le);function D(O,B){var R=te[O&255];return B<=8?R>>>8-B:(R=R<<8|te[O>>8&255],B<=16?R>>>16-B:(R=R<<8|te[O>>16&255],R>>>24-B))}function Pe(O,B){var R=B&7,F=B>>>3;return(O[F]|(R<=6?0:O[F+1]<<8))>>>R&3}function he(O,B){var R=B&7,F=B>>>3;return(O[F]|(R<=5?0:O[F+1]<<8))>>>R&7}function ge(O,B){var R=B&7,F=B>>>3;return(O[F]|(R<=4?0:O[F+1]<<8))>>>R&15}function pe(O,B){var R=B&7,F=B>>>3;return(O[F]|(R<=3?0:O[F+1]<<8))>>>R&31}function ue(O,B){var R=B&7,F=B>>>3;return(O[F]|(R<=1?0:O[F+1]<<8))>>>R&127}function ke(O,B,R){var F=B&7,z=B>>>3,V=(1<<R)-1,ne=O[z]>>>F;return R<8-F||(ne|=O[z+1]<<8-F,R<16-F)||(ne|=O[z+2]<<16-F,R<24-F)||(ne|=O[z+3]<<24-F),ne&V}function Ve(O,B,R){var F=B&7,z=B>>>3;return F<=5?O[z]|=(R&7)<<F:(O[z]|=R<<F&255,O[z+1]=(R&7)>>8-F),B+3}function wr(O,B,R){var F=B&7,z=B>>>3;return R=(R&1)<<F,O[z]|=R,B+1}function ln(O,B,R){var F=B&7,z=B>>>3;return R<<=F,O[z]|=R&255,R>>>=8,O[z+1]=R,B+8}function cn(O,B,R){var F=B&7,z=B>>>3;return R<<=F,O[z]|=R&255,R>>>=8,O[z+1]=R&255,O[z+2]=R>>>8,B+16}function zn(O,B){var R=O.length,F=2*R>B?2*R:B+5,z=0;if(R>=B)return O;if(We){var V=nN(F);if(O.copy)O.copy(V);else for(;z<O.length;++z)V[z]=O[z];return V}else if(Y){var ne=new Uint8Array(F);if(ne.set)ne.set(O);else for(;z<R;++z)ne[z]=O[z];return ne}return O.length=F,O}function st(O){for(var B=new Array(O),R=0;R<O;++R)B[R]=0;return B}function ur(O,B,R){var F=1,z=0,V=0,ne=0,ie=0,re=O.length,ae=Y?new Uint16Array(32):st(32);for(V=0;V<32;++V)ae[V]=0;for(V=re;V<R;++V)O[V]=0;re=O.length;var se=Y?new Uint16Array(re):st(re);for(V=0;V<re;++V)ae[z=O[V]]++,F<z&&(F=z),se[V]=0;for(ae[0]=0,V=1;V<=F;++V)ae[V+16]=ie=ie+ae[V-1]<<1;for(V=0;V<re;++V)ie=O[V],ie!=0&&(se[V]=ae[ie+16]++);var de=0;for(V=0;V<re;++V)if(de=O[V],de!=0)for(ie=D(se[V],F)>>F-de,ne=(1<<F+4-de)-1;ne>=0;--ne)B[ie|ne<<de]=de&15|V<<4;return F}var ht=Y?new Uint16Array(512):st(512),dr=Y?new Uint16Array(32):st(32);if(!Y){for(var _t=0;_t<512;++_t)ht[_t]=0;for(_t=0;_t<32;++_t)dr[_t]=0}(function(){for(var O=[],B=0;B<32;B++)O.push(5);ur(O,dr,32);var R=[];for(B=0;B<=143;B++)R.push(8);for(;B<=255;B++)R.push(9);for(;B<=279;B++)R.push(7);for(;B<=287;B++)R.push(8);ur(R,ht,288)})();var Vn=function(){for(var B=Y?new Uint8Array(32768):[],R=0,F=0;R<oe.length-1;++R)for(;F<oe[R+1];++F)B[F]=R;for(;F<32768;++F)B[F]=29;var z=Y?new Uint8Array(259):[];for(R=0,F=0;R<ee.length-1;++R)for(;F<ee[R+1];++F)z[F]=R;function V(ie,re){for(var ae=0;ae<ie.length;){var se=Math.min(65535,ie.length-ae),de=ae+se==ie.length;for(re.write_shift(1,+de),re.write_shift(2,se),re.write_shift(2,~se&65535);se-- >0;)re[re.l++]=ie[ae++]}return re.l}function ne(ie,re){for(var ae=0,se=0,de=Y?new Uint16Array(32768):[];se<ie.length;){var ve=Math.min(65535,ie.length-se);if(ve<10){for(ae=Ve(re,ae,+(se+ve==ie.length)),ae&7&&(ae+=8-(ae&7)),re.l=ae/8|0,re.write_shift(2,ve),re.write_shift(2,~ve&65535);ve-- >0;)re[re.l++]=ie[se++];ae=re.l*8;continue}ae=Ve(re,ae,+(se+ve==ie.length)+2);for(var Se=0;ve-- >0;){var me=ie[se];Se=(Se<<5^me)&32767;var xe=-1,Fe=0;if((xe=de[Se])&&(xe|=se&-32768,xe>se&&(xe-=32768),xe<se))for(;ie[xe+Fe]==ie[se+Fe]&&Fe<250;)++Fe;if(Fe>2){me=z[Fe],me<=22?ae=ln(re,ae,te[me+1]>>1)-1:(ln(re,ae,3),ae+=5,ln(re,ae,te[me-23]>>5),ae+=3);var $t=me<8?0:me-4>>2;$t>0&&(cn(re,ae,Fe-ee[me]),ae+=$t),me=B[se-xe],ae=ln(re,ae,te[me]>>3),ae-=3;var Ut=me<4?0:me-2>>1;Ut>0&&(cn(re,ae,se-xe-oe[me]),ae+=Ut);for(var un=0;un<Fe;++un)de[Se]=se&32767,Se=(Se<<5^ie[se])&32767,++se;ve-=Fe-1}else me<=143?me=me+48:ae=wr(re,ae,1),ae=ln(re,ae,te[me]),de[Se]=se&32767,++se}ae=ln(re,ae,0)-1}return re.l=(ae+7)/8|0,re.l}return function(re,ae){return re.length<8?V(re,ae):ne(re,ae)}}();function $e(O){var B=Sr(50+Math.floor(O.length*1.1)),R=Vn(O,B);return B.slice(0,R)}var dt=Y?new Uint16Array(32768):st(32768),Bt=Y?new Uint16Array(32768):st(32768),kt=Y?new Uint16Array(128):st(128),hs=1,BE=1;function W$(O,B){var R=pe(O,B)+257;B+=5;var F=pe(O,B)+1;B+=5;var z=ge(O,B)+4;B+=4;for(var V=0,ne=Y?new Uint8Array(19):st(19),ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ae=Y?new Uint8Array(8):st(8),se=Y?new Uint8Array(8):st(8),de=ne.length,ve=0;ve<z;++ve)ne[H[ve]]=V=he(O,B),re<V&&(re=V),ae[V]++,B+=3;var Se=0;for(ae[0]=0,ve=1;ve<=re;++ve)se[ve]=Se=Se+ae[ve-1]<<1;for(ve=0;ve<de;++ve)(Se=ne[ve])!=0&&(ie[ve]=se[Se]++);var me=0;for(ve=0;ve<de;++ve)if(me=ne[ve],me!=0){Se=te[ie[ve]]>>8-me;for(var xe=(1<<7-me)-1;xe>=0;--xe)kt[Se|xe<<me]=me&7|ve<<3}var Fe=[];for(re=1;Fe.length<R+F;)switch(Se=kt[ue(O,B)],B+=Se&7,Se>>>=3){case 16:for(V=3+Pe(O,B),B+=2,Se=Fe[Fe.length-1];V-- >0;)Fe.push(Se);break;case 17:for(V=3+he(O,B),B+=3;V-- >0;)Fe.push(0);break;case 18:for(V=11+ue(O,B),B+=7;V-- >0;)Fe.push(0);break;default:Fe.push(Se),re<Se&&(re=Se);break}var $t=Fe.slice(0,R),Ut=Fe.slice(R);for(ve=R;ve<286;++ve)$t[ve]=0;for(ve=F;ve<30;++ve)Ut[ve]=0;return hs=ur($t,dt,286),BE=ur(Ut,Bt,30),B}function H$(O,B){if(O[0]==3&&!(O[1]&3))return[Eo(B),2];for(var R=0,F=0,z=nN(B||1<<18),V=0,ne=z.length>>>0,ie=0,re=0;!(F&1);){if(F=he(O,R),R+=3,F>>>1)F>>1==1?(ie=9,re=5):(R=W$(O,R),ie=hs,re=BE);else{R&7&&(R+=8-(R&7));var ae=O[R>>>3]|O[(R>>>3)+1]<<8;if(R+=32,ae>0)for(!B&&ne<V+ae&&(z=zn(z,V+ae),ne=z.length);ae-- >0;)z[V++]=O[R>>>3],R+=8;continue}for(;;){!B&&ne<V+32767&&(z=zn(z,V+32767),ne=z.length);var se=ke(O,R,ie),de=F>>>1==1?ht[se]:dt[se];if(R+=de&15,de>>>=4,!(de>>>8&255))z[V++]=de;else{if(de==256)break;de-=257;var ve=de<8?0:de-4>>2;ve>5&&(ve=0);var Se=V+ee[de];ve>0&&(Se+=ke(O,R,ve),R+=ve),se=ke(O,R,re),de=F>>>1==1?dr[se]:Bt[se],R+=de&15,de>>>=4;var me=de<4?0:de-2>>1,xe=oe[de];for(me>0&&(xe+=ke(O,R,me),R+=me),!B&&ne<Se&&(z=zn(z,Se+100),ne=z.length);V<Se;)z[V]=z[V-xe],++V}}}return B?[z,R+7>>>3]:[z.slice(0,V),R+7>>>3]}function $E(O,B){var R=O.slice(O.l||0),F=H$(R,B);return O.l+=F[1],F[0]}function UE(O,B){if(O)typeof console<"u"&&console.error(B);else throw new Error(B)}function zE(O,B){var R=O;Zr(R,0);var F=[],z=[],V={FileIndex:F,FullPaths:z};S(V,{root:B.root});for(var ne=R.length-4;(R[ne]!=80||R[ne+1]!=75||R[ne+2]!=5||R[ne+3]!=6)&&ne>=0;)--ne;R.l=ne+4,R.l+=4;var ie=R.read_shift(2);R.l+=6;var re=R.read_shift(4);for(R.l=re,ne=0;ne<ie;++ne){R.l+=20;var ae=R.read_shift(4),se=R.read_shift(4),de=R.read_shift(2),ve=R.read_shift(2),Se=R.read_shift(2);R.l+=8;var me=R.read_shift(4),xe=o(R.slice(R.l+de,R.l+de+ve));R.l+=de+ve+Se;var Fe=R.l;R.l=me+4,K$(R,ae,se,V,xe),R.l=Fe}return V}function K$(O,B,R,F,z){O.l+=2;var V=O.read_shift(2),ne=O.read_shift(2),ie=i(O);if(V&8257)throw new Error("Unsupported ZIP encryption");for(var re=O.read_shift(4),ae=O.read_shift(4),se=O.read_shift(4),de=O.read_shift(2),ve=O.read_shift(2),Se="",me=0;me<de;++me)Se+=String.fromCharCode(O[O.l++]);if(ve){var xe=o(O.slice(O.l,O.l+ve));(xe[21589]||{}).mt&&(ie=xe[21589].mt),((z||{})[21589]||{}).mt&&(ie=z[21589].mt)}O.l+=ve;var Fe=O.slice(O.l,O.l+ae);switch(ne){case 8:Fe=U(O,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ne)}var $t=!1;V&8&&(re=O.read_shift(4),re==134695760&&(re=O.read_shift(4),$t=!0),ae=O.read_shift(4),se=O.read_shift(4)),ae!=B&&UE($t,"Bad compressed size: "+B+" != "+ae),se!=R&&UE($t,"Bad uncompressed size: "+R+" != "+se),Ix(F,Se,Fe,{unsafe:!0,mt:ie})}function G$(O,B){var R=B||{},F=[],z=[],V=Sr(1),ne=R.compression?8:0,ie=0,re=0,ae=0,se=0,de=0,ve=O.FullPaths[0],Se=ve,me=O.FileIndex[0],xe=[],Fe=0;for(re=1;re<O.FullPaths.length;++re)if(Se=O.FullPaths[re].slice(ve.length),me=O.FileIndex[re],!(!me.size||!me.content||Se=="Sh33tJ5")){var $t=se,Ut=Sr(Se.length);for(ae=0;ae<Se.length;++ae)Ut.write_shift(1,Se.charCodeAt(ae)&127);Ut=Ut.slice(0,Ut.l),xe[de]=Ame.buf(me.content,0);var un=me.content;ne==8&&(un=G(un)),V=Sr(30),V.write_shift(4,67324752),V.write_shift(2,20),V.write_shift(2,ie),V.write_shift(2,ne),me.mt?s(V,me.mt):V.write_shift(4,0),V.write_shift(-4,xe[de]),V.write_shift(4,un.length),V.write_shift(4,me.content.length),V.write_shift(2,Ut.length),V.write_shift(2,0),se+=V.length,F.push(V),se+=Ut.length,F.push(Ut),se+=un.length,F.push(un),V=Sr(46),V.write_shift(4,33639248),V.write_shift(2,0),V.write_shift(2,20),V.write_shift(2,ie),V.write_shift(2,ne),V.write_shift(4,0),V.write_shift(-4,xe[de]),V.write_shift(4,un.length),V.write_shift(4,me.content.length),V.write_shift(2,Ut.length),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(4,0),V.write_shift(4,$t),Fe+=V.l,z.push(V),Fe+=Ut.length,z.push(Ut),++de}return V=Sr(22),V.write_shift(4,101010256),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(2,de),V.write_shift(2,de),V.write_shift(4,Fe),V.write_shift(4,se),V.write_shift(2,0),Zi([Zi(F),Zi(z),V])}var _h={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function q$(O,B){if(O.ctype)return O.ctype;var R=O.name||"",F=R.match(/\.([^\.]+)$/);return F&&_h[F[1]]||B&&(F=(R=B).match(/[\.\\]([^\.\\])+$/),F&&_h[F[1]])?_h[F[1]]:"application/octet-stream"}function Y$(O){for(var B=rN(O),R=[],F=0;F<B.length;F+=76)R.push(B.slice(F,F+76));return R.join(`\r
`)+`\r
`}function X$(O){var B=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ae){var se=ae.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});B=B.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),B.charAt(0)==`
`&&(B="=0D"+B.slice(1)),B=B.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var R=[],F=B.split(`\r
`),z=0;z<F.length;++z){var V=F[z];if(V.length==0){R.push("");continue}for(var ne=0;ne<V.length;){var ie=76,re=V.slice(ne,ne+ie);re.charAt(ie-1)=="="?ie--:re.charAt(ie-2)=="="?ie-=2:re.charAt(ie-3)=="="&&(ie-=3),re=V.slice(ne,ne+ie),ne+=ie,ne<V.length&&(re+="="),R.push(re)}}return R.join(`\r
`)}function J$(O){for(var B=[],R=0;R<O.length;++R){for(var F=O[R];R<=O.length&&F.charAt(F.length-1)=="=";)F=F.slice(0,F.length-1)+O[++R];B.push(F)}for(var z=0;z<B.length;++z)B[z]=B[z].replace(/[=][0-9A-Fa-f]{2}/g,function(V){return String.fromCharCode(parseInt(V.slice(1),16))});return rs(B.join(`\r
`))}function Q$(O,B,R){for(var F="",z="",V="",ne,ie=0;ie<10;++ie){var re=B[ie];if(!re||re.match(/^\s*$/))break;var ae=re.match(/^(.*?):\s*([^\s].*)$/);if(ae)switch(ae[1].toLowerCase()){case"content-location":F=ae[2].trim();break;case"content-type":V=ae[2].trim();break;case"content-transfer-encoding":z=ae[2].trim();break}}switch(++ie,z.toLowerCase()){case"base64":ne=rs(pa(B.slice(ie).join("")));break;case"quoted-printable":ne=J$(B.slice(ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+z)}var se=Ix(O,F.slice(R.length),ne,{unsafe:!0});V&&(se.ctype=V)}function Z$(O,B){if(I(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var R=B&&B.root||"",F=(We&&Buffer.isBuffer(O)?O.toString("binary"):I(O)).split(`\r
`),z=0,V="";for(z=0;z<F.length;++z)if(V=F[z],!!/^Content-Location:/i.test(V)&&(V=V.slice(V.indexOf("file")),R||(R=V.slice(0,V.lastIndexOf("/")+1)),V.slice(0,R.length)!=R))for(;R.length>0&&(R=R.slice(0,R.length-1),R=R.slice(0,R.lastIndexOf("/")+1),V.slice(0,R.length)!=R););var ne=(F[1]||"").match(/boundary="(.*?)"/);if(!ne)throw new Error("MAD cannot find boundary");var ie="--"+(ne[1]||""),re=[],ae=[],se={FileIndex:re,FullPaths:ae};S(se);var de,ve=0;for(z=0;z<F.length;++z){var Se=F[z];Se!==ie&&Se!==ie+"--"||(ve++&&Q$(se,F.slice(de,z),R),de=z)}return se}function e9(O,B){var R=B||{},F=R.boundary||"SheetJS";F="------="+F;for(var z=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+F.slice(2)+'"',"","",""],V=O.FullPaths[0],ne=V,ie=O.FileIndex[0],re=1;re<O.FullPaths.length;++re)if(ne=O.FullPaths[re].slice(V.length),ie=O.FileIndex[re],!(!ie.size||!ie.content||ne=="Sh33tJ5")){ne=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Fe){return"_x"+Fe.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Fe){return"_u"+Fe.charCodeAt(0).toString(16)+"_"});for(var ae=ie.content,se=We&&Buffer.isBuffer(ae)?ae.toString("binary"):I(ae),de=0,ve=Math.min(1024,se.length),Se=0,me=0;me<=ve;++me)(Se=se.charCodeAt(me))>=32&&Se<128&&++de;var xe=de>=ve*4/5;z.push(F),z.push("Content-Location: "+(R.root||"file:///C:/SheetJS/")+ne),z.push("Content-Transfer-Encoding: "+(xe?"quoted-printable":"base64")),z.push("Content-Type: "+q$(ie,ne)),z.push(""),z.push(xe?X$(se):Y$(se))}return z.push(F+`--\r
`),z.join(`\r
`)}function t9(O){var B={};return S(B,O),B}function Ix(O,B,R,F){var z=F&&F.unsafe;z||S(O);var V=!z&&Ye.find(O,B);if(!V){var ne=O.FullPaths[0];B.slice(0,ne.length)==ne?ne=B:(ne.slice(-1)!="/"&&(ne+="/"),ne=(ne+B).replace("//","/")),V={name:a(B),type:2},O.FileIndex.push(V),O.FullPaths.push(ne),z||Ye.utils.cfb_gc(O)}return V.content=R,V.size=R?R.length:0,F&&(F.CLSID&&(V.clsid=F.CLSID),F.mt&&(V.mt=F.mt),F.ct&&(V.ct=F.ct)),V}function r9(O,B){S(O);var R=Ye.find(O,B);if(R){for(var F=0;F<O.FileIndex.length;++F)if(O.FileIndex[F]==R)return O.FileIndex.splice(F,1),O.FullPaths.splice(F,1),!0}return!1}function n9(O,B,R){S(O);var F=Ye.find(O,B);if(F){for(var z=0;z<O.FileIndex.length;++z)if(O.FileIndex[z]==F)return O.FileIndex[z].name=a(R),O.FullPaths[z]=R,!0}return!1}function a9(O){T(O,!0)}return t.find=P,t.read=_,t.parse=u,t.write=J,t.writeFile=q,t.utils={cfb_new:t9,cfb_add:Ix,cfb_del:r9,cfb_mov:n9,cfb_gc:a9,ReadShift:Hd,CheckField:iL,prep_blob:Zr,bconcat:Zi,use_zlib:M,_deflateRaw:$e,_inflateRaw:$E,consts:W},t}();function jme(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Fs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function LS(e){for(var t=[],r=Fs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var Tv=new Date(1899,11,30,0,0,0);function Bn(e,t){var r=e.getTime(),n=Tv.getTime()+(e.getTimezoneOffset()-Tv.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var B6=new Date,Pme=Tv.getTime()+(B6.getTimezoneOffset()-Tv.getTimezoneOffset())*6e4,dN=B6.getTimezoneOffset();function kx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Pme),t.getTimezoneOffset()!==dN&&t.setTime(t.getTime()+(t.getTimezoneOffset()-dN)*6e4),t}function Nme(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var fN=new Date("2017-02-19T19:06:09.000Z"),$6=isNaN(fN.getFullYear())?new Date("2/19/17"):fN,Ome=$6.getFullYear()==2017;function Wr(e,t){var r=new Date(e);if(Ome)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if($6.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Fl(e,t){if(We&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return jd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return jd(E6(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return jd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return jd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function rn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=rn(e[r]));return t}function Zt(e,t){for(var r="";r.length<t;)r+=e;return r}function cs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Dme=["january","february","march","april","may","june","july","august","september","october","november","december"];function ku(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Dme.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Mme=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function U6(e){return e?e.content&&e.type?Fl(e.content,!0):e.data?Cd(e.data):e.asNodeBuffer&&We?Cd(e.asNodeBuffer().toString("binary")):e.asBinary?Cd(e.asBinary()):e._data&&e._data.getContent?Cd(Fl(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function z6(e){if(!e)return null;if(e.data)return eN(e.data);if(e.asNodeBuffer&&We)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?eN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Ime(e){return e&&e.name.slice(-4)===".bin"?z6(e):U6(e)}function Ca(e,t){for(var r=e.FullPaths||Fs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function BS(e,t){var r=Ca(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function hr(e,t,r){if(!r)return Ime(BS(e,t));if(!t)return null;try{return hr(e,t)}catch{return null}}function ia(e,t,r){if(!r)return U6(BS(e,t));if(!t)return null;try{return ia(e,t)}catch{return null}}function Rme(e,t,r){return z6(BS(e,t))}function hN(e){for(var t=e.FullPaths||Fs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Fme(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return We?n=Yl(r):n=tme(r),Ye.utils.cfb_add(e,t,n)}Ye.utils.cfb_add(e,t,r)}else e.file(t,r)}function V6(e,t){switch(t.type){case"base64":return Ye.read(e,{type:"base64"});case"binary":return Ye.read(e,{type:"binary"});case"buffer":case"array":return Ye.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Ad(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var W6=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Lme=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,pN=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Bme=/<[^>]*>/g,Tn=W6.match(pN)?pN:Bme,$me=/<\w*:/,Ume=/<(\/?)\w+:/;function Me(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(Lme),o=0,l="",c=0,u="",f="",h=1;if(i)for(c=0;c!=i.length;++c){for(f=i[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function Hs(e){return e.replace(Ume,"<$1")}var H6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zme=LS(H6),Qe=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return H6[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),Vme=/[&<>'"]/g,Wme=/[\u0000-\u001f]/g;function $S(e){var t=e+"";return t.replace(Vme,function(r){return zme[r]}).replace(/\n/g,"<br/>").replace(Wme,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var mN=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Dt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Yy(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function vN(e){var t=Eo(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function gN(e){return Yl(e,"binary").toString("utf8")}var pp="foo bar baz",wt=We&&(gN(pp)==Yy(pp)&&gN||vN(pp)==Yy(pp)&&vN)||Yy,jd=We?function(e){return Yl(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},t0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),K6=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Hme=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Kme=/<\/?(?:vt:)?variant>/g,Gme=/<(?:vt:)([^>]*)>([\s\S]*)</;function xN(e,t){var r=Me(e),n=e.match(Hme(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Kme,"").match(Gme);i&&a.push({v:wt(i[2]),t:i[1]})}),a}var qme=/(^\s|\s$|\n)/;function Yme(e){return Fs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Xme(e,t,r){return"<"+e+(r!=null?Yme(r):"")+(t!=null?(t.match(qme)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function US(e){if(We&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return wt(Xl(IS(e)));throw new Error("Bad input format: expected Buffer or string")}var r0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Jme={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Qme=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Zme(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function eve(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var yN=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},bN=We?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:Yl(t)})):yN(e)}:yN,wN=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(si(e,a)));return n.join("").replace(Fn,"")},zS=We?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Fn,""):wN(e,t,r)}:wN,_N=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},G6=We?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):_N(e,t,r)}:_N,kN=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(bc(e,a)));return n.join("")},fh=We?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):kN(t,r,n)}:kN,q6=function(e,t){var r=aa(e,t);return r>0?fh(e,t+4,t+4+r-1):""},Y6=q6,X6=function(e,t){var r=aa(e,t);return r>0?fh(e,t+4,t+4+r-1):""},J6=X6,Q6=function(e,t){var r=2*aa(e,t);return r>0?fh(e,t+4,t+4+r-1):""},Z6=Q6,eL=function(t,r){var n=aa(t,r);return n>0?zS(t,r+4,r+4+n):""},tL=eL,rL=function(e,t){var r=aa(e,t);return r>0?fh(e,t+4,t+4+r):""},nL=rL,aL=function(e,t){return Zme(e,t)},Av=aL,sL=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};We&&(Y6=function(t,r){if(!Buffer.isBuffer(t))return q6(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},J6=function(t,r){if(!Buffer.isBuffer(t))return X6(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},Z6=function(t,r){if(!Buffer.isBuffer(t))return Q6(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},tL=function(t,r){if(!Buffer.isBuffer(t))return eL(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},nL=function(t,r){if(!Buffer.isBuffer(t))return rL(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Av=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):aL(t,r)},sL=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var bc=function(e,t){return e[t]},si=function(e,t){return e[t+1]*256+e[t]},tve=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},aa=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},tl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},rve=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Hd(e,t){var r="",n,a,s=[],i,o,l,c;switch(t){case"dbcs":if(c=this.l,We&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(si(this,c)),c+=2;e*=2;break;case"utf8":r=fh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=zS(this,this.l,this.l+e);break;case"wstr":return Hd.call(this,e,"dbcs");case"lpstr-ansi":r=Y6(this,this.l),e=4+aa(this,this.l);break;case"lpstr-cp":r=J6(this,this.l),e=4+aa(this,this.l);break;case"lpwstr":r=Z6(this,this.l),e=4+2*aa(this,this.l);break;case"lpp4":e=4+aa(this,this.l),r=tL(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+aa(this,this.l),r=nL(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=bc(this,this.l+e++))!==0;)s.push(hp(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=si(this,this.l+e))!==0;)s.push(hp(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=bc(this,c),this.l=c+1,o=Hd.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(hp(si(this,c))),c+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=bc(this,c),this.l=c+1,o=Hd.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(hp(bc(this,c))),c+=1}r=s.join("");break;default:switch(e){case 1:return n=bc(this,this.l),this.l++,n;case 2:return n=(t==="i"?tve:si)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?tl:rve)(this,this.l),this.l+=4,n):(a=aa(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Av(this,this.l):a=Av([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=G6(this,this.l,e);break}}return this.l+=e,r}var nve=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ave=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},sve=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ive(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)sve(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,nve(this,t,this.l);break;case 8:if(n=8,r==="f"){eve(this,t,this.l);break}case 16:break;case-4:n=4,ave(this,t,this.l);break}return this.l+=n,this}function iL(e,t){var r=G6(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Zr(e,t){e.l=t,e.read_shift=Hd,e.chk=iL,e.write_shift=ive}function Cn(e,t){e.l+=t}function Sr(e){var t=Eo(e);return Zr(t,0),t}function Li(e,t,r){if(e){var n,a,s;Zr(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=Mv[o]||Mv[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var u=c.f&&c.f(e,s,r);if(e.l=l,t(u,c,o))return}}}function Iw(){var e=[],t=We?256:2048,r=function(c){var u=Sr(c);return Zr(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},i=function(){return a(),Zi(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function Kd(e,t,r){var n=rn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function SN(e,t,r){var n=rn(e);return n.s=Kd(n.s,t.s,r),n.e=Kd(n.e,t.s,r),n}function Gd(e,t){if(e.cRel&&e.c<0)for(e=rn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=rn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Re(e);return!e.cRel&&e.cRel!=null&&(r=cve(r)),!e.rRel&&e.rRel!=null&&(r=ove(r)),r}function Xy(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+jr(e.s.c)+":"+(e.e.cRel?"":"$")+jr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+nn(e.s.r)+":"+(e.e.rRel?"":"$")+nn(e.e.r):Gd(e.s,t.biff)+":"+Gd(e.e,t.biff)}function VS(e){return parseInt(lve(e),10)-1}function nn(e){return""+(e+1)}function ove(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function lve(e){return e.replace(/\$(\d+)$/,"$1")}function WS(e){for(var t=uve(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function jr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function cve(e){return e.replace(/^([A-Z])/,"$$$1")}function uve(e){return e.replace(/^\$([A-Z])/,"$1")}function dve(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Dn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Re(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Wu(e){var t=e.indexOf(":");return t==-1?{s:Dn(e),e:Dn(e)}:{s:Dn(e.slice(0,t)),e:Dn(e.slice(t+1))}}function Xe(e,t){return typeof t>"u"||typeof t=="number"?Xe(e.s,e.e):(typeof e!="string"&&(e=Re(e)),typeof t!="string"&&(t=Re(t)),e==t?e:e+":"+t)}function tr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function EN(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=ma(e.z,r?Bn(t):t)}catch{}try{return e.w=ma((e.XF||{}).numFmtId||(r?14:0),r?Bn(t):t)}catch{return""+t}}function Pi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ec[e.v]||e.v:t==null?EN(e,e.v):EN(e,t))}function Lo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function oL(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Dn(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=tr(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),i==-1&&(c.e.r=i=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=i+f,v=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Ie[14],n.cellDates?(p.t="d",p.w=ma(p.z,Bn(p.v))):(p.t="n",p.v=Bn(p.v),p.w=ma(p.z,p.v))):p.t="s";if(a)s[m]||(s[m]=[]),s[m][v]&&s[m][v].z&&(p.z=s[m][v].z),s[m][v]=p;else{var g=Re({c:v,r:m});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return c.s.c<1e7&&(s["!ref"]=Xe(c)),s}function Hu(e,t){return oL(null,e,t)}function fve(e){return e.read_shift(4,"i")}function Sn(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function hve(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function HS(e,t){var r=e.l,n=e.read_shift(1),a=Sn(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(hve(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var pve=HS;function za(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function Ql(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var mve=Sn;function KS(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var vve=Sn,Rw=KS;function GS(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Av([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):tl(t,0)>>2;return r?a/100:a}function lL(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var Zl=lL;function xn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function gve(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=yl[a];c&&(t.rgb=a0(c));break;case 2:t.rgb=a0([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function xve(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function cL(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function yve(e){return cL(e,1)}function bve(e){return cL(e,2)}var qS=2,Hn=3,mp=11,CN=12,jv=19,vp=64,wve=65,_ve=71,kve=4108,Sve=4126,Lr=80,uL=81,Eve=[Lr,uL],Cve={1:{n:"CodePage",t:qS},2:{n:"Category",t:Lr},3:{n:"PresentationFormat",t:Lr},4:{n:"ByteCount",t:Hn},5:{n:"LineCount",t:Hn},6:{n:"ParagraphCount",t:Hn},7:{n:"SlideCount",t:Hn},8:{n:"NoteCount",t:Hn},9:{n:"HiddenCount",t:Hn},10:{n:"MultimediaClipCount",t:Hn},11:{n:"ScaleCrop",t:mp},12:{n:"HeadingPairs",t:kve},13:{n:"TitlesOfParts",t:Sve},14:{n:"Manager",t:Lr},15:{n:"Company",t:Lr},16:{n:"LinksUpToDate",t:mp},17:{n:"CharacterCount",t:Hn},19:{n:"SharedDoc",t:mp},22:{n:"HyperlinksChanged",t:mp},23:{n:"AppVersion",t:Hn,p:"version"},24:{n:"DigSig",t:wve},26:{n:"ContentType",t:Lr},27:{n:"ContentStatus",t:Lr},28:{n:"Language",t:Lr},29:{n:"Version",t:Lr},255:{},2147483648:{n:"Locale",t:jv},2147483651:{n:"Behavior",t:jv},1919054434:{}},Tve={1:{n:"CodePage",t:qS},2:{n:"Title",t:Lr},3:{n:"Subject",t:Lr},4:{n:"Author",t:Lr},5:{n:"Keywords",t:Lr},6:{n:"Comments",t:Lr},7:{n:"Template",t:Lr},8:{n:"LastAuthor",t:Lr},9:{n:"RevNumber",t:Lr},10:{n:"EditTime",t:vp},11:{n:"LastPrinted",t:vp},12:{n:"CreatedDate",t:vp},13:{n:"ModifiedDate",t:vp},14:{n:"PageCount",t:Hn},15:{n:"WordCount",t:Hn},16:{n:"CharCount",t:Hn},17:{n:"Thumbnail",t:_ve},18:{n:"Application",t:Lr},19:{n:"DocSecurity",t:Hn},255:{},2147483648:{n:"Locale",t:jv},2147483651:{n:"Behavior",t:jv},1919054434:{}},TN={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Ave=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function jve(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Pve=jve([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),yl=rn(Pve),ec={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},dL={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},AN={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Nve(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Ove(e){var t=Nve();if(!e||!e.match)return t;var r={};if((e.match(Tn)||[]).forEach(function(n){var a=Me(n);switch(a[0].replace($me,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[AN[a.ContentType]]!==void 0&&t[AN[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Jme.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Lc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Fw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function qd(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Tn)||[]).forEach(function(a){var s=Me(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Ad(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var Dve="application/vnd.oasis.opendocument.spreadsheet";function Mve(e,t){for(var r=US(e),n,a;n=r0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Me(n[0],!1),a.path=="/"&&a.type!==Dve)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Yd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Ive=function(){for(var e=new Array(Yd.length),t=0;t<Yd.length;++t){var r=Yd[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function fL(e){var t={};e=wt(e);for(var r=0;r<Yd.length;++r){var n=Yd[r],a=e.match(Ive[r]);a!=null&&a.length>0&&(t[n[1]]=Qe(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Wr(t[n[1]]))}return t}var Rve=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function hL(e,t,r,n){var a=[];if(typeof e=="string")a=xN(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(u){return{v:u}}));var i=typeof t=="string"?xN(t,n).map(function(u){return u.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function Fve(e,t,r){var n={};return t||(t={}),e=wt(e),Rve.forEach(function(a){var s=(e.match(t0(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Qe(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&hL(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Lve=/<[^>]+>[^<]*/g;function Bve(e,t){var r={},n="",a=e.match(Lve);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Me(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qe(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Qe(u);break;case"bool":r[n]=Dt(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Wr(u);break;case"cy":case"error":r[n]=Qe(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var $ve={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},Jy;function Uve(e,t,r){Jy||(Jy=LS($ve)),t=Jy[t]||t,e[t]=r}function YS(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function pL(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function mL(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function vL(e,t,r){return t===31?mL(e):pL(e,t,r)}function Lw(e,t,r){return vL(e,t,r===!1?0:4)}function zve(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return vL(e,t,0)}function Vve(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Fn,""),e.l-a&2&&(e.l+=2)}return r}function Wve(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Fn,"");return r}function Hve(e){var t=e.l,r=Pv(e,uL);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=Pv(e,Hn);return[r,n]}function Kve(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Hve(e));return r}function jN(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Fn,"").replace(Td,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function gL(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Gve(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function Pv(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==CN&&n!==t&&Eve.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===CN?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return pL(e,n,4).replace(Fn,"");case 31:return mL(e);case 64:return YS(e);case 65:return gL(e);case 71:return Gve(e);case 80:return Lw(e,n,!s.raw).replace(Fn,"");case 81:return zve(e,n).replace(Fn,"");case 4108:return Kve(e);case 4126:case 4127:return n==4127?Vve(e):Wve(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function PN(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var u=e.read_shift(4),f=e.read_shift(4);s[i]=[u,f+r]}s.sort(function(b,y){return b[1]-y[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[s[i][0]];if(h[m.n]=Pv(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:as(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(s[i][0]===1){if(o=h.CodePage=Pv(e,qS),as(o),l!==-1){var v=e.l;e.l=s[l][1],c=jN(e,o),e.l=v}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}c=jN(e,o)}else{var g=c[s[i][0]],x;switch(e[e.l]){case 65:e.l+=4,x=gL(e);break;case 30:e.l+=4,x=Lw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=Lw(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=rr(e,4);break;case 64:e.l+=4,x=Wr(YS(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=x}}return e.l=r+n,h}function NN(e,t,r){var n=e.content;if(!n)return{};Zr(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ye.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=PN(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=PN(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[s,i],h}function Ui(e,t){return e.read_shift(t),null}function qve(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function rr(e,t){return e.read_shift(t)===1}function pr(e){return e.read_shift(2,"u")}function xL(e,t){return qve(e,t,pr)}function Yve(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function hh(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Xve(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Ll(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function ph(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Ll(e,n,r)}function tc(e,t,r){if(r.biff>5)return ph(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Jve(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Qve(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Fn,"");return n&&(e.l+=24),a}function Zve(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Fn,"");return r+i}function ege(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Qve(e);case"0303000000000000c000000000000046":return Zve(e);default:throw new Error("Unsupported Moniker "+r)}}function gp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Fn,""):"";return r}function tge(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c="",u,f;a&16&&(s=gp(e,r-e.l)),a&128&&(i=gp(e,r-e.l)),(a&257)===257&&(o=gp(e,r-e.l)),(a&257)===1&&(l=ege(e,r-e.l)),a&8&&(c=gp(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=YS(e)),e.l=r;var h=i||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function yL(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function bL(e,t){var r=yL(e);return r[3]=0,r}function Ks(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function rge(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function nge(e,t,r){return t===0?"":tc(e,t,r)}function age(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function wL(e){var t=e.read_shift(2),r=GS(e);return[t,r]}function sge(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=hh(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Sx(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function _L(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ige=_L;function kL(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function oge(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function lge(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function hn(e){e.l+=2,e.l+=e.read_shift(2)}var cge={0:hn,4:hn,5:hn,6:hn,7:lge,8:hn,9:hn,10:hn,11:hn,12:hn,13:oge,14:hn,15:hn,16:hn,17:hn,18:hn,19:hn,20:hn,21:kL};function uge(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(cge[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function xp(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function dge(e,t){return t===0||e.read_shift(2),1200}function fge(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=tc(e,0,r);return e.read_shift(t+n-e.l),a}function hge(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function pge(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=hh(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function mge(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Xve(e));return s.Count=n,s.Unique=a,s}function vge(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function gge(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function xge(e){var t=rge(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function yge(e){return e.read_shift(2),e.read_shift(4)}function ON(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function bge(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:c}}function wge(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function _ge(){}function kge(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=hh(e,0,r),n}function Sge(e){var t=Ks(e);return t.isst=e.read_shift(4),t}function Ege(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ks(e);r.biff==2&&e.l++;var s=ph(e,n-e.l,r);return a.val=s,a}function Cge(e,t,r){var n=e.read_shift(2),a=tc(e,0,r);return[n,a]}var Tge=tc;function DN(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function Age(e){var t=e.read_shift(2),r=e.read_shift(2),n=wL(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function jge(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(wL(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function Pge(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Nge(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Ave[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Oge(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Nge(e,t,n.fStyle,r),n}function Dge(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function MN(e,t,r){var n=Ks(e);(r.biff==2||t==9)&&++e.l;var a=Yve(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Mge(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ks(e),a=xn(e);return n.val=a,n}var IN=nge;function Ige(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=Ll(e,s),o=[];n>e.l;)o.push(ph(e));return[s,a,i,o]}function RN(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=sge(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Rge=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function FN(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Ll(e,i,r);a&32&&(c=Rge[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:gbe(e,u,r,o);return{chKey:s,Name:c,itab:l,rgce:f}}function SL(e,t,r){if(r.biff<8)return Fge(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(age(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Fge(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=hh(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Lge(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=Ll(e,n,r),i=Ll(e,a,r);return[s,i]}function Bge(e,t,r){var n=_L(e);e.l++;var a=e.read_shift(1);return t-=8,[xbe(e,t,r),a,n]}function LN(e,t,r){var n=ige(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,mbe(e,t,r)]}function $ge(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Uge(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=tc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function zge(e,t,r){return Uge(e,t,r)}function Vge(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Sx(e));return r}function Wge(e,t,r){if(r&&r.biff<8)return Kge(e,t,r);var n=kL(e),a=uge(e,t-22,n[1]);return{cmo:n,ft:a}}var Hge={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Kge(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((Hge[n]||Cn)(e,t,r)),{cmo:[a,n,s],ft:i}}function Gge(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Jve(e,6,r);var o=e.read_shift(2);e.read_shift(2),pr(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Ll(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function qge(e,t){var r=Sx(e);e.l+=16;var n=tge(e,t-24);return[r,n]}function Yge(e,t){e.read_shift(2);var r=Sx(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Fn,""),[r,n]}function Xge(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=TN[r]||r,r=e.read_shift(2),t[1]=TN[r]||r,t}function Jge(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(bL(e));return r}function Qge(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(bL(e));return r}function Zge(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function EL(e,t,r){if(!r.cellStyles)return Cn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function exe(e,t){var r={};return t<32||(e.l+=16,r.header=xn(e),r.footer=xn(e),e.l+=2),r}function txe(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var rxe=Ks,nxe=xL,axe=ph;function sxe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function ixe(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ks(e);++e.l;var a=tc(e,t-7,r);return n.t="str",n.val=a,n}function oxe(e){var t=Ks(e);++e.l;var r=xn(e);return t.t="n",t.val=r,t}function lxe(e){var t=Ks(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function cxe(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function uxe(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function dxe(e,t,r){var n=e.l+t,a=Ks(e),s=e.read_shift(2),i=Ll(e,s,r);return e.l=n,a.t="str",a.val=i,a}var fxe=[2,3,48,49,131,139,140,245],BN=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=LS({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Eo(1);switch(l.type){case"base64":u=rs(pa(o));break;case"binary":u=rs(o);break;case"buffer":case"array":u=o;break}Zr(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=u.read_shift(2));var x=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var y=[],k={},E=Math.min(u.length,f==2?521:g-10-(p?264:0)),_=m?32:11;u.l<E&&u[u.l]!=13;)switch(k={},k.name=Zf.utils.decode(b,u.slice(u.l,u.l+_)).replace(/[\u0000\r\n].*$/g,""),u.l+=_,k.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(k.offset=u.read_shift(4)),k.len=u.read_shift(1),f==2&&(k.offset=u.read_shift(2)),k.dec=u.read_shift(1),k.name.length&&y.push(k),f!=2&&(u.l+=m?13:14),k.type){case"B":(!p||k.len!=8)&&l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+k.name+":"+k.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+k.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var S=0,C=0;for(c[0]=[],C=0;C!=y.length;++C)c[0][C]=y[C].name;for(;v-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++S]=[],C=0,C=0;C!=y.length;++C){var T=u.slice(u.l,u.l+y[C].len);u.l+=y[C].len,Zr(T,0);var j=Zf.utils.decode(b,T);switch(y[C].type){case"C":j.trim().length&&(c[S][C]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[S][C]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[S][C]=j;break;case"F":c[S][C]=parseFloat(j.trim());break;case"+":case"I":c[S][C]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[S][C]=!0;break;case"N":case"F":c[S][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[S][C]="##MEMO##"+(m?parseInt(j.trim(),10):T.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[S][C]=+j||0);break;case"@":c[S][C]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[S][C]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[S][C]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[S][C]=-T.read_shift(-8,"f");break;case"B":if(p&&y[C].len==8){c[S][C]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Hu(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Lo(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var c=l||{};if(+c.codepage>=0&&as(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=Iw(),f=Hw(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],v=0,g=0,x=0,b=1;for(v=0;v<h.length;++v){if(((m[v]||{}).DBF||{}).name){h[v]=m[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(g=0;g<1024;++g)if(h.indexOf(h[v]+"_"+g)==-1){h[v]+="_"+g;break}}}}var y=tr(o["!ref"]),k=[],E=[],_=[];for(v=0;v<=y.e.c-y.s.c;++v){var S="",C="",T=0,j=[];for(g=0;g<p.length;++g)p[g][v]!=null&&j.push(p[g][v]);if(j.length==0||h[v]==null){k[v]="?";continue}for(g=0;g<j.length;++g){switch(typeof j[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=j[g]instanceof Date?"D":"C";break;default:C="C"}T=Math.max(T,String(j[g]).length),S=S&&S!=C?"C":C}T>250&&(T=250),C=((m[v]||{}).DBF||{}).type,C=="C"&&m[v].DBF.len>T&&(T=m[v].DBF.len),S=="B"&&C=="N"&&(S="N",_[v]=m[v].DBF.dec,T=m[v].DBF.len),E[v]=S=="C"||C=="N"?T:s[S]||0,b+=E[v],k[v]=S}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*x),P.write_shift(2,b),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+t[k6]||3)<<8),v=0,g=0;v<h.length;++v)if(h[v]!=null){var A=u.next(32),N=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,N,"sbcs"),A.write_shift(1,k[v]=="?"?"C":k[v],"sbcs"),A.write_shift(4,g),A.write_shift(1,E[v]||s[k[v]]||0),A.write_shift(1,_[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=E[v]||s[k[v]]||0}var L=u.next(264);for(L.write_shift(4,13),v=0;v<65;++v)L.write_shift(4,0);for(v=0;v<p.length;++v){var K=u.next(b);for(K.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(k[g]){case"L":K.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":K.write_shift(8,p[v][g]||0,"f");break;case"N":var X="0";for(typeof p[v][g]=="number"&&(X=p[v][g].toFixed(_[g]||0)),x=0;x<E[g]-X.length;++x)K.write_shift(1,32);K.write_shift(1,X,"sbcs");break;case"D":p[v][g]?(K.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),K.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),K.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):K.write_shift(8,"00000000","sbcs");break;case"C":var W=String(p[v][g]!=null?p[v][g]:"").slice(0,E[g]);for(K.write_shift(1,W,"sbcs"),x=0;x<E[g]-W.length;++x)K.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),hxe=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Fs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?tN(m):m},n=function(h,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?h:tN(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(pa(h),p);case"binary":return s(h,p);case"buffer":return s(We&&Buffer.isBuffer(h)?h.toString("binary"):Xl(h),p);case"array":return s(Fl(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var m=h.split(/[\n\r]+/),v=-1,g=-1,x=0,b=0,y=[],k=[],E=null,_={},S=[],C=[],T=[],j=0,P;for(+p.codepage>=0&&as(+p.codepage);x!==m.length;++x){j=0;var A=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),N=A.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),L=N[0],K;if(A.length>0)switch(L){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&k.push(A.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,W=!1,q=!1,I=!1,J=-1,Q=-1;for(b=1;b<N.length;++b)switch(N[b].charAt(0)){case"A":break;case"X":g=parseInt(N[b].slice(1))-1,W=!0;break;case"Y":for(v=parseInt(N[b].slice(1))-1,W||(g=0),P=y.length;P<=v;++P)y[P]=[];break;case"K":K=N[b].slice(1),K.charAt(0)==='"'?K=K.slice(1,K.length-1):K==="TRUE"?K=!0:K==="FALSE"?K=!1:isNaN(cs(K))?isNaN(ku(K).getDate())||(K=Wr(K)):(K=cs(K),E!==null&&Jl(E)&&(K=kx(K))),X=!0;break;case"E":I=!0;var M=eu(N[b].slice(1),{r:v,c:g});y[v][g]=[y[v][g],M];break;case"S":q=!0,y[v][g]=[y[v][g],"S5S"];break;case"G":break;case"R":J=parseInt(N[b].slice(1))-1;break;case"C":Q=parseInt(N[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if(X&&(y[v][g]&&y[v][g].length==2?y[v][g][0]=K:y[v][g]=K,E=null),q){if(I)throw new Error("SYLK shared formula cannot have own formula");var U=J>-1&&y[J][Q];if(!U||!U[1])throw new Error("SYLK shared formula cannot find base");y[v][g][1]=IL(U[1],{r:v-J,c:g-Q})}break;case"F":var G=0;for(b=1;b<N.length;++b)switch(N[b].charAt(0)){case"X":g=parseInt(N[b].slice(1))-1,++G;break;case"Y":for(v=parseInt(N[b].slice(1))-1,P=y.length;P<=v;++P)y[P]=[];break;case"M":j=parseInt(N[b].slice(1))/20;break;case"F":break;case"G":break;case"P":E=k[parseInt(N[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[b].slice(1).split(" "),P=parseInt(T[0],10);P<=parseInt(T[1],10);++P)j=parseInt(T[2],10),C[P-1]=j===0?{hidden:!0}:{wch:j},Su(C[P-1]);break;case"C":g=parseInt(N[b].slice(1))-1,C[g]||(C[g]={});break;case"R":v=parseInt(N[b].slice(1))-1,S[v]||(S[v]={}),j>0?(S[v].hpt=j,S[v].hpx=s0(j)):j===0&&(S[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}G<1&&(E=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return S.length>0&&(_["!rows"]=S),C.length>0&&(_["!cols"]=C),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,_]}function i(h,p){var m=a(h,p),v=m[0],g=m[1],x=Hu(v,p);return Fs(g).forEach(function(b){x[b]=g[b]}),x}function o(h,p){return Lo(i(h,p),p)}function l(h,p,m,v){var g="C;Y"+(m+1)+";X"+(v+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+Zye(h.f,{r:m,c:v}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(h,p){p.forEach(function(m,v){var g="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=Ov(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=Dv(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,p){p.forEach(function(m,v){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*OL(m.hpx)+";"),g.length>2&&h.push(g+"R"+(v+1))})}function f(h,p){var m=["ID;PWXL;N;E"],v=[],g=tr(h["!ref"]),x,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var k=g.s.r;k<=g.e.r;++k)for(var E=g.s.c;E<=g.e.c;++E){var _=Re({r:k,c:E});x=b?(h[k]||[])[E]:h[_],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,k,E))}return m.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),pxe=function(){function e(s,i){switch(i.type){case"base64":return t(pa(s),i);case"binary":return t(s,i);case"buffer":return t(We&&Buffer.isBuffer(s)?s.toString("binary"):Xl(s),i);case"array":return t(Fl(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],m=h[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(cs(m))?isNaN(ku(m).getDate())?f[l][c]=m:f[l][c]=Wr(m):f[l][c]=cs(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return Hu(e(s,i),i)}function n(s,i){return Lo(r(s,i),i)}var a=function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=tr(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){i(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var v=Re({r:p,c:m});if(f=h?(l[p]||[])[m]:l[v],!f){i(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(c,1,0,"="+f.f):i(c,1,0,""):i(c,0,g,"V");break;case"b":i(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=ma(f.z||Ie[14],Bn(Wr(f.v)))),i(c,0,f.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var x=`\r
`,b=c.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),mxe=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,v=-1,g=0,x=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=Dn(b[1]);if(x.length<=y.r)for(m=x.length;m<=y.r;++m)x[m]||(x[m]=[]);switch(m=y.r,v=y.c,b[2]){case"t":x[m][v]=e(b[3]);break;case"v":x[m][v]=+b[3];break;case"vtf":var k=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[m][v]=!!+b[4];break;default:x[m][v]=+b[4];break}b[2]=="vtf"&&(x[m][v]=[x[m][v],k])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return Hu(r(f,h),h)}function a(f,h){return Lo(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,v="",g=Wu(f["!ref"]),x=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(v=Re({r:b,c:y}),m=x?(f[b]||[])[y]:f[v],!(!m||m.v==null||m.t==="z")){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var k=Bn(Wr(m.v));p[2]="vtc",p[3]="nd",p[4]=""+k,p[5]=m.w||ma(m.z||Ie[14],k);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,i,o,i,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),n0=function(){function e(u,f,h,p,m){m.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(cs(u))?isNaN(ku(u).getDate())?f[h][p]=u:f[h][p]=Wr(u):f[h][p]=cs(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var m=u.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var g=10,x=0,b=0;b<=v;++b)x=m[b].indexOf(" "),x==-1?x=m[b].length:x++,g=Math.max(g,x);for(b=0;b<=v;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,m=0;p<u.length;++p)(m=u.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[m.pop()[1]]||44}function s(u,f){var h=f||{},p="",m=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var g=0,x=0,b=0,y=0,k=0,E=p.charCodeAt(0),_=!1,S=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Cme(h.dateNF):null;function j(){var P=u.slice(y,k),A={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)A.t="z";else if(h.raw)A.t="s",A.v=P;else if(P.trim().length===0)A.t="s",A.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(A.t="s",A.v=P.slice(2,-1).replace(/""/g,'"')):t1e(P)?(A.t="n",A.f=P.slice(1)):(A.t="s",A.v=P);else if(P=="TRUE")A.t="b",A.v=!0;else if(P=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=cs(P)))A.t="n",h.cellText!==!1&&(A.w=P),A.v=b;else if(!isNaN(ku(P).getDate())||T&&P.match(T)){A.z=h.dateNF||Ie[14];var N=0;T&&P.match(T)&&(P=Tme(P,h.dateNF,P.match(T)||[]),N=1),h.cellDates?(A.t="d",A.v=Wr(P,N)):(A.t="n",A.v=Bn(Wr(P,N))),h.cellText!==!1&&(A.w=ma(A.z,A.v instanceof Date?Bn(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=P;if(A.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][x]=A):m[Re({c:x,r:g})]=A),y=k+1,C=u.charCodeAt(y),v.e.c<x&&(v.e.c=x),v.e.r<g&&(v.e.r=g),S==E)++x;else if(x=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;k<u.length;++k)switch(S=u.charCodeAt(k)){case 34:C===34&&(_=!_);break;case E:case 10:case 13:if(!_&&j())break e;break}return k-y>0&&j(),m["!ref"]=Xe(v),m}function i(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):Hu(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:nE(u,f);switch(f.type){case"base64":h=pa(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Zf<"u"||(h=We&&Buffer.isBuffer(u)?u.toString("binary"):Xl(u));break;case"array":h=Fl(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=wt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=wt(h):f.type=="binary"&&typeof Zf<"u",h.slice(0,19)=="socialcalc:version:"?mxe.to_sheet(f.type=="string"?h:wt(h),f):i(h,f)}function l(u,f){return Lo(o(u,f),f)}function c(u){for(var f=[],h=tr(u["!ref"]),p,m=Array.isArray(u),v=h.s.r;v<=h.e.r;++v){for(var g=[],x=h.s.c;x<=h.e.c;++x){var b=Re({r:v,c:x});if(p=m?(u[v]||[])[x]:u[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(Pi(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(x===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function vxe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=hxe.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return n0.to_workbook(e,t)}}var Xd=function(){function e(M,U,G){if(M){Zr(M,M.l||0);for(var H=G.Enum||J;M.l<M.length;){var ee=M.read_shift(2),oe=H[ee]||H[65535],ce=M.read_shift(2),Y=M.l+ce,te=oe.f&&oe.f(M,ce,G);if(M.l=Y,U(te,oe,ee))return}}}function t(M,U){switch(U.type){case"base64":return r(rs(pa(M)),U);case"binary":return r(rs(M),U);case"buffer":case"array":return r(M,U)}throw"Unsupported type "+U.type}function r(M,U){if(!M)return M;var G=U||{},H=G.dense?[]:{},ee="Sheet1",oe="",ce=0,Y={},te=[],le=[],D={s:{r:0,c:0},e:{r:0,c:0}},Pe=G.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)G.Enum=J,e(M,function(ue,ke,Ve){switch(Ve){case 0:G.vers=ue,ue>=4096&&(G.qpro=!0);break;case 6:D=ue;break;case 204:ue&&(oe=ue);break;case 222:oe=ue;break;case 15:case 51:G.qpro||(ue[1].v=ue[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(ue[2]&112)==112&&(ue[2]&15)>1&&(ue[2]&15)<15&&(ue[1].z=G.dateNF||Ie[14],G.cellDates&&(ue[1].t="d",ue[1].v=kx(ue[1].v))),G.qpro&&ue[3]>ce&&(H["!ref"]=Xe(D),Y[ee]=H,te.push(ee),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ce=ue[3],ee=oe||"Sheet"+(ce+1),oe="");var wr=G.dense?(H[ue[0].r]||[])[ue[0].c]:H[Re(ue[0])];if(wr){wr.t=ue[1].t,wr.v=ue[1].v,ue[1].z!=null&&(wr.z=ue[1].z),ue[1].f!=null&&(wr.f=ue[1].f);break}G.dense?(H[ue[0].r]||(H[ue[0].r]=[]),H[ue[0].r][ue[0].c]=ue[1]):H[Re(ue[0])]=ue[1];break}},G);else if(M[2]==26||M[2]==14)G.Enum=Q,M[2]==14&&(G.qpro=!0,M.l=0),e(M,function(ue,ke,Ve){switch(Ve){case 204:ee=ue;break;case 22:ue[1].v=ue[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ue[3]>ce&&(H["!ref"]=Xe(D),Y[ee]=H,te.push(ee),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},ce=ue[3],ee="Sheet"+(ce+1)),Pe>0&&ue[0].r>=Pe)break;G.dense?(H[ue[0].r]||(H[ue[0].r]=[]),H[ue[0].r][ue[0].c]=ue[1]):H[Re(ue[0])]=ue[1],D.e.c<ue[0].c&&(D.e.c=ue[0].c),D.e.r<ue[0].r&&(D.e.r=ue[0].r);break;case 27:ue[14e3]&&(le[ue[14e3][0]]=ue[14e3][1]);break;case 1537:le[ue[0]]=ue[1],ue[0]==ce&&(ee=ue[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(H["!ref"]=Xe(D),Y[oe||ee]=H,te.push(oe||ee),!le.length)return{SheetNames:te,Sheets:Y};for(var he={},ge=[],pe=0;pe<le.length;++pe)Y[te[pe]]?(ge.push(le[pe]||te[pe]),he[le[pe]]=Y[le[pe]]||Y[te[pe]]):(ge.push(le[pe]),he[le[pe]]={"!ref":"A1"});return{SheetNames:ge,Sheets:he}}function n(M,U){var G=U||{};if(+G.codepage>=0&&as(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var H=Iw(),ee=tr(M["!ref"]),oe=Array.isArray(M),ce=[];Ha(H,0,s(1030)),Ha(H,6,l(ee));for(var Y=Math.min(ee.e.r,8191),te=ee.s.r;te<=Y;++te)for(var le=nn(te),D=ee.s.c;D<=ee.e.c;++D){te===ee.s.r&&(ce[D]=jr(D));var Pe=ce[D]+le,he=oe?(M[te]||[])[D]:M[Pe];if(!(!he||he.t=="z"))if(he.t=="n")(he.v|0)==he.v&&he.v>=-32768&&he.v<=32767?Ha(H,13,p(te,D,he.v)):Ha(H,14,v(te,D,he.v));else{var ge=Pi(he);Ha(H,15,f(te,D,ge.slice(0,239)))}}return Ha(H,1),H.end()}function a(M,U){var G=U||{};if(+G.codepage>=0&&as(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var H=Iw();Ha(H,0,i(M));for(var ee=0,oe=0;ee<M.SheetNames.length;++ee)(M.Sheets[M.SheetNames[ee]]||{})["!ref"]&&Ha(H,27,I(M.SheetNames[ee],oe++));var ce=0;for(ee=0;ee<M.SheetNames.length;++ee){var Y=M.Sheets[M.SheetNames[ee]];if(!(!Y||!Y["!ref"])){for(var te=tr(Y["!ref"]),le=Array.isArray(Y),D=[],Pe=Math.min(te.e.r,8191),he=te.s.r;he<=Pe;++he)for(var ge=nn(he),pe=te.s.c;pe<=te.e.c;++pe){he===te.s.r&&(D[pe]=jr(pe));var ue=D[pe]+ge,ke=le?(Y[he]||[])[pe]:Y[ue];if(!(!ke||ke.t=="z"))if(ke.t=="n")Ha(H,23,j(he,pe,ce,ke.v));else{var Ve=Pi(ke);Ha(H,22,S(he,pe,ce,Ve.slice(0,239)))}}++ce}}return Ha(H,1),H.end()}function s(M){var U=Sr(2);return U.write_shift(2,M),U}function i(M){var U=Sr(26);U.write_shift(2,4096),U.write_shift(2,4),U.write_shift(4,0);for(var G=0,H=0,ee=0,oe=0;oe<M.SheetNames.length;++oe){var ce=M.SheetNames[oe],Y=M.Sheets[ce];if(!(!Y||!Y["!ref"])){++ee;var te=Wu(Y["!ref"]);G<te.e.r&&(G=te.e.r),H<te.e.c&&(H=te.e.c)}}return G>8191&&(G=8191),U.write_shift(2,G),U.write_shift(1,ee),U.write_shift(1,H),U.write_shift(2,0),U.write_shift(2,0),U.write_shift(1,1),U.write_shift(1,2),U.write_shift(4,0),U.write_shift(4,0),U}function o(M,U,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return U==8&&G.qpro?(H.s.c=M.read_shift(1),M.l++,H.s.r=M.read_shift(2),H.e.c=M.read_shift(1),M.l++,H.e.r=M.read_shift(2),H):(H.s.c=M.read_shift(2),H.s.r=M.read_shift(2),U==12&&G.qpro&&(M.l+=2),H.e.c=M.read_shift(2),H.e.r=M.read_shift(2),U==12&&G.qpro&&(M.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(M){var U=Sr(8);return U.write_shift(2,M.s.c),U.write_shift(2,M.s.r),U.write_shift(2,M.e.c),U.write_shift(2,M.e.r),U}function c(M,U,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(H[0].c=M.read_shift(1),H[3]=M.read_shift(1),H[0].r=M.read_shift(2),M.l+=2):(H[2]=M.read_shift(1),H[0].c=M.read_shift(2),H[0].r=M.read_shift(2)),H}function u(M,U,G){var H=M.l+U,ee=c(M,U,G);if(ee[1].t="s",G.vers==20768){M.l++;var oe=M.read_shift(1);return ee[1].v=M.read_shift(oe,"utf8"),ee}return G.qpro&&M.l++,ee[1].v=M.read_shift(H-M.l,"cstr"),ee}function f(M,U,G){var H=Sr(7+G.length);H.write_shift(1,255),H.write_shift(2,U),H.write_shift(2,M),H.write_shift(1,39);for(var ee=0;ee<H.length;++ee){var oe=G.charCodeAt(ee);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function h(M,U,G){var H=c(M,U,G);return H[1].v=M.read_shift(2,"i"),H}function p(M,U,G){var H=Sr(7);return H.write_shift(1,255),H.write_shift(2,U),H.write_shift(2,M),H.write_shift(2,G,"i"),H}function m(M,U,G){var H=c(M,U,G);return H[1].v=M.read_shift(8,"f"),H}function v(M,U,G){var H=Sr(13);return H.write_shift(1,255),H.write_shift(2,U),H.write_shift(2,M),H.write_shift(8,G,"f"),H}function g(M,U,G){var H=M.l+U,ee=c(M,U,G);if(ee[1].v=M.read_shift(8,"f"),G.qpro)M.l=H;else{var oe=M.read_shift(2);k(M.slice(M.l,M.l+oe),ee),M.l+=oe}return ee}function x(M,U,G){var H=U&32768;return U&=-32769,U=(H?M:0)+(U>=8192?U-16384:U),(H?"":"$")+(G?jr(U):nn(U))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function k(M,U){Zr(M,0);for(var G=[],H=0,ee="",oe="",ce="",Y="";M.l<M.length;){var te=M[M.l++];switch(te){case 0:G.push(M.read_shift(8,"f"));break;case 1:oe=x(U[0].c,M.read_shift(2),!0),ee=x(U[0].r,M.read_shift(2),!1),G.push(oe+ee);break;case 2:{var le=x(U[0].c,M.read_shift(2),!0),D=x(U[0].r,M.read_shift(2),!1);oe=x(U[0].c,M.read_shift(2),!0),ee=x(U[0].r,M.read_shift(2),!1),G.push(le+D+":"+oe+ee)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(M.read_shift(2));break;case 6:{for(var Pe="";te=M[M.l++];)Pe+=String.fromCharCode(te);G.push('"'+Pe.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Y=G.pop(),ce=G.pop(),G.push(["AND","OR"][te-20]+"("+ce+","+Y+")");break;default:if(te<32&&y[te])Y=G.pop(),ce=G.pop(),G.push(ce+y[te]+Y);else if(b[te]){if(H=b[te][1],H==69&&(H=M[M.l++]),H>G.length){console.error("WK1 bad formula parse 0x"+te.toString(16)+":|"+G.join("|")+"|");return}var he=G.slice(-H);G.length-=H,G.push(b[te][0]+"("+he.join(",")+")")}else return te<=7?console.error("WK1 invalid opcode "+te.toString(16)):te<=24?console.error("WK1 unsupported op "+te.toString(16)):te<=30?console.error("WK1 invalid opcode "+te.toString(16)):te<=115?console.error("WK1 unsupported function opcode "+te.toString(16)):console.error("WK1 unrecognized opcode "+te.toString(16))}}G.length==1?U[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function E(M){var U=[{c:0,r:0},{t:"n",v:0},0];return U[0].r=M.read_shift(2),U[3]=M[M.l++],U[0].c=M[M.l++],U}function _(M,U){var G=E(M);return G[1].t="s",G[1].v=M.read_shift(U-4,"cstr"),G}function S(M,U,G,H){var ee=Sr(6+H.length);ee.write_shift(2,M),ee.write_shift(1,G),ee.write_shift(1,U),ee.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var ce=H.charCodeAt(oe);ee.write_shift(1,ce>=128?95:ce)}return ee.write_shift(1,0),ee}function C(M,U){var G=E(M);G[1].v=M.read_shift(2);var H=G[1].v>>1;if(G[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return G[1].v=H,G}function T(M,U){var G=E(M),H=M.read_shift(4),ee=M.read_shift(4),oe=M.read_shift(2);if(oe==65535)return H===0&&ee===3221225472?(G[1].t="e",G[1].v=15):H===0&&ee===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var ce=oe&32768;return oe=(oe&32767)-16446,G[1].v=(1-ce*2)*(ee*Math.pow(2,oe+32)+H*Math.pow(2,oe)),G}function j(M,U,G,H){var ee=Sr(14);if(ee.write_shift(2,M),ee.write_shift(1,G),ee.write_shift(1,U),H==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var oe=0,ce=0,Y=0,te=0;return H<0&&(oe=1,H=-H),ce=Math.log2(H)|0,H/=Math.pow(2,ce-31),te=H>>>0,te&2147483648||(H/=2,++ce,te=H>>>0),H-=te,te|=2147483648,te>>>=0,H*=Math.pow(2,32),Y=H>>>0,ee.write_shift(4,Y),ee.write_shift(4,te),ce+=16383+(oe?32768:0),ee.write_shift(2,ce),ee}function P(M,U){var G=T(M);return M.l+=U-14,G}function A(M,U){var G=E(M),H=M.read_shift(4);return G[1].v=H>>6,G}function N(M,U){var G=E(M),H=M.read_shift(8,"f");return G[1].v=H,G}function L(M,U){var G=N(M);return M.l+=U-10,G}function K(M,U){return M[M.l+U-1]==0?M.read_shift(U,"cstr"):""}function X(M,U){var G=M[M.l++];G>U-1&&(G=U-1);for(var H="";H.length<G;)H+=String.fromCharCode(M[M.l++]);return H}function W(M,U,G){if(!(!G.qpro||U<21)){var H=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var ee=M.read_shift(U-21,"cstr");return[H,ee]}}function q(M,U){for(var G={},H=M.l+U;M.l<H;){var ee=M.read_shift(2);if(ee==14e3){for(G[ee]=[0,""],G[ee][0]=M.read_shift(2);M[M.l];)G[ee][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return G}function I(M,U){var G=Sr(5+M.length);G.write_shift(2,14e3),G.write_shift(2,U);for(var H=0;H<M.length;++H){var ee=M.charCodeAt(H);G[G.l++]=ee>127?95:ee}return G[G.l++]=0,G}var J={0:{n:"BOF",f:pr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:K},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},Q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:L},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:K},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:W},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function gxe(e){var t={},r=e.match(Tn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Me(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=DS[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var xxe=function(){var e=t0("t"),t=t0("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Qe(i[1])},l=s.match(t);return l&&(o.s=gxe(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),yxe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),bxe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,wxe=/<(?:\w+:)?r>/,_xe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function XS(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qe(wt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=wt(e),r&&(n.h=$S(n.t))):e.match(wxe)&&(n.r=wt(e),n.t=Qe(wt((e.replace(_xe,"").match(bxe)||[]).join("").replace(Tn,""))),r&&(n.h=yxe(xxe(n.r)))),n):{t:""}}var kxe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Sxe=/<(?:\w+:)?(?:si|sstItem)>/g,Exe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Cxe(e,t){var r=[],n="";if(!e)return r;var a=e.match(kxe);if(a){n=a[2].replace(Sxe,"").split(Exe);for(var s=0;s!=n.length;++s){var i=XS(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Me(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Txe(e){return[e.read_shift(4),e.read_shift(4)]}function Axe(e,t){var r=[],n=!1;return Li(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function CL(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function mi(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function jxe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=mi(e,4),t.U=mi(e,4),t.W=mi(e,4),t}function Pxe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function Nxe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(Pxe(e));return t}function Oxe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function Dxe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=mi(e,4),t.U=mi(e,4),t.W=mi(e,4),t}function Mxe(e){var t=Dxe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function TL(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function AL(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function Ixe(e){var t=mi(e);switch(t.Minor){case 2:return[t.Minor,Rxe(e)];case 3:return[t.Minor,Fxe()];case 4:return[t.Minor,Lxe(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function Rxe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=TL(e,r),a=AL(e,e.length-e.l);return{t:"Std",h:n,v:a}}function Fxe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Lxe(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Tn,function(s){var i=Me(s);switch(Hs(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function Bxe(e,t){var r={},n=r.EncryptionVersionInfo=mi(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=TL(e,a),t-=a,r.EncryptionVerifier=AL(e,t),r}function $xe(e){var t={},r=t.EncryptionVersionInfo=mi(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Uxe(e){var t=0,r,n=CL(e),a=n.length+1,s,i,o,l,c;for(r=Eo(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^i;return t^52811}var jL=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,c=i.length-1;c>=0;--c)for(var u=i[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(i){for(var o=CL(i),l=s(o),c=o.length,u=Eo(16),f=0;f!=16;++f)u[f]=0;var h,p,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),zxe=function(e,t,r,n,a){a||(a=t),n||(n=jL(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},Vxe=function(e){var t=0,r=jL(e);return function(n){var a=zxe("",n,t,r);return t=a[1],a[0]}};function Wxe(e,t,r,n){var a={key:pr(e),verificationBytes:pr(e)};return r.password&&(a.verifier=Uxe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Vxe(r.password)),a}function Hxe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=$xe(e):n.Data=Bxe(e,t),n}function Kxe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Hxe(e,t-2,n):Wxe(e,r.biff>=8?t:t-2,r,n),n}var Gxe=function(){function e(a,s){switch(s.type){case"base64":return t(pa(a),s);case"binary":return t(a,s);case"buffer":return t(We&&Buffer.isBuffer(a)?a.toString("binary"):Xl(a),s);case"array":return t(Fl(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,v=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var g=u.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var x={v:g,t:"s"};Array.isArray(o)?o[f][v]=x:o[Re({r:f,c:v})]=x}break}p=h.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Xe(c),o}function r(a,s){return Lo(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=tr(a["!ref"]),o,l=Array.isArray(a),c=i.s.r;c<=i.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var f=Re({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Pi(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function qxe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function a0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Yxe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,c=a+s;switch(l=i/(c>1?2-c:c),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,c/2]}function Xxe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function Nv(e,t){if(t===0)return e;var r=Yxe(qxe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),a0(Xxe(r))}var PL=6,Jxe=15,Qxe=1,Nn=PL;function Ov(e){return Math.floor((e+Math.round(128/Nn)/256)*Nn)}function Dv(e){return Math.floor((e-5)/Nn*100+.5)/100}function Bw(e){return Math.round((e*Nn+5)/Nn*256)/256}function Qy(e){return Bw(Dv(Ov(e)))}function JS(e){var t=Math.abs(e-Qy(e)),r=Nn;if(t>.005)for(Nn=Qxe;Nn<Jxe;++Nn)Math.abs(e-Qy(e))<=t&&(t=Math.abs(e-Qy(e)),r=Nn);Nn=r}function Su(e){e.width?(e.wpx=Ov(e.width),e.wch=Dv(e.wpx),e.MDW=Nn):e.wpx?(e.wch=Dv(e.wpx),e.width=Bw(e.wch),e.MDW=Nn):typeof e.wch=="number"&&(e.width=Bw(e.wch),e.wpx=Ov(e.width),e.MDW=Nn),e.customWidth&&delete e.customWidth}var Zxe=96,NL=Zxe;function OL(e){return e*96/NL}function s0(e){return e*NL/96}var eye={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function tye(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Tn)||[]).forEach(function(i){var o=Me(i);switch(Hs(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Dt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Dt(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function rye(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Tn)||[]).forEach(function(i){var o=Me(i);switch(Hs(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function nye(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Tn)||[]).forEach(function(i){var o=Me(i);switch(Hs(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=wt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Dt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Dt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Dt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Dt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Dt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Dt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Dt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=DS[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Dt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=yl[a.color.index];a.color.index==81&&(l=yl[1]),l||(l=yl[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=Nv(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function aye(e,t,r){t.NumberFmt=[];for(var n=Fs(Ie),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Ie[n[a]];var s=e[0].match(Tn);if(s)for(a=0;a<s.length;++a){var i=Me(s[a]);switch(Hs(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qe(wt(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}pi(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var yp=["numFmtId","fillId","fontId","borderId","xfId"],bp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function sye(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Tn)||[]).forEach(function(s){var i=Me(s),o=0;switch(Hs(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<yp.length;++o)n[yp[o]]&&(n[yp[o]]=parseInt(n[yp[o]],10));for(o=0;o<bp.length;++o)n[bp[o]]&&(n[bp[o]]=Dt(n[bp[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Dt(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var iye=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&aye(f,u,c),(f=o.match(a))&&nye(f,u,l,c),(f=o.match(n))&&rye(f,u,l,c),(f=o.match(s))&&tye(f,u,l,c),(f=o.match(r))&&sye(f,u,c),u}}();function oye(e,t){var r=e.read_shift(2),n=Sn(e);return[r,n]}function lye(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=xve(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=gve(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Sn(e),n}var cye=Cn;function uye(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var dye=Cn;function fye(e,t,r){var n={};n.NumberFmt=[];for(var a in Ie)n.NumberFmt[a]=Ie[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Li(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],pi(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=Nv(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(u),i=!0;break;case 38:s.pop(),i=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var hye=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function pye(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Tn)||[]).forEach(function(a){var s=Me(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[hye.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function mye(){}function vye(){}var gye=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xye=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,yye=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function bye(e,t,r){t.themeElements={};var n;[["clrScheme",gye,pye],["fontScheme",xye,mye],["fmtScheme",yye,vye]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var wye=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function DL(e,t){(!e||e.length===0)&&(e=_ye());var r,n={};if(!(r=e.match(wye)))throw new Error("themeElements not found in theme");return bye(r[0],n,t),n.raw=e,n}function _ye(e,t){var r=[W6];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function kye(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=V6(s,{type:"array"})}catch{return}var o=ia(i,"theme/theme/theme1.xml",!0);if(o)return DL(o,r)}}function Sye(e){return e.read_shift(4)}function Eye(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Cye(e,4);break;case 2:t.xclrValue=yL(e);break;case 3:t.xclrValue=Sye(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Cye(e,t){return Cn(e,t)}function Tye(e,t){return Cn(e,t)}function Aye(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Eye(e);break;case 6:n[1]=Tye(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function jye(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(Aye(e,r-e.l));return{ixfe:n,ext:s}}function Pye(e,t){t.forEach(function(r){switch(r[0]){}})}function Nye(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Sn(e)}}function Oye(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Dye(e){return e.l+=4,e.read_shift(4)!=0}function Mye(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Li(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!c.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Iye(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Tn,function(o){var l=Me(o);switch(Hs(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(i=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Rye(e){var t=[];if(!e)return t;var r=1;return(e.match(Tn)||[]).forEach(function(n){var a=Me(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Fye(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Re(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Lye(e,t,r){var n=[];return Li(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Bye(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Li(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function $ye(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function $N(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Dn(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=tr(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Xe(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var u={a:i.author,t:i.t,r:i.r,T:r};i.h&&(u.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}s.c.push(u)})}function Uye(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Me(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Dn(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&XS(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function zye(e,t){var r=[],n=!1,a={},s=0;return e.replace(Tn,function(o,l){var c=Me(o);switch(Hs(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Vye(e,t){var r=[],n=!1;return e.replace(Tn,function(s){var i=Me(s);switch(Hs(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function Wye(e){var t={};t.iauthor=e.read_shift(4);var r=Zl(e);return t.rfx=r.s,t.ref=Re(r.s),e.l+=16,t}var Hye=Sn;function Kye(e,t){var r=[],n=[],a={},s=!1;return Li(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Gye="application/vnd.ms-office.vbaProject";function qye(e){var t=Ye.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ye.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ye.write(t)}function Yye(){return{"!type":"dialog"}}function Xye(){return{"!type":"dialog"}}function Jye(){return{"!type":"macro"}}function Qye(){return{"!type":"macro"}}var eu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+jr(u)+(l?"":"$")+nn(c)}return function(a,s){return t=s,a.replace(e,r)}}(),ML=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Zye=function(){return function(t,r){return t.replace(ML,function(n,a,s,i,o,l){var c=WS(i)-(s?0:r.c),u=VS(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function IL(e,t){return e.replace(ML,function(r,n,a,s,i,o){return n+(a=="$"?a+s:jr(WS(s)+t.c))+(i=="$"?i+o:nn(VS(o)+t.r))})}function e1e(e,t,r){var n=Wu(t),a=n.s,s=Dn(r),i={r:s.r-a.r,c:s.c-a.c};return IL(e,i)}function t1e(e){return e.length!=1}function UN(e){return e.replace(/_xlfn\./g,"")}function fr(e){e.l+=1}function Co(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function RL(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return FL(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Co(e),o=Co(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function FL(e){var t=Co(e),r=Co(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function r1e(e,t,r){if(r.biff<8)return FL(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Co(e),i=Co(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function LL(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return n1e(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Co(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function n1e(e){var t=Co(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function a1e(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function s1e(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return i1e(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function i1e(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function o1e(e,t,r){var n=(e[e.l++]&96)>>5,a=RL(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function l1e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=RL(e,s,r);return[n,a,i]}function c1e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function u1e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function d1e(e,t,r){var n=(e[e.l++]&96)>>5,a=r1e(e,t-1,r);return[n,a]}function f1e(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function zN(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function h1e(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function p1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function m1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function v1e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function g1e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function BL(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function x1e(e){return e.read_shift(2),BL(e)}function y1e(e){return e.read_shift(2),BL(e)}function b1e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=LL(e,0,r);return[n,a]}function w1e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=s1e(e,0,r);return[n,a]}function _1e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=LL(e,0,r);return[n,a,s]}function k1e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Sbe[a],zL[a],n]}function S1e(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:E1e(e);return[a,(s[0]===0?zL:kbe)[s[1]]]}function E1e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function C1e(e,t,r){e.l+=r&&r.biff==2?3:4}function T1e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function A1e(e){return e.l++,ec[e.read_shift(1)]}function j1e(e){return e.l++,e.read_shift(2)}function P1e(e){return e.l++,e.read_shift(1)!==0}function N1e(e){return e.l++,xn(e)}function O1e(e,t,r){return e.l++,hh(e,t-1,r)}function D1e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=rr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ec[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=xn(e);break;case 2:r[1]=tc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function M1e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?Zl:Sx)(e));return a}function I1e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=D1e(e,r.biff);return i}function R1e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function F1e(e,t,r){if(r.biff==5)return L1e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function L1e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function B1e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function $1e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function U1e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function z1e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var V1e=Cn,W1e=Cn,H1e=Cn;function mh(e,t,r){return e.l+=2,[a1e(e)]}function QS(e){return e.l+=6,[]}var K1e=mh,G1e=QS,q1e=QS,Y1e=mh;function $L(e){return e.l+=2,[pr(e),e.read_shift(2)&1]}var X1e=mh,J1e=$L,Q1e=QS,Z1e=mh,ebe=mh,tbe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function rbe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=tbe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function nbe(e){return e.l+=2,[e.read_shift(4)]}function abe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function sbe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function ibe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function obe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lbe(e){return e.l+=4,[0,0]}var VN={1:{n:"PtgExp",f:T1e},2:{n:"PtgTbl",f:H1e},3:{n:"PtgAdd",f:fr},4:{n:"PtgSub",f:fr},5:{n:"PtgMul",f:fr},6:{n:"PtgDiv",f:fr},7:{n:"PtgPower",f:fr},8:{n:"PtgConcat",f:fr},9:{n:"PtgLt",f:fr},10:{n:"PtgLe",f:fr},11:{n:"PtgEq",f:fr},12:{n:"PtgGe",f:fr},13:{n:"PtgGt",f:fr},14:{n:"PtgNe",f:fr},15:{n:"PtgIsect",f:fr},16:{n:"PtgUnion",f:fr},17:{n:"PtgRange",f:fr},18:{n:"PtgUplus",f:fr},19:{n:"PtgUminus",f:fr},20:{n:"PtgPercent",f:fr},21:{n:"PtgParen",f:fr},22:{n:"PtgMissArg",f:fr},23:{n:"PtgStr",f:O1e},26:{n:"PtgSheet",f:abe},27:{n:"PtgEndSheet",f:sbe},28:{n:"PtgErr",f:A1e},29:{n:"PtgBool",f:P1e},30:{n:"PtgInt",f:j1e},31:{n:"PtgNum",f:N1e},32:{n:"PtgArray",f:f1e},33:{n:"PtgFunc",f:k1e},34:{n:"PtgFuncVar",f:S1e},35:{n:"PtgName",f:R1e},36:{n:"PtgRef",f:b1e},37:{n:"PtgArea",f:o1e},38:{n:"PtgMemArea",f:B1e},39:{n:"PtgMemErr",f:V1e},40:{n:"PtgMemNoMem",f:W1e},41:{n:"PtgMemFunc",f:$1e},42:{n:"PtgRefErr",f:U1e},43:{n:"PtgAreaErr",f:c1e},44:{n:"PtgRefN",f:w1e},45:{n:"PtgAreaN",f:d1e},46:{n:"PtgMemAreaN",f:ibe},47:{n:"PtgMemNoMemN",f:obe},57:{n:"PtgNameX",f:F1e},58:{n:"PtgRef3d",f:_1e},59:{n:"PtgArea3d",f:l1e},60:{n:"PtgRefErr3d",f:z1e},61:{n:"PtgAreaErr3d",f:u1e},255:{}},cbe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},ube={1:{n:"PtgElfLel",f:$L},2:{n:"PtgElfRw",f:Z1e},3:{n:"PtgElfCol",f:K1e},6:{n:"PtgElfRwV",f:ebe},7:{n:"PtgElfColV",f:Y1e},10:{n:"PtgElfRadical",f:X1e},11:{n:"PtgElfRadicalS",f:Q1e},13:{n:"PtgElfColS",f:G1e},15:{n:"PtgElfColSV",f:q1e},16:{n:"PtgElfRadicalLel",f:J1e},25:{n:"PtgList",f:rbe},29:{n:"PtgSxName",f:nbe},255:{}},dbe={0:{n:"PtgAttrNoop",f:lbe},1:{n:"PtgAttrSemi",f:g1e},2:{n:"PtgAttrIf",f:m1e},4:{n:"PtgAttrChoose",f:h1e},8:{n:"PtgAttrGoto",f:p1e},16:{n:"PtgAttrSum",f:C1e},32:{n:"PtgAttrBaxcel",f:zN},33:{n:"PtgAttrBaxcel",f:zN},64:{n:"PtgAttrSpace",f:x1e},65:{n:"PtgAttrSpaceSemi",f:y1e},128:{n:"PtgAttrIfError",f:v1e},255:{}};function vh(e,t,r,n){if(n.biff<8)return Cn(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=I1e(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=M1e(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Cn(e,t)),s}function gh(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=VN[s]||VN[cbe[s]],(s===24||s===25)&&(a=(s===24?ube:dbe)[e[e.l+1]]),!a||!a.f?Cn(e,t):i.push([a.n,a.f(e,t,r)]);return i}function fbe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var hbe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function pbe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function UL(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function WN(e,t,r){var n=UL(e,t,r);return n=="#REF"?n:pbe(n,r)}function mn(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=Zt(" ",e[0][v][1][1]);break;case 1:g=Zt("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}o.push(c+hbe[y[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Kd(y[1][1],i,a),o.push(Gd(u,s));break;case"PtgRefN":u=r?Kd(y[1][1],r,a):y[1][1],o.push(Gd(u,s));break;case"PtgRef3d":f=y[1][1],u=Kd(y[1][2],i,a),m=WN(n,f,a),o.push(m+"!"+Gd(u,s));break;case"PtgFunc":case"PtgFuncVar":var k=y[1][0],E=y[1][1];k||(k=0),k&=127;var _=k==0?[]:o.slice(-k);o.length-=k,E==="User"&&(E=_.shift()),o.push(E+"("+_.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=SN(y[1][1],r?{s:r}:i,a),o.push(Xy(p,a));break;case"PtgArea":p=SN(y[1][1],i,a),o.push(Xy(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=WN(n,f,a),o.push(m+"!"+Xy(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var S=(n.names||[])[h-1]||(n[0]||[])[h],C=S?S.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var j;if(a.biff<=5)T<0&&(T=-T),n[T]&&(j=n[T][h]);else{var P="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(P=n.SheetNames[n[T][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])P+=n[T][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var A=(UL(n,T,a)||"").split(";;");A[h-1]?P=A[h-1]:P+="SH33TJSERRX"}o.push(P);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var N="(",L=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:N=Zt(" ",e[0][v][1][1])+N;break;case 3:N=Zt("\r",e[0][v][1][1])+N;break;case 4:L=Zt(" ",e[0][v][1][1])+L;break;case 5:L=Zt("\r",e[0][v][1][1])+L;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(N+o.pop()+L);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var K={c:r.c,r:r.r};if(n.sharedf[Re(u)]){var X=n.sharedf[Re(u)];o.push(mn(X,i,K,n,a))}else{var W=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(mn(c[1],i,K,n,a)),W=!0;break}W||o.push(y[1])}break;case"PtgArray":o.push("{"+fbe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&q.indexOf(e[0][x][0])==-1){y=e[0][v];var I=!0;switch(y[1][0]){case 4:I=!1;case 0:g=Zt(" ",y[1][1]);break;case 5:I=!1;case 1:g=Zt("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((I?g:"")+o.pop()+(I?"":g)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function mbe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Cn(e,t-2)];var o=gh(e,i,r);return t!==i+a&&(s=vh(e,t-i-a,o,r)),e.l=n,[o,s]}function vbe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Cn(e,t-2)];var o=gh(e,i,r);return t!==i+a&&(s=vh(e,t-i-a,o,r)),e.l=n,[o,s]}function gbe(e,t,r,n){var a=e.l+t,s=gh(e,n,r),i;return a!==e.l&&(i=vh(e,a-e.l,s,r)),[s,i]}function xbe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=gh(e,s,r);return s==65535?[[],Cn(e,t-2)]:(t!==s+2&&(a=vh(e,n-s-2,i,r)),[i,a])}function ybe(e){var t;if(si(e,e.l+6)!==65535)return[xn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function Zy(e,t,r){var n=e.l+t,a=Ks(e);r.biff==2&&++e.l;var s=ybe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=vbe(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Ex(e,t,r){var n=e.read_shift(4),a=gh(e,n,r),s=e.read_shift(4),i=s>0?vh(e,s,a,r):null;return[a,i]}var bbe=Ex,Cx=Ex,wbe=Ex,_be=Ex,kbe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},zL={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Sbe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HN(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function e1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Jd={},tu={};function Qd(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function VL(e,t,r,n,a,s){try{n.cellNF&&(e.z=Ie[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Wr(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Ie[t]==null&&pi(Eme[t]||"General",t),e.t==="e")e.w=e.w||ec[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=e0(e.v);else if(e.t==="d"){var i=Bn(e.v);(i|0)===i?e.w=i.toString(10):e.w=e0(i)}else{if(e.v===void 0)return"";e.w=Rl(e.v,tu)}else e.t==="d"?e.w=ma(t,Bn(e.v),tu):e.w=ma(t,e.v,tu)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=Nv(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=Nv(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function Ebe(e,t){var r=tr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Xe(r))}var Cbe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Tbe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Abe=/<(?:\w:)?hyperlink [^>]*>/mg,jbe=/"(\w*:\w*)"/,Pbe=/<(?:\w:)?col\b[^>]*[\/]?>/g,Nbe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Obe=/<(?:\w:)?pageMargins[^>]*\/>/g,WL=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Dbe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Mbe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Ibe(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Tbe);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(WL);h?ZS(h[0],o,a,r):(h=c.match(Dbe))&&Rbe(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(jbe);m&&Ebe(o,m[1])}var v=c.match(Mbe);v&&v[1]&&zbe(v[1],a);var g=[];if(t.cellStyles){var x=c.match(Pbe);x&&Bbe(g,x)}f&&Vbe(f[1],o,t,l,s,i);var b=u.match(Nbe);b&&(o["!autofilter"]=$be(b[0]));var y=[],k=u.match(Cbe);if(k)for(p=0;p!=k.length;++p)y[p]=tr(k[p].slice(k[p].indexOf('"')+1));var E=u.match(Abe);E&&Fbe(o,E,n);var _=u.match(Obe);if(_&&(o["!margins"]=Lbe(Me(_[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Xe(l)),t.sheetRows>0&&o["!ref"]){var S=tr(o["!ref"]);t.sheetRows<=+S.e.r&&(S.e.r=t.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xe(S))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function ZS(e,t,r,n){var a=Me(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qe(wt(a.codeName)))}function Rbe(e,t,r,n,a){ZS(e.slice(0,e.indexOf(">")),r,n,a)}function Fbe(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Me(wt(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Qe(s.location))):(s.Target="#"+Qe(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=tr(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Re({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function Lbe(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Bbe(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Me(t[n],!0);a.hidden&&(a.hidden=Dt(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,JS(a.width)),Su(a);s<=i;)e[s++]=rn(a)}}function $be(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Ube=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zbe(e,t){t.Views||(t.Views=[{}]),(e.match(Ube)||[]).forEach(function(r,n){var a=Me(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Dt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Vbe=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=t0("v"),i=t0("f");return function(l,c,u,f,h,p){for(var m=0,v="",g=[],x=[],b=0,y=0,k=0,E="",_,S,C=0,T=0,j,P,A=0,N=0,L=Array.isArray(p.CellXf),K,X=[],W=[],q=Array.isArray(c),I=[],J={},Q=!1,M=!!u.sheetStubs,U=l.split(t),G=0,H=U.length;G!=H;++G){v=U[G].trim();var ee=v.length;if(ee!==0){var oe=0;e:for(m=0;m<ee;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(S=Me(v.slice(oe,m),!0),C=S.r!=null?parseInt(S.r,10):C+1,T=-1,u.sheetRows&&u.sheetRows<C)continue;J={},Q=!1,S.ht&&(Q=!0,J.hpt=parseFloat(S.ht),J.hpx=s0(J.hpt)),S.hidden=="1"&&(Q=!0,J.hidden=!0),S.outlineLevel!=null&&(Q=!0,J.level=+S.outlineLevel),Q&&(I[C-1]=J)}break;case"<":oe=m;break}if(oe>=m)break;if(S=Me(v.slice(oe,m),!0),C=S.r!=null?parseInt(S.r,10):C+1,T=-1,!(u.sheetRows&&u.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),u&&u.cellStyles&&(J={},Q=!1,S.ht&&(Q=!0,J.hpt=parseFloat(S.ht),J.hpx=s0(J.hpt)),S.hidden=="1"&&(Q=!0,J.hidden=!0),S.outlineLevel!=null&&(Q=!0,J.level=+S.outlineLevel),Q&&(I[C-1]=J)),g=v.slice(m).split(e);for(var ce=0;ce!=g.length&&g[ce].trim().charAt(0)=="<";++ce);for(g=g.slice(ce),m=0;m!=g.length;++m)if(v=g[m].trim(),v.length!==0){if(x=v.match(r),b=m,y=0,k=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,x!=null&&x.length===2){for(b=0,E=x[1],y=0;y!=E.length&&!((k=E.charCodeAt(y)-64)<1||k>26);++y)b=26*b+k;--b,T=b}else++T;for(y=0;y!=v.length&&v.charCodeAt(y)!==62;++y);if(++y,S=Me(v.slice(0,y),!0),S.r||(S.r=Re({r:C-1,c:T})),E=v.slice(y),_={t:""},(x=E.match(s))!=null&&x[1]!==""&&(_.v=Qe(x[1])),u.cellFormula){if((x=E.match(i))!=null&&x[1]!==""){if(_.f=Qe(wt(x[1])).replace(/\r\n/g,`
`),u.xlfn||(_.f=UN(_.f)),x[0].indexOf('t="array"')>-1)_.F=(E.match(a)||[])[1],_.F.indexOf(":")>-1&&X.push([tr(_.F),_.F]);else if(x[0].indexOf('t="shared"')>-1){P=Me(x[0]);var Y=Qe(wt(x[1]));u.xlfn||(Y=UN(Y)),W[parseInt(P.si,10)]=[P,Y,S.r]}}else(x=E.match(/<f[^>]*\/>/))&&(P=Me(x[0]),W[P.si]&&(_.f=e1e(W[P.si][1],W[P.si][2],S.r)));var te=Dn(S.r);for(y=0;y<X.length;++y)te.r>=X[y][0].s.r&&te.r<=X[y][0].e.r&&te.c>=X[y][0].s.c&&te.c<=X[y][0].e.c&&(_.F=X[y][1])}if(S.t==null&&_.v===void 0)if(_.f||_.F)_.v=0,_.t="n";else if(M)_.t="z";else continue;else _.t=S.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),_.t){case"n":if(_.v==""||_.v==null){if(!M)continue;_.t="z"}else _.v=parseFloat(_.v);break;case"s":if(typeof _.v>"u"){if(!M)continue;_.t="z"}else j=Jd[parseInt(_.v,10)],_.v=j.t,_.r=j.r,u.cellHTML&&(_.h=j.h);break;case"str":_.t="s",_.v=_.v!=null?wt(_.v):"",u.cellHTML&&(_.h=$S(_.v));break;case"inlineStr":x=E.match(n),_.t="s",x!=null&&(j=XS(x[1]))?(_.v=j.t,u.cellHTML&&(_.h=j.h)):_.v="";break;case"b":_.v=Dt(_.v);break;case"d":u.cellDates?_.v=Wr(_.v,1):(_.v=Bn(Wr(_.v,1)),_.t="n");break;case"e":(!u||u.cellText!==!1)&&(_.w=_.v),_.v=dL[_.v];break}if(A=N=0,K=null,L&&S.s!==void 0&&(K=p.CellXf[S.s],K!=null&&(K.numFmtId!=null&&(A=K.numFmtId),u.cellStyles&&K.fillId!=null&&(N=K.fillId))),VL(_,A,N,u,h,p),u.cellDates&&L&&_.t=="n"&&Jl(Ie[A])&&(_.t="d",_.v=kx(_.v)),S.cm&&u.xlmeta){var le=(u.xlmeta.Cell||[])[+S.cm-1];le&&le.type=="XLDAPR"&&(_.D=!0)}if(q){var D=Dn(S.r);c[D.r]||(c[D.r]=[]),c[D.r][D.c]=_}else c[S.r]=_}}}}I.length>0&&(c["!rows"]=I)}}();function Wbe(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var Hbe=Zl;function Kbe(){}function Gbe(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=mve(e),r}function qbe(e){var t=za(e);return[t]}function Ybe(e){var t=Ql(e);return[t]}function Xbe(e){var t=za(e),r=e.read_shift(1);return[t,r,"b"]}function Jbe(e){var t=Ql(e),r=e.read_shift(1);return[t,r,"b"]}function Qbe(e){var t=za(e),r=e.read_shift(1);return[t,r,"e"]}function Zbe(e){var t=Ql(e),r=e.read_shift(1);return[t,r,"e"]}function ewe(e){var t=za(e),r=e.read_shift(4);return[t,r,"s"]}function twe(e){var t=Ql(e),r=e.read_shift(4);return[t,r,"s"]}function rwe(e){var t=za(e),r=xn(e);return[t,r,"n"]}function HL(e){var t=Ql(e),r=xn(e);return[t,r,"n"]}function nwe(e){var t=za(e),r=GS(e);return[t,r,"n"]}function awe(e){var t=Ql(e),r=GS(e);return[t,r,"n"]}function swe(e){var t=za(e),r=HS(e);return[t,r,"is"]}function iwe(e){var t=za(e),r=Sn(e);return[t,r,"str"]}function owe(e){var t=Ql(e),r=Sn(e);return[t,r,"str"]}function lwe(e,t,r){var n=e.l+t,a=za(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=Cx(e,n-e.l,r);i[3]=mn(o,null,a,r.supbooks,r)}else e.l=n;return i}function cwe(e,t,r){var n=e.l+t,a=za(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=Cx(e,n-e.l,r);i[3]=mn(o,null,a,r.supbooks,r)}else e.l=n;return i}function uwe(e,t,r){var n=e.l+t,a=za(e);a.r=r["!row"];var s=xn(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=Cx(e,n-e.l,r);i[3]=mn(o,null,a,r.supbooks,r)}else e.l=n;return i}function dwe(e,t,r){var n=e.l+t,a=za(e);a.r=r["!row"];var s=Sn(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=Cx(e,n-e.l,r);i[3]=mn(o,null,a,r.supbooks,r)}else e.l=n;return i}var fwe=Zl;function hwe(e,t){var r=e.l+t,n=Zl(e),a=KS(e),s=Sn(e),i=Sn(e),o=Sn(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function pwe(){}function mwe(e,t,r){var n=e.l+t,a=lL(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=bbe(e,n-e.l,r);i[1]=o}else e.l=n;return i}function vwe(e,t,r){var n=e.l+t,a=Zl(e),s=[a];if(r.cellFormula){var i=_be(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var gwe=["left","right","top","bottom","header","footer"];function xwe(e){var t={};return gwe.forEach(function(r){t[r]=xn(e)}),t}function ywe(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function bwe(){}function wwe(){}function _we(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,v,g,x,b,y,k,E,_=[];o.biff=12,o["!row"]=0;var S=0,C=!1,T=[],j={},P=o.supbooks||a.supbooks||[[]];if(P.sharedf=j,P.arrayf=T,P.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=P,a.Names))for(var A=0;A<a.Names.length;++A)P[0][A+1]=a.Names[A];var N=[],L=[],K=!1;Mv[16]={n:"BrtShortReal",f:HL};var X;if(Li(e,function(I,J,Q){if(!h)switch(Q){case 148:c=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),k=nn(g=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=s0(I.hpt)),L[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":y=Jd[I[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=ec[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((v=i.CellXf[I[0].iStyleRef])&&VL(m,v.numFmtId,null,o,s,i),x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[jr(x)+k]=m,o.cellFormula){for(C=!1,S=0;S<T.length;++S){var M=T[S];p.r>=M[0].s.r&&p.r<=M[0].e.r&&x>=M[0].s.c&&x<=M[0].e.c&&(m.F=Xe(M[0]),C=!0)}!C&&I.length>3&&(m.f=I[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),o.cellDates&&v&&m.t=="n"&&Jl(Ie[v.numFmtId])){var U=no(m.v);U&&(m.t="d",m.v=new Date(U.y,U.m-1,U.d,U.H,U.M,U.S,U.u))}X&&(X.type=="XLDAPR"&&(m.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[jr(x)+k]=m,u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),X&&(X.type=="XLDAPR"&&(m.D=!0),X=void 0);break;case 176:_.push(I);break;case 49:X=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var G=n["!id"][I.relId];for(G?(I.Target=G.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=G):I.relId==""&&(I.Target="#"+I.loc),g=I.rfx.s.r;g<=I.rfx.e.r;++g)for(x=I.rfx.s.c;x<=I.rfx.e.c;++x)o.dense?(l[g]||(l[g]=[]),l[g][x]||(l[g][x]={t:"z",v:void 0}),l[g][x].l=I):(b=Re({c:x,r:g}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=I);break;case 426:if(!o.cellFormula)break;T.push(I),E=o.dense?l[g][x]:l[jr(x)+k],E.f=mn(I[1],u,{r:p.r,c:x},P,o),E.F=Xe(I[0]);break;case 427:if(!o.cellFormula)break;j[Re(I[0].s)]=I[1],E=o.dense?l[g][x]:l[jr(x)+k],E.f=mn(I[1],u,{r:p.r,c:x},P,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)N[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},K||(K=!0,JS(I.w/256)),Su(N[I.e+1]);break;case 161:l["!autofilter"]={ref:Xe(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!J.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Xe(c||u)),o.sheetRows&&l["!ref"]){var W=tr(l["!ref"]);o.sheetRows<=+W.e.r&&(W.e.r=o.sheetRows-1,W.e.r>u.e.r&&(W.e.r=u.e.r),W.e.r<W.s.r&&(W.s.r=W.e.r),W.e.c>u.e.c&&(W.e.c=u.e.c),W.e.c<W.s.c&&(W.s.c=W.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Xe(W))}return _.length>0&&(l["!merges"]=_),N.length>0&&(l["!cols"]=N),L.length>0&&(l["!rows"]=L),l}function kwe(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Qe((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function Swe(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=kwe(f);u.s.r=u.s.c=0,u.e.c=o,c=jr(o),h[0].forEach(function(p,m){i[c+nn(m)]={t:"n",v:p,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(i["!ref"]=Xe(u)),i}function Ewe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(WL);return o&&ZS(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function Cwe(e,t){e.l+=10;var r=Sn(e);return{name:r}}function Twe(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Li(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var KL=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Awe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],jwe=[],Pwe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function KN(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Dt(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function GN(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Dt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function GL(e){GN(e.WBProps,KL),GN(e.CalcPr,Pwe),KN(e.WBView,Awe),KN(e.Sheets,jwe),tu.date1904=Dt(e.WBProps.date1904)}var Nwe="][*?/\\".split("");function Owe(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Nwe.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Dwe=/<\w+:workbook/;function Mwe(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Tn,function(l,c){var u=Me(l);switch(Hs(u[0])){case"<?xml":break;case"<workbook":l.match(Dwe)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":KL.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Dt(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=wt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Qe(wt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=wt(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Dt(u.hidden||"0")&&(s.Hidden=!0),i=c+l.length;break;case"</definedName>":s.Ref=Qe(wt(e.slice(i,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Qme.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return GL(r),r}function Iwe(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=Rw(e),r.name=Sn(e),r}function Rwe(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Sn(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Fwe(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Lwe(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=vve(e),i=wbe(e,0,r),o=KS(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Bwe(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],Mv[16]={n:"BrtFRTArchID$",f:Fwe},Li(e,function(l,c,u){switch(u){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=mn(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,l]):i[0]=[u,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),GL(r),r.Names=s,r.supbooks=i,r}function $we(e,t,r){return t.slice(-4)===".bin"?Bwe(e,r):Mwe(e,r)}function Uwe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?_we(e,n,r,a,s,i,o):Ibe(e,n,r,a,s,i,o)}function zwe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Twe(e,n,r,a,s):Ewe(e,n,r,a,s)}function Vwe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Jye():Qye()}function Wwe(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Yye():Xye()}function Hwe(e,t,r,n){return t.slice(-4)===".bin"?fye(e,r,n):iye(e,r,n)}function Kwe(e,t,r){return DL(e,r)}function Gwe(e,t,r){return t.slice(-4)===".bin"?Axe(e,r):Cxe(e,r)}function qwe(e,t,r){return t.slice(-4)===".bin"?Kye(e,r):Uye(e,r)}function Ywe(e,t,r){return t.slice(-4)===".bin"?Lye(e):Rye(e)}function Xwe(e,t,r,n){return r.slice(-4)===".bin"?Bye(e,t,r,n):void 0}function Jwe(e,t,r){return t.slice(-4)===".bin"?Mye(e,t,r):Iye(e,t,r)}var qL=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,YL=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wa(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(qL),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(YL),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function Qwe(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(qL),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(YL),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Zd;function Zwe(e,t){var r=Zd[e]||Qe(e);return r==="General"?Rl(t):ma(r,t)}function e2e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Dt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Wr(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qe(t)]=a}function t2e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ec[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=e0(e.v):e.w=Rl(e.v):e.w=Zwe(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Zd[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Jl(n)){var a=no(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function r2e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=eye[n.Pattern]||n.Pattern)}e[t.ID]=t}function n2e(e,t,r,n,a,s,i,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dt(e);break;case"String":n.t="s",n.r=mN(Qe(e)),n.v=e.indexOf("<")>-1?Qe(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Wr(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qe(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=dL[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=mN(t||e));break}if(t2e(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=Qe(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=eu(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=eu("RC:RC",a):n.ArrayRange&&(n.F=eu(n.ArrayRange,a),l.push([tr(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function a2e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function t1(e,t){var r=t||{};R6();var n=Cd(US(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=wt(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=rn(r);return i.type="string",n0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ke){a.indexOf("<"+ke)>=0&&(s=!0)}),s)return h2e(n,r);Zd={"General Number":"General","General Date":Ie[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Ie[15],"Short Date":Ie[14],"Long Time":Ie[19],"Medium Time":Ie[18],"Short Time":Ie[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Ie[2],Standard:Ie[4],Percent:Ie[10],Scientific:Ie[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",m={},v={},g=Wa('<Data ss:Type="String">'),x=0,b=0,y=0,k={s:{r:2e6,c:2e6},e:{r:0,c:0}},E={},_={},S="",C=0,T=[],j={},P={},A=0,N=[],L=[],K={},X=[],W,q=!1,I=[],J=[],Q={},M=0,U=0,G={Sheets:[],WBProps:{date1904:!1}},H={};r0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=r0.exec(n);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?n2e(n.slice(x,o.index),S,g,l[l.length-1][0]=="comment"?K:m,{c:b,r:y},E,X[b],v,I,r):(S="",g=Wa(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(L.length>0&&(m.c=L),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[jr(b)+nn(y)]=m),m.HRef&&(m.l={Target:Qe(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(M=b+(parseInt(m.MergeAcross,10)|0),U=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:M,r:U}})),!r.sheetStubs)m.MergeAcross?b=M+1:++b;else if(m.MergeAcross||m.MergeDown){for(var oe=b;oe<=M;++oe)for(var ce=y;ce<=U;++ce)(oe>b||ce>y)&&(r.dense?(h[ce]||(h[ce]=[]),h[ce][oe]={t:"z"}):h[jr(oe)+nn(ce)]={t:"z"});b=M+1}else++b;else m=Qwe(o[0]),m.Index&&(b=+m.Index-1),b<k.s.c&&(k.s.c=b),b>k.e.c&&(k.e.c=b),o[0].slice(-2)==="/>"&&++b,L=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<k.s.r&&(k.s.r=y),y>k.e.r&&(k.e.r=y),o[0].slice(-2)==="/>"&&(v=Wa(o[0]),v.Index&&(y=+v.Index-1)),b=0,++y):(v=Wa(o[0]),v.Index&&(y=+v.Index-1),Q={},(v.AutoFitHeight=="0"||v.Height)&&(Q.hpx=parseInt(v.Height,10),Q.hpt=OL(Q.hpx),J[y]=Q),v.Hidden=="1"&&(Q.hidden=!0,J[y]=Q));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),k.s.r<=k.e.r&&k.s.c<=k.e.c&&(h["!ref"]=Xe(k),r.sheetRows&&r.sheetRows<=k.e.r&&(h["!fullref"]=h["!ref"],k.e.r=r.sheetRows-1,h["!ref"]=Xe(k))),T.length&&(h["!merges"]=T),X.length>0&&(h["!cols"]=X),J.length>0&&(h["!rows"]=J),u[p]=h}else k={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,l.push([o[3],!1]),c=Wa(o[0]),p=Qe(c.Name),h=r.dense?[]:{},T=[],I=[],J=[],H={name:p,Hidden:0},G.Sheets.push(H);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],q=!1}break;case"style":o[1]==="/"?r2e(E,_,r):_=Wa(o[0]);break;case"numberformat":_.nf=Qe(Wa(o[0]).Format||"General"),Zd[_.nf]&&(_.nf=Zd[_.nf]);for(var Y=0;Y!=392&&Ie[Y]!=_.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(Ie[Y]==null){pi(_.nf,Y);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(W=Wa(o[0]),W.Hidden&&(W.hidden=!0,delete W.Hidden),W.Width&&(W.wpx=parseInt(W.Width,10)),!q&&W.wpx>10){q=!0,Nn=PL;for(var te=0;te<X.length;++te)X[te]&&Su(X[te])}q&&Su(W),X[W.Index-1||X.length]=W;for(var le=0;le<+W.Span;++le)X[X.length]=rn(W);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var D=Me(o[0]),Pe={Name:D.Name,Ref:eu(D.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Pe.Sheet=G.Sheets.length-1),G.Names.push(Pe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;_.Interior=Wa(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Uve(j,ee,n.slice(A,o.index)):A=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));a2e(K),L.push(K)}else l.push([o[3],!1]),c=Wa(o[0]),K={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var he=Wa(o[0]);h["!autofilter"]={ref:eu(he.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return ZN(n,r);var ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(A,o.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else A=o.index+o[0].length;break;case"header":h["!margins"]||Qd(h["!margins"]={},"xlml"),isNaN(+Me(o[0]).Margin)||(h["!margins"].header=+Me(o[0]).Margin);break;case"footer":h["!margins"]||Qd(h["!margins"]={},"xlml"),isNaN(+Me(o[0]).Margin)||(h["!margins"].footer=+Me(o[0]).Margin);break;case"pagemargins":var pe=Me(o[0]);h["!margins"]||Qd(h["!margins"]={},"xlml"),isNaN(+pe.Top)||(h["!margins"].top=+pe.Top),isNaN(+pe.Left)||(h["!margins"].left=+pe.Left),isNaN(+pe.Right)||(h["!margins"].right=+pe.Right),isNaN(+pe.Bottom)||(h["!margins"].bottom=+pe.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ge=!1}break;case"smarttags":break;default:ge=!1;break}if(ge||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?e2e(P,ee,N,n.slice(A,o.index)):(N=o,A=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ue={};return!r.bookSheets&&!r.bookProps&&(ue.Sheets=u),ue.SheetNames=f,ue.Workbook=G,ue.SSF=rn(Ie),ue.Props=j,ue.Custprops=P,ue}function $w(e,t){switch(rE(t=t||{}),t.type||"base64"){case"base64":return t1(pa(e),t);case"binary":case"buffer":case"file":return t1(e,t);case"array":return t1(Xl(e),t)}}function s2e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=yve(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=bve(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var i2e=[60,1084,2066,2165,2175];function o2e(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=si(r,r.l),c=Uw[l],u=0;c!=null&&i2e.indexOf(l)>-1;)s=si(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),i.push(o),r.l+=4+s,c=Uw[l=si(r,r.l)];var f=Zi(i);Zr(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function ms(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Ie[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ec[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=e0(e.v):e.w=Rl(e.v):e.w=ma(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&Jl(Ie[n]||String(n))){var a=no(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function wp(e,t,r){return{v:e,ixfe:t,t:r}}function l2e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],c="",u={},f,h="",p,m,v,g,x={},b=[],y,k,E=[],_=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},T=function($e){return $e<8?yl[$e]:$e<64&&_[$e-8]||yl[$e]},j=function($e,dt,Bt){var kt=dt.XF.data;if(!(!kt||!kt.patternType||!Bt||!Bt.cellStyles)){dt.s={},dt.s.patternType=kt.patternType;var hs;(hs=a0(T(kt.icvFore)))&&(dt.s.fgColor={rgb:hs}),(hs=a0(T(kt.icvBack)))&&(dt.s.bgColor={rgb:hs})}},P=function($e,dt,Bt){if(!(Q>1)&&!(Bt.sheetRows&&$e.r>=Bt.sheetRows)){if(Bt.cellStyles&&dt.XF&&dt.XF.data&&j($e,dt,Bt),delete dt.ixfe,delete dt.XF,f=$e,h=Re($e),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),$e.r<i.s.r&&(i.s.r=$e.r),$e.c<i.s.c&&(i.s.c=$e.c),$e.r+1>i.e.r&&(i.e.r=$e.r+1),$e.c+1>i.e.c&&(i.e.c=$e.c+1),Bt.cellFormula&&dt.f){for(var kt=0;kt<b.length;++kt)if(!(b[kt][0].s.c>$e.c||b[kt][0].s.r>$e.r)&&!(b[kt][0].e.c<$e.c||b[kt][0].e.r<$e.r)){dt.F=Xe(b[kt][0]),(b[kt][0].s.c!=$e.c||b[kt][0].s.r!=$e.r)&&delete dt.f,dt.f&&(dt.f=""+mn(b[kt][1],i,$e,I,A));break}}Bt.dense?(a[$e.r]||(a[$e.r]=[]),a[$e.r][$e.c]=dt):a[h]=dt}},A={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var N,L=[],K=[],X=[],W=[],q=!1,I=[];I.SheetNames=A.snames,I.sharedf=A.sharedf,I.arrayf=A.arrayf,I.names=[],I.XTI=[];var J=0,Q=0,M=0,U=[],G=[],H;A.codepage=1200,as(1200);for(var ee=!1;e.l<e.length-1;){var oe=e.l,ce=e.read_shift(2);if(ce===0&&J===10)break;var Y=e.l===e.length?0:e.read_shift(2),te=Uw[ce];if(te&&te.f){if(t.bookSheets&&J===133&&ce!==133)break;if(J=ce,te.r===2||te.r==12){var le=e.read_shift(2);if(Y-=2,!A.enc&&le!==ce&&((le&255)<<8|le>>8)!==ce)throw new Error("rt mismatch: "+le+"!="+ce);te.r==12&&(e.l+=10,Y-=10)}var D={};if(ce===10?D=te.f(e,Y,A):D=o2e(ce,te,e,Y,A),Q==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(ce){case 34:r.opts.Date1904=S.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=D;break;case 66:var Pe=Number(D);switch(Pe){case 21010:Pe=1200;break;case 32768:Pe=1e4;break;case 32769:Pe=1252;break}as(A.codepage=Pe),ee=!0;break;case 317:A.rrtabid=D;break;case 25:A.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:A.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:E.push(D);break;case 430:I.push([D]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(D);break;case 24:case 536:H={Name:D.Name,Ref:mn(D.rgce,i,null,I,A)},D.itab>0&&(H.Sheet=D.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(G[D.itab-1]={ref:Xe(D.rgce[0][0][1][2])});break;case 22:A.ExternCount=D;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(D),I.XTI=I.XTI.concat(D);break;case 2196:if(A.biff<8)break;H!=null&&(H.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&A.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,A.snames.push(D.name);break;case 10:{if(--Q)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Xe(i),t.sheetRows&&t.sheetRows<=i.e.r){var he=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Xe(i),i.e.r=he}i.e.r++,i.e.c++}L.length>0&&(a["!merges"]=L),K.length>0&&(a["!objects"]=K),X.length>0&&(a["!cols"]=X),W.length>0&&(a["!rows"]=W),S.Sheets.push(C)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),A.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(A.biff=5,ee=!0,as(A.codepage=28591)),A.biff==8&&D.BIFFVer==0&&D.dt==16&&(A.biff=2),Q++)break;if(a=t.dense?[]:{},A.biff<8&&!ee&&(ee=!0,as(A.codepage=t.codepage||1252)),A.biff<5||D.BIFFVer==0&&D.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ge={pos:e.l-Y,name:c};s[ge.pos]=ge,A.snames.push(c)}else c=(s[oe]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),L=[],K=[],A.arrayf=b=[],X=[],W=[],q=!1,C={Hidden:(s[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Re({c:D.c,r:D.r})])&&++D.c,y={ixfe:D.ixfe,XF:E[D.ixfe]||{},v:D.val,t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 5:case 517:y={ixfe:D.ixfe,XF:E[D.ixfe],v:D.val,t:D.t},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 638:y={ixfe:D.ixfe,XF:E[D.ixfe],v:D.rknum,t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 189:for(var pe=D.c;pe<=D.C;++pe){var ue=D.rkrec[pe-D.c][0];y={ixfe:ue,XF:E[ue],v:D.rkrec[pe-D.c][1],t:"n"},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:pe,r:D.r},y,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(y=wp(D.val,D.cell.ixfe,D.tt),y.XF=E[y.ixfe],t.cellFormula){var ke=D.formula;if(ke&&ke[0]&&ke[0][0]&&ke[0][0][0]=="PtgExp"){var Ve=ke[0][0][1][0],wr=ke[0][0][1][1],ln=Re({r:Ve,c:wr});x[ln]?y.f=""+mn(D.formula,i,D.cell,I,A):y.F=((t.dense?(a[Ve]||[])[wr]:a[ln])||{}).F}else y.f=""+mn(D.formula,i,D.cell,I,A)}M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P(D.cell,y,t),o=D}break;case 7:case 519:if(o)o.val=D,y=wp(D,o.cell.ixfe,"s"),y.XF=E[y.ixfe],t.cellFormula&&(y.f=""+mn(o.formula,i,o.cell,I,A)),M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var cn=Re(D[0].s);if(p=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[cn],t.cellFormula&&p){if(!o||!cn||!p)break;p.f=""+mn(D[1],i,D[0],I,A),p.F=Xe(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Re(o.cell)]=D[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Re(o.cell)],(p||{}).f=""+mn(D[0],i,f,I,A)}}break;case 253:y=wp(l[D.isst].t,D.ixfe,"s"),l[D.isst].h&&(y.h=l[D.isst].h),y.XF=E[y.ixfe],M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:D.ixfe,XF:E[D.ixfe],t:"z"},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t));break;case 190:if(t.sheetStubs)for(var zn=D.c;zn<=D.C;++zn){var st=D.ixfe[zn-D.c];y={ixfe:st,XF:E[st],t:"z"},M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:zn,r:D.r},y,t)}break;case 214:case 516:case 4:y=wp(D.val,D.ixfe,"s"),y.XF=E[y.ixfe],M>0&&(y.z=U[y.ixfe>>8&63]),ms(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 0:case 512:Q===1&&(i=D);break;case 252:l=D;break;case 1054:if(A.biff==4){U[M++]=D[1];for(var ur=0;ur<M+163&&Ie[ur]!=D[1];++ur);ur>=163&&pi(D[1],M+163)}else pi(D[1],D[0]);break;case 30:{U[M++]=D;for(var ht=0;ht<M+163&&Ie[ht]!=D;++ht);ht>=163&&pi(D,M+163)}break;case 229:L=L.concat(D);break;case 93:K[D.cmo[0]]=A.lastobj=D;break;case 438:A.lastobj.TxO=D;break;case 127:A.lastobj.ImData=D;break;case 440:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Re({c:v,r:g})],p&&(p.l=D[1]);break;case 2048:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Re({c:v,r:g})],p&&p.l&&(p.l.Tooltip=D[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;p=t.dense?(a[D[0].r]||[])[D[0].c]:a[Re(D[0])];var dr=K[D[2]];p||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),p=a[D[0].r][D[0].c]={t:"z"}):p=a[Re(D[0])]={t:"z"},i.e.r=Math.max(i.e.r,D[0].r),i.s.r=Math.min(i.s.r,D[0].r),i.e.c=Math.max(i.e.c,D[0].c),i.s.c=Math.min(i.s.c,D[0].c)),p.c||(p.c=[]),m={a:D[1],t:dr.TxO.t},p.c.push(m)}break;case 2173:Pye(E[D.ixfe],D.ext);break;case 125:{if(!A.cellStyles)break;for(;D.e>=D.s;)X[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},q||(q=!0,JS(D.w/256)),Su(X[D.e+1])}break;case 520:{var _t={};D.level!=null&&(W[D.r]=_t,_t.level=D.level),D.hidden&&(W[D.r]=_t,_t.hidden=!0),D.hpt&&(W[D.r]=_t,_t.hpt=D.hpt,_t.hpx=s0(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Qd(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=D;break;case 161:a["!margins"]||Qd(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(S.Views[0].RTL=!0);break;case 146:_=D;break;case 2198:N=D;break;case 140:k=D;break;case 442:c?C.CodeName=D||C.name:S.WBProps.CodeName=D||"ThisWorkbook";break}}else te||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=Y}return r.SheetNames=Fs(s).sort(function(Vn,$e){return Number(Vn)-Number($e)}).map(function(Vn){return s[Vn].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&G.forEach(function(Vn,$e){r.Sheets[r.SheetNames[$e]]["!autofilter"]=Vn}),r.Strings=l,r.SSF=rn(Ie),A.enc&&(r.Encryption=A.enc),N&&(r.Themes=N),r.Metadata={},k!==void 0&&(r.Metadata.Country=k),I.names.length>0&&(S.Names=I.names),r.Workbook=S,r}var qN={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function c2e(e,t,r){var n=Ye.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=NN(n,Cve,qN.DSI);for(var s in a)t[s]=a[s]}catch(c){if(r.WTF)throw c}var i=Ye.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=NN(i,Tve,qN.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(hL(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function XL(e,t){t||(t={}),rE(t),S6(),t.codepage&&MS(t.codepage);var r,n;if(e.FullPaths){if(Ye.find(e,"/encryption"))throw new Error("File is password-protected");r=Ye.find(e,"!CompObj"),n=Ye.find(e,"/Workbook")||Ye.find(e,"/Book")}else{switch(t.type){case"base64":e=rs(pa(e));break;case"binary":e=rs(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Zr(e,0),n={content:e}}var a,s;if(r&&s2e(r),t.bookProps&&!t.bookSheets)a={};else{var i=We?"buffer":"array";if(n&&n.content)a=l2e(n.content,t);else if((s=Ye.find(e,"PerfectOffice_MAIN"))&&s.content)a=Xd.to_workbook(s.content,(t.type=i,t));else if((s=Ye.find(e,"NativeContent_MAIN"))&&s.content)a=Xd.to_workbook(s.content,(t.type=i,t));else throw(s=Ye.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ye.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=qye(e))}var o={};return e.FullPaths&&c2e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var Mv={0:{f:Wbe},1:{f:qbe},2:{f:nwe},3:{f:Qbe},4:{f:Xbe},5:{f:rwe},6:{f:iwe},7:{f:ewe},8:{f:dwe},9:{f:uwe},10:{f:lwe},11:{f:cwe},12:{f:Ybe},13:{f:awe},14:{f:Zbe},15:{f:Jbe},16:{f:HL},17:{f:owe},18:{f:twe},19:{f:HS},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Lwe},40:{},42:{},43:{f:lye},44:{f:oye},45:{f:cye},46:{f:dye},47:{f:uye},48:{},49:{f:fve},50:{},51:{f:Oye},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:EL},62:{f:swe},63:{f:Fye},64:{f:bwe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:ywe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Gbe},148:{f:Hbe,p:16},151:{f:pwe},152:{},153:{f:Rwe},154:{},155:{},156:{f:Iwe},157:{},158:{},159:{T:1,f:Txe},160:{T:-1},161:{T:1,f:Zl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:fwe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Nye},336:{T:-1},337:{f:Dye,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:Rw},357:{},358:{},359:{},360:{T:1},361:{},362:{f:SL},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:mwe},427:{f:vwe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:xwe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Kbe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:hwe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:Rw},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hye},633:{T:1},634:{T:-1},635:{T:1,f:Wye},636:{T:-1},637:{f:pve},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Cwe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:wwe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},Uw={6:{f:Zy},10:{f:Ui},12:{f:pr},13:{f:pr},14:{f:rr},15:{f:rr},16:{f:xn},17:{f:rr},18:{f:rr},19:{f:pr},20:{f:IN},21:{f:IN},23:{f:SL},24:{f:FN},25:{f:rr},26:{},27:{},28:{f:zge},29:{},34:{f:rr},35:{f:RN},38:{f:xn},39:{f:xn},40:{f:xn},41:{f:xn},42:{f:rr},43:{f:rr},47:{f:Kxe},49:{f:kge},51:{f:pr},60:{},61:{f:bge},64:{f:rr},65:{f:_ge},66:{f:pr},77:{},80:{},81:{},82:{},85:{f:pr},89:{},90:{},91:{},92:{f:fge},93:{f:Wge},94:{},95:{f:rr},96:{},97:{},99:{f:rr},125:{f:EL},128:{f:Dge},129:{f:hge},130:{f:pr},131:{f:rr},132:{f:rr},133:{f:pge},134:{},140:{f:Xge},141:{f:pr},144:{},146:{f:Qge},151:{},152:{},153:{},154:{},155:{},156:{f:pr},157:{},158:{},160:{f:nxe},161:{f:exe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:jge},190:{f:Pge},193:{f:Ui},197:{},198:{},199:{},200:{},201:{},202:{f:rr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pr},220:{},221:{f:rr},222:{},224:{f:Oge},225:{f:dge},226:{f:Ui},227:{},229:{f:Vge},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:mge},253:{f:Sge},255:{f:vge},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:xL},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:rr},353:{f:Ui},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Ige},431:{f:rr},432:{},433:{},434:{},437:{},438:{f:Gge},439:{f:rr},440:{f:qge},441:{},442:{f:ph},443:{},444:{f:pr},445:{},446:{},448:{f:Ui},449:{f:yge,r:2},450:{f:Ui},512:{f:DN},513:{f:rxe},515:{f:Mge},516:{f:Ege},517:{f:MN},519:{f:axe},520:{f:gge},523:{},545:{f:LN},549:{f:ON},566:{},574:{f:wge},638:{f:Age},659:{},1048:{},1054:{f:Cge},1084:{},1212:{f:Bge},2048:{f:Yge},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:xp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Ui},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Zge,r:12},2173:{f:jye,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:rr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Lge,r:12},2197:{},2198:{f:kye,r:12},2199:{},2200:{},2201:{},2202:{f:$ge,r:12},2203:{f:Ui},2204:{},2205:{},2206:{},2207:{},2211:{f:xge},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:txe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Jge},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:DN},1:{},2:{f:lxe},3:{f:oxe},4:{f:ixe},5:{f:MN},7:{f:cxe},8:{},9:{f:xp},11:{},22:{f:pr},30:{f:Tge},31:{},32:{},33:{f:LN},36:{},37:{f:ON},50:{f:uxe},62:{},52:{},67:{},68:{f:pr},69:{},86:{},126:{},127:{f:sxe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:dxe},223:{},234:{},354:{},421:{},518:{f:Zy},521:{f:xp},536:{f:FN},547:{f:RN},561:{},579:{},1030:{f:Zy},1033:{f:xp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ha(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&sL(r)&&e.push(r)}}function YN(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=Mme(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<l.length;++i){var v=l[i].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var x=v.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,k=0;y.charAt(0)=="<"&&(k=y.indexOf(">"))>-1;)y=y.slice(k+1);for(var E=0;E<m.length;++E){var _=m[E];_.s.c==u&&_.s.r<c&&c<=_.e.r&&(u=_.e.c+1,E=-1)}var S=Me(b.slice(0,b.indexOf(">")));h=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var C=S.t||S["data-t"]||"";if(!y.length){u+=h;continue}if(y=K6(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!y.length){u+=h;continue}var T={t:"s",v:y};r.raw||!y.trim().length||C=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(cs(y))?isNaN(ku(y).getDate())||(T={t:"d",v:Wr(y)},r.cellDates||(T={t:"n",v:Bn(T.v)}),T.z=r.dateNF||Ie[14]):T={t:"n",v:cs(y)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[Re({r:c,c:u})]=T,u+=h}}}}return n["!ref"]=Xe(p),m.length&&(n["!merges"]=m),n}function u2e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>i)&&!(a[c].e.r<r||a[c].e.c<i)){if(a[c].s.r<r||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Re({r,c:i}),f=n.dense?(e[r]||[])[i]:e[u],h=f&&f.v!=null&&(f.h||$S(f.w||(Pi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,s.push(Xme("td",h,p))}}var m="<tr>";return m+s.join("")+"</tr>"}var d2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',f2e="</body></html>";function h2e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Lo(YN(r[0],t),t);var n=aE();return r.forEach(function(a,s){sE(n,YN(a,t),"Sheet"+(s+1))}),n}function p2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function m2e(e,t){var r=t||{},n=r.header!=null?r.header:d2e,a=r.footer!=null?r.footer:f2e,s=[n],i=Wu(e["!ref"]);r.dense=Array.isArray(e),s.push(p2e(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(u2e(e,i,o,r));return s.push("</table>"+a),s.join("")}function JL(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Dn(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=Wu(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,v=0,g=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&v<l;++m){var k=o[m];if(XN(k)){if(n.display)continue;p[v]={hidden:!0}}var E=k.children;for(g=x=0;g<E.length;++g){var _=E[g];if(!(n.display&&XN(_))){var S=_.hasAttribute("data-v")?_.getAttribute("data-v"):_.hasAttribute("v")?_.getAttribute("v"):K6(_.innerHTML),C=_.getAttribute("data-z")||_.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==x+s&&T.s.r<v+a&&v+a<=T.e.r&&(x=T.e.c+1-s,h=-1)}y=+_.getAttribute("colspan")||1,((b=+_.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:x+s},e:{r:v+a+(b||1)-1,c:x+s+(y||1)-1}});var j={t:"s",v:S},P=_.getAttribute("data-t")||_.getAttribute("t")||"";S!=null&&(S.length==0?j.t=P||"z":n.raw||S.trim().length==0||P=="s"||(S==="TRUE"?j={t:"b",v:!0}:S==="FALSE"?j={t:"b",v:!1}:isNaN(cs(S))?isNaN(ku(S).getDate())||(j={t:"d",v:Wr(S)},n.cellDates||(j={t:"n",v:Bn(j.v)}),j.z=n.dateNF||Ie[14]):j={t:"n",v:cs(S)})),j.z===void 0&&C!=null&&(j.z=C);var A="",N=_.getElementsByTagName("A");if(N&&N.length)for(var L=0;L<N.length&&!(N[L].hasAttribute("href")&&(A=N[L].getAttribute("href"),A.charAt(0)!="#"));++L);A&&A.charAt(0)!="#"&&(j.l={Target:A}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][x+s]=j):e[Re({c:x+s,r:v+a})]=j,c.e.c<x+s&&(c.e.c=x+s),x+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=Xe(c),v>=l&&(e["!fullref"]=Xe((c.e.r=o.length-m+v-1+a,c))),e}function QL(e,t){var r=t||{},n=r.dense?[]:{};return JL(n,e,t)}function v2e(e,t){return Lo(QL(e,t),t)}function XN(e){var t="",r=g2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function g2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function x2e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qe(t.replace(/<[^>]*>/g,""));return[r]}var JN={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function ZL(e,t){var r=t||{},n=US(e),a=[],s,i,o={name:""},l="",c=0,u,f,h={},p=[],m=r.dense?[]:{},v,g,x={value:""},b="",y=0,k=[],E=-1,_=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,T={},j=[],P={},A=0,N=0,L=[],K=1,X=1,W=[],q={Names:[]},I={},J=["",""],Q=[],M={},U="",G=0,H=!1,ee=!1,oe=0;for(r0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=r0.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?m["!ref"]=Xe(S):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(m["!fullref"]=m["!ref"],S.e.r=r.sheetRows-1,m["!ref"]=Xe(S)),j.length&&(m["!merges"]=j),L.length&&(m["!rows"]=L),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=m,ee=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Me(v[0],!1),E=_=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,m=r.dense?[]:{},j=[],L=[],ee=!0);break;case"table-row-group":v[1]==="/"?--C:++C;break;case"table-row":case"":if(v[1]==="/"){E+=K,K=1;break}if(f=Me(v[0],!1),f.?E=f.-1:E==-1&&(E=0),K=+f["number-rows-repeated"]||1,K<10)for(oe=0;oe<K;++oe)C>0&&(L[E+oe]={level:C});_=-1;break;case"covered-table-cell":v[1]!=="/"&&++_,r.sheetStubs&&(r.dense?(m[E]||(m[E]=[]),m[E][_]={t:"z"}):m[Re({r:E,c:_})]={t:"z"}),b="",k=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++_,x=Me(v[0],!1),X=parseInt(x["number-columns-repeated"]||"1",10),g={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(g.f=HN(Qe(x.formula))),(x.||x["value-type"])=="string"&&(g.t="s",g.v=Qe(x["string-value"]||""),r.dense?(m[E]||(m[E]=[]),m[E][_]=g):m[Re({r:E,c:_})]=g),_+=X-1;else if(v[1]!=="/"){++_,b="",y=0,k=[],X=1;var ce=K?E+K-1:E;if(_>S.e.c&&(S.e.c=_),_<S.s.c&&(S.s.c=_),E<S.s.r&&(S.s.r=E),ce>S.e.r&&(S.e.r=ce),x=Me(v[0],!1),Q=[],M={},g={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Qe(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(A=parseInt(x["number-matrix-rows-spanned"],10)||0,N=parseInt(x["number-matrix-columns-spanned"],10)||0,P={s:{r:E,c:_},e:{r:E+A-1,c:_+N-1}},g.F=Xe(P),W.push([P,g.F])),x.formula)g.f=HN(x.formula);else for(oe=0;oe<W.length;++oe)E>=W[oe][0].s.r&&E<=W[oe][0].e.r&&_>=W[oe][0].s.c&&_<=W[oe][0].e.c&&(g.F=W[oe][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(A=parseInt(x["number-rows-spanned"],10)||0,N=parseInt(x["number-columns-spanned"],10)||0,P={s:{r:E,c:_},e:{r:E+A-1,c:_+N-1}},j.push(P)),x["number-columns-repeated"]&&(X=parseInt(x["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Dt(x["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(x.value);break;case"percentage":g.t="n",g.v=parseFloat(x.value);break;case"currency":g.t="n",g.v=parseFloat(x.value);break;case"date":g.t="d",g.v=Wr(x["date-value"]),r.cellDates||(g.t="n",g.v=Bn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=Nme(x["time-value"])/86400,r.cellDates&&(g.t="d",g.v=kx(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(x.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",x["string-value"]!=null&&(b=Qe(x["string-value"]),k=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=b||"",k.length&&(g.R=k),H=y==0),I.Target&&(g.l=I),Q.length>0&&(g.c=Q,Q=[]),b&&r.cellText!==!1&&(g.w=b),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=E))for(var Y=0;Y<K;++Y){if(X=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(m[E+Y]||(m[E+Y]=[]),m[E+Y][_]=Y==0?g:rn(g);--X>0;)m[E+Y][_+X]=rn(g);else for(m[Re({r:E+Y,c:_})]=g;--X>0;)m[Re({r:E+Y,c:_+X})]=rn(g);S.e.c<=_&&(S.e.c=_)}X=parseInt(x["number-columns-repeated"]||"1",10),_+=X-1,X=0,g={},b="",k=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;M.t=b,k.length&&(M.R=k),M.a=U,Q.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);U="",G=0,b="",y=0,k=[];break;case"creator":v[1]==="/"?U=n.slice(G,v.index):G=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);b="",y=0,k=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(T[o.name]=l,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=Me(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Me(v[0],!1),l+=JN[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Me(v[0],!1),l+=JN[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":i=Me(v[0],!1),J=e1(i["cell-range-address"]);var te={Name:i.name,Ref:J[0]+"!"+J[1]};ee&&(te.Sheet=p.length),q.Names.push(te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!x||!x["string-value"])){var le=x2e(n.slice(y,v.index));b=(b.length>0?b+`
`:"")+le[0]}else Me(v[0],!1),y=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{J=e1(Me(v[0])["target-range-address"]),h[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(I=Me(v[0],!1),!I.href)break;I.Target=Qe(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(J=e1(I.Target.slice(1)),I.Target="#"+J[0]+"!"+J[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var D={Sheets:h,SheetNames:p,Workbook:q};return r.bookSheets&&delete D.Sheets,D}function QN(e,t){t=t||{},Ca(e,"META-INF/manifest.xml")&&Mve(hr(e,"META-INF/manifest.xml"),t);var r=ia(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=ZL(wt(r),t);return Ca(e,"meta.xml")&&(n.Props=fL(hr(e,"meta.xml"))),n}function ZN(e,t){return ZL(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function eE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function zw(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):wt(Xl(e))}function Vw(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function eO(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function y2e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function i0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Pr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function wn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=i0(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=i0(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:s};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function tE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function b2e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=i0(e,n),s=wn(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Pr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=wn(o.data),c=Pr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=s[3])!=null&&t[0]&&(i.merge=Pr(s[3][0].data)>>>0>0),r.push(i)}return r}function w2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=i0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,c=0;if(s==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Vw(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=Vw(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function _2e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(w2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Vw(t)}function k2e(e,t,r,n){var a=eE(e),s=a.getUint32(4,!0),i=(n>1?12:8)+eO(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=eO(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(c=a.getFloat64(i,!0),i+=8),s&64&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function S2e(e,t,r){var n=eE(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=y2e(e,s),s+=16),a&2&&(c=n.getFloat64(s,!0),s+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function E2e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return k2e(e,t,r,e[0]);case 5:return S2e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function vo(e){var t=wn(e);return i0(t[1][0].data)}function tO(e,t){var r=wn(t.data),n=Pr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=wn(i.data),l=Pr(o[1][0].data)>>>0;switch(n){case 1:s[l]=zw(o[3][0].data);break;case 8:{var c=e[vo(o[9][0].data)][0],u=wn(c.data),f=e[vo(u[1][0].data)][0],h=Pr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=wn(f.data);s[l]=p[3].map(function(m){return zw(m.data)}).join("")}break}}),s}function C2e(e,t){var r,n,a,s,i,o,l,c,u,f,h,p,m,v,g=wn(e),x=Pr(g[1][0].data)>>>0,b=Pr(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Pr(g[8][0].data)>0||!1,k,E;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)k=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,E=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)k=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,E=(v=(m=g[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var _=y?4:1,S=eE(k),C=[],T=0;T<k.length/2;++T){var j=S.getUint16(T*2,!0);j<65535&&C.push([T,j])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var P=[];for(T=0;T<C.length-1;++T)P[C[T][0]]=E.subarray(C[T][1]*_,C[T+1][1]*_);return C.length>=1&&(P[C[C.length-1][0]]=E.subarray(C[C.length-1][1]*_)),{R:x,cells:P}}function T2e(e,t){var r,n=wn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Pr(n[7][0].data)>>>0>0?1:0:-1,s=tE(n[5],function(i){return C2e(i,a)});return{nrows:Pr(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=l}),i},[])}}function A2e(e,t,r){var n,a=wn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Pr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Pr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Xe(s);var i=wn(a[4][0].data),o=tO(e,e[vo(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?tO(e,e[vo(i[17][0].data)][0]):[],c=wn(i[3][0].data),u=0;c[1].forEach(function(f){var h=wn(f.data),p=e[vo(h[2][0].data)][0],m=Pr(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=T2e(e,p);v.data.forEach(function(g,x){g.forEach(function(b,y){var k=Re({r:u+x,c:y}),E=E2e(b,o,l);E&&(r[k]=E)})}),u+=v.nrows})}function j2e(e,t){var r=wn(t.data),n={"!ref":"A1"},a=e[vo(r[2][0].data)],s=Pr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return A2e(e,a[0],n),n}function P2e(e,t){var r,n=wn(t.data),a={name:(r=n[1])!=null&&r[0]?zw(n[1][0].data):"",sheets:[]},s=tE(n[2],vo);return s.forEach(function(i){e[i].forEach(function(o){var l=Pr(o.meta[1][0].data);l==6e3&&a.sheets.push(j2e(e,o))})}),a}function N2e(e,t){var r=aE(),n=wn(t.data),a=tE(n[1],vo);if(a.forEach(function(s){e[s].forEach(function(i){var o=Pr(i.meta[1][0].data);if(o==2){var l=P2e(e,i);l.sheets.forEach(function(c,u){sE(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function r1(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=_2e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=b2e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Pr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(c){var u=Pr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return N2e(s,o)}function O2e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function rE(e){O2e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function D2e(e){return Lc.WS.indexOf(e)>-1?"sheet":e==Lc.CS?"chart":e==Lc.DS?"dialog":e==Lc.MS?"macro":e&&e.length?e:"sheet"}function M2e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,D2e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function I2e(e,t,r,n,a,s,i,o,l,c,u,f){try{s[n]=qd(ia(e,r,!0),t);var h=hr(e,t),p;switch(o){case"sheet":p=Uwe(h,t,a,l,s[n],c,u,f);break;case"chart":if(p=zwe(h,t,a,l,s[n],c,u,f),!p||!p["!drawel"])break;var m=Ad(p["!drawel"].Target,t),v=Fw(m),g=$ye(ia(e,m,!0),qd(ia(e,v,!0),m)),x=Ad(g,m),b=Fw(x);p=Swe(ia(e,x,!0),x,l,qd(ia(e,b,!0),x),c,p);break;case"macro":p=Vwe(h,t,a,l,s[n],c,u,f);break;case"dialog":p=Wwe(h,t,a,l,s[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var y=[];s&&s[n]&&Fs(s[n]).forEach(function(k){var E="";if(s[n][k].Type==Lc.CMNT){E=Ad(s[n][k].Target,t);var _=qwe(hr(e,E,!0),E,l);if(!_||!_.length)return;$N(p,_,!1)}s[n][k].Type==Lc.TCMNT&&(E=Ad(s[n][k].Target,t),y=y.concat(zye(hr(e,E,!0),l)))}),y&&y.length&&$N(p,y,!0,l.people||[])}catch(k){if(l.WTF)throw k}}function ba(e){return e.charAt(0)=="/"?e.slice(1):e}function R2e(e,t){if(R6(),t=t||{},rE(t),Ca(e,"META-INF/manifest.xml")||Ca(e,"objectdata.xml"))return QN(e,t);if(Ca(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof r1<"u"){if(e.FileIndex)return r1(e);var r=Ye.utils.cfb_new();return hN(e).forEach(function(L){Fme(r,L,Rme(e,L))}),r1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ca(e,"[Content_Types].xml"))throw Ca(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ca(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=hN(e),a=Ove(ia(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",hr(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!hr(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Jd=[],a.sst)try{Jd=Gwe(hr(e,ba(a.sst)),a.sst,t)}catch(L){if(t.WTF)throw L}t.cellStyles&&a.themes.length&&(l=Kwe(ia(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Hwe(hr(e,ba(a.style)),a.style,l,t))}a.links.map(function(L){try{var K=qd(ia(e,Fw(ba(L))),L);return Xwe(hr(e,ba(L)),K,L,t)}catch{}});var u=$we(hr(e,ba(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=hr(e,ba(a.coreprops[0]),!0),h&&(f=fL(h)),a.extprops.length!==0&&(h=hr(e,ba(a.extprops[0]),!0),h&&Fve(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ia(e,ba(a.custprops[0]),!0),h&&(p=Bve(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?i=u.Sheets.map(function(K){return K.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof i<"u"&&(m.SheetNames=i),t.bookSheets?m.SheetNames:t.bookProps))return m;i={};var v={};t.bookDeps&&a.calcchain&&(v=Ywe(hr(e,ba(a.calcchain)),a.calcchain));var g=0,x={},b,y;{var k=u.Sheets;f.Worksheets=k.length,f.SheetNames=[];for(var E=0;E!=k.length;++E)f.SheetNames[E]=k[E].name}var _=s?"bin":"xml",S=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,S+1)+"_rels/"+a.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");Ca(e,C)||(C="xl/_rels/workbook."+_+".rels");var T=qd(ia(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Jwe(hr(e,ba(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Vye(hr(e,ba(a.people[0])),t)),T&&(T=M2e(T,u.Sheets));var j=hr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var P="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),Ca(e,b)||(b=T[g][1]),Ca(e,b)||(b=C.replace(/_rels\/.*$/,"")+T[g][1]),P=T[g][2]):(b="xl/worksheets/sheet"+(g+1-j)+"."+_,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(A=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}I2e(e,b,y,f.SheetNames[g],g,x,i,P,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:v,Sheets:i,SheetNames:f.SheetNames,Strings:Jd,Styles:c,Themes:l,SSF:rn(Ie)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(L,K){L=L.replace(/^Root Entry[\/]/,""),m.keys.push(L),m.files[L]=e.FileIndex[K]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=hr(e,ba(a.vba[0]),!0):a.defaults&&a.defaults.bin===Gye&&(m.vbaraw=hr(e,"xl/vbaProject.bin",!0))),m}function F2e(e,t){var r=t||{},n="Workbook",a=Ye.find(e,n);try{if(n="/!DataSpaces/Version",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(jxe(a.content),n="/!DataSpaces/DataSpaceMap",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Nxe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=Oxe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);Mxe(a.content)}catch{}if(n="/EncryptionInfo",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Ixe(a.content);if(n="/EncryptedPackage",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function nE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=pa(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function L2e(e,t){return Ye.find(e,"EncryptedPackage")?F2e(e,t):XL(e,t)}function B2e(e,t){var r,n=e,a=t||{};return a.type||(a.type=We&&Buffer.isBuffer(e)?"buffer":"base64"),r=V6(n,a),R2e(r,a)}function eB(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return $w(e.slice(r),t);default:break e}return n0.to_workbook(e,t)}function $2e(e,t){var r="",n=nE(e,t);switch(t.type){case"base64":r=pa(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Fl(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=wt(r)),t.type="binary",eB(r,t)}function U2e(e,t){var r=e;return t.type=="base64"&&(r=pa(r)),r=Zf.utils.decode(1200,r.slice(2),"str"),t.type="binary",eB(r,t)}function z2e(e){return e.match(/[^\x00-\x7F]/)?jd(e):e}function n1(e,t,r,n){return n?(r.type="string",n0.to_workbook(e,r)):n0.to_workbook(t,r)}function Ww(e,t){S6();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return Ww(new Uint8Array(e),(r=rn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),tu={},r.dateNF&&(tu.dateNF=r.dateNF),r.type||(r.type=We&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=We?"buffer":"binary",n=jme(e),typeof Uint8Array<"u"&&!We&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=z2e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=rn(r),r.type="array",Ww(IS(n),r)}switch((a=nE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return L2e(Ye.read(n,r),r);break;case 9:if(a[1]<=8)return XL(n,r);break;case 60:return $w(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return vxe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return pxe.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?B2e(n,r):n1(e,n,r,s);case 239:return a[3]===60?$w(n,r):n1(e,n,r,s);case 255:if(a[1]===254)return U2e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Xd.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Xd.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return BN.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Gxe.to_workbook(n,r);break;case 10:case 13:case 32:return $2e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return fxe.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?BN.to_workbook(n,r):n1(e,n,r,s)}function V2e(e,t,r,n,a,s,i,o){var l=nn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=i?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[p]!=null){if(v==null)if(m.t=="e"&&v===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&v===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?v:Pi(m,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function Hw(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=tr(u);break;case"number":l=tr(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=nn(l.s.r),h=[],p=[],m=0,v=0,g=Array.isArray(e),x=l.s.r,b=0,y={};g&&!e[x]&&(e[x]=[]);var k=c.skipHidden&&e["!cols"]||[],E=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(k[b]||{}).hidden)switch(h[b]=jr(b),r=g?e[x][b]:e[h[b]+f],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Pi(r,null,c),v=y[i]||0,!v)y[i]=1;else{do o=i+"_"+v++;while(y[o]);y[i]=v,y[o]=1}s[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(E[x]||{}).hidden){var _=V2e(e,l,x,h,n,s,g,c);(_.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=_.row)}return p.length=m,p}var rO=/"/g;function W2e(e,t,r,n,a,s,i,o){for(var l=!0,c=[],u="",f=nn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Pi(p,null,o));for(var m=0,v=0;m!==u.length;++m)if((v=u.charCodeAt(m))===a||v===s||v===34||o.forceQuotes){u='"'+u.replace(rO,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(rO,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(i)}function tB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=tr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=jr(m));for(var v=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(u=W2e(e,a,g,f,i,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((v++?o:"")+u)));return delete n.dense,r.join("")}function H2e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=tB(e,t);return r}function K2e(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=tr(e["!ref"]),s="",i=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=jr(o);for(var u=a.s.r;u<=a.e.r;++u)for(s=nn(u),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function rB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Dn(n.origin):n.origin;i=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=tr(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(i=f.e.r+1,u.e.r=i+t.length-1+a)}else i==-1&&(i=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,g){Fs(v).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var b=v[x],y="z",k="",E=Re({c:o+p,r:i+g+a});c=o0(s,E),b&&typeof b=="object"&&!(b instanceof Date)?s[E]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Bn(b)),k=n.dateNF||Ie[14]):b===null&&n.nullError&&(y="e",b=0),c?(c.t=y,c.v=b,delete c.w,delete c.R,k&&(c.z=k)):s[E]=c={t:y,v:b},k&&(c.z=k))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=nn(i);if(a)for(p=0;p<h.length;++p)s[jr(p+o)+m]={t:"s",v:h[p]};return s["!ref"]=Xe(u),s}function G2e(e,t){return rB(null,e,t)}function o0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Dn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?o0(e,Re(t)):o0(e,Re({r:t,c:r||0}))}function q2e(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function aE(){return{SheetNames:[],Sheets:{}}}function sE(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(Owe(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Y2e(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=q2e(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function X2e(e,t){return e.z=t,e}function nB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function J2e(e,t,r){return nB(e,"#"+t,r)}function Q2e(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Z2e(e,t,r,n){for(var a=typeof t!="string"?t:tr(t),s=typeof t=="string"?t:Xe(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=o0(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var nO={encode_col:jr,encode_row:nn,encode_cell:Re,encode_range:Xe,decode_col:WS,decode_row:VS,split_cell:dve,decode_cell:Dn,decode_range:Wu,format_cell:Pi,sheet_add_aoa:oL,sheet_add_json:rB,sheet_add_dom:JL,aoa_to_sheet:Hu,json_to_sheet:G2e,table_to_sheet:QL,table_to_book:v2e,sheet_to_csv:tB,sheet_to_txt:H2e,sheet_to_json:Hw,sheet_to_html:m2e,sheet_to_formulae:K2e,sheet_to_row_object_array:Hw,sheet_get_cell:o0,book_new:aE,book_append_sheet:sE,book_set_sheet_visibility:Y2e,cell_set_number_format:X2e,cell_set_hyperlink:nB,cell_set_internal_link:J2e,cell_add_comment:Q2e,sheet_set_array_formula:Z2e,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const e_e={"nome da campanha":"campaign",campanha:"campaign",dia:"date","valor usado (brl)":"spend",custo:"spend",impresses:"impressions","impr.":"impressions",resultados:"results",conv:"conversions",converses:"conversions",frequncia:"frequency",alcance:"reach",cpm:"cpm","cpm mdio":"cpm","cliques no link":"clicks",cliques:"clicks",cpc:"cpc","cpc md.":"cpc",ctr:"ctr"},aO={"extrao meta ads_downloads":{channel:"meta",defaultObjective:null},"extrao meta_marca+downloads":{channel:"meta",defaultObjective:null},"extrao google ads_marca+b2c":{channel:"google",defaultObjective:null},"extrao alcance bf 2025":{channel:"meta",defaultObjective:null}},t_e=e=>e.trim().toLowerCase(),r_e=e=>{if(!e)return null;let t;if(typeof e=="number")t=F6.parse_date_code(e),t=new Date(t.y,t.m-1,t.d);else if(e instanceof Date)t=e;else{const r=String(e).trim();r.includes("-")?t=new Date(r):r.includes("/")?t=Nhe(r,"dd/MM/yyyy",new Date):t=new Date(r)}return e6(t)?t.toISOString():null},n_e=(e,t)=>{const r=e.toLowerCase();return r.includes("download")||r.includes("app")?"b2c":"marca"},sO=e=>{if(typeof e=="number")return e;if(!e)return 0;let t=String(e);t=t.replace("R$","").trim(),t=t.replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r},iE=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var s;try{const i=(s=a.target)==null?void 0:s.result,o=Ww(i,{type:"binary"});let l=[];const c=new Map,u=o.SheetNames.find(p=>p.toLowerCase().includes("de-para")||p.toLowerCase().includes("depara"));if(u){const p=o.Sheets[u];nO.sheet_to_json(p,{header:1}).forEach(v=>{if(v.length>=2){const g=String(v[0]).trim(),x=String(v[1]).trim().toLowerCase();g&&(x==="marca"||x==="branding"?c.set(g,"marca"):(x==="b2c"||x==="prafal"||x==="performance")&&c.set(g,"b2c"))}}),console.log(`De-Para carregado com ${c.size} mapeamentos.`)}Object.keys(aO).forEach(p=>{const m=o.SheetNames.find(y=>y.toLowerCase()===p.toLowerCase());if(!m)return;const v=aO[p],g=o.Sheets[m],b=nO.sheet_to_json(g).map(y=>{const k={channel:v.channel};return Object.keys(y).forEach(E=>{const _=t_e(E),S=e_e[_];if(S)if(S==="date"){const C=r_e(y[E]);C&&(k.date=C)}else S==="campaign"?k.campaign=String(y[E]).trim():S==="results"?k.results=sO(y[E]):k[S]=sO(y[E])}),!k.campaign||!k.date?null:(k.campaign&&c.has(k.campaign)?k.objective=c.get(k.campaign):k.objective=n_e(k.campaign,v.defaultObjective),k.conversions===void 0&&k.results!==void 0&&(k.objective==="b2c"?k.conversions=k.results:(k.reach||(k.reach=k.results),k.conversions=0)),k.spend=k.spend||0,k.impressions=k.impressions||0,k.clicks=k.clicks||0,k.conversions=k.conversions||0,!k.cpm&&k.impressions>0&&(k.cpm=k.spend/k.impressions*1e3),!k.cpc&&k.clicks>0&&(k.cpc=k.spend/k.clicks),!k.ctr&&k.impressions>0&&(k.ctr=k.clicks/k.impressions),k)}).filter(y=>y!==null);l=[...l,...b]});const f=[],h=new Map;l.forEach(p=>{const m=p.date.substring(0,10),v=`${p.campaign}|${m}`,g=h.get(v)||[];g.some(b=>Math.abs(b-p.spend)<.1)||(f.push(p),h.set(v,[...g,p.spend]))}),t(f)}catch(i){r(i)}},n.onerror=a=>r(a),n.readAsBinaryString(e)}),a_e=()=>{const{activities:e,b2cData:t,paidMediaData:r}=Tr(),[n,a]=w.useState("idle"),[s,i]=w.useState(""),[o,l]=w.useState(0),[c,u]=w.useState([]),f=p=>u(m=>[`${new Date().toLocaleTimeString()} - ${p}`,...m].slice(0,100)),h=async()=>{if(confirm(`Confirmar migrao de:
- ${e.length} Atividades
- ${t.length} Registros B2C
- ${r.length} Mtricas de Mdia

Isso enviar tudo para o Banco de Dados.`)){a("migrating"),l(0),u([]),f("Iniciando migrao...");try{const m=e.length;let v=0;if(m===0)throw new Error("Nenhum registro encontrado em memria. Re-importe o CSV primeiro.");for(let g=0;g<m;g+=50){const x=e.slice(g,g+50),b=_=>{if(typeof _=="number")return _;if(!_)return 0;let S=String(_).replace("R$","").replace("%","").trim();return S.includes(",")&&(S=S.split(".").join("").replace(",",".")),parseFloat(S)||0},y=_=>{if(!_)return null;try{const S=new Date(_);return isNaN(S.getTime())?null:S.toISOString()}catch{return null}},k=x.map(_=>{var S,C,T,j,P,A,N,L,K,X,W,q,I,J,Q,M,U,G,H,ee,oe,ce,Y,te,le,D,Pe,he,ge,pe,ue,ke;return{activity_id:_.id,data_disparo:new Date(_.dataDisparo).toISOString(),data_fim:y((S=_.raw)==null?void 0:S["Data Fim"]),bu:_.bu,canal:_.canal,segmento:_.segmento,segmento_sigla:(C=_.raw)==null?void 0:C["SIGLA.1"],subgrupo:(T=_.raw)==null?void 0:T.Subgrupos,jornada:_.jornada,etapa_aquisicao:(j=_.raw)==null?void 0:j["Etapa de aquisio"],ordem_disparo:_.ordemDisparo?String(_.ordemDisparo):null,parceiro:_.parceiro,parceiro_sigla:(P=_.raw)==null?void 0:P.SIGLA,safra:_.safraKey,perfil_credito:(A=_.raw)==null?void 0:A["Perfil de Crdito"],produto:(N=_.raw)==null?void 0:N.Produto,oferta:_.oferta,oferta_sigla:(L=_.raw)==null?void 0:L["SIGLA.2"],oferta_2:(K=_.raw)==null?void 0:K["Oferta 2"],promocional:_.promocional,promocional_2:(X=_.raw)==null?void 0:X["Promocional 2"],disparado:(W=_.raw)==null?void 0:W["Disparado?"],base_total:b((q=_.raw)==null?void 0:q["Base Total"]),base_acionavel:b((I=_.raw)==null?void 0:I["Base Acionvel"]),optimizacao_base:b((J=_.raw)==null?void 0:J["% Otimizao de base"]),base_enviada:_.kpis.baseEnviada||b((Q=_.raw)==null?void 0:Q["Base Enviada"])||0,custo_unitario_oferta:b((M=_.raw)==null?void 0:M["Custo Unitrio Oferta"]),custo_total_oferta:b((U=_.raw)==null?void 0:U["Custo Total da Oferta"]),custo_unitario_canal:b((G=_.raw)==null?void 0:G["Custo unitrio do canal"]),custo_total_canal:b((H=_.raw)==null?void 0:H["Custo total canal"]),custo_total_campanha:b((ee=_.raw)==null?void 0:ee["Custo Total Campanha"]),custo_total:_.kpis.custoTotal||b((oe=_.raw)==null?void 0:oe["Custo total canal"])||0,taxa_entrega:b((ce=_.raw)==null?void 0:ce["Taxa de Entrega"]),taxa_abertura:b((Y=_.raw)==null?void 0:Y["Taxa de Abertura"]),taxa_clique:b((te=_.raw)==null?void 0:te["Taxa de Clique"]),taxa_proposta:b((le=_.raw)==null?void 0:le["Taxa de Proposta"]),taxa_aprovacao:b((D=_.raw)==null?void 0:D["Taxa de Aprovao"]),taxa_finalizacao:b((Pe=_.raw)==null?void 0:Pe["Taxa de Finalizao"]),taxa_conversao:b((he=_.raw)==null?void 0:he["Taxa de Converso"]),propostas:b((ge=_.raw)==null?void 0:ge.Propostas),aprovados:_.kpis.aprovados||b((pe=_.raw)==null?void 0:pe.Aprovados)||0,cartoes_gerados:_.kpis.cartoes||b((ue=_.raw)==null?void 0:ue["Cartes Gerados"])||0,emissoes:_.kpis.emissoes||0,cac:_.kpis.cac||b((ke=_.raw)==null?void 0:ke.CAC)||0,filename:"migration_v3_full"}}),{error:E}=await ns.from("activities").insert(k);if(E)throw console.error(E),f(`Erro no lote ${g}: ${E.code} - ${E.message}`),E;v+=x.length,l(Math.round(v/m*100)),await new Promise(_=>setTimeout(_,100))}if(t.length>0){f(`Migrando ${t.length} registros B2C...`);const g=t.map(b=>({data:b.data,propostas_total:b.propostas_b2c_total,emissoes_total:b.emissoes_b2c_total,percentual_conversao:b.percentual_conversao_b2c,observacoes:b.observacoes})),{error:x}=await ns.from("b2c_daily_metrics").insert(g);if(x)throw x;f(" Dados B2C migrados.")}if(r.length>0){f(`Migrando ${r.length} registros de Mdia Paga...`);const g=r.map(b=>({date:b.date instanceof Date?b.date.toISOString():b.date,channel:b.channel,campaign:b.campaign,objective:b.objective,spend:b.spend,impressions:b.impressions,clicks:b.clicks,conversions:b.conversions,ctr:b.ctr,cpc:b.cpc,cpm:b.cpm,cpa:b.cpa})),{error:x}=await ns.from("paid_media_metrics").insert(g);if(x)throw x;f(" Mdia Paga migrada.")}a("done"),f(" Migrao Concluda com Sucesso!"),alert("Dados migrados com sucesso para o Supabase!")}catch(p){a("error"),f(` Erro Fatal: ${p.message}`),p.message.includes('relation "activities" does not exist')&&f(" Tabela no encontrada! Execute o script SQL no Supabase primeiro.")}}};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 relative z-10",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-indigo-500/20 rounded-xl text-indigo-400 shadow-inner",children:d.jsx(V3,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Migrao de Dados (SQL)"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Transfira dados do navegador para o Supabase DB."})]})]})}),d.jsxs("div",{className:"bg-slate-900/50 rounded p-4 mb-6 border border-slate-700/50",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Registros em Memria (CSV):"}),d.jsx("span",{className:"text-2xl font-bold text-white",children:e.length})]}),e.length!==511&&d.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-sm bg-amber-900/20 p-2 rounded border border-amber-900/50 mt-2",children:[d.jsx(oi,{size:16}),d.jsxs("span",{children:["Ateno: Esperado 511. Encontrado ",e.length,". Re-importe o CSV se necessrio."]})]})]}),n==="idle"&&d.jsxs("button",{onClick:h,disabled:e.length===0,className:`w-full py-4 rounded-lg font-bold text-lg flex items-center justify-center gap-2 transition
                        ${e.length===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 text-white"}
                    `,children:[d.jsx(kf,{}),"Iniciar Migrao para Banco de Dados"]}),n!=="idle"&&d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"w-full bg-slate-700 rounded-full h-4 overflow-hidden",children:d.jsx("div",{className:`h-full transition-all duration-300 ${n==="error"?"bg-red-500":"bg-green-500"}`,style:{width:`${o}%`}})}),d.jsxs("div",{className:"text-center text-white font-bold",children:[o,"%"]}),d.jsx("div",{className:"bg-black/50 p-4 rounded h-40 overflow-y-auto font-mono text-xs text-green-400 border border-slate-700",children:c.map((p,m)=>d.jsx("div",{children:p},m))})]})]})},a1=({title:e,slot:t,accept:r})=>{const[n,a]=w.useState([]),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,h]=w.useState(null),{processCSV:p}=_x(),{parseB2CCSV:m}=OS(),{setB2CData:v,setPaidMediaData:g}=Tr();w.useEffect(()=>{x()},[]);const x=async()=>{i(!0),h(null);try{const E=await Cs.listFiles(t);a(E||[])}catch(E){console.error(E);let _=E.message;E.message.includes("Bucket not found")?_='Bucket "app-data" no encontrado. Crie-o no Supabase.':E.message.includes("jwks")&&(_="Erro de Autenticao (Chave API invlida?)."),h({type:"error",text:_})}finally{i(!1)}},b=async E=>{var S;const _=(S=E.target.files)==null?void 0:S[0];if(_){l(!0),h(null);try{await Cs.uploadFile(t,_),await x(),h({type:"success",text:"Upload realizado com sucesso!"})}catch(C){h({type:"error",text:"Falha no upload: "+C.message})}finally{l(!1)}}},y=async E=>{if(confirm("Tem certeza que deseja excluir este arquivo?")){i(!0);try{await Cs.deleteFile(t+"/"+E),await x()}catch(_){alert(_.message)}finally{i(!1)}}},k=async E=>{u(!0),h(null);try{const _=t+"/"+E,S=await Cs.getDownloadUrl(_),T=await(await fetch(S)).blob(),j=new File([T],E,{type:T.type});if(t==="framework")await p(j);else if(t==="b2c"){const{data:P}=await m(j);v(P)}else if(t==="media"){const P=await iE(j);g(P)}h({type:"success",text:"Dados restaurados e aplicados ao Dashboard!"})}catch(_){console.error(_),h({type:"error",text:"Erro ao restaurar: "+_.message})}finally{u(!1)}};return d.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[d.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:d.jsx(V3,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:e}),d.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:r.replace(/\./g,"").toUpperCase()})]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"file",accept:r,onChange:b,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:o}),d.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[o?d.jsx(yo,{size:14,className:"animate-spin"}):d.jsx(kf,{size:14}),o?"Enviando...":"Novo Upload"]})]})]}),d.jsx("div",{className:"p-2 max-h-56 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:s&&!n.length?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[d.jsx(yo,{className:"animate-spin"}),d.jsx("span",{className:"text-xs",children:"Carregando lista..."})]}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[d.jsx(kf,{size:24,className:"opacity-20"}),d.jsx("p",{className:"text-xs italic",children:"Nenhum arquivo na nuvem."}),(f==null?void 0:f.type)==="error"&&d.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:f.text})]}):d.jsx("div",{className:"space-y-1",children:n.map(E=>{var _;return d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/30 rounded-lg group transition-colors border border-transparent hover:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx(xb,{size:16,className:"text-slate-500 group-hover:text-blue-400 transition-colors flex-shrink-0"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-300 truncate max-w-[220px] group-hover:text-white transition-colors",title:E.name,children:E.name}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[d.jsx("span",{children:new Date(E.created_at).toLocaleString("pt-BR")}),d.jsx("span",{children:""}),d.jsxs("span",{children:[(((_=E.metadata)==null?void 0:_.size)/1024).toFixed(1)," KB"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[d.jsx("button",{onClick:()=>k(E.name),disabled:c,className:"p-2 text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors tooltip-trigger",title:"Restaurar e Aplicar",children:d.jsx(aV,{size:16,className:c?"animate-spin":""})}),d.jsx("button",{onClick:()=>y(E.name),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir Definitivamente",children:d.jsx(Ef,{size:16})})]})]},E.id)})})}),f&&f.type==="success"&&d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-emerald-500/20",children:[d.jsx(yn,{size:12}),f.text]}),f&&f.type==="error"&&n.length>0&&d.jsxs("div",{className:"bg-red-500/10 text-red-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-red-500/20",children:[d.jsx(Ul,{size:12}),f.text]})]})},s_e=()=>{var h;const{user:e,signInWithEmail:t,signOut:r,loading:n}=b_(),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null);return n?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(yo,{className:"animate-spin text-blue-500 w-8 h-8"})}):e?d.jsx("div",{className:"min-h-full bg-slate-900 text-slate-200 p-8 space-y-8 animate-fade-in pb-24",children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-end border-b border-slate-800 pb-6",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Configuraes"}),d.jsx("p",{className:"text-slate-400 text-lg",children:"Central de controle e sincronizao."})]}),d.jsxs("div",{className:"text-right hidden md:block",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest block mb-1",children:"Status do Sistema"}),d.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20",children:[d.jsxs("span",{className:"relative flex h-2 w-2",children:[d.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),d.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-emerald-500"})]}),d.jsx("span",{className:"text-xs font-bold",children:"Online & Conectado"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:d.jsx(G3,{size:28})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold text-white truncate",title:e.email,children:(h=e.email)==null?void 0:h.split("@")[0]}),d.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),d.jsx("div",{className:"space-y-3 mb-6",children:d.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 flex justify-between items-center group",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"ID"}),d.jsxs("code",{className:"text-xs text-slate-300 font-mono bg-black/20 px-2 py-0.5 rounded group-hover:text-white transition-colors",children:[e.id.substring(0,8),"..."]})]})}),d.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500 bg-red-500/10 border border-red-500/20 px-4 py-3 rounded-xl transition-all text-sm font-bold",children:[d.jsx(Vz,{size:16}),"Desconectar"]})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl opacity-60 pointer-events-none",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 tracking-wider",children:"Aparncia"}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:d.jsx(Xz,{size:18})}),d.jsx("span",{className:"text-slate-300 font-medium text-sm",children:"Modo Escuro"})]}),d.jsx("div",{className:"w-10 h-5 bg-blue-600 rounded-full relative",children:d.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full shadow-sm"})})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 relative z-10",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:d.jsx(kf,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Gesto de Arquivos"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Armazenamento em nuvem seguro e versionado."})]})]})}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsx(a1,{title:"Framework Strategy",slot:"framework",accept:".csv"}),d.jsx(a1,{title:"Histrico B2C",slot:"b2c",accept:".csv"}),d.jsx(a1,{title:"Mdia Paga (Ads)",slot:"media",accept:".xlsx, .xls"})]})]}),d.jsx(a_e,{})]})]})]})}):d.jsx("div",{className:"p-8 text-center text-slate-500",children:"Sesso expirada. Recarregue a pgina."})},Iv=(e,t)=>{const r=w.useMemo(()=>{try{const f={};return Object.entries(e).forEach(([h,p])=>{const m=p.filter(v=>{if(t.bu.length>0&&!t.bu.includes(v.bu)||t.canais.length>0&&!t.canais.includes(v.canal)||t.jornadas.length>0&&!t.jornadas.includes(v.jornada)||t.segmentos.length>0&&!t.segmentos.includes(v.segmento)||t.parceiros.length>0&&!t.parceiros.includes(v.parceiro))return!1;if(t.dataInicio){const[g,x,b]=t.dataInicio.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(0,0,0,0);const k=new Date(v.dataDisparo);if(k.setHours(0,0,0,0),k<y)return!1}if(t.dataFim){const[g,x,b]=t.dataFim.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(23,59,59,999);const k=new Date(v.dataDisparo);if(k.setHours(0,0,0,0),k>y)return k.getDate()>15,!1}return!0});m.length>0&&(f[h]=m)}),f}catch(f){return console.error("Error in useAdvancedFilters:",f),e}},[e,t]),n=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.canal&&f.add(p.canal)})}),Array.from(f).sort()},[e]),a=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.jornada&&f.add(p.jornada)})}),Array.from(f).sort()},[e]),s=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.segmento&&f.add(p.segmento)})}),Array.from(f).sort()},[e]),i=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.canal]=(f[p.canal]||0)+1})}),f},[r]),o=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.jornada]=(f[p.jornada]||0)+1})}),f},[r]),l=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.segmento]=(f[p.segmento]||0)+1})}),f},[r]),c=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.parceiro&&f.add(p.parceiro)})}),Array.from(f).sort()},[e]),u=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.parceiro]=(f[p.parceiro]||0)+1})}),f},[r]);return{filteredData:r,availableCanais:n,availableJornadas:a,availableSegmentos:s,availableParceiros:c,countByCanal:i,countByJornada:o,countBySegmento:l,countByParceiro:u}},iO=(e,t,r,n,a,s)=>{var j,P;const i={};Object.keys(e).forEach(A=>{const N=e[A];i[A]||(i[A]={propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,campaignCount:0}),N.forEach(L=>{i[A].propostas+=L.kpis.propostas||0,i[A].emissoes+=L.kpis.cartoes||0,i[A].custo+=L.kpis.custoTotal||0,i[A].baseEntregue+=L.kpis.baseEntregue||0,["Email","SMS","WhatsApp"].includes(L.canal)&&(i[A].campaignCount+=1),i[A].count+=1})});const l=new Set;Object.keys(i).forEach(A=>l.add(A));const c=A=>{const N=g6(A);return N?Te(N,"yyyy-MM-dd"):null};t.forEach(A=>{const N=c(A.data);N&&l.add(N)});const f=Array.from(l).sort().map(A=>{const N=i[A]||{propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,campaignCount:0},L=t.find(W=>c(W.data)===A),K=(L==null?void 0:L.propostas_b2c_total)||0,X=(L==null?void 0:L.emissoes_b2c_total)||0;return{date:A,crm_propostas:N.propostas,crm_emissoes:N.emissoes,crm_custo:N.custo,crm_base_entregue:N.baseEntregue,crm_count:N.count,crm_campaign_count:N.campaignCount,b2c_propostas:K,b2c_emissoes:X}}).filter(A=>{if(!A.date)return!1;const N=new Date(A.date+"T12:00:00"),L=new Date(r+"T00:00:00"),K=new Date(n+"T23:59:59");return N>=L&&N<=K}),h={};f.forEach(A=>{const[N,L,K]=A.date.split("-").map(Number),X=new Date(N,L-1,K);let W=A.date;if(a==="weekly"){const q=Gl(X,{weekStartsOn:1});W=Te(q,"yyyy-MM-dd")}else if(a==="monthly"){const q=en(X);W=Te(q,"yyyy-MM-dd")}h[W]||(h[W]={crm_propostas:0,crm_emissoes:0,crm_custo:0,crm_count:0,crm_base_entregue:0,crm_campaign_count:0,b2c_propostas:0,b2c_emissoes:0,count:0,originalDate:W}),h[W].crm_propostas+=A.crm_propostas,h[W].crm_emissoes+=A.crm_emissoes,h[W].crm_custo+=A.crm_custo,h[W].crm_base_entregue+=A.crm_base_entregue,h[W].crm_count+=A.crm_count,h[W].crm_campaign_count+=A.crm_campaign_count,h[W].b2c_propostas+=A.b2c_propostas,h[W].b2c_emissoes+=A.b2c_emissoes,h[W].count+=1});const p=Object.keys(h).sort().map(A=>{const N=h[A],[L,K,X]=A.split("-").map(Number),W=new Date(L,K-1,X),q=N.b2c_propostas>0?N.crm_propostas/N.b2c_propostas*100:0,I=N.b2c_emissoes>0?N.crm_emissoes/N.b2c_emissoes*100:0,J=N.crm_base_entregue>0?N.crm_emissoes/N.crm_base_entregue*100:0,Q=N.b2c_propostas>0?N.b2c_emissoes/N.b2c_propostas*100:0,M=Q>0?J/Q:0,U=N.crm_emissoes>0?N.crm_custo/N.crm_emissoes:0,G=s.ativar_anomalias&&I<s.share_crm_limiar;return{data:A,dia_semana:["dom","seg","ter","qua","qui","sex","sab"][W.getDay()],semana_mes:Math.ceil(W.getDate()/7),mes:K,ano:L,propostas_crm:N.crm_propostas,entregas_crm:N.crm_base_entregue,custo_crm:N.crm_custo,emissoes_crm:N.crm_emissoes,num_campanhas_crm:N.crm_campaign_count,propostas_b2c_total:N.b2c_propostas,emissoes_b2c_total:N.b2c_emissoes,share_propostas_crm_percentual:q,share_emissoes_crm_percentual:I,taxa_conversao_crm:J,taxa_conversao_b2c:Q,performance_index:M,cac_medio:U,eh_anomalia:G}});if(p.length===0)return{analysisData:[],summary:null};const m=f.reduce((A,N)=>A+N.crm_propostas,0),v=f.reduce((A,N)=>A+N.crm_emissoes,0),g=f.reduce((A,N)=>A+N.crm_custo,0),x=f.reduce((A,N)=>A+N.crm_base_entregue,0),b=f.reduce((A,N)=>A+N.b2c_propostas,0),y=f.reduce((A,N)=>A+N.b2c_emissoes,0),k=y>0?v/y*100:0,E=v>0?g/v:0,_=x>0?v/x:0,S=b>0?y/b:0,C=S>0?_/S:0,T={periodo_inicio:((j=p[0])==null?void 0:j.data)||"",periodo_fim:((P=p[p.length-1])==null?void 0:P.data)||"",share_crm_media:k,emissoes_crm_total:v,emissoes_b2c_total:y,cac_medio:E,taxa_conversao_crm_media:_*100,taxa_conversao_b2c_media:S*100,performance_index_medio:C,total_dias:p.length,dias_com_anomalia:p.filter(A=>A.eh_anomalia).length,propostas_b2c_total:b,propostas_crm_total:m};return{analysisData:p,summary:T}},aB=()=>{const{b2cData:e,alertConfig:t,viewSettings:r}=Tr(),{data:n}=_x(),{startDate:a,endDate:s}=ql(),{selectedBUs:i}=dh(),[o,l]=w.useState("daily"),c=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:Te(a,"yyyy-MM-dd"),dataFim:Te(s,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,a,s,i]),{filteredData:u}=Iv(n,c),{prevStartDate:f,prevEndDate:h}=w.useMemo(()=>{const k=Yf(s,a)+1,E=yt(a,1);return{prevStartDate:yt(E,k-1),prevEndDate:E}},[a,s]),p=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:Te(f,"yyyy-MM-dd"),dataFim:Te(h,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,f,h,i]),{filteredData:m}=Iv(n,p),{analysisData:v,summary:g}=w.useMemo(()=>iO(u,e,Te(a,"yyyy-MM-dd"),Te(s,"yyyy-MM-dd"),o,t),[u,e,a,s,o,t]),{summary:x}=w.useMemo(()=>iO(m,e,Te(f,"yyyy-MM-dd"),Te(h,"yyyy-MM-dd"),"daily",t),[m,e,f,h,t]),b=(k,E="daily")=>E==="daily"?u[k]||[]:u[k]||[],y=w.useMemo(()=>{const k={};let E=0;Object.values(u).flat().forEach(T=>{const j=T.segmento||"No Identificado",P=T.kpis.cartoes||0;k[j]=(k[j]||0)+P,E+=P});const _=Object.entries(k).map(([T,j])=>({name:T,value:j})).sort((T,j)=>j.value-T.value),S=g?g.emissoes_b2c_total:0,C=Math.max(0,S-E);return C>0&&_.push({name:"Outros B2C",value:C}),_},[u,g]);return{dailyAnalysis:v,summary:g,previousSummary:x,viewMode:o,setViewMode:l,getActivities:b,segmentStats:y}},mc=({label:e,value:t,subtitle:r,icon:n,colorClass:a,variation:s,reverseColor:i=!1,tooltip:o})=>{let l="text-slate-500",c=k0;return s&&(s.value>0?(c=d_,l=i?"text-red-400":"text-emerald-400"):s.value<0&&(c=c_,l=i?"text-emerald-400":"text-red-400")),d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),o&&d.jsx(Es,{content:o,side:"top"})]}),d.jsx("div",{className:`${a} opacity-80`,children:n})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white leading-none",children:t}),s&&d.jsxs("div",{className:`flex items-center text-[10px] font-bold mb-0.5 ${l} bg-slate-900/50 px-1 py-0.5 rounded`,children:[d.jsx(c,{size:10,className:"mr-0.5"}),Math.abs(s.value).toFixed(1),"%"]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 mt-2 lowercase",children:r})]})},i_e=({summary:e,previousSummary:t})=>{const r=(c,u)=>{if(!u||u===0)return null;const f=c-u;return{value:f/u*100,isPositive:f>0}},n=t?r(e.propostas_b2c_total,t.propostas_b2c_total):null,a=t?r(e.emissoes_b2c_total,t.emissoes_b2c_total):null,s=t?r(e.taxa_conversao_b2c_media,t.taxa_conversao_b2c_media):null,i=t?r(e.propostas_crm_total,t.propostas_crm_total):null,o=t?r(e.emissoes_crm_total,t.emissoes_crm_total):null,l=t?r(e.taxa_conversao_crm_media,t.taxa_conversao_crm_media):null;return d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(mc,{label:"Propostas B2C",value:e.propostas_b2c_total.toLocaleString("pt-BR"),subtitle:"Input total",icon:d.jsx(xb,{size:18}),colorClass:"text-blue-400",variation:n,tooltip:"Total de propostas B2C submetidas no perodo"}),d.jsx(mc,{label:"Cartes B2C",value:e.emissoes_b2c_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx(Cl,{size:18}),colorClass:"text-blue-400",variation:a,tooltip:"Total de cartes B2C gerados no perodo"}),d.jsx(mc,{label:"Conv % B2C",value:`${e.taxa_conversao_b2c_media.toFixed(2).replace(".",",")}%`,subtitle:"Cartes / Propostas",icon:d.jsx(fa,{size:18}),colorClass:"text-blue-400",variation:s,tooltip:"Taxa de converso: (Cartes Gerados / Propostas Totais)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(mc,{label:"Propostas CRM",value:e.propostas_crm_total.toLocaleString("pt-BR"),subtitle:"Via CRM",icon:d.jsx(xb,{size:18}),colorClass:"text-emerald-400",variation:i,tooltip:"Propostas identificadas com origem CRM"}),d.jsx(mc,{label:"Cartes CRM",value:e.emissoes_crm_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx(U3,{size:18}),colorClass:"text-emerald-400",variation:o,tooltip:"Cartes gerados e atribudos ao CRM"}),d.jsx(mc,{label:"Conv % CRM",value:`${e.taxa_conversao_crm_media.toFixed(2).replace(".",",")}%`,subtitle:"Converso CRM",icon:d.jsx(fa,{size:18}),colorClass:"text-emerald-400",variation:l,tooltip:"Taxa de converso: (Cartes Gerados / Base Entregue)"})]})]})},oO=({label:e,value:t,subtitle:r,icon:n,colorClass:a})=>d.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 flex items-center justify-between group hover:border-slate-600 transition-all h-[120px]",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{className:`p-1.5 rounded-lg bg-slate-900/50 ${a}`,children:n}),d.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:e})]}),d.jsx("h3",{className:"text-3xl font-bold text-white tracking-tight mt-1",children:t}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:r})]})}),o_e=({summary:e})=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(oO,{label:"Share CRM",value:`${e.share_crm_media.toFixed(1)}%`,subtitle:"% de cartes gerados via CRM",icon:d.jsx(Oo,{size:18}),colorClass:"text-indigo-400"}),d.jsx(oO,{label:"CAC Mdio",value:`R$ ${e.cac_medio.toFixed(2)}`,subtitle:"Custo por emisso",icon:d.jsx(b0,{size:18}),colorClass:"text-emerald-400"})]}),vd=(e,t)=>t.includes("%")||t.includes("Taxa")||t.includes("Share")||t.includes("Conv")?[`${e.toFixed(1)}%`,t]:t.includes("CAC")||t.includes("Custo")?[`R$ ${e.toFixed(2)}`,t]:[e,t],l_e=({data:e,shareThreshold:t=15,viewMode:r,setViewMode:n,onPointClick:a})=>{const s=c=>{if(c&&c.activePayload&&c.activePayload.length>0&&a){const u=c.activePayload[0].payload;if(u&&u.data){const[f,h,p]=u.data.split("-").map(Number);a(new Date(f,h-1,p))}}},i=(c,u=!1)=>u?`${c.toFixed(1)}%`:c.toLocaleString("pt-BR"),o=w.useMemo(()=>e.map(c=>{const u=Math.max(0,c.propostas_b2c_total-c.propostas_crm),f=Math.max(0,c.emissoes_b2c_total-c.emissoes_crm),[h,p,m]=c.data.split("-").map(Number),v=new Date(h,p-1,m),g=Te(v,"dd/MM",{locale:Rs});return{...c,displayDate:g,outros_propostas:u,outros_emissoes:f}}),[e]),l=w.useMemo(()=>{const c={},u=["dom","seg","ter","qua","qui","sex","sab"];return u.forEach(f=>c[f]={total:0,crm:0}),e.forEach(f=>{f.dia_semana&&c[f.dia_semana]&&(c[f.dia_semana].total+=f.emissoes_b2c_total,c[f.dia_semana].crm+=f.emissoes_crm)}),u.map(f=>{const h=c[f],p=h.total>0?h.crm/h.total*100:0;return{dia:f.charAt(0).toUpperCase()+f.slice(1),share:p}})},[e]);return!e||e.length===0?d.jsx("div",{className:"p-10 text-center text-slate-500",children:"Sem dados para exibir nos grficos"}):d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Anlise Grfica"}),d.jsx("div",{className:"flex bg-slate-800 p-1 rounded-lg border border-slate-700",children:["daily","weekly","monthly"].map(c=>d.jsx("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${r===c?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:c==="daily"?"Dia":c==="weekly"?"Semana":"Ms"},c))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Propostas: CRM vs B2C Total"}),d.jsx("div",{className:"h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:o,onClick:s,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:vd}),d.jsx($r,{}),d.jsx(Ur,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Ur,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Taxa de Converso: CRM vs Mdia B2C"}),d.jsx("div",{className:"h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:o,onClick:s,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:vd}),d.jsx($r,{}),d.jsx(sr,{type:"monotone",dataKey:"taxa_conversao_crm",name:"Conv. CRM",stroke:"#10b981",strokeWidth:2,dot:!1}),d.jsx(sr,{type:"monotone",dataKey:"taxa_conversao_b2c",name:"Conv. B2C",stroke:"#94a3b8",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Tendncia Share CRM (%)"}),d.jsx("div",{className:"h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:o,onClick:s,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},itemStyle:{color:"#e2e8f0"},formatter:vd}),d.jsx($r,{}),d.jsx(sr,{type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#3b82f6",strokeWidth:2,dot:!1}),d.jsx(sr,{type:"monotone",dataKey:()=>t,name:"Meta Mnima",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Emisses: CRM vs B2C"}),d.jsx("div",{className:"h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:o,onClick:s,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:vd}),d.jsx($r,{}),d.jsx(Ur,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Ur,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"CAC Evolution (R$)"}),d.jsx("div",{className:"h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:o,onClick:s,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:vd}),d.jsx($r,{}),d.jsx(sr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10b981",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50 flex flex-col",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Share por Dia da Semana"}),d.jsx("div",{className:"flex-1 flex items-end gap-2 h-64",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:l,children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"dia",stroke:"#64748b",fontSize:10}),d.jsx(nt,{stroke:"#64748b",unit:"%",fontSize:10}),d.jsx(Ct,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:c=>i(c,!0)}),d.jsx(Ur,{dataKey:"share",name:"Share Mdio",fill:"#f59e0b",radius:[4,4,0,0]})]})})}),d.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"* Dados agregados do perodo"})]})]})]})},s1=10,c_e=({data:e,onRowClick:t})=>{const[r,n]=w.useState(1),[a,s]=w.useState({key:"data",direction:"desc"}),i=w.useMemo(()=>{const p=[...e];return p.sort((m,v)=>{const g=m[a.key],x=v[a.key];return g<x?a.direction==="asc"?-1:1:g>x?a.direction==="asc"?1:-1:0}),p},[e,a]),o=Math.ceil(i.length/s1),l=i.slice((r-1)*s1,r*s1),c=p=>{let m="asc";a.key===p&&a.direction==="asc"&&(m="desc"),s({key:p,direction:m}),n(1)},u=p=>a.key===p?a.direction==="asc"?d.jsx(c_,{size:14}):d.jsx(d_,{size:14}):d.jsx(Ea,{size:14,className:"text-slate-600 opacity-0 group-hover:opacity-100 transition-opacity"}),f=()=>{const p=["Data","Prop CRM","Emiss CRM","Prop B2C Total","Emiss B2C Total","% Share Prop","% Share Emiss","% Conv CRM","% Conv B2C","Perf Index","CAC"],m=i.map(y=>[y.data,y.propostas_crm,y.emissoes_crm,y.propostas_b2c_total,y.emissoes_b2c_total,y.share_propostas_crm_percentual.toFixed(2).replace(".",","),y.share_emissoes_crm_percentual.toFixed(2).replace(".",","),y.taxa_conversao_crm.toFixed(2).replace(".",","),y.taxa_conversao_b2c.toFixed(2).replace(".",","),y.performance_index.toFixed(2).replace(".",","),y.cac_medio.toFixed(2).replace(",",".")]),v=[p.join(";"),...m.map(y=>y.join(";"))].join(`
`),g=new Blob([v],{type:"text/csv;charset=utf-8;"}),x=URL.createObjectURL(g),b=document.createElement("a");b.href=x,b.download="originacao_b2c_sorted.csv",document.body.appendChild(b),b.click(),document.body.removeChild(b)},h=({label:p,sortKey:m,align:v="right"})=>d.jsx("th",{className:`px-4 py-3 cursor-pointer hover:bg-slate-800 transition select-none group ${v==="right"?"text-right":"text-left"}`,onClick:()=>c(m),children:d.jsxs("div",{className:`flex items-center gap-2 ${v==="right"?"justify-end":"justify-start"}`,children:[p,u(m)]})});return d.jsxs("div",{className:"bg-slate-800 border border-slate-700/50 rounded-xl overflow-hidden mt-6 shadow-lg",children:[d.jsxs("div",{className:"p-4 border-b border-slate-700/50 flex justify-between items-center",children:[d.jsx("h3",{className:"font-bold text-slate-300",children:"Detalhamento Dirio"}),d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 rounded text-xs text-slate-200",children:[d.jsx(w0,{size:14})," Exportar (",i.length,")"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"text-xs text-slate-400 uppercase bg-slate-900/50",children:d.jsxs("tr",{children:[d.jsx(h,{label:"Data",sortKey:"data",align:"left"}),d.jsx(h,{label:"Vol. Entregas",sortKey:"entregas_crm"}),d.jsx(h,{label:"Custo",sortKey:"custo_crm"}),d.jsx(h,{label:"Prop CRM",sortKey:"propostas_crm"}),d.jsx(h,{label:"Emiss CRM",sortKey:"emissoes_crm"}),d.jsx(h,{label:"Prop B2C",sortKey:"propostas_b2c_total"}),d.jsx(h,{label:"Emiss B2C",sortKey:"emissoes_b2c_total"}),d.jsx(h,{label:"% Share",sortKey:"share_emissoes_crm_percentual"}),d.jsx(h,{label:"% Conv CRM",sortKey:"taxa_conversao_crm"}),d.jsx(h,{label:"% Conv B2C",sortKey:"taxa_conversao_b2c"}),d.jsx(h,{label:"CAC",sortKey:"cac_medio"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-700/50",children:l.map(p=>d.jsxs("tr",{className:`cursor-pointer hover:bg-slate-700/50 transition ${p.eh_anomalia?"bg-red-900/10":""}`,onClick:()=>t&&t(p.data),children:[d.jsx("td",{className:"px-4 py-2 font-medium text-slate-200 whitespace-nowrap",children:p.data.split("-").reverse().join("/")}),d.jsx("td",{className:"px-4 py-2 text-right",children:p.entregas_crm.toLocaleString()}),d.jsxs("td",{className:"px-4 py-2 text-right",children:["R$ ",p.custo_crm.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),d.jsx("td",{className:"px-4 py-2 text-right",children:p.propostas_crm}),d.jsx("td",{className:"px-4 py-2 text-right font-bold text-white",children:p.emissoes_crm}),d.jsx("td",{className:"px-4 py-2 text-right text-slate-500",children:p.propostas_b2c_total}),d.jsx("td",{className:"px-4 py-2 text-right text-slate-500",children:p.emissoes_b2c_total}),d.jsx("td",{className:"px-4 py-2 text-right",children:d.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${p.share_emissoes_crm_percentual<10?"bg-red-500/20 text-red-400":"bg-green-500/20 text-green-400"}`,children:[p.share_emissoes_crm_percentual.toFixed(1),"%"]})}),d.jsxs("td",{className:"px-4 py-2 text-right text-emerald-400",children:[p.taxa_conversao_crm.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-2 text-right text-slate-500",children:[p.taxa_conversao_b2c.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-2 text-right",children:["R$ ",p.cac_medio.toFixed(0)]})]},p.data))})]})}),o>1&&d.jsxs("div",{className:"p-4 border-t border-slate-700/50 flex justify-center items-center gap-4",children:[d.jsx("button",{onClick:()=>n(p=>Math.max(1,p-1)),disabled:r===1,className:"p-1 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(sg,{size:20})}),d.jsxs("span",{className:"text-xs text-slate-400",children:[r," / ",o]}),d.jsx("button",{onClick:()=>n(p=>Math.min(o,p+1)),disabled:r===o,className:"p-1 rounded hover:bg-slate-700 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(ig,{size:20})})]})]})},u_e=()=>{const e=w.useRef(null),{parseB2CCSV:t,isLoading:r,error:n}=OS(),{setB2CData:a,b2cData:s}=Tr(),i=async o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l)try{const{data:u,warnings:f}=await t(l);a(u),f.length>0&&console.warn("Warnings during upload:",f)}catch(u){console.error(u)}};return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"file",ref:e,onChange:i,accept:".csv",className:"hidden"}),d.jsxs("button",{onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r?d.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(lg,{size:18}),"Upload CSV B2C"]}),n&&d.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[d.jsx(Ul,{size:16}),n]}),s.length>0&&!n&&d.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm",children:[d.jsx(yn,{size:16}),s.length," registros carregados"]})]})},d_e=({data:e,onBarClick:t})=>{const r=w.useMemo(()=>{const n={};return e.forEach(a=>{const s=bn(a.data),i=Gl(s,{weekStartsOn:1}),o=Te(i,"yyyy-MM-dd");n[o]||(n[o]={num_campanhas_crm:0,emissoes_crm:0,emissoes_b2c_total:0,originalDate:i}),n[o].num_campanhas_crm+=a.num_campanhas_crm||0,n[o].emissoes_crm+=a.emissoes_crm||0,n[o].emissoes_b2c_total+=a.emissoes_b2c_total||0}),Object.keys(n).sort().map(a=>{const s=n[a],i=s.emissoes_b2c_total>0?s.emissoes_crm/s.emissoes_b2c_total*100:0;return{data:a,displayDate:Te(s.originalDate,"dd/MM"),num_campanhas_crm:s.num_campanhas_crm,share_emissoes_crm_percentual:i}})},[e]);return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 mt-6 shadow-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2 opacity-90",children:"Eficincia de Campanhas: Volume de Disparos vs Share CRM"}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Anlise de quantas campanhas foram disparadas e seu impacto no share de participao no total B2C (Agrupado por Semana)."}),d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ch,{data:r,onClick:n=>{if(n&&n.activePayload&&n.activePayload.length>0){const a=n.activePayload[0].payload.data;t&&t(a)}},margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(Vt,{stroke:"#1e293b",strokeDasharray:"3 3",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",scale:"band",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(nt,{yAxisId:"left",stroke:"#64748b",tick:{fontSize:10},label:{value:"Campanhas/Semana",angle:-90,position:"insideLeft",style:{fill:"#64748b",fontSize:10}}}),d.jsx(nt,{yAxisId:"right",orientation:"right",stroke:"#64748b",tick:{fontSize:10},unit:"%",label:{value:"Share CRM %",angle:90,position:"insideRight",style:{fill:"#64748b",fontSize:10}}}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:(n,a)=>a==="Share CRM %"?[`${n.toFixed(1)}%`,a]:[n,a],labelFormatter:n=>`Semana de ${n}`}),d.jsx($r,{}),d.jsx(Ur,{yAxisId:"left",dataKey:"num_campanhas_crm",name:"Campanhas Disparadas",barSize:30,fill:"#3b82f6",fillOpacity:.6}),d.jsx(sr,{yAxisId:"right",type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})})]})},lO=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1","#475569"],f_e=({segmentStats:e,totalB2CEmissoes:t})=>{const[r,n]=w.useState(!0),a=e.map(i=>({...i,share:t>0?i.value/t*100:0})),s=r?a:a.filter(i=>i.name!=="Outros B2C");return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 h-full flex flex-col relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Share por Campanha"}),a.some(i=>i.name==="Outros B2C")&&d.jsx("button",{onClick:()=>n(!r),className:`text-[10px] px-2 py-1 rounded-md border transition-all ${r?"bg-slate-700 border-slate-600 text-slate-300":"bg-transparent border-slate-700 text-slate-500 hover:text-slate-400"}`,title:r?"Ocultar Outros B2C":"Mostrar Outros B2C",children:r?"Com Outros":"Sem Outros"})]}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Participao de cada campanha no total de emisses B2C."}),d.jsx("div",{className:"flex-1 min-h-[200px]",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(Z8,{children:[d.jsx(mS,{data:s,cx:"40%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:3,dataKey:"value",cornerRadius:4,children:s.map((i,o)=>{let l=lO[o%lO.length];return i.name==="Outros B2C"&&(l="#475569"),d.jsx(Ms,{fill:l,stroke:"rgba(0,0,0,0)"},`cell-${o}`)})}),d.jsx(Ct,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"},formatter:(i,o,l)=>{const c=l.payload.share||0;return[`${i.toLocaleString()} (${c.toFixed(1)}%)`,o]}}),d.jsx($r,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",color:"#94a3b8"},formatter:(i,o)=>{const{payload:l}=o;return d.jsxs("span",{className:"ml-1 text-slate-400",children:[i," ",d.jsx("span",{className:"text-slate-600 mx-1",children:"|"})," ",d.jsxs("span",{className:"text-slate-200 font-medium",children:[l.share.toFixed(2),"%"]})]})}})]})})})]})},h_e=()=>{const{paidMediaData:e,activities:t}=Tr(),{startDate:r,endDate:n}=ql(),a=w.useMemo(()=>{const i=new Map,o=(f,h)=>(i.has(f)||i.set(f,p_e(f,h)),i.get(f));e.forEach(f=>{if(!f.date)return;const h=Is(new Date(f.date));if(!fi(h,{start:r,end:n}))return;const p=Te(h,"yyyy-MM-dd"),m=o(p,h),v=(f.channel||"").toLowerCase(),g=Number(f.spend)||0;v.includes("google")?m.spendGoogle+=g:(v.includes("meta")||v.includes("facebook")||v.includes("instagram"))&&(m.spendMeta+=g),m.spendTotal+=g}),t.forEach(f=>{var x,b;if(!f.dataDisparo)return;const h=Is(new Date(f.dataDisparo));if(!fi(h,{start:r,end:n}))return;const p=Te(h,"yyyy-MM-dd"),m=o(p,h),v=Number(((x=f.kpis)==null?void 0:x.cartoes)||0);m.cards+=v;const g=Number(((b=f.kpis)==null?void 0:b.propostas)||0);m.proposals+=g});const l=Array.from(i.values()).sort((f,h)=>f.date.localeCompare(h.date));let c=0,u=0;return l.map(f=>{c+=f.spendTotal,u+=f.cards;const h=f.cards>0?f.spendTotal/f.cards:0,p=f.proposals>0?f.cards/f.proposals:0;return{...f,cumulativeSpend:c,cumulativeCards:u,conversionRate:p,cpa:h}})},[e,t,r,n]),s=w.useMemo(()=>{if(a.length<2)return null;const i=a.map(W=>W.spendTotal),o=a.map(W=>W.cards),l=a.length,c=i.reduce((W,q)=>W+q,0),u=o.reduce((W,q)=>W+q,0),f=i.reduce((W,q,I)=>W+q*o[I],0),h=i.reduce((W,q)=>W+q*q,0),p=o.reduce((W,q)=>W+q*q,0),m=l*f-c*u,v=Math.sqrt((l*h-c*c)*(l*p-u*u)),g=v===0?0:m/v,x=g*g,b=l*h-c*c,y=b===0?0:m/b,k=(u-y*c)/l,E=`Y = ${y.toFixed(4)}x ${k>=0?"+":"-"} ${Math.abs(k).toFixed(2)}`;let _="Baixa",S="#EF4444";x>=.6?(_="Alta",S="#10B981"):x>=.3&&(_="Moderada",S="#F59E0B");const C=Math.max(0,x-.1),T=Math.min(1,x+.1),j=u,P=c,A=j*C,N=j*T,L=N>0?P/N:0,K=A>0?P/A:0;let X="Pouca relao entre variaes de spend e volume de cartes.";return x>=.6?X="Forte sincronia: Dias de maior investimento coincidem com picos de cartes.":x>=.3&&(X="Sincronia moderada entre investimento e resultados CRM."),{rSquared:x,correlation:g,slope:y,intercept:k,formula:E,influenceMin:C,influenceMax:T,estimatedCardsMin:A,estimatedCardsMax:N,effectiveCacMin:L,effectiveCacMax:K,interpretation:X,quality:_,color:S}},[a]);return console.log("MediaCorrelation Debug (Rebuilt):",{paidMediaTotal:e.length,activitiesTotal:t.length,dataPoints:a.length}),{data:a,stats:s,rawCounts:{paid:e.length,b2c:t.length}}};function p_e(e,t){return{date:e,displayDate:Te(t,"dd/MM"),spendMeta:0,spendGoogle:0,spendTotal:0,cards:0,proposals:0,conversionRate:0,cumulativeSpend:0,cumulativeCards:0}}const m_e=({stats:e})=>{const{startDate:t,endDate:r}=ql(),n=`${Te(t,"dd/MM")} - ${Te(r,"dd/MM")}`,a=Math.ceil((r.getTime()-t.getTime())/(1e3*60*60*24));if(!e)return d.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-xl p-6 mb-6 text-center text-slate-400",children:"Dados insuficientes para correlao neste perodo."});const{rSquared:s,quality:i,color:o,influenceMin:l,influenceMax:c,estimatedCardsMin:u,estimatedCardsMax:f,effectiveCacMin:h,effectiveCacMax:p,interpretation:m}=e,v=b=>(b*100).toFixed(0)+"%",g=b=>Math.round(b).toLocaleString("pt-BR"),x=b=>b.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return d.jsx("div",{className:"bg-slate-100 border border-slate-300 rounded-xl p-1 shadow-sm mb-6 max-w-4xl mx-auto",children:d.jsxs("div",{className:"bg-white rounded-lg p-5 border border-slate-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-800 font-bold text-lg flex items-center gap-2",children:[d.jsx(oi,{size:18,className:"text-amber-500"}),"Estimativa de Influncia (Proxy CRM)"]}),d.jsxs("p",{className:"text-slate-500 text-xs mt-1",children:["Base: Correlao temporal entre spend e Cartes CRM  Perodo: ",a," dias (",n,")"]})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("div",{className:"text-sm text-slate-500 font-medium",children:"Correlao (R)"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl font-bold text-slate-900",children:s.toFixed(2)}),d.jsx("span",{className:"text-xs font-bold px-2 py-0.5 rounded-full text-white",style:{backgroundColor:o},children:i})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(U3,{size:16,className:"text-green-600"}),d.jsxs("span",{className:"text-slate-700 font-bold text-sm",children:["Estimado: ",v(l),"-",v(c)," dos cartes CRM"]})]}),d.jsxs("div",{className:"text-slate-500 text-xs pl-6",children:[" ",g(u)," - ",g(f)," cartes"]})]}),d.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border border-slate-200 flex flex-col justify-center",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx(_0,{size:16,className:"text-blue-500"}),d.jsx("span",{className:"text-slate-700 font-bold text-sm",children:"CAC Efetivo Mdia"})]}),d.jsxs("div",{className:"text-slate-600 font-medium text-sm pl-6",children:[x(h)," - ",x(p),d.jsx("span",{className:"text-slate-400 font-normal text-xs ml-1",children:"(vs CPA aparente)"})]})]})]}),d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"flex items-start gap-2",children:[d.jsx(Sf,{size:16,className:"text-amber-500 mt-0.5 shrink-0"}),d.jsxs("p",{className:"text-slate-600 text-sm italic",children:["Interpretao: ",m]})]})}),d.jsxs("div",{className:"bg-red-50 border border-red-100 rounded-md p-2 flex items-start gap-2",children:[d.jsx(oi,{size:14,className:"text-red-600 mt-0.5 shrink-0"}),d.jsxs("p",{className:"text-[11px] text-red-700 leading-tight",children:[d.jsx("strong",{children:"AVISO:"})," Correlao no  Atribuio. Sem rastreamento user-level, estes nmeros so apenas estimativas estatsticas de influncia possvel baseadas na sincronia temporal."]})]})]})})},v_e=({active:e,payload:t,label:r})=>{if(e&&t&&t.length){const n=t.find(s=>s.dataKey==="cumulativeSpend"),a=t.find(s=>s.dataKey==="cumulativeCards");return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded-lg shadow-xl",children:[d.jsx("p",{className:"text-slate-300 text-xs mb-1",children:r}),n&&d.jsxs("p",{className:"text-[#0066CC] font-bold text-sm",children:["Spend: ",n.value.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),a&&d.jsxs("p",{className:"text-[#00AA44] font-bold text-sm",children:["Cartes: ",Math.round(a.value).toLocaleString("pt-BR")]})]})}return null},g_e=({data:e})=>d.jsxs("div",{className:"h-[350px] w-full bg-slate-900/50 p-4 rounded-xl border border-slate-800",children:[d.jsxs("h4",{className:"text-slate-100 font-bold mb-4 text-sm flex items-center gap-2",children:[d.jsx("span",{className:"w-2 h-2 rounded-full bg-[#0066CC]"})," Spend Acumulado",d.jsx("span",{className:"text-slate-500",children:"vs"}),d.jsx("span",{className:"w-2 h-2 rounded-full bg-[#00AA44]"})," Cartes Acumulados"]}),d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ch,{data:e,margin:{top:10,right:10,left:10,bottom:0},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.3,vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#64748b",fontSize:11,tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(nt,{yAxisId:"left",orientation:"left",stroke:"#0066CC",fontSize:11,tickFormatter:t=>`R$${(t/1e3).toFixed(0)}k`,axisLine:!1,tickLine:!1}),d.jsx(nt,{yAxisId:"right",orientation:"right",stroke:"#00AA44",fontSize:11,axisLine:!1,tickLine:!1}),d.jsx(Ct,{content:d.jsx(v_e,{}),wrapperStyle:{pointerEvents:"none"},cursor:{stroke:"#475569",strokeWidth:1,strokeDasharray:"3 3"}}),d.jsx($r,{verticalAlign:"top",height:36,content:({payload:t})=>d.jsx("div",{className:"flex justify-center gap-6 text-xs font-semibold mb-4",children:t==null?void 0:t.map((r,n)=>d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:r.color}}),d.jsx("span",{style:{color:"#94a3b8"},children:r.value==="cumulativeSpend"?"Spend Acumulado (Meta+Google)":"Cartes CRM Acumulados"})]},`item-${n}`))})}),d.jsx(yx,{yAxisId:"left",type:"monotone",dataKey:"cumulativeSpend",stroke:"#0066CC",fill:"url(#colorSpend)",strokeWidth:2,name:"Spend Acumulado"}),d.jsx(sr,{yAxisId:"right",type:"monotone",dataKey:"cumulativeCards",stroke:"#10B981",strokeWidth:3,dot:!1,name:"Cartes CRM Acumulados",activeDot:{r:6,strokeWidth:0,fill:"#00AA44"}})]})})]}),x_e=({data:e,stats:t})=>{const r=w.useMemo(()=>{if(!t||e.length===0)return[];const{slope:n,intercept:a}=t,s=e.map(h=>h.spendTotal),i=Math.min(...s),o=Math.max(...s),l=i,c=o,u=n*l+a,f=n*c+a;return[{spendTotal:l,cards:u,isRegression:!0},{spendTotal:c,cards:f,isRegression:!0}]},[e,t]);return d.jsxs("div",{className:"h-[350px] w-full bg-slate-900/50 p-4 rounded-xl border border-slate-800 relative",children:[d.jsx("h4",{className:"text-slate-100 font-bold mb-4 text-sm",children:"Disperso + Regresso Linear"}),t&&d.jsxs("div",{className:"absolute top-4 right-4 bg-white border border-slate-200 rounded px-2 py-1 shadow-sm z-10",children:[d.jsxs("p",{className:"text-xs font-bold text-black",children:["R = ",t.rSquared.toFixed(2)]}),d.jsx("p",{className:"text-[10px] text-slate-500",children:t.formula})]}),t&&d.jsxs("div",{className:"absolute top-14 right-4 text-[10px] italic text-slate-400 text-right max-w-[150px]",children:['"A cada R$ 1.000 em spend, estimado +',(t.slope*1e3).toFixed(0),' cartes"']}),d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ch,{margin:{top:20,right:20,bottom:20,left:10},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#334155",opacity:.3}),d.jsx(Tt,{dataKey:"spendTotal",type:"number",name:"Spend",stroke:"#64748b",fontSize:11,tickFormatter:n=>`R$${n/1e3}k`,domain:["auto","auto"]}),d.jsx(nt,{type:"number",dataKey:"y",name:"Cartes CRM",unit:"",stroke:"#94a3b8",fontSize:12,tickLine:!1,axisLine:!1,label:{value:"Cartes CRM (Dirio)",angle:-90,position:"insideLeft",style:{fill:"#94a3b8"}}}),d.jsx(Ct,{cursor:{strokeDasharray:"3 3"},content:({active:n,payload:a})=>{if(n&&a&&a.length){const s=a[0].payload;return d.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-3 rounded shadow-lg text-xs",children:[d.jsx("p",{className:"border-b border-slate-700 pb-1 mb-1 font-bold text-slate-200",children:s.date}),d.jsxs("p",{className:"text-blue-400",children:["Spend: ",s.x.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})]}),d.jsxs("p",{className:"text-green-400",children:["Cartes CRM: ",s.y]})]})}return null}}),d.jsx(F8,{name:"Dias",data:e,fill:"#94a3b8",shape:"circle"}),d.jsx(sr,{data:r,dataKey:"cards",stroke:"#ef4444",strokeWidth:2,dot:!1,activeDot:!1,name:"Regresso"})]})})]})},y_e=({data:e})=>{const t=w.useMemo(()=>{const n=e.map(o=>o.spendMeta),a=e.map(o=>o.spendGoogle),s=e.map(o=>o.cards),i=e.map(o=>o.cpa||0).filter(o=>o>0);return{meta:{min:Math.min(...n),max:Math.max(...n)},google:{min:Math.min(...a),max:Math.max(...a)},cards:{min:Math.min(...s),max:Math.max(...s)},cpa:{min:Math.min(...i.length?i:[0]),max:Math.max(...i.length?i:[0])}}},[e]),r=[...e].reverse();return d.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-xl overflow-hidden",children:[d.jsxs("div",{className:"p-4 border-b border-slate-800 flex justify-between items-center",children:[d.jsx("h4",{className:"text-slate-100 font-bold text-sm",children:"Heatmap de Eficincia Diria"}),d.jsxs("div",{className:"flex gap-2 text-[10px] text-slate-500",children:[d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 rounded bg-red-500"}),"Ruim"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 rounded bg-yellow-500"}),"Mdio"]}),d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-2 h-2 rounded bg-green-500"}),"Bom"]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"text-xs text-slate-400 uppercase bg-slate-900 border-b border-slate-800",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 sticky left-0 bg-slate-900 z-10",children:"Data"}),d.jsx("th",{className:"px-4 py-3 text-center",children:"Spend Meta"}),d.jsx("th",{className:"px-4 py-3 text-center",children:"Spend Google"}),d.jsx("th",{className:"px-4 py-3 text-center",children:"Cartes CRM"}),d.jsx("th",{className:"px-4 py-3 text-center bg-slate-800/50",children:"CPA (R$)"})]})}),d.jsx("tbody",{children:r.map(n=>d.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition",children:[d.jsx("td",{className:"px-4 py-2 font-medium text-slate-300 sticky left-0 bg-slate-950/80 backdrop-blur z-10 whitespace-nowrap text-xs",children:n.displayDate}),d.jsx(_p,{value:n.spendMeta,formatted:n.spendMeta.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),min:t.meta.min,max:t.meta.max}),d.jsx(_p,{value:n.spendGoogle,formatted:n.spendGoogle.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),min:t.google.min,max:t.google.max}),d.jsx(_p,{value:n.cards,formatted:n.cards.toString(),min:t.cards.min,max:t.cards.max,inverse:!1}),d.jsx(_p,{value:n.cpa,formatted:(n.cpa||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),min:t.cpa.min,max:t.cpa.max,inverse:!0})]},n.date))})]})})]})},_p=({value:e,formatted:t,min:r,max:n,inverse:a=!1})=>{let s=0;n!==r&&(s=(e-r)/(n-r)),a&&(s=1-s);let i="";if(s<.5){const o=s/.5,l=Math.round(239+6*o),c=Math.round(68+90*o),u=Math.round(68+-57*o);i=`rgb(${l}, ${c}, ${u})`}else{const o=(s-.5)/.5,l=Math.round(245+-229*o),c=Math.round(158+27*o),u=Math.round(11+118*o);i=`rgb(${l}, ${c}, ${u})`}return e===0&&!a&&(i="#334155"),e===0&&a&&(i="#334155"),d.jsx("td",{className:"p-1",children:d.jsx("div",{className:"w-full h-full rounded py-2 px-1 text-center text-xs font-bold shadow-sm border border-black/10 text-white/90",style:{backgroundColor:i,textShadow:"0 1px 2px rgba(0,0,0,0.3)"},children:t})})},b_e=()=>{const{data:e,stats:t}=h_e();return e.length===0?d.jsxs("div",{className:"flex flex-col gap-6 mt-12 mb-12 animate-fade-in-up",children:[d.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent w-full mb-4"}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsx("div",{children:d.jsxs("h3",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Cl,{className:"text-purple-500"}),"Anlise de Influncia (Proxy CRM)"]})})}),d.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 border-dashed rounded-xl p-8 text-center h-40 flex flex-col items-center justify-center",children:[d.jsx(_0,{size:32,className:"text-slate-600 mb-3"}),d.jsx("p",{className:"text-slate-400 font-medium",children:"Nenhum dado encontrado para correlao."}),d.jsxs("p",{className:"text-xs text-slate-500 mt-1 max-w-md mx-auto",children:['Verifique se escolheu um perodo com dados de "Mdia Paga" e "B2C".',d.jsx("br",{}),"(PaidMedia: ",t?"OK":"Vazio"," | B2C: ",e.length>0?"OK":"Zero",")"]})]})]}):d.jsxs("div",{className:"flex flex-col gap-6 mt-12 mb-12 animate-fade-in-up",children:[d.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-slate-700 to-transparent w-full mb-4"}),d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Cl,{className:"text-purple-500"}),"Anlise de Influncia de Mdia",d.jsx("span",{className:"text-[10px] font-normal text-purple-200 bg-purple-900/40 border border-purple-500/30 px-2 py-0.5 rounded-full",children:"Novo"})]}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Correlao temporal entre Investimento em Mdia (Meta + Google) e Gerao de Cartes B2C."})]})}),d.jsx(m_e,{stats:t}),d.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:[d.jsx(g_e,{data:e}),d.jsx(x_e,{data:e,stats:t})]}),d.jsx("div",{className:"mt-2",children:d.jsx(y_e,{data:e})})]})},w_e=()=>{const{dailyAnalysis:e,summary:t,previousSummary:r,viewMode:n,setViewMode:a,getActivities:s,segmentStats:i}=aB(),{alertConfig:o,b2cData:l,setB2CData:c}=Tr(),{parseB2CCSV:u}=OS(),[f,h]=w.useState(!0),[p,m]=w.useState(!1);w.useEffect(()=>{(async()=>{if(l.length>0){h(!1);return}if(!p){m(!0);try{const P=await Cs.listFiles("b2c");if(P&&P.length>0){h(!0),console.log(" B2C Auto-Sync:",P[0].name);const A=await Cs.getDownloadUrl("b2c/"+P[0].name),L=await(await fetch(A)).blob(),K=new File([L],P[0].name,{type:"text/csv"}),{data:X}=await u(K);X&&X.length>0&&c(X),h(!1)}}catch(P){console.error("B2C Sync failed",P),h(!1)}}})()},[l.length,p,c,u]);const[v,g]=w.useState(!1),[x,b]=w.useState([]),[y,k]=w.useState(null),[E,_]=w.useState(void 0),S=j=>{const P=s(j,"daily"),[A,N,L]=j.split("-").map(Number);k(new Date(A,N-1,L)),b(P),_(void 0),g(!0)},C=j=>{const P=s(j,"weekly"),[A,N,L]=j.split("-").map(Number),K=new Date(A,N-1,L),X=new Date(K);X.setDate(X.getDate()+6),k(K),b(P),_(` Detalhes da Semana: ${Te(K,"dd/MM")} a ${Te(X,"dd/MM")}`),g(!0)},T=()=>{g(!1),b([]),k(null)};return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(h_,{className:"text-blue-500"}),"Originao B2C"]}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Anlise de participao CRM na originao total B2C."})]}),d.jsx("div",{className:"flex items-center gap-4",children:l.length===0&&d.jsx(u_e,{})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 pb-10",children:[d.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.length>0&&t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-8",children:[d.jsxs("div",{className:"xl:w-7/12",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Comparao B2C vs CRM"}),d.jsx(i_e,{summary:t,previousSummary:r})]}),d.jsx("div",{className:"xl:w-5/12 flex flex-col",children:d.jsx(f_e,{segmentStats:i,totalB2CEmissoes:t.emissoes_b2c_total})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Performance"}),d.jsx(o_e,{summary:t})]}),d.jsx(l_e,{data:e,shareThreshold:o.share_crm_limiar,viewMode:n,setViewMode:a,onPointClick:j=>{const P=Te(j,"yyyy-MM-dd");S(P)}}),d.jsx(c_e,{data:e,onRowClick:S}),d.jsx("div",{className:"mb-6",children:d.jsx(d_e,{data:e,onBarClick:C})}),d.jsx(b_e,{})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50",children:f?d.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400",children:[d.jsx(yo,{className:"animate-spin text-blue-500",size:32}),d.jsx("p",{children:"Sincronizando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-slate-500 mb-2",children:"Nenhum dado B2C carregado."}),d.jsx("p",{className:"text-xs text-slate-600",children:"Faa upload do CSV diarizado para comear."})]})})}),v&&d.jsx(uh,{date:y,activities:x,onClose:T,titleOverride:E})]})]})},cO=(e,t)=>{const r=w.useMemo(()=>{const i=t.bu.length===0?void 0:t.bu,o={};return Object.entries(e).forEach(([l,c])=>{const u=i?c.filter(f=>i.includes(f.bu)):c;u.length>0&&(o[l]=u)}),o},[e,t.bu]),n=w.useMemo(()=>{const i={};return Object.entries(r).forEach(([o,l])=>{i[o]=l.length}),i},[r]),a=i=>{const o=r[i]||[];if(o.length===0)return null;const l={};return o.forEach(c=>{l[c.bu]=(l[c.bu]||0)+1}),Object.entries(l).sort(([,c],[,u])=>u-c)[0][0]},s=w.useMemo(()=>Object.values(r).reduce((i,o)=>i+o.length,0),[r]);return{filteredData:r,activityCountByDay:n,getDominantBU:a,getTotalActivities:s,selectedBUs:t.bu}},__e=(e,t)=>w.useMemo(()=>{try{const n={};return Object.values(e).forEach(s=>{s.forEach(i=>{const o=i.parceiro||"Sem Parceiro";n[o]||(n[o]={nome:o,totalCartoes:0,taxaEntregaMdia:0,taxaAberturaMdia:0,taxaPropostaMdia:0,cacMdio:0,custoTotal:0,atividades:0,variacao:0,status:"em-progresso",bu:[],datas:[]});const l=n[o],c=i.kpis;l.totalCartoes+=c.cartoes||0,l.taxaEntregaMdia+=c.taxaEntrega||0,l.taxaAberturaMdia+=c.taxaAbertura||0,l.taxaPropostaMdia+=c.taxaPropostas||0,l.cacMdio+=c.cac||0,l.custoTotal+=c.custoTotal||0,l.atividades+=1,l.bu.includes(i.bu)||l.bu.push(i.bu);const u=i.dataDisparo.toISOString().split("T")[0];l.datas.includes(u)||l.datas.push(u)})}),Object.values(n).forEach(s=>{s.atividades>0&&(s.taxaEntregaMdia=s.taxaEntregaMdia/s.atividades,s.taxaAberturaMdia=s.taxaAberturaMdia/s.atividades,s.taxaPropostaMdia=s.taxaPropostaMdia/s.atividades,s.cacMdio=s.cacMdio/s.atividades);const i=new Date,o=new Date(Math.max(...s.datas.map(c=>new Date(c).getTime()))),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24));l>30?s.status="parado":l>7?s.status="em-progresso":s.status="concluido"}),n}catch(n){return console.error("Error calculating resultados metrics:",n),{}}},[e,t]),k_e=({title:e,items:t,isActive:r})=>{const[n,a]=w.useState(!1);return d.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsxs("button",{className:`
                    px-3 py-2 text-sm font-semibold tracking-wide transition-all duration-200 uppercase relative
                    ${r||n?"text-white":"text-slate-400 hover:text-slate-200"}
                `,children:[e,(r||n)&&d.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"})]}),d.jsx("div",{className:`
                    absolute top-full left-0 pt-2 w-48 transform transition-all duration-200 origin-top-left
                    ${n?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}
                `,children:d.jsx("div",{className:"bg-[#0F172A] border border-white/10 rounded-lg shadow-xl backdrop-blur-xl p-1.5 z-50",children:t.map(s=>d.jsxs("button",{onClick:()=>{s.onClick(),a(!1)},className:`
                                w-full flex items-center gap-3 px-3 py-2 rounded-md text-xs font-medium transition-all text-left
                                ${s.isActive?"bg-blue-600/10 text-blue-400":"text-slate-400 hover:text-slate-100 hover:bg-white/5"}
                            `,children:[s.icon&&d.jsx(s.icon,{size:16}),s.label]},s.id))})})]})},S_e=()=>{const{setTab:e,viewSettings:t}=Tr(),r=t.abaAtual,{toggleBU:n,isBUSelected:a}=dh(),s=[{title:"Planejamento",items:[{id:"launch",label:"Launch Planner",icon:y0,onClick:()=>e("launch")},{id:"diario",label:"Dirio de Bordo",icon:B3,onClick:()=>e("diario")}]},{title:"Anlise",items:[{id:"jornada",label:"Jornada & Disparos",icon:fa,onClick:()=>e("jornada")},{id:"resultados",label:"Resultados",icon:h_,onClick:()=>e("resultados")},{id:"orientador",label:"Orientador",icon:Sf,onClick:()=>e("orientador")},{id:"originacao-b2c",label:"Originao B2C",icon:$3,onClick:()=>e("originacao-b2c")}]},{title:"Mdia Paga",items:[{id:"midia-paga",label:"Mdia Paga",icon:void 0,onClick:()=>e("midia-paga")}]},{title:"Sistema",items:[{id:"framework",label:"Framework",icon:H3,onClick:()=>e("framework")}]}],i=[{id:"B2C",label:"B2C",color:"bg-blue-500"},{id:"B2B2C",label:"B2B2C",color:"bg-emerald-500"},{id:"Plurix",label:"Plurix",color:"bg-purple-500"}],o=l=>l.some(c=>c.id===r);return d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-[#0B0F19]/95 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-0 shrink-0",children:[d.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent tracking-widest leading-none",children:"GaaS"}),d.jsx("span",{className:"text-[10px] font-bold text-white tracking-wider uppercase leading-tight opacity-90",children:"AFINZ"})]}),d.jsx("nav",{className:"hidden lg:flex items-center gap-1 h-16",children:s.map(l=>d.jsx(k_e,{title:l.title,items:l.items.map(c=>({...c,isActive:r===c.id})),isActive:o(l.items)},l.title))})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4 flex-1 max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-white/10 mr-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider hidden xl:block",children:"BU:"}),d.jsx("div",{className:"flex bg-white/5 rounded-lg p-1 gap-1",children:i.map(l=>d.jsxs("button",{onClick:()=>n(l.id),className:`
                                    px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5
                                    ${a(l.id)?"bg-slate-700 text-white shadow-sm":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}
                                `,title:`Filtrar por ${l.label}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${l.color} ${a(l.id)?"opacity-100 shadow-[0_0_4px_currentColor]":"opacity-40"}`}),d.jsx("span",{className:a(l.id)?"":"hidden xl:inline",children:l.label})]},l.id))})]}),d.jsxs("div",{className:"hidden md:flex items-center bg-white/5 border border-white/10 rounded-full px-4 py-1.5 w-64 transition-all focus-within:w-80 focus-within:bg-white/10 focus-within:border-blue-500/50",children:[d.jsx(og,{size:16,className:"text-slate-500 mr-2"}),d.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-sm text-slate-300 w-full placeholder-slate-600"})]}),d.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),d.jsx("button",{onClick:()=>e("configuracoes"),className:`p-2 rounded-full transition relative ${r==="configuracoes"?"text-white bg-white/10":"text-slate-400 hover:text-white hover:bg-white/10"}`,title:"Configuraes",children:d.jsx(fV,{size:20})}),d.jsx("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/5 p-1.5 rounded-lg transition group",children:d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center ring-2 ring-white/10 group-hover:ring-blue-500/50 transition-all",children:d.jsx(G3,{size:16,className:"text-white"})})})]})]})},E_e=({children:e})=>d.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0F172A] text-slate-100 font-sans selection:bg-blue-500/30",children:[d.jsx(S_e,{}),d.jsx("main",{className:"flex-1 flex flex-col relative w-full max-w-[1920px] mx-auto pt-16",children:d.jsx("div",{className:"flex-1 p-2 w-full h-full overflow-y-auto overflow-x-hidden",children:e})})]}),C_e=({data:e,onDayClick:t,displayDate:r,onMonthChange:n})=>{const a=w.useMemo(()=>{const f=en(r),h=Gl(f);return Array.from({length:42},(p,m)=>yv(h,m))},[r]),s=f=>{n(f)},i=w.useMemo(()=>Object.values(e).flat(),[e]),o=f=>{const h=i.filter(g=>bu(g.dataDisparo,f)),p=h.length,m=h.reduce((g,x)=>(g[x.bu]=(g[x.bu]||0)+1,g),{}),v=h.reduce((g,x)=>(g[x.bu]=(g[x.bu]||0)+(x.kpis.cartoes||0),g),{});return{count:p,byBU:m,byBUCartoes:v}},l=f=>{if(Object.keys(f).length===0)return"bg-slate-800/30 border-slate-700/50";const h=Object.entries(f).sort((p,m)=>m[1]-p[1])[0][0];switch(h==null?void 0:h.toUpperCase()){case"B2C":return"bg-blue-900/40 border-blue-700/50 hover:bg-blue-900/60 hover:border-blue-600/70";case"B2B2C":return"bg-emerald-900/40 border-emerald-700/50 hover:bg-emerald-900/60 hover:border-emerald-600/70";case"PLURIX":return"bg-purple-900/40 border-purple-700/50 hover:bg-purple-900/60 hover:border-purple-600/70";default:return"bg-slate-800/30 border-slate-700/50"}},c=f=>{switch(f==null?void 0:f.toUpperCase()){case"B2C":return"bg-blue-600 hover:bg-blue-500";case"B2B2C":return"bg-emerald-600 hover:bg-emerald-500";case"PLURIX":return"bg-purple-600 hover:bg-purple-500";default:return"bg-slate-600 hover:bg-slate-500"}},u=f=>{const h=jS(f);return h===0||h===6};return d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 h-full flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>s(_u(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Ms anterior",children:d.jsx(sg,{size:18})}),d.jsx("h2",{className:"text-lg font-bold text-white uppercase min-w-[200px] text-center",children:Te(r,"MMMM yyyy",{locale:Rs})}),d.jsx("button",{onClick:()=>s(SS(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Prximo ms",children:d.jsx(ig,{size:18})})]})}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["D","S","T","Q","Q","S","S"].map((f,h)=>d.jsx("div",{className:`text-center text-xs font-semibold py-2 ${h===0||h===6?"text-blue-400":"text-slate-500"}`,children:f},h))}),d.jsx("div",{className:"flex-1 overflow-y-auto flex justify-center",children:d.jsx("div",{className:"grid grid-cols-7 gap-1 w-full max-w-[560px]",children:a.map(f=>{const{count:h,byBU:p,byBUCartoes:m}=o(f),v=Qf(f,r),g=bu(f,new Date),x=u(f),b=Object.entries(p).sort((k,E)=>E[1]-k[1]),y=l(m);return d.jsxs("div",{onClick:()=>t==null?void 0:t(f),className:`
                                relative p-1 rounded-md border transition-all cursor-pointer aspect-square overflow-hidden group
                                ${v?x?"bg-blue-950/30 border-blue-800/40 hover:bg-blue-950/50 hover:border-blue-700/60":y:"bg-slate-900/20 border-slate-800/30 opacity-20"}
                                ${g?"ring-1 ring-blue-400 ring-offset-1 ring-offset-slate-900":""}
                            `,children:[d.jsx("div",{className:"absolute top-1 left-0 right-0 flex justify-center",children:d.jsx("span",{className:`text-[10px] font-semibold ${g?"text-blue-300":x?"text-blue-400":"text-slate-300"}`,children:Te(f,"d")})}),h>0&&d.jsx("div",{className:"absolute inset-x-0 bottom-1 top-4 flex flex-wrap content-center justify-center gap-0.5 px-0.5",children:b.map(([k,E])=>d.jsx("div",{className:`${c(k)} rounded-full w-3.5 h-3.5 flex items-center justify-center text-white font-bold text-[7px] shadow-sm`,title:`${E} ${k}`,children:E},k))})]},f.toISOString())})})})]})},T_e=({activities:e,previousActivities:t=[]})=>{const r=l=>{const c=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.baseEnviada)||0)},0),u=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.baseEntregue)||0)},0),f=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.propostas)||0)},0),h=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.aprovados)||0)},0),p=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.emissoes)||0)},0),m=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.custoTotal)||0)},0),v=l.reduce((_,S)=>{var C;return _+(((C=S.kpis)==null?void 0:C.cartoes)||0)},0),g=c>0?u/c*100:0,x=u>0?f/u*100:0,b=f>0?h/f*100:0,y=h>0?p/h*100:0,k=v>0?m/v:0,E=c>0?v/c*100:0;return{baseEnviada:c,baseEntregue:u,taxaEntrega:g,propostas:f,taxaPropostas:x,aprovados:h,taxaAprovacao:b,emissoes:p,taxaEmissao:y,convBase:E,cac:k,custoTotal:m}},n=w.useMemo(()=>r(e),[e]),a=w.useMemo(()=>r(t),[t]),s=(l,c)=>c===0?0:(l-c)/c*100,i={baseEnviada:s(n.baseEnviada,a.baseEnviada),baseEntregue:s(n.baseEntregue,a.baseEntregue),taxaEntrega:n.taxaEntrega-a.taxaEntrega,propostas:s(n.propostas,a.propostas),taxaPropostas:n.taxaPropostas-a.taxaPropostas,aprovados:s(n.aprovados,a.aprovados),taxaAprovacao:n.taxaAprovacao-a.taxaAprovacao,emissoes:s(n.emissoes,a.emissoes),taxaEmissao:n.taxaEmissao-a.taxaEmissao,convBase:n.convBase-a.convBase,cac:s(n.cac,a.cac),custoTotal:s(n.custoTotal,a.custoTotal)},o=({label:l,value:c,variation:u,prefix:f="",suffix:h="",isCurrency:p=!1,highlight:m=!1,decimals:v=1})=>d.jsxs("div",{className:`
            relative rounded-lg p-2 flex flex-col justify-between min-h-[55px] transition-all group
            ${m?"bg-blue-900/20 border border-blue-500/30":"bg-slate-900 border border-slate-800 hover:border-slate-700"}
        `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[d.jsxs("div",{className:"flex items-center gap-1 text-slate-400 text-[9px] font-bold uppercase tracking-wider",children:[l,d.jsx(_0,{size:9,className:"cursor-help opacity-40 hover:opacity-100 transition-opacity"})]}),u!==void 0&&u!==0&&d.jsxs("span",{className:`text-[9px] font-bold ${u>0?"text-emerald-400":"text-red-400"}`,children:[u>0?"":""," ",Math.abs(u).toFixed(1),h==="%"?"pp":"%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:`text-base font-bold leading-none ${m?"text-blue-100":"text-slate-100"}`,children:[f,p?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(c):new Intl.NumberFormat("pt-BR",{minimumFractionDigits:v,maximumFractionDigits:v}).format(c),h]}),h==="%"&&d.jsx("div",{className:"w-full h-0.5 bg-slate-700/50 rounded-full overflow-hidden mt-1",children:d.jsx("div",{className:`h-full rounded-full ${m?"bg-blue-400":"bg-slate-500"}`,style:{width:`${Math.min(c,100)}%`}})})]})]});return d.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[d.jsx(o,{label:"Base Enviada",value:n.baseEnviada,variation:i.baseEnviada,decimals:0}),d.jsx(o,{label:"Base Entregue",value:n.baseEntregue,variation:i.baseEntregue,decimals:0}),d.jsx(o,{label:"% Entrega",value:n.taxaEntrega,suffix:"%",variation:i.taxaEntrega}),d.jsx(o,{label:"Propostas",value:n.propostas,variation:i.propostas,decimals:0}),d.jsx(o,{label:"% Propostas",value:n.taxaPropostas,suffix:"%",variation:i.taxaPropostas}),d.jsx(o,{label:"Aprovados",value:n.aprovados,variation:i.aprovados,decimals:0}),d.jsx(o,{label:"% Aprovados",value:n.taxaAprovacao,suffix:"%",variation:i.taxaAprovacao}),d.jsx(o,{label:"Emisses",value:n.emissoes,variation:i.emissoes,decimals:0}),d.jsx(o,{label:"% Finalizao",value:n.taxaEmissao,suffix:"%",variation:i.taxaEmissao}),d.jsx(o,{label:"% Conv. Base",value:n.convBase,suffix:"%",variation:i.convBase,highlight:!0,decimals:3}),d.jsx(o,{label:"CAC",value:n.cac,prefix:"R$ ",isCurrency:!0,variation:i.cac}),d.jsx(o,{label:"Custo Total",value:n.custoTotal,prefix:"R$ ",isCurrency:!0,variation:i.custoTotal})]})},A_e=({activities:e,goals:t,currentMonth:r})=>{const{dailyAnalysis:n}=aB(),{isBUSelected:a}=dh(),s=!a("B2B2C")&&!a("Plurix"),[i,o]=w.useState(null),l=v=>{if(v&&v.activePayload&&v.activePayload[0]){const g=v.activePayload[0].payload;g.data&&o(g.data)}},c=v=>{v&&v.payload&&v.payload.data&&o(v.payload.data)},u=w.useMemo(()=>i?e.filter(v=>(v.dataDisparo instanceof Date?Te(v.dataDisparo,"yyyy-MM-dd"):typeof v.dataDisparo=="string"?v.dataDisparo.split("T")[0]:"")===i):[],[i,e]),f=w.useMemo(()=>{const v=e.reduce((y,k)=>{var E;return y+(((E=k.kpis)==null?void 0:E.cartoes)||0)},0),g=t.find(y=>y.mes===r),x=(g==null?void 0:g.cartoes_meta)||0,b=x>0?v/x*100:0;return{totalCards:v,goalCards:x,goalProgress:b}},[e,t,r]),h=[{name:"Realizado",value:f.totalCards,color:"#3B82F6"},{name:"Meta",value:f.goalCards,color:"#10B981"}],p=w.useMemo(()=>n.map(v=>{const[g,x,b]=v.data.split("-").map(Number),y=new Date(g,x-1,b);return{...v,displayDate:Te(y,"dd/MM",{locale:Rs}),outros_propostas:Math.max(0,v.propostas_b2c_total-v.propostas_crm),outros_emissoes:Math.max(0,v.emissoes_b2c_total-v.emissoes_crm),cac_medio:v.cac_medio}}),[n]),m=({active:v,payload:g,label:x})=>v&&g&&g.length?d.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-2 rounded text-[10px] text-slate-200",children:[d.jsx("p",{className:"font-bold mb-1 border-b border-slate-700 pb-1",children:x}),g.map((b,y)=>{const E=b.name.includes("CAC")?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(b.value):b.value.toLocaleString("pt-BR");return d.jsxs("p",{style:{color:b.color},children:[b.name,": ",E]},y)})]}):null;return d.jsxs("div",{className:`grid gap-4 mb-2 ${s?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col justify-between h-48 relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-slate-400 text-xs font-medium",children:"Cartes vs Meta"}),d.jsxs("div",{className:"flex items-baseline gap-2 mt-0.5",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:f.totalCards.toLocaleString()}),d.jsxs("span",{className:"text-xs text-slate-500",children:["/ ",f.goalCards.toLocaleString()]})]})]}),d.jsxs("div",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${f.goalProgress>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[f.goalProgress.toFixed(1),"%"]})]}),d.jsx("div",{className:"flex-1 w-full min-h-0 relative z-10",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{layout:"vertical",data:h,barSize:12,children:[d.jsx(Tt,{type:"number",hide:!0}),d.jsx(nt,{dataKey:"name",type:"category",width:50,tick:{fill:"#94a3b8",fontSize:10},axisLine:!1,tickLine:!1}),d.jsx(Ct,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f8fafc",fontSize:"10px"},itemStyle:{color:"#f8fafc"},cursor:{fill:"transparent"}}),d.jsx(Ur,{dataKey:"value",radius:[0,4,4,0],children:h.map((v,g)=>d.jsx(Ms,{fill:v.color},`cell-${g}`))})]})})})]}),s&&d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsx("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2",children:"CAC Evolution (R$)"}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:p,onClick:l,style:{cursor:"pointer"},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(nt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ct,{content:d.jsx(m,{}),wrapperStyle:{pointerEvents:"none"}}),d.jsx($r,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(sr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6,onClick:c,style:{cursor:"pointer"}}})]})})})]})]}),s&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsx("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2",children:"Propostas: CRM vs B2C"}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:p,onClick:l,style:{cursor:"pointer"},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(nt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ct,{content:d.jsx(m,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx($r,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Ur,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3B82F6"}),d.jsx(Ur,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-48 flex flex-col",children:[d.jsx("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2",children:"Emisses: CRM vs B2C"}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:p,onClick:l,style:{cursor:"pointer"},children:[d.jsx(Vt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Tt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(nt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ct,{content:d.jsx(m,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx($r,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Ur,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#10B981"}),d.jsx(Ur,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]})]}),d.jsx(uh,{date:i?new Date(i+"T12:00:00"):null,activities:u,onClose:()=>o(null)})]})},j_e=({data:e,onDayClick:t})=>{const[r,n]=ei.useState(new Date),{goals:a}=Tr(),{startDate:s,endDate:i,compareEnabled:o,setPeriod:l}=ql();w.useEffect(()=>{i&&Te(i,"yyyy-MM")!==Te(r,"yyyy-MM")&&n(i)},[i]);const c=p=>{n(p),l(en(p),Ml(p),"custom")},u=w.useMemo(()=>Object.values(e).flat(),[e]),f=w.useMemo(()=>u.filter(p=>fi(p.dataDisparo,{start:s,end:i})),[u,s,i]),h=w.useMemo(()=>{if(!o)return[];const p=Yf(i,s)+1,m=yt(s,p),v=yt(i,p);return u.filter(g=>fi(g.dataDisparo,{start:m,end:v}))},[u,s,i,o]);return d.jsxs("div",{className:"flex h-full gap-2 p-2 bg-[#0F172A] overflow-hidden",children:[d.jsxs("div",{className:"w-1/3 min-w-[320px] flex flex-col gap-2",children:[d.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm",children:d.jsx(C_e,{data:e,onDayClick:t,displayDate:r,onMonthChange:c})}),d.jsxs("button",{className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-slate-300 font-medium flex items-center justify-center gap-2 transition-colors text-sm",children:[d.jsx(uV,{size:16}),"Programar disparo"]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-1 gap-3",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex justify-between items-center",children:[d.jsx("span",{children:"KPIs"}),o&&d.jsx("span",{className:"text-[10px] text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full",children:"Comparando com perodo anterior"})]}),d.jsx(T_e,{activities:f,previousActivities:h})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex items-center gap-2",children:[d.jsx("span",{children:""})," Metas & Resultados"]}),d.jsx(A_e,{activities:f,goals:a,currentMonth:Te(s,"yyyy-MM")})]})]})]})},P_e=({data:e,onActivityUpdate:t})=>{const[r,n]=w.useState(null),a=i=>{n(i)},s=i=>Object.values(e).flat().filter(o=>bu(o.dataDisparo,i));return d.jsxs(d.Fragment,{children:[d.jsx(j_e,{data:e,onActivityUpdate:t,onDayClick:a}),r&&d.jsx(uh,{date:r,activities:s(r),onClose:()=>n(null)})]})},N_e=({initialStartDate:e,initialEndDate:t,initialCompareEnabled:r=!1,onApply:n,onCancel:a})=>{const[s,i]=w.useState(e),[o,l]=w.useState(t),[c,u]=w.useState(null),[f,h]=w.useState(r),[p,m]=w.useState(Ml(new Date)),v=[{label:"Esta semana",getValue:()=>[yt(new Date,new Date().getDay()),new Date]},{label:"ltimos 14 dias",getValue:()=>[yt(new Date,13),new Date]},{label:"ltimos 28 dias",getValue:()=>[yt(new Date,27),new Date]},{label:"ltimos 90 dias",getValue:()=>[yt(new Date,89),new Date]},{label:"Este ano",getValue:()=>[new Date(new Date().getFullYear(),0,1),new Date]},{label:"Este Ms",getValue:()=>[en(new Date),new Date]}],g=E=>{!s||s&&o?(i(E),l(null)):HP(E,s)?(l(s),i(E)):l(E)},x=E=>{const[_,S]=E();i(_),l(S),m(S)},b=f&&s&&o?yt(s,Yf(o,s)+1):null,y=f&&s&&o?yt(o,Yf(o,s)+1):null,k=(E,_)=>{const S=Gl(en(E)),C=Bfe(Ml(E)),T=TS({start:S,end:C}),j=["D","S","T","Q","Q","S","S"];return d.jsxs("div",{className:"w-[320px] p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_==="left"?d.jsx("button",{onClick:()=>m(_u(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(sg,{size:20})}):d.jsx("div",{className:"w-8"}),d.jsx("span",{className:"font-semibold text-slate-200 capitalize",children:Te(E,"MMMM yyyy",{locale:Rs})}),_==="right"?d.jsx("button",{onClick:()=>m(SS(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(ig,{size:20})}):d.jsx("div",{className:"w-8"})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:j.map((P,A)=>d.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:P},A))}),d.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:T.map((P,A)=>{const N=P.getMonth()===E.getMonth(),L=s&&bu(P,s),K=o&&bu(P,o),X=s&&o&&fi(P,{start:s,end:o}),W=!o&&s&&c&&fi(P,{start:HP(P,s)?P:s,end:M0e(P,s)?P:s}),q=b&&y&&fi(P,{start:b,end:y});return d.jsx("button",{onClick:()=>g(P),onMouseEnter:()=>u(P),onMouseLeave:()=>u(null),className:`
                                    h-9 w-full flex items-center justify-center text-sm relative
                                    ${N?"text-slate-300":"text-slate-600"}
                                    ${L?"bg-blue-600 text-white rounded-l-full z-10":""}
                                    ${K?"bg-blue-600 text-white rounded-r-full z-10":""}
                                    ${(X||W)&&!L&&!K?"bg-blue-600/20":""}
                                    ${q&&!X&&!L&&!K?"bg-orange-500/20 text-orange-300":""}
                                    ${L&&K?"rounded-full":""}
                                    hover:bg-blue-600/50 hover:text-white transition-colors
                                `,children:Te(P,"d")},A)})})]})};return d.jsxs("div",{className:"flex h-[450px]",children:[d.jsx("div",{className:"w-48 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col gap-2",children:v.map((E,_)=>d.jsx("button",{onClick:()=>x(E.getValue),className:"text-left px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:E.label},_))}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 flex divide-x divide-slate-800",children:[d.jsx("div",{className:"relative",children:k(_u(p,1),"left")}),d.jsx("div",{className:"relative",children:k(p,"right")})]}),d.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-between items-center bg-slate-900/50",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f,onChange:E=>h(E.target.checked),className:"rounded border-slate-600 bg-slate-800 text-blue-600 focus:ring-blue-500/20"}),"Comparar com perodo anterior"]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-slate-200",children:"Cancelar"}),d.jsx("button",{onClick:()=>n(s,o||s,f),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Aplicar"})]})]})]})]})},O_e=()=>{const{startDate:e,endDate:t,setPeriod:r,compareEnabled:n,toggleCompare:a}=ql(),[s,i]=w.useState(!1),o=w.useRef(null);w.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const l=(c,u,f)=>{r(c,u),a(f),i(!1)};return d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${s?"bg-slate-800 border-blue-500 text-slate-100":"bg-slate-900/50 border-slate-700 text-slate-300 hover:bg-slate-800"}`,children:[d.jsx(y0,{size:16,className:"text-slate-400"}),d.jsxs("span",{className:"text-sm font-medium",children:[Te(e,"dd MMM, yyyy",{locale:Rs})," - ",Te(t,"dd MMM, yyyy",{locale:Rs})]}),d.jsx(Dc,{size:14,className:`text-slate-500 transition-transform ${s?"rotate-180":""}`})]}),s&&d.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:d.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl shadow-black/50 overflow-hidden w-[800px]",children:d.jsx(N_e,{initialStartDate:e,initialEndDate:t,initialCompareEnabled:n,onApply:l,onCancel:()=>i(!1)})})})]})},D_e=({title:e,children:t})=>d.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b border-slate-800 bg-slate-900/50 backdrop-blur-sm sticky top-0 z-20",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-xl font-bold text-slate-100",children:e}),d.jsx("div",{className:"mt-1",children:d.jsx(O_e,{})})]}),d.jsx("div",{className:"flex items-center gap-3",children:t})]}),sB=w.createContext(void 0),M_e=({children:e})=>{const{paidMediaData:t,setPaidMediaData:r}=Tr(),[n,a]=w.useState({from:en(new Date),to:Xf(new Date)}),[s,i]=w.useState("this-month"),[o,l]=w.useState(["meta","google"]),[c,u]=w.useState(["marca","b2c"]),[f,h]=w.useState([]),[p,m]=w.useState(!0);w.useEffect(()=>{if(t.length>0){const _=t.map(j=>new Date(j.date).getTime()),S=Math.max(..._),C=new Date(S),T=yt(C,30);a({from:Is(T),to:Is(C)}),i("custom"),h([])}},[t]);const v=w.useMemo(()=>t.filter(_=>{const S=new Date(_.date);return!(!(S>=n.from&&S<=n.to)||!o.includes(_.channel)||_.objective&&!c.includes(_.objective)||f.length>0&&!f.includes(_.campaign))}),[t,n,o,c,f]),g=w.useMemo(()=>{if(!p)return[];const _=n.to.getTime()-n.from.getTime(),S=new Date(n.from.getTime()-24*60*60*1e3),C=new Date(S.getTime()-_);return t.filter(T=>{const j=new Date(T.date);return!(!(j>=C&&j<=S)||!o.includes(T.channel)||T.objective&&!c.includes(T.objective)||f.length>0&&!f.includes(T.campaign))})},[t,n,o,c,f,p]),x=w.useMemo(()=>{const _=new Set;return t.forEach(S=>{const C=new Date(S.date);C>=n.from&&C<=n.to&&_.add(S.campaign)}),Array.from(_).sort()},[t,n]),b=(_,S)=>{a(_),S&&i(S)},y=_=>{l(S=>S.includes(_)?S.filter(C=>C!==_):[...S,_])},k=_=>{u(S=>S.includes(_)?S.filter(C=>C!==_):[...S,_])},E=_=>{h(S=>S.includes(_)?S.filter(C=>C!==_):[...S,_])};return d.jsx(sB.Provider,{value:{rawData:t,filteredData:v,previousPeriodData:g,setRawData:r,filters:{dateRange:n,timeRangeOption:s,selectedChannels:o,selectedObjectives:c,selectedCampaigns:f,isCompareEnabled:p},setFilters:{setDateRange:b,toggleChannel:y,toggleObjective:k,toggleCampaign:E,setSelectedCampaigns:h,setIsCompareEnabled:m},availableCampaigns:x},children:e})},Bo=()=>{const e=w.useContext(sB);if(e===void 0)throw new Error("useFilters must be used within a FilterProvider");return e},I_e=({onDataLoaded:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!1),[s,i]=w.useState(null),o=async h=>{i(null),a(!0);try{const p=await iE(h);if(p.length===0)throw new Error("Nenhum dado vlido encontrado nas abas esperadas.");e(p)}catch(p){console.error(p),i(p instanceof Error?p.message:"Erro ao processar arquivo.")}finally{a(!1)}},l=w.useCallback(h=>{h.preventDefault(),r(!1),h.dataTransfer.files&&h.dataTransfer.files[0]&&o(h.dataTransfer.files[0])},[]),c=w.useCallback(h=>{h.preventDefault(),r(!0)},[]),u=w.useCallback(h=>{h.preventDefault(),r(!1)},[]),f=h=>{h.target.files&&h.target.files[0]&&o(h.target.files[0])};return d.jsxs("div",{className:`
        w-full max-w-2xl mx-auto p-8 border-2 border-dashed rounded-xl transition-all duration-200
        flex flex-col items-center justify-center text-center cursor-pointer
        ${t?"border-primary bg-primary/5 scale-[1.02]":"border-slate-300 hover:border-primary hover:bg-slate-50"}
      `,onDrop:l,onDragOver:c,onDragLeave:u,onClick:()=>{var h;return(h=document.getElementById("fileInput"))==null?void 0:h.click()},children:[d.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".xlsx, .xls",onChange:f}),n?d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx(yo,{className:"w-12 h-12 text-primary mb-4 animate-spin"}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Processando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`p-4 rounded-full mb-4 ${s?"bg-red-100":"bg-slate-100"}`,children:s?d.jsx(Ul,{className:"w-8 h-8 text-red-500"}):d.jsx(lg,{className:"w-8 h-8 text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:s?"Erro na Importao":"Carregar planilha de dados"}),d.jsx("p",{className:"text-sm text-slate-500 max-w-md",children:s?d.jsx("span",{className:"text-red-500",children:s}):"Arraste seu arquivo XLSX aqui ou clique para selecionar. Certifique-se de que as 4 abas corretas existem."})]})]})},R_e=()=>{const{filters:e,setFilters:t,availableCampaigns:r}=Bo(),n=a=>{const s=a.target.value,i=new Date;let o=i,l=i;switch(s){case"7d":l=i,o=yt(l,7);break;case"14d":l=i,o=yt(l,14);break;case"30d":l=i,o=yt(l,30);break;case"90d":l=i,o=yt(l,90);break;case"this-month":o=en(i),l=Xf(i);break;case"last-month":o=en(yt(en(i),1)),l=Xf(yt(en(i),1));break;case"custom":o=e.dateRange.from,l=e.dateRange.to;break}t.setDateRange({from:o,to:l},s)};return d.jsxs("div",{className:"absolute top-[calc(100%-1px)] left-0 w-full bg-white border-b border-slate-200 shadow-lg py-3 px-6 flex flex-wrap items-center gap-4 transition-all duration-300 ease-in-out transform -translate-y-full opacity-0 invisible group-hover:translate-y-0 group-hover:opacity-100 group-hover:visible z-40",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50/50 hover:bg-white transition-colors",children:[d.jsx(y0,{className:"w-3.5 h-3.5 text-slate-500"}),d.jsxs("select",{value:e.timeRangeOption,onChange:n,className:"bg-transparent border-none text-xs font-semibold text-slate-700 focus:ring-0 cursor-pointer outline-none p-0 pr-2",children:[d.jsx("option",{value:"this-month",children:"Ms Atual"}),d.jsx("option",{value:"last-month",children:"Ms Passado"}),d.jsx("option",{value:"7d",children:"ltimos 7 dias"}),d.jsx("option",{value:"14d",children:"ltimos 14 dias"}),d.jsx("option",{value:"30d",children:"ltimos 30 dias"}),d.jsx("option",{value:"90d",children:"ltimos 90 dias"}),d.jsx("option",{value:"custom",children:"Personalizado"})]}),d.jsxs("span",{className:"text-xs text-slate-400 border-l border-slate-200 pl-2",children:[Te(e.dateRange.from,"dd/MM")," - ",Te(e.dateRange.to,"dd/MM")]})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(pV,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Mdia:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["meta","google"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedChannels.includes(a)?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedChannels.includes(a),onChange:()=>t.toggleChannel(a)}),a==="meta"?"Meta Ads":"Google Ads"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(Oo,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Objetivo:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["marca","b2c"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedObjectives.includes(a)?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedObjectives.includes(a),onChange:()=>t.toggleObjective(a)}),a==="marca"?"Branding":"Performance (B2C)"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-[200px] max-w-md",children:d.jsxs("div",{className:"relative w-full",children:[d.jsx(ju,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),d.jsxs("select",{className:"w-full bg-white border border-slate-200 text-xs font-medium text-slate-700 rounded-md py-1.5 pl-8 pr-8 focus:ring-1 focus:ring-blue-500 outline-none appearance-none hover:border-slate-300 transition-colors",value:e.selectedCampaigns.length===1?e.selectedCampaigns[0]:"",onChange:a=>{a.target.value===""?t.setSelectedCampaigns([]):t.setSelectedCampaigns([a.target.value])},children:[d.jsxs("option",{value:"",children:["Todas as Campanhas (",r.length,")"]}),r.map(a=>d.jsx("option",{value:a,children:a},a))]}),d.jsx(Dc,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400 pointer-events-none"})]})}),d.jsxs("label",{className:`
                flex items-center gap-2 cursor-pointer ml-auto border rounded-md px-3 py-1.5 transition-all
                ${e.isCompareEnabled?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}
            `,children:[d.jsx("input",{type:"checkbox",checked:e.isCompareEnabled,onChange:()=>t.setIsCompareEnabled(!e.isCompareEnabled),className:"rounded text-indigo-600 focus:ring-indigo-500 w-3.5 h-3.5"}),d.jsx("span",{className:`text-xs font-medium ${e.isCompareEnabled?"text-indigo-700":"text-slate-600"}`,children:"Comparar perodo anterior"})]})]})},Tx="media_paga_budgets",Ax=()=>{const e=localStorage.getItem(Tx);return e?JSON.parse(e):[]},F_e=e=>{const t=Ax(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(Tx,JSON.stringify(t)),r},L_e=(e,t)=>{const r=Ax(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(Tx,JSON.stringify(r)))},B_e=e=>{const t=Ax().filter(r=>r.id!==e);localStorage.setItem(Tx,JSON.stringify(t))},iB=()=>{const[e,t]=w.useState([]),r=()=>{t(Ax())};return w.useEffect(()=>{r()},[]),{budgets:e,add:i=>{F_e(i),r()},update:(i,o)=>{L_e(i,o),r()},remove:i=>{B_e(i),r()},refresh:r}},kp=({title:e,value:t,trendValue:r,trendLabel:n="vs perodo anterior",trendInverse:a=!1,contextValue:s,status:i,icon:o})=>{const l=r!==void 0&&r>0,c=r===0||r===void 0;let u="text-slate-500",f=k0;!c&&r!==void 0&&(l?(f=JU,u=a?"text-red-500":"text-green-500"):(f=HU,u=a?"text-green-500":"text-red-500"));const h=i==="success"?yn:i==="warning"?oi:z3,p=i==="success"?"text-green-500":i==="warning"?"text-yellow-500":"text-red-500";return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e}),o&&d.jsx("div",{className:"text-slate-300 opacity-80 scale-90",children:o})]}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 tracking-tight mb-3",children:t}),d.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[r!==void 0&&d.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[d.jsxs("span",{className:`flex items-center ${u}`,children:[d.jsx(f,{className:"w-3.5 h-3.5"}),Math.abs(r).toFixed(1),"%"]}),d.jsx("span",{className:"text-slate-400",children:n})]}),(s||i)&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t border-slate-50",children:[s&&d.jsx("span",{className:"text-slate-500 font-medium",children:s}),s&&i&&d.jsx("span",{className:"text-slate-300",children:"|"}),i&&d.jsxs("div",{className:`flex items-center gap-1 ${p}`,children:[d.jsx("span",{children:"Status:"}),d.jsx(h,{className:"w-3.5 h-3.5"})]})]})]}),d.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-full ${i==="error"?"bg-red-500":i==="warning"?"bg-yellow-400":"bg-primary/50"}`})]})},$_e=({data:e=[]})=>{const t=w.useMemo(()=>{const i=e.filter(c=>c.channel==="meta"),o=e.filter(c=>c.channel==="google"),l=c=>{const u=c.reduce((g,x)=>g+x.spend,0),f=c.reduce((g,x)=>g+x.impressions,0),h=c.reduce((g,x)=>g+x.clicks,0),p=c.reduce((g,x)=>g+x.conversions,0),m=f?u/f*1e3:0,v=p?u/p:0;return{spend:u,imp:f,clicks:h,conv:p,cpm:m,cpa:v}};return{meta:l(i),google:l(o)}},[e]),r=(i,o,l,c,u=!1,f="")=>{if(o===0&&l===0)return null;const h=u?o<l:o>l,p=u?l<o:l>o;let m="Manter",v=0;if(o>0&&l>0){const g=Math.max(o,l),x=Math.min(o,l);v=(g-x)/x*100,h?m=`Meta ${v.toFixed(0)}% melhor`:p&&(m=`Google ${v.toFixed(0)}% melhor`),u?m=`${h?"Meta":"Google"} ${v.toFixed(0)}% mais eficiente`:m=`${h?"Meta":"Google"} ${v.toFixed(0)}% maior volume`}return d.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors group",children:[d.jsx("td",{className:"py-4 px-4 font-medium text-slate-700 bg-white group-hover:bg-slate-50",children:i}),d.jsxs("td",{className:"py-4 px-4 text-right border-l border-r border-slate-50 bg-[#1877F2]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(o),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),h&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsxs("td",{className:"py-4 px-4 text-right border-r border-slate-50 bg-[#4285F4]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(l),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),p&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsx("td",{className:"py-4 px-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs font-medium text-slate-600",children:[m,d.jsx(u_,{size:14,className:"text-slate-300"})]})})]})},n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(i),a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(i),s=i=>new Intl.NumberFormat("pt-BR").format(i);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 pb-4 border-b border-slate-50 flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlise de Canais"}),d.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:"Comparativo direto de performance"})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-slate-50 text-slate-500 uppercase text-xs tracking-wider",children:[d.jsx("th",{className:"py-3 px-4 text-left font-bold w-1/5",children:"Mtrica"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#1877F2] bg-[#1877F2]/10 border-b-2 border-[#1877F2]",children:"Meta Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#4285F4] bg-[#4285F4]/10 border-b-2 border-[#4285F4]",children:"Google Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/3",children:"Ao / Insight"})]})}),d.jsxs("tbody",{children:[r("Investimento",t.meta.spend,t.google.spend,n,!1),r("CPM (Custo Mil)",t.meta.cpm,t.google.cpm,n,!0),r("Converses",t.meta.conv,t.google.conv,s,!1),r("CPA (Custo Conv.)",t.meta.cpa,t.google.cpa,a,!0)]})]})})]})},U_e=({current:e,previous:t,show:r})=>{if(!r)return d.jsx("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-8 flex items-center justify-center text-slate-400",children:d.jsx("p",{children:'Habilite "Comparar anterior" para ver a anlise de perodo.'})});const n=(l,c,u,f="number",h=!1,p=0)=>{const m=u===0?0:(c-u)/u*100,v=m>0,g=m===0;let x="text-slate-500";g||(v?x=h?"text-red-500":"text-green-500":x=h?"text-green-500":"text-red-500");const b=y=>f==="currency"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:p,minimumFractionDigits:p}).format(y):f==="percent"?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:p,maximumFractionDigits:p}).format(y)+"%":new Intl.NumberFormat("pt-BR",{maximumFractionDigits:p}).format(y);return d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-100 last:border-0 hover:bg-slate-50 transition-colors px-2 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium text-slate-600",children:l}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Anterior"}),d.jsx("p",{className:"text-sm font-medium text-slate-500",children:b(u)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Atual"}),d.jsx("p",{className:"text-sm font-bold text-slate-700",children:b(c)})]}),d.jsxs("div",{className:`w-16 text-right font-bold text-sm ${x}`,children:[m>0&&"+",m.toFixed(1),"%"]})]})]})},a=e.conversions>0?e.spend/e.conversions:0,s=t.conversions>0?t.spend/t.conversions:0,i=e.impressions>0?e.clicks/e.impressions*100:0,o=t.impressions>0?t.clicks/t.impressions*100:0;return d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-slate-100 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:"Comparativo de Perodo"}),d.jsxs("div",{className:"space-y-1",children:[n("Investimento",e.spend,t.spend,"currency",!0,0),n("Impresses",e.impressions,t.impressions),n("Cliques",e.clicks,t.clicks),n("Converses",e.conversions,t.conversions),d.jsx("div",{className:"my-2 border-t border-dashed border-slate-200"}),n("CPA",a,s,"currency",!0,2),n("CTR",i,o,"percent",!1,2)]})]})},z_e=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],V_e=({data:e})=>{const t=ei.useMemo(()=>{const o=Array(7).fill(null).map(()=>({spend:[],cpa:[],roi:[],conversions:[],revenue:[]}));return e.forEach(l=>{const c=jS(new Date(l.date));if(o[c].spend.push(l.spend),l.conversions>0){const u=l.spend/l.conversions;o[c].cpa.push(u)}o[c].conversions.push(l.conversions)}),o.map(l=>{const c=l.spend.reduce((v,g)=>v+g,0),u=l.spend.length?c/l.spend.length:0,f=l.cpa.reduce((v,g)=>v+g,0),h=l.cpa.length?f/l.cpa.length:0,p=l.conversions.reduce((v,g)=>v+g,0),m=l.conversions.length?p/l.conversions.length:0;return{avgSpend:u,avgCpa:h,avgConv:m,count:l.spend.length}})},[e]),r={spend:t.reduce((o,l)=>o+l.avgSpend,0)/7,cpa:t.reduce((o,l)=>o+l.avgCpa,0)/7,conv:t.reduce((o,l)=>o+l.avgConv,0)/7},n=(o,l,c)=>{if(o===0)return"bad";const u=(o-l)/l;return c==="higherIsGood"?u>.1?"good":u<-.1?"bad":"warning":u<-.1?"good":u>.1?"bad":"warning"},a=o=>`R$ ${o.toFixed(0)}`,s=o=>`R$ ${o.toFixed(2)}`,i=o=>o.toFixed(0);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:" Mapa de Calor Semanal (Mdias)"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left font-medium text-slate-400 py-2",children:"Mtrica"}),z_e.map((o,l)=>d.jsx("th",{className:"text-center font-bold text-slate-600 py-2 w-24",children:o},o))]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-t border-slate-50",children:[d.jsx("td",{className:"font-semibold text-slate-700 py-3",children:"Investimento"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(i1,{status:n(o.avgSpend,r.spend,"lowerIsGood"),type:"good",label:a(o.avgSpend)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-50",children:[d.jsx("td",{className:"font-semibold text-slate-700 py-3",children:"CPA (Custo/Conv)"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(i1,{status:n(o.avgCpa,r.cpa,"lowerIsGood"),label:s(o.avgCpa)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-50",children:[d.jsx("td",{className:"font-semibold text-slate-700 py-3",children:"Converses"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(i1,{status:n(o.avgConv,r.conv,"higherIsGood"),label:i(o.avgConv)})},l))]})]})]})}),d.jsx("p",{className:"text-xs text-slate-400 mt-3 text-center",children:"*Cores baseadas na variao vs mdia do perodo selecionado."})]})},i1=({status:e,label:t})=>{let r="bg-slate-100 text-slate-600";return e==="good"&&(r="bg-green-100 text-green-700 border-green-200"),e==="warning"&&(r="bg-yellow-50 text-yellow-700 border-yellow-200"),e==="bad"&&(r="bg-red-50 text-red-700 border-red-200"),d.jsx("div",{className:`mx-auto w-20 py-1.5 rounded-lg border text-xs font-bold ${r} transition-all hover:scale-105 cursor-pointer`,children:t})},uO=e=>({spend:e.reduce((t,r)=>t+r.spend,0),impressions:e.reduce((t,r)=>t+r.impressions,0),clicks:e.reduce((t,r)=>t+r.clicks,0),conversions:e.reduce((t,r)=>t+r.conversions,0)}),W_e=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(e),o1=e=>new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e),H_e=()=>{const{filteredData:e,rawData:t,filters:r,previousPeriodData:n}=Bo(),{budgets:a}=iB(),s=w.useMemo(()=>uO(e),[e]);new Date().toISOString().slice(0,7);const i=r.dateRange.to.toISOString().slice(0,7),o=a.filter(x=>x.month===i).reduce((x,b)=>x+b.value,0),l=o>0?s.spend/o*100:0,c=new Date(r.dateRange.to.getFullYear(),r.dateRange.to.getMonth()+1,0).getDate(),f=r.dateRange.to.getDate()/c*100;let h="success";o>0&&(l>f+20?h="error":l>f+5&&(h="warning"));const p=w.useMemo(()=>uO(n),[n]),m=(x,b)=>b===0?0:(x-b)/b*100,v={spend:m(s.spend,p.spend),impressions:m(s.impressions,p.impressions),clicks:m(s.clicks,p.clicks),conversions:m(s.conversions,p.conversions)},g=r.isCompareEnabled;return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(kp,{title:"Investimento",value:W_e(s.spend),trendValue:g?v.spend:void 0,trendLabel:"vs perodo anterior",trendInverse:!0,contextValue:o>0?`${l.toFixed(0)}% do orado`:void 0,status:h,icon:d.jsx(b0,{size:20})}),d.jsx(kp,{title:"Impresses",value:o1(s.impressions),trendValue:g?v.impressions:void 0,icon:d.jsx(Tz,{size:20})}),d.jsx(kp,{title:"Cliques",value:o1(s.clicks),trendValue:g?v.clicks:void 0,icon:d.jsx(Qz,{size:20})}),d.jsx(kp,{title:"Converses",value:o1(s.conversions),trendValue:g?v.conversions:void 0,icon:d.jsx(Oo,{size:20}),status:"success"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(U_e,{current:s,previous:p,show:g}),d.jsx($_e,{data:e})]}),d.jsx("div",{className:"w-full",children:d.jsx(V_e,{data:e})})]})},ef=(e,t,r=new Date)=>{const n=e.filter(x=>Qf(new Date(x.date),r));if(n.length===0)return{metric:String(t),current:0,projected:0,trend:"stable",confidence:0,remainingDays:0,pace:0};const a=wx(r),s=Math.max(...n.map(x=>Jf(new Date(x.date)))),i=n.reduce((x,b)=>x+(b[t]||0),0),l=[...n].sort((x,b)=>new Date(x.date).getTime()-new Date(b.date).getTime()).slice(-7);let c=0,u=0;l.length>0&&(c=l.reduce((b,y)=>b+(y[t]||0),0)/l.length),n.length>0&&(u=i/n.length);const f=n.length>=3?c:u,h=a-s,p=f*h,m=i+p;let v="stable";if(u>0){const x=(c-u)/u;x>.05?v="up":x<-.05&&(v="down")}let g=Math.round(n.length/a*100);return n.length>7&&(g=Math.min(g+20,95)),g=Math.min(g,100),{metric:String(t),current:i,projected:m,trend:v,confidence:g,remainingDays:h,pace:f}},jx="media_paga_targets",Px=()=>{const e=localStorage.getItem(jx);return e?JSON.parse(e):[]},K_e=e=>{const t=Px(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(jx,JSON.stringify(t)),r},G_e=(e,t)=>{const r=Px(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(jx,JSON.stringify(r)))},q_e=e=>{const t=Px().filter(r=>r.id!==e);localStorage.setItem(jx,JSON.stringify(t))},oB=()=>{const[e,t]=w.useState([]),r=()=>{t(Px())};return w.useEffect(()=>{r()},[]),{targets:e,add:i=>{K_e(i),r()},update:(i,o)=>{G_e(i,o),r()},remove:i=>{q_e(i),r()},refresh:r}},l1=({result:e,label:t,isCurrency:r,targetValue:n,inverse:a=!1})=>{const s=h=>r?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(h):new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(h);let i=k0,o="text-slate-500",l="Estvel";e.trend==="up"&&(i=fa,o=a?"text-red-500":"text-green-500",l="Ritmo Acelerado"),e.trend==="down"&&(i=E0,o=a?"text-green-500":"text-red-500",l="Ritmo em Queda");let c=null,u="text-slate-400";const f=n?e.projected/n*100:0;if(n&&n>0){let h="",p=yn;a?e.projected<=n?(u="text-green-600 bg-green-50 border-green-200",p=yn,h="Dentro da Meta"):(u="text-red-600 bg-red-50 border-red-200",p=oi,h="Acima da Meta"):t==="Investimento"?e.projected>n*1.1?(u="text-red-600 bg-red-50 border-red-200",p=oi,h="Estouro Previsto"):e.projected<n*.9?(u="text-yellow-600 bg-yellow-50 border-yellow-200",p=oi,h="Subutilizado"):(u="text-green-600 bg-green-50 border-green-200",p=yn,h="No Caminho Ideal"):e.projected>=n?(u="text-green-600 bg-green-50 border-green-200",p=yn,h="Meta Alcanvel"):(u="text-red-600 bg-red-50 border-red-200",p=eV,h="Risco de Falha"),c=d.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold mt-3 px-2 py-1.5 rounded-md border ${u}`,children:[d.jsx(p,{size:14}),d.jsx("span",{children:h}),d.jsxs("span",{className:"opacity-60 font-normal ml-auto text-xs",children:[f.toFixed(0),"%"]})]})}else c=d.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium mt-3 px-2 py-1.5 rounded-md border border-slate-100 bg-slate-50 text-slate-400",children:[d.jsx(UU,{size:14}),d.jsx("span",{children:"Sem meta definida"})]});return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 flex flex-col shadow-sm hover:shadow-md transition-shadow",children:[d.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mb-1",children:t}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",title:"Projeo Mensal",children:s(e.projected)}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-sm font-medium text-slate-500",children:[d.jsx("span",{className:"opacity-70",children:"Atual:"}),d.jsx("span",{className:"text-slate-700",children:s(e.current)})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:`flex items-center gap-1 ${o} font-bold`,children:[d.jsx(i,{className:"w-4 h-4"}),d.jsx("span",{children:l})]}),d.jsxs("span",{className:"text-slate-400 font-medium",children:[e.confidence,"% confiana"]})]}),c]})]})},Y_e=({data:e})=>{const t=new Date,{targets:r}=oB(),n=m=>{var v;return(v=r.find(g=>g.metric===m))==null?void 0:v.value},a=ef(e,"spend",t),s=ef(e,"conversions",t),i=s.current>0?a.current/s.current:0,o=s.projected>0?a.projected/s.projected:0,l=o<i?"down":o>i?"up":"stable",c=Math.round((a.confidence+s.confidence)/2),u={metric:"cpa",current:i,projected:o,trend:l,confidence:c,remainingDays:a.remainingDays,pace:0},f=t.getDate(),p=new Date(t.getFullYear(),t.getMonth()+1,0).getDate()-f;return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-xl border border-slate-200/60 p-1 mb-8",children:[d.jsxs("div",{className:"px-5 py-3 flex justify-between items-center",children:[d.jsx("h3",{className:"text-base font-bold text-slate-700 flex items-center gap-2",children:"Projeo para o final do ms"}),d.jsxs("div",{className:"text-xs font-semibold text-slate-500 bg-white px-3 py-1 rounded-full border border-slate-100 shadow-sm",children:[p," dias restantes"]})]}),d.jsxs("div",{className:"p-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(l1,{result:a,label:"Investimento",isCurrency:!0,targetValue:n("investimento")}),d.jsx(l1,{result:s,label:"Converses",targetValue:n("conversoes")}),d.jsx(l1,{result:u,label:"CPA Mdio",isCurrency:!0,targetValue:n("cpa"),inverse:!0})]}),d.jsx("div",{className:"px-6 py-2 text-[10px] text-center text-slate-400 font-medium",children:"*Projeo baseada na mdia mvel dos ltimos 7 dias."})]})},X_e=({onSave:e,onClose:t})=>{const[r,n]=w.useState({month:Te(new Date,"MM/yyyy"),metric:"conversions",value:0}),a=s=>{s.preventDefault(),!(!r.value||!r.month||!r.metric)&&(e(r),t())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Definir Meta Mensal"}),d.jsx("button",{onClick:t,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx($s,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:a,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:r.month,onChange:s=>n({...r,month:s.target.value}),placeholder:"MM/AAAA",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtrica"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:r.metric,onChange:s=>n({...r,metric:s.target.value}),children:[d.jsx("option",{value:"spend",children:"Investimento"}),d.jsx("option",{value:"conversions",children:"Converses"}),d.jsx("option",{value:"impressions",children:"Impresses"}),d.jsx("option",{value:"clicks",children:"Cliques"}),d.jsx("option",{value:"cpm",children:"CPM"}),d.jsx("option",{value:"cpc",children:"CPC"}),d.jsx("option",{value:"ctr",children:"CTR"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor Meta"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:r.value||"",onChange:s=>n({...r,value:parseFloat(s.target.value)}),required:!0,step:"0.01"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(S0,{size:20}),"Salvar Meta"]})]})]})})},gd=[{key:"spend",label:"Investimento",color:"#3b82f6",isCurrency:!0,axis:"left"},{key:"conversions",label:"Converses",color:"#8b5cf6",isCurrency:!1,axis:"left"},{key:"impressions",label:"Impresses",color:"#06b6d4",isCurrency:!1,axis:"left"},{key:"clicks",label:"Cliques",color:"#f59e0b",isCurrency:!1,axis:"left"},{key:"cpm",label:"CPM",color:"#ec4899",isCurrency:!0,axis:"right"},{key:"cpc",label:"CPC",color:"#10b981",isCurrency:!0,axis:"right"},{key:"ctr",label:"CTR",color:"#6366f1",isCurrency:!1,suffix:"%",axis:"right"},{key:"convRate",label:"Taxa de Conv.",color:"#ef4444",isCurrency:!1,suffix:"%",axis:"right"}],J_e=()=>{const{rawData:e,filters:t}=Bo(),[r,n]=w.useState(["spend","conversions"]),[a,s]=w.useState(!0),[i,o]=w.useState({from:Te(en(new Date),"yyyy-MM-dd"),to:Te(new Date,"yyyy-MM-dd")}),[l,c]=w.useState("day"),u=w.useMemo(()=>{if(!e||e.length===0)return[];let m=e.filter(x=>{const b=new Date(x.date);if(t.selectedChannels.length>0&&!t.selectedChannels.includes(x.channel)||t.selectedObjectives.length>0&&!t.selectedObjectives.includes(x.objective)||t.selectedCampaigns.length>0&&!t.selectedCampaigns.includes(x.campaign))return!1;const y=a?{start:Is(bn(i.from)),end:Xf(bn(i.to))}:{start:Is(t.dateRange.from),end:Xf(t.dateRange.to)};return fi(b,y)});const v=new Map;return m.forEach(x=>{const b=new Date(x.date);let y="",k="",E=0;if(l==="day")y=Te(b,"yyyy-MM-dd"),k=Te(b,"dd/MM"),E=b.getTime();else if(l==="week"){const S=Gl(b,{weekStartsOn:1});y=Te(S,"yyyy-MM-dd"),k=`Semana ${Te(S,"dd/MM")}`,E=S.getTime()}else if(l==="month"){const S=en(b);y=Te(S,"yyyy-MM"),k=Te(S,"MMM/yy"),E=S.getTime()}v.has(y)||v.set(y,{timeKey:y,label:k,sortTime:E,spend:0,impressions:0,clicks:0,conversions:0});const _=v.get(y);_.spend+=x.spend,_.impressions+=x.impressions,_.clicks+=x.clicks,_.conversions+=x.conversions}),Array.from(v.values()).map(x=>({...x,day:x.label,cpm:x.impressions?x.spend/x.impressions*1e3:0,cpc:x.clicks?x.spend/x.clicks:0,ctr:x.impressions?x.clicks/x.impressions*100:0,convRate:x.clicks?x.conversions/x.clicks*100:0})).sort((x,b)=>x.sortTime-b.sortTime)},[e,t,a,i,l]),f=m=>{r.includes(m)?n(v=>v.filter(g=>g!==m)):r.length<4&&n(v=>[...v,m])},h=r.some(m=>{var v;return((v=gd.find(g=>g.key===m))==null?void 0:v.axis)==="right"}),p=r.some(m=>{var v;return((v=gd.find(g=>g.key===m))==null?void 0:v.axis)==="left"});return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-200 p-6 shadow-sm mt-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[d.jsx(ju,{size:18,className:"text-primary"}),"Anlise Personalizada"]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Compare at 4 mtricas diferentes no mesmo perodo"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-100",children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-600 cursor-pointer mr-2",children:[d.jsx("input",{type:"checkbox",checked:a,onChange:m=>s(m.target.checked),className:"rounded text-primary focus:ring-primary/20"}),"Perodo Personalizado"]}),a&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"date",value:i.from,onChange:m=>o(v=>({...v,from:m.target.value})),className:"text-xs border-slate-200 rounded px-2 py-1 focus:ring-primary/20 focus:border-primary"}),d.jsx("span",{className:"text-slate-400",children:"-"}),d.jsx("input",{type:"date",value:i.to,onChange:m=>o(v=>({...v,to:m.target.value})),className:"text-xs border-slate-200 rounded px-2 py-1 focus:ring-primary/20 focus:border-primary"})]})]}),d.jsx("div",{className:"flex bg-slate-100 p-1 rounded-lg",children:["day","week","month"].map(m=>d.jsx("button",{onClick:()=>c(m),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${l===m?"bg-white text-primary shadow-sm":"text-slate-500 hover:text-slate-700"}`,children:m==="day"?"Dia":m==="week"?"Semana":"Ms"},m))})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:gd.map(m=>d.jsx("button",{onClick:()=>f(m.key),className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-all border ${r.includes(m.key)?"bg-primary/10 border-primary text-primary":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}`,style:{borderColor:r.includes(m.key)?m.color:void 0,color:r.includes(m.key)?m.color:void 0,backgroundColor:r.includes(m.key)?`${m.color}20`:void 0},children:m.label},m.key))}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(Vt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Tt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11},dy:10}),d.jsx(nt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11},tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m,hide:!p}),d.jsx(nt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:11},hide:!h}),d.jsx(Ct,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"0.5rem"},formatter:(m,v)=>{const g=gd.find(x=>x.label===v);return g?g.isCurrency?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m):g.suffix?`${m.toFixed(2)}${g.suffix}`:new Intl.NumberFormat("pt-BR").format(m):m}}),d.jsx($r,{wrapperStyle:{paddingTop:"20px"}}),r.map(m=>{const v=gd.find(g=>g.key===m);return v?d.jsx(sr,{yAxisId:v.axis,type:"monotone",dataKey:m,name:v.label,stroke:v.color,strokeWidth:3,dot:!1,activeDot:{r:6,strokeWidth:0}},m):null})]})})})]})},Sp=({data:e,dataKey:t,color:r,title:n,isCurrency:a,projectionKey:s})=>d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-md font-bold text-slate-700 mb-4",children:n}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ch,{data:e,children:[d.jsx(Vt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),d.jsx(Tt,{dataKey:"day",tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),d.jsx(nt,{tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,tickFormatter:i=>a?new Intl.NumberFormat("pt-BR",{notation:"compact",style:"currency",currency:"BRL"}).format(i):new Intl.NumberFormat("pt-BR",{notation:"compact"}).format(i)}),d.jsx(Ct,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:i=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(i):new Intl.NumberFormat("pt-BR").format(i)}),d.jsx($r,{}),d.jsx(yx,{type:"monotone",dataKey:t,stroke:r,fill:r,fillOpacity:.1,name:"Atual",strokeWidth:2}),s&&d.jsx(sr,{type:"monotone",dataKey:s,stroke:r,strokeDasharray:"5 5",name:"Projeo",dot:!1,strokeOpacity:.6})]})})})]}),Q_e=()=>{const{filteredData:e,filters:t}=Bo(),{add:r}=oB(),[n,a]=w.useState(!1),s=w.useMemo(()=>{if(e.length===0)return[];const o=t.dateRange.to,l=en(o),c=Ml(o),u=new Date;return TS({start:l,end:c}).map(h=>{const p=h>u,m=Te(h,"d"),v=e.filter(k=>bu(new Date(k.date),h)),g=v.reduce((k,E)=>k+E.spend,0),x=v.reduce((k,E)=>k+E.impressions,0),b=v.reduce((k,E)=>k+E.conversions,0),y=x?g/x*1e3:0;return{day:m,date:h,spend:p?null:g,impressions:p?null:x,cpm:p?null:y,conversions:p?null:b}})},[e,t]),i=w.useMemo(()=>{if(s.length===0)return[];const o=[...s];let l=0,c=0,u=0;const f=o.map(S=>S.spend!==null?(l+=S.spend||0,c+=S.impressions||0,u+=S.conversions||0,{...S,spend:l,impressions:c,conversions:u}):{...S,spend:null,impressions:null,conversions:null}),h=t.dateRange.to,p=e,m=ef(p,"spend",h),v=ef(p,"impressions",h),g=ef(p,"conversions",h),x=m.pace,b=v.pace,y=g.pace,E=wx(h)-m.remainingDays,_=b>0?x/b*1e3:0;return f.map(S=>{const C=Jf(S.date);if(C<=E)return{...S,projectedSpend:S.spend,projectedImpressions:S.impressions,projectedConversions:S.conversions,projectedCPM:S.cpm&&S.cpm>0?S.cpm:_};{const T=C-E,j=m.current+x*T,P=v.current+b*T,A=g.current+y*T;return{...S,projectedSpend:j,projectedImpressions:P,projectedConversions:A,projectedCPM:_}}})},[s,e,t]);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex justify-between items-end gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(Y_e,{data:e})}),d.jsxs("button",{onClick:()=>a(!0),className:"mb-8 flex items-center gap-2 text-primary font-bold hover:underline bg-white px-4 py-3 rounded-lg border border-slate-100 shadow-sm transition-transform active:scale-95 whitespace-nowrap",children:[d.jsx(Oo,{size:18}),"Definir Metas"]})]}),d.jsx(J_e,{}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:"Investimento Acumulado"}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Sp,{data:i,dataKey:"spend",color:"#84cc16",title:"Investimento",isCurrency:!0,projectionKey:"projectedSpend"})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:"Impresses Acumuladas"}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Sp,{data:i,dataKey:"impressions",color:"#0ea5e9",title:"Impresses",projectionKey:"projectedImpressions"})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:"CPM Dirio"}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Sp,{data:i,dataKey:"cpm",color:"#f97316",title:"CPM",isCurrency:!0,projectionKey:"projectedCPM"})})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-sm font-bold text-slate-700 mb-4",children:"Converses Acumuladas"}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(Sp,{data:i,dataKey:"conversions",color:"#8b5cf6",title:"Converses",projectionKey:"projectedConversions"})})]})]}),n&&d.jsx(X_e,{onSave:r,onClose:()=>a(!1)})]})},Z_e=({campaign:e,data:t,onClose:r})=>{const n=w.useMemo(()=>e?t.filter(s=>s.campaign===e).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime()):[],[e,t]),a=w.useMemo(()=>{const s=n.reduce((m,v)=>m+v.spend,0),i=n.reduce((m,v)=>m+v.impressions,0),o=n.reduce((m,v)=>m+v.clicks,0),l=n.reduce((m,v)=>m+v.conversions,0),c=i?s/i*1e3:0,u=o?s/o:0,f=i?o/i*100:0,h=l?s/l:0,p=o?l/o*100:0;return{totalSpend:s,totalImp:i,totalClicks:o,totalConv:l,cpm:c,cpc:u,ctr:f,cpa:h,convRate:p}},[n]);return e?d.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:r}),d.jsxs("div",{className:"relative w-full max-w-2xl bg-white h-full shadow-2xl pointer-events-auto overflow-y-auto animate-slide-in-right",children:[d.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur z-10 p-6 border-b border-slate-100 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Detalhes da Campanha"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 leading-tight",children:e})]}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx($s,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-4 bg-lime-50 rounded-xl border border-lime-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-lime-700 mb-2",children:[d.jsx(b0,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Valor"})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.totalSpend)})]}),d.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl border border-sky-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sky-700 mb-2",children:[d.jsx(Oo,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Conv."})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:a.totalConv})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"CPA"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpa)})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"ROAS"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:"-"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(fa,{size:16,className:"text-primary"}),"Evoluo Diria"]}),d.jsx("div",{className:"h-[250px] w-full bg-white rounded-xl border border-slate-100 p-4 shadow-sm",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ui,{data:n,children:[d.jsx(Vt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Tt,{dataKey:"date",tickFormatter:s=>Te(bn(s),"dd/MM"),tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(nt,{yAxisId:"left",orientation:"left",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:s=>`R$${s}`}),d.jsx(nt,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(Ct,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"0.5rem"},labelFormatter:s=>Te(bn(s),"dd MMM, yyyy")}),d.jsx(sr,{yAxisId:"left",type:"monotone",dataKey:"spend",stroke:"#84cc16",strokeWidth:2,dot:!1,name:"Investimento"}),d.jsx(sr,{yAxisId:"right",type:"monotone",dataKey:"conversions",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Converses"})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Mtricas Secundrias"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPM"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpm)})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CTR"}),d.jsxs("div",{className:"font-semibold text-slate-600",children:[a.ctr.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPC"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpc)})]})]})]})]})]})]}):null},eke=({data:e})=>{const[t,r]=w.useState("spend"),[n,a]=w.useState("desc"),[s,i]=w.useState(""),[o,l]=w.useState(null),c=w.useMemo(()=>{const y=new Map;e.forEach(C=>{const T=y.get(C.campaign)||{campaign:C.campaign,channel:C.channel,objective:C.objective,spend:0,impressions:0,clicks:0,conversions:0,dataPoints:[]};T.spend+=C.spend,T.impressions+=C.impressions,T.clicks+=C.clicks,T.conversions+=C.conversions,T.dataPoints.push(C),y.set(C.campaign,T)});const k=Array.from(y.values()).map(C=>({...C,cpm:C.impressions?C.spend/C.impressions*1e3:0,ctr:C.impressions?C.clicks/C.impressions*100:0,cpc:C.clicks?C.spend/C.clicks:0,cpa:C.conversions?C.spend/C.conversions:0})),E=k.reduce((C,T)=>C+T.spend,0),_=k.reduce((C,T)=>C+T.conversions,0),S=_?E/_:0;return k.map(C=>{let T="good";C.cpa===0&&C.spend>100?T="critical":C.cpa>0&&(C.cpa<S*.8?T="excellent":C.cpa>S*1.5?T="critical":C.cpa>S*1.2&&(T="warning"));let j="maintain";T==="excellent"&&(j="scale"),T==="warning"&&(j="optimize"),T==="critical"&&(j="pause");const P=C.dataPoints.sort((N,L)=>new Date(N.date).getTime()-new Date(L.date).getTime());let A="flat";if(P.length>=2){const N=Math.ceil(P.length/3),L=P.slice(0,N),K=P.slice(-N),X=L.reduce((M,U)=>M+U.spend,0),W=L.reduce((M,U)=>M+U.conversions,0)||1,q=K.reduce((M,U)=>M+U.spend,0),I=K.reduce((M,U)=>M+U.conversions,0)||1,J=X/W,Q=q/I;Q>J*1.05?A="up":Q<J*.95&&(A="down")}return{...C,status:T,action:j,trend:A}})},[e]),u=w.useMemo(()=>{let y=c;if(s){const k=s.toLowerCase();y=y.filter(E=>E.campaign.toLowerCase().includes(k))}return y.sort((k,E)=>{const _=k[t],S=E[t];return _<S?n==="asc"?-1:1:_>S?n==="asc"?1:-1:0}),y},[c,s,t,n]),f=y=>{t===y?a(n==="asc"?"desc":"asc"):(r(y),a("desc"))},h=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),p=y=>new Intl.NumberFormat("pt-BR").format(y),[m,v]=w.useState({spend:!0,impressions:!1,clicks:!1,conversions:!0,ctr:!1,cpm:!1,cpc:!1,cpa:!0,cpa:!0,status:!0,trend:!0}),[g,x]=w.useState(!1),b=y=>{v(k=>({...k,[y]:!k[y]}))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[d.jsxs("div",{className:"relative flex-1 max-w-sm",children:[d.jsx(og,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Buscar campanha...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all",value:s,onChange:y=>i(y.target.value)})]}),d.jsxs("div",{className:"text-sm text-slate-500 whitespace-nowrap",children:[u.length," campanhas"]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 transition-colors",children:[d.jsx(ju,{size:16}),"Colunas"]}),g&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-100 p-2 z-10 animate-fade-in-down",children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Mtricas"}),Object.keys(m).map(y=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:m[y],onChange:()=>b(y),className:"rounded text-primary focus:ring-primary/30"}),d.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y==="spend"?"Investimento":y==="impressions"?"Impresses":y==="clicks"?"Cliques":y==="conversions"?"Converses":y==="cpa"?"CPA":y==="status"?"Status":y==="action"?"Recomendao":y==="trend"?"Tend. CPA":y.toUpperCase()})]},y))]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>f("campaign"),children:d.jsxs("div",{className:"flex items-center gap-1",children:["Campanha ",d.jsx(Ea,{size:12})]})}),m.status&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Status"}),m.trend&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Tend. CPA"}),m.spend&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("spend"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Invest. ",d.jsx(Ea,{size:12})]})}),m.impressions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("impressions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Impr. ",d.jsx(Ea,{size:12})]})}),m.clicks&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("clicks"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Cliques ",d.jsx(Ea,{size:12})]})}),m.conversions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("conversions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Conv. ",d.jsx(Ea,{size:12})]})}),m.ctr&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("ctr"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CTR ",d.jsx(Ea,{size:12})]})}),m.cpm&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpm"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPM ",d.jsx(Ea,{size:12})]})}),m.cpc&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpc"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPC ",d.jsx(Ea,{size:12})]})}),m.cpa&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpa"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPA ",d.jsx(Ea,{size:12})]})})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:u.map(y=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer group",onClick:()=>l(y.campaign),children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${y.channel==="meta"?"bg-[#1877F2]":"bg-[#4285F4]"}`}),y.campaign]})}),m.status&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                                ${y.status==="excellent"?"bg-emerald-100 text-emerald-800":y.status==="good"?"bg-green-100 text-green-800":y.status==="warning"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:y.status==="excellent"?"Excelente":y.status==="good"?"Bom":y.status==="warning"?"Ateno":"Crtico"})}),m.trend&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[y.trend==="up"&&d.jsx(fa,{size:14,className:"text-red-500"}),y.trend==="down"&&d.jsx(E0,{size:14,className:"text-emerald-500"}),y.trend==="flat"&&d.jsx(k0,{size:14,className:"text-slate-400"})]})}),m.spend&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:h(y.spend)}),m.impressions&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.impressions)}),m.clicks&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.clicks)}),m.conversions&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:p(y.conversions)}),m.ctr&&d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[y.ctr.toFixed(2),"%"]}),m.cpm&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpm)}),m.cpc&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpc)}),m.cpa&&d.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-700",children:h(y.cpa)})]},y.campaign))})]})}),u.length===0&&d.jsx("div",{className:"p-8 text-center text-slate-400",children:"Nenhuma campanha encontrada."})]}),o&&d.jsx(Z_e,{campaign:o,data:e,onClose:()=>l(null)})]})},tke=()=>{const{filteredData:e}=Bo();return d.jsx("div",{className:"animate-fade-in",children:d.jsx(eke,{data:e})})},rke=({budget:e,actualSpend:t,onEdit:r,onDelete:n})=>{const a=t/e.value*100,s=new Date,i=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),o=s.getDate(),l=o/i*100;let c="ok";const u=l>0?a/l:0;a>=100?c="failed":u>1.1?c="risk":u<.85&&(c="ok");const h=(o>0?t/o:0)*i,p=h/e.value*100;p>105&&(c="risk"),a>=100&&(c="failed");const m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(v);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-shadow relative overflow-hidden group",children:[d.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:e.channel==="meta"?"Meta Ads":"Google Ads"}),d.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium tracking-wide bg-slate-100 inline-block px-1.5 py-0.5 rounded mt-1",children:e.objective==="b2c"?"Converso":"Branding"})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>r(e),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-primary",children:d.jsx(K3,{size:16})}),d.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-500",children:d.jsx(Ef,{size:16})})]})]}),d.jsxs("div",{className:"pl-3 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsxs("span",{className:"text-slate-500",children:["Gasto: ",d.jsx("strong",{className:"text-slate-700",children:m(t)})]}),d.jsxs("span",{className:"text-slate-500",children:["Meta: ",d.jsx("strong",{className:"text-slate-700",children:m(e.value)})]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a,100)}%`}})}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400",children:[a.toFixed(1),"% utilizado"]}),d.jsx("span",{className:"text-xs text-slate-400",children:c==="risk"?"Risco de estouro":c==="failed"?"Esgotado":"Dentro da meta"})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-xs text-slate-600 flex justify-between items-center",children:[d.jsxs("span",{children:["Ritmo ideal: ",d.jsx("strong",{children:m((e.value-t)/(i-o))}),"/dia"]}),c==="risk"&&d.jsx(oi,{className:"w-4 h-4 text-yellow-500"}),c==="failed"&&d.jsx(z3,{className:"w-4 h-4 text-red-500"}),c==="ok"&&d.jsx(yn,{className:"w-4 h-4 text-green-500"})]}),c!=="failed"&&d.jsxs("div",{className:"text-xs text-slate-400 text-center",children:["Projeo final: ",m(h)," (",p.toFixed(0),"%)"]})]})]})},nke=({existingBudget:e,onSave:t,onUpdate:r,onClose:n})=>{const[a,s]=w.useState({month:(e==null?void 0:e.month)||Te(new Date,"MM/yyyy"),channel:(e==null?void 0:e.channel)||"meta",objective:(e==null?void 0:e.objective)||"marca",value:(e==null?void 0:e.value)||0,notes:(e==null?void 0:e.notes)||""}),i=o=>{o.preventDefault(),!(!a.value||!a.month)&&(e?r(e.id,a):t(a),n())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:e?"Editar Oramento":"Novo Oramento"}),d.jsx("button",{onClick:n,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx($s,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:i,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",placeholder:"MM/AAAA",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:a.month,onChange:o=>s({...a,month:o.target.value}),required:!0}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ex: 05/2026"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Canal"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.channel,onChange:o=>s({...a,channel:o.target.value}),children:[d.jsx("option",{value:"meta",children:"Meta Ads"}),d.jsx("option",{value:"google",children:"Google Ads"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Objetivo"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.objective,onChange:o=>s({...a,objective:o.target.value}),children:[d.jsx("option",{value:"marca",children:"Branding"}),d.jsx("option",{value:"b2c",children:"Converso"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor do Oramento (R$)"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:a.value||"",onChange:o=>s({...a,value:parseFloat(o.target.value)}),required:!0,min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),d.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none",value:a.notes||"",onChange:o=>s({...a,notes:o.target.value})})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(S0,{size:20}),e?"Salvar Alteraes":"Criar Oramento"]})]})]})})},ake=()=>{const{budgets:e,add:t,update:r,remove:n}=iB(),{rawData:a,filters:s}=Bo(),[i,o]=w.useState(!1),[l,c]=w.useState(void 0),u=s.dateRange.to||new Date,f=Te(u,"MM/yyyy"),h=w.useMemo(()=>{const _=en(u),S=Ml(u),C=TS({start:_,end:S}),T=a.filter(j=>Qf(new Date(j.date),u));return C.map(j=>{const P=Te(j,"yyyy-MM-dd"),A=Te(j,"dd"),N=Wy(j),L=T.filter(X=>X.date.startsWith(P)&&X.channel==="meta").reduce((X,W)=>X+W.spend,0),K=T.filter(X=>X.date.startsWith(P)&&X.channel==="google").reduce((X,W)=>X+W.spend,0);return{day:A,date:j,meta:N?0:L,google:N?0:K,total:N?0:L+K}})},[a,u]),p=w.useMemo(()=>e.filter(_=>_.month===f).reduce((_,S)=>_+S.value,0),[e,f]),m=h.reduce((_,S)=>_+S.total,0),v=Jf(u),g=wx(u),x=v>0?m/v*g:0,b=p-m;let y="ontrack";p>0&&(x>p*1.05?y="overspending":x<p*.95&&(y="underspending"));const k=w.useMemo(()=>{const _=p/g;let S=0,C=0;return h.map(T=>(S+=_,Wy(T.date)||(C+=T.total),{...T,cumulativeBudget:S,cumulativeSpend:Wy(T.date)?null:C}))},[h,p,g]),E=_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_);return d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Gesto de Oramento - ",Te(u,"MMMM/yyyy")]}),d.jsx("p",{className:"text-slate-500",children:"Acompanhe seus gastos dirios vs planejado."})]}),d.jsxs("button",{onClick:()=>{c(void 0),o(!0)},className:"bg-primary text-slate-900 font-bold py-2.5 px-5 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-sm",children:[d.jsx(p_,{size:20}),"Adicionar Oramento"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(q3,{size:48,className:"text-slate-700"})}),d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Oramento Planejado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800",children:E(p)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Soma dos oramentos ativos"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Gasto Realizado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-blue-600",children:E(m)}),d.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-medium text-slate-500",children:[p>0?(m/p*100).toFixed(1):0,"% do total"]})]}),d.jsxs("div",{className:`bg-white p-6 rounded-xl border border-slate-100 shadow-sm
                    ${y==="overspending"?"border-red-100 bg-red-50/50":""}
                `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Projeo de Fechamento"}),d.jsx("h3",{className:`text-2xl font-extrabold ${y==="overspending"?"text-red-500":"text-slate-700"}`,children:E(x)})]}),y==="overspending"?d.jsx(fa,{className:"text-red-500",size:24}):y==="underspending"?d.jsx(E0,{className:"text-amber-500",size:24}):d.jsx(yn,{className:"text-emerald-500",size:24})]}),d.jsx("div",{className:"mt-4 text-xs font-medium text-slate-500",children:y==="overspending"?"Ritmo Acelerado (Risco)":y==="underspending"?"Ritmo Lento (Sobra)":"No Ritmo Ideal"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Saldo Restante"}),d.jsx("h3",{className:"text-2xl font-extrabold text-emerald-600",children:E(b)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Disponvel at o fim do ms"})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm h-[400px]",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx(fa,{size:18,className:"text-primary"}),"Evoluo Diria de Investimento"]}),d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(ch,{data:k,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(Vt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Tt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(nt,{yAxisId:"left",axisLine:!1,tickLine:!1,tickFormatter:_=>_>=1e3?`${(_/1e3).toFixed(0)}k`:String(_),tick:{fill:"#94a3b8",fontSize:12}}),d.jsx(nt,{yAxisId:"right",orientation:"right",hide:!0}),d.jsx(Ct,{formatter:_=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_),cursor:{fill:"#f8fafc"}}),d.jsx($r,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Ur,{yAxisId:"left",dataKey:"meta",name:"Meta Ads",stackId:"a",fill:"#3b82f6",radius:[0,0,4,4],barSize:20}),d.jsx(Ur,{yAxisId:"left",dataKey:"google",name:"Google Ads",stackId:"a",fill:"#f59e0b",radius:[4,4,0,0],barSize:20}),p>0&&d.jsx(gS,{yAxisId:"left",y:p/g,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"top",value:"Meta Diria Ideal",fill:"#ef4444",fontSize:10}})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-bold text-slate-700 text-lg",children:"Oramentos Configurados"}),e.length===0?d.jsxs("div",{className:"text-center py-12 bg-slate-50 border border-dashed border-slate-200 rounded-xl",children:[d.jsx("p",{className:"text-slate-400 mb-4",children:"Nenhum oramento configurado para este ms."}),d.jsx("button",{onClick:()=>o(!0),className:"text-primary font-bold hover:underline",children:"Configurar Oramento"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...e].filter(_=>_.month===f).map(_=>d.jsx(rke,{budget:_,actualSpend:a.filter(S=>Qf(new Date(S.date),u)&&S.channel===_.channel&&S.objective===_.objective).reduce((S,C)=>S+C.spend,0),onEdit:S=>{c(S),o(!0)},onDelete:n},_.id))})]}),i&&d.jsx(nke,{onClose:()=>o(!1),existingBudget:l,onSave:_=>{t(_),o(!1)},onUpdate:(_,S)=>{r(_,S),o(!1)}})]})},ske=()=>{const{filteredData:e}=Bo(),[t,r]=w.useState("cpa"),n=w.useMemo(()=>{const c=new Map;return e.forEach(u=>{const f=u.date.substring(0,10);c.has(f)||c.set(f,{date:u.date,spend:0,impressions:0,clicks:0,conversions:0,revenue:0});const h=c.get(f);h.spend+=u.spend,h.impressions+=u.impressions,h.clicks+=u.clicks,h.conversions+=u.conversions}),Array.from(c.values()).map(u=>({...u,cpa:u.conversions?u.spend/u.conversions:0,ctr:u.impressions?u.clicks/u.impressions*100:0,cpc:u.clicks?u.spend/u.clicks:0,roas:u.spend?(u.revenue||0)/u.spend:0})).sort((u,f)=>new Date(f.date).getTime()-new Date(u.date).getTime())},[e]),a=w.useMemo(()=>{const u=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"].map(f=>({name:f,spend:0,conversions:0,clicks:0,count:0}));return n.forEach(f=>{const h=jS(new Date(f.date));u[h].spend+=f.spend,u[h].conversions+=f.conversions,u[h].clicks+=f.clicks,u[h].count+=1}),u.map(f=>({...f,avgCpa:f.conversions?f.spend/f.conversions:0,avgSpend:f.count?f.spend/f.count:0}))},[n]),s=n.map(c=>c.cpa).filter(c=>c>0),i=s.reduce((c,u)=>c+u,0)/(s.length||1),o=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),l=c=>new Intl.NumberFormat("pt-BR").format(c);return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-slate-100 shadow-sm animate-fade-in",children:[d.jsx("div",{className:"bg-slate-50 p-4 rounded-full mb-4",children:d.jsx(tT,{className:"w-8 h-8 text-slate-400"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-1",children:"Sem dados para este perodo"}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Tente ajustar os filtros de data ou canais."})]}):d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Anlise Diria"}),d.jsx("p",{className:"text-slate-500",children:"Identifique padres e anomalias dia a dia."})]})}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx(Cl,{size:18,className:"text-primary"}),"Performance por Dia da Semana (Mdia)"]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(It,{width:"100%",height:"100%",children:d.jsxs(di,{data:a,children:[d.jsx(Vt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Tt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(nt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tickFormatter:c=>`R$${c}`}),d.jsx(nt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),d.jsx(Ct,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(c,u)=>u==="CPA Mdio"||u==="Investimento Mdio"?o(c):c}),d.jsx(Ur,{yAxisId:"right",dataKey:"avgSpend",name:"Investimento Mdio",fill:"#3b82f6",radius:[4,4,0,0],opacity:.3}),d.jsx(Ur,{yAxisId:"left",dataKey:"avgCpa",name:"CPA Mdio",fill:"#f59e0b",radius:[4,4,0,0],barSize:40,children:a.map((c,u)=>d.jsx(Ms,{fill:c.avgCpa>i*1.2?"#ef4444":"#10b981"},`cell-${u}`))})]})})}),d.jsxs("div",{className:"mt-4 flex gap-4 text-xs text-slate-500 justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," CPA Saudvel"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})," CPA Alto"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-30"})," Volume de Investimento"]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(tT,{size:18,className:"text-primary"}),"Detalhamento Dirio"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-100",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3",children:"Data"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Inv."}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Impr."}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Cliques"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"Conv."}),d.jsx("th",{className:"px-6 py-3 text-right",children:"CTR"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"CPC"}),d.jsx("th",{className:"px-6 py-3 text-right",children:"CPA"}),d.jsx("th",{className:"px-6 py-3 text-center",children:"Status"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:n.map((c,u)=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700 whitespace-nowrap",children:Te(new Date(c.date),"dd 'de' MMM, EEEE",{locale:Rs})}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:o(c.spend)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:l(c.impressions)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:l(c.clicks)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600 font-bold",children:l(c.conversions)}),d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[c.ctr.toFixed(2),"%"]}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:o(c.cpc)}),d.jsx("td",{className:`px-6 py-3 text-right font-bold ${c.cpa>i*1.2?"text-red-500":c.cpa<i*.8?"text-emerald-500":"text-slate-600"}`,children:o(c.cpa)}),d.jsx("td",{className:"px-6 py-3 text-center",children:c.cpa===0&&c.spend>50?d.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold",children:"Crtico"}):c.cpa>i*1.3?d.jsx("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-xs font-bold",children:"Ateno"}):c.cpa<i*.8&&c.conversions>0?d.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded text-xs font-bold",children:"timo"}):d.jsx("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded text-xs",children:"Normal"})})]},u))})]})})]})]})},ike=({onBack:e})=>{const{rawData:t,setRawData:r}=Bo(),[n,a]=w.useState("overview"),[s,i]=w.useState(!0);if(w.useEffect(()=>{(async()=>{if(t.length>0){i(!1);return}try{console.log("Verificando dados na nuvem...");const c=await Cs.listFiles("media");if(c&&c.length>0){const u=c[0],f=await Cs.getDownloadUrl("media/"+u.name),p=await(await fetch(f)).blob(),m=new File([p],u.name,{type:p.type}),v=await iE(m);v&&v.length>0&&r(v)}}catch(c){console.error("Erro ao sincronizar dados:",c)}finally{i(!1)}})()},[]),s)return d.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mb-4",children:d.jsx(yo,{className:"w-8 h-8 text-blue-400 animate-spin"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sincronizando Dados..."}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Buscando informaes salvas na nuvem."})]})});if(t.length===0)return d.jsxs("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:[d.jsx("div",{className:"absolute top-4 left-4",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors px-4 py-2 rounded-lg hover:bg-slate-200",children:[d.jsx(ZC,{size:20}),"Voltar ao GaaS"]})}),d.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2 tracking-tight",children:"Dashboard de Mdia Paga"}),d.jsx("p",{className:"text-slate-500 text-lg",children:"Importe seus dados do Meta Ads e Google Ads para comear."})]}),d.jsx("div",{className:"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in",children:d.jsx(I_e,{onDataLoaded:r})}),d.jsx("p",{className:"mt-8 text-slate-400 text-sm",children:"Verso 1.0  Processamento Local e Seguro"})]});const o=[{id:"overview",label:"Overview",icon:H3},{id:"monthly",label:"Anlise Mensal",icon:Cl},{id:"daily",label:"Anlise Diria",icon:y0},{id:"campaigns",label:"Campanhas",icon:$z},{id:"budget",label:"Oramentos",icon:q3}];return d.jsxs("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 flex flex-col absolute top-0 left-0 z-50",children:[d.jsxs("header",{className:"bg-white border-b border-slate-200 sticky top-0 z-[60] group",children:[d.jsxs("div",{className:"px-6 h-16 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-100 rounded-lg text-slate-500 hover:text-slate-900 transition-colors mr-2",title:"Voltar ao GaaS",children:d.jsx(ZC,{size:20})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-primary/20 p-2 rounded-lg",children:d.jsx(Cl,{className:"w-6 h-6 text-primary-dark"})}),d.jsxs("h1",{className:"font-bold text-xl text-slate-800 tracking-tight",children:["Media ",d.jsx("span",{className:"text-primary font-extrabold",children:"Analytics"})]})]})]}),d.jsx("nav",{className:"flex items-center gap-1 bg-slate-100 p-1 rounded-lg",children:o.map(l=>{const c=l.icon,u=n===l.id;return d.jsxs("button",{onClick:()=>a(l.id),className:`
                                        flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200
                                        ${u?"bg-white text-slate-900 shadow-sm":"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50"}
                                    `,children:[d.jsx(c,{size:16}),l.label]},l.id)})}),d.jsxs("button",{onClick:()=>r([]),className:"text-sm font-medium text-slate-400 hover:text-red-500 flex items-center gap-1 transition-colors px-3 py-1.5 hover:bg-red-50 rounded-lg",children:[d.jsx(kf,{size:16}),"Novo Arquivo"]})]}),d.jsx(R_e,{})]}),d.jsxs("main",{className:"flex-1 container mx-auto px-6 py-8 pb-32 max-w-[1600px] animate-fade-in",children:[n==="overview"&&d.jsx(H_e,{}),n==="monthly"&&d.jsx(Q_e,{}),n==="daily"&&d.jsx(ske,{}),n==="campaigns"&&d.jsx(tke,{}),n==="budget"&&d.jsx(ake,{})]})]})};function oke({onBack:e}){return d.jsx(M_e,{children:d.jsx(ike,{onBack:e})})}const oE=w.createContext({});function lE(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const lB=typeof window<"u",cB=lB?w.useLayoutEffect:w.useEffect,Nx=w.createContext(null);function cE(e,t){e.indexOf(t)===-1&&e.push(t)}function uE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Ls=(e,t,r)=>r>t?t:r<e?e:r;let dE=()=>{};const Ni={},uB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dB(e){return typeof e=="object"&&e!==null}const fB=e=>/^0[^.\s]+$/u.test(e);function fE(e){let t;return()=>(t===void 0&&(t=e()),t)}const Da=e=>e,lke=(e,t)=>r=>t(e(r)),xh=(...e)=>e.reduce(lke),l0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class hE{constructor(){this.subscriptions=[]}add(t){return cE(this.subscriptions,t),()=>uE(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vi=e=>e*1e3,Na=e=>e/1e3;function hB(e,t){return t?e*(1e3/t):0}const pB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,cke=1e-7,uke=12;function dke(e,t,r,n,a){let s,i,o=0;do i=t+(r-t)/2,s=pB(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>cke&&++o<uke);return i}function yh(e,t,r,n){if(e===t&&r===n)return Da;const a=s=>dke(s,0,1,e,r);return s=>s===0||s===1?s:pB(a(s),t,n)}const mB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vB=e=>t=>1-e(1-t),gB=yh(.33,1.53,.69,.99),pE=vB(gB),xB=mB(pE),yB=e=>(e*=2)<1?.5*pE(e):.5*(2-Math.pow(2,-10*(e-1))),mE=e=>1-Math.sin(Math.acos(e)),bB=vB(mE),wB=mB(mE),fke=yh(.42,0,1,1),hke=yh(0,0,.58,1),_B=yh(.42,0,.58,1),pke=e=>Array.isArray(e)&&typeof e[0]!="number",kB=e=>Array.isArray(e)&&typeof e[0]=="number",mke={linear:Da,easeIn:fke,easeInOut:_B,easeOut:hke,circIn:mE,circInOut:wB,circOut:bB,backIn:pE,backInOut:xB,backOut:gB,anticipate:yB},vke=e=>typeof e=="string",dO=e=>{if(kB(e)){dE(e.length===4);const[t,r,n,a]=e;return yh(t,r,n,a)}else if(vke(e))return mke[e];return e},Ep=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function gke(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const m=h&&a?r:n;return f&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,s&&(s=!1,c.process(u))}};return c}const xke=40;function SB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=Ep.reduce((y,k)=>(y[k]=gke(s),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:m}=i,v=()=>{const y=Ni.useManualTiming?a.timestamp:performance.now();r=!1,Ni.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,xke),1)),a.timestamp=y,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},g=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:Ep.reduce((y,k)=>{const E=i[k];return y[k]=(_,S=!1,C=!1)=>(r||g(),E.schedule(_,S,C)),y},{}),cancel:y=>{for(let k=0;k<Ep.length;k++)i[Ep[k]].cancel(y)},state:a,steps:i}}const{schedule:jt,cancel:To,state:Qr,steps:c1}=SB(typeof requestAnimationFrame<"u"?requestAnimationFrame:Da,!0);let Gp;function yke(){Gp=void 0}const Mn={now:()=>(Gp===void 0&&Mn.set(Qr.isProcessing||Ni.useManualTiming?Qr.timestamp:performance.now()),Gp),set:e=>{Gp=e,queueMicrotask(yke)}},EB=e=>t=>typeof t=="string"&&t.startsWith(e),CB=EB("--"),bke=EB("var(--"),vE=e=>bke(e)?wke.test(e.split("/*")[0].trim()):!1,wke=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function fO(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const Ku={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},c0={...Ku,transform:e=>Ls(0,1,e)},Cp={...Ku,default:1},tf=e=>Math.round(e*1e5)/1e5,gE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function _ke(e){return e==null}const kke=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,xE=(e,t)=>r=>!!(typeof r=="string"&&kke.test(r)&&r.startsWith(e)||t&&!_ke(r)&&Object.prototype.hasOwnProperty.call(r,t)),TB=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,o]=n.match(gE);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},Ske=e=>Ls(0,255,e),u1={...Ku,transform:e=>Math.round(Ske(e))},cl={test:xE("rgb","red"),parse:TB("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+u1.transform(e)+", "+u1.transform(t)+", "+u1.transform(r)+", "+tf(c0.transform(n))+")"};function Eke(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Kw={test:xE("#"),parse:Eke,transform:cl.transform},bh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Vi=bh("deg"),Ps=bh("%"),je=bh("px"),Cke=bh("vh"),Tke=bh("vw"),hO={...Ps,parse:e=>Ps.parse(e)/100,transform:e=>Ps.transform(e*100)},Bc={test:xE("hsl","hue"),parse:TB("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ps.transform(tf(t))+", "+Ps.transform(tf(r))+", "+tf(c0.transform(n))+")"},vr={test:e=>cl.test(e)||Kw.test(e)||Bc.test(e),parse:e=>cl.test(e)?cl.parse(e):Bc.test(e)?Bc.parse(e):Kw.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?cl.transform(e):Bc.transform(e),getAnimatableNone:e=>{const t=vr.parse(e);return t.alpha=0,vr.transform(t)}},Ake=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jke(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(gE))==null?void 0:t.length)||0)+(((r=e.match(Ake))==null?void 0:r.length)||0)>0}const AB="number",jB="color",Pke="var",Nke="var(",pO="${}",Oke=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function u0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(Oke,l=>(vr.test(l)?(n.color.push(s),a.push(jB),r.push(vr.parse(l))):l.startsWith(Nke)?(n.var.push(s),a.push(Pke),r.push(l)):(n.number.push(s),a.push(AB),r.push(parseFloat(l))),++s,pO)).split(pO);return{values:r,split:o,indexes:n,types:a}}function PB(e){return u0(e).values}function NB(e){const{split:t,types:r}=u0(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const o=r[i];o===AB?s+=tf(a[i]):o===jB?s+=vr.transform(a[i]):s+=a[i]}return s}}const Dke=e=>typeof e=="number"?0:vr.test(e)?vr.getAnimatableNone(e):e;function Mke(e){const t=PB(e);return NB(e)(t.map(Dke))}const Ao={test:jke,parse:PB,createTransformer:NB,getAnimatableNone:Mke};function d1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Ike({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=d1(l,o,e+1/3),s=d1(l,o,e),i=d1(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function Rv(e,t){return r=>r>0?t:e}const Ht=(e,t,r)=>e+(t-e)*r,f1=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Rke=[Kw,cl,Bc],Fke=e=>Rke.find(t=>t.test(e));function mO(e){const t=Fke(e);if(!t)return!1;let r=t.parse(e);return t===Bc&&(r=Ike(r)),r}const vO=(e,t)=>{const r=mO(e),n=mO(t);if(!r||!n)return Rv(e,t);const a={...r};return s=>(a.red=f1(r.red,n.red,s),a.green=f1(r.green,n.green,s),a.blue=f1(r.blue,n.blue,s),a.alpha=Ht(r.alpha,n.alpha,s),cl.transform(a))},Gw=new Set(["none","hidden"]);function Lke(e,t){return Gw.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Bke(e,t){return r=>Ht(e,t,r)}function yE(e){return typeof e=="number"?Bke:typeof e=="string"?vE(e)?Rv:vr.test(e)?vO:zke:Array.isArray(e)?OB:typeof e=="object"?vr.test(e)?vO:$ke:Rv}function OB(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>yE(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function $ke(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=yE(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function Uke(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],o=e.values[i]??0;r[a]=o,n[s]++}return r}const zke=(e,t)=>{const r=Ao.createTransformer(t),n=u0(e),a=u0(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Gw.has(e)&&!a.values.length||Gw.has(t)&&!n.values.length?Lke(e,t):xh(OB(Uke(n,a),a.values),r):Rv(e,t)};function DB(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ht(e,t,r):yE(e)(e,t)}const Vke=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>jt.update(t,r),stop:()=>To(t),now:()=>Qr.isProcessing?Qr.timestamp:Mn.now()}},MB=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Fv=2e4;function bE(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Fv;)t+=r,n=e.next(t);return t>=Fv?1/0:t}function Wke(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(bE(n),Fv);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:Na(a)}}const Hke=5;function IB(e,t,r){const n=Math.max(t-Hke,0);return hB(r-e(n),t-n)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},h1=.001;function Kke({duration:e=Xt.duration,bounce:t=Xt.bounce,velocity:r=Xt.velocity,mass:n=Xt.mass}){let a,s,i=1-t;i=Ls(Xt.minDamping,Xt.maxDamping,i),e=Ls(Xt.minDuration,Xt.maxDuration,Na(e)),i<1?(a=c=>{const u=c*i,f=u*e,h=u-r,p=qw(c,i),m=Math.exp(-f);return h1-h/p*m},s=c=>{const f=c*i*e,h=f*r+r,p=Math.pow(i,2)*Math.pow(c,2)*e,m=Math.exp(-f),v=qw(Math.pow(c,2),i);return(-a(c)+h1>0?-1:1)*((h-p)*m)/v}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-h1+u*f},s=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=qke(a,s,o);if(e=vi(e),isNaN(l))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const Gke=12;function qke(e,t,r){let n=r;for(let a=1;a<Gke;a++)n=n-e(n)/t(n);return n}function qw(e,t){return e*Math.sqrt(1-t*t)}const Yke=["duration","bounce"],Xke=["stiffness","damping","mass"];function gO(e,t){return t.some(r=>e[r]!==void 0)}function Jke(e){let t={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...e};if(!gO(e,Xke)&&gO(e,Yke))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Ls(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Xt.mass,stiffness:a,damping:s}}else{const r=Kke(e);t={...t,...r,mass:Xt.mass},t.isResolvedFromDuration=!0}return t}function Lv(e=Xt.visualDuration,t=Xt.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=Jke({...r,velocity:-Na(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),g=i-s,x=Na(Math.sqrt(l/u)),b=Math.abs(g)<5;n||(n=b?Xt.restSpeed.granular:Xt.restSpeed.default),a||(a=b?Xt.restDelta.granular:Xt.restDelta.default);let y;if(v<1){const E=qw(x,v);y=_=>{const S=Math.exp(-v*x*_);return i-S*((m+v*x*g)/E*Math.sin(E*_)+g*Math.cos(E*_))}}else if(v===1)y=E=>i-Math.exp(-x*E)*(g+(m+x*g)*E);else{const E=x*Math.sqrt(v*v-1);y=_=>{const S=Math.exp(-v*x*_),C=Math.min(E*_,300);return i-S*((m+v*x*g)*Math.sinh(C)+E*g*Math.cosh(C))/E}}const k={calculatedDuration:p&&f||null,next:E=>{const _=y(E);if(p)o.done=E>=f;else{let S=E===0?m:0;v<1&&(S=E===0?vi(m):IB(y,E,_));const C=Math.abs(S)<=n,T=Math.abs(i-_)<=a;o.done=C&&T}return o.value=o.done?i:_,o},toString:()=>{const E=Math.min(bE(k),Fv),_=MB(S=>k.next(E*S).value,E,30);return E+"ms "+_},toTransition:()=>{}};return k}Lv.applyToOptions=e=>{const t=Wke(e,100,Lv);return e.ease=t.ease,e.duration=vi(t.duration),e.type="keyframes",e};function Yw({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,m=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let v=r*t;const g=f+v,x=i===void 0?g:i(g);x!==g&&(v=x-f);const b=C=>-v*Math.exp(-C/n),y=C=>x+b(C),k=C=>{const T=b(C),j=y(C);h.done=Math.abs(T)<=c,h.value=h.done?x:j};let E,_;const S=C=>{p(h.value)&&(E=C,_=Lv({keyframes:[h.value,m(h.value)],velocity:IB(y,C,h.value),damping:a,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:C=>{let T=!1;return!_&&E===void 0&&(T=!0,k(C),S(C)),E!==void 0&&C>=E?_.next(C-E):(!T&&k(C),h)}}}function Qke(e,t,r){const n=[],a=r||Ni.mix||DB,s=e.length-1;for(let i=0;i<s;i++){let o=a(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Da:t;o=xh(l,o)}n.push(o)}return n}function Zke(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(dE(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Qke(t,n,a),l=o.length,c=u=>{if(i&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=l0(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Ls(e[0],e[s-1],u)):c}function eSe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=l0(0,t,n);e.push(Ht(r,1,a))}}function tSe(e){const t=[0];return eSe(t,e.length-1),t}function rSe(e,t){return e.map(r=>r*t)}function nSe(e,t){return e.map(()=>t||_B).splice(0,e.length-1)}function rf({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=pke(n)?n.map(dO):dO(n),s={done:!1,value:t[0]},i=rSe(r&&r.length===t.length?r:tSe(t),e),o=Zke(i,t,{ease:Array.isArray(a)?a:nSe(t,a)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const aSe=e=>e!==null;function wE(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(aSe),o=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const sSe={decay:Yw,inertia:Yw,tween:rf,keyframes:rf,spring:Lv};function RB(e){typeof e.type=="string"&&(e.type=sSe[e.type])}class _E{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const iSe=e=>e/100;class kE extends _E{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Mn.now()&&this.tick(Mn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;RB(t);const{type:r=rf,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:o}=t;const l=r||rf;l!==rf&&typeof o[0]!="number"&&(this.mixKeyframes=xh(iSe,DB(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=bE(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:v,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,k=n;if(f){const C=Math.min(this.currentTime,a)/o;let T=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(j=1-j,p&&(j-=p/o)):h==="mirror"&&(k=i)),y=Ls(0,1,j)*o}const E=b?{done:!1,value:u[0]}:k.next(y);s&&(E.value=s(E.value));let{done:_}=E;!b&&l!==null&&(_=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&_);return S&&m!==Yw&&(E.value=wE(u,this.options,g,this.speed)),v&&v(E.value),S&&this.finish(),E}then(t,r){return this.finished.then(t,r)}get duration(){return Na(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Na(t)}get time(){return Na(this.currentTime)}set time(t){var r;t=vi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Mn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Na(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=Vke,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function oSe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ul=e=>e*180/Math.PI,Xw=e=>{const t=ul(Math.atan2(e[1],e[0]));return Jw(t)},lSe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Xw,rotateZ:Xw,skewX:e=>ul(Math.atan(e[1])),skewY:e=>ul(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Jw=e=>(e=e%360,e<0&&(e+=360),e),xO=Xw,yO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),bO=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),cSe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yO,scaleY:bO,scale:e=>(yO(e)+bO(e))/2,rotateX:e=>Jw(ul(Math.atan2(e[6],e[5]))),rotateY:e=>Jw(ul(Math.atan2(-e[2],e[0]))),rotateZ:xO,rotate:xO,skewX:e=>ul(Math.atan(e[4])),skewY:e=>ul(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Qw(e){return e.includes("scale")?1:0}function Zw(e,t){if(!e||e==="none")return Qw(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=cSe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=lSe,a=o}if(!a)return Qw(t);const s=n[t],i=a[1].split(",").map(dSe);return typeof s=="function"?s(i):i[s]}const uSe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Zw(r,t)};function dSe(e){return parseFloat(e.trim())}const Gu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qu=new Set(Gu),wO=e=>e===Ku||e===je,fSe=new Set(["x","y","z"]),hSe=Gu.filter(e=>!fSe.has(e));function pSe(e){const t=[];return hSe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const so={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Zw(t,"x"),y:(e,{transform:t})=>Zw(t,"y")};so.translateX=so.x;so.translateY=so.y;const bl=new Set;let e2=!1,t2=!1,r2=!1;function FB(){if(t2){const e=Array.from(bl).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=pSe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var o;(o=n.getValue(s))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}t2=!1,e2=!1,bl.forEach(e=>e.complete(r2)),bl.clear()}function LB(){bl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(t2=!0)})}function mSe(){r2=!0,LB(),FB(),r2=!1}class SE{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(bl.add(this),e2||(e2=!0,jt.read(LB),jt.resolveKeyframes(FB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}oSe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),bl.delete(this)}cancel(){this.state==="scheduled"&&(bl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const vSe=e=>e.startsWith("--");function gSe(e,t,r){vSe(t)?e.style.setProperty(t,r):e.style[t]=r}const xSe=fE(()=>window.ScrollTimeline!==void 0),ySe={};function bSe(e,t){const r=fE(e);return()=>ySe[t]??r()}const BB=bSe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Pd=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,_O={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pd([0,.65,.55,1]),circOut:Pd([.55,0,1,.45]),backIn:Pd([.31,.01,.66,-.59]),backOut:Pd([.33,1.53,.69,.99])};function $B(e,t){if(e)return typeof e=="function"?BB()?MB(e,t):"ease-out":kB(e)?Pd(e):Array.isArray(e)?e.map(r=>$B(r,t)||_O.easeOut):_O[e]}function wSe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=$B(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function UB(e){return typeof e=="function"&&"applyToOptions"in e}function _Se({type:e,...t}){return UB(e)&&BB()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class kSe extends _E{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,dE(typeof t.type!="string");const c=_Se(t);this.animation=wSe(r,n,a,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=wE(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):gSe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Na(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Na(t)}get time(){return Na(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=vi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&xSe()?(this.animation.timeline=t,Da):r(this)}}const zB={anticipate:yB,backInOut:xB,circInOut:wB};function SSe(e){return e in zB}function ESe(e){typeof e.ease=="string"&&SSe(e.ease)&&(e.ease=zB[e.ease])}const p1=10;class CSe extends kSe{constructor(t){ESe(t),RB(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new kE({...i,autoplay:!1}),l=Math.max(p1,Mn.now()-this.startTime),c=Ls(0,p1,l-p1);r.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const kO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ao.test(e)||e==="0")&&!e.startsWith("url("));function TSe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function ASe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=kO(a,t),o=kO(s,t);return!i||!o?!1:TSe(e)||(r==="spring"||UB(r))&&n}function n2(e){e.duration=0,e.type="keyframes"}const jSe=new Set(["opacity","clipPath","filter","transform"]),PSe=fE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NSe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return PSe()&&r&&jSe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const OSe=40;class DSe extends _E{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var v,g;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Mn.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||SE;this.keyframeResolver=new p(o,(v,g,x)=>this.onKeyframesResolved(v,g,h,!x),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){var g,x;this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Mn.now(),ASe(t,s,i,o)||((Ni.instantAnimations||!l)&&(u==null||u(wE(t,n,r))),t[0]=t[t.length-1],n2(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>OSe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&NSe(h),m=(x=(g=h.motionValue)==null?void 0:g.owner)==null?void 0:x.current,v=p?new CSe({...h,element:m}):new kE(h);v.finished.then(()=>{this.notifyFinished()}).catch(Da),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),mSe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function VB(e,t,r,n=0,a=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:o-s*n}const MSe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ISe(e){const t=MSe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function WB(e,t,r=1){const[n,a]=ISe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return uB(i)?parseFloat(i):i}return vE(a)?WB(a,t,r+1):a}const RSe={type:"spring",stiffness:500,damping:25,restSpeed:10},FSe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),LSe={type:"keyframes",duration:.8},BSe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$Se=(e,{keyframes:t})=>t.length>2?LSe:qu.has(e)?e.startsWith("scale")?FSe(t[1]):RSe:BSe,USe=e=>e!==null;function zSe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(USe),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}function EE(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function VSe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const CE=(e,t,r,n={},a,s)=>i=>{const o=EE(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-vi(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};VSe(o)||Object.assign(u,$Se(e,u)),u.duration&&(u.duration=vi(u.duration)),u.repeatDelay&&(u.repeatDelay=vi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(n2(u),u.delay===0&&(f=!0)),(Ni.instantAnimations||Ni.skipAnimations)&&(f=!0,n2(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=zSe(u.keyframes,o);if(h!==void 0){jt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new kE(u):new DSe(u)};function SO(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function TE(e,t,r,n){if(typeof t=="function"){const[a,s]=SO(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=SO(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function ru(e,t,r){const n=e.getProps();return TE(n,t,r!==void 0?r:n.custom,e)}const HB=new Set(["width","height","top","left","right","bottom",...Gu]),EO=30,WSe=e=>!isNaN(parseFloat(e));class HSe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Mn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Mn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=WSe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new hE);const n=this.events[t].add(r);return t==="change"?()=>{n(),jt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Mn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>EO)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,EO);return hB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eu(e,t){return new HSe(e,t)}const a2=e=>Array.isArray(e);function KSe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Eu(r))}function GSe(e){return a2(e)?e[e.length-1]||0:e}function qSe(e,t){const r=ru(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const o=GSe(s[i]);KSe(e,i,o)}}const _n=e=>!!(e&&e.getVelocity);function YSe(e){return!!(_n(e)&&e.add)}function s2(e,t){const r=e.getValue("willChange");if(YSe(r))return r.add(t);if(!r&&Ni.WillChange){const n=new Ni.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function AE(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const XSe="framerAppearId",KB="data-"+AE(XSe);function GB(e){return e.props[KB]}function JSe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function qB(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;const l=s==null?void 0:s.reduceMotion;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const h=e.getValue(f,e.latestValues[f]??null),p=o[f];if(p===void 0||u&&JSe(u,f))continue;const m={delay:r,...EE(s||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=GB(e);if(y){const k=window.MotionHandoffAnimation(y,f,jt);k!==null&&(m.startTime=k,g=!0)}}s2(e,f);const x=l??e.shouldReduceMotion;h.start(CE(f,h,p,x&&HB.has(f)?{type:!1}:m,e,g));const b=h.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{jt.update(()=>{i&&qSe(e,i)})}),c}function i2(e,t,r={}){var l;const n=ru(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(qB(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return QSe(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[s,i]:[i,s];return c().then(()=>u())}else return Promise.all([s(),i(r.delay)])}function QSe(e,t,r=0,n=0,a=0,s=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(i2(l,t,{...i,delay:r+(typeof n=="function"?0:n)+VB(e.variantChildren,l,n,a,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function ZSe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>i2(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=i2(e,t,r);else{const a=typeof t=="function"?ru(e,t,r.custom):t;n=Promise.all(qB(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const eEe={test:e=>e==="auto",parse:e=>e},YB=e=>t=>t.test(e),XB=[Ku,je,Ps,Vi,Tke,Cke,eEe],CO=e=>XB.find(YB(e));function tEe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fB(e):!0}const rEe=new Set(["brightness","contrast","saturate","opacity"]);function nEe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(gE)||[];if(!n)return e;const a=r.replace(n,"");let s=rEe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const aEe=/\b([a-z-]*)\(.*?\)/gu,o2={...Ao,getAnimatableNone:e=>{const t=e.match(aEe);return t?t.map(nEe).join(" "):e}},TO={...Ku,transform:Math.round},sEe={rotate:Vi,rotateX:Vi,rotateY:Vi,rotateZ:Vi,scale:Cp,scaleX:Cp,scaleY:Cp,scaleZ:Cp,skew:Vi,skewX:Vi,skewY:Vi,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:c0,originX:hO,originY:hO,originZ:je},jE={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,inset:je,insetBlock:je,insetBlockStart:je,insetBlockEnd:je,insetInline:je,insetInlineStart:je,insetInlineEnd:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,paddingBlock:je,paddingBlockStart:je,paddingBlockEnd:je,paddingInline:je,paddingInlineStart:je,paddingInlineEnd:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,marginBlock:je,marginBlockStart:je,marginBlockEnd:je,marginInline:je,marginInlineStart:je,marginInlineEnd:je,fontSize:je,backgroundPositionX:je,backgroundPositionY:je,...sEe,zIndex:TO,fillOpacity:c0,strokeOpacity:c0,numOctaves:TO},iEe={...jE,color:vr,backgroundColor:vr,outlineColor:vr,fill:vr,stroke:vr,borderColor:vr,borderTopColor:vr,borderRightColor:vr,borderBottomColor:vr,borderLeftColor:vr,filter:o2,WebkitFilter:o2},JB=e=>iEe[e];function QB(e,t){let r=JB(e);return r!==o2&&(r=Ao),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const oEe=new Set(["auto","none","0"]);function lEe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!oEe.has(s)&&u0(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=QB(r,a)}class cEe extends SE{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),vE(f))){const h=WB(f,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!HB.has(n)||t.length!==2)return;const[a,s]=t,i=CO(a),o=CO(s),l=fO(a),c=fO(s);if(l!==c&&so[n]){this.needsMeasurement=!0;return}if(i!==o)if(wO(i)&&wO(o))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else so[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||tEe(t[a]))&&n.push(a);n.length&&lEe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=so[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=so[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function uEe(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const ZB=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function l2(e){return dB(e)&&"offsetHeight"in e}const{schedule:PE}=SB(queueMicrotask,!1),qa={x:!1,y:!1};function e$(){return qa.x||qa.y}function dEe(e){return e==="x"||e==="y"?qa[e]?null:(qa[e]=!0,()=>{qa[e]=!1}):qa.x||qa.y?null:(qa.x=qa.y=!0,()=>{qa.x=qa.y=!1})}function t$(e,t){const r=uEe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function AO(e){return!(e.pointerType==="touch"||e$())}function fEe(e,t,r={}){const[n,a,s]=t$(e,r),i=o=>{if(!AO(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{AO(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),s}const r$=(e,t)=>t?e===t?!0:r$(e,t.parentElement):!1,NE=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,hEe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n$(e){return hEe.has(e.tagName)||e.isContentEditable===!0}const qp=new WeakSet;function jO(e){return t=>{t.key==="Enter"&&e(t)}}function m1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const pEe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jO(()=>{if(qp.has(r))return;m1(r,"down");const a=jO(()=>{m1(r,"up")}),s=()=>m1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function PO(e){return NE(e)&&!e$()}function mEe(e,t,r={}){const[n,a,s]=t$(e,r),i=o=>{const l=o.currentTarget;if(!PO(o))return;qp.add(l);const c=t(l,o),u=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),qp.has(l)&&qp.delete(l),PO(p)&&typeof c=="function"&&c(p,{success:m})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||r$(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),l2(o)&&(o.addEventListener("focus",c=>pEe(c,a)),!n$(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function a$(e){return dB(e)&&"ownerSVGElement"in e}function vEe(e){return a$(e)&&e.tagName==="svg"}const gEe=[...XB,vr,Ao],xEe=e=>gEe.find(YB(e)),NO=()=>({translate:0,scale:1,origin:0,originPoint:0}),$c=()=>({x:NO(),y:NO()}),OO=()=>({min:0,max:0}),kr=()=>({x:OO(),y:OO()}),c2={current:null},s$={current:!1},yEe=typeof window<"u";function bEe(){if(s$.current=!0,!!yEe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>c2.current=e.matches;e.addEventListener("change",t),t()}else c2.current=!1}const wEe=new WeakMap;function Ox(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function d0(e){return typeof e=="string"||Array.isArray(e)}const OE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DE=["initial",...OE];function Dx(e){return Ox(e.animate)||DE.some(t=>d0(e[t]))}function i$(e){return!!(Dx(e)||e.variants)}function _Ee(e,t,r){for(const n in t){const a=t[n],s=r[n];if(_n(a))e.addValue(n,a);else if(_n(s))e.addValue(n,Eu(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Eu(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const DO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Bv={};function o$(e){Bv=e}function kEe(){return Bv}class SEe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=SE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Mn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,jt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Dx(r),this.isVariantNode=i$(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&_n(p)&&p.set(l[h])}}mount(t){var r;this.current=t,wEe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(s$.current||bEe(),this.shouldReduceMotion=c2.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),To(this.notifyUpdate),To(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=qu.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&jt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bv){const r=Bv[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):kr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<DO.length;n++){const a=DO[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=_Ee(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Eu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(uB(n)||fB(n))?n=parseFloat(n):!xEe(n)&&Ao.test(r)&&(n=QB(t,r)),this.setBaseTarget(t,_n(n)?n.get():n)),_n(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=TE(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!_n(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new hE),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){PE.render(this.render)}}class l$ extends SEe{constructor(){super(...arguments),this.KeyframeResolver=cEe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;_n(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class $o{constructor(t){this.isMounted=!1,this.node=t}update(){}}function c$({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function EEe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CEe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function v1(e){return e===void 0||e===1}function u2({scale:e,scaleX:t,scaleY:r}){return!v1(e)||!v1(t)||!v1(r)}function Qo(e){return u2(e)||u$(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function u$(e){return MO(e.x)||MO(e.y)}function MO(e){return e&&e!=="0%"}function $v(e,t,r){const n=e-r,a=t*n;return r+a}function IO(e,t,r,n,a){return a!==void 0&&(e=$v(e,a,n)),$v(e,r,n)+t}function d2(e,t=0,r=1,n,a){e.min=IO(e.min,t,r,n,a),e.max=IO(e.max,t,r,n,a)}function d$(e,{x:t,y:r}){d2(e.x,t.translate,t.scale,t.originPoint),d2(e.y,r.translate,r.scale,r.originPoint)}const RO=.999999999999,FO=1.0000000000001;function TEe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zc(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,d$(e,i)),n&&Qo(s.latestValues)&&zc(e,s.latestValues))}t.x<FO&&t.x>RO&&(t.x=1),t.y<FO&&t.y>RO&&(t.y=1)}function Uc(e,t){e.min=e.min+t,e.max=e.max+t}function LO(e,t,r,n,a=.5){const s=Ht(e.min,e.max,a);d2(e,t,r,s,n)}function zc(e,t){LO(e.x,t.x,t.scaleX,t.scale,t.originX),LO(e.y,t.y,t.scaleY,t.scale,t.originY)}function f$(e,t){return c$(CEe(e.getBoundingClientRect(),t))}function AEe(e,t,r){const n=f$(e,r),{scroll:a}=t;return a&&(Uc(n.x,a.offset.x),Uc(n.y,a.offset.y)),n}const jEe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},PEe=Gu.length;function NEe(e,t,r){let n="",a=!0;for(let s=0;s<PEe;s++){const i=Gu[s],o=e[i];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(i.startsWith("scale")?1:0);else{const c=parseFloat(o);l=i.startsWith("scale")?c===1:c===0}if(!l||r){const c=ZB(o,jE[i]);if(!l){a=!1;const u=jEe[i]||i;n+=`${u}(${c}) `}r&&(t[i]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function ME(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const c=t[l];if(qu.has(l)){i=!0;continue}else if(CB(l)){a[l]=c;continue}else{const u=ZB(c,jE[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(t.transform||(i||r?n.transform=NEe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function h$(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function BO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=BO(e,t.target.x),n=BO(e,t.target.y);return`${r}% ${n}%`}},OEe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Ao.parse(e);if(a.length>5)return n;const s=Ao.createTransformer(e),i=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const c=Ht(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),s(a)}},f2={borderRadius:{...xd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xd,borderTopRightRadius:xd,borderBottomLeftRadius:xd,borderBottomRightRadius:xd,boxShadow:OEe};function p$(e,{layout:t,layoutId:r}){return qu.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!f2[e]||e==="opacity")}function IE(e,t,r){var i;const n=e.style,a=t==null?void 0:t.style,s={};if(!n)return s;for(const o in n)(_n(n[o])||a&&_n(a[o])||p$(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function DEe(e){return window.getComputedStyle(e)}class MEe extends l${constructor(){super(...arguments),this.type="html",this.renderInstance=h$}readValueFromInstance(t,r){var n;if(qu.has(r))return(n=this.projection)!=null&&n.isProjecting?Qw(r):uSe(t,r);{const a=DEe(t),s=(CB(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return f$(t,r)}build(t,r,n){ME(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return IE(t,r,n)}}const IEe={offset:"stroke-dashoffset",array:"stroke-dasharray"},REe={offset:"strokeDashoffset",array:"strokeDasharray"};function FEe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?IEe:REe;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const LEe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function m$(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...o},l,c,u){if(ME(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const p of LEe)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&FEe(f,a,s,i,!1)}const v$=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),g$=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BEe(e,t,r,n){h$(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(v$.has(a)?a:AE(a),t.attrs[a])}function x$(e,t,r){const n=IE(e,t,r);for(const a in e)if(_n(e[a])||_n(t[a])){const s=Gu.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}class $Ee extends l${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=kr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(qu.has(r)){const n=JB(r);return n&&n.default||0}return r=v$.has(r)?r:AE(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return x$(t,r,n)}build(t,r,n){m$(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){BEe(t,r,n,a)}mount(t){this.isSVGTag=g$(t.tagName),super.mount(t)}}const UEe=DE.length;function y$(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?y$(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<UEe;r++){const n=DE[r],a=e.props[n];(d0(a)||a===!1)&&(t[n]=a)}return t}function b$(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const zEe=[...OE].reverse(),VEe=OE.length;function WEe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>ZSe(e,r,n)))}function HEe(e){let t=WEe(e),r=$O(),n=!0;const a=l=>(c,u)=>{var h;const f=ru(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=y$(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let g=0;g<VEe;g++){const x=zEe[g],b=r[x],y=c[x]!==void 0?c[x]:u[x],k=d0(y),E=x===l?b.isActive:null;E===!1&&(m=g);let _=y===u[x]&&y!==c[x]&&k;if(_&&n&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...p},!b.isActive&&E===null||!y&&!b.prevProp||Ox(y)||typeof y=="boolean")continue;const S=KEe(b.prevProp,y);let C=S||x===l&&b.isActive&&!_&&k||g>m&&k,T=!1;const j=Array.isArray(y)?y:[y];let P=j.reduce(a(x),{});E===!1&&(P={});const{prevResolvedValues:A={}}=b,N={...A,...P},L=W=>{C=!0,h.has(W)&&(T=!0,h.delete(W)),b.needsAnimating[W]=!0;const q=e.getValue(W);q&&(q.liveStyle=!1)};for(const W in N){const q=P[W],I=A[W];if(p.hasOwnProperty(W))continue;let J=!1;a2(q)&&a2(I)?J=!b$(q,I):J=q!==I,J?q!=null?L(W):h.add(W):q!==void 0&&h.has(W)?L(W):b.protectedKeys[W]=!0}b.prevProp=y,b.prevResolvedValues=P,b.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(C=!1);const K=_&&S;C&&(!K||T)&&f.push(...j.map(W=>{const q={type:x};if(typeof W=="string"&&n&&!K&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,J=ru(I,W);if(I.enteringChildren&&J){const{delayChildren:Q}=J.transition||{};q.delay=VB(I.enteringChildren,e,Q)}}return{animation:W,options:q}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const x=ru(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(g.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),g[x]=b??null}),f.push({animation:g})}let v=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=i(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:i,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=$O()}}}function KEe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!b$(t,e):!1}function Wo(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $O(){return{animate:Wo(!0),whileInView:Wo(),whileHover:Wo(),whileTap:Wo(),whileDrag:Wo(),whileFocus:Wo(),exit:Wo()}}function UO(e,t){e.min=t.min,e.max=t.max}function Ka(e,t){UO(e.x,t.x),UO(e.y,t.y)}function zO(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const w$=1e-4,GEe=1-w$,qEe=1+w$,_$=.01,YEe=0-_$,XEe=0+_$;function In(e){return e.max-e.min}function JEe(e,t,r){return Math.abs(e-t)<=r}function VO(e,t,r,n=.5){e.origin=n,e.originPoint=Ht(t.min,t.max,e.origin),e.scale=In(r)/In(t),e.translate=Ht(r.min,r.max,e.origin)-e.originPoint,(e.scale>=GEe&&e.scale<=qEe||isNaN(e.scale))&&(e.scale=1),(e.translate>=YEe&&e.translate<=XEe||isNaN(e.translate))&&(e.translate=0)}function nf(e,t,r,n){VO(e.x,t.x,r.x,n?n.originX:void 0),VO(e.y,t.y,r.y,n?n.originY:void 0)}function WO(e,t,r){e.min=r.min+t.min,e.max=e.min+In(t)}function QEe(e,t,r){WO(e.x,t.x,r.x),WO(e.y,t.y,r.y)}function HO(e,t,r){e.min=t.min-r.min,e.max=e.min+In(t)}function Uv(e,t,r){HO(e.x,t.x,r.x),HO(e.y,t.y,r.y)}function KO(e,t,r,n,a){return e-=t,e=$v(e,1/r,n),a!==void 0&&(e=$v(e,1/a,n)),e}function ZEe(e,t=0,r=1,n=.5,a,s=e,i=e){if(Ps.test(t)&&(t=parseFloat(t),t=Ht(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Ht(s.min,s.max,n);e===s&&(o-=t),e.min=KO(e.min,t,r,o,a),e.max=KO(e.max,t,r,o,a)}function GO(e,t,[r,n,a],s,i){ZEe(e,t[r],t[n],t[a],t.scale,s,i)}const eCe=["x","scaleX","originX"],tCe=["y","scaleY","originY"];function qO(e,t,r,n){GO(e.x,t,eCe,r?r.x:void 0,n?n.x:void 0),GO(e.y,t,tCe,r?r.y:void 0,n?n.y:void 0)}function YO(e){return e.translate===0&&e.scale===1}function k$(e){return YO(e.x)&&YO(e.y)}function XO(e,t){return e.min===t.min&&e.max===t.max}function rCe(e,t){return XO(e.x,t.x)&&XO(e.y,t.y)}function JO(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function S$(e,t){return JO(e.x,t.x)&&JO(e.y,t.y)}function QO(e){return In(e.x)/In(e.y)}function ZO(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Sa(e){return[e("x"),e("y")]}function nCe(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const E$=["TopLeft","TopRight","BottomLeft","BottomRight"],aCe=E$.length,e4=e=>typeof e=="string"?parseFloat(e):e,t4=e=>typeof e=="number"||je.test(e);function sCe(e,t,r,n,a,s){a?(e.opacity=Ht(0,r.opacity??1,iCe(n)),e.opacityExit=Ht(t.opacity??1,0,oCe(n))):s&&(e.opacity=Ht(t.opacity??1,r.opacity??1,n));for(let i=0;i<aCe;i++){const o=`border${E$[i]}Radius`;let l=r4(t,o),c=r4(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||t4(l)===t4(c)?(e[o]=Math.max(Ht(e4(l),e4(c),n),0),(Ps.test(c)||Ps.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Ht(t.rotate||0,r.rotate||0,n))}function r4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const iCe=C$(0,.5,bB),oCe=C$(.5,.95,Da);function C$(e,t,r){return n=>n<e?0:n>t?1:r(l0(e,t,n))}function lCe(e,t,r){const n=_n(e)?e:Eu(e);return n.start(CE("",n,t,r)),n.animation}function f0(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const cCe=(e,t)=>e.depth-t.depth;class uCe{constructor(){this.children=[],this.isDirty=!1}add(t){cE(this.children,t),this.isDirty=!0}remove(t){uE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(cCe),this.isDirty=!1,this.children.forEach(t)}}function dCe(e,t){const r=Mn.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(To(n),e(s-t))};return jt.setup(n,!0),()=>To(n)}function Yp(e){return _n(e)?e.get():e}class fCe{constructor(){this.members=[]}add(t){cE(this.members,t),t.scheduleRender()}remove(t){if(uE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,s=t.options.layoutDependency;a!==void 0&&s!==void 0&&a===s||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Xp={hasAnimatedSinceResize:!0,hasEverUpdated:!1},g1=["","X","Y","Z"],hCe=1e3;let pCe=0;function x1(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function T$(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=GB(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",jt,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&T$(n)}function A$({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=pCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(gCe),this.nodes.forEach(wCe),this.nodes.forEach(_Ce),this.nodes.forEach(xCe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uCe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new hE),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=a$(i)&&!vEe(i),this.instance=i;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;jt.read(()=>{f=window.innerWidth}),e(i,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=dCe(h,250),Xp.hasAnimatedSinceResize&&(Xp.hasAnimatedSinceResize=!1,this.nodes.forEach(s4)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||TCe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),x=!this.targetLayout||!S$(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...EE(m,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,b)}else f||s4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),To(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kCe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&T$(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(n4);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(a4);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bCe),this.nodes.forEach(mCe),this.nodes.forEach(vCe)):this.nodes.forEach(a4),this.clearAllSnapshots();const o=Mn.now();Qr.delta=Ls(0,1e3/60,o-Qr.timestamp),Qr.timestamp=o,Qr.isProcessing=!0,c1.update.process(Qr),c1.preRender.process(Qr),c1.render.process(Qr),Qr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yCe),this.sharedNodes.forEach(SCe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!In(this.snapshot.measuredBox.x)&&!In(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=kr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!k$(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||Qo(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),ACe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return kr();const o=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(jCe))){const{scroll:u}=this.root;u&&(Uc(o.x,u.offset.x),Uc(o.y,u.offset.y))}return o}removeElementScroll(i){var l;const o=kr();if(Ka(o,i),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ka(o,i),Uc(o.x,f.offset.x),Uc(o.y,f.offset.y))}return o}applyTransform(i,o=!1){const l=kr();Ka(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zc(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Qo(u.latestValues)&&zc(l,u.latestValues)}return Qo(this.latestValues)&&zc(l,this.latestValues),l}removeTransform(i){const o=kr();Ka(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Qo(c.latestValues))continue;u2(c.latestValues)&&c.updateSnapshot();const u=kr(),f=c.measurePageBox();Ka(u,f),qO(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Qo(this.latestValues)&&qO(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Qr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=Qr.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=kr(),this.targetWithTransforms=kr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),QEe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ka(this.target,this.layout.layoutBox),d$(this.target,this.targetDelta)):Ka(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||u2(this.parent.latestValues)||u$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,o,l){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=kr(),this.relativeTargetOrigin=kr(),Uv(this.relativeTargetOrigin,o,l),Ka(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Qr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ka(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;TEe(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=kr());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(zO(this.prevProjectionDelta.x,this.projectionDelta.x),zO(this.prevProjectionDelta.y,this.projectionDelta.y)),nf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!ZO(this.projectionDelta.x,this.prevProjectionDelta.x)||!ZO(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$c(),this.projectionDelta=$c(),this.projectionDeltaWithTransform=$c()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=$c();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=kr(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,g=this.getStack(),x=!g||g.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(CCe));this.animationProgress=0;let y;this.mixTargetDelta=k=>{const E=k/1e3;i4(f.x,i.x,E),i4(f.y,i.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Uv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ECe(this.relativeTarget,this.relativeTargetOrigin,h,E),y&&rCe(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=kr()),Ka(y,this.relativeTarget)),v&&(this.animationValues=u,sCe(u,c,this.latestValues,E,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(To(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jt.update(()=>{Xp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eu(0)),this.currentAnimation=lCe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&j$(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||kr();const f=In(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=In(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}Ka(o,l),zc(o,u),nf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new fCe),this.sharedNodes.get(i).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&x1("z",i,c,this.animationValues);for(let u=0;u<g1.length;u++)x1(`rotate${g1[u]}`,i,c,this.animationValues),x1(`skew${g1[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Yp(o==null?void 0:o.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Yp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Qo(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=nCe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),i.transform=f;const{x:h,y:p}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?i.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in f2){if(u[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:x}=f2[m],b=f==="none"?u[m]:v(u[m],c);if(g){const y=g.length;for(let k=0;k<y;k++)i[g[k]]=b}else x?this.options.visualElement.renderState.vars[m]=b:i[m]=b}this.options.layoutId&&(i.pointerEvents=c===this?Yp(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(n4),this.root.sharedNodes.clear()}}}function mCe(e){e.updateLayout()}function vCe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Sa(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=In(h);h.min=n[f].min,h.max=h.min+p}):j$(s,t.layoutBox,n)&&Sa(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=In(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=$c();nf(o,n,t.layoutBox);const l=$c();i?nf(l,e.applyTransform(a,!0),t.measuredBox):nf(l,n,t.layoutBox);const c=!k$(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=kr();Uv(m,t.layoutBox,h.layoutBox);const v=kr();Uv(v,n,p.layoutBox),S$(m,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gCe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function xCe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yCe(e){e.clearSnapshot()}function n4(e){e.clearMeasurements()}function a4(e){e.isLayoutDirty=!1}function bCe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function s4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wCe(e){e.resolveTargetDelta()}function _Ce(e){e.calcProjection()}function kCe(e){e.resetSkewAndRotation()}function SCe(e){e.removeLeadSnapshot()}function i4(e,t,r){e.translate=Ht(t.translate,0,r),e.scale=Ht(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function o4(e,t,r,n){e.min=Ht(t.min,r.min,n),e.max=Ht(t.max,r.max,n)}function ECe(e,t,r,n){o4(e.x,t.x,r.x,n),o4(e.y,t.y,r.y,n)}function CCe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const TCe={duration:.45,ease:[.4,0,.1,1]},l4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),c4=l4("applewebkit/")&&!l4("chrome/")?Math.round:Da;function u4(e){e.min=c4(e.min),e.max=c4(e.max)}function ACe(e){u4(e.x),u4(e.y)}function j$(e,t,r){return e==="position"||e==="preserve-aspect"&&!JEe(QO(t),QO(r),.2)}function jCe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const PCe=A$({attachResizeListener:(e,t)=>f0(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),y1={current:void 0},P$=A$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!y1.current){const e=new PCe({});e.mount(window),e.setOptions({layoutScroll:!0}),y1.current=e}return y1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),RE=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function d4(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function NCe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=d4(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():d4(e[a],null)}}}}function OCe(...e){return w.useCallback(NCe(...e),e)}class DCe extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=l2(n)&&n.offsetWidth||0,s=l2(n)&&n.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function MCe({children:e,isPresent:t,anchorX:r,anchorY:n,root:a}){var f;const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=w.useContext(RE),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),u=OCe(i,c);return w.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:v,right:g,bottom:x}=o.current;if(t||!i.current||!h||!p)return;const b=r==="left"?`left: ${v}`:`right: ${g}`,y=n==="bottom"?`bottom: ${x}`:`top: ${m}`;i.current.dataset.motionPopId=s;const k=document.createElement("style");l&&(k.nonce=l);const E=a??document.head;return E.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            ${y}px !important;
          }
        `),()=>{E.contains(k)&&E.removeChild(k)}},[t]),d.jsx(DCe,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:u})})}const ICe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:o,anchorY:l,root:c})=>{const u=lE(RCe),f=w.useId();let h=!0,p=w.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&h&&(p={...p}),w.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[r]),w.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=d.jsx(MCe,{isPresent:r,anchorX:o,anchorY:l,root:c,children:e})),d.jsx(Nx.Provider,{value:p,children:e})};function RCe(){return new Map}function N$(e=!0){const t=w.useContext(Nx);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=w.useId();w.useEffect(()=>{if(e)return a(s)},[e]);const i=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const Tp=e=>e.key||"";function f4(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const FCe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[u,f]=N$(i),h=w.useMemo(()=>f4(e),[e]),p=i&&!u?[]:h.map(Tp),m=w.useRef(!0),v=w.useRef(h),g=lE(()=>new Map),x=w.useRef(new Set),[b,y]=w.useState(h),[k,E]=w.useState(h);cB(()=>{m.current=!1,v.current=h;for(let C=0;C<k.length;C++){const T=Tp(k[C]);p.includes(T)?(g.delete(T),x.current.delete(T)):g.get(T)!==!0&&g.set(T,!1)}},[k,p.length,p.join("-")]);const _=[];if(h!==b){let C=[...h];for(let T=0;T<k.length;T++){const j=k[T],P=Tp(j);p.includes(P)||(C.splice(T,0,j),_.push(j))}return s==="wait"&&_.length&&(C=_),E(f4(C)),y(h),null}const{forceRender:S}=w.useContext(oE);return d.jsx(d.Fragment,{children:k.map(C=>{const T=Tp(C),j=i&&!u?!1:h===k||p.includes(T),P=()=>{if(x.current.has(T))return;if(x.current.add(T),g.has(T))g.set(T,!0);else return;let A=!0;g.forEach(N=>{N||(A=!1)}),A&&(S==null||S(),E(v.current),i&&(f==null||f()),n&&n())};return d.jsx(ICe,{isPresent:j,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:j?void 0:P,anchorX:o,anchorY:l,children:C},T)})})},O$=w.createContext({strict:!1}),h4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let p4=!1;function LCe(){if(p4)return;const e={};for(const t in h4)e[t]={isEnabled:r=>h4[t].some(n=>!!r[n])};o$(e),p4=!0}function D$(){return LCe(),kEe()}function BCe(e){const t=D$();for(const r in e)t[r]={...t[r],...e[r]};o$(t)}const $Ce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function zv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$Ce.has(e)}let M$=e=>!zv(e);function UCe(e){typeof e=="function"&&(M$=t=>t.startsWith("on")?!zv(t):e(t))}try{UCe(require("@emotion/is-prop-valid").default)}catch{}function zCe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(M$(a)||r===!0&&zv(a)||!t&&!zv(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Mx=w.createContext({});function VCe(e,t){if(Dx(e)){const{initial:r,animate:n}=e;return{initial:r===!1||d0(r)?r:void 0,animate:d0(n)?n:void 0}}return e.inherit!==!1?t:{}}function WCe(e){const{initial:t,animate:r}=VCe(e,w.useContext(Mx));return w.useMemo(()=>({initial:t,animate:r}),[m4(t),m4(r)])}function m4(e){return Array.isArray(e)?e.join(" "):e}const FE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function I$(e,t,r){for(const n in t)!_n(t[n])&&!p$(n,r)&&(e[n]=t[n])}function HCe({transformTemplate:e},t){return w.useMemo(()=>{const r=FE();return ME(r,t,e),Object.assign({},r.vars,r.style)},[t])}function KCe(e,t){const r=e.style||{},n={};return I$(n,r,e),Object.assign(n,HCe(e,t)),n}function GCe(e,t){const r={},n=KCe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const R$=()=>({...FE(),attrs:{}});function qCe(e,t,r,n){const a=w.useMemo(()=>{const s=R$();return m$(s,t,g$(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};I$(s,e.style,e),a.style={...s,...a.style}}return a}const YCe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LE(e){return typeof e!="string"||e.includes("-")?!1:!!(YCe.indexOf(e)>-1||/[A-Z]/u.test(e))}function XCe(e,t,r,{latestValues:n},a,s=!1,i){const l=(i??LE(e)?qCe:GCe)(t,n,a,e),c=zCe(t,typeof e=="string",s),u=e!==w.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=w.useMemo(()=>_n(f)?f.get():f,[f]);return w.createElement(e,{...u,children:h})}function JCe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:QCe(r,n,a,e),renderState:t()}}function QCe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Yp(s[h]);let{initial:i,animate:o}=e;const l=Dx(e),c=i$(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const f=u?o:i;if(f&&typeof f!="boolean"&&!Ox(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=TE(e,h[p]);if(m){const{transitionEnd:v,transition:g,...x}=m;for(const b in x){let y=x[b];if(Array.isArray(y)){const k=u?y.length-1:0;y=y[k]}y!==null&&(a[b]=y)}for(const b in v)a[b]=v[b]}}}return a}const F$=e=>(t,r)=>{const n=w.useContext(Mx),a=w.useContext(Nx),s=()=>JCe(e,t,n,a);return r?s():lE(s)},ZCe=F$({scrapeMotionValuesFromProps:IE,createRenderState:FE}),eTe=F$({scrapeMotionValuesFromProps:x$,createRenderState:R$}),tTe=Symbol.for("motionComponentSymbol");function rTe(e,t,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const a=w.useRef(null);return w.useCallback(s=>{var o;s&&((o=e.onMount)==null||o.call(e,s)),t&&(s?t.mount(s):t.unmount());const i=n.current;if(typeof i=="function")if(s){const l=i(s);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):i(s);else i&&(i.current=s)},[t])}const L$=w.createContext({});function Nd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nTe(e,t,r,n,a,s){var x,b;const{visualElement:i}=w.useContext(Mx),o=w.useContext(O$),l=w.useContext(Nx),c=w.useContext(RE).reducedMotion,u=w.useRef(null),f=w.useRef(!1);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),f.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const h=u.current,p=w.useContext(L$);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&aTe(u.current,r,a,p);const m=w.useRef(!1);w.useInsertionEffect(()=>{h&&m.current&&h.update(r,l)});const v=r[KB],g=w.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return cB(()=>{f.current=!0,h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,v)}),g.current=!1),h.enteringChildren=void 0)}),h}function aTe(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:B$(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||o&&Nd(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function B$(e){if(e)return e.options.allowProjection!==!1?e.projection:B$(e.parent)}function b1(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&BCe(n);const s=r?r==="svg":LE(e),i=s?eTe:ZCe;function o(c,u){let f;const h={...w.useContext(RE),...c,layoutId:sTe(c)},{isStatic:p}=h,m=WCe(c),v=i(c,p);if(!p&&lB){iTe();const g=oTe(h);f=g.MeasureLayout,m.visualElement=nTe(e,v,h,a,g.ProjectionNode,s)}return d.jsxs(Mx.Provider,{value:m,children:[f&&m.visualElement?d.jsx(f,{visualElement:m.visualElement,...h}):null,XCe(e,c,rTe(v,m.visualElement,u),v,p,t,s)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(o);return l[tTe]=e,l}function sTe({layoutId:e}){const t=w.useContext(oE).id;return t&&e!==void 0?t+"-"+e:e}function iTe(e,t){w.useContext(O$).strict}function oTe(e){const t=D$(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function lTe(e,t){if(typeof Proxy>"u")return b1;const r=new Map,n=(s,i)=>b1(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,b1(i,void 0,e,t)),r.get(i))})}const cTe=(e,t)=>t.isSVG??LE(e)?new $Ee(t):new MEe(t,{allowProjection:e!==w.Fragment});class uTe extends $o{constructor(t){super(t),t.animationState||(t.animationState=HEe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ox(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let dTe=0;class fTe extends $o{constructor(){super(...arguments),this.id=dTe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const hTe={animation:{Feature:uTe},exit:{Feature:fTe}};function wh(e){return{point:{x:e.pageX,y:e.pageY}}}const pTe=e=>t=>NE(t)&&e(t,wh(t));function af(e,t,r,n){return f0(e,t,pTe(r),n)}const $$=({current:e})=>e?e.ownerDocument.defaultView:null,v4=(e,t)=>Math.abs(e-t);function mTe(e,t){const r=v4(e.x,t.x),n=v4(e.y,t.y);return Math.sqrt(r**2+n**2)}const g4=new Set(["auto","scroll"]);class U${constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=_1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=mTe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:x}=Qr;this.history.push({...g,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=w1(m,this.transformPagePoint),jt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=_1(p.type==="pointercancel"?this.lastMoveEventInfo:w1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),g&&g(p,b)},!NE(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=wh(t),c=w1(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Qr;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,_1(c,this.history)),this.removeListeners=xh(af(this.contextWindow,"pointermove",this.handlePointerMove),af(this.contextWindow,"pointerup",this.handlePointerUp),af(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(g4.has(n.overflowX)||g4.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:a.x-r.x,y:a.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,a),jt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),To(this.updatePoint)}}function w1(e,t){return t?{point:t(e.point)}:e}function x4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _1({point:e},t){return{point:e,delta:x4(e,z$(t)),offset:x4(e,vTe(t)),velocity:gTe(t,.1)}}function vTe(e){return e[0]}function z$(e){return e[e.length-1]}function gTe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=z$(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>vi(t)));)r--;if(!n)return{x:0,y:0};const s=Na(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function xTe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ht(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ht(r,e,n.max):Math.min(e,r)),e}function y4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function yTe(e,{top:t,left:r,bottom:n,right:a}){return{x:y4(e.x,r,a),y:y4(e.y,t,n)}}function b4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function bTe(e,t){return{x:b4(e.x,t.x),y:b4(e.y,t.y)}}function wTe(e,t){let r=.5;const n=In(e),a=In(t);return a>n?r=l0(t.min,t.max-n,e.min):n>a&&(r=l0(e.min,e.max-a,t.min)),Ls(0,1,r)}function _Te(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const h2=.35;function kTe(e=h2){return e===!1?e=0:e===!0&&(e=h2),{x:w4(e,"left","right"),y:w4(e,"top","bottom")}}function w4(e,t,r){return{min:_4(e,t),max:_4(e,r)}}function _4(e,t){return typeof e=="number"?e:e[t]||0}const STe=new WeakMap;class ETe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=kr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(wh(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dEe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ps.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const k=y.layout.layoutBox[x];k&&(b=In(k)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&jt.postRender(()=>v(f,h)),s2(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=CTe(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Sa(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new U$(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:$$(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&jt.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Ap(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=xTe(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&Nd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=yTe(n.layoutBox,t):this.constraints=!1,this.elastic=kTe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Sa(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=_Te(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Nd(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=AEe(n,a.root,this.visualElement.getTransformPagePoint());let i=bTe(a.layout.layoutBox,s);if(r){const o=r(EEe(i));this.hasMutatedConstraints=!!o,o&&(i=c$(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Sa(u=>{if(!Ap(u,r,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return s2(this.visualElement,t),n.start(CE(t,n,0,r,this.visualElement,!1))}stopAnimation(){Sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Sa(r=>{const{drag:n}=this.getProps();if(!Ap(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r],l=s.get()||0;s.set(t[r]-Ht(i,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Nd(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Sa(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=wTe({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sa(i=>{if(!Ap(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];o.set(Ht(l,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;STe.set(this.visualElement,this);const t=this.visualElement.current,r=af(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),f=l.target,h=f!==t&&n$(f);c&&u&&!h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Nd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),jt.read(n);const i=f0(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Sa(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=h2,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function Ap(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function CTe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class TTe extends $o{constructor(t){super(t),this.removeGroupControls=Da,this.removeListeners=Da,this.controls=new ETe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Da}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const k4=e=>(t,r)=>{e&&jt.postRender(()=>e(t,r))};class ATe extends $o{constructor(){super(...arguments),this.removePointerDownListener=Da}onPointerDown(t){this.session=new U$(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$$(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:k4(t),onStart:k4(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&jt.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=af(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let k1=!1;class jTe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),k1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Xp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,t.layoutDependency!==r&&i.setOptions({...i.options,layoutDependency:r}),k1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||jt.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),PE.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;k1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function V$(e){const[t,r]=N$(),n=w.useContext(oE);return d.jsx(jTe,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(L$),isPresent:t,safeToRemove:r})}const PTe={pan:{Feature:ATe},drag:{Feature:TTe,ProjectionNode:P$,MeasureLayout:V$}};function S4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&jt.postRender(()=>s(t,wh(t)))}class NTe extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=fEe(t,(r,n)=>(S4(this.node,n,"Start"),a=>S4(this.node,a,"End"))))}unmount(){}}class OTe extends $o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=xh(f0(this.node.current,"focus",()=>this.onFocus()),f0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function E4(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&jt.postRender(()=>s(t,wh(t)))}class DTe extends $o{mount(){const{current:t}=this.node;t&&(this.unmount=mEe(t,(r,n)=>(E4(this.node,n,"Start"),(a,{success:s})=>E4(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const p2=new WeakMap,S1=new WeakMap,MTe=e=>{const t=p2.get(e.target);t&&t(e)},ITe=e=>{e.forEach(MTe)};function RTe({root:e,...t}){const r=e||document;S1.has(r)||S1.set(r,{});const n=S1.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(ITe,{root:e,...t})),n[a]}function FTe(e,t,r){const n=RTe(t);return p2.set(e,r),n.observe(e),()=>{p2.delete(e),n.unobserve(e)}}const LTe={some:0,all:1};class BTe extends $o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:LTe[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return FTe(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($Te(t,r))&&this.startObserver()}unmount(){}}function $Te({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const UTe={inView:{Feature:BTe},tap:{Feature:DTe},focus:{Feature:OTe},hover:{Feature:NTe}},zTe={layout:{ProjectionNode:P$,MeasureLayout:V$}},VTe={...hTe,...UTe,...PTe,...zTe},WTe=lTe(VTe,cTe),zi=({children:e,className:t=""})=>d.jsx(WTe.div,{initial:{opacity:0,y:10,filter:"blur(5px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(5px)"},transition:{duration:.3,ease:"easeOut"},className:`w-full h-full ${t}`,children:e});function HTe(){const{user:e,loading:t}=b_(),{viewSettings:r,updateActivity:n,setTab:a}=Tr(),s=r.filtrosGlobais,i=r.abaAtual,{startDate:o,endDate:l}=ql(),{selectedBUs:c}=dh(),[u,f]=w.useState(!1),{data:h,loading:p,error:m,totalActivities:v,processCSV:g,loadSimulatedData:x}=_x(),b=w.useMemo(()=>({...s,dataInicio:Te(o,"yyyy-MM-dd"),dataFim:Te(l,"yyyy-MM-dd"),bu:c}),[s,o,l,c]),{filteredData:y,availableCanais:k,availableJornadas:E,availableSegmentos:_,availableParceiros:S,countByCanal:C,countByJornada:T,countBySegmento:j,countByParceiro:P}=Iv(h,b),{filteredData:A}=cO(y,b),N=w.useMemo(()=>{const J=Math.abs(l.getTime()-o.getTime()),Q=Math.ceil(J/(1e3*60*60*24)),M=new Date(o);M.setDate(M.getDate()-1);const U=new Date(M);return U.setDate(U.getDate()-Q),{...b,dataInicio:Te(U,"yyyy-MM-dd"),dataFim:Te(M,"yyyy-MM-dd")}},[b,o,l]),L=w.useMemo(()=>({...b,dataInicio:"",dataFim:""}),[b]),{filteredData:K}=Iv(h,L),{filteredData:X}=cO(y,N),W=__e(A),q=Object.keys(h).length>0,I=J=>{switch(J){case"launch":return"Launch Planner";case"jornada":return"Jornada & Disparos";case"resultados":return"Resultados";case"orientador":return"Orientador";case"framework":return"Framework";case"diario":return"Dirio de Bordo";case"configuracoes":return"Configuraes";case"midia-paga":return"Mdia Paga (Ads)";default:return"Dashboard"}};return t?d.jsx("div",{className:"h-screen w-full bg-slate-950 text-slate-500 flex items-center justify-center",children:"Carregando..."}):e?i==="midia-paga"?d.jsx(oke,{onBack:()=>a("launch")}):d.jsxs(E_e,{children:[u&&d.jsxs("div",{className:"fixed inset-0 z-50 flex",children:[d.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),d.jsxs("div",{className:"relative w-80 h-full bg-slate-900/80 backdrop-blur-xl border-r border-white/10 flex flex-col shadow-2xl animate-fade-in-right",children:[d.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-slate-800",children:[d.jsx("h3",{className:"font-bold text-slate-100",children:"Filtros Avanados"}),d.jsx("button",{onClick:()=>f(!1),className:"text-slate-400 hover:text-white",children:d.jsx($s,{size:20})})]}),d.jsxs("div",{className:"p-4 overflow-y-auto flex-1",children:[d.jsx(BV,{availableCanais:k,availableJornadas:E,availableSegmentos:_,availableParceiros:S,countByCanal:C,countByJornada:T,countBySegmento:j,countByParceiro:P}),m&&d.jsx("p",{className:"text-red-400 text-sm mt-4",children:m})]})]})]}),q&&d.jsx(D_e,{title:I(i),children:d.jsx("button",{onClick:()=>f(!u),className:`p-2 rounded-lg transition ${u?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,title:"Filtros Avanados",children:d.jsx(ju,{size:20})})}),d.jsxs("div",{className:"flex-1 pb-10",children:[!q&&d.jsxs("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:[!p&&d.jsxs("div",{className:"max-w-md w-full bg-slate-800/50 p-8 rounded-2xl border border-slate-700 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(Gz,{size:32,className:"text-blue-400"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Bem-vindo ao GaaS"}),d.jsx("p",{className:"text-slate-400 mb-8",children:"Faa upload do seu arquivo de dados para comear a anlise."}),d.jsx(AV,{onFileSelect:g,onLoadSimulatedData:x,loading:p,error:m,totalActivities:v})]}),p&&d.jsx("div",{className:"text-slate-400 animate-pulse",children:"Sincronizando dados..."})]}),q&&d.jsx(FCe,{mode:"wait",children:d.jsxs("div",{className:"h-full",children:[i==="launch"&&d.jsx(zi,{children:d.jsx(P_e,{data:K,onActivityUpdate:(J,Q)=>n(J,{dataDisparo:Q})})}),i==="resultados"&&d.jsx(zi,{children:d.jsx(Jhe,{resultados:W,data:A,selectedBU:c.length===1?c[0]:void 0})}),i==="jornada"&&d.jsx(zi,{children:d.jsx(jpe,{data:A,previousData:X,selectedBU:c.length===1?c[0]:void 0,selectedCanais:b.canais,selectedSegmentos:b.segmentos,selectedParceiros:b.parceiros})}),i==="diario"&&d.jsx(zi,{children:d.jsx($pe,{})}),i==="framework"&&d.jsx(zi,{children:d.jsx(Hpe,{})}),i==="orientador"&&d.jsx(zi,{children:d.jsx(Jpe,{})}),i==="originacao-b2c"&&d.jsx(zi,{children:d.jsx(w_e,{})}),i==="configuracoes"&&d.jsx(zi,{children:d.jsx(s_e,{})}),!["launch","resultados","jornada","diario","framework","orientador","configuracoes","originacao-b2c","midia-paga"].includes(i)&&d.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:d.jsxs("p",{children:["Aba desconhecida: ",i,". Redirecionando..."]})})]},i)})]})]}):d.jsx(_K,{})}E1.createRoot(document.getElementById("root")).render(d.jsx(ei.StrictMode,{children:d.jsx(Xpe,{children:d.jsx(Gpe,{children:d.jsx(wK,{children:d.jsx(HTe,{})})})})}));export{ns as s};
