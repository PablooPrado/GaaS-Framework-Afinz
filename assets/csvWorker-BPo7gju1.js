(function(){"use strict";var fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ut={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((n,r)=>{e.exports=r()})(fn,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},o,i=!r.document&&!!r.postMessage,s=r.IS_PAPA_WORKER||!1,c={},f=0,l={};function p(a){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(u){var h=fe(u);h.chunkSize=parseInt(h.chunkSize),u.step||u.chunk||(h.chunkSize=null),this._handle=new re(h),(this._handle.streamer=this)._config=h}).call(this,a),this.parseChunk=function(u,h){var _=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<_){let C=this._config.newline;C||(m=this._config.quoteChar||'"',C=this._handle.guessLineEndings(u,m)),u=[...u.split(C).slice(_)].join(C)}this.isFirstChunk&&R(this._config.beforeFirstChunk)&&(m=this._config.beforeFirstChunk(u))!==void 0&&(u=m),this.isFirstChunk=!1,this._halted=!1;var _=this._partialLine+u,m=(this._partialLine="",this._handle.parse(_,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(u=m.meta.cursor,_=(this._finished||(this._partialLine=_.substring(u-this._baseIndex),this._baseIndex=u),m&&m.data&&(this._rowCount+=m.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)r.postMessage({results:m,workerId:l.WORKER_ID,finished:_});else if(R(this._config.chunk)&&!h){if(this._config.chunk(m,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=m=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(m.data),this._completeResults.errors=this._completeResults.errors.concat(m.errors),this._completeResults.meta=m.meta),this._completed||!_||!R(this._config.complete)||m&&m.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),_||m&&m.meta.paused||this._nextChunk(),m}this._halted=!0},this._sendError=function(u){R(this._config.error)?this._config.error(u):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:u,finished:!1})}}function k(a){var u;(a=a||{}).chunkSize||(a.chunkSize=l.RemoteChunkSize),p.call(this,a),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(h){this._input=h,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(u=new XMLHttpRequest,this._config.withCredentials&&(u.withCredentials=this._config.withCredentials),i||(u.onload=ue(this._chunkLoaded,this),u.onerror=ue(this._chunkError,this)),u.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var h,_=this._config.downloadRequestHeaders;for(h in _)u.setRequestHeader(h,_[h])}var m;this._config.chunkSize&&(m=this._start+this._config.chunkSize-1,u.setRequestHeader("Range","bytes="+this._start+"-"+m));try{u.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}i&&u.status===0&&this._chunkError()}},this._chunkLoaded=function(){u.readyState===4&&(u.status<200||400<=u.status?this._chunkError():(this._start+=this._config.chunkSize||u.responseText.length,this._finished=!this._config.chunkSize||this._start>=(h=>(h=h.getResponseHeader("Content-Range"))!==null?parseInt(h.substring(h.lastIndexOf("/")+1)):-1)(u),this.parseChunk(u.responseText)))},this._chunkError=function(h){h=u.statusText||h,this._sendError(new Error(h))}}function b(a){(a=a||{}).chunkSize||(a.chunkSize=l.LocalChunkSize),p.call(this,a);var u,h,_=typeof FileReader<"u";this.stream=function(m){this._input=m,h=m.slice||m.webkitSlice||m.mozSlice,_?((u=new FileReader).onload=ue(this._chunkLoaded,this),u.onerror=ue(this._chunkError,this)):u=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var m=this._input,C=(this._config.chunkSize&&(C=Math.min(this._start+this._config.chunkSize,this._input.size),m=h.call(m,this._start,C)),u.readAsText(m,this._config.encoding));_||this._chunkLoaded({target:{result:C}})},this._chunkLoaded=function(m){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(m.target.result)},this._chunkError=function(){this._sendError(u.error)}}function Z(a){var u;p.call(this,a=a||{}),this.stream=function(h){return u=h,this._nextChunk()},this._nextChunk=function(){var h,_;if(!this._finished)return h=this._config.chunkSize,u=h?(_=u.substring(0,h),u.substring(h)):(_=u,""),this._finished=!u,this.parseChunk(_)}}function S(a){p.call(this,a=a||{});var u=[],h=!0,_=!1;this.pause=function(){p.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){p.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(m){this._input=m,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&u.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),u.length?this.parseChunk(u.shift()):h=!0},this._streamData=ue(function(m){try{u.push(typeof m=="string"?m:m.toString(this._config.encoding)),h&&(h=!1,this._checkIsFinished(),this.parseChunk(u.shift()))}catch(C){this._streamError(C)}},this),this._streamError=ue(function(m){this._streamCleanUp(),this._sendError(m)},this),this._streamEnd=ue(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=ue(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function re(a){var u,h,_,m,C=Math.pow(2,53),J=-C,ce=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,le=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,I=this,M=0,w=0,te=!1,E=!1,A=[],g={data:[],errors:[],meta:{}};function Y(T){return a.skipEmptyLines==="greedy"?T.join("").trim()==="":T.length===1&&T[0].length===0}function q(){if(g&&_&&(de("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),_=!1),a.skipEmptyLines&&(g.data=g.data.filter(function(y){return!Y(y)})),Q()){let y=function(V,H){R(a.transformHeader)&&(V=a.transformHeader(V,H)),A.push(V)};if(g)if(Array.isArray(g.data[0])){for(var T=0;Q()&&T<g.data.length;T++)g.data[T].forEach(y);g.data.splice(0,1)}else g.data.forEach(y)}function D(y,V){for(var H=a.header?{}:[],x=0;x<y.length;x++){var N=x,O=y[x],O=((he,$)=>(U=>(a.dynamicTypingFunction&&a.dynamicTyping[U]===void 0&&(a.dynamicTyping[U]=a.dynamicTypingFunction(U)),(a.dynamicTyping[U]||a.dynamicTyping)===!0))(he)?$==="true"||$==="TRUE"||$!=="false"&&$!=="FALSE"&&((U=>{if(ce.test(U)&&(U=parseFloat(U),J<U&&U<C))return 1})($)?parseFloat($):le.test($)?new Date($):$===""?null:$):$)(N=a.header?x>=A.length?"__parsed_extra":A[x]:N,O=a.transform?a.transform(O,N):O);N==="__parsed_extra"?(H[N]=H[N]||[],H[N].push(O)):H[N]=O}return a.header&&(x>A.length?de("FieldMismatch","TooManyFields","Too many fields: expected "+A.length+" fields but parsed "+x,w+V):x<A.length&&de("FieldMismatch","TooFewFields","Too few fields: expected "+A.length+" fields but parsed "+x,w+V)),H}var B;g&&(a.header||a.dynamicTyping||a.transform)&&(B=1,!g.data.length||Array.isArray(g.data[0])?(g.data=g.data.map(D),B=g.data.length):g.data=D(g.data,0),a.header&&g.meta&&(g.meta.fields=A),w+=B)}function Q(){return a.header&&A.length===0}function de(T,D,B,y){T={type:T,code:D,message:B},y!==void 0&&(T.row=y),g.errors.push(T)}R(a.step)&&(m=a.step,a.step=function(T){g=T,Q()?q():(q(),g.data.length!==0&&(M+=T.data.length,a.preview&&M>a.preview?h.abort():(g.data=g.data[0],m(g,I))))}),this.parse=function(T,D,B){var y=a.quoteChar||'"',y=(a.newline||(a.newline=this.guessLineEndings(T,y)),_=!1,a.delimiter?R(a.delimiter)&&(a.delimiter=a.delimiter(T),g.meta.delimiter=a.delimiter):((y=((V,H,x,N,O)=>{var he,$,U,ke;O=O||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Te=0;Te<O.length;Te++){for(var pe,xe=O[Te],ne=0,me=0,X=0,se=(U=void 0,new be({comments:N,delimiter:xe,newline:H,preview:10}).parse(V)),ge=0;ge<se.data.length;ge++)x&&Y(se.data[ge])?X++:(pe=se.data[ge].length,me+=pe,U===void 0?U=pe:0<pe&&(ne+=Math.abs(pe-U),U=pe));0<se.data.length&&(me/=se.data.length-X),($===void 0||ne<=$)&&(ke===void 0||ke<me)&&1.99<me&&($=ne,he=xe,ke=me)}return{successful:!!(a.delimiter=he),bestDelimiter:he}})(T,a.newline,a.skipEmptyLines,a.comments,a.delimitersToGuess)).successful?a.delimiter=y.bestDelimiter:(_=!0,a.delimiter=l.DefaultDelimiter),g.meta.delimiter=a.delimiter),fe(a));return a.preview&&a.header&&y.preview++,u=T,h=new be(y),g=h.parse(u,D,B),q(),te?{meta:{paused:!0}}:g||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,h.abort(),u=R(a.chunk)?"":u.substring(h.getCharIndex())},this.resume=function(){I.streamer._halted?(te=!1,I.streamer.parseChunk(u,!0)):setTimeout(I.resume,3)},this.aborted=function(){return E},this.abort=function(){E=!0,h.abort(),g.meta.aborted=!0,R(a.complete)&&a.complete(g),u=""},this.guessLineEndings=function(V,y){V=V.substring(0,1048576);var y=new RegExp(z(y)+"([^]*?)"+z(y),"gm"),B=(V=V.replace(y,"")).split("\r"),y=V.split(`
`),V=1<y.length&&y[0].length<B[0].length;if(B.length===1||V)return`
`;for(var H=0,x=0;x<B.length;x++)B[x][0]===`
`&&H++;return H>=B.length/2?`\r
`:"\r"}}function z(a){return a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function be(a){var u=(a=a||{}).delimiter,h=a.newline,_=a.comments,m=a.step,C=a.preview,J=a.fastMode,ce=null,le=!1,I=a.quoteChar==null?'"':a.quoteChar,M=I;if(a.escapeChar!==void 0&&(M=a.escapeChar),(typeof u!="string"||-1<l.BAD_DELIMITERS.indexOf(u))&&(u=","),_===u)throw new Error("Comment character same as delimiter");_===!0?_="#":(typeof _!="string"||-1<l.BAD_DELIMITERS.indexOf(_))&&(_=!1),h!==`
`&&h!=="\r"&&h!==`\r
`&&(h=`
`);var w=0,te=!1;this.parse=function(E,A,g){if(typeof E!="string")throw new Error("Input must be a string");var Y=E.length,q=u.length,Q=h.length,de=_.length,T=R(m),D=[],B=[],y=[],V=w=0;if(!E)return ne();if(J||J!==!1&&E.indexOf(I)===-1){for(var H=E.split(h),x=0;x<H.length;x++){if(y=H[x],w+=y.length,x!==H.length-1)w+=h.length;else if(g)return ne();if(!_||y.substring(0,de)!==_){if(T){if(D=[],ke(y.split(u)),me(),te)return ne()}else ke(y.split(u));if(C&&C<=x)return D=D.slice(0,C),ne(!0)}}return ne()}for(var N=E.indexOf(u,w),O=E.indexOf(h,w),he=new RegExp(z(M)+z(I),"g"),$=E.indexOf(I,w);;)if(E[w]===I)for($=w,w++;;){if(($=E.indexOf(I,$+1))===-1)return g||B.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:D.length,index:w}),pe();if($===Y-1)return pe(E.substring(w,$).replace(he,I));if(I===M&&E[$+1]===M)$++;else if(I===M||$===0||E[$-1]!==M){N!==-1&&N<$+1&&(N=E.indexOf(u,$+1));var U=Te((O=O!==-1&&O<$+1?E.indexOf(h,$+1):O)===-1?N:Math.min(N,O));if(E.substr($+1+U,q)===u){y.push(E.substring(w,$).replace(he,I)),E[w=$+1+U+q]!==I&&($=E.indexOf(I,w)),N=E.indexOf(u,w),O=E.indexOf(h,w);break}if(U=Te(O),E.substring($+1+U,$+1+U+Q)===h){if(y.push(E.substring(w,$).replace(he,I)),xe($+1+U+Q),N=E.indexOf(u,w),$=E.indexOf(I,w),T&&(me(),te))return ne();if(C&&D.length>=C)return ne(!0);break}B.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:D.length,index:w}),$++}}else if(_&&y.length===0&&E.substring(w,w+de)===_){if(O===-1)return ne();w=O+Q,O=E.indexOf(h,w),N=E.indexOf(u,w)}else if(N!==-1&&(N<O||O===-1))y.push(E.substring(w,N)),w=N+q,N=E.indexOf(u,w);else{if(O===-1)break;if(y.push(E.substring(w,O)),xe(O+Q),T&&(me(),te))return ne();if(C&&D.length>=C)return ne(!0)}return pe();function ke(X){D.push(X),V=w}function Te(X){var se=0;return se=X!==-1&&(X=E.substring($+1,X))&&X.trim()===""?X.length:se}function pe(X){return g||(X===void 0&&(X=E.substring(w)),y.push(X),w=Y,ke(y),T&&me()),ne()}function xe(X){w=X,ke(y),y=[],O=E.indexOf(h,w)}function ne(X){if(a.header&&!A&&D.length&&!le){var se=D[0],ge=Object.create(null),at=new Set(se);let ln=!1;for(let Oe=0;Oe<se.length;Oe++){let _e=se[Oe];if(ge[_e=R(a.transformHeader)?a.transformHeader(_e,Oe):_e]){let Pe,dn=ge[_e];for(;Pe=_e+"_"+dn,dn++,at.has(Pe););at.add(Pe),se[Oe]=Pe,ge[_e]++,ln=!0,(ce=ce===null?{}:ce)[Pe]=_e}else ge[_e]=1,se[Oe]=_e;at.add(_e)}ln&&console.warn("Duplicate headers found and renamed."),le=!0}return{data:D,errors:B,meta:{delimiter:u,linebreak:h,aborted:te,truncated:!!X,cursor:V+(A||0),renamedHeaders:ce}}}function me(){m(ne()),D=[],B=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return w}}function De(a){var u=a.data,h=c[u.workerId],_=!1;if(u.error)h.userError(u.error,u.file);else if(u.results&&u.results.data){var m={abort:function(){_=!0,oe(u.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ee,resume:ee};if(R(h.userStep)){for(var C=0;C<u.results.data.length&&(h.userStep({data:u.results.data[C],errors:u.results.errors,meta:u.results.meta},m),!_);C++);delete u.results}else R(h.userChunk)&&(h.userChunk(u.results,m,u.file),delete u.results)}u.finished&&!_&&oe(u.workerId,u.results)}function oe(a,u){var h=c[a];R(h.userComplete)&&h.userComplete(u),h.terminate(),delete c[a]}function ee(){throw new Error("Not implemented.")}function fe(a){if(typeof a!="object"||a===null)return a;var u,h=Array.isArray(a)?[]:{};for(u in a)h[u]=fe(a[u]);return h}function ue(a,u){return function(){a.apply(u,arguments)}}function R(a){return typeof a=="function"}return l.parse=function(a,u){var h=(u=u||{}).dynamicTyping||!1;if(R(h)&&(u.dynamicTypingFunction=h,h={}),u.dynamicTyping=h,u.transform=!!R(u.transform)&&u.transform,!u.worker||!l.WORKERS_SUPPORTED)return h=null,l.NODE_STREAM_INPUT,typeof a=="string"?(a=(_=>_.charCodeAt(0)!==65279?_:_.slice(1))(a),h=new(u.download?k:Z)(u)):a.readable===!0&&R(a.read)&&R(a.on)?h=new S(u):(r.File&&a instanceof File||a instanceof Object)&&(h=new b(u)),h.stream(a);(h=(()=>{var _;return!!l.WORKERS_SUPPORTED&&(_=(()=>{var m=r.URL||r.webkitURL||null,C=n.toString();return l.BLOB_URL||(l.BLOB_URL=m.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",C,")();"],{type:"text/javascript"})))})(),(_=new r.Worker(_)).onmessage=De,_.id=f++,c[_.id]=_)})()).userStep=u.step,h.userChunk=u.chunk,h.userComplete=u.complete,h.userError=u.error,u.step=R(u.step),u.chunk=R(u.chunk),u.complete=R(u.complete),u.error=R(u.error),delete u.worker,h.postMessage({input:a,config:u,workerId:h.id})},l.unparse=function(a,u){var h=!1,_=!0,m=",",C=`\r
`,J='"',ce=J+J,le=!1,I=null,M=!1,w=((()=>{if(typeof u=="object"){if(typeof u.delimiter!="string"||l.BAD_DELIMITERS.filter(function(A){return u.delimiter.indexOf(A)!==-1}).length||(m=u.delimiter),typeof u.quotes!="boolean"&&typeof u.quotes!="function"&&!Array.isArray(u.quotes)||(h=u.quotes),typeof u.skipEmptyLines!="boolean"&&typeof u.skipEmptyLines!="string"||(le=u.skipEmptyLines),typeof u.newline=="string"&&(C=u.newline),typeof u.quoteChar=="string"&&(J=u.quoteChar),typeof u.header=="boolean"&&(_=u.header),Array.isArray(u.columns)){if(u.columns.length===0)throw new Error("Option columns is empty");I=u.columns}u.escapeChar!==void 0&&(ce=u.escapeChar+J),u.escapeFormulae instanceof RegExp?M=u.escapeFormulae:typeof u.escapeFormulae=="boolean"&&u.escapeFormulae&&(M=/^[=+\-@\t\r].*$/)}})(),new RegExp(z(J),"g"));if(typeof a=="string"&&(a=JSON.parse(a)),Array.isArray(a)){if(!a.length||Array.isArray(a[0]))return te(null,a,le);if(typeof a[0]=="object")return te(I||Object.keys(a[0]),a,le)}else if(typeof a=="object")return typeof a.data=="string"&&(a.data=JSON.parse(a.data)),Array.isArray(a.data)&&(a.fields||(a.fields=a.meta&&a.meta.fields||I),a.fields||(a.fields=Array.isArray(a.data[0])?a.fields:typeof a.data[0]=="object"?Object.keys(a.data[0]):[]),Array.isArray(a.data[0])||typeof a.data[0]=="object"||(a.data=[a.data])),te(a.fields||[],a.data||[],le);throw new Error("Unable to serialize unrecognized input");function te(A,g,Y){var q="",Q=(typeof A=="string"&&(A=JSON.parse(A)),typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(A)&&0<A.length),de=!Array.isArray(g[0]);if(Q&&_){for(var T=0;T<A.length;T++)0<T&&(q+=m),q+=E(A[T],T);0<g.length&&(q+=C)}for(var D=0;D<g.length;D++){var B=(Q?A:g[D]).length,y=!1,V=Q?Object.keys(g[D]).length===0:g[D].length===0;if(Y&&!Q&&(y=Y==="greedy"?g[D].join("").trim()==="":g[D].length===1&&g[D][0].length===0),Y==="greedy"&&Q){for(var H=[],x=0;x<B;x++){var N=de?A[x]:x;H.push(g[D][N])}y=H.join("").trim()===""}if(!y){for(var O=0;O<B;O++){0<O&&!V&&(q+=m);var he=Q&&de?A[O]:O;q+=E(g[D][he],O)}D<g.length-1&&(!Y||0<B&&!V)&&(q+=C)}}return q}function E(A,g){var Y,q;return A==null?"":A.constructor===Date?JSON.stringify(A).slice(1,25):(q=!1,M&&typeof A=="string"&&M.test(A)&&(A="'"+A,q=!0),Y=A.toString().replace(w,ce),(q=q||h===!0||typeof h=="function"&&h(A,g)||Array.isArray(h)&&h[g]||((Q,de)=>{for(var T=0;T<de.length;T++)if(-1<Q.indexOf(de[T]))return!0;return!1})(Y,l.BAD_DELIMITERS)||-1<Y.indexOf(m)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?J+Y+J:Y)}},l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=be,l.ParserHandle=re,l.NetworkStreamer=k,l.FileStreamer=b,l.StringStreamer=Z,l.ReadableStreamStreamer=S,r.jQuery&&((o=r.jQuery).fn.parse=function(a){var u=a.config||{},h=[];return this.each(function(C){if(!(o(this).prop("tagName").toUpperCase()==="INPUT"&&o(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var J=0;J<this.files.length;J++)h.push({file:this.files[J],inputElem:this,instanceConfig:o.extend({},u)})}),_(),this;function _(){if(h.length===0)R(a.complete)&&a.complete();else{var C,J,ce,le,I=h[0];if(R(a.before)){var M=a.before(I.file,I.inputElem);if(typeof M=="object"){if(M.action==="abort")return C="AbortError",J=I.file,ce=I.inputElem,le=M.reason,void(R(a.error)&&a.error({name:C},J,ce,le));if(M.action==="skip")return void m();typeof M.config=="object"&&(I.instanceConfig=o.extend(I.instanceConfig,M.config))}else if(M==="skip")return void m()}var w=I.instanceConfig.complete;I.instanceConfig.complete=function(te){R(w)&&w(te,I.file,I.inputElem),m()},l.parse(I.file,I.instanceConfig)}}function m(){h.splice(0,1),_()}}),s&&(r.onmessage=function(a){a=a.data,l.WORKER_ID===void 0&&a&&(l.WORKER_ID=a.workerId),typeof a.input=="string"?r.postMessage({workerId:l.WORKER_ID,results:l.parse(a.input,a.config),finished:!0}):(r.File&&a.input instanceof File||a.input instanceof Object)&&(a=l.parse(a.input,a.config))&&r.postMessage({workerId:l.WORKER_ID,results:a,finished:!0})}),(k.prototype=Object.create(p.prototype)).constructor=k,(b.prototype=Object.create(p.prototype)).constructor=b,(Z.prototype=Object.create(Z.prototype)).constructor=Z,(S.prototype=Object.create(p.prototype)).constructor=S,l})})(ut);var pn=ut.exports,ct=hn(pn);function d(e,t,n){function r(c,f){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:f,constr:s,traits:new Set},enumerable:!1}),c._zod.traits.has(e))return;c._zod.traits.add(e),t(c,f);const l=s.prototype,p=Object.keys(l);for(let k=0;k<p.length;k++){const b=p[k];b in c||(c[b]=l[b].bind(c))}}const o=(n==null?void 0:n.Parent)??Object;class i extends o{}Object.defineProperty(i,"name",{value:e});function s(c){var f;const l=n!=null&&n.Parent?new i:this;r(l,c),(f=l._zod).deferred??(f.deferred=[]);for(const p of l._zod.deferred)p();return l}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:c=>{var f,l;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(l=(f=c==null?void 0:c._zod)==null?void 0:f.traits)==null?void 0:l.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class $e extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class lt extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const dt={};function we(e){return dt}function mn(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,o])=>t.indexOf(+r)===-1).map(([r,o])=>o)}function Ke(e,t){return typeof t=="bigint"?t.toString():t}function Je(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Ye(e){return e==null}function He(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function _n(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(o=Number.parseInt(f[1]))}const i=n>o?n:o,s=Number.parseInt(e.toFixed(i).replace(".","")),c=Number.parseInt(t.toFixed(i).replace(".",""));return s%c/10**i}const ft=Symbol("evaluating");function P(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==ft)return r===void 0&&(r=ft,r=n()),r},set(o){Object.defineProperty(e,t,{value:o})},configurable:!0})}function ye(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function ze(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function ht(e){return JSON.stringify(e)}function gn(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const pt="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ne(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const vn=Je(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Se(e){if(Ne(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Ne(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function mt(e){return Se(e)?{...e}:Array.isArray(e)?[...e]:e}const bn=new Set(["string","number","symbol"]);function je(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ve(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function v(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function kn(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const wn={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function yn(e,t){const n=e._zod.def,r=ze(e._zod.def,{get shape(){const o={};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(o[i]=n.shape[i])}return ye(this,"shape",o),o},checks:[]});return ve(e,r)}function zn(e,t){const n=e._zod.def,r=ze(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const i in t){if(!(i in n.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete o[i]}return ye(this,"shape",o),o},checks:[]});return ve(e,r)}function En(e,t){if(!Se(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=ze(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return ye(this,"shape",i),i},checks:[]});return ve(e,o)}function $n(e,t){if(!Se(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return ye(this,"shape",r),r},checks:e._zod.def.checks};return ve(e,n)}function Zn(e,t){const n=ze(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return ye(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return ve(e,n)}function Cn(e,t,n){const r=ze(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=e?new e({type:"optional",innerType:o[s]}):o[s])}else for(const s in o)i[s]=e?new e({type:"optional",innerType:o[s]}):o[s];return ye(this,"shape",i),i},checks:[]});return ve(t,r)}function In(e,t,n){const r=ze(t._zod.def,{get shape(){const o=t._zod.def.shape,i={...o};if(n)for(const s in n){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);n[s]&&(i[s]=new e({type:"nonoptional",innerType:o[s]}))}else for(const s in o)i[s]=new e({type:"nonoptional",innerType:o[s]});return ye(this,"shape",i),i},checks:[]});return ve(t,r)}function Ze(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function _t(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Fe(e){return typeof e=="string"?e:e==null?void 0:e.message}function Ee(e,t,n){var o,i,s,c,f,l;const r={...e,path:e.path??[]};if(!e.message){const p=Fe((s=(i=(o=e.inst)==null?void 0:o._zod.def)==null?void 0:i.error)==null?void 0:s.call(i,e))??Fe((c=t==null?void 0:t.error)==null?void 0:c.call(t,e))??Fe((f=n.customError)==null?void 0:f.call(n,e))??Fe((l=n.localeError)==null?void 0:l.call(n,e))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function Xe(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function Re(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const gt=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Ke,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},vt=d("$ZodError",gt),bt=d("$ZodError",gt,{Parent:Error});function An(e,t=n=>n.message){const n={},r=[];for(const o of e.issues)o.path.length>0?(n[o.path[0]]=n[o.path[0]]||[],n[o.path[0]].push(t(o))):r.push(t(o));return{formErrors:r,fieldErrors:n}}function Tn(e,t=n=>n.message){const n={_errors:[]},r=o=>{for(const i of o.issues)if(i.code==="invalid_union"&&i.errors.length)i.errors.map(s=>r({issues:s}));else if(i.code==="invalid_key")r({issues:i.issues});else if(i.code==="invalid_element")r({issues:i.issues});else if(i.path.length===0)n._errors.push(t(i));else{let s=n,c=0;for(;c<i.path.length;){const f=i.path[c];c===i.path.length-1?(s[f]=s[f]||{_errors:[]},s[f]._errors.push(t(i))):s[f]=s[f]||{_errors:[]},s=s[f],c++}}};return r(e),n}const Qe=e=>(t,n,r,o)=>{const i=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new $e;if(s.issues.length){const c=new((o==null?void 0:o.Err)??e)(s.issues.map(f=>Ee(f,i,we())));throw pt(c,o==null?void 0:o.callee),c}return s.value},et=e=>async(t,n,r,o)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise&&(s=await s),s.issues.length){const c=new((o==null?void 0:o.Err)??e)(s.issues.map(f=>Ee(f,i,we())));throw pt(c,o==null?void 0:o.callee),c}return s.value},Ue=e=>(t,n,r)=>{const o=r?{...r,async:!1}:{async:!1},i=t._zod.run({value:n,issues:[]},o);if(i instanceof Promise)throw new $e;return i.issues.length?{success:!1,error:new(e??vt)(i.issues.map(s=>Ee(s,o,we())))}:{success:!0,data:i.value}},On=Ue(bt),Le=e=>async(t,n,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let i=t._zod.run({value:n,issues:[]},o);return i instanceof Promise&&(i=await i),i.issues.length?{success:!1,error:new e(i.issues.map(s=>Ee(s,o,we())))}:{success:!0,data:i.value}},Sn=Le(bt),Rn=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Qe(e)(t,n,o)},Dn=e=>(t,n,r)=>Qe(e)(t,n,r),xn=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return et(e)(t,n,o)},Pn=e=>async(t,n,r)=>et(e)(t,n,r),Nn=e=>(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ue(e)(t,n,o)},jn=e=>(t,n,r)=>Ue(e)(t,n,r),Fn=e=>async(t,n,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Le(e)(t,n,o)},Un=e=>async(t,n,r)=>Le(e)(t,n,r),Ln=/^[cC][^\s-]{8,}$/,Mn=/^[0-9a-z]+$/,Bn=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Vn=/^[0-9a-vA-V]{20}$/,Wn=/^[A-Za-z0-9]{27}$/,qn=/^[a-zA-Z0-9_-]{21}$/,Gn=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Kn=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,kt=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Jn=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Yn="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Hn(){return new RegExp(Yn,"u")}const Xn=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qn=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,er=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,tr=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nr=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,wt=/^[A-Za-z0-9_-]*$/,rr=/^\+(?:[0-9]){6,14}[0-9]$/,yt="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",or=new RegExp(`^${yt}$`);function zt(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ir(e){return new RegExp(`^${zt(e)}$`)}function sr(e){const t=zt({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${yt}T(?:${r})$`)}const ar=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},ur=/^-?\d+$/,cr=/^-?\d+(?:\.\d+)?/,lr=/^[^A-Z]*$/,dr=/^[^a-z]*$/,ie=d("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Et={number:"number",bigint:"bigint",object:"date"},$t=d("$ZodCheckLessThan",(e,t)=>{ie.init(e,t);const n=Et[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<i&&(t.inclusive?o.maximum=t.value:o.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Zt=d("$ZodCheckGreaterThan",(e,t)=>{ie.init(e,t);const n=Et[typeof t.value];e._zod.onattach.push(r=>{const o=r._zod.bag,i=(t.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>i&&(t.inclusive?o.minimum=t.value:o.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fr=d("$ZodCheckMultipleOf",(e,t)=>{ie.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):_n(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),hr=d("$ZodCheckNumberFormat",(e,t)=>{var s;ie.init(e,t),t.format=t.format||"float64";const n=(s=t.format)==null?void 0:s.includes("int"),r=n?"int":"number",[o,i]=wn[t.format];e._zod.onattach.push(c=>{const f=c._zod.bag;f.format=t.format,f.minimum=o,f.maximum=i,n&&(f.pattern=ur)}),e._zod.check=c=>{const f=c.value;if(n){if(!Number.isInteger(f)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:f,inst:e});return}if(!Number.isSafeInteger(f)){f>0?c.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):c.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}f<o&&c.issues.push({origin:"number",input:f,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!t.abort}),f>i&&c.issues.push({origin:"number",input:f,code:"too_big",maximum:i,inst:e})}}),pr=d("$ZodCheckMaxLength",(e,t)=>{var n;ie.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ye(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<o&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const o=r.value;if(o.length<=t.maximum)return;const s=Xe(o);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),mr=d("$ZodCheckMinLength",(e,t)=>{var n;ie.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ye(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>o&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const o=r.value;if(o.length>=t.minimum)return;const s=Xe(o);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:o,inst:e,continue:!t.abort})}}),_r=d("$ZodCheckLengthEquals",(e,t)=>{var n;ie.init(e,t),(n=e._zod.def).when??(n.when=r=>{const o=r.value;return!Ye(o)&&o.length!==void 0}),e._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=t.length,o.maximum=t.length,o.length=t.length}),e._zod.check=r=>{const o=r.value,i=o.length;if(i===t.length)return;const s=Xe(o),c=i>t.length;r.issues.push({origin:s,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Me=d("$ZodCheckStringFormat",(e,t)=>{var n,r;ie.init(e,t),e._zod.onattach.push(o=>{const i=o._zod.bag;i.format=t.format,t.pattern&&(i.patterns??(i.patterns=new Set),i.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=o=>{t.pattern.lastIndex=0,!t.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:t.format,input:o.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),gr=d("$ZodCheckRegex",(e,t)=>{Me.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),vr=d("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=lr),Me.init(e,t)}),br=d("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=dr),Me.init(e,t)}),kr=d("$ZodCheckIncludes",(e,t)=>{ie.init(e,t);const n=je(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(o=>{const i=o._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=o=>{o.value.includes(t.includes,t.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:o.value,inst:e,continue:!t.abort})}}),wr=d("$ZodCheckStartsWith",(e,t)=>{ie.init(e,t);const n=new RegExp(`^${je(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),yr=d("$ZodCheckEndsWith",(e,t)=>{ie.init(e,t);const n=new RegExp(`.*${je(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),zr=d("$ZodCheckOverwrite",(e,t)=>{ie.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Er{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(s=>s),o=Math.min(...r.map(s=>s.length-s.trimStart().length)),i=r.map(s=>s.slice(o)).map(s=>" ".repeat(this.indent*2)+s);for(const s of i)this.content.push(s)}compile(){const t=Function,n=this==null?void 0:this.args,o=[...((this==null?void 0:this.content)??[""]).map(i=>`  ${i}`)];return new t(...n,o.join(`
`))}}const $r={major:4,minor:1,patch:13},W=d("$ZodType",(e,t)=>{var o;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$r;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const s of i._zod.onattach)s(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(o=e._zod.deferred)==null||o.push(()=>{e._zod.run=e._zod.parse});else{const i=(c,f,l)=>{let p=Ze(c),k;for(const b of f){if(b._zod.def.when){if(!b._zod.def.when(c))continue}else if(p)continue;const Z=c.issues.length,S=b._zod.check(c);if(S instanceof Promise&&(l==null?void 0:l.async)===!1)throw new $e;if(k||S instanceof Promise)k=(k??Promise.resolve()).then(async()=>{await S,c.issues.length!==Z&&(p||(p=Ze(c,Z)))});else{if(c.issues.length===Z)continue;p||(p=Ze(c,Z))}}return k?k.then(()=>c):c},s=(c,f,l)=>{if(Ze(c))return c.aborted=!0,c;const p=i(f,r,l);if(p instanceof Promise){if(l.async===!1)throw new $e;return p.then(k=>e._zod.parse(k,l))}return e._zod.parse(p,l)};e._zod.run=(c,f)=>{if(f.skipChecks)return e._zod.parse(c,f);if(f.direction==="backward"){const p=e._zod.parse({value:c.value,issues:[]},{...f,skipChecks:!0});return p instanceof Promise?p.then(k=>s(k,c,f)):s(p,c,f)}const l=e._zod.parse(c,f);if(l instanceof Promise){if(f.async===!1)throw new $e;return l.then(p=>i(p,r,f))}return i(l,r,f)}}e["~standard"]={validate:i=>{var s;try{const c=On(e,i);return c.success?{value:c.data}:{issues:(s=c.error)==null?void 0:s.issues}}catch{return Sn(e,i).then(f=>{var l;return f.success?{value:f.data}:{issues:(l=f.error)==null?void 0:l.issues}})}},vendor:"zod",version:1}}),tt=d("$ZodString",(e,t)=>{var n;W.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??ar(e._zod.bag),e._zod.parse=(r,o)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),j=d("$ZodStringFormat",(e,t)=>{Me.init(e,t),tt.init(e,t)}),Zr=d("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Kn),j.init(e,t)}),Cr=d("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=kt(r))}else t.pattern??(t.pattern=kt());j.init(e,t)}),Ir=d("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Jn),j.init(e,t)}),Ar=d("$ZodURL",(e,t)=>{j.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),o=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(o.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=o.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Tr=d("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Hn()),j.init(e,t)}),Or=d("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=qn),j.init(e,t)}),Sr=d("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Ln),j.init(e,t)}),Rr=d("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=Mn),j.init(e,t)}),Dr=d("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Bn),j.init(e,t)}),xr=d("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Vn),j.init(e,t)}),Pr=d("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Wn),j.init(e,t)}),Nr=d("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=sr(t)),j.init(e,t)}),jr=d("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=or),j.init(e,t)}),Fr=d("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ir(t)),j.init(e,t)}),Ur=d("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Gn),j.init(e,t)}),Lr=d("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Xn),j.init(e,t),e._zod.bag.format="ipv4"}),Mr=d("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Qn),j.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),Br=d("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=er),j.init(e,t)}),Vr=d("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=tr),j.init(e,t),e._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[o,i]=r;if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${o}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function Ct(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const Wr=d("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=nr),j.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{Ct(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function qr(e){if(!wt.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return Ct(n)}const Gr=d("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=wt),j.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{qr(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Kr=d("$ZodE164",(e,t)=>{t.pattern??(t.pattern=rr),j.init(e,t)});function Jr(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||t&&(!("alg"in o)||o.alg!==t))}catch{return!1}}const Yr=d("$ZodJWT",(e,t)=>{j.init(e,t),e._zod.check=n=>{Jr(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),It=d("$ZodNumber",(e,t)=>{W.init(e,t),e._zod.pattern=e._zod.bag.pattern??cr,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const o=n.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return n;const i=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...i?{received:i}:{}}),n}}),Hr=d("$ZodNumberFormat",(e,t)=>{hr.init(e,t),It.init(e,t)}),Xr=d("$ZodUnknown",(e,t)=>{W.init(e,t),e._zod.parse=n=>n}),Qr=d("$ZodNever",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function At(e,t,n){e.issues.length&&t.issues.push(..._t(n,e.issues)),t.value[n]=e.value}const eo=d("$ZodArray",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const o=n.value;if(!Array.isArray(o))return n.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),n;n.value=Array(o.length);const i=[];for(let s=0;s<o.length;s++){const c=o[s],f=t.element._zod.run({value:c,issues:[]},r);f instanceof Promise?i.push(f.then(l=>At(l,n,s))):At(f,n,s)}return i.length?Promise.all(i).then(()=>n):n}});function Be(e,t,n,r){e.issues.length&&t.issues.push(..._t(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function Tt(e){var r,o,i,s;const t=Object.keys(e.shape);for(const c of t)if(!((s=(i=(o=(r=e.shape)==null?void 0:r[c])==null?void 0:o._zod)==null?void 0:i.traits)!=null&&s.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=kn(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Ot(e,t,n,r,o,i){const s=[],c=o.keySet,f=o.catchall._zod,l=f.def.type;for(const p in t){if(c.has(p))continue;if(l==="never"){s.push(p);continue}const k=f.run({value:t[p],issues:[]},r);k instanceof Promise?e.push(k.then(b=>Be(b,n,p,t))):Be(k,n,p,t)}return s.length&&n.issues.push({code:"unrecognized_keys",keys:s,input:t,inst:i}),e.length?Promise.all(e).then(()=>n):n}const to=d("$ZodObject",(e,t)=>{W.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const f={...c};return Object.defineProperty(t,"shape",{value:f}),f}})}const r=Je(()=>Tt(t));P(e._zod,"propValues",()=>{const c=t.shape,f={};for(const l in c){const p=c[l]._zod;if(p.values){f[l]??(f[l]=new Set);for(const k of p.values)f[l].add(k)}}return f});const o=Ne,i=t.catchall;let s;e._zod.parse=(c,f)=>{s??(s=r.value);const l=c.value;if(!o(l))return c.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),c;c.value={};const p=[],k=s.shape;for(const b of s.keys){const S=k[b]._zod.run({value:l[b],issues:[]},f);S instanceof Promise?p.push(S.then(re=>Be(re,c,b,l))):Be(S,c,b,l)}return i?Ot(p,l,c,f,r.value,e):p.length?Promise.all(p).then(()=>c):c}}),no=d("$ZodObjectJIT",(e,t)=>{to.init(e,t);const n=e._zod.parse,r=Je(()=>Tt(t)),o=b=>{const Z=new Er(["shape","payload","ctx"]),S=r.value,re=oe=>{const ee=ht(oe);return`shape[${ee}]._zod.run({ value: input[${ee}], issues: [] }, ctx)`};Z.write("const input = payload.value;");const z=Object.create(null);let be=0;for(const oe of S.keys)z[oe]=`key_${be++}`;Z.write("const newResult = {};");for(const oe of S.keys){const ee=z[oe],fe=ht(oe);Z.write(`const ${ee} = ${re(oe)};`),Z.write(`
        if (${ee}.issues.length) {
          payload.issues = payload.issues.concat(${ee}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${fe}, ...iss.path] : [${fe}]
          })));
        }
        
        
        if (${ee}.value === undefined) {
          if (${fe} in input) {
            newResult[${fe}] = undefined;
          }
        } else {
          newResult[${fe}] = ${ee}.value;
        }
        
      `)}Z.write("payload.value = newResult;"),Z.write("return payload;");const De=Z.compile();return(oe,ee)=>De(b,oe,ee)};let i;const s=Ne,c=!dt.jitless,l=c&&vn.value,p=t.catchall;let k;e._zod.parse=(b,Z)=>{k??(k=r.value);const S=b.value;return s(S)?c&&l&&(Z==null?void 0:Z.async)===!1&&Z.jitless!==!0?(i||(i=o(t.shape)),b=i(b,Z),p?Ot([],S,b,Z,k,e):b):n(b,Z):(b.issues.push({expected:"object",code:"invalid_type",input:S,inst:e}),b)}});function St(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;const o=e.filter(i=>!Ze(i));return o.length===1?(t.value=o[0].value,o[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(s=>Ee(s,r,we())))}),t)}const ro=d("$ZodUnion",(e,t)=>{W.init(e,t),P(e._zod,"optin",()=>t.options.some(o=>o._zod.optin==="optional")?"optional":void 0),P(e._zod,"optout",()=>t.options.some(o=>o._zod.optout==="optional")?"optional":void 0),P(e._zod,"values",()=>{if(t.options.every(o=>o._zod.values))return new Set(t.options.flatMap(o=>Array.from(o._zod.values)))}),P(e._zod,"pattern",()=>{if(t.options.every(o=>o._zod.pattern)){const o=t.options.map(i=>i._zod.pattern);return new RegExp(`^(${o.map(i=>He(i.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(o,i)=>{if(n)return r(o,i);let s=!1;const c=[];for(const f of t.options){const l=f._zod.run({value:o.value,issues:[]},i);if(l instanceof Promise)c.push(l),s=!0;else{if(l.issues.length===0)return l;c.push(l)}}return s?Promise.all(c).then(f=>St(f,o,e,i)):St(c,o,e,i)}}),oo=d("$ZodIntersection",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{const o=n.value,i=t.left._zod.run({value:o,issues:[]},r),s=t.right._zod.run({value:o,issues:[]},r);return i instanceof Promise||s instanceof Promise?Promise.all([i,s]).then(([f,l])=>Rt(n,f,l)):Rt(n,i,s)}});function nt(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Se(e)&&Se(t)){const n=Object.keys(t),r=Object.keys(e).filter(i=>n.indexOf(i)!==-1),o={...e,...t};for(const i of r){const s=nt(e[i],t[i]);if(!s.valid)return{valid:!1,mergeErrorPath:[i,...s.mergeErrorPath]};o[i]=s.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const o=e[r],i=t[r],s=nt(o,i);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Rt(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Ze(e))return e;const r=nt(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const io=d("$ZodEnum",(e,t)=>{W.init(e,t);const n=mn(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(o=>bn.has(typeof o)).map(o=>typeof o=="string"?je(o):o.toString()).join("|")})$`),e._zod.parse=(o,i)=>{const s=o.value;return r.has(s)||o.issues.push({code:"invalid_value",values:n,input:s,inst:e}),o}}),so=d("$ZodTransform",(e,t)=>{W.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new lt(e.constructor.name);const o=t.transform(n.value,n);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(s=>(n.value=s,n));if(o instanceof Promise)throw new $e;return n.value=o,n}});function Dt(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ao=d("$ZodOptional",(e,t)=>{W.init(e,t),e._zod.optin="optional",e._zod.optout="optional",P(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),P(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${He(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Dt(i,n.value)):Dt(o,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),uo=d("$ZodNullable",(e,t)=>{W.init(e,t),P(e._zod,"optin",()=>t.innerType._zod.optin),P(e._zod,"optout",()=>t.innerType._zod.optout),P(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${He(n.source)}|null)$`):void 0}),P(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),co=d("$ZodDefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",P(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>xt(i,t)):xt(o,t)}});function xt(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const lo=d("$ZodPrefault",(e,t)=>{W.init(e,t),e._zod.optin="optional",P(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),fo=d("$ZodNonOptional",(e,t)=>{W.init(e,t),P(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>Pt(i,e)):Pt(o,e)}});function Pt(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const ho=d("$ZodCatch",(e,t)=>{W.init(e,t),P(e._zod,"optin",()=>t.innerType._zod.optin),P(e._zod,"optout",()=>t.innerType._zod.optout),P(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(i=>(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>Ee(s,r,we()))},input:n.value}),n.issues=[]),n)):(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(i=>Ee(i,r,we()))},input:n.value}),n.issues=[]),n)}}),po=d("$ZodPipe",(e,t)=>{W.init(e,t),P(e._zod,"values",()=>t.in._zod.values),P(e._zod,"optin",()=>t.in._zod.optin),P(e._zod,"optout",()=>t.out._zod.optout),P(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const i=t.out._zod.run(n,r);return i instanceof Promise?i.then(s=>Ve(s,t.in,r)):Ve(i,t.in,r)}const o=t.in._zod.run(n,r);return o instanceof Promise?o.then(i=>Ve(i,t.out,r)):Ve(o,t.out,r)}});function Ve(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const mo=d("$ZodReadonly",(e,t)=>{W.init(e,t),P(e._zod,"propValues",()=>t.innerType._zod.propValues),P(e._zod,"values",()=>t.innerType._zod.values),P(e._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),P(e._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const o=t.innerType._zod.run(n,r);return o instanceof Promise?o.then(Nt):Nt(o)}});function Nt(e){return e.value=Object.freeze(e.value),e}const _o=d("$ZodCustom",(e,t)=>{ie.init(e,t),W.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,o=t.fn(r);if(o instanceof Promise)return o.then(i=>jt(i,n,r,e));jt(o,n,r,e)}});function jt(e,t,n,r){if(!e){const o={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),t.issues.push(Re(o))}}var Ft;class go{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const o={...r,...this._map.get(t)};return Object.keys(o).length?o:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function vo(){return new go}(Ft=globalThis).__zod_globalRegistry??(Ft.__zod_globalRegistry=vo());const We=globalThis.__zod_globalRegistry;function bo(e,t){return new e({type:"string",...v(t)})}function ko(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...v(t)})}function Ut(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...v(t)})}function wo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...v(t)})}function yo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...v(t)})}function zo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...v(t)})}function Eo(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...v(t)})}function $o(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...v(t)})}function Zo(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...v(t)})}function Co(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...v(t)})}function Io(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...v(t)})}function Ao(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...v(t)})}function To(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...v(t)})}function Oo(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...v(t)})}function So(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...v(t)})}function Ro(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...v(t)})}function Do(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...v(t)})}function xo(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...v(t)})}function Po(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...v(t)})}function No(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...v(t)})}function jo(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...v(t)})}function Fo(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...v(t)})}function Uo(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...v(t)})}function Lo(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...v(t)})}function Mo(e,t){return new e({type:"string",format:"date",check:"string_format",...v(t)})}function Bo(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...v(t)})}function Vo(e,t){return new e({type:"string",format:"duration",check:"string_format",...v(t)})}function Wo(e,t){return new e({type:"number",checks:[],...v(t)})}function qo(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...v(t)})}function Go(e){return new e({type:"unknown"})}function Ko(e,t){return new e({type:"never",...v(t)})}function Lt(e,t){return new $t({check:"less_than",...v(t),value:e,inclusive:!1})}function rt(e,t){return new $t({check:"less_than",...v(t),value:e,inclusive:!0})}function Mt(e,t){return new Zt({check:"greater_than",...v(t),value:e,inclusive:!1})}function ot(e,t){return new Zt({check:"greater_than",...v(t),value:e,inclusive:!0})}function Bt(e,t){return new fr({check:"multiple_of",...v(t),value:e})}function Vt(e,t){return new pr({check:"max_length",...v(t),maximum:e})}function qe(e,t){return new mr({check:"min_length",...v(t),minimum:e})}function Wt(e,t){return new _r({check:"length_equals",...v(t),length:e})}function Jo(e,t){return new gr({check:"string_format",format:"regex",...v(t),pattern:e})}function Yo(e){return new vr({check:"string_format",format:"lowercase",...v(e)})}function Ho(e){return new br({check:"string_format",format:"uppercase",...v(e)})}function Xo(e,t){return new kr({check:"string_format",format:"includes",...v(t),includes:e})}function Qo(e,t){return new wr({check:"string_format",format:"starts_with",...v(t),prefix:e})}function ei(e,t){return new yr({check:"string_format",format:"ends_with",...v(t),suffix:e})}function Ce(e){return new zr({check:"overwrite",tx:e})}function ti(e){return Ce(t=>t.normalize(e))}function ni(){return Ce(e=>e.trim())}function ri(){return Ce(e=>e.toLowerCase())}function oi(){return Ce(e=>e.toUpperCase())}function ii(){return Ce(e=>gn(e))}function si(e,t,n){return new e({type:"array",element:t,...v(n)})}function ai(e,t,n){return new e({type:"custom",check:"custom",fn:t,...v(n)})}function ui(e){const t=ci(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Re(r,n.value,t._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=t),o.continue??(o.continue=!t._zod.def.abort),n.issues.push(Re(o))}},e(n.value,n)));return t}function ci(e,t){const n=new ie({check:"custom",...v(t)});return n._zod.check=e,n}const li=d("ZodISODateTime",(e,t)=>{Nr.init(e,t),F.init(e,t)});function di(e){return Lo(li,e)}const fi=d("ZodISODate",(e,t)=>{jr.init(e,t),F.init(e,t)});function hi(e){return Mo(fi,e)}const pi=d("ZodISOTime",(e,t)=>{Fr.init(e,t),F.init(e,t)});function mi(e){return Bo(pi,e)}const _i=d("ZodISODuration",(e,t)=>{Ur.init(e,t),F.init(e,t)});function gi(e){return Vo(_i,e)}const ae=d("ZodError",(e,t)=>{vt.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>Tn(e,n)},flatten:{value:n=>An(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Ke,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Ke,2)}},isEmpty:{get(){return e.issues.length===0}}})},{Parent:Error}),vi=Qe(ae),bi=et(ae),ki=Ue(ae),wi=Le(ae),yi=Rn(ae),zi=Dn(ae),Ei=xn(ae),$i=Pn(ae),Zi=Nn(ae),Ci=jn(ae),Ii=Fn(ae),Ai=Un(ae),G=d("ZodType",(e,t)=>(W.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(ze(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),e.clone=(n,r)=>ve(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>vi(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>ki(e,n,r),e.parseAsync=async(n,r)=>bi(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>wi(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>yi(e,n,r),e.decode=(n,r)=>zi(e,n,r),e.encodeAsync=async(n,r)=>Ei(e,n,r),e.decodeAsync=async(n,r)=>$i(e,n,r),e.safeEncode=(n,r)=>Zi(e,n,r),e.safeDecode=(n,r)=>Ci(e,n,r),e.safeEncodeAsync=async(n,r)=>Ii(e,n,r),e.safeDecodeAsync=async(n,r)=>Ai(e,n,r),e.refine=(n,r)=>e.check(bs(n,r)),e.superRefine=n=>e.check(ks(n)),e.overwrite=n=>e.check(Ce(n)),e.optional=()=>tn(e),e.nullable=()=>nn(e),e.nullish=()=>tn(nn(e)),e.nonoptional=n=>fs(e,n),e.array=()=>Qi(e),e.or=n=>Xt([e,n]),e.and=n=>os(e,n),e.transform=n=>st(e,Qt(n)),e.default=n=>cs(e,n),e.prefault=n=>ds(e,n),e.catch=n=>ps(e,n),e.pipe=n=>st(e,n),e.readonly=()=>gs(e),e.describe=n=>{const r=e.clone();return We.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=We.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return We.get(e);const r=e.clone();return We.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),qt=d("_ZodString",(e,t)=>{tt.init(e,t),G.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(Jo(...r)),e.includes=(...r)=>e.check(Xo(...r)),e.startsWith=(...r)=>e.check(Qo(...r)),e.endsWith=(...r)=>e.check(ei(...r)),e.min=(...r)=>e.check(qe(...r)),e.max=(...r)=>e.check(Vt(...r)),e.length=(...r)=>e.check(Wt(...r)),e.nonempty=(...r)=>e.check(qe(1,...r)),e.lowercase=r=>e.check(Yo(r)),e.uppercase=r=>e.check(Ho(r)),e.trim=()=>e.check(ni()),e.normalize=(...r)=>e.check(ti(...r)),e.toLowerCase=()=>e.check(ri()),e.toUpperCase=()=>e.check(oi()),e.slugify=()=>e.check(ii())}),Ti=d("ZodString",(e,t)=>{tt.init(e,t),qt.init(e,t),e.email=n=>e.check(ko(Oi,n)),e.url=n=>e.check($o(Si,n)),e.jwt=n=>e.check(Uo(Gi,n)),e.emoji=n=>e.check(Zo(Ri,n)),e.guid=n=>e.check(Ut(Gt,n)),e.uuid=n=>e.check(wo(Ge,n)),e.uuidv4=n=>e.check(yo(Ge,n)),e.uuidv6=n=>e.check(zo(Ge,n)),e.uuidv7=n=>e.check(Eo(Ge,n)),e.nanoid=n=>e.check(Co(Di,n)),e.guid=n=>e.check(Ut(Gt,n)),e.cuid=n=>e.check(Io(xi,n)),e.cuid2=n=>e.check(Ao(Pi,n)),e.ulid=n=>e.check(To(Ni,n)),e.base64=n=>e.check(No(Vi,n)),e.base64url=n=>e.check(jo(Wi,n)),e.xid=n=>e.check(Oo(ji,n)),e.ksuid=n=>e.check(So(Fi,n)),e.ipv4=n=>e.check(Ro(Ui,n)),e.ipv6=n=>e.check(Do(Li,n)),e.cidrv4=n=>e.check(xo(Mi,n)),e.cidrv6=n=>e.check(Po(Bi,n)),e.e164=n=>e.check(Fo(qi,n)),e.datetime=n=>e.check(di(n)),e.date=n=>e.check(hi(n)),e.time=n=>e.check(mi(n)),e.duration=n=>e.check(gi(n))});function L(e){return bo(Ti,e)}const F=d("ZodStringFormat",(e,t)=>{j.init(e,t),qt.init(e,t)}),Oi=d("ZodEmail",(e,t)=>{Ir.init(e,t),F.init(e,t)}),Gt=d("ZodGUID",(e,t)=>{Zr.init(e,t),F.init(e,t)}),Ge=d("ZodUUID",(e,t)=>{Cr.init(e,t),F.init(e,t)}),Si=d("ZodURL",(e,t)=>{Ar.init(e,t),F.init(e,t)}),Ri=d("ZodEmoji",(e,t)=>{Tr.init(e,t),F.init(e,t)}),Di=d("ZodNanoID",(e,t)=>{Or.init(e,t),F.init(e,t)}),xi=d("ZodCUID",(e,t)=>{Sr.init(e,t),F.init(e,t)}),Pi=d("ZodCUID2",(e,t)=>{Rr.init(e,t),F.init(e,t)}),Ni=d("ZodULID",(e,t)=>{Dr.init(e,t),F.init(e,t)}),ji=d("ZodXID",(e,t)=>{xr.init(e,t),F.init(e,t)}),Fi=d("ZodKSUID",(e,t)=>{Pr.init(e,t),F.init(e,t)}),Ui=d("ZodIPv4",(e,t)=>{Lr.init(e,t),F.init(e,t)}),Li=d("ZodIPv6",(e,t)=>{Mr.init(e,t),F.init(e,t)}),Mi=d("ZodCIDRv4",(e,t)=>{Br.init(e,t),F.init(e,t)}),Bi=d("ZodCIDRv6",(e,t)=>{Vr.init(e,t),F.init(e,t)}),Vi=d("ZodBase64",(e,t)=>{Wr.init(e,t),F.init(e,t)}),Wi=d("ZodBase64URL",(e,t)=>{Gr.init(e,t),F.init(e,t)}),qi=d("ZodE164",(e,t)=>{Kr.init(e,t),F.init(e,t)}),Gi=d("ZodJWT",(e,t)=>{Yr.init(e,t),F.init(e,t)}),Kt=d("ZodNumber",(e,t)=>{It.init(e,t),G.init(e,t),e.gt=(r,o)=>e.check(Mt(r,o)),e.gte=(r,o)=>e.check(ot(r,o)),e.min=(r,o)=>e.check(ot(r,o)),e.lt=(r,o)=>e.check(Lt(r,o)),e.lte=(r,o)=>e.check(rt(r,o)),e.max=(r,o)=>e.check(rt(r,o)),e.int=r=>e.check(Yt(r)),e.safe=r=>e.check(Yt(r)),e.positive=r=>e.check(Mt(0,r)),e.nonnegative=r=>e.check(ot(0,r)),e.negative=r=>e.check(Lt(0,r)),e.nonpositive=r=>e.check(rt(0,r)),e.multipleOf=(r,o)=>e.check(Bt(r,o)),e.step=(r,o)=>e.check(Bt(r,o)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function Jt(e){return Wo(Kt,e)}const Ki=d("ZodNumberFormat",(e,t)=>{Hr.init(e,t),Kt.init(e,t)});function Yt(e){return qo(Ki,e)}const Ji=d("ZodUnknown",(e,t)=>{Xr.init(e,t),G.init(e,t)});function Ht(){return Go(Ji)}const Yi=d("ZodNever",(e,t)=>{Qr.init(e,t),G.init(e,t)});function Hi(e){return Ko(Yi,e)}const Xi=d("ZodArray",(e,t)=>{eo.init(e,t),G.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(qe(n,r)),e.nonempty=n=>e.check(qe(1,n)),e.max=(n,r)=>e.check(Vt(n,r)),e.length=(n,r)=>e.check(Wt(n,r)),e.unwrap=()=>e.element});function Qi(e,t){return si(Xi,e,t)}const es=d("ZodObject",(e,t)=>{no.init(e,t),G.init(e,t),P(e,"shape",()=>t.shape),e.keyof=()=>is(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:Ht()}),e.loose=()=>e.clone({...e._zod.def,catchall:Ht()}),e.strict=()=>e.clone({...e._zod.def,catchall:Hi()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>En(e,n),e.safeExtend=n=>$n(e,n),e.merge=n=>Zn(e,n),e.pick=n=>yn(e,n),e.omit=n=>zn(e,n),e.partial=(...n)=>Cn(en,e,n[0]),e.required=(...n)=>In(rn,e,n[0])});function ts(e,t){const n={type:"object",shape:e??{},...v(t)};return new es(n)}const ns=d("ZodUnion",(e,t)=>{ro.init(e,t),G.init(e,t),e.options=t.options});function Xt(e,t){return new ns({type:"union",options:e,...v(t)})}const rs=d("ZodIntersection",(e,t)=>{oo.init(e,t),G.init(e,t)});function os(e,t){return new rs({type:"intersection",left:e,right:t})}const it=d("ZodEnum",(e,t)=>{io.init(e,t),G.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,o)=>{const i={};for(const s of r)if(n.has(s))i[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new it({...t,checks:[],...v(o),entries:i})},e.exclude=(r,o)=>{const i={...t.entries};for(const s of r)if(n.has(s))delete i[s];else throw new Error(`Key ${s} not found in enum`);return new it({...t,checks:[],...v(o),entries:i})}});function is(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new it({type:"enum",entries:n,...v(t)})}const ss=d("ZodTransform",(e,t)=>{so.init(e,t),G.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new lt(e.constructor.name);n.addIssue=i=>{if(typeof i=="string")n.issues.push(Re(i,n.value,t));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),n.issues.push(Re(s))}};const o=t.transform(n.value,n);return o instanceof Promise?o.then(i=>(n.value=i,n)):(n.value=o,n)}});function Qt(e){return new ss({type:"transform",transform:e})}const en=d("ZodOptional",(e,t)=>{ao.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType});function tn(e){return new en({type:"optional",innerType:e})}const as=d("ZodNullable",(e,t)=>{uo.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nn(e){return new as({type:"nullable",innerType:e})}const us=d("ZodDefault",(e,t)=>{co.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function cs(e,t){return new us({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():mt(t)}})}const ls=d("ZodPrefault",(e,t)=>{lo.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ds(e,t){return new ls({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():mt(t)}})}const rn=d("ZodNonOptional",(e,t)=>{fo.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType});function fs(e,t){return new rn({type:"nonoptional",innerType:e,...v(t)})}const hs=d("ZodCatch",(e,t)=>{ho.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function ps(e,t){return new hs({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const ms=d("ZodPipe",(e,t)=>{po.init(e,t),G.init(e,t),e.in=t.in,e.out=t.out});function st(e,t){return new ms({type:"pipe",in:e,out:t})}const _s=d("ZodReadonly",(e,t)=>{mo.init(e,t),G.init(e,t),e.unwrap=()=>e._zod.def.innerType});function gs(e){return new _s({type:"readonly",innerType:e})}const vs=d("ZodCustom",(e,t)=>{_o.init(e,t),G.init(e,t)});function bs(e,t={}){return ai(vs,e,t)}function ks(e){return ui(e)}function on(e,t){return st(Qt(e),t)}const sn=e=>{if(e==null||e==="")return null;if(typeof e=="number")return e;if(typeof e=="string"){let t=e.trim();if(t==="-"||t==="")return null;if(t=t.replace(/[R$\s%]/g,""),t.includes(",")&&t.includes(".")){const r=t.lastIndexOf("."),o=t.lastIndexOf(",");r<o?t=t.replace(/\./g,"").replace(",","."):t=t.replace(/,/g,"")}else t.includes(",")&&(t=t.replace(",","."));const n=parseFloat(t);return isNaN(n)?null:n}return null},K=on(sn,Jt().nullable()),ws=on(e=>{const t=sn(e);return t!==null?t:typeof e=="string"&&e.trim()!==""?e:null},Xt([Jt(),L()]).nullable()),ys=ts({"Disparado?":L().optional(),Jornada:L().optional(),"Activity name / Taxonomia":L().min(1,"Activity Name  obrigatrio"),Canal:L().optional(),"Data de Disparo":L().min(1,"Data de Disparo  obrigatria"),"Data Fim":L().optional(),Safra:L().optional(),BU:L().transform(e=>e.toUpperCase().trim()),Parceiro:L().optional(),SIGLA:L().optional(),Segmento:L().optional(),"SIGLA.1":L().optional(),Subgrupos:L().optional(),"Base Total":K,"Base Acionvel":K,"% Otimizao de base":K,"Etapa de aquisio":L().optional(),"Ordem de disparo":K,"Perfil de Crdito":L().optional(),Produto:L().optional(),Oferta:L().optional(),Promocional:L().optional(),"SIGLA.2":L().optional(),"Oferta 2":L().optional(),"Promocional 2":L().optional(),"Custo Unitrio Oferta":K,"Custo Total da Oferta":K,"Custo unitrio do canal":K,"Custo total canal":K,"Taxa de Entrega":K,"Taxa de Abertura":K,"Taxa de Clique":K,"Taxa de Proposta":K,"Taxa de Aprovao":K,"Taxa de Finalizao":K,"Taxa de Converso":K,"Custo Total Campanha":K,CAC:K,"Cartes Gerados":ws,Aprovados:K,Propostas:K}).passthrough(),Ie=e=>{if(!e)return null;try{const t=e.toString().trim();if(t==="#DIV/0!"||t==="#N/A"||t==="#REF!"||t==="#VALUE!"||t==="")return null;if(typeof e=="string"&&e.includes("%")){const r=parseFloat(t.replace("%",""));return isNaN(r)?null:r/100}if(typeof e=="number")return e>=0&&e<=1?e:e>1&&e<=100||e>100?e/100:e;const n=parseFloat(t);return isNaN(n)?null:n>=0&&n<=1?n:n>1&&n<=100||n>100?n/100:n}catch{return null}},an=e=>{if(!e)return null;try{const t=e.toString().trim();if(t==="#DIV/0!"||t==="#N/A"||t==="#REF!"||t==="#VALUE!"||t==="")return null;if(typeof e=="number")return isNaN(e)?null:e;let n=t.replace("R$","").trim();n=n.replace(/[^0-9.,-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(",",".");const r=parseFloat(n);return isNaN(r)?null:r}catch{return null}},Ae=e=>{if(!e)return null;try{const t=e.toString().trim();if(t==="#DIV/0!"||t==="#N/A"||t==="#REF!"||t==="#VALUE!")return null;if(typeof e=="number")return isNaN(e)?null:e;let n=t.replace("%","").trim();n=n.replace(/[^0-9.,-]/g,"").replace(/\.(?=\d{3}(\D|$))/g,"").replace(",",".");const r=parseFloat(n);return isNaN(r)?null:r}catch{return null}},zs=e=>{if(!e)return null;try{if(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))&&!e.includes("/")&&!e.includes("-")){const s=Number(e),f=Math.floor(s-25569)*86400,l=new Date(f*1e3),p=s-Math.floor(s)+1e-7,k=Math.floor(86400*p),b=k%60,Z=Math.floor(k/60)%60,S=Math.floor(k/(60*60));return new Date(l.getFullYear(),l.getMonth(),l.getDate(),S,Z,b)}const t=e.toString().trim();if(t.includes("/")){const s=t.split("/");if(s.length===3){const c=parseInt(s[0],10),f=parseInt(s[1],10);let l=parseInt(s[2],10);l<100&&(l+=2e3);let p=c,k=f,b=new Date(l,k-1,p);if(b.getFullYear()===l&&b.getMonth()===k-1&&b.getDate()===p||(p=f,k=c,b=new Date(l,k-1,p),b.getFullYear()===l&&b.getMonth()===k-1&&b.getDate()===p))return b}}if(t.includes("-")){const s=t.split("-");if(s.length>=3&&!isNaN(parseInt(s[1]))){const c=parseInt(s[0],10),f=parseInt(s[1],10),l=s[2].split("T")[0].split(" ")[0],p=parseInt(l,10);if(!isNaN(c)&&!isNaN(f)&&!isNaN(p))return new Date(c,f-1,p)}}const n={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},r=t.toLowerCase().match(/(\d{1,2})[\s\-\/de]+([a-z]+)[\s\-\/de]+(\d{2,4})/);if(r){const s=parseInt(r[1],10),c=r[2],f=Object.keys(n).find(p=>c.includes(p)||p.includes(c));let l=parseInt(r[3],10);if(l<100&&(l+=2e3),f!==void 0){const p=n[f];return new Date(l,p,s)}}let o=t;o.endsWith("Z")&&(o=o.slice(0,-1));const i=new Date(o);return isNaN(i.getTime())?null:i}catch{return null}},Es=e=>{if(!e)return null;const t=e.toString().trim().toLowerCase(),n={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11},r=Object.keys(n).find(f=>t.includes(f));if(!r)return null;const o=t.match(/(20\d{2}|\d{2})/);if(!o)return null;let i=parseInt(o[1],10);i<100&&(i=2e3+i);const s=n[r],c=String(s+1).padStart(2,"0");return`${i}-${c}`};self.onmessage=e=>{const{type:t,fileContent:n}=e.data;try{switch(t){case"PARSE_B2C_CSV":Zs(n);break;case"PARSE_FRAMEWORK_CSV":$s(n);break;default:throw new Error(`Unknown message type: ${t}`)}}catch(r){self.postMessage({type:"ERROR",error:r.message})}};const un=e=>e.trim().toLowerCase().replace(/[^a-z0-9\s]/g,"").replace(/\s+/g," ").trim(),cn=(e,t)=>{const n=un(t);return e.find(r=>un(r)===n)||null},$s=e=>{ct.parse(e,{header:!0,skipEmptyLines:!0,complete:t=>{try{const n=t.data;if(n.length===0){self.postMessage({type:"ERROR",error:"Arquivo CSV vazio"});return}const r=Object.keys(n[0]||{}),o={},i=["Activity name / Taxonomia","Data de Disparo","BU","Canal","Segmento","Jornada","Base Total","Base Acionvel","Taxa de Entrega","Propostas","Taxa de Proposta","Aprovados","Taxa de Aprovao","Cartes Gerados","Taxa de Finalizao","Taxa de Converso","Taxa de Abertura","CAC","Custo Total Campanha"],s=(b,Z=[])=>{const S=cn(r,b);if(S)return S;for(const re of Z){const z=cn(r,re);if(z)return z}return null};o["Activity name / Taxonomia"]=s("Activity name / Taxonomia"),o["Data de Disparo"]=s("Data de Disparo"),o.BU=s("BU"),o.Canal=s("Canal"),o.Segmento=s("Segmento"),o.Jornada=s("Jornada"),o.Parceiro=s("Parceiro"),o.Safra=s("Safra",["Ciclo","Mes","Ms"]),o.Oferta=s("Oferta",["Tipo de Oferta","Tipo Oferta"]),o["Ordem de disparo"]=s("Ordem de disparo",["Ordem","Step","Etapa"]),o["Disparado?"]=s("Disparado?",["Disparado","Status Disparo","Status","Envio","Enviado?","Foi disparado?","Disparo Realizado"]),o["Perfil de Crdito"]=s("Perfil de Crdito",["Perfil","Credit Profile"]),o["Base Total"]=s("Base Total",["Base Enviada"]),o["Base Acionvel"]=s("Base Acionvel",["Base Entregue","Base Acionavel"]),o["Taxa de Entrega"]=s("Taxa de Entrega"),o.Propostas=s("Propostas"),o["Taxa de Proposta"]=s("Taxa de Proposta"),o.Aprovados=s("Aprovados"),o["Taxa de Aprovao"]=s("Taxa de Aprovao"),o["Cartes Gerados"]=s("Cartes Gerados",["Emisses","Cartoes Gerados","Cartes","Contas Abertas","Contas"]),o["Taxa de Finalizao"]=s("Taxa de Finalizao"),o["Taxa de Converso"]=s("Taxa de Converso"),o["Taxa de Abertura"]=s("Taxa de Abertura"),o.CAC=s("CAC"),o["Custo Total Campanha"]=s("Custo Total Campanha");const c=i.filter(b=>!o[b]);if(c.length>0){const Z=["Activity name / Taxonomia","Data de Disparo","BU"].filter(S=>c.includes(S));if(Z.length>0)throw new Error(`Colunas obrigatrias ausentes: ${Z.join(", ")}`)}const f=[],l=[];let p=0;const k=[];if(n.forEach((b,Z)=>{const S={};Object.entries(o).forEach(([ue,R])=>{R&&(S[ue]=b[R])});const re=ys.safeParse(S);let z;if(re.success)z=re.data;else{const ue=`Linha ${Z+2}: ${re.error.issues.map(R=>`${R.path.join(".")}: ${R.message}`).join(", ")}`;if(!S["Activity name / Taxonomia"]||!S["Data de Disparo"]){k.length<5&&k.push(ue);return}z=S}f.push(z);const be=zs(z["Data de Disparo"]);if(!be){k.length<5&&k.push(`Linha ${Z+2}: Data invlida`);return}const De=String(z.BU).trim().toUpperCase()==="PLURIX"?"Plurix":z.BU;let oe=z.Jornada||"Desconhecido";const ee=z["Perfil de Crdito"];ee&&String(ee).toLowerCase().includes("serasa api integrado")&&(oe="Carrinho Abandonado");const fe={id:z["Activity name / Taxonomia"],dataDisparo:be,canal:z.Canal||"Desconhecido",bu:De,segmento:z.Segmento||"Desconhecido",jornada:oe,parceiro:z.Parceiro||"Desconhecido",ordemDisparo:typeof z["Ordem de disparo"]=="number"?z["Ordem de disparo"]:void 0,oferta:z.Oferta,safraKey:Es(z.Safra)||void 0,kpis:{baseEnviada:Ae(z["Base Total"]),baseEntregue:Ae(z["Base Acionvel"]),taxaEntrega:Ie(z["Taxa de Entrega"]),propostas:Ae(z.Propostas),taxaPropostas:Ie(z["Taxa de Proposta"]),aprovados:Ae(z.Aprovados),taxaAprovacao:Ie(z["Taxa de Aprovao"]),emissoes:Ae(z["Cartes Gerados"]),taxaFinalizacao:Ie(z["Taxa de Finalizao"]),taxaConversao:Ie(z["Taxa de Converso"]),taxaAbertura:Ie(z["Taxa de Abertura"]),cartoes:Ae(z["Cartes Gerados"]),cac:an(z.CAC),custoTotal:an(z["Custo Total Campanha"])},raw:z};l.push(fe),p++}),p===0)throw new Error(`Nenhuma linha vlida encontrada. Erros: ${k.join("; ")}`);self.postMessage({type:"SUCCESS",data:{rows:f,activities:l},warnings:k})}catch(n){self.postMessage({type:"ERROR",error:n.message})}},error:t=>{self.postMessage({type:"ERROR",error:t.message})}})},Zs=e=>{ct.parse(e,{header:!0,skipEmptyLines:!0,complete:t=>{const n=[],r=[];if(t.errors.length>0&&t.errors.forEach(o=>r.push(`CSV Error: ${o.message}`)),!t.data||t.data.length===0){self.postMessage({type:"ERROR",error:"Arquivo vazio ou invlido."});return}if(t.data.forEach(o=>{const i=o.Data||o.data;if(!i)return;const s=c=>{if(typeof c=="number")return c;if(!c)return 0;let f=c.replace(/[R$\s%]/g,"");return f=f.replace(/\./g,""),f=f.replace(",","."),parseFloat(f)||0};n.push({data:i,propostas_b2c_total:s(o.Propostas_B2C_Total||o.propostas_b2c_total),emissoes_b2c_total:s(o.Emissoes_B2C_Total||o.emissoes_b2c_total),percentual_conversao_b2c:s(o["%_Conversao_B2C"]||o.percentual_conversao_b2c||o["%_conversao_b2c"]),observacoes:o.Observacoes||o.observacoes})}),n.length===0){self.postMessage({type:"ERROR",error:"Nenhuma linha vlida encontrada."});return}self.postMessage({type:"SUCCESS_B2C",data:n,warnings:r})},error:t=>{self.postMessage({type:"ERROR",error:t.message})}})}})();
