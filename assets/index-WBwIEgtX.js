var q7=Object.defineProperty;var Y7=(e,t,r)=>t in e?q7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var os=(e,t,r)=>Y7(e,typeof t!="symbol"?t+"":t,r);function X7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var Z7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function si(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O3={exports:{}},Ag={},D3={exports:{}},qe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0=Symbol.for("react.element"),J7=Symbol.for("react.portal"),Q7=Symbol.for("react.fragment"),eU=Symbol.for("react.strict_mode"),tU=Symbol.for("react.profiler"),rU=Symbol.for("react.provider"),nU=Symbol.for("react.context"),aU=Symbol.for("react.forward_ref"),sU=Symbol.for("react.suspense"),iU=Symbol.for("react.memo"),oU=Symbol.for("react.lazy"),sj=Symbol.iterator;function lU(e){return e===null||typeof e!="object"?null:(e=sj&&e[sj]||e["@@iterator"],typeof e=="function"?e:null)}var M3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I3=Object.assign,R3={};function ed(e,t,r){this.props=e,this.context=t,this.refs=R3,this.updater=r||M3}ed.prototype.isReactComponent={};ed.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ed.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F3(){}F3.prototype=ed.prototype;function p_(e,t,r){this.props=e,this.context=t,this.refs=R3,this.updater=r||M3}var m_=p_.prototype=new F3;m_.constructor=p_;I3(m_,ed.prototype);m_.isPureReactComponent=!0;var ij=Array.isArray,L3=Object.prototype.hasOwnProperty,v_={current:null},$3={key:!0,ref:!0,__self:!0,__source:!0};function B3(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)L3.call(t,n)&&!$3.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:V0,type:e,key:s,ref:i,props:a,_owner:v_.current}}function cU(e,t){return{$$typeof:V0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function g_(e){return typeof e=="object"&&e!==null&&e.$$typeof===V0}function uU(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var oj=/\/+/g;function jy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uU(""+e.key):t.toString(36)}function om(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case V0:case J7:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+jy(i,0):n,ij(a)?(r="",e!=null&&(r=e.replace(oj,"$&/")+"/"),om(a,t,r,"",function(c){return c})):a!=null&&(g_(a)&&(a=cU(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(oj,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",ij(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+jy(s,o);i+=om(s,t,r,l,a)}else if(l=lU(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+jy(s,o++),i+=om(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Yh(e,t,r){if(e==null)return e;var n=[],a=0;return om(e,n,"","",function(s){return t.call(r,s,a++)}),n}function dU(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ea={current:null},lm={transition:null},fU={ReactCurrentDispatcher:ea,ReactCurrentBatchConfig:lm,ReactCurrentOwner:v_};function z3(){throw Error("act(...) is not supported in production builds of React.")}qe.Children={map:Yh,forEach:function(e,t,r){Yh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Yh(e,function(){t++}),t},toArray:function(e){return Yh(e,function(t){return t})||[]},only:function(e){if(!g_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};qe.Component=ed;qe.Fragment=Q7;qe.Profiler=tU;qe.PureComponent=p_;qe.StrictMode=eU;qe.Suspense=sU;qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fU;qe.act=z3;qe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=I3({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=v_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)L3.call(t,l)&&!$3.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:V0,type:e.type,key:a,ref:s,props:n,_owner:i}};qe.createContext=function(e){return e={$$typeof:nU,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rU,_context:e},e.Consumer=e};qe.createElement=B3;qe.createFactory=function(e){var t=B3.bind(null,e);return t.type=e,t};qe.createRef=function(){return{current:null}};qe.forwardRef=function(e){return{$$typeof:aU,render:e}};qe.isValidElement=g_;qe.lazy=function(e){return{$$typeof:oU,_payload:{_status:-1,_result:e},_init:dU}};qe.memo=function(e,t){return{$$typeof:iU,type:e,compare:t===void 0?null:t}};qe.startTransition=function(e){var t=lm.transition;lm.transition={};try{e()}finally{lm.transition=t}};qe.unstable_act=z3;qe.useCallback=function(e,t){return ea.current.useCallback(e,t)};qe.useContext=function(e){return ea.current.useContext(e)};qe.useDebugValue=function(){};qe.useDeferredValue=function(e){return ea.current.useDeferredValue(e)};qe.useEffect=function(e,t){return ea.current.useEffect(e,t)};qe.useId=function(){return ea.current.useId()};qe.useImperativeHandle=function(e,t,r){return ea.current.useImperativeHandle(e,t,r)};qe.useInsertionEffect=function(e,t){return ea.current.useInsertionEffect(e,t)};qe.useLayoutEffect=function(e,t){return ea.current.useLayoutEffect(e,t)};qe.useMemo=function(e,t){return ea.current.useMemo(e,t)};qe.useReducer=function(e,t,r){return ea.current.useReducer(e,t,r)};qe.useRef=function(e){return ea.current.useRef(e)};qe.useState=function(e){return ea.current.useState(e)};qe.useSyncExternalStore=function(e,t,r){return ea.current.useSyncExternalStore(e,t,r)};qe.useTransition=function(){return ea.current.useTransition()};qe.version="18.3.1";D3.exports=qe;var w=D3.exports;const Wa=si(w),hU=X7({__proto__:null,default:Wa},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pU=w,mU=Symbol.for("react.element"),vU=Symbol.for("react.fragment"),gU=Object.prototype.hasOwnProperty,xU=pU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yU={key:!0,ref:!0,__self:!0,__source:!0};function U3(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)gU.call(t,n)&&!yU.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:mU,type:e,key:s,ref:i,props:a,_owner:xU.current}}Ag.Fragment=vU;Ag.jsx=U3;Ag.jsxs=U3;O3.exports=Ag;var u=O3.exports,bb={},V3={exports:{}},Na={},W3={exports:{}},H3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Y,I){var te=Y.length;Y.push(I);e:for(;0<te;){var J=te-1>>>1,D=Y[J];if(0<a(D,I))Y[J]=I,Y[te]=D,te=J;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var I=Y[0],te=Y.pop();if(te!==I){Y[0]=te;e:for(var J=0,D=Y.length,R=D>>>1;J<R;){var B=2*(J+1)-1,H=Y[B],ee=B+1,ue=Y[ee];if(0>a(H,te))ee<D&&0>a(ue,H)?(Y[J]=ue,Y[ee]=te,J=ee):(Y[J]=H,Y[B]=te,J=B);else if(ee<D&&0>a(ue,te))Y[J]=ue,Y[ee]=te,J=ee;else break e}}return I}function a(Y,I){var te=Y.sortIndex-I.sortIndex;return te!==0?te:Y.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(Y){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=Y)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function _(Y){if(v=!1,y(Y),!m)if(r(l)!==null)m=!0,Z(k);else{var I=r(c);I!==null&&G(_,I.startTime-Y)}}function k(Y,I){m=!1,v&&(v=!1,x(C),C=-1),p=!0;var te=h;try{for(y(I),f=r(l);f!==null&&(!(f.expirationTime>I)||Y&&!N());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var D=J(f.expirationTime<=I);I=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(l)&&n(l),y(I)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var B=r(c);B!==null&&G(_,B.startTime-I),R=!1}return R}finally{f=null,h=te,p=!1}}var S=!1,E=null,C=-1,j=5,T=-1;function N(){return!(e.unstable_now()-T<j)}function A(){if(E!==null){var Y=e.unstable_now();T=Y;var I=!0;try{I=E(!0,Y)}finally{I?P():(S=!1,E=null)}}else S=!1}var P;if(typeof b=="function")P=function(){b(A)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=A,P=function(){z.postMessage(null)}}else P=function(){g(A,0)};function Z(Y){E=Y,S||(S=!0,P())}function G(Y,I){C=g(function(){Y(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,Z(k))},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(Y){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var te=h;h=I;try{return Y()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Y,I){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var te=h;h=Y;try{return I()}finally{h=te}},e.unstable_scheduleCallback=function(Y,I,te){var J=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?J+te:J):te=J,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=te+D,Y={id:d++,callback:I,priorityLevel:Y,startTime:te,expirationTime:D,sortIndex:-1},te>J?(Y.sortIndex=te,t(c,Y),r(l)===null&&Y===r(c)&&(v?(x(C),C=-1):v=!0,G(_,te-J))):(Y.sortIndex=D,t(l,Y),m||p||(m=!0,Z(k))),Y},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(Y){var I=h;return function(){var te=h;h=I;try{return Y.apply(this,arguments)}finally{h=te}}}})(H3);W3.exports=H3;var bU=W3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wU=w,Ca=bU;function ve(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var K3=new Set,Rf={};function cc(e,t){Nu(e,t),Nu(e+"Capture",t)}function Nu(e,t){for(Rf[e]=t,e=0;e<t.length;e++)K3.add(t[e])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wb=Object.prototype.hasOwnProperty,_U=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lj={},cj={};function kU(e){return wb.call(cj,e)?!0:wb.call(lj,e)?!1:_U.test(e)?cj[e]=!0:(lj[e]=!0,!1)}function SU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function EU(e,t,r,n){if(t===null||typeof t>"u"||SU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ta(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yn[e]=new ta(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yn[t]=new ta(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yn[e]=new ta(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yn[e]=new ta(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yn[e]=new ta(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yn[e]=new ta(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yn[e]=new ta(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yn[e]=new ta(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yn[e]=new ta(e,5,!1,e.toLowerCase(),null,!1,!1)});var x_=/[\-:]([a-z])/g;function y_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x_,y_);yn[t]=new ta(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x_,y_);yn[t]=new ta(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x_,y_);yn[t]=new ta(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yn[e]=new ta(e,1,!1,e.toLowerCase(),null,!1,!1)});yn.xlinkHref=new ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yn[e]=new ta(e,1,!1,e.toLowerCase(),null,!0,!0)});function b_(e,t,r,n){var a=yn.hasOwnProperty(t)?yn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(EU(t,r,a,n)&&(r=null),n||a===null?kU(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Yi=wU.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xh=Symbol.for("react.element"),Hc=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),G3=Symbol.for("react.provider"),q3=Symbol.for("react.context"),__=Symbol.for("react.forward_ref"),kb=Symbol.for("react.suspense"),Sb=Symbol.for("react.suspense_list"),k_=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),Y3=Symbol.for("react.offscreen"),uj=Symbol.iterator;function Td(e){return e===null||typeof e!="object"?null:(e=uj&&e[uj]||e["@@iterator"],typeof e=="function"?e:null)}var nr=Object.assign,Ty;function Yd(e){if(Ty===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ty=t&&t[1]||""}return`
`+Ty+e}var Ay=!1;function Ny(e,t){if(!e||Ay)return"";Ay=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{Ay=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Yd(e):""}function CU(e){switch(e.tag){case 5:return Yd(e.type);case 16:return Yd("Lazy");case 13:return Yd("Suspense");case 19:return Yd("SuspenseList");case 0:case 2:case 15:return e=Ny(e.type,!1),e;case 11:return e=Ny(e.type.render,!1),e;case 1:return e=Ny(e.type,!0),e;default:return""}}function Eb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kc:return"Fragment";case Hc:return"Portal";case _b:return"Profiler";case w_:return"StrictMode";case kb:return"Suspense";case Sb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case q3:return(e.displayName||"Context")+".Consumer";case G3:return(e._context.displayName||"Context")+".Provider";case __:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case k_:return t=e.displayName||null,t!==null?t:Eb(e.type)||"Memo";case oo:t=e._payload,e=e._init;try{return Eb(e(t))}catch{}}return null}function jU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eb(t);case 8:return t===w_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function X3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function TU(e){var t=X3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zh(e){e._valueTracker||(e._valueTracker=TU(e))}function Z3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=X3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Pm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cb(e,t){var r=t.checked;return nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function dj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J3(e,t){t=t.checked,t!=null&&b_(e,"checked",t,!1)}function jb(e,t){J3(e,t);var r=Fo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tb(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tb(e,t.type,Fo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tb(e,t,r){(t!=="number"||Pm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Xd=Array.isArray;function hu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ab(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ve(91));return nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ve(92));if(Xd(r)){if(1<r.length)throw Error(ve(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fo(r)}}function Q3(e,t){var r=Fo(t.value),n=Fo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function pj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function eM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?eM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jh,tM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jh=Jh||document.createElement("div"),Jh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ff(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var cf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AU=["Webkit","ms","Moz","O"];Object.keys(cf).forEach(function(e){AU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cf[t]=cf[e]})});function rM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||cf.hasOwnProperty(e)&&cf[e]?(""+t).trim():t+"px"}function nM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=rM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var NU=nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pb(e,t){if(t){if(NU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ve(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ve(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ve(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ve(62))}}function Ob(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Db=null;function S_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mb=null,pu=null,mu=null;function mj(e){if(e=K0(e)){if(typeof Mb!="function")throw Error(ve(280));var t=e.stateNode;t&&(t=Mg(t),Mb(e.stateNode,e.type,t))}}function aM(e){pu?mu?mu.push(e):mu=[e]:pu=e}function sM(){if(pu){var e=pu,t=mu;if(mu=pu=null,mj(e),t)for(e=0;e<t.length;e++)mj(t[e])}}function iM(e,t){return e(t)}function oM(){}var Py=!1;function lM(e,t,r){if(Py)return e(t,r);Py=!0;try{return iM(e,t,r)}finally{Py=!1,(pu!==null||mu!==null)&&(oM(),sM())}}function Lf(e,t){var r=e.stateNode;if(r===null)return null;var n=Mg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ve(231,t,typeof r));return r}var Ib=!1;if(Mi)try{var Ad={};Object.defineProperty(Ad,"passive",{get:function(){Ib=!0}}),window.addEventListener("test",Ad,Ad),window.removeEventListener("test",Ad,Ad)}catch{Ib=!1}function PU(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(d){this.onError(d)}}var uf=!1,Om=null,Dm=!1,Rb=null,OU={onError:function(e){uf=!0,Om=e}};function DU(e,t,r,n,a,s,i,o,l){uf=!1,Om=null,PU.apply(OU,arguments)}function MU(e,t,r,n,a,s,i,o,l){if(DU.apply(this,arguments),uf){if(uf){var c=Om;uf=!1,Om=null}else throw Error(ve(198));Dm||(Dm=!0,Rb=c)}}function uc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function cM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vj(e){if(uc(e)!==e)throw Error(ve(188))}function IU(e){var t=e.alternate;if(!t){if(t=uc(e),t===null)throw Error(ve(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return vj(a),e;if(s===n)return vj(a),t;s=s.sibling}throw Error(ve(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(ve(189))}}if(r.alternate!==n)throw Error(ve(190))}if(r.tag!==3)throw Error(ve(188));return r.stateNode.current===r?e:t}function uM(e){return e=IU(e),e!==null?dM(e):null}function dM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dM(e);if(t!==null)return t;e=e.sibling}return null}var fM=Ca.unstable_scheduleCallback,gj=Ca.unstable_cancelCallback,RU=Ca.unstable_shouldYield,FU=Ca.unstable_requestPaint,yr=Ca.unstable_now,LU=Ca.unstable_getCurrentPriorityLevel,E_=Ca.unstable_ImmediatePriority,hM=Ca.unstable_UserBlockingPriority,Mm=Ca.unstable_NormalPriority,$U=Ca.unstable_LowPriority,pM=Ca.unstable_IdlePriority,Ng=null,qs=null;function BU(e){if(qs&&typeof qs.onCommitFiberRoot=="function")try{qs.onCommitFiberRoot(Ng,e,void 0,(e.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:VU,zU=Math.log,UU=Math.LN2;function VU(e){return e>>>=0,e===0?32:31-(zU(e)/UU|0)|0}var Qh=64,ep=4194304;function Zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Im(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Zd(o):(s&=i,s!==0&&(n=Zd(s)))}else i=r&~a,i!==0?n=Zd(i):s!==0&&(n=Zd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cs(t),a=1<<r,n|=e[r],t&=~a;return n}function WU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-Cs(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=WU(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Fb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mM(){var e=Qh;return Qh<<=1,!(Qh&4194240)&&(Qh=64),e}function Oy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function W0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cs(t),e[t]=r}function KU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Cs(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function C_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var yt=0;function vM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gM,j_,xM,yM,bM,Lb=!1,tp=[],Eo=null,Co=null,jo=null,$f=new Map,Bf=new Map,ho=[],GU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xj(e,t){switch(e){case"focusin":case"focusout":Eo=null;break;case"dragenter":case"dragleave":Co=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":$f.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bf.delete(t.pointerId)}}function Nd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=K0(t),t!==null&&j_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function qU(e,t,r,n,a){switch(t){case"focusin":return Eo=Nd(Eo,e,t,r,n,a),!0;case"dragenter":return Co=Nd(Co,e,t,r,n,a),!0;case"mouseover":return jo=Nd(jo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return $f.set(s,Nd($f.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Bf.set(s,Nd(Bf.get(s)||null,e,t,r,n,a)),!0}return!1}function wM(e){var t=kl(e.target);if(t!==null){var r=uc(t);if(r!==null){if(t=r.tag,t===13){if(t=cM(r),t!==null){e.blockedOn=t,bM(e.priority,function(){xM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=$b(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Db=n,r.target.dispatchEvent(n),Db=null}else return t=K0(r),t!==null&&j_(t),e.blockedOn=r,!1;t.shift()}return!0}function yj(e,t,r){cm(e)&&r.delete(t)}function YU(){Lb=!1,Eo!==null&&cm(Eo)&&(Eo=null),Co!==null&&cm(Co)&&(Co=null),jo!==null&&cm(jo)&&(jo=null),$f.forEach(yj),Bf.forEach(yj)}function Pd(e,t){e.blockedOn===t&&(e.blockedOn=null,Lb||(Lb=!0,Ca.unstable_scheduleCallback(Ca.unstable_NormalPriority,YU)))}function zf(e){function t(a){return Pd(a,e)}if(0<tp.length){Pd(tp[0],e);for(var r=1;r<tp.length;r++){var n=tp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Eo!==null&&Pd(Eo,e),Co!==null&&Pd(Co,e),jo!==null&&Pd(jo,e),$f.forEach(t),Bf.forEach(t),r=0;r<ho.length;r++)n=ho[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ho.length&&(r=ho[0],r.blockedOn===null);)wM(r),r.blockedOn===null&&ho.shift()}var vu=Yi.ReactCurrentBatchConfig,Rm=!0;function XU(e,t,r,n){var a=yt,s=vu.transition;vu.transition=null;try{yt=1,T_(e,t,r,n)}finally{yt=a,vu.transition=s}}function ZU(e,t,r,n){var a=yt,s=vu.transition;vu.transition=null;try{yt=4,T_(e,t,r,n)}finally{yt=a,vu.transition=s}}function T_(e,t,r,n){if(Rm){var a=$b(e,t,r,n);if(a===null)Uy(e,t,n,Fm,r),xj(e,n);else if(qU(a,e,t,r,n))n.stopPropagation();else if(xj(e,n),t&4&&-1<GU.indexOf(e)){for(;a!==null;){var s=K0(a);if(s!==null&&gM(s),s=$b(e,t,r,n),s===null&&Uy(e,t,n,Fm,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Uy(e,t,n,null,r)}}var Fm=null;function $b(e,t,r,n){if(Fm=null,e=S_(n),e=kl(e),e!==null)if(t=uc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=cM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fm=e,null}function _M(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LU()){case E_:return 1;case hM:return 4;case Mm:case $U:return 16;case pM:return 536870912;default:return 16}default:return 16}}var xo=null,A_=null,um=null;function kM(){if(um)return um;var e,t=A_,r=t.length,n,a="value"in xo?xo.value:xo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return um=a.slice(e,1<n?1-n:void 0)}function dm(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rp(){return!0}function bj(){return!1}function Pa(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?rp:bj,this.isPropagationStopped=bj,this}return nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rp)},persist:function(){},isPersistent:rp}),t}var td={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},N_=Pa(td),H0=nr({},td,{view:0,detail:0}),JU=Pa(H0),Dy,My,Od,Pg=nr({},H0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:P_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Od&&(Od&&e.type==="mousemove"?(Dy=e.screenX-Od.screenX,My=e.screenY-Od.screenY):My=Dy=0,Od=e),Dy)},movementY:function(e){return"movementY"in e?e.movementY:My}}),wj=Pa(Pg),QU=nr({},Pg,{dataTransfer:0}),eV=Pa(QU),tV=nr({},H0,{relatedTarget:0}),Iy=Pa(tV),rV=nr({},td,{animationName:0,elapsedTime:0,pseudoElement:0}),nV=Pa(rV),aV=nr({},td,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sV=Pa(aV),iV=nr({},td,{data:0}),_j=Pa(iV),oV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uV(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cV[e])?!!t[e]:!1}function P_(){return uV}var dV=nr({},H0,{key:function(e){if(e.key){var t=oV[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=dm(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lV[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:P_,charCode:function(e){return e.type==="keypress"?dm(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?dm(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fV=Pa(dV),hV=nr({},Pg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kj=Pa(hV),pV=nr({},H0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:P_}),mV=Pa(pV),vV=nr({},td,{propertyName:0,elapsedTime:0,pseudoElement:0}),gV=Pa(vV),xV=nr({},Pg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),yV=Pa(xV),bV=[9,13,27,32],O_=Mi&&"CompositionEvent"in window,df=null;Mi&&"documentMode"in document&&(df=document.documentMode);var wV=Mi&&"TextEvent"in window&&!df,SM=Mi&&(!O_||df&&8<df&&11>=df),Sj=" ",Ej=!1;function EM(e,t){switch(e){case"keyup":return bV.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gc=!1;function _V(e,t){switch(e){case"compositionend":return CM(t);case"keypress":return t.which!==32?null:(Ej=!0,Sj);case"textInput":return e=t.data,e===Sj&&Ej?null:e;default:return null}}function kV(e,t){if(Gc)return e==="compositionend"||!O_&&EM(e,t)?(e=kM(),um=A_=xo=null,Gc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return SM&&t.locale!=="ko"?null:t.data;default:return null}}var SV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!SV[e.type]:t==="textarea"}function jM(e,t,r,n){aM(n),t=Lm(t,"onChange"),0<t.length&&(r=new N_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ff=null,Uf=null;function EV(e){LM(e,0)}function Og(e){var t=Xc(e);if(Z3(t))return e}function CV(e,t){if(e==="change")return t}var TM=!1;if(Mi){var Ry;if(Mi){var Fy="oninput"in document;if(!Fy){var jj=document.createElement("div");jj.setAttribute("oninput","return;"),Fy=typeof jj.oninput=="function"}Ry=Fy}else Ry=!1;TM=Ry&&(!document.documentMode||9<document.documentMode)}function Tj(){ff&&(ff.detachEvent("onpropertychange",AM),Uf=ff=null)}function AM(e){if(e.propertyName==="value"&&Og(Uf)){var t=[];jM(t,Uf,e,S_(e)),lM(EV,t)}}function jV(e,t,r){e==="focusin"?(Tj(),ff=t,Uf=r,ff.attachEvent("onpropertychange",AM)):e==="focusout"&&Tj()}function TV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Og(Uf)}function AV(e,t){if(e==="click")return Og(t)}function NV(e,t){if(e==="input"||e==="change")return Og(t)}function PV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ps=typeof Object.is=="function"?Object.is:PV;function Vf(e,t){if(Ps(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!wb.call(t,a)||!Ps(e[a],t[a]))return!1}return!0}function Aj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Nj(e,t){var r=Aj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Aj(r)}}function NM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?NM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function PM(){for(var e=window,t=Pm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Pm(e.document)}return t}function D_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function OV(e){var t=PM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&NM(r.ownerDocument.documentElement,r)){if(n!==null&&D_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Nj(r,s);var i=Nj(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DV=Mi&&"documentMode"in document&&11>=document.documentMode,qc=null,Bb=null,hf=null,zb=!1;function Pj(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zb||qc==null||qc!==Pm(n)||(n=qc,"selectionStart"in n&&D_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hf&&Vf(hf,n)||(hf=n,n=Lm(Bb,"onSelect"),0<n.length&&(t=new N_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=qc)))}function np(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Yc={animationend:np("Animation","AnimationEnd"),animationiteration:np("Animation","AnimationIteration"),animationstart:np("Animation","AnimationStart"),transitionend:np("Transition","TransitionEnd")},Ly={},OM={};Mi&&(OM=document.createElement("div").style,"AnimationEvent"in window||(delete Yc.animationend.animation,delete Yc.animationiteration.animation,delete Yc.animationstart.animation),"TransitionEvent"in window||delete Yc.transitionend.transition);function Dg(e){if(Ly[e])return Ly[e];if(!Yc[e])return e;var t=Yc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OM)return Ly[e]=t[r];return e}var DM=Dg("animationend"),MM=Dg("animationiteration"),IM=Dg("animationstart"),RM=Dg("transitionend"),FM=new Map,Oj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(e,t){FM.set(e,t),cc(t,[e])}for(var $y=0;$y<Oj.length;$y++){var By=Oj[$y],MV=By.toLowerCase(),IV=By[0].toUpperCase()+By.slice(1);qo(MV,"on"+IV)}qo(DM,"onAnimationEnd");qo(MM,"onAnimationIteration");qo(IM,"onAnimationStart");qo("dblclick","onDoubleClick");qo("focusin","onFocus");qo("focusout","onBlur");qo(RM,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jd));function Dj(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,MU(n,t,void 0,e),e.currentTarget=null}function LM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;Dj(a,o,c),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;Dj(a,o,c),s=l}}}if(Dm)throw e=Rb,Dm=!1,Rb=null,e}function It(e,t){var r=t[Kb];r===void 0&&(r=t[Kb]=new Set);var n=e+"__bubble";r.has(n)||($M(t,e,2,!1),r.add(n))}function zy(e,t,r){var n=0;t&&(n|=4),$M(r,e,n,t)}var ap="_reactListening"+Math.random().toString(36).slice(2);function Wf(e){if(!e[ap]){e[ap]=!0,K3.forEach(function(r){r!=="selectionchange"&&(RV.has(r)||zy(r,!1,e),zy(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ap]||(t[ap]=!0,zy("selectionchange",!1,t))}}function $M(e,t,r,n){switch(_M(t)){case 1:var a=XU;break;case 4:a=ZU;break;default:a=T_}r=a.bind(null,t,r,e),a=void 0,!Ib||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Uy(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=kl(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}lM(function(){var c=s,d=S_(r),f=[];e:{var h=FM.get(e);if(h!==void 0){var p=N_,m=e;switch(e){case"keypress":if(dm(r)===0)break e;case"keydown":case"keyup":p=fV;break;case"focusin":m="focus",p=Iy;break;case"focusout":m="blur",p=Iy;break;case"beforeblur":case"afterblur":p=Iy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=eV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=mV;break;case DM:case MM:case IM:p=nV;break;case RM:p=gV;break;case"scroll":p=JU;break;case"wheel":p=yV;break;case"copy":case"cut":case"paste":p=sV;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=kj}var v=(t&4)!==0,g=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,y;b!==null;){y=b;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=Lf(b,x),_!=null&&v.push(Hf(b,_,y)))),g)break;b=b.return}0<v.length&&(h=new p(h,m,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Db&&(m=r.relatedTarget||r.fromElement)&&(kl(m)||m[Ii]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?kl(m):null,m!==null&&(g=uc(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=wj,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=kj,_="onPointerLeave",x="onPointerEnter",b="pointer"),g=p==null?h:Xc(p),y=m==null?h:Xc(m),h=new v(_,b+"leave",p,r,d),h.target=g,h.relatedTarget=y,_=null,kl(d)===c&&(v=new v(x,b+"enter",m,r,d),v.target=y,v.relatedTarget=g,_=v),g=_,p&&m)t:{for(v=p,x=m,b=0,y=v;y;y=Ec(y))b++;for(y=0,_=x;_;_=Ec(_))y++;for(;0<b-y;)v=Ec(v),b--;for(;0<y-b;)x=Ec(x),y--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=Ec(v),x=Ec(x)}v=null}else v=null;p!==null&&Mj(f,h,p,v,!1),m!==null&&g!==null&&Mj(f,g,m,v,!0)}}e:{if(h=c?Xc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var k=CV;else if(Cj(h))if(TM)k=NV;else{k=TV;var S=jV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=AV);if(k&&(k=k(e,c))){jM(f,k,r,d);break e}S&&S(e,h,c),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tb(h,"number",h.value)}switch(S=c?Xc(c):window,e){case"focusin":(Cj(S)||S.contentEditable==="true")&&(qc=S,Bb=c,hf=null);break;case"focusout":hf=Bb=qc=null;break;case"mousedown":zb=!0;break;case"contextmenu":case"mouseup":case"dragend":zb=!1,Pj(f,r,d);break;case"selectionchange":if(DV)break;case"keydown":case"keyup":Pj(f,r,d)}var E;if(O_)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Gc?EM(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(SM&&r.locale!=="ko"&&(Gc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Gc&&(E=kM()):(xo=d,A_="value"in xo?xo.value:xo.textContent,Gc=!0)),S=Lm(c,C),0<S.length&&(C=new _j(C,e,null,r,d),f.push({event:C,listeners:S}),E?C.data=E:(E=CM(r),E!==null&&(C.data=E)))),(E=wV?_V(e,r):kV(e,r))&&(c=Lm(c,"onBeforeInput"),0<c.length&&(d=new _j("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:c}),d.data=E))}LM(f,t)})}function Hf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Lf(e,r),s!=null&&n.unshift(Hf(e,s,a)),s=Lf(e,t),s!=null&&n.push(Hf(e,s,a))),e=e.return}return n}function Ec(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mj(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Lf(r,s),l!=null&&i.unshift(Hf(r,l,o))):a||(l=Lf(r,s),l!=null&&i.push(Hf(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var FV=/\r\n?/g,LV=/\u0000|\uFFFD/g;function Ij(e){return(typeof e=="string"?e:""+e).replace(FV,`
`).replace(LV,"")}function sp(e,t,r){if(t=Ij(t),Ij(e)!==t&&r)throw Error(ve(425))}function $m(){}var Ub=null,Vb=null;function Wb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hb=typeof setTimeout=="function"?setTimeout:void 0,$V=typeof clearTimeout=="function"?clearTimeout:void 0,Rj=typeof Promise=="function"?Promise:void 0,BV=typeof queueMicrotask=="function"?queueMicrotask:typeof Rj<"u"?function(e){return Rj.resolve(null).then(e).catch(zV)}:Hb;function zV(e){setTimeout(function(){throw e})}function Vy(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),zf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);zf(t)}function To(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var rd=Math.random().toString(36).slice(2),zs="__reactFiber$"+rd,Kf="__reactProps$"+rd,Ii="__reactContainer$"+rd,Kb="__reactEvents$"+rd,UV="__reactListeners$"+rd,VV="__reactHandles$"+rd;function kl(e){var t=e[zs];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ii]||r[zs]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fj(e);e!==null;){if(r=e[zs])return r;e=Fj(e)}return t}e=r,r=e.parentNode}return null}function K0(e){return e=e[zs]||e[Ii],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ve(33))}function Mg(e){return e[Kf]||null}var Gb=[],Zc=-1;function Yo(e){return{current:e}}function Lt(e){0>Zc||(e.current=Gb[Zc],Gb[Zc]=null,Zc--)}function Pt(e,t){Zc++,Gb[Zc]=e.current,e.current=t}var Lo={},Rn=Yo(Lo),la=Yo(!1),Vl=Lo;function Pu(e,t){var r=e.type.contextTypes;if(!r)return Lo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ca(e){return e=e.childContextTypes,e!=null}function Bm(){Lt(la),Lt(Rn)}function Lj(e,t,r){if(Rn.current!==Lo)throw Error(ve(168));Pt(Rn,t),Pt(la,r)}function BM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(ve(108,jU(e)||"Unknown",a));return nr({},r,n)}function zm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lo,Vl=Rn.current,Pt(Rn,e),Pt(la,la.current),!0}function $j(e,t,r){var n=e.stateNode;if(!n)throw Error(ve(169));r?(e=BM(e,t,Vl),n.__reactInternalMemoizedMergedChildContext=e,Lt(la),Lt(Rn),Pt(Rn,e)):Lt(la),Pt(la,r)}var gi=null,Ig=!1,Wy=!1;function zM(e){gi===null?gi=[e]:gi.push(e)}function WV(e){Ig=!0,zM(e)}function Xo(){if(!Wy&&gi!==null){Wy=!0;var e=0,t=yt;try{var r=gi;for(yt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}gi=null,Ig=!1}catch(a){throw gi!==null&&(gi=gi.slice(e+1)),fM(E_,Xo),a}finally{yt=t,Wy=!1}}return null}var Jc=[],Qc=0,Um=null,Vm=0,Ua=[],Va=0,Wl=null,wi=1,_i="";function fl(e,t){Jc[Qc++]=Vm,Jc[Qc++]=Um,Um=e,Vm=t}function UM(e,t,r){Ua[Va++]=wi,Ua[Va++]=_i,Ua[Va++]=Wl,Wl=e;var n=wi;e=_i;var a=32-Cs(n)-1;n&=~(1<<a),r+=1;var s=32-Cs(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,wi=1<<32-Cs(t)+a|r<<a|n,_i=s+e}else wi=1<<s|r<<a|n,_i=e}function M_(e){e.return!==null&&(fl(e,1),UM(e,1,0))}function I_(e){for(;e===Um;)Um=Jc[--Qc],Jc[Qc]=null,Vm=Jc[--Qc],Jc[Qc]=null;for(;e===Wl;)Wl=Ua[--Va],Ua[Va]=null,_i=Ua[--Va],Ua[Va]=null,wi=Ua[--Va],Ua[Va]=null}var Sa=null,_a=null,Wt=!1,gs=null;function VM(e,t){var r=Ha(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Bj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Sa=e,_a=To(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Sa=e,_a=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wl!==null?{id:wi,overflow:_i}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ha(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Sa=e,_a=null,!0):!1;default:return!1}}function qb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yb(e){if(Wt){var t=_a;if(t){var r=t;if(!Bj(e,t)){if(qb(e))throw Error(ve(418));t=To(r.nextSibling);var n=Sa;t&&Bj(e,t)?VM(n,r):(e.flags=e.flags&-4097|2,Wt=!1,Sa=e)}}else{if(qb(e))throw Error(ve(418));e.flags=e.flags&-4097|2,Wt=!1,Sa=e}}}function zj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Sa=e}function ip(e){if(e!==Sa)return!1;if(!Wt)return zj(e),Wt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wb(e.type,e.memoizedProps)),t&&(t=_a)){if(qb(e))throw WM(),Error(ve(418));for(;t;)VM(e,t),t=To(t.nextSibling)}if(zj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ve(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){_a=To(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}_a=null}}else _a=Sa?To(e.stateNode.nextSibling):null;return!0}function WM(){for(var e=_a;e;)e=To(e.nextSibling)}function Ou(){_a=Sa=null,Wt=!1}function R_(e){gs===null?gs=[e]:gs.push(e)}var HV=Yi.ReactCurrentBatchConfig;function Dd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ve(309));var n=r.stateNode}if(!n)throw Error(ve(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(ve(284));if(!r._owner)throw Error(ve(290,e))}return e}function op(e,t){throw e=Object.prototype.toString.call(t),Error(ve(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Uj(e){var t=e._init;return t(e._payload)}function HM(e){function t(x,b){if(e){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Oo(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,y,_){return b===null||b.tag!==6?(b=Zy(y,x.mode,_),b.return=x,b):(b=a(b,y),b.return=x,b)}function l(x,b,y,_){var k=y.type;return k===Kc?d(x,b,y.props.children,_,y.key):b!==null&&(b.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===oo&&Uj(k)===b.type)?(_=a(b,y.props),_.ref=Dd(x,b,y),_.return=x,_):(_=xm(y.type,y.key,y.props,null,x.mode,_),_.ref=Dd(x,b,y),_.return=x,_)}function c(x,b,y,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=Jy(y,x.mode,_),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function d(x,b,y,_,k){return b===null||b.tag!==7?(b=Ml(y,x.mode,_,k),b.return=x,b):(b=a(b,y),b.return=x,b)}function f(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Zy(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Xh:return y=xm(b.type,b.key,b.props,null,x.mode,y),y.ref=Dd(x,null,b),y.return=x,y;case Hc:return b=Jy(b,x.mode,y),b.return=x,b;case oo:var _=b._init;return f(x,_(b._payload),y)}if(Xd(b)||Td(b))return b=Ml(b,x.mode,y,null),b.return=x,b;op(x,b)}return null}function h(x,b,y,_){var k=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:o(x,b,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Xh:return y.key===k?l(x,b,y,_):null;case Hc:return y.key===k?c(x,b,y,_):null;case oo:return k=y._init,h(x,b,k(y._payload),_)}if(Xd(y)||Td(y))return k!==null?null:d(x,b,y,_,null);op(x,y)}return null}function p(x,b,y,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(b,x,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Xh:return x=x.get(_.key===null?y:_.key)||null,l(b,x,_,k);case Hc:return x=x.get(_.key===null?y:_.key)||null,c(b,x,_,k);case oo:var S=_._init;return p(x,b,y,S(_._payload),k)}if(Xd(_)||Td(_))return x=x.get(y)||null,d(b,x,_,k,null);op(b,_)}return null}function m(x,b,y,_){for(var k=null,S=null,E=b,C=b=0,j=null;E!==null&&C<y.length;C++){E.index>C?(j=E,E=null):j=E.sibling;var T=h(x,E,y[C],_);if(T===null){E===null&&(E=j);break}e&&E&&T.alternate===null&&t(x,E),b=s(T,b,C),S===null?k=T:S.sibling=T,S=T,E=j}if(C===y.length)return r(x,E),Wt&&fl(x,C),k;if(E===null){for(;C<y.length;C++)E=f(x,y[C],_),E!==null&&(b=s(E,b,C),S===null?k=E:S.sibling=E,S=E);return Wt&&fl(x,C),k}for(E=n(x,E);C<y.length;C++)j=p(E,x,C,y[C],_),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?C:j.key),b=s(j,b,C),S===null?k=j:S.sibling=j,S=j);return e&&E.forEach(function(N){return t(x,N)}),Wt&&fl(x,C),k}function v(x,b,y,_){var k=Td(y);if(typeof k!="function")throw Error(ve(150));if(y=k.call(y),y==null)throw Error(ve(151));for(var S=k=null,E=b,C=b=0,j=null,T=y.next();E!==null&&!T.done;C++,T=y.next()){E.index>C?(j=E,E=null):j=E.sibling;var N=h(x,E,T.value,_);if(N===null){E===null&&(E=j);break}e&&E&&N.alternate===null&&t(x,E),b=s(N,b,C),S===null?k=N:S.sibling=N,S=N,E=j}if(T.done)return r(x,E),Wt&&fl(x,C),k;if(E===null){for(;!T.done;C++,T=y.next())T=f(x,T.value,_),T!==null&&(b=s(T,b,C),S===null?k=T:S.sibling=T,S=T);return Wt&&fl(x,C),k}for(E=n(x,E);!T.done;C++,T=y.next())T=p(E,x,C,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),b=s(T,b,C),S===null?k=T:S.sibling=T,S=T);return e&&E.forEach(function(A){return t(x,A)}),Wt&&fl(x,C),k}function g(x,b,y,_){if(typeof y=="object"&&y!==null&&y.type===Kc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Xh:e:{for(var k=y.key,S=b;S!==null;){if(S.key===k){if(k=y.type,k===Kc){if(S.tag===7){r(x,S.sibling),b=a(S,y.props.children),b.return=x,x=b;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===oo&&Uj(k)===S.type){r(x,S.sibling),b=a(S,y.props),b.ref=Dd(x,S,y),b.return=x,x=b;break e}r(x,S);break}else t(x,S);S=S.sibling}y.type===Kc?(b=Ml(y.props.children,x.mode,_,y.key),b.return=x,x=b):(_=xm(y.type,y.key,y.props,null,x.mode,_),_.ref=Dd(x,b,y),_.return=x,x=_)}return i(x);case Hc:e:{for(S=y.key;b!==null;){if(b.key===S)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=Jy(y,x.mode,_),b.return=x,x=b}return i(x);case oo:return S=y._init,g(x,b,S(y._payload),_)}if(Xd(y))return m(x,b,y,_);if(Td(y))return v(x,b,y,_);op(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,y),b.return=x,x=b):(r(x,b),b=Zy(y,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return g}var Du=HM(!0),KM=HM(!1),Wm=Yo(null),Hm=null,eu=null,F_=null;function L_(){F_=eu=Hm=null}function $_(e){var t=Wm.current;Lt(Wm),e._currentValue=t}function Xb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function gu(e,t){Hm=e,F_=eu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ia=!0),e.firstContext=null)}function Za(e){var t=e._currentValue;if(F_!==e)if(e={context:e,memoizedValue:t,next:null},eu===null){if(Hm===null)throw Error(ve(308));eu=e,Hm.dependencies={lanes:0,firstContext:e}}else eu=eu.next=e;return t}var Sl=null;function B_(e){Sl===null?Sl=[e]:Sl.push(e)}function GM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,B_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ri(e,n)}function Ri(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var lo=!1;function z_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ao(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,rt&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ri(e,r)}return a=n.interleaved,a===null?(t.next=t,B_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ri(e,r)}function fm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C_(e,r)}}function Vj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Km(e,t,r,n){var a=e.updateQueue;lo=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,d=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=nr({},f,h);break e;case 2:lo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Kl|=i,e.lanes=i,e.memoizedState=f}}function Wj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(ve(191,a));a.call(n)}}}var G0={},Ys=Yo(G0),Gf=Yo(G0),qf=Yo(G0);function El(e){if(e===G0)throw Error(ve(174));return e}function U_(e,t){switch(Pt(qf,t),Pt(Gf,e),Pt(Ys,G0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nb(t,e)}Lt(Ys),Pt(Ys,t)}function Mu(){Lt(Ys),Lt(Gf),Lt(qf)}function YM(e){El(qf.current);var t=El(Ys.current),r=Nb(t,e.type);t!==r&&(Pt(Gf,e),Pt(Ys,r))}function V_(e){Gf.current===e&&(Lt(Ys),Lt(Gf))}var Qt=Yo(0);function Gm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hy=[];function W_(){for(var e=0;e<Hy.length;e++)Hy[e]._workInProgressVersionPrimary=null;Hy.length=0}var hm=Yi.ReactCurrentDispatcher,Ky=Yi.ReactCurrentBatchConfig,Hl=0,rr=null,Lr=null,en=null,qm=!1,pf=!1,Yf=0,KV=0;function _n(){throw Error(ve(321))}function H_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ps(e[r],t[r]))return!1;return!0}function K_(e,t,r,n,a,s){if(Hl=s,rr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hm.current=e===null||e.memoizedState===null?XV:ZV,e=r(n,a),pf){s=0;do{if(pf=!1,Yf=0,25<=s)throw Error(ve(301));s+=1,en=Lr=null,t.updateQueue=null,hm.current=JV,e=r(n,a)}while(pf)}if(hm.current=Ym,t=Lr!==null&&Lr.next!==null,Hl=0,en=Lr=rr=null,qm=!1,t)throw Error(ve(300));return e}function G_(){var e=Yf!==0;return Yf=0,e}function $s(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?rr.memoizedState=en=e:en=en.next=e,en}function Ja(){if(Lr===null){var e=rr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=en===null?rr.memoizedState:en.next;if(t!==null)en=t,Lr=e;else{if(e===null)throw Error(ve(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},en===null?rr.memoizedState=en=e:en=en.next=e}return en}function Xf(e,t){return typeof t=="function"?t(e):t}function Gy(e){var t=Ja(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=Lr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var d=c.lane;if((Hl&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,rr.lanes|=d,Kl|=d}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=o,Ps(n,t.memoizedState)||(ia=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,rr.lanes|=s,Kl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function qy(e){var t=Ja(),r=t.queue;if(r===null)throw Error(ve(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Ps(s,t.memoizedState)||(ia=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function XM(){}function ZM(e,t){var r=rr,n=Ja(),a=t(),s=!Ps(n.memoizedState,a);if(s&&(n.memoizedState=a,ia=!0),n=n.queue,q_(eI.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||en!==null&&en.memoizedState.tag&1){if(r.flags|=2048,Zf(9,QM.bind(null,r,n,a,t),void 0,null),an===null)throw Error(ve(349));Hl&30||JM(r,t,a)}return a}function JM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function QM(e,t,r,n){t.value=r,t.getSnapshot=n,tI(t)&&rI(e)}function eI(e,t,r){return r(function(){tI(t)&&rI(e)})}function tI(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ps(e,r)}catch{return!0}}function rI(e){var t=Ri(e,1);t!==null&&js(t,e,1,-1)}function Hj(e){var t=$s();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xf,lastRenderedState:e},t.queue=e,e=e.dispatch=YV.bind(null,rr,e),[t.memoizedState,e]}function Zf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=rr.updateQueue,t===null?(t={lastEffect:null,stores:null},rr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nI(){return Ja().memoizedState}function pm(e,t,r,n){var a=$s();rr.flags|=e,a.memoizedState=Zf(1|t,r,void 0,n===void 0?null:n)}function Rg(e,t,r,n){var a=Ja();n=n===void 0?null:n;var s=void 0;if(Lr!==null){var i=Lr.memoizedState;if(s=i.destroy,n!==null&&H_(n,i.deps)){a.memoizedState=Zf(t,r,s,n);return}}rr.flags|=e,a.memoizedState=Zf(1|t,r,s,n)}function Kj(e,t){return pm(8390656,8,e,t)}function q_(e,t){return Rg(2048,8,e,t)}function aI(e,t){return Rg(4,2,e,t)}function sI(e,t){return Rg(4,4,e,t)}function iI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function oI(e,t,r){return r=r!=null?r.concat([e]):null,Rg(4,4,iI.bind(null,t,e),r)}function Y_(){}function lI(e,t){var r=Ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function cI(e,t){var r=Ja();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uI(e,t,r){return Hl&21?(Ps(r,t)||(r=mM(),rr.lanes|=r,Kl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ia=!0),e.memoizedState=r)}function GV(e,t){var r=yt;yt=r!==0&&4>r?r:4,e(!0);var n=Ky.transition;Ky.transition={};try{e(!1),t()}finally{yt=r,Ky.transition=n}}function dI(){return Ja().memoizedState}function qV(e,t,r){var n=Po(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fI(e))hI(t,r);else if(r=GM(e,t,r,n),r!==null){var a=Yn();js(r,e,n,a),pI(r,t,n)}}function YV(e,t,r){var n=Po(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fI(e))hI(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ps(o,i)){var l=t.interleaved;l===null?(a.next=a,B_(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=GM(e,t,a,n),r!==null&&(a=Yn(),js(r,e,n,a),pI(r,t,n))}}function fI(e){var t=e.alternate;return e===rr||t!==null&&t===rr}function hI(e,t){pf=qm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function pI(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,C_(e,r)}}var Ym={readContext:Za,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useInsertionEffect:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useMutableSource:_n,useSyncExternalStore:_n,useId:_n,unstable_isNewReconciler:!1},XV={readContext:Za,useCallback:function(e,t){return $s().memoizedState=[e,t===void 0?null:t],e},useContext:Za,useEffect:Kj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,pm(4194308,4,iI.bind(null,t,e),r)},useLayoutEffect:function(e,t){return pm(4194308,4,e,t)},useInsertionEffect:function(e,t){return pm(4,2,e,t)},useMemo:function(e,t){var r=$s();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=$s();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=qV.bind(null,rr,e),[n.memoizedState,e]},useRef:function(e){var t=$s();return e={current:e},t.memoizedState=e},useState:Hj,useDebugValue:Y_,useDeferredValue:function(e){return $s().memoizedState=e},useTransition:function(){var e=Hj(!1),t=e[0];return e=GV.bind(null,e[1]),$s().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=rr,a=$s();if(Wt){if(r===void 0)throw Error(ve(407));r=r()}else{if(r=t(),an===null)throw Error(ve(349));Hl&30||JM(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Kj(eI.bind(null,n,s,e),[e]),n.flags|=2048,Zf(9,QM.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=$s(),t=an.identifierPrefix;if(Wt){var r=_i,n=wi;r=(n&~(1<<32-Cs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=KV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZV={readContext:Za,useCallback:lI,useContext:Za,useEffect:q_,useImperativeHandle:oI,useInsertionEffect:aI,useLayoutEffect:sI,useMemo:cI,useReducer:Gy,useRef:nI,useState:function(){return Gy(Xf)},useDebugValue:Y_,useDeferredValue:function(e){var t=Ja();return uI(t,Lr.memoizedState,e)},useTransition:function(){var e=Gy(Xf)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:XM,useSyncExternalStore:ZM,useId:dI,unstable_isNewReconciler:!1},JV={readContext:Za,useCallback:lI,useContext:Za,useEffect:q_,useImperativeHandle:oI,useInsertionEffect:aI,useLayoutEffect:sI,useMemo:cI,useReducer:qy,useRef:nI,useState:function(){return qy(Xf)},useDebugValue:Y_,useDeferredValue:function(e){var t=Ja();return Lr===null?t.memoizedState=e:uI(t,Lr.memoizedState,e)},useTransition:function(){var e=qy(Xf)[0],t=Ja().memoizedState;return[e,t]},useMutableSource:XM,useSyncExternalStore:ZM,useId:dI,unstable_isNewReconciler:!1};function ps(e,t){if(e&&e.defaultProps){t=nr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Zb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:nr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fg={isMounted:function(e){return(e=e._reactInternals)?uc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Po(e),s=Ci(n,a);s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(js(t,e,a,n),fm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Yn(),a=Po(e),s=Ci(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ao(e,s,a),t!==null&&(js(t,e,a,n),fm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Yn(),n=Po(e),a=Ci(r,n);a.tag=2,t!=null&&(a.callback=t),t=Ao(e,a,n),t!==null&&(js(t,e,n,r),fm(t,e,n))}};function Gj(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!Vf(r,n)||!Vf(a,s):!0}function mI(e,t,r){var n=!1,a=Lo,s=t.contextType;return typeof s=="object"&&s!==null?s=Za(s):(a=ca(t)?Vl:Rn.current,n=t.contextTypes,s=(n=n!=null)?Pu(e,a):Lo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function qj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Fg.enqueueReplaceState(t,t.state,null)}function Jb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Za(s):(s=ca(t)?Vl:Rn.current,a.context=Pu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Zb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Fg.enqueueReplaceState(a,a.state,null),Km(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Iu(e,t){try{var r="",n=t;do r+=CU(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Yy(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Qb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var QV=typeof WeakMap=="function"?WeakMap:Map;function vI(e,t,r){r=Ci(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zm||(Zm=!0,cw=n),Qb(e,t)},r}function gI(e,t,r){r=Ci(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Qb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Qb(e,t),typeof n!="function"&&(No===null?No=new Set([this]):No.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Yj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new QV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=hW.bind(null,e,t,r),t.then(e,e))}function Xj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Zj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ci(-1,1),t.tag=2,Ao(r,t,1))),r.lanes|=1),e)}var eW=Yi.ReactCurrentOwner,ia=!1;function zn(e,t,r,n){t.child=e===null?KM(t,null,r,n):Du(t,e.child,r,n)}function Jj(e,t,r,n,a){r=r.render;var s=t.ref;return gu(t,a),n=K_(e,t,r,n,s,a),r=G_(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fi(e,t,a)):(Wt&&r&&M_(t),t.flags|=1,zn(e,t,n,a),t.child)}function Qj(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!nk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,xI(e,t,s,n,a)):(e=xm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vf,r(i,n)&&e.ref===t.ref)return Fi(e,t,a)}return t.flags|=1,e=Oo(s,n),e.ref=t.ref,e.return=t,t.child=e}function xI(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Vf(s,n)&&e.ref===t.ref)if(ia=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ia=!0);else return t.lanes=e.lanes,Fi(e,t,a)}return ew(e,t,r,n,a)}function yI(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(ru,ga),ga|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pt(ru,ga),ga|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Pt(ru,ga),ga|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Pt(ru,ga),ga|=n;return zn(e,t,a,r),t.child}function bI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ew(e,t,r,n,a){var s=ca(r)?Vl:Rn.current;return s=Pu(t,s),gu(t,a),r=K_(e,t,r,n,s,a),n=G_(),e!==null&&!ia?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Fi(e,t,a)):(Wt&&n&&M_(t),t.flags|=1,zn(e,t,r,a),t.child)}function eT(e,t,r,n,a){if(ca(r)){var s=!0;zm(t)}else s=!1;if(gu(t,a),t.stateNode===null)mm(e,t),mI(t,r,n),Jb(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Za(c):(c=ca(r)?Vl:Rn.current,c=Pu(t,c));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&qj(t,i,n,c),lo=!1;var h=t.memoizedState;i.state=h,Km(t,n,i,a),l=t.memoizedState,o!==n||h!==l||la.current||lo?(typeof d=="function"&&(Zb(t,r,d,n),l=t.memoizedState),(o=lo||Gj(t,r,o,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,qM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ps(t.type,o),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Za(l):(l=ca(r)?Vl:Rn.current,l=Pu(t,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&qj(t,i,n,l),lo=!1,h=t.memoizedState,i.state=h,Km(t,n,i,a);var m=t.memoizedState;o!==f||h!==m||la.current||lo?(typeof p=="function"&&(Zb(t,r,p,n),m=t.memoizedState),(c=lo||Gj(t,r,c,n,h,m,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return tw(e,t,r,n,s,a)}function tw(e,t,r,n,a,s){bI(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&$j(t,r,!1),Fi(e,t,s);n=t.stateNode,eW.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Du(t,e.child,null,s),t.child=Du(t,null,o,s)):zn(e,t,o,s),t.memoizedState=n.state,a&&$j(t,r,!0),t.child}function wI(e){var t=e.stateNode;t.pendingContext?Lj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Lj(e,t.context,!1),U_(e,t.containerInfo)}function tT(e,t,r,n,a){return Ou(),R_(a),t.flags|=256,zn(e,t,r,n),t.child}var rw={dehydrated:null,treeContext:null,retryLane:0};function nw(e){return{baseLanes:e,cachePool:null,transitions:null}}function _I(e,t,r){var n=t.pendingProps,a=Qt.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Pt(Qt,a&1),e===null)return Yb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Bg(i,n,0,null),e=Ml(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=nw(r),t.memoizedState=rw,e):X_(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return tW(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Oo(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Oo(o,s):(s=Ml(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?nw(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=rw,n}return s=e.child,e=s.sibling,n=Oo(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function X_(e,t){return t=Bg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lp(e,t,r,n){return n!==null&&R_(n),Du(t,e.child,null,r),e=X_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function tW(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Yy(Error(ve(422))),lp(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Bg({mode:"visible",children:n.children},a,0,null),s=Ml(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Du(t,e.child,null,i),t.child.memoizedState=nw(i),t.memoizedState=rw,s);if(!(t.mode&1))return lp(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ve(419)),n=Yy(s,n,void 0),lp(e,t,i,n)}if(o=(i&e.childLanes)!==0,ia||o){if(n=an,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ri(e,a),js(n,e,a,-1))}return rk(),n=Yy(Error(ve(421))),lp(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=pW.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,_a=To(a.nextSibling),Sa=t,Wt=!0,gs=null,e!==null&&(Ua[Va++]=wi,Ua[Va++]=_i,Ua[Va++]=Wl,wi=e.id,_i=e.overflow,Wl=t),t=X_(t,n.children),t.flags|=4096,t)}function rT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Xb(e.return,t,r)}function Xy(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function kI(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(zn(e,t,n.children,r),n=Qt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rT(e,r,t);else if(e.tag===19)rT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Pt(Qt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Gm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Xy(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Gm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Xy(t,!0,r,null,s);break;case"together":Xy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function mm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Kl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ve(153));if(t.child!==null){for(e=t.child,r=Oo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Oo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function rW(e,t,r){switch(t.tag){case 3:wI(t),Ou();break;case 5:YM(t);break;case 1:ca(t.type)&&zm(t);break;case 4:U_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Pt(Wm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Pt(Qt,Qt.current&1),t.flags|=128,null):r&t.child.childLanes?_I(e,t,r):(Pt(Qt,Qt.current&1),e=Fi(e,t,r),e!==null?e.sibling:null);Pt(Qt,Qt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return kI(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Pt(Qt,Qt.current),n)break;return null;case 22:case 23:return t.lanes=0,yI(e,t,r)}return Fi(e,t,r)}var SI,aw,EI,CI;SI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};aw=function(){};EI=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,El(Ys.current);var s=null;switch(r){case"input":a=Cb(e,a),n=Cb(e,n),s=[];break;case"select":a=nr({},a,{value:void 0}),n=nr({},n,{value:void 0}),s=[];break;case"textarea":a=Ab(e,a),n=Ab(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$m)}Pb(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&It("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};CI=function(e,t,r,n){r!==n&&(t.flags|=4)};function Md(e,t){if(!Wt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nW(e,t,r){var n=t.pendingProps;switch(I_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(t),null;case 1:return ca(t.type)&&Bm(),kn(t),null;case 3:return n=t.stateNode,Mu(),Lt(la),Lt(Rn),W_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ip(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gs!==null&&(fw(gs),gs=null))),aw(e,t),kn(t),null;case 5:V_(t);var a=El(qf.current);if(r=t.type,e!==null&&t.stateNode!=null)EI(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ve(166));return kn(t),null}if(e=El(Ys.current),ip(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[zs]=t,n[Kf]=s,e=(t.mode&1)!==0,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(a=0;a<Jd.length;a++)It(Jd[a],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":dj(n,s),It("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},It("invalid",n);break;case"textarea":hj(n,s),It("invalid",n)}Pb(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&sp(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&sp(n.textContent,o,e),a=["children",""+o]):Rf.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&It("scroll",n)}switch(r){case"input":Zh(n),fj(n,s,!0);break;case"textarea":Zh(n),pj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=$m)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=eM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[zs]=t,e[Kf]=n,SI(e,t,!1,!1),t.stateNode=e;e:{switch(i=Ob(r,n),r){case"dialog":It("cancel",e),It("close",e),a=n;break;case"iframe":case"object":case"embed":It("load",e),a=n;break;case"video":case"audio":for(a=0;a<Jd.length;a++)It(Jd[a],e);a=n;break;case"source":It("error",e),a=n;break;case"img":case"image":case"link":It("error",e),It("load",e),a=n;break;case"details":It("toggle",e),a=n;break;case"input":dj(e,n),a=Cb(e,n),It("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=nr({},n,{value:void 0}),It("invalid",e);break;case"textarea":hj(e,n),a=Ab(e,n),It("invalid",e);break;default:a=n}Pb(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?nM(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tM(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ff(e,l):typeof l=="number"&&Ff(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Rf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&It("scroll",e):l!=null&&b_(e,s,l,i))}switch(r){case"input":Zh(e),fj(e,n,!1);break;case"textarea":Zh(e),pj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?hu(e,!!n.multiple,s,!1):n.defaultValue!=null&&hu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=$m)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kn(t),null;case 6:if(e&&t.stateNode!=null)CI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ve(166));if(r=El(qf.current),El(Ys.current),ip(t)){if(n=t.stateNode,r=t.memoizedProps,n[zs]=t,(s=n.nodeValue!==r)&&(e=Sa,e!==null))switch(e.tag){case 3:sp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&sp(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zs]=t,t.stateNode=n}return kn(t),null;case 13:if(Lt(Qt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wt&&_a!==null&&t.mode&1&&!(t.flags&128))WM(),Ou(),t.flags|=98560,s=!1;else if(s=ip(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(ve(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ve(317));s[zs]=t}else Ou(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kn(t),s=!1}else gs!==null&&(fw(gs),gs=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qt.current&1?Br===0&&(Br=3):rk())),t.updateQueue!==null&&(t.flags|=4),kn(t),null);case 4:return Mu(),aw(e,t),e===null&&Wf(t.stateNode.containerInfo),kn(t),null;case 10:return $_(t.type._context),kn(t),null;case 17:return ca(t.type)&&Bm(),kn(t),null;case 19:if(Lt(Qt),s=t.memoizedState,s===null)return kn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Md(s,!1);else{if(Br!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Gm(e),i!==null){for(t.flags|=128,Md(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Pt(Qt,Qt.current&1|2),t.child}e=e.sibling}s.tail!==null&&yr()>Ru&&(t.flags|=128,n=!0,Md(s,!1),t.lanes=4194304)}else{if(!n)if(e=Gm(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Md(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Wt)return kn(t),null}else 2*yr()-s.renderingStartTime>Ru&&r!==1073741824&&(t.flags|=128,n=!0,Md(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=yr(),t.sibling=null,r=Qt.current,Pt(Qt,n?r&1|2:r&1),t):(kn(t),null);case 22:case 23:return tk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ga&1073741824&&(kn(t),t.subtreeFlags&6&&(t.flags|=8192)):kn(t),null;case 24:return null;case 25:return null}throw Error(ve(156,t.tag))}function aW(e,t){switch(I_(t),t.tag){case 1:return ca(t.type)&&Bm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mu(),Lt(la),Lt(Rn),W_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return V_(t),null;case 13:if(Lt(Qt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ve(340));Ou()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Lt(Qt),null;case 4:return Mu(),null;case 10:return $_(t.type._context),null;case 22:case 23:return tk(),null;case 24:return null;default:return null}}var cp=!1,Tn=!1,sW=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function tu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(e,t,n)}else r.current=null}function sw(e,t,r){try{r()}catch(n){ur(e,t,n)}}var nT=!1;function iW(e,t){if(Ub=Rm,e=PM(),D_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=i),h===s&&++d===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vb={focusedElem:e,selectionRange:r},Rm=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:ps(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(_){ur(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return m=nT,nT=!1,m}function mf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&sw(t,r,s)}a=a.next}while(a!==n)}}function Lg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function iw(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jI(e){var t=e.alternate;t!==null&&(e.alternate=null,jI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zs],delete t[Kf],delete t[Kb],delete t[UV],delete t[VV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function TI(e){return e.tag===5||e.tag===3||e.tag===4}function aT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||TI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ow(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$m));else if(n!==4&&(e=e.child,e!==null))for(ow(e,t,r),e=e.sibling;e!==null;)ow(e,t,r),e=e.sibling}function lw(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(lw(e,t,r),e=e.sibling;e!==null;)lw(e,t,r),e=e.sibling}var hn=null,ms=!1;function no(e,t,r){for(r=r.child;r!==null;)AI(e,t,r),r=r.sibling}function AI(e,t,r){if(qs&&typeof qs.onCommitFiberUnmount=="function")try{qs.onCommitFiberUnmount(Ng,r)}catch{}switch(r.tag){case 5:Tn||tu(r,t);case 6:var n=hn,a=ms;hn=null,no(e,t,r),hn=n,ms=a,hn!==null&&(ms?(e=hn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):hn.removeChild(r.stateNode));break;case 18:hn!==null&&(ms?(e=hn,r=r.stateNode,e.nodeType===8?Vy(e.parentNode,r):e.nodeType===1&&Vy(e,r),zf(e)):Vy(hn,r.stateNode));break;case 4:n=hn,a=ms,hn=r.stateNode.containerInfo,ms=!0,no(e,t,r),hn=n,ms=a;break;case 0:case 11:case 14:case 15:if(!Tn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&sw(r,t,i),a=a.next}while(a!==n)}no(e,t,r);break;case 1:if(!Tn&&(tu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ur(r,t,o)}no(e,t,r);break;case 21:no(e,t,r);break;case 22:r.mode&1?(Tn=(n=Tn)||r.memoizedState!==null,no(e,t,r),Tn=n):no(e,t,r);break;default:no(e,t,r)}}function sT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sW),t.forEach(function(n){var a=mW.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ls(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:hn=o.stateNode,ms=!1;break e;case 3:hn=o.stateNode.containerInfo,ms=!0;break e;case 4:hn=o.stateNode.containerInfo,ms=!0;break e}o=o.return}if(hn===null)throw Error(ve(160));AI(s,i,a),hn=null,ms=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){ur(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)NI(t,e),t=t.sibling}function NI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ls(t,e),Rs(e),n&4){try{mf(3,e,e.return),Lg(3,e)}catch(v){ur(e,e.return,v)}try{mf(5,e,e.return)}catch(v){ur(e,e.return,v)}}break;case 1:ls(t,e),Rs(e),n&512&&r!==null&&tu(r,r.return);break;case 5:if(ls(t,e),Rs(e),n&512&&r!==null&&tu(r,r.return),e.flags&32){var a=e.stateNode;try{Ff(a,"")}catch(v){ur(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&J3(a,s),Ob(o,i);var c=Ob(o,s);for(i=0;i<l.length;i+=2){var d=l[i],f=l[i+1];d==="style"?nM(a,f):d==="dangerouslySetInnerHTML"?tM(a,f):d==="children"?Ff(a,f):b_(a,d,f,c)}switch(o){case"input":jb(a,s);break;case"textarea":Q3(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?hu(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?hu(a,!!s.multiple,s.defaultValue,!0):hu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Kf]=s}catch(v){ur(e,e.return,v)}}break;case 6:if(ls(t,e),Rs(e),n&4){if(e.stateNode===null)throw Error(ve(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){ur(e,e.return,v)}}break;case 3:if(ls(t,e),Rs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zf(t.containerInfo)}catch(v){ur(e,e.return,v)}break;case 4:ls(t,e),Rs(e);break;case 13:ls(t,e),Rs(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Q_=yr())),n&4&&sT(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Tn=(c=Tn)||d,ls(t,e),Tn=c):ls(t,e),Rs(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(Pe=e,d=e.child;d!==null;){for(f=Pe=d;Pe!==null;){switch(h=Pe,p=h.child,h.tag){case 0:case 11:case 14:case 15:mf(4,h,h.return);break;case 1:tu(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){ur(n,r,v)}}break;case 5:tu(h,h.return);break;case 22:if(h.memoizedState!==null){oT(f);continue}}p!==null?(p.return=h,Pe=p):oT(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=rM("display",i))}catch(v){ur(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){ur(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ls(t,e),Rs(e),n&4&&sT(e);break;case 21:break;default:ls(t,e),Rs(e)}}function Rs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(TI(r)){var n=r;break e}r=r.return}throw Error(ve(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ff(a,""),n.flags&=-33);var s=aT(e);lw(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=aT(e);ow(e,o,i);break;default:throw Error(ve(161))}}catch(l){ur(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function oW(e,t,r){Pe=e,PI(e)}function PI(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var a=Pe,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||cp;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||Tn;o=cp;var c=Tn;if(cp=i,(Tn=l)&&!c)for(Pe=a;Pe!==null;)i=Pe,l=i.child,i.tag===22&&i.memoizedState!==null?lT(a):l!==null?(l.return=i,Pe=l):lT(a);for(;s!==null;)Pe=s,PI(s),s=s.sibling;Pe=a,cp=o,Tn=c}iT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Pe=s):iT(e)}}function iT(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Lg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Tn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ps(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Wj(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Wj(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Tn||t.flags&512&&iw(t)}catch(h){ur(t,t.return,h)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function oT(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function lT(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lg(4,t)}catch(l){ur(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){ur(t,a,l)}}var s=t.return;try{iw(t)}catch(l){ur(t,s,l)}break;case 5:var i=t.return;try{iw(t)}catch(l){ur(t,i,l)}}}catch(l){ur(t,t.return,l)}if(t===e){Pe=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Pe=o;break}Pe=t.return}}var lW=Math.ceil,Xm=Yi.ReactCurrentDispatcher,Z_=Yi.ReactCurrentOwner,Ya=Yi.ReactCurrentBatchConfig,rt=0,an=null,Nr=null,vn=0,ga=0,ru=Yo(0),Br=0,Jf=null,Kl=0,$g=0,J_=0,vf=null,aa=null,Q_=0,Ru=1/0,mi=null,Zm=!1,cw=null,No=null,up=!1,yo=null,Jm=0,gf=0,uw=null,vm=-1,gm=0;function Yn(){return rt&6?yr():vm!==-1?vm:vm=yr()}function Po(e){return e.mode&1?rt&2&&vn!==0?vn&-vn:HV.transition!==null?(gm===0&&(gm=mM()),gm):(e=yt,e!==0||(e=window.event,e=e===void 0?16:_M(e.type)),e):1}function js(e,t,r,n){if(50<gf)throw gf=0,uw=null,Error(ve(185));W0(e,r,n),(!(rt&2)||e!==an)&&(e===an&&(!(rt&2)&&($g|=r),Br===4&&po(e,vn)),ua(e,n),r===1&&rt===0&&!(t.mode&1)&&(Ru=yr()+500,Ig&&Xo()))}function ua(e,t){var r=e.callbackNode;HU(e,t);var n=Im(e,e===an?vn:0);if(n===0)r!==null&&gj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&gj(r),t===1)e.tag===0?WV(cT.bind(null,e)):zM(cT.bind(null,e)),BV(function(){!(rt&6)&&Xo()}),r=null;else{switch(vM(n)){case 1:r=E_;break;case 4:r=hM;break;case 16:r=Mm;break;case 536870912:r=pM;break;default:r=Mm}r=$I(r,OI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function OI(e,t){if(vm=-1,gm=0,rt&6)throw Error(ve(327));var r=e.callbackNode;if(xu()&&e.callbackNode!==r)return null;var n=Im(e,e===an?vn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Qm(e,n);else{t=n;var a=rt;rt|=2;var s=MI();(an!==e||vn!==t)&&(mi=null,Ru=yr()+500,Dl(e,t));do try{dW();break}catch(o){DI(e,o)}while(!0);L_(),Xm.current=s,rt=a,Nr!==null?t=0:(an=null,vn=0,t=Br)}if(t!==0){if(t===2&&(a=Fb(e),a!==0&&(n=a,t=dw(e,a))),t===1)throw r=Jf,Dl(e,0),po(e,n),ua(e,yr()),r;if(t===6)po(e,n);else{if(a=e.current.alternate,!(n&30)&&!cW(a)&&(t=Qm(e,n),t===2&&(s=Fb(e),s!==0&&(n=s,t=dw(e,s))),t===1))throw r=Jf,Dl(e,0),po(e,n),ua(e,yr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(ve(345));case 2:hl(e,aa,mi);break;case 3:if(po(e,n),(n&130023424)===n&&(t=Q_+500-yr(),10<t)){if(Im(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Yn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Hb(hl.bind(null,e,aa,mi),t);break}hl(e,aa,mi);break;case 4:if(po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-Cs(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*lW(n/1960))-n,10<n){e.timeoutHandle=Hb(hl.bind(null,e,aa,mi),n);break}hl(e,aa,mi);break;case 5:hl(e,aa,mi);break;default:throw Error(ve(329))}}}return ua(e,yr()),e.callbackNode===r?OI.bind(null,e):null}function dw(e,t){var r=vf;return e.current.memoizedState.isDehydrated&&(Dl(e,t).flags|=256),e=Qm(e,t),e!==2&&(t=aa,aa=r,t!==null&&fw(t)),e}function fw(e){aa===null?aa=e:aa.push.apply(aa,e)}function cW(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ps(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~J_,t&=~$g,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cs(t),n=1<<r;e[r]=-1,t&=~n}}function cT(e){if(rt&6)throw Error(ve(327));xu();var t=Im(e,0);if(!(t&1))return ua(e,yr()),null;var r=Qm(e,t);if(e.tag!==0&&r===2){var n=Fb(e);n!==0&&(t=n,r=dw(e,n))}if(r===1)throw r=Jf,Dl(e,0),po(e,t),ua(e,yr()),r;if(r===6)throw Error(ve(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hl(e,aa,mi),ua(e,yr()),null}function ek(e,t){var r=rt;rt|=1;try{return e(t)}finally{rt=r,rt===0&&(Ru=yr()+500,Ig&&Xo())}}function Gl(e){yo!==null&&yo.tag===0&&!(rt&6)&&xu();var t=rt;rt|=1;var r=Ya.transition,n=yt;try{if(Ya.transition=null,yt=1,e)return e()}finally{yt=n,Ya.transition=r,rt=t,!(rt&6)&&Xo()}}function tk(){ga=ru.current,Lt(ru)}function Dl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$V(r)),Nr!==null)for(r=Nr.return;r!==null;){var n=r;switch(I_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bm();break;case 3:Mu(),Lt(la),Lt(Rn),W_();break;case 5:V_(n);break;case 4:Mu();break;case 13:Lt(Qt);break;case 19:Lt(Qt);break;case 10:$_(n.type._context);break;case 22:case 23:tk()}r=r.return}if(an=e,Nr=e=Oo(e.current,null),vn=ga=t,Br=0,Jf=null,J_=$g=Kl=0,aa=vf=null,Sl!==null){for(t=0;t<Sl.length;t++)if(r=Sl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}Sl=null}return e}function DI(e,t){do{var r=Nr;try{if(L_(),hm.current=Ym,qm){for(var n=rr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}qm=!1}if(Hl=0,en=Lr=rr=null,pf=!1,Yf=0,Z_.current=null,r===null||r.return===null){Br=1,Jf=t,Nr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=vn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Xj(i);if(p!==null){p.flags&=-257,Zj(p,i,o,s,t),p.mode&1&&Yj(s,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Yj(s,c,t),rk();break e}l=Error(ve(426))}}else if(Wt&&o.mode&1){var g=Xj(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),Zj(g,i,o,s,t),R_(Iu(l,o));break e}}s=l=Iu(l,o),Br!==4&&(Br=2),vf===null?vf=[s]:vf.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=vI(s,l,t);Vj(s,x);break e;case 1:o=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(No===null||!No.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=gI(s,o,t);Vj(s,_);break e}}s=s.return}while(s!==null)}RI(r)}catch(k){t=k,Nr===r&&r!==null&&(Nr=r=r.return);continue}break}while(!0)}function MI(){var e=Xm.current;return Xm.current=Ym,e===null?Ym:e}function rk(){(Br===0||Br===3||Br===2)&&(Br=4),an===null||!(Kl&268435455)&&!($g&268435455)||po(an,vn)}function Qm(e,t){var r=rt;rt|=2;var n=MI();(an!==e||vn!==t)&&(mi=null,Dl(e,t));do try{uW();break}catch(a){DI(e,a)}while(!0);if(L_(),rt=r,Xm.current=n,Nr!==null)throw Error(ve(261));return an=null,vn=0,Br}function uW(){for(;Nr!==null;)II(Nr)}function dW(){for(;Nr!==null&&!RU();)II(Nr)}function II(e){var t=LI(e.alternate,e,ga);e.memoizedProps=e.pendingProps,t===null?RI(e):Nr=t,Z_.current=null}function RI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=aW(r,t),r!==null){r.flags&=32767,Nr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Br=6,Nr=null;return}}else if(r=nW(r,t,ga),r!==null){Nr=r;return}if(t=t.sibling,t!==null){Nr=t;return}Nr=t=e}while(t!==null);Br===0&&(Br=5)}function hl(e,t,r){var n=yt,a=Ya.transition;try{Ya.transition=null,yt=1,fW(e,t,r,n)}finally{Ya.transition=a,yt=n}return null}function fW(e,t,r,n){do xu();while(yo!==null);if(rt&6)throw Error(ve(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ve(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(KU(e,s),e===an&&(Nr=an=null,vn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||up||(up=!0,$I(Mm,function(){return xu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ya.transition,Ya.transition=null;var i=yt;yt=1;var o=rt;rt|=4,Z_.current=null,iW(e,r),NI(r,e),OV(Vb),Rm=!!Ub,Vb=Ub=null,e.current=r,oW(r),FU(),rt=o,yt=i,Ya.transition=s}else e.current=r;if(up&&(up=!1,yo=e,Jm=a),s=e.pendingLanes,s===0&&(No=null),BU(r.stateNode),ua(e,yr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Zm)throw Zm=!1,e=cw,cw=null,e;return Jm&1&&e.tag!==0&&xu(),s=e.pendingLanes,s&1?e===uw?gf++:(gf=0,uw=e):gf=0,Xo(),null}function xu(){if(yo!==null){var e=vM(Jm),t=Ya.transition,r=yt;try{if(Ya.transition=null,yt=16>e?16:e,yo===null)var n=!1;else{if(e=yo,yo=null,Jm=0,rt&6)throw Error(ve(331));var a=rt;for(rt|=4,Pe=e.current;Pe!==null;){var s=Pe,i=s.child;if(Pe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Pe=c;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:mf(8,d,s)}var f=d.child;if(f!==null)f.return=d,Pe=f;else for(;Pe!==null;){d=Pe;var h=d.sibling,p=d.return;if(jI(d),d===c){Pe=null;break}if(h!==null){h.return=p,Pe=h;break}Pe=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Pe=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Pe=i;else e:for(;Pe!==null;){if(s=Pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Pe=x;break e}Pe=s.return}}var b=e.current;for(Pe=b;Pe!==null;){i=Pe;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Pe=y;else e:for(i=b;Pe!==null;){if(o=Pe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lg(9,o)}}catch(k){ur(o,o.return,k)}if(o===i){Pe=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Pe=_;break e}Pe=o.return}}if(rt=a,Xo(),qs&&typeof qs.onPostCommitFiberRoot=="function")try{qs.onPostCommitFiberRoot(Ng,e)}catch{}n=!0}return n}finally{yt=r,Ya.transition=t}}return!1}function uT(e,t,r){t=Iu(r,t),t=vI(e,t,1),e=Ao(e,t,1),t=Yn(),e!==null&&(W0(e,1,t),ua(e,t))}function ur(e,t,r){if(e.tag===3)uT(e,e,r);else for(;t!==null;){if(t.tag===3){uT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(No===null||!No.has(n))){e=Iu(r,e),e=gI(t,e,1),t=Ao(t,e,1),e=Yn(),t!==null&&(W0(t,1,e),ua(t,e));break}}t=t.return}}function hW(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Yn(),e.pingedLanes|=e.suspendedLanes&r,an===e&&(vn&r)===r&&(Br===4||Br===3&&(vn&130023424)===vn&&500>yr()-Q_?Dl(e,0):J_|=r),ua(e,t)}function FI(e,t){t===0&&(e.mode&1?(t=ep,ep<<=1,!(ep&130023424)&&(ep=4194304)):t=1);var r=Yn();e=Ri(e,t),e!==null&&(W0(e,t,r),ua(e,r))}function pW(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),FI(e,r)}function mW(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ve(314))}n!==null&&n.delete(t),FI(e,r)}var LI;LI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||la.current)ia=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ia=!1,rW(e,t,r);ia=!!(e.flags&131072)}else ia=!1,Wt&&t.flags&1048576&&UM(t,Vm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;mm(e,t),e=t.pendingProps;var a=Pu(t,Rn.current);gu(t,r),a=K_(null,t,n,e,a,r);var s=G_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ca(n)?(s=!0,zm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z_(t),a.updater=Fg,t.stateNode=a,a._reactInternals=t,Jb(t,n,e,r),t=tw(null,t,n,!0,s,r)):(t.tag=0,Wt&&s&&M_(t),zn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(mm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=gW(n),e=ps(n,e),a){case 0:t=ew(null,t,n,e,r);break e;case 1:t=eT(null,t,n,e,r);break e;case 11:t=Jj(null,t,n,e,r);break e;case 14:t=Qj(null,t,n,ps(n.type,e),r);break e}throw Error(ve(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),ew(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),eT(e,t,n,a,r);case 3:e:{if(wI(t),e===null)throw Error(ve(387));n=t.pendingProps,s=t.memoizedState,a=s.element,qM(e,t),Km(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Iu(Error(ve(423)),t),t=tT(e,t,n,r,a);break e}else if(n!==a){a=Iu(Error(ve(424)),t),t=tT(e,t,n,r,a);break e}else for(_a=To(t.stateNode.containerInfo.firstChild),Sa=t,Wt=!0,gs=null,r=KM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ou(),n===a){t=Fi(e,t,r);break e}zn(e,t,n,r)}t=t.child}return t;case 5:return YM(t),e===null&&Yb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Wb(n,a)?i=null:s!==null&&Wb(n,s)&&(t.flags|=32),bI(e,t),zn(e,t,i,r),t.child;case 6:return e===null&&Yb(t),null;case 13:return _I(e,t,r);case 4:return U_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Du(t,null,n,r):zn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),Jj(e,t,n,a,r);case 7:return zn(e,t,t.pendingProps,r),t.child;case 8:return zn(e,t,t.pendingProps.children,r),t.child;case 12:return zn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,Pt(Wm,n._currentValue),n._currentValue=i,s!==null)if(Ps(s.value,i)){if(s.children===a.children&&!la.current){t=Fi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ci(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Xb(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(ve(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Xb(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}zn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,gu(t,r),a=Za(a),n=n(a),t.flags|=1,zn(e,t,n,r),t.child;case 14:return n=t.type,a=ps(n,t.pendingProps),a=ps(n.type,a),Qj(e,t,n,a,r);case 15:return xI(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ps(n,a),mm(e,t),t.tag=1,ca(n)?(e=!0,zm(t)):e=!1,gu(t,r),mI(t,n,a),Jb(t,n,a,r),tw(null,t,n,!0,e,r);case 19:return kI(e,t,r);case 22:return yI(e,t,r)}throw Error(ve(156,t.tag))};function $I(e,t){return fM(e,t)}function vW(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(e,t,r,n){return new vW(e,t,r,n)}function nk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gW(e){if(typeof e=="function")return nk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===__)return 11;if(e===k_)return 14}return 2}function Oo(e,t){var r=e.alternate;return r===null?(r=Ha(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function xm(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")nk(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Kc:return Ml(r.children,a,s,t);case w_:i=8,a|=8;break;case _b:return e=Ha(12,r,t,a|2),e.elementType=_b,e.lanes=s,e;case kb:return e=Ha(13,r,t,a),e.elementType=kb,e.lanes=s,e;case Sb:return e=Ha(19,r,t,a),e.elementType=Sb,e.lanes=s,e;case Y3:return Bg(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case G3:i=10;break e;case q3:i=9;break e;case __:i=11;break e;case k_:i=14;break e;case oo:i=16,n=null;break e}throw Error(ve(130,e==null?e:typeof e,""))}return t=Ha(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Ml(e,t,r,n){return e=Ha(7,e,n,t),e.lanes=r,e}function Bg(e,t,r,n){return e=Ha(22,e,n,t),e.elementType=Y3,e.lanes=r,e.stateNode={isHidden:!1},e}function Zy(e,t,r){return e=Ha(6,e,null,t),e.lanes=r,e}function Jy(e,t,r){return t=Ha(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function xW(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oy(0),this.expirationTimes=Oy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ak(e,t,r,n,a,s,i,o,l){return e=new xW(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ha(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z_(s),e}function yW(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function BI(e){if(!e)return Lo;e=e._reactInternals;e:{if(uc(e)!==e||e.tag!==1)throw Error(ve(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ca(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ve(171))}if(e.tag===1){var r=e.type;if(ca(r))return BM(e,r,t)}return t}function zI(e,t,r,n,a,s,i,o,l){return e=ak(r,n,!0,e,a,s,i,o,l),e.context=BI(null),r=e.current,n=Yn(),a=Po(r),s=Ci(n,a),s.callback=t??null,Ao(r,s,a),e.current.lanes=a,W0(e,a,n),ua(e,n),e}function zg(e,t,r,n){var a=t.current,s=Yn(),i=Po(a);return r=BI(r),t.context===null?t.context=r:t.pendingContext=r,t=Ci(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ao(a,t,i),e!==null&&(js(e,a,i,s),fm(e,a,i)),i}function ev(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function dT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sk(e,t){dT(e,t),(e=e.alternate)&&dT(e,t)}function bW(){return null}var UI=typeof reportError=="function"?reportError:function(e){console.error(e)};function ik(e){this._internalRoot=e}Ug.prototype.render=ik.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ve(409));zg(e,t,null,null)};Ug.prototype.unmount=ik.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Gl(function(){zg(null,e,null,null)}),t[Ii]=null}};function Ug(e){this._internalRoot=e}Ug.prototype.unstable_scheduleHydration=function(e){if(e){var t=yM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ho.length&&t!==0&&t<ho[r].priority;r++);ho.splice(r,0,e),r===0&&wM(e)}};function ok(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fT(){}function wW(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=ev(i);s.call(c)}}var i=zI(t,n,e,0,null,!1,!1,"",fT);return e._reactRootContainer=i,e[Ii]=i.current,Wf(e.nodeType===8?e.parentNode:e),Gl(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=ev(l);o.call(c)}}var l=ak(e,0,!1,null,null,!1,!1,"",fT);return e._reactRootContainer=l,e[Ii]=l.current,Wf(e.nodeType===8?e.parentNode:e),Gl(function(){zg(t,l,r,n)}),l}function Wg(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=ev(i);o.call(l)}}zg(t,i,e,a)}else i=wW(r,t,e,a,n);return ev(i)}gM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zd(t.pendingLanes);r!==0&&(C_(t,r|1),ua(t,yr()),!(rt&6)&&(Ru=yr()+500,Xo()))}break;case 13:Gl(function(){var n=Ri(e,1);if(n!==null){var a=Yn();js(n,e,1,a)}}),sk(e,1)}};j_=function(e){if(e.tag===13){var t=Ri(e,134217728);if(t!==null){var r=Yn();js(t,e,134217728,r)}sk(e,134217728)}};xM=function(e){if(e.tag===13){var t=Po(e),r=Ri(e,t);if(r!==null){var n=Yn();js(r,e,t,n)}sk(e,t)}};yM=function(){return yt};bM=function(e,t){var r=yt;try{return yt=e,t()}finally{yt=r}};Mb=function(e,t,r){switch(t){case"input":if(jb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Mg(n);if(!a)throw Error(ve(90));Z3(n),jb(n,a)}}}break;case"textarea":Q3(e,r);break;case"select":t=r.value,t!=null&&hu(e,!!r.multiple,t,!1)}};iM=ek;oM=Gl;var _W={usingClientEntryPoint:!1,Events:[K0,Xc,Mg,aM,sM,ek]},Id={findFiberByHostInstance:kl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kW={bundleType:Id.bundleType,version:Id.version,rendererPackageName:Id.rendererPackageName,rendererConfig:Id.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=uM(e),e===null?null:e.stateNode},findFiberByHostInstance:Id.findFiberByHostInstance||bW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dp.isDisabled&&dp.supportsFiber)try{Ng=dp.inject(kW),qs=dp}catch{}}Na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_W;Na.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ok(t))throw Error(ve(200));return yW(e,t,null,r)};Na.createRoot=function(e,t){if(!ok(e))throw Error(ve(299));var r=!1,n="",a=UI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ak(e,1,!1,null,null,r,!1,n,a),e[Ii]=t.current,Wf(e.nodeType===8?e.parentNode:e),new ik(t)};Na.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ve(188)):(e=Object.keys(e).join(","),Error(ve(268,e)));return e=uM(t),e=e===null?null:e.stateNode,e};Na.flushSync=function(e){return Gl(e)};Na.hydrate=function(e,t,r){if(!Vg(t))throw Error(ve(200));return Wg(null,e,t,!0,r)};Na.hydrateRoot=function(e,t,r){if(!ok(e))throw Error(ve(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=UI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=zI(t,null,e,1,r??null,a,!1,s,i),e[Ii]=t.current,Wf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ug(t)};Na.render=function(e,t,r){if(!Vg(t))throw Error(ve(200));return Wg(null,e,t,!1,r)};Na.unmountComponentAtNode=function(e){if(!Vg(e))throw Error(ve(40));return e._reactRootContainer?(Gl(function(){Wg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ii]=null})}),!0):!1};Na.unstable_batchedUpdates=ek;Na.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vg(r))throw Error(ve(200));if(e==null||e._reactInternals===void 0)throw Error(ve(38));return Wg(e,t,r,!1,n)};Na.version="18.3.1-next-f1338f8080-20240426";function VI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VI)}catch(e){console.error(e)}}VI(),V3.exports=Na;var q0=V3.exports,hT=q0;bb.createRoot=hT.createRoot,bb.hydrateRoot=hT.hydrateRoot;/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=e=>{const t=EW(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>w.createElement("svg",{ref:l,...CW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:WI("lucide",a),...!s&&!jW(o)&&{"aria-hidden":"true"},...o},[...i.map(([c,d])=>w.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(TW,{ref:s,iconNode:t,className:WI(`lucide-${SW(pT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=pT(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],NW=xe("activity",AW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],OW=xe("archive",PW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],MW=xe("arrow-down-right",DW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],lk=xe("arrow-down",IW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mT=xe("arrow-left",RW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ck=xe("arrow-right",FW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LW=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],va=xe("arrow-up-down",LW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],BW=xe("arrow-up-right",$W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],uk=xe("arrow-up",zW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],vT=xe("beaker",UW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],WW=xe("bell",VW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],HI=xe("book-open",HW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Cl=xe("calculator",KW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],dc=xe("calendar",GW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Hg=xe("chart-column",qW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Qf=xe("chart-no-axes-column",YW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KI=xe("chart-pie",XW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dk=xe("check",ZW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ql=xe("chevron-down",JW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Y0=xe("chevron-left",QW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],En=xe("chevron-right",eH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"m7 20 5-5 5 5",key:"13a0gw"}],["path",{d:"m7 4 5 5 5-5",key:"1kwcof"}]],rH=xe("chevrons-down-up",tH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],aH=xe("chevrons-up-down",nH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ds=xe("circle-alert",sH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],tn=xe("circle-check-big",iH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],hw=xe("circle-check",oH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],cH=xe("circle-question-mark",lH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GI=xe("circle-x",uH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],tv=xe("clock",dH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],e0=xe("cloud-upload",fH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hH=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],pH=xe("credit-card",hH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mH=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Kg=xe("database",mH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],nd=xe("dollar-sign",vH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],X0=xe("download",gH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],yH=xe("ellipsis",xH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wH=xe("external-link",bH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kH=xe("eye",_H);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Fu=xe("file-text",SH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],qI=xe("flask-conical",EH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gT=xe("folder-open",CH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],rv=xe("folder",jH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Z0=xe("funnel",TH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],NH=xe("git-branch",AH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],xT=xe("grid-3x3",PH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],DH=xe("heart-handshake",OH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],IH=xe("history",MH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],sa=xe("info",RH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],YI=xe("layout-dashboard",FH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],nv=xe("lightbulb",LH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],BH=xe("link",$H);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],UH=xe("list",zH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Os=xe("loader-circle",VH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],HH=xe("loader",WH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GH=xe("log-out",KH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],pw=xe("mail",qH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],XH=xe("map",YH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],yT=xe("menu",ZH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],QH=xe("message-circle",JH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],tK=xe("message-square",eK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M5 12h14",key:"1ays0h"}]],ad=xe("minus",rK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],aK=xe("moon",nK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],iK=xe("mouse-pointer",sK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],lK=xe("octagon-alert",oK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],uK=xe("package",cK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fk=xe("pen",dK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hk=xe("plus",fK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pK=xe("refresh-cw",hK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],vK=xe("rotate-ccw",mK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sd=xe("save",gK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],t0=xe("search",xK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bK=xe("send",yK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_K=xe("settings",wK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],SK=xe("share-2",kK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bT=xe("shield-check",EK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],jK=xe("smartphone",CK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],AK=xe("sparkles",TK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],PK=xe("tag",NK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xi=xe("target",OK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Yl=xe("trash-2",DK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],id=xe("trending-down",MK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Fn=xe("trending-up",IK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],yu=xe("triangle-alert",RK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FK=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Gg=xe("upload",FK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],XI=xe("user",LK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ZI=xe("users",$K);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],JI=xe("wallet",BK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fa=xe("x",zK),UK=({onFileSelect:e,onLoadSimulatedData:t,loading:r,error:n,totalActivities:a})=>{const s=w.useRef(null),i=c=>{var f;const d=(f=c.target.files)==null?void 0:f[0];d&&e(d)},o=c=>{c.preventDefault(),c.stopPropagation()},l=c=>{var f;c.preventDefault(),c.stopPropagation();const d=(f=c.dataTransfer.files)==null?void 0:f[0];d&&d.name.toLowerCase().endsWith(".csv")&&e(d)};return u.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-6",children:[u.jsxs("div",{onDragOver:o,onDrop:l,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:`
          border-2 border-dashed rounded-xl p-10 text-center cursor-pointer transition-all duration-300
          border-slate-700 hover:border-blue-400 hover:bg-slate-800/50
        `,children:[u.jsx("input",{ref:s,type:"file",accept:".csv",onChange:i,className:"hidden"}),u.jsxs("div",{className:"flex flex-col items-center gap-4",children:[u.jsx("div",{className:"p-4 rounded-full bg-slate-800",children:u.jsx(Gg,{className:"w-8 h-8 text-slate-400"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-lg font-medium text-slate-200",children:"Arraste e solte seu CSV aqui"}),u.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"ou clique para selecionar do computador"})]})]})]}),t&&u.jsx("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-slate-800/50",children:u.jsxs("button",{onClick:t,disabled:r,className:"text-sm text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-slate-800/50",children:[u.jsx("span",{children:""}),u.jsx("span",{children:"Ativar Modo Teste (Dados Simulados)"})]})}),r&&u.jsxs("div",{className:"flex items-center justify-center gap-3 text-blue-400 bg-blue-400/10 p-4 rounded-lg animate-pulse",children:[u.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),u.jsx("span",{className:"font-medium",children:"Processando dados..."})]}),n&&u.jsxs("div",{className:"mt-4 p-3 bg-red-900 border border-red-700 rounded flex items-start gap-2",children:[u.jsx(Ds,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-red-300 font-medium",children:"Erro ao processar"}),u.jsx("p",{className:"text-red-400 text-sm whitespace-pre-wrap",children:n})]})]}),a!==void 0&&a>0&&!r&&!n&&u.jsxs("div",{className:"mt-4 p-3 bg-green-900 border border-green-700 rounded flex items-center gap-2",children:[u.jsx(tn,{className:"w-5 h-5 text-green-400"}),u.jsxs("span",{className:"text-green-300",children:[" ",a," atividades carregadas com sucesso"]})]})]})},wT=e=>{let t;const r=new Set,n=(c,d)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},VK=e=>e?wT(e):wT,WK=e=>e;function HK(e,t=WK){const r=Wa.useSyncExternalStore(e.subscribe,Wa.useCallback(()=>t(e.getState()),[e,t]),Wa.useCallback(()=>t(e.getInitialState()),[e,t]));return Wa.useDebugValue(r),r}const KK=e=>{const t=VK(e),r=n=>HK(t,n);return Object.assign(r,t),r},qg=e=>KK;function QI(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const mw=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return mw(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return mw(n)(r)}}}},GK=(e,t)=>(r,n,a)=>{let s={storage:QI(()=>localStorage),partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,a);const d=()=>{const v=s.partialize({...n()});return c.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,g)=>(f(v,g),d());const h=e((...v)=>(r(...v),d()),n,a);a.getInitialState=()=>h;let p;const m=()=>{var v,g;if(!c)return;i=!1,o.forEach(b=>{var y;return b((y=n())!=null?y:h)});const x=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(v=n())!=null?v:h))||void 0;return mw(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const y=s.migrate(b.state,b.version);return y instanceof Promise?y.then(_=>[!0,_]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[_,k]=b;if(p=s.merge(k,(y=n())!=null?y:h),r(p,!0),_)return d()}).then(()=>{x==null||x(p,void 0),p=n(),i=!0,l.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),p||h},Yg=GK;function Xg(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function qK(e,t){let r;const n=()=>{if(r)return r;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(t),r=Xg(a),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(a,s)=>n().then(i=>s(i.transaction(t,a).objectStore(t)))}let Qy;function pk(){return Qy||(Qy=qK("keyval-store","keyval")),Qy}function YK(e,t=pk()){return t("readonly",r=>Xg(r.get(e)))}function XK(e,t,r=pk()){return r("readwrite",n=>(n.put(t,e),Xg(n.transaction)))}function ZK(e,t=pk()){return t("readwrite",r=>(r.delete(e),Xg(r.transaction)))}const JK={getItem:async e=>await YK(e)||null,setItem:async(e,t)=>{await XK(e,t)},removeItem:async e=>{await ZK(e)}},_T={bu:[],canais:[],jornadas:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos",dataInicio:"",dataFim:""},vt=qg()(Yg(e=>({frameworkData:[],activities:[],goals:[],journal:[],viewSettings:{periodo:{inicio:"",fim:""},abaAtual:"launch",filtrosGlobais:_T,modoTempoJornada:"diario",perspective:"crm"},setPerspective:t=>e(r=>({viewSettings:{...r.viewSettings,perspective:t}})),setFrameworkData:(t,r)=>e({frameworkData:t,activities:r}),setActivities:t=>e({activities:t}),setGoals:t=>e({goals:t}),addJournalEntry:t=>e(r=>({journal:[...r.journal,t]})),updateJournalEntry:(t,r)=>e(n=>({journal:n.journal.map(a=>a.id===t?{...a,...r}:a)})),updateActivity:(t,r)=>e(n=>({activities:n.activities.map(a=>a.id===t?{...a,...r}:a)})),addActivity:t=>e(r=>({activities:[...r.activities.filter(n=>n.id!==t.id),t]})),removeActivity:t=>e(r=>({activities:r.activities.filter(n=>n.id!==t)})),setGlobalFilters:t=>e(r=>({viewSettings:{...r.viewSettings,filtrosGlobais:{...r.viewSettings.filtrosGlobais,...t}}})),resetFilters:()=>e(t=>({viewSettings:{...t.viewSettings,filtrosGlobais:_T}})),setTab:t=>e(r=>({viewSettings:{...r.viewSettings,abaAtual:t}})),setPeriodo:(t,r)=>e(n=>({viewSettings:{...n.viewSettings,periodo:{inicio:t,fim:r}}})),b2cData:[],setB2CData:t=>e({b2cData:t}),paidMediaData:[],setPaidMediaData:t=>e({paidMediaData:t}),budgets:[],setBudgets:t=>e({budgets:t}),alertConfig:{share_crm_limiar:10,ativar_anomalias:!0},setAlertConfig:t=>e({alertConfig:t})}),{name:"app-storage",storage:QI(()=>JK),partialize:e=>({frameworkData:e.frameworkData,activities:e.activities,goals:e.goals,journal:e.journal,b2cData:e.b2cData,paidMediaData:e.paidMediaData,budgets:e.budgets,viewSettings:{...e.viewSettings,abaAtual:"launch",perspective:"crm"},alertConfig:e.alertConfig}),onRehydrateStorage:()=>e=>{e&&(e.activities&&e.activities.forEach(t=>{typeof t.dataDisparo=="string"&&(t.dataDisparo=new Date(t.dataDisparo))}),e.frameworkData&&e.frameworkData.forEach(t=>{t["Data de Disparo"]&&typeof t["Data de Disparo"]=="string"&&(t["Data de Disparo"]=new Date(t["Data de Disparo"]))}))}})),QK=({availableCanais:e=[],availableJornadas:t=[],availableSegmentos:r=[],availableParceiros:n=[],countByCanal:a={},countByJornada:s={},countBySegmento:i={},countByParceiro:o={}})=>{const{viewSettings:l,setGlobalFilters:c}=vt(),d=l.filtrosGlobais,f=(x,b)=>{const y=d[x],_=y.includes(b)?y.filter(k=>k!==b):[...y,b];c({[x]:_})},h=(x,b)=>{const y=d[x];if(b.every(k=>y.includes(k))){const k=y.filter(S=>!b.includes(S));c({[x]:k})}else{const k=b.filter(S=>!y.includes(S));c({[x]:[...y,...k]})}},p=(x,b)=>{const y=d[x];return b.length>0&&b.every(_=>y.includes(_))},m=()=>{c({canais:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos"})},v=d.canais.length>0||d.jornadas.length>0||d.segmentos.length>0||d.parceiros.length>0,g=({title:x,icon:b,items:y,field:_,counts:k,align:S="left"})=>{if(y.length===0)return null;const E=d[_].length,C=p(_,y),j=E>0;return u.jsxs("div",{className:"relative group",children:[u.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition border shadow-sm ${j?"bg-slate-800 border-slate-700 text-white":"bg-slate-900/50 border-transparent hover:bg-slate-800 text-slate-300"}`,children:[u.jsx(b,{size:16,className:j?"text-blue-400":"text-slate-400"}),u.jsx("span",{className:"text-sm font-medium",children:x}),j&&u.jsx("span",{className:"bg-slate-700 text-slate-300 text-[10px] px-1.5 py-0.5 rounded-full ml-1 border border-slate-600",children:E}),u.jsx(ql,{size:14,className:"opacity-50 group-hover:opacity-100 transition-opacity"})]}),u.jsxs("div",{className:`absolute top-full mt-2 w-64 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-2 z-50 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-200 transform origin-top-left ${S==="right"?"right-0 origin-top-right":"left-0 origin-top-left"}`,children:[u.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-2 border-b border-slate-800",children:[u.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:x}),u.jsx("button",{onClick:()=>h(_,y),className:"text-[10px] text-blue-400 hover:text-blue-300 font-medium",children:C?"Desmarcar Todos":"Selecionar Todos"})]}),u.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 custom-scrollbar",children:y.map(T=>u.jsxs("label",{onClick:N=>{N.preventDefault(),f(_,T)},className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded-lg transition group/item",children:[u.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition ${d[_].includes(T)?"bg-slate-600 border-slate-500":"border-slate-600 group-hover/item:border-slate-500"}`,children:d[_].includes(T)&&u.jsx(dk,{size:10,className:"text-white"})}),u.jsx("span",{className:"text-slate-300 text-sm truncate flex-1",children:T}),u.jsxs("span",{className:"text-slate-500 text-xs",children:["(",k[T]||0,")"]})]},T))})]})]})};return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(g,{title:"Canais",icon:QH,items:e,field:"canais",counts:a}),u.jsx(g,{title:"Jornadas",icon:XH,items:t,field:"jornadas",counts:s}),u.jsx(g,{title:"Segmentos",icon:ZI,items:r,field:"segmentos",counts:i}),u.jsx(g,{title:"Parceiros",icon:DH,items:n,field:"parceiros",counts:o,align:"right"}),v&&u.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),v&&u.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition",children:[u.jsx(fa,{size:14}),"Limpar"]})]})};function Zg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function eG(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(d){try{c(n.next(d))}catch(f){i(f)}}function l(d){try{c(n.throw(d))}catch(f){i(f)}}function c(d){d.done?s(d.value):a(d.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const tG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class mk extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class rG extends mk{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class kT extends mk{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ST extends mk{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vw||(vw={}));class nG{constructor(t,{headers:r={},customFetch:n,region:a=vw.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=tG(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return eG(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:o,method:l,body:c,signal:d,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let g=d;f&&(i=new AbortController,s=setTimeout(()=>i.abort(),f),d?(g=i.signal,d.addEventListener("abort",()=>i.abort())):g=i.signal);const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:g}).catch(k=>{throw new rG(k)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new kT(x);if(!x.ok)throw new ST(x);let y=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield x.json():y==="application/octet-stream"||y==="application/pdf"?_=yield x.blob():y==="text/event-stream"?_=x:y==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof ST||o instanceof kT?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var aG=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},sG=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let i=null,o=null,l=null,c=s.status,d=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await s.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,d="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const v=await s.text();try{i=JSON.parse(v),Array.isArray(i)&&s.status===404&&(o=[],i=null,c=200,d="OK")}catch{s.status===404&&v===""?(c=204,d="No Content"):i={message:v}}if(i&&r.isMaybeSingle&&(!(i==null||(m=i.details)===null||m===void 0)&&m.includes("0 rows"))&&(i=null,c=200,d="OK"),i&&r.shouldThrowOnError)throw new aG(i)}return{error:i,data:o,count:l,status:c,statusText:d}});return this.shouldThrowOnError||(a=a.catch(s=>{var i;let o="";const l=s==null?void 0:s.cause;if(l){var c,d,f,h;const m=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${m}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},iG=class extends sG{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const ET=new RegExp("[,()]");var Bc=class extends iG{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ET.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&ET.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},oG=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new Bc({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new Bc({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(c.length>0){const d=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",d.join(","))}}return new Bc({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Bc({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Bc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},lG=class e5{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new oG(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e5(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const d=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(d)),f=n&&Object.values(r).some(d);f?(o="POST",c=r):n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(o="POST",c=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Bc({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class cG{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const uG="2.93.1",dG=`realtime-js/${uG}`,fG="1.0.0",t5="2.0.0",CT=t5,gw=1e4,hG=1e3,pG=100;var co;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(co||(co={}));var Ir;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ir||(Ir={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var xw;(function(e){e.websocket="websocket"})(xw||(xw={}));var bl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(bl||(bl={}));class mG{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var a,s;const i=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,i.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,r),Array.from(l,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(i,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(c,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(f,x=>m.setUint8(v++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,o,l]=n;return r({join_ref:a,ref:s,topic:i,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const d=n.decode(t.slice(l,l+s));l=l+s;const f=n.decode(t.slice(l,l+i));l=l+i;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:d,payload:p};return i>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class r5{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(jt||(jt={}));const jT=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=vG(i,e,t,a),s),{}):{}},vG=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?n5(s,i):yw(i)},n5=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return bG(t,r)}switch(e){case jt.bool:return gG(t);case jt.float4:case jt.float8:case jt.int2:case jt.int4:case jt.int8:case jt.numeric:case jt.oid:return xG(t);case jt.json:case jt.jsonb:return yG(t);case jt.timestamp:return wG(t);case jt.abstime:case jt.date:case jt.daterange:case jt.int4range:case jt.int8range:case jt.money:case jt.reltime:case jt.text:case jt.time:case jt.timestamptz:case jt.timetz:case jt.tsrange:case jt.tstzrange:return yw(t);default:return yw(t)}},yw=e=>e,gG=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xG=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},yG=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},bG=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>n5(t,o))}return e},wG=e=>typeof e=="string"?e.replace(" ","T"):e,a5=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class e1{constructor(t,r,n={},a=gw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var TT;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(TT||(TT={}));class xf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=xf.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=xf.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=xf.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(c,d)=>{i[c]||(l[c]=d)}),this.map(i,(c,d)=>{const f=s[c];if(f){const h=d.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=d.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(o[c]=m),v.length>0&&(l[c]=v)}else o[c]=d}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const d=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,d,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const d=l.map(f=>f.presence_ref);c=c.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var AT;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(AT||(AT={}));var yf;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yf||(yf={}));var vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class nu{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ir.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new e1(this,vs.join,this.params,this.timeout),this.rejoinTimer=new r5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ir.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ir.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ir.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new xf(this),this.broadcastEndpointURL=a5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ir.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[yf.PRESENCE]&&this.bindings[yf.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(vi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(vi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(vi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<g;b++){const y=v[b],{filter:{event:_,schema:k,table:S,filter:E}}=y,C=p&&p[b];if(C&&C.event===_&&nu.isFilterValueEqual(C.schema,k)&&nu.isFilterValueEqual(C.table,S)&&nu.isFilterValueEqual(C.filter,E))x.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Ir.errored,t==null||t(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(vi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Ir.errored,t==null||t(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ir.joined&&t===yf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ir.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new e1(this,vs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ir.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new e1(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>pG){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:d}=vs;if(n&&[o,l,c,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var m,v,g,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,k=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:g,commit_timestamp:x,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Ir.closed}_isJoined(){return this.state===Ir.joined}_isJoining(){return this.state===Ir.joining}_isLeaving(){return this.state===Ir.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&nu.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ir.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=jT(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=jT(t.columns,t.old_record)),r}}const t1=()=>{},fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_G=[1e3,2e3,5e3,1e4],kG=1e4,SG=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class EG{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gw,this.transport=null,this.heartbeatIntervalMs=fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=t1,this.ref=0,this.reconnectTimer=null,this.vsn=CT,this.logger=t1,this.conn=null,this.sendBuffer=[],this.serializer=new mG,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xw.websocket}`,this.httpEndpoint=a5(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cG.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case co.connecting:return bl.Connecting;case co.open:return bl.Open;case co.closing:return bl.Closing;default:return bl.Closed}}isConnected(){return this.connectionState()===bl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new nu(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(hG,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===co.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===co.open||this.conn.readyState===co.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([SG],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:dG};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(vs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new r5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,c,d,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:gw,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:fp.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:t1,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:CT,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>_G[m-1]||kG,this.vsn){case fG:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case t5:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var r0=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CG(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function jG(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function TG(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:i}){const o=CG(e.baseUrl,n,a),l=await jG(e.auth),c=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...i},body:s?JSON.stringify(s):void 0}),d=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new r0((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function hp(e){return e.join("")}var AG=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:hp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hp(e.namespace)}`}),!0}catch(t){if(t instanceof r0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof r0&&r.status===409)return;throw r}}};function Cc(e){return e.join("")}var NG=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof r0&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof r0&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},PG=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=TG({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new AG(this.client,t),this.tableOps=new NG(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Jg=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Qg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var pp=class extends Jg{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},s5=class extends Jg{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const OG=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),DG=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},bw=e=>{if(Array.isArray(e))return e.map(r=>bw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=bw(n)}),t},MG=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function n0(e){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n0(e)}function IG(e,t){if(n0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(n0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RG(e){var t=IG(e,"string");return n0(t)=="symbol"?t:t+""}function FG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NT(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const PT=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},LG=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new pp(PT(i),s,o,n))}).catch(()=>{if(n==="vectors"){const i=s+"";t(new pp(a.statusText||`HTTP ${s} error`,s,i,n))}else{const i=s+"";t(new pp(a.statusText||`HTTP ${s} error`,s,i,n))}});else{const i=s+"";t(new pp(a.statusText||`HTTP ${s} error`,s,i,n))}}else t(new s5(PT(e),e,n))},$G=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Fe(Fe({},a),r):(DG(n)?(a.headers=Fe({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Fe(Fe({},a),r))};async function Rd(e,t,r,n,a,s,i){return new Promise((o,l)=>{e(r,$G(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(i==="vectors"){const d=c.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>LG(c,l,n,i))})}function BG(e="storage"){return{get:async(t,r,n,a)=>Rd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Rd(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Rd(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Rd(t,"HEAD",r,Fe(Fe({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Rd(t,"DELETE",r,a,s,n,e)}}const zG=BG("storage"),{get:a0,post:Ut,put:ww,head:UG,remove:vk}=zG;var od=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=OG(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qg(r))return{data:null,error:r};throw r}}},VG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qg(t))return{data:null,error:t};throw t}}};let i5;i5=Symbol.toStringTag;var WG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[i5]="BlobDownloadBuilder",this.promise=null}asStream(){return new VG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qg(t))return{data:null,error:t};throw t}}};const HG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},OT={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var KG=class extends od{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const i=Fe(Fe({},OT),n);let o=Fe(Fe({},a.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=Fe(Fe({},o),n.headers));const c=a._removeEmptyFolders(t),d=a._getFinalPath(c),f=await(e=="PUT"?ww:Ut)(a.fetch,`${a.url}/object/${d}`,s,Fe({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),a.handleOperation(async()=>{let l;const c=Fe({upsert:OT.upsert},n),d=Fe(Fe({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType),{path:s,fullPath:(await ww(a.fetch,o.toString(),l,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Fe({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await Ut(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new Jg("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Ut(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Ut(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await Ut(n.fetch,`${n.url}/object/sign/${a}`,Fe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Ut(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(i=>Fe(Fe({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${s}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),i=()=>a0(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new WG(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>bw(await a0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await UG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qg(n)&&n instanceof s5){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await vk(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Fe(Fe(Fe({},HG),t),{},{prefix:e||""});return await Ut(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Fe({},e);return await Ut(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const GG="2.93.1",J0={"X-Client-Info":`storage-js/${GG}`};var qG=class extends od{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),i=Fe(Fe({},J0),t);super(s,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await a0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await a0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Ut(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ww(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},YG=class extends od{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Fe(Fe({},J0),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await a0(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await vk(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!MG(e))throw new Jg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new PG({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const i=a[s];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(a,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},XG=class extends od{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Fe(Fe({},J0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Ut(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Ut(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},ZG=class extends od{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Fe(Fe({},J0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},JG=class extends od{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Fe(Fe({},J0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Ut(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},QG=class extends JG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eq(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},eq=class extends XG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new tq(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tq=class extends ZG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Fe(Fe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rq=class extends qG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new KG(this.url,this.headers,e,this.fetch)}get vectors(){return new QG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new YG(this.url+"/iceberg",this.headers,this.fetch)}};const o5="2.93.1",zc=30*1e3,_w=3,r1=_w*zc,nq="http://localhost:9999",aq="supabase.auth.token",sq={"X-Client-Info":`gotrue-js/${o5}`},kw="X-Supabase-Api-Version",l5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oq=10*60*1e3;class s0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lq extends s0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cq(e){return Me(e)&&e.name==="AuthApiError"}class wl extends s0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zi extends s0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ma extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function n1(e){return Me(e)&&e.name==="AuthSessionMissingError"}class jc extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mp extends Zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vp extends Zi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uq(e){return Me(e)&&e.name==="AuthImplicitGrantRedirectError"}class DT extends Zi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dq extends Zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Sw extends Zi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function a1(e){return Me(e)&&e.name==="AuthRetryableFetchError"}class MT extends Zi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ew extends Zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const av="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),IT=` 	
\r=`.split(""),fq=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<IT.length;t+=1)e[IT[t].charCodeAt(0)]=-2;for(let t=0;t<av.length;t+=1)e[av[t].charCodeAt(0)]=t;return e})();function RT(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(av[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(av[n]),t.queuedBits-=6}}function c5(e,t,r){const n=fq[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function FT(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{mq(i,n,r)};for(let i=0;i<e.length;i+=1)c5(e.charCodeAt(i),a,s);return t.join("")}function hq(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pq(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}hq(n,t)}}function mq(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function bu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)c5(e.charCodeAt(a),r,n);return new Uint8Array(t)}function vq(e){const t=[];return pq(e,r=>t.push(r)),new Uint8Array(t)}function jl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>RT(a,r,n)),RT(null,r,n),t.join("")}function gq(e){return Math.round(Date.now()/1e3)+e}function xq(){return Symbol("auth-callback")}const dn=()=>typeof window<"u"&&typeof document<"u",ll={tested:!1,writable:!1},u5=()=>{if(!dn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ll.tested)return ll.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ll.tested=!0,ll.writable=!0}catch{ll.tested=!0,ll.writable=!1}return ll.writable};function yq(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const d5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bq=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Uc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cn=async(e,t)=>{await e.removeItem(t)};class ex{constructor(){this.promise=new ex.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ex.promiseConstructor=Promise;function gp(e){const t=e.split(".");if(t.length!==3)throw new Ew("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!iq.test(t[n]))throw new Ew("JWT not in base64url format");return{header:JSON.parse(FT(t[0])),payload:JSON.parse(FT(t[1])),signature:bu(t[2]),raw:{header:t[0],payload:t[1]}}}async function wq(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _q(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function kq(e){return("0"+e.toString(16)).substr(-2)}function Sq(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kq).join("")}async function Eq(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function Cq(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Eq(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tc(e,t,r=!1){const n=Sq();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Uc(e,`${t}-code-verifier`,a);const s=await Cq(n);return[s,n===s?"plain":"s256"]}const jq=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Tq(e){const t=e.headers.get(kw);if(!t||!t.match(jq))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Aq(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Nq(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Pq=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ac(e){if(!Pq.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function s1(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Oq(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function LT(e){return JSON.parse(JSON.stringify(e))}const pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Dq=[502,503,504];async function $T(e){var t;if(!bq(e))throw new Sw(pl(e),0);if(Dq.includes(e.status))throw new Sw(pl(e),e.status);let r;try{r=await e.json()}catch(s){throw new wl(pl(s),s)}let n;const a=Tq(e);if(a&&a.getTime()>=l5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new MT(pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ma}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new MT(pl(r),e.status,r.weak_password.reasons);throw new lq(pl(r),e.status||500,n)}const Mq=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Re(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[kw]||(s[kw]=l5["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await Iq(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Iq(e,t,r,n,a,s){const i=Mq(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Sw(pl(l),0)}if(o.ok||await $T(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await $T(l)}}function fs(e){var t;let r=null;Lq(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=gq(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function BT(e){const t=fs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function mo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Rq(e){return{data:e,error:null}}function Fq(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Zg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function zT(e){return e}function Lq(e){return e.access_token&&e.refresh_token&&e.expires_in}const i1=["global","local","others"];class $q{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=d5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=i1[0]){if(i1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${i1.join(", ")}`);try{return await Re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Re(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:mo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zg(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Fq,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:mo})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:zT});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Me(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ac(t);try{return await Re(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:mo})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ac(t);try{return await Re(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:mo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ac(t);try{return await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:mo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ac(t.userId);try{const{data:r,error:n}=await Re(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ac(t.userId),Ac(t.id);try{return{data:await Re(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},d=await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:zT});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Me(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function UT(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Nc={debug:!!(globalThis&&u5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Bq extends f5{}async function zq(e,t,r){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Nc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Bq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Nc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Uq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function h5(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Vq(e){return parseInt(e,16)}function Wq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Hq(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=h5(e.address),m=d?`${d}://${n}`:n,v=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}x+=b}return`${g}
${x}`}class jr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class sv extends jr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Kq({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new jr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new jr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(p5(i)){if(s.rp.id!==i)return new jr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new jr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Gq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(p5(n)){if(r.rpId!==n)return new jr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class qq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Yq=new qq;function Xq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Zg(e,["challenge","user","excludeCredentials"]),s=bu(t).buffer,i=Object.assign(Object.assign({},r),{id:bu(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:bu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function Zq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Zg(e,["challenge","allowCredentials"]),a=bu(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:bu(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Jq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jl(new Uint8Array(e.response.attestationObject)),clientDataJSON:jl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Qq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jl(new Uint8Array(a.authenticatorData)),clientDataJSON:jl(new Uint8Array(a.clientDataJSON)),signature:jl(new Uint8Array(a.signature)),userHandle:a.userHandle?jl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function p5(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function VT(){var e,t;return!!(dn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eY(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sv("Browser returned unexpected credential type",t)}:{data:null,error:new sv("Empty credential response",t)}}catch(t){return{data:null,error:Kq({error:t,options:e})}}}async function tY(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sv("Browser returned unexpected credential type",t)}:{data:null,error:new sv("Empty credential response",t)}}catch(t){return{data:null,error:Gq({error:t,options:e})}}}const rY={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nY={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function iv(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=iv(o,i):n[s]=iv(i)}else n[s]=i}return n}function aY(e,t){return iv(rY,e,t||{})}function sY(e,t){return iv(nY,e,t||{})}class iY{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??Yq.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=aY(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await eY({publicKey:c,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const c=sY(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await tY(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(i){return Me(i)?{data:null,error:i}:{data:null,error:new wl("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new s0("rpId is required for WebAuthn authentication")};try{if(!VT())return{data:null,error:new wl("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Me(i)?{data:null,error:i}:{data:null,error:new wl("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new s0("rpId is required for WebAuthn registration")};try{if(!VT())return{data:null,error:new wl("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Me(i)?{data:null,error:i}:{data:null,error:new wl("Unexpected error in register",i)}}}}Uq();const oY={url:nq,storageKey:aq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:sq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function WT(e,t,r){return await r()}const Pc={};class i0{get jwks(){var t,r;return(r=(t=Pc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Pc[this.storageKey]=Object.assign(Object.assign({},Pc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Pc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pc[this.storageKey]=Object.assign(Object.assign({},Pc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},oY),t);if(this.storageKey=s.storageKey,this.instanceID=(r=i0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,i0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&dn()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new $q({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=d5(s.fetch),this.lock=s.lock||WT,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&dn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zq:this.lock=WT,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iY(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:u5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=UT(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=UT(this.memoryStorage)),dn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${o5}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(dn()&&(r=yq(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),dn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),uq(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?this._returnResult({error:r}):this._returnResult({error:new wl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:fs}),{data:i,error:o}=s;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Tc(this.storage,this.storageKey)),s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:fs})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await Re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fs})}else throw new mp("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return await cn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:BT})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await Re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:BT})}else throw new mp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new jc;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,c,d,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let y;if(dn())if(typeof g=="object")y=g;else{const j=window;if("ethereum"in j&&typeof j.ethereum=="object"&&"request"in j.ethereum&&typeof j.ethereum.request=="function")y=j.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(j=>j).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=h5(k[0]);let E=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const j=await y.request({method:"eth_chainId"});E=Vq(j)}const C={domain:_.host,address:S,statement:x,uri:_.href,version:"1",chainId:E,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(d=b==null?void 0:b.signInWithEthereum)===null||d===void 0?void 0:d.resources};p=Hq(C),m=await y.request({method:"personal_sign",params:[Wq(p),S]})}try{const{data:v,error:g}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:fs});if(g)throw g;if(!v||!v.session||!v.user){const x=new jc;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Me(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,s,i,o,l,c,d,f,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:b,options:y}=t;let _;if(dn())if(typeof x=="object")_=x;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),b?{statement:b}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${k.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:g,error:x}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:jl(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:fs});if(x)throw x;if(!g||!g.session||!g.user){const b=new jc;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Me(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await cl(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new dq;const{data:s,error:i}=await Re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fs});if(await cn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const o=new jc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fs}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const d=new jc;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tc(this.storage,this.storageKey));const{error:f}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:d}=await Re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d})}throw new mp("You must provide either an email or phone number.")}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:fs});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Tc(this.storage,this.storageKey));const c=await Re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Rq});return!((s=c.data)===null||s===void 0)&&s.url&&dn()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ma;const{error:a}=await Re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Me(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await Re(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new mp("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<r1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await cl(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=s1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=Oq(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mo}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ma}:await Re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:mo})})}catch(r){if(Me(r))return n1(r)&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new ma;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Tc(this.storage,this.storageKey));const{data:c,error:d}=await Re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:mo});if(d)throw d;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ma;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=gp(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Me(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ma;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Me(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!dn())throw new vp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new DT("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new DT("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!i||!c)throw new vp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;l&&(h=parseInt(l));const p=h-d;p*1e3<=zc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,d);const{data:v,error:g}=await this._getUser(s);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Me(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!n1(s))return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(cq(o)&&(o.status===404||o.status===401||o.status===403)||n1(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await cn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=xq(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Tc(this.storage,this.storageKey,!0));try{return await Re(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,d;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Re(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return dn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Me(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:c,nonce:d}=t,f=await Re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:fs}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new jc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await cn(this.storage,`${this.storageKey}-code-verifier`),Me(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Re(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _q(async a=>(a>0&&await wq(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fs})),(a,s)=>{const i=200*Math.pow(2,a);return s&&a1(s)&&Date.now()+i-n<zc})}catch(n){if(this._debug(r,"error",n),Me(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),dn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await cl(this.storage,this.storageKey);if(a&&this.userStorage){let i=await cl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Uc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:s1()}else if(a&&!a.user&&!a.user){const i=await cl(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await cn(this.storage,this.storageKey+"-user"),await Uc(this.storage,this.storageKey,a)):a.user=s1()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<r1;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${r1}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),a1(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ma;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ex;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new ma;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Me(s)){const i={data:null,error:s};return a1(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await cn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Uc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=LT(a);await Uc(this.storage,this.storageKey,s)}else{const a=LT(r);await Uc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await cn(this.storage,this.storageKey),await cn(this.storage,this.storageKey+"-code-verifier"),await cn(this.storage,this.storageKey+"-user"),this.userStorage&&await cn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&dn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/zc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${zc}ms, refresh threshold is ${_w} ticks`),a<=_w&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!dn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Tc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Re(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Re(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Jq(t.webauthn.credential_response):Qq(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await Re(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Xq(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Zq(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:p}=gp(t);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:g},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(Me(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=gp(i.access_token);let c=null;l.aal&&(c=l.aal);let d=c;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Re(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ma})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ma});const i=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ma});const i=await Re(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&dn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ma})})}catch(t){if(Me(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ma})})}catch(r){if(Me(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+oq>a)return n;const{data:s,error:i}=await Re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=gp(n);r!=null&&r.allowExpired||Aq(s.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const d=Nq(a.alg),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,vq(`${o}.${l}`)))throw new Ew("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Me(n))return this._returnResult({data:null,error:n});throw n}}}i0.nextInstanceID={};const lY=i0,cY="2.93.1";let Qd="";typeof Deno<"u"?Qd="deno":typeof document<"u"?Qd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qd="react-native":Qd="node";function uY(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function dY(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function fY(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function hY(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function pY(){const e={"X-Client-Info":`supabase-js-${Qd}/${cY}`},t=uY();t&&(e["X-Supabase-Client-Platform"]=t);const r=dY();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=fY();n&&(e["X-Supabase-Client-Runtime"]=n);const a=hY();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const mY=pY(),vY={headers:mY},gY={schema:"public"},xY={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yY={};function o0(e){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o0(e)}function bY(e,t){if(o0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(o0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wY(e){var t=bY(e,"string");return o0(t)=="symbol"?t:t+""}function _Y(e,t,r){return(t=wY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const kY=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SY=()=>Headers,EY=(e,t,r)=>{const n=kY(r),a=SY();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,lr(lr({},i),{},{headers:c}))}};function CY(e){return e.endsWith("/")?e:e+"/"}function jY(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:d,global:f}=t,h={db:lr(lr({},l),a),auth:lr(lr({},c),s),realtime:lr(lr({},d),i),storage:{},global:lr(lr(lr({},f),o),{},{headers:lr(lr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function TY(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CY(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var AY=class extends lY{constructor(e){super(e)}},NY=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=TY(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:gY,realtime:yY,auth:lr(lr({},xY),{},{storageKey:i}),global:vY},l=jY(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=EY(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(lr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new lG(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new rq(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new nG(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:i,lock:o,debug:l,throwOnError:c},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new AY({url:this.authUrl.href,headers:lr(lr({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:i,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new EG(this.realtimeUrl.href,lr(lr({},e),{},{params:lr(lr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PY=(e,t,r)=>new NY(e,t,r);function OY(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}OY()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const DY="https://mipiwxadnpwtcgfcedym.supabase.co",MY="sb_publishable_kOxFYyTTDbp9sHMhol9aDQ_SrGUsrmc",ht=PY(DY,MY),m5=w.createContext(void 0),IY=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!0);w.useEffect(()=>{ht.auth.getSession().then(({data:{session:f}})=>{a(f),r((f==null?void 0:f.user)??null),i(!1)});const{data:{subscription:d}}=ht.auth.onAuthStateChange((f,h)=>{a(h),r((h==null?void 0:h.user)??null),i(!1)});return()=>d.unsubscribe()},[]);const o=async d=>{const{error:f}=await ht.auth.signInWithOtp({email:d,options:{emailRedirectTo:window.location.href}});if(f)throw f},l=async()=>{await ht.auth.signOut(),(t==null?void 0:t.id)==="dev-user"&&(r(null),a(null))},c=async()=>{const d={id:"dev-user",aud:"authenticated",role:"authenticated",email:"dev@local.host",email_confirmed_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),last_sign_in_at:new Date().toISOString(),app_metadata:{provider:"email",providers:["email"]},user_metadata:{},identities:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},f={access_token:"mock-token",token_type:"bearer",expires_in:3600,refresh_token:"mock-refresh",user:d};r(d),a(f)};return u.jsx(m5.Provider,{value:{user:t,session:n,loading:s,signInWithEmail:o,signOut:l,signInAsDev:c},children:e})},gk=()=>{const e=w.useContext(m5);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},RY=()=>{const{signInWithEmail:e,signInAsDev:t,loading:r}=gk(),[n,a]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(null),f=async h=>{h.preventDefault(),i(!0),d(null);try{await e(n),l(!0)}catch(p){d(p.message||"Erro ao enviar email")}finally{i(!1)}};return r?u.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:u.jsx(Os,{className:"animate-spin text-blue-500 w-8 h-8"})}):u.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900 p-4",children:u.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl"}),u.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),u.jsxs("div",{className:"relative z-10 text-center",children:[u.jsx("div",{className:"mb-10 flex flex-col items-center justify-center animate-fade-in select-none",children:u.jsxs("div",{className:"bg-black p-6 rounded-2xl border border-white/10 shadow-2xl flex flex-col items-center justify-center gap-1",children:[u.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent leading-none tracking-tight",children:"GaaS"}),u.jsx("span",{className:"text-sm font-bold text-white tracking-widest uppercase leading-tight opacity-90 pl-0.5",children:"AFINZ"})]})}),u.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Login Corporativo"}),u.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Acesse a rea segura para sincronizar dados e gerenciar arquivos na nuvem."}),o?u.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 p-6 rounded-xl text-sm border border-emerald-500/20 animate-fade-in text-left",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-emerald-300",children:[u.jsx(tn,{size:18}),u.jsx("span",{children:"Link Enviado!"})]}),u.jsx("p",{className:"mb-2",children:"Enviamos um link de acesso mgico para:"}),u.jsx("code",{className:"block bg-black/20 p-2 rounded text-emerald-200 mb-4 font-mono",children:n}),u.jsx("p",{className:"text-xs opacity-80",children:"Verifique sua caixa de entrada (e spam) e clique no link para entrar."})]}):u.jsxs("form",{onSubmit:f,className:"space-y-5",children:[u.jsxs("div",{className:"text-left group",children:[u.jsxs("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-2 tracking-wider ml-1",children:["Email ",u.jsx("span",{className:"opacity-50",children:"(@afinz.com.br)"})]}),u.jsxs("div",{className:"relative",children:[u.jsx(pw,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-blue-400 transition-colors"}),u.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-900/50 border border-slate-700 text-white pl-11 pr-4 py-3 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"seu.nome@afinz.com.br",value:n,onChange:h=>a(h.target.value)})]})]}),c&&u.jsxs("div",{className:"text-xs text-red-200 bg-red-500/20 p-3 rounded-lg flex items-center gap-2 border border-red-500/30",children:[u.jsx(Ds,{size:14}),c]}),u.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/25 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:s?u.jsx(Os,{className:"animate-spin w-5 h-5"}):u.jsxs(u.Fragment,{children:["Receber Link de Acesso",u.jsx(ck,{size:18})]})})]}),u.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:u.jsxs("button",{type:"button",onClick:()=>t(),className:"text-xs font-bold text-slate-500 hover:text-emerald-400 transition-colors uppercase tracking-widest flex items-center justify-center gap-2 mx-auto",children:[u.jsx(bT,{size:14}),"Entrar como Desenvolvedor (Bypass)"]})}),u.jsxs("p",{className:"mt-8 text-xs text-slate-500 flex items-center justify-center gap-1.5 opacity-60",children:[u.jsx(bT,{size:12}),"Ambiente Seguro & Criptografado"]})]})]})})};function v5(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=v5(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function tt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=v5(e))&&(n&&(n+=" "),n+=t);return n}var FY=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function xk(e){if(typeof e!="string")return!1;var t=FY;return t.includes(e)}var LY=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$Y=new Set(LY);function g5(e){return typeof e!="string"?!1:$Y.has(e)}function x5(e){return typeof e=="string"&&e.startsWith("data-")}function Zn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g5(r)||x5(r))&&(t[r]=e[r]);return t}function Xl(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Zn(t)}return typeof e=="object"&&!Array.isArray(e)?Zn(e):null}function bn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(g5(r)||x5(r)||xk(r))&&(t[r]=e[r]);return t}function BY(e){return e==null?null:w.isValidElement(e)?bn(e.props):typeof e=="object"&&!Array.isArray(e)?bn(e):null}var zY=["children","width","height","viewBox","className","style","title","desc"];function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(null,arguments)}function UY(e,t){if(e==null)return{};var r,n,a=VY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yk=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,d=UY(e,zY),f=s||{width:n,height:a,x:0,y:0},h=tt("recharts-surface",i);return w.createElement("svg",Cw({},bn(d),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,l),w.createElement("desc",null,c),r)}),WY=["children","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(null,arguments)}function HY(e,t){if(e==null)return{};var r,n,a=KY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ar=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=HY(e,WY),s=tt("recharts-layer",n);return w.createElement("g",jw({className:s},bn(a),{ref:t}),r)}),y5=w.createContext(null),GY=()=>w.useContext(y5);function Tt(e){return function(){return e}}const b5=Math.cos,ov=Math.sin,Ms=Math.sqrt,lv=Math.PI,tx=2*lv,Tw=Math.PI,Aw=2*Tw,ml=1e-6,qY=Aw-ml;function w5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function YY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return w5;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class XY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?w5:YY(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,c=a-r,d=i-t,f=o-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ml)if(!(Math.abs(f*l-c*d)>ml)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-o,v=l*l+c*c,g=p*p+m*m,x=Math.sqrt(v),b=Math.sqrt(h),y=s*Math.tan((Tw-Math.acos((v+h-g)/(2*x*b)))/2),_=y/b,k=y/x;Math.abs(_-1)>ml&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>d*m)},${this._x1=t+k*l},${this._y1=r+k*c}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,d=r+l,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>ml||Math.abs(this._y1-d)>ml)&&this._append`L${c},${d}`,n&&(h<0&&(h=h%Aw+Aw),h>qY?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=d}`:h>ml&&this._append`A${n},${n},0,${+(h>=Tw)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function bk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new XY(t)}function wk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _5(e){this._context=e}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function rx(e){return new _5(e)}function k5(e){return e[0]}function S5(e){return e[1]}function E5(e,t){var r=Tt(!0),n=null,a=rx,s=null,i=bk(o);e=typeof e=="function"?e:e===void 0?k5:Tt(e),t=typeof t=="function"?t:t===void 0?S5:Tt(t);function o(l){var c,d=(l=wk(l)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),c=0;c<=d;++c)!(c<d&&r(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,l),+t(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:Tt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:Tt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Tt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function xp(e,t,r){var n=null,a=Tt(!0),s=null,i=rx,o=null,l=bk(c);e=typeof e=="function"?e:e===void 0?k5:Tt(+e),t=typeof t=="function"?t:Tt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?S5:Tt(+r);function c(f){var h,p,m,v=(f=wk(f)).length,g,x=!1,b,y=new Array(v),_=new Array(v);for(s==null&&(o=i(b=l())),h=0;h<=v;++h){if(!(h<v&&a(g=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],_[m]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(g,h,f),_[h]=+t(g,h,f),o.point(n?+n(g,h,f):y[h],r?+r(g,h,f):_[h]))}if(b)return o=null,b+""||null}function d(){return E5().defined(a).curve(i).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Tt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Tt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Tt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Tt(+f),c):r},c.lineX0=c.lineY0=function(){return d().x(e).y(t)},c.lineY1=function(){return d().x(e).y(r)},c.lineX1=function(){return d().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Tt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),c):i},c.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),c):s},c}class C5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ZY(e){return new C5(e,!0)}function JY(e){return new C5(e,!1)}const _k={draw(e,t){const r=Ms(t/lv);e.moveTo(r,0),e.arc(0,0,r,0,tx)}},QY={draw(e,t){const r=Ms(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},j5=Ms(1/3),eX=j5*2,tX={draw(e,t){const r=Ms(t/eX),n=r*j5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},rX={draw(e,t){const r=Ms(t),n=-r/2;e.rect(n,n,r,r)}},nX=.8908130915292852,T5=ov(lv/10)/ov(7*lv/10),aX=ov(tx/10)*T5,sX=-b5(tx/10)*T5,iX={draw(e,t){const r=Ms(t*nX),n=aX*r,a=sX*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=tx*s/5,o=b5(i),l=ov(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},o1=Ms(3),oX={draw(e,t){const r=-Ms(t/(o1*3));e.moveTo(0,r*2),e.lineTo(-o1*r,-r),e.lineTo(o1*r,-r),e.closePath()}},Da=-.5,Ma=Ms(3)/2,Nw=1/Ms(12),lX=(Nw/2+1)*3,cX={draw(e,t){const r=Ms(t/lX),n=r/2,a=r*Nw,s=n,i=r*Nw+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(Da*n-Ma*a,Ma*n+Da*a),e.lineTo(Da*s-Ma*i,Ma*s+Da*i),e.lineTo(Da*o-Ma*l,Ma*o+Da*l),e.lineTo(Da*n+Ma*a,Da*a-Ma*n),e.lineTo(Da*s+Ma*i,Da*i-Ma*s),e.lineTo(Da*o+Ma*l,Da*l-Ma*o),e.closePath()}};function uX(e,t){let r=null,n=bk(a);e=typeof e=="function"?e:Tt(e||_k),t=typeof t=="function"?t:Tt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:Tt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function cv(){}function uv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function A5(e){this._context=e}A5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:uv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function dX(e){return new A5(e)}function N5(e){this._context=e}N5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function fX(e){return new N5(e)}function P5(e){this._context=e}P5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:uv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hX(e){return new P5(e)}function O5(e){this._context=e}O5.prototype={areaStart:cv,areaEnd:cv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function pX(e){return new O5(e)}function KT(e){return e<0?-1:1}function GT(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(KT(s)+KT(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function qT(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function l1(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function dv(e){this._context=e}dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l1(this,this._t0,qT(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,l1(this,qT(this,r=GT(this,e,t)),r);break;default:l1(this,this._t0,r=GT(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function D5(e){this._context=new M5(e)}(D5.prototype=Object.create(dv.prototype)).point=function(e,t){dv.prototype.point.call(this,t,e)};function M5(e){this._context=e}M5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function mX(e){return new dv(e)}function vX(e){return new D5(e)}function I5(e){this._context=e}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=YT(e),a=YT(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function YT(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function gX(e){return new I5(e)}function nx(e,t){this._context=e,this._t=t}nx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function xX(e){return new nx(e,.5)}function yX(e){return new nx(e,0)}function bX(e){return new nx(e,1)}function Lu(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Pw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function wX(e,t){return e[t]}function _X(e){const t=[];return t.key=e,t}function kX(){var e=Tt([]),t=Pw,r=Lu,n=wX;function a(s){var i=Array.from(e.apply(this,arguments),_X),o,l=i.length,c=-1,d;for(const f of s)for(o=0,++c;o<l;++o)(i[o][c]=[0,+n(f,i[o].key,c,s)]).data=f;for(o=0,d=wk(t(i));o<l;++o)i[d[o]].index=o;return r(i,d),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Tt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Tt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?Pw:typeof s=="function"?s:Tt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Lu,a):r},a}function SX(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Lu(e,t)}}function EX(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}Lu(e,t)}}function CX(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,c=0;o<i;++o){for(var d=e[t[o]],f=d[n][1]||0,h=d[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var v=e[t[m]],g=v[n][1]||0,x=v[n-1][1]||0;p+=g-x}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Lu(e,t)}}var ax={},R5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(R5);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(kk);var sx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(sx);var ix={},F5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(F5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5,r=sx;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let o=0,l="",c="",d=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];c?f==="\\"&&o+1<i?(o++,l+=a[o]):f===c?c="":l+=f:d?f==='"'||f==="'"?c=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}e.toPath=n})(ix);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R5,r=kk,n=sx,a=ix;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?r.isDeepKey(l)?s(o,a.toPath(l),c):c:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?c:d}default:{if(Array.isArray(l))return i(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const d=o[l];return d===void 0?c:d}}}function i(o,l,c){if(l.length===0)return c;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return c;d=d[l[f]]}return d===void 0?c:d}e.get=s})(ax);var jX=ax.get;const Zl=si(jX);var rn=e=>e===0?0:e>0?1:-1,da=e=>typeof e=="number"&&e!=+e,Li=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,je=e=>(typeof e=="number"||e instanceof Number)&&!da(e),Qa=e=>je(e)||typeof e=="string",TX=0,l0=e=>{var t=++TX;return"".concat(e||"").concat(t)},Mn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!je(t)&&typeof t!="string")return n;var s;if(Li(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return da(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},L5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ft(e,t,r){return je(e)&&je(t)?e+r*(t-e):t}function $5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Zl(n,t))===r)}var Bt=e=>e===null||typeof e>"u",Q0=e=>Bt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function AX(e){return e!=null}function eh(){}var NX=["type","size","sizeType"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ow.apply(null,arguments)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ZT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){PX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MX(e,t){if(e==null)return{};var r,n,a=IX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function IX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B5={symbolCircle:_k,symbolCross:QY,symbolDiamond:tX,symbolSquare:rX,symbolStar:iX,symbolTriangle:oX,symbolWye:cX},RX=Math.PI/180,FX=e=>{var t="symbol".concat(Q0(e));return B5[t]||_k},LX=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*RX;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},$X=(e,t)=>{B5["symbol".concat(Q0(e))]=t},Sk=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=MX(e,NX),s=ZT(ZT({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var o=()=>{var h=FX(i),p=uX().type(h).size(LX(r,n,i)),m=p();if(m!==null)return m},{className:l,cx:c,cy:d}=s,f=bn(s);return je(c)&&je(d)&&je(r)?w.createElement("path",Ow({},f,{className:tt("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(d,")"),d:o()})):null};Sk.registerSymbol=$X;var z5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Ek=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{xk(a)&&(n[a]=s=>r[a](r,s))}),n},BX=(e,t,r)=>n=>(e(t,r,n),null),th=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];xk(a)&&typeof s=="function"&&(n||(n={}),n[a]=BX(s,t,r))}),n};function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){UX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UX(e,t,r){return(t=VX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VX(e){var t=WX(e,"string");return typeof t=="symbol"?t:t+""}function WX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sr(e,t){var r=zX({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){KX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KX(e,t,r){return(t=GX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var La=32,YX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function XX(e){var{data:t,iconType:r,inactiveColor:n}=e,a=La/2,s=La/6,i=La/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:La,y2:a,className:"recharts-legend-icon"})}if(l==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(La,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(La/8,"h").concat(La,"v").concat(La*3/4,"h").concat(-La,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var d=HX({},t);return delete d.legendIcon,w.cloneElement(t.legendIcon,d)}return w.createElement(Sk,{fill:o,cx:a,cy:a,size:La,sizeType:"diameter",type:l})}function ZX(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,o={x:0,y:0,width:La,height:La},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||a,p=tt({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var m=d.inactive?s:d.color,v=h?h(d.value,d,f):d.value;return w.createElement("li",fv({className:p,style:l,key:"legend-item-".concat(f)},th(e,d,f)),w.createElement(yk,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},w.createElement(XX,{data:d,iconType:i,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v))})}var JX=e=>{var t=sr(e,YX),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(ZX,fv({},t,{payload:r})))},U5={},V5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t})(V5);var Ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ck);var W5={},ox={},H5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(H5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ox);var K5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(K5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ox,r=K5;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(W5);var G5={},q5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ax;function r(n){return function(a){return t.get(a,n)}}e.property=r})(q5);var Y5={},jk={},X5={},Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tk);var Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ak);var Nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Nk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,r=Ak,n=Nk;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):s(d,f,function p(m,v,g,x,b,y){const _=h(m,v,g,x,b,y);return _!==void 0?!!_:s(m,v,p,y)},new Map)}function s(d,f,h,p){if(f===d)return!0;switch(typeof f){case"object":return i(d,f,h,p);case"function":return Object.keys(f).length>0?s(d,{...f},h,p):n.eq(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function i(d,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,p);if(f instanceof Map)return o(d,f,h,p);if(f instanceof Set)return c(d,f,h,p);const m=Object.keys(f);if(d==null)return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===d;p==null||p.set(f,d);try{for(let v=0;v<m.length;v++){const g=m[v];if(!r.isPrimitive(d)&&!(g in d)||f[g]===void 0&&d[g]!==void 0||f[g]===null&&d[g]!==null||!h(d[g],f[g],g,d,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(d,f,h,p){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[m,v]of f.entries()){const g=d.get(m);if(h(g,v,m,d,f,p)===!1)return!1}return!0}function l(d,f,h,p){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const m=new Set;for(let v=0;v<f.length;v++){const g=f[v];let x=!1;for(let b=0;b<d.length;b++){if(m.has(b))continue;const y=d[b];let _=!1;if(h(y,g,v,d,f,p)&&(_=!0),_){m.add(b),x=!0;break}}if(!x)return!1}return!0}function c(d,f,h,p){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=c})(X5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X5;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(jk);var Z5={},Pk={},J5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(J5);var Ok={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Ok);var Dk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",g="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",y="[object Uint32Array]",_="[object BigUint64Array]",k="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",j="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=j,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=k,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=y,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=x})(Dk);var Q5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Q5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5,r=Ok,n=Dk,a=Ak,s=Q5;function i(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,p=new Map,m=void 0){const v=m==null?void 0:m(d,f,h,p);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(p.has(d))return p.get(d);if(Array.isArray(d)){const g=new Array(d.length);p.set(d,g);for(let x=0;x<d.length;x++)g[x]=o(d[x],x,h,p,m);return Object.hasOwn(d,"index")&&(g.index=d.index),Object.hasOwn(d,"input")&&(g.input=d.input),g}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const g=new RegExp(d.source,d.flags);return g.lastIndex=d.lastIndex,g}if(d instanceof Map){const g=new Map;p.set(d,g);for(const[x,b]of d)g.set(x,o(b,x,h,p,m));return g}if(d instanceof Set){const g=new Set;p.set(d,g);for(const x of d)g.add(o(x,void 0,h,p,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const g=new(Object.getPrototypeOf(d)).constructor(d.length);p.set(d,g);for(let x=0;x<d.length;x++)g[x]=o(d[x],x,h,p,m);return g}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const g=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return p.set(d,g),l(g,d,h,p,m),g}if(typeof File<"u"&&d instanceof File){const g=new File([d],d.name,{type:d.type});return p.set(d,g),l(g,d,h,p,m),g}if(typeof Blob<"u"&&d instanceof Blob){const g=new Blob([d],{type:d.type});return p.set(d,g),l(g,d,h,p,m),g}if(d instanceof Error){const g=new d.constructor;return p.set(d,g),g.message=d.message,g.name=d.name,g.stack=d.stack,g.cause=d.cause,l(g,d,h,p,m),g}if(d instanceof Boolean){const g=new Boolean(d.valueOf());return p.set(d,g),l(g,d,h,p,m),g}if(d instanceof Number){const g=new Number(d.valueOf());return p.set(d,g),l(g,d,h,p,m),g}if(d instanceof String){const g=new String(d.valueOf());return p.set(d,g),l(g,d,h,p,m),g}if(typeof d=="object"&&c(d)){const g=Object.create(Object.getPrototypeOf(d));return p.set(d,g),l(g,d,h,p,m),g}return d}function l(d,f,h=d,p,m){const v=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<v.length;g++){const x=v[g],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,p,m))}}function c(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l})(Pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Z5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,r=Z5;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(Y5);var eR={},tR={},rR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pk,r=Dk;function n(a,s){return t.cloneDeepWith(a,(i,o,l,c)=>{const d=s==null?void 0:s(i,o,l,c);if(d!==void 0)return d;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(tR);var nR={},Mk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Mk);var aR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ok;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(aR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kk,r=Mk,n=aR,a=ix;function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=i;for(let d=0;d<l.length;d++){const f=l[d];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(nR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jk,r=sx,n=tR,a=ax,s=nR;function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const d=a.get(c,o);return d===void 0?s.has(c,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=i})(eR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ck,r=q5,n=Y5,a=eR;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(G5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=V5,r=Ck,n=W5,a=G5;function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s})(U5);var QX=U5.uniqBy;const eA=si(QX);function sR(e,t,r){return t===!0?eA(e,r):typeof t=="function"?eA(e,t):e}var iR={exports:{}},oR={},lR={exports:{}},cR={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $u=w;function eZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tZ=typeof Object.is=="function"?Object.is:eZ,rZ=$u.useState,nZ=$u.useEffect,aZ=$u.useLayoutEffect,sZ=$u.useDebugValue;function iZ(e,t){var r=t(),n=rZ({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return aZ(function(){a.value=r,a.getSnapshot=t,c1(a)&&s({inst:a})},[e,r,t]),nZ(function(){return c1(a)&&s({inst:a}),e(function(){c1(a)&&s({inst:a})})},[e]),sZ(r),r}function c1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tZ(e,r)}catch{return!0}}function oZ(e,t){return t()}var lZ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?oZ:iZ;cR.useSyncExternalStore=$u.useSyncExternalStore!==void 0?$u.useSyncExternalStore:lZ;lR.exports=cR;var cZ=lR.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lx=w,uZ=cZ;function dZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fZ=typeof Object.is=="function"?Object.is:dZ,hZ=uZ.useSyncExternalStore,pZ=lx.useRef,mZ=lx.useEffect,vZ=lx.useMemo,gZ=lx.useDebugValue;oR.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=pZ(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=vZ(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,fZ(d,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(d=p,m):(d=p,f=v)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=hZ(e,s[0],s[1]);return mZ(function(){i.hasValue=!0,i.value=o},[o]),gZ(o),o};iR.exports=oR;var xZ=iR.exports,Ik=w.createContext(null),yZ=e=>e,Et=()=>{var e=w.useContext(Ik);return e?e.store.dispatch:yZ},ym=()=>{},bZ=()=>ym,wZ=(e,t)=>e===t;function Te(e){var t=w.useContext(Ik);return xZ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:bZ,t?t.store.getState:ym,t?t.store.getState:ym,t?e:ym,wZ)}function _Z(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function kZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function SZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var tA=e=>Array.isArray(e)?e:[e];function EZ(e){const t=Array.isArray(e[0])?e[0]:e;return SZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CZ(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var jZ=class{constructor(e){this.value=e}deref(){return this.value}},TZ=typeof WeakRef<"u"?WeakRef:jZ,AZ=0,rA=1;function yp(){return{s:AZ,v:void 0,o:null,p:null}}function uR(e,t={}){let r=yp();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=yp(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=yp(),v.set(m,o)):o=g}}const c=o;let d;if(o.s===rA)d=o.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,s!==0&&s--),a=typeof d=="object"&&d!==null||typeof d=="function"?new TZ(d):d}return c.s=rA,c.v=d,d}return i.clearCache=()=>{r=yp(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function NZ(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),_Z(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const d={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=uR,argsMemoizeOptions:m=[]}=d,v=tA(h),g=tA(m),x=EZ(a),b=f(function(){return s++,c.apply(null,arguments)},...v),y=p(function(){i++;const k=CZ(x,arguments);return o=b.apply(null,k),o},...g);return Object.assign(y,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ne=NZ(uR),PZ=Object.assign((e,t=ne)=>{kZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>PZ}),dR={},fR={},hR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r})(hR);var pR={},Rk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Rk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(pR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hR,r=pR,n=ix;function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,m)=>{let v=p;for(let g=0;g<m.length&&v!=null;++g)v=v[m[g]];return v},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let v=0;v<f.length;v++){const g=t.compareValues(p.criteria[v],m.criteria[v],o[v]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=a})(fR);var mR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let c=0;c<o.length;c++){const d=o[c];Array.isArray(d)&&l<s?i(d,l+1):a.push(d)}};return i(r,0),a}e.flatten=t})(mR);var Fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mk,r=ox,n=Tk,a=Nk;function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s})(Fk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fR,r=mR,n=Fk;function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(dR);var OZ=dR.sortBy;const cx=si(OZ);var vR=e=>e.legend.settings,DZ=e=>e.legend.size,MZ=e=>e.legend.payload,IZ=ne([MZ,vR],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?cx(n,r):n});function RZ(){return Te(IZ)}var bp=1;function gR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>bp||Math.abs(i.left-t.left)>bp||Math.abs(i.top-t.top)>bp||Math.abs(i.width-t.width)>bp)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function fn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var FZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",nA=FZ,u1=()=>Math.random().toString(36).substring(7).split("").join("."),LZ={INIT:`@@redux/INIT${u1()}`,REPLACE:`@@redux/REPLACE${u1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${u1()}`},hv=LZ;function Lk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xR(e,t,r){if(typeof e!="function")throw new Error(fn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(fn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(fn(1));return r(xR)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function d(){if(l)throw new Error(fn(3));return a}function f(g){if(typeof g!="function")throw new Error(fn(4));if(l)throw new Error(fn(5));let x=!0;c();const b=o++;return i.set(b,g),function(){if(x){if(l)throw new Error(fn(6));x=!1,c(),i.delete(b),s=null}}}function h(g){if(!Lk(g))throw new Error(fn(7));if(typeof g.type>"u")throw new Error(fn(8));if(typeof g.type!="string")throw new Error(fn(17));if(l)throw new Error(fn(9));try{l=!0,a=n(a,g)}finally{l=!1}return(s=i).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(fn(10));n=g,h({type:hv.REPLACE})}function m(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(fn(11));function b(){const _=x;_.next&&_.next(d())}return b(),{unsubscribe:g(b)}},[nA](){return this}}}return h({type:hv.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:p,[nA]:m}}function $Z(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:hv.INIT})>"u")throw new Error(fn(12));if(typeof r(void 0,{type:hv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(fn(13))})}function yR(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{$Z(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const c={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],p=i[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(fn(14));c[f]=m,l=l||m!==p}return l=l||n.length!==Object.keys(i).length,l?c:i}}function pv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function BZ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(fn(15))};const i={getState:a.getState,dispatch:(l,...c)=>s(l,...c)},o=e.map(l=>l(i));return s=pv(...o)(a.dispatch),{...a,dispatch:s}}}function bR(e){return Lk(e)&&"type"in e&&typeof e.type=="string"}var wR=Symbol.for("immer-nothing"),aA=Symbol.for("immer-draftable"),Jn=Symbol.for("immer-state");function xs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ka=Object,Bu=ka.getPrototypeOf,mv="constructor",ux="prototype",Dw="configurable",vv="enumerable",bm="writable",c0="value",$i=e=>!!e&&!!e[Jn];function Js(e){var t;return e?_R(e)||dx(e)||!!e[aA]||!!((t=e[mv])!=null&&t[aA])||fx(e)||hx(e):!1}var zZ=ka[ux][mv].toString(),sA=new WeakMap;function _R(e){if(!e||!$k(e))return!1;const t=Bu(e);if(t===null||t===ka[ux])return!0;const r=ka.hasOwnProperty.call(t,mv)&&t[mv];if(r===Object)return!0;if(!Vc(r))return!1;let n=sA.get(r);return n===void 0&&(n=Function.toString.call(r),sA.set(r,n)),n===zZ}function rh(e,t,r=!0){nh(e)===0?(r?Reflect.ownKeys(e):ka.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function nh(e){const t=e[Jn];return t?t.type_:dx(e)?1:fx(e)?2:hx(e)?3:0}var iA=(e,t,r=nh(e))=>r===2?e.has(t):ka[ux].hasOwnProperty.call(e,t),Mw=(e,t,r=nh(e))=>r===2?e.get(t):e[t],gv=(e,t,r,n=nh(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function UZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var dx=Array.isArray,fx=e=>e instanceof Map,hx=e=>e instanceof Set,$k=e=>typeof e=="object",Vc=e=>typeof e=="function",d1=e=>typeof e=="boolean",xi=e=>e.copy_||e.base_,Bk=e=>e.modified_?e.copy_:e.base_;function Iw(e,t){if(fx(e))return new Map(e);if(hx(e))return new Set(e);if(dx(e))return Array[ux].slice.call(e);const r=_R(e);if(t===!0||t==="class_only"&&!r){const n=ka.getOwnPropertyDescriptors(e);delete n[Jn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o[bm]===!1&&(o[bm]=!0,o[Dw]=!0),(o.get||o.set)&&(n[i]={[Dw]:!0,[bm]:!0,[vv]:o[vv],[c0]:e[i]})}return ka.create(Bu(e),n)}else{const n=Bu(e);if(n!==null&&r)return{...e};const a=ka.create(n);return ka.assign(a,e)}}function zk(e,t=!1){return px(e)||$i(e)||(nh(e)>1&&ka.defineProperties(e,{set:wp,add:wp,clear:wp,delete:wp}),ka.freeze(e),t&&rh(e,(r,n)=>{zk(n,!0)},!1)),e}function VZ(){xs(2)}var wp={[c0]:VZ};function px(e){return e===null||!$k(e)?!0:ka.isFrozen(e)}var xv="MapSet",Rw="Patches",kR={};function zu(e){const t=kR[e];return t||xs(0,e),t}var WZ=e=>!!kR[e],u0,SR=()=>u0,HZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:WZ(xv)?zu(xv):void 0});function oA(e,t){t&&(e.patchPlugin_=zu(Rw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Fw(e){Lw(e),e.drafts_.forEach(KZ),e.drafts_=null}function Lw(e){e===u0&&(u0=e.parent_)}var lA=e=>u0=HZ(u0,e);function KZ(e){const t=e[Jn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function cA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Jn].modified_&&(Fw(t),xs(4)),Js(e)&&(e=uA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Jn].base_,e,t)}else e=uA(t,r);return GZ(t,e,!0),Fw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wR?e:void 0}function uA(e,t){if(px(t))return t;const r=t[Jn];if(!r)return Uk(t,e.handledSet_,e);if(!mx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);jR(r,e)}return r.copy_}function GZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zk(t,r)}function ER(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var mx=(e,t)=>e.scope_===t,qZ=[];function CR(e,t,r,n){const a=xi(e),s=e.type_;if(n!==void 0&&Mw(a,n,s)===t){gv(a,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;rh(a,(l,c)=>{if($i(c)){const d=o.get(c)||[];d.push(l),o.set(c,d)}})}const i=e.draftLocations_.get(t)??qZ;for(const o of i)gv(a,o,r,s)}function YZ(e,t,r){e.callbacks_.push(function(a){var o;const s=t;if(!s||!mx(s,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(s);const i=Bk(s);CR(e,s.draft_??s,i,r),jR(s,a)})}function jR(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}ER(e)}}function XZ(e,t,r){const{scope_:n}=e;if($i(r)){const a=r[Jn];mx(a,n)&&a.callbacks_.push(function(){wm(e);const i=Bk(a);CR(e,r,i,t)})}else Js(r)&&e.callbacks_.push(function(){const s=xi(e);Mw(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Uk(Mw(e.copy_,t,e.type_),n.handledSet_,n)})}function Uk(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||$i(e)||t.has(e)||!Js(e)||px(e)||(t.add(e),rh(e,(n,a)=>{if($i(a)){const s=a[Jn];if(mx(s,r)){const i=Bk(s);gv(e,n,i,e.type_),ER(s)}}else Js(a)&&Uk(a,t,r)})),e}function ZZ(e,t){const r=dx(e),n={type_:r?1:0,scope_:t?t.scope_:SR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Vk;r&&(a=[n],s=d0);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}var Vk={get(e,t){if(t===Jn)return e;const r=xi(e);if(!iA(r,t,e.type_))return JZ(e,r,t);const n=r[t];if(e.finalized_||!Js(n))return n;if(n===f1(e.base_,t)){wm(e);const a=e.type_===1?+t:t,s=Bw(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in xi(e)},ownKeys(e){return Reflect.ownKeys(xi(e))},set(e,t,r){const n=TR(xi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=f1(xi(e),t),s=a==null?void 0:a[Jn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(UZ(r,a)&&(r!==void 0||iA(e.base_,t,e.type_)))return!0;wm(e),$w(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),XZ(e,t,r)),!0},deleteProperty(e,t){return wm(e),f1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),$w(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[bm]:!0,[Dw]:e.type_!==1||t!=="length",[vv]:n[vv],[c0]:r[t]}},defineProperty(){xs(11)},getPrototypeOf(e){return Bu(e.base_)},setPrototypeOf(){xs(12)}},d0={};rh(Vk,(e,t)=>{d0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});d0.deleteProperty=function(e,t){return d0.set.call(this,e,t,void 0)};d0.set=function(e,t,r){return Vk.set.call(this,e[0],t,r,e[0])};function f1(e,t){const r=e[Jn];return(r?xi(r):e)[t]}function JZ(e,t,r){var a;const n=TR(t,r);return n?c0 in n?n[c0]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function TR(e,t){if(!(t in e))return;let r=Bu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Bu(r)}}function $w(e){e.modified_||(e.modified_=!0,e.parent_&&$w(e.parent_))}function wm(e){e.copy_||(e.assigned_=new Map,e.copy_=Iw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Vc(r)&&!Vc(n)){const i=n;n=r;const o=this;return function(c=i,...d){return o.produce(c,f=>n.call(this,f,...d))}}Vc(n)||xs(6),a!==void 0&&!Vc(a)&&xs(7);let s;if(Js(r)){const i=lA(this),o=Bw(i,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?Fw(i):Lw(i)}return oA(i,a),cA(s,i)}else if(!r||!$k(r)){if(s=n(r),s===void 0&&(s=r),s===wR&&(s=void 0),this.autoFreeze_&&zk(s,!0),a){const i=[],o=[];zu(Rw).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:o}),a(i,o)}return s}else xs(1,r)},this.produceWithPatches=(r,n)=>{if(Vc(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let a,s;return[this.produce(r,n,(o,l)=>{a=o,s=l}),a,s]},d1(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),d1(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),d1(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Js(t)||xs(8),$i(t)&&(t=Ts(t));const r=lA(this),n=Bw(r,t,void 0);return n[Jn].isManual_=!0,Lw(r),n}finishDraft(t,r){const n=t&&t[Jn];(!n||!n.isManual_)&&xs(9);const{scope_:a}=n;return oA(a,r),cA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=zu(Rw).applyPatches_;return $i(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Bw(e,t,r,n){const[a,s]=fx(t)?zu(xv).proxyMap_(t,r):hx(t)?zu(xv).proxySet_(t,r):ZZ(t,r);return((r==null?void 0:r.scope_)??SR()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?YZ(r,s,n):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),a}function Ts(e){return $i(e)||xs(10,e),AR(e)}function AR(e){if(!Js(e)||px(e))return e;const t=e[Jn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Iw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Iw(e,!0);return rh(r,(a,s)=>{gv(r,a,AR(s))},n),t&&(t.finalized_=!1),r}var eJ=new QZ,NR=eJ.produce;function PR(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var tJ=PR(),rJ=PR,nJ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?pv:pv.apply(null,arguments)};function es(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Ea(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>bR(n)&&n.type===e,r}var OR=class ef extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,ef.prototype)}static get[Symbol.species](){return ef}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new ef(...t[0].concat(this)):new ef(...t.concat(this))}};function dA(e){return Js(e)?NR(e,()=>{}):e}function _p(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function aJ(e){return typeof e=="boolean"}var sJ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new OR;return r&&(aJ(r)?i.push(tJ):i.push(rJ(r.extraArgument))),i},DR="RTK_autoBatch",zt=()=>e=>({payload:e,meta:{[DR]:!0}}),fA=e=>t=>{setTimeout(t,e)},MR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fA(10):e.type==="callback"?e.queueNotification:fA(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[DR]),s=!a,s&&(i||(i=!0,l(c))),n.dispatch(d)}finally{a=!0}}})},iJ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new OR(e);return n&&a.push(MR(typeof n=="object"?n:void 0)),a};function oJ(e){const t=sJ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(Lk(r))o=yR(r);else throw new Error(Ea(1));let l;typeof n=="function"?l=n(t):l=t();let c=pv;a&&(c=nJ({trace:!1,...typeof a=="object"&&a}));const d=BZ(...l),f=iJ(d);let h=typeof i=="function"?i(f):f();const p=c(...h);return xR(o,s,p)}function IR(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Ea(28));if(o in t)throw new Error(Ea(29));return t[o]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function lJ(e){return typeof e=="function"}function cJ(e,t){let[r,n,a]=IR(t),s;if(lJ(e))s=()=>dA(e());else{const o=dA(e);s=()=>o}function i(o=s(),l){let c=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[a]),c.reduce((d,f)=>{if(f)if($i(d)){const p=f(d,l);return p===void 0?d:p}else{if(Js(d))return NR(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return i.getInitialState=s,i}var uJ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dJ=(e=21)=>{let t="",r=e;for(;r--;)t+=uJ[Math.random()*64|0];return t},fJ=Symbol.for("rtk-slice-createasyncthunk");function hJ(e,t){return`${e}/${t}`}function pJ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[fJ];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(Ea(11));const o=(typeof a.reducers=="function"?a.reducers(vJ()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,k){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(Ea(12));if(S in c.sliceCaseReducersByType)throw new Error(Ea(13));return c.sliceCaseReducersByType[S]=k,d},addMatcher(_,k){return c.sliceMatchers.push({matcher:_,reducer:k}),d},exposeAction(_,k){return c.actionCreators[_]=k,d},exposeCaseReducer(_,k){return c.sliceCaseReducersByName[_]=k,d}};l.forEach(_=>{const k=o[_],S={reducerName:_,type:hJ(s,_),createNotation:typeof a.reducers=="function"};xJ(k)?bJ(S,k,d,t):gJ(S,k,d)});function f(){const[_={},k=[],S=void 0]=typeof a.extraReducers=="function"?IR(a.extraReducers):[a.extraReducers],E={..._,...c.sliceCaseReducersByType};return cJ(a.initialState,C=>{for(let j in E)C.addCase(j,E[j]);for(let j of c.sliceMatchers)C.addMatcher(j.matcher,j.reducer);for(let j of k)C.addMatcher(j.matcher,j.reducer);S&&C.addDefaultCase(S)})}const h=_=>_,p=new Map,m=new WeakMap;let v;function g(_,k){return v||(v=f()),v(_,k)}function x(){return v||(v=f()),v.getInitialState()}function b(_,k=!1){function S(C){let j=C[_];return typeof j>"u"&&k&&(j=_p(m,S,x)),j}function E(C=h){const j=_p(p,k,()=>new WeakMap);return _p(j,C,()=>{const T={};for(const[N,A]of Object.entries(a.selectors??{}))T[N]=mJ(A,C,()=>_p(m,C,x),k);return T})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const y={name:s,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(_,{reducerPath:k,...S}={}){const E=k??i;return _.inject({reducerPath:E,reducer:g},S),{...y,...b(E,!0)}}};return y}}function mJ(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var ha=pJ();function vJ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function gJ({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!yJ(n))throw new Error(Ea(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?es(e,i):es(e))}function xJ(e){return e._reducerDefinitionType==="asyncThunk"}function yJ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function bJ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Ea(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:d}=r,f=a(e,s,d);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:i||kp,pending:o||kp,rejected:l||kp,settled:c||kp})}function kp(){}var wJ="task",RR="listener",FR="completed",Wk="cancelled",_J=`task-${Wk}`,kJ=`task-${FR}`,zw=`${RR}-${Wk}`,SJ=`${RR}-${FR}`,vx=class{constructor(e){os(this,"name","TaskAbortError");os(this,"message");this.code=e,this.message=`${wJ} ${Wk} (reason: ${e})`}},Hk=(e,t)=>{if(typeof e!="function")throw new TypeError(Ea(32))},yv=()=>{},LR=(e,t=yv)=>(e.catch(t),e),$R=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Il=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Rl=e=>{if(e.aborted){const{reason:t}=e;throw new vx(t)}};function BR(e,t){let r=yv;return new Promise((n,a)=>{const s=()=>a(new vx(e.reason));if(e.aborted){s();return}r=$R(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=yv})}var EJ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof vx?"cancelled":"rejected",error:r}}finally{t==null||t()}},bv=e=>t=>LR(BR(e,t).then(r=>(Rl(e),r))),zR=e=>{const t=bv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:wu}=Object,hA={},gx="listenerMiddleware",CJ=(e,t)=>{const r=n=>$R(e,()=>Il(n,e.reason));return(n,a)=>{Hk(n);const s=new AbortController;r(s);const i=EJ(async()=>{Rl(e),Rl(s.signal);const o=await n({pause:bv(s.signal),delay:zR(s.signal),signal:s.signal});return Rl(s.signal),o},()=>Il(s,kJ));return a!=null&&a.autoJoin&&t.push(i.catch(yv)),{result:bv(e)(i),cancel(){Il(s,_J)}}}},jJ=(e,t)=>{const r=async(n,a)=>{Rl(t);let s=()=>{};const o=[new Promise((l,c)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await BR(t,Promise.race(o));return Rl(t),l}finally{s()}};return(n,a)=>LR(r(n,a))},UR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=es(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Ea(21));return Hk(s),{predicate:a,type:t,effect:s}},VR=wu(e=>{const{type:t,predicate:r,effect:n}=UR(e);return{id:dJ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Ea(22))}}},{withTypes:()=>VR}),pA=(e,t)=>{const{type:r,effect:n,predicate:a}=UR(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Uw=e=>{e.pending.forEach(t=>{Il(t,zw)})},TJ=(e,t)=>()=>{for(const r of t.keys())Uw(r);e.clear()},mA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},WR=wu(es(`${gx}/add`),{withTypes:()=>WR}),AJ=es(`${gx}/removeAll`),HR=wu(es(`${gx}/remove`),{withTypes:()=>HR}),NJ=(...e)=>{console.error(`${gx}/error`,...e)},ah=(e={})=>{const t=new Map,r=new Map,n=p=>{const m=r.get(p)??0;r.set(p,m+1)},a=p=>{const m=r.get(p)??1;m===1?r.delete(p):r.set(p,m-1)},{extra:s,onError:i=NJ}=e;Hk(i);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Uw(p)}),l=p=>{const m=pA(t,p)??VR(p);return o(m)};wu(l,{withTypes:()=>l});const c=p=>{const m=pA(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Uw(m)),!!m};wu(c,{withTypes:()=>c});const d=async(p,m,v,g)=>{const x=new AbortController,b=jJ(l,x.signal),y=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(m,wu({},v,{getOriginalState:g,condition:(_,k)=>b(_,k).then(Boolean),take:b,delay:zR(x.signal),pause:bv(x.signal),extra:s,signal:x.signal,fork:CJ(x.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,k,S)=>{_!==x&&(Il(_,zw),S.delete(_))})},cancel:()=>{Il(x,zw),p.pending.delete(x)},throwIfCancelled:()=>{Rl(x.signal)}})))}catch(_){_ instanceof vx||mA(i,_,{raisedBy:"effect"})}finally{await Promise.all(y),Il(x,SJ),a(p),p.pending.delete(x)}},f=TJ(t,r);return{middleware:p=>m=>v=>{if(!bR(v))return m(v);if(WR.match(v))return l(v.payload);if(AJ.match(v)){f();return}if(HR.match(v))return c(v.payload);let g=p.getState();const x=()=>{if(g===hA)throw new Error(Ea(23));return g};let b;try{if(b=m(v),t.size>0){const y=p.getState(),_=Array.from(t.values());for(const k of _){let S=!1;try{S=k.predicate(v,y,g)}catch(E){S=!1,mA(i,E,{raisedBy:"predicate"})}S&&d(k,v,p,x)}}}finally{g=hA}return b},startListening:l,stopListening:c,clearListeners:f}};function Ea(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PJ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KR=ha({name:"chartLayout",initialState:PJ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:OJ,setLayout:DJ,setChartSize:MJ,setScale:IJ}=KR.actions,RJ=KR.reducer;function GR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){FJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FJ(e,t,r){return(t=LJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gt(e,t,r){return Bt(e)||Bt(t)?r:Qa(t)?Zl(e,t,r):typeof t=="function"?t(e):r}var BJ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&je(e[s]))return au(au({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&je(e[i]))return au(au({},e),{},{[i]:e[i]+(a||0)})}return e},ii=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",qR=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},YR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:d,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var m=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=a==="category"&&i.bandwidth?i.bandwidth()/m:0;if(v=p==="angleAxis"&&s&&s.length>=2?rn(s[0]-s[1])*2*v:v,f||h){var g=(f||h||[]).map((x,b)=>{var y=n?n.indexOf(x):x;return{coordinate:i(y)+v,value:x,offset:v,index:b}});return g.filter(x=>!da(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:i(x)+v,value:x,index:b,offset:v})):i.ticks&&d!=null?i.ticks(d).map((x,b)=>({coordinate:i(x)+v,value:x,offset:v,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+v,value:n?n[x]:x,index:b,offset:v}))},gA=1e-4,zJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-gA,s=Math.max(n[0],n[1])+gA,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},UJ=(e,t)=>{if(!t||t.length!==2||!je(t[0])||!je(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!je(e[0])||e[0]<r)&&(a[0]=r),(!je(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},VJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=da(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},WJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=da(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},HJ={sign:VJ,expand:SX,none:Lu,silhouette:EX,wiggle:CX,positive:WJ},KJ=(e,t,r)=>{var n=HJ[r],a=kX().keys(t).value((s,i)=>Number(gt(s,i,0))).order(Pw).offset(n);return a(e)};function XR(e){return e==null?void 0:String(e)}function wv(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Bt(a[t.dataKey])){var o=$5(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=gt(a,Bt(i)?t.dataKey:i);return Bt(l)?null:t.scale(l)}var xA=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=gt(s,t.dataKey,t.scale.domain()[i]);return Bt(o)?null:t.scale(o)-a/2+n},GJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},qJ=e=>{var t=e.flat(2).filter(je);return[Math.min(...t),Math.max(...t)]},YJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],XJ=(e,t,r)=>{if(e!=null)return YJ(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,c)=>{var d=GR(c,t,r),f=qJ(d);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},yA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,$o=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=cx(t,d=>d.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function wA(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return au(au({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Zo(e,t){if(e)return String(e);if(typeof t=="string")return t}var ZJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},JJ=(e,t)=>t==="centric"?e.angle:e.radius,Ji=e=>e.layout.width,Qi=e=>e.layout.height,QJ=e=>e.layout.scale,ZR=e=>e.layout.margin,xx=ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),yx=ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),JR="data-recharts-item-index",QR="data-recharts-item-data-key",sh=60;function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(n){eQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eQ(e,t,r){return(t=tQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tQ(e){var t=rQ(e,"string");return typeof t=="symbol"?t:t+""}function rQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nQ=e=>e.brush.height;function aQ(e){var t=yx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:sh;return r+a}return r},0)}function sQ(e){var t=yx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:sh;return r+a}return r},0)}function iQ(e){var t=xx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function oQ(e){var t=xx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wr=ne([Ji,Qi,ZR,nQ,aQ,sQ,iQ,oQ,vR,DZ],(e,t,r,n,a,s,i,o,l,c)=>{var d={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+o},h=Sp(Sp({},f),d),p=h.bottom;h.bottom+=n,h=BJ(h,l,c);var m=e-h.left-h.right,v=t-h.top-h.bottom;return Sp(Sp({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(v,0)})}),lQ=ne(Wr,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Kk=ne(Ji,Qi,(e,t)=>({x:0,y:0,width:e,height:t})),cQ=w.createContext(null),Hr=()=>w.useContext(cQ)!=null,bx=e=>e.brush,wx=ne([bx,Wr,ZR],(e,t,r)=>({height:e.height,x:je(e.x)?e.x:t.left,y:je(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:je(e.width)?e.width:t.width})),eF={},tF={},rF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{c&&d(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{m(),i=void 0,o=null},g=()=>{d()},x=function(...b){if(a!=null&&a.aborted)return;i=this,o=b;const y=h==null;p(),l&&y&&d()};return x.schedule=p,x.cancel=v,x.flush=g,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(rF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rF;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);i&&(c[0]="leading"),o&&(c[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=n.apply(this,v),f=null},a,{edges:c}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},m=()=>(h.flush(),d);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(tF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tF;function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r})(eF);var uQ=eF.throttle;const dQ=si(uQ);var _v=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},nF=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=Li(n)?e:Number(n),l=Li(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&l!=null&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},fQ={width:0,height:0,overflow:"visible"},hQ={width:0,overflowX:"visible"},pQ={height:0,overflowY:"visible"},mQ={},vQ=e=>{var{width:t,height:r}=e,n=Li(t),a=Li(r);return n&&a?fQ:n?hQ:a?pQ:mQ};function gQ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function xt(e){return Number.isFinite(e)}function Qs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(null,arguments)}function kA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(r),!0).forEach(function(n){xQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xQ(e,t,r){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aF=w.createContext({width:-1,height:-1});function wQ(e){return Qs(e.width)&&Qs(e.height)}function sF(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return wQ(a)?w.createElement(aF.Provider,{value:a},t):null}var Gk=()=>w.useContext(aF),_Q=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:o,maxHeight:l,children:c,debounce:d=0,id:f,className:h,onResize:p,style:m={}}=e,v=w.useRef(null),g=w.useRef();g.current=p,w.useImperativeHandle(t,()=>v.current);var[x,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),y=w.useCallback((C,j)=>{b(T=>{var N=Math.round(C),A=Math.round(j);return T.containerWidth===N&&T.containerHeight===A?T:{containerWidth:N,containerHeight:A}})},[]);w.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return eh;var C=A=>{var P,{width:V,height:z}=A[0].contentRect;y(V,z),(P=g.current)===null||P===void 0||P.call(g,V,z)};d>0&&(C=dQ(C,d,{trailing:!0,leading:!1}));var j=new ResizeObserver(C),{width:T,height:N}=v.current.getBoundingClientRect();return y(T,N),j.observe(v.current),()=>{j.disconnect()}},[y,d]);var{containerWidth:_,containerHeight:k}=x;_v(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=nF(_,k,{width:a,height:s,aspect:r,maxHeight:l});return _v(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,s,i,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:tt("recharts-responsive-container",h),style:SA(SA({},m),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:v},w.createElement("div",{style:vQ({width:a,height:s})},w.createElement(sF,{width:S,height:E},c)))}),At=w.forwardRef((e,t)=>{var r=Gk();if(Qs(r.width)&&Qs(r.height))return e.children;var{width:n,height:a}=gQ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=nF(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return je(s)&&je(i)?w.createElement(sF,{width:s,height:i},e.children):w.createElement(_Q,Vw({},e,{width:n,height:a,ref:t}))});function iF(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var ih=()=>{var e,t=Hr(),r=Te(lQ),n=Te(wx),a=(e=Te(bx))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},kQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},oF=()=>{var e;return(e=Te(Wr))!==null&&e!==void 0?e:kQ},qk=()=>Te(Ji),Yk=()=>Te(Qi),SQ=()=>Te(e=>e.layout.margin),Ye=e=>e.layout.layoutType,fc=()=>Te(Ye),EQ=()=>{var e=fc();if(e==="horizontal"||e==="vertical")return e},CQ=()=>{var e=fc();return e!==void 0},_x=e=>{var t=Et(),r=Hr(),{width:n,height:a}=e,s=Gk(),i=n,o=a;return s&&(i=s.width>0?s.width:n,o=s.height>0?s.height:a),w.useEffect(()=>{!r&&Qs(i)&&Qs(o)&&t(MJ({width:i,height:o}))},[t,r,i,o]),null},lF=Symbol.for("immer-nothing"),EA=Symbol.for("immer-draftable"),ja=Symbol.for("immer-state");function ys(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var f0=Object.getPrototypeOf;function Uu(e){return!!e&&!!e[ja]}function Jl(e){var t;return e?cF(e)||Array.isArray(e)||!!e[EA]||!!((t=e.constructor)!=null&&t[EA])||oh(e)||Sx(e):!1}var jQ=Object.prototype.constructor.toString(),CA=new WeakMap;function cF(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=CA.get(r);return n===void 0&&(n=Function.toString.call(r),CA.set(r,n)),n===jQ}function kv(e,t,r=!0){kx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function kx(e){const t=e[ja];return t?t.type_:Array.isArray(e)?1:oh(e)?2:Sx(e)?3:0}function Ww(e,t){return kx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uF(e,t,r){const n=kx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function TQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oh(e){return e instanceof Map}function Sx(e){return e instanceof Set}function vl(e){return e.copy_||e.base_}function Hw(e,t){if(oh(e))return new Map(e);if(Sx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cF(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[ja];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(f0(e),n)}else{const n=f0(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Xk(e,t=!1){return Ex(e)||Uu(e)||!Jl(e)||(kx(e)>1&&Object.defineProperties(e,{set:Ep,add:Ep,clear:Ep,delete:Ep}),Object.freeze(e),t&&Object.values(e).forEach(r=>Xk(r,!0))),e}function AQ(){ys(2)}var Ep={value:AQ};function Ex(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var NQ={};function Ql(e){const t=NQ[e];return t||ys(0,e),t}var h0;function dF(){return h0}function PQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jA(e,t){t&&(Ql("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Kw(e){Gw(e),e.drafts_.forEach(OQ),e.drafts_=null}function Gw(e){e===h0&&(h0=e.parent_)}function TA(e){return h0=PQ(h0,e)}function OQ(e){const t=e[ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[ja].modified_&&(Kw(t),ys(4)),Jl(e)&&(e=Sv(t,e),t.parent_||Ev(t,e)),t.patches_&&Ql("Patches").generateReplacementPatches_(r[ja].base_,e,t.patches_,t.inversePatches_)):e=Sv(t,r,[]),Kw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lF?e:void 0}function Sv(e,t,r){if(Ex(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[ja];if(!a)return kv(t,(s,i)=>NA(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Ev(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),kv(i,(l,c)=>NA(e,a,s,l,c,r,o),n),Ev(e,s,!1),r&&e.patches_&&Ql("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function NA(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const o=Ex(a);if(!(o&&!i)){if(Uu(a)){const l=s&&t&&t.type_!==3&&!Ww(t.assigned_,n)?s.concat(n):void 0,c=Sv(e,a,l);if(uF(r,n,c),Uu(c))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Jl(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;Sv(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(oh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Ev(e,a)}}}function Ev(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Xk(t,r)}function DQ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:dF(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Zk;r&&(a=[n],s=p0);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var Zk={get(e,t){if(t===ja)return e;const r=vl(e);if(!Ww(r,t))return MQ(e,r,t);const n=r[t];return e.finalized_||!Jl(n)?n:n===h1(e.base_,t)?(p1(e),e.copy_[t]=Yw(n,e)):n},has(e,t){return t in vl(e)},ownKeys(e){return Reflect.ownKeys(vl(e))},set(e,t,r){const n=fF(vl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=h1(vl(e),t),s=a==null?void 0:a[ja];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(TQ(r,a)&&(r!==void 0||Ww(e.base_,t)))return!0;p1(e),qw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return h1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,p1(e),qw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=vl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ys(11)},getPrototypeOf(e){return f0(e.base_)},setPrototypeOf(){ys(12)}},p0={};kv(Zk,(e,t)=>{p0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});p0.deleteProperty=function(e,t){return p0.set.call(this,e,t,void 0)};p0.set=function(e,t,r){return Zk.set.call(this,e[0],t,r,e[0])};function h1(e,t){const r=e[ja];return(r?vl(r):e)[t]}function MQ(e,t,r){var a;const n=fF(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function fF(e,t){if(!(t in e))return;let r=f0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=f0(r)}}function qw(e){e.modified_||(e.modified_=!0,e.parent_&&qw(e.parent_))}function p1(e){e.copy_||(e.copy_=Hw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...c){return i.produce(l,d=>r.call(this,d,...c))}}typeof r!="function"&&ys(6),n!==void 0&&typeof n!="function"&&ys(7);let a;if(Jl(t)){const s=TA(this),i=Yw(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?Kw(s):Gw(s)}return jA(s,n),AA(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lF&&(a=void 0),this.autoFreeze_&&Xk(a,!0),n){const s=[],i=[];Ql("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else ys(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Jl(e)||ys(8),Uu(e)&&(e=RQ(e));const t=TA(this),r=Yw(e,void 0);return r[ja].isManual_=!0,Gw(t),r}finishDraft(e,t){const r=e&&e[ja];(!r||!r.isManual_)&&ys(9);const{scope_:n}=r;return jA(n,t),AA(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ql("Patches").applyPatches_;return Uu(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Yw(e,t){const r=oh(e)?Ql("MapSet").proxyMap_(e,t):Sx(e)?Ql("MapSet").proxySet_(e,t):DQ(e,t);return(t?t.scope_:dF()).drafts_.push(r),r}function RQ(e){return Uu(e)||ys(10,e),hF(e)}function hF(e){if(!Jl(e)||Ex(e))return e;const t=e[ja];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Hw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Hw(e,!0);return kv(r,(a,s)=>{uF(r,a,hF(s))},n),t&&(t.finalized_=!1),r}var FQ=new IQ;FQ.produce;var LQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},pF=ha({name:"legend",initialState:LQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:zt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ts(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:zt()},removeLegendPayload:{reducer(e,t){var r=Ts(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:zt()}}}),{setLegendSize:PA,setLegendSettings:$Q,addLegendPayload:mF,replaceLegendPayload:vF,removeLegendPayload:gF}=pF.actions,BQ=pF.reducer,zQ=["contextPayload"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){UQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UQ(e,t,r){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HQ(e,t){if(e==null)return{};var r,n,a=KQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GQ(e){return e.value}function qQ(e){var{contextPayload:t}=e,r=HQ(e,zQ),n=sR(t,e.payloadUniqBy,GQ),a=Vu(Vu({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(JX,a)}function YQ(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:l}=t,c,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-s.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Vu(Vu({},c),d)}function XQ(e){var t=Et();return w.useEffect(()=>{t($Q(e))},[t,e]),null}function ZQ(e){var t=Et();return w.useEffect(()=>(t(PA(e)),()=>{t(PA({width:0,height:0}))}),[t,e]),null}function JQ(e,t,r,n){return e==="vertical"&&je(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var QQ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Nn(e){var t=sr(e,QQ),r=RZ(),n=GY(),a=SQ(),{width:s,height:i,wrapperStyle:o,portal:l}=t,[c,d]=gR([r]),f=qk(),h=Yk();if(f==null||h==null)return null;var p=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),m=JQ(t.layout,i,s,p),v=l?o:Vu(Vu({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},YQ(o,t,a,f,h,c)),o),g=l??n;if(g==null||r==null)return null;var x=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},w.createElement(XQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&w.createElement(ZQ,{width:c.width,height:c.height}),w.createElement(qQ,Xw({},t,m,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return q0.createPortal(x,g)}Nn.displayName="Legend";function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function m1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){eee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eee(e,t,r){return(t=tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tee(e){var t=ree(e,"string");return typeof t=="symbol"?t:t+""}function ree(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nee(e){return Array.isArray(e)&&Qa(e[0])&&Qa(e[1])?e.join(" ~ "):e}var aee=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var k={padding:0,margin:0},S=(o?cx(s,o):s).map((E,C)=>{if(E.type==="none")return null;var j=E.formatter||i||nee,{value:T,name:N}=E,A=T,P=N;if(j){var V=j(T,N,E,C,s);if(Array.isArray(V))[A,P]=V;else if(V!=null)A=V;else return null}var z=m1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:z},Qa(P)?w.createElement("span",{className:"recharts-tooltip-item-name"},P):null,Qa(P)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},A),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},S)}return null},m=m1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=m1({margin:0},a),g=!Bt(d),x=g?d:"",b=tt("recharts-default-tooltip",l),y=tt("recharts-tooltip-label",c);g&&f&&s!==void 0&&s!==null&&(x=f(d,s));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Zw({className:b,style:m},_),w.createElement("p",{className:y,style:v},w.isValidElement(x)?x:"".concat(x)),p())},Fd="recharts-tooltip-wrapper",see={visibility:"hidden"};function iee(e){var{coordinate:t,translateX:r,translateY:n}=e;return tt(Fd,{["".concat(Fd,"-right")]:je(r)&&t&&je(t.x)&&r>=t.x,["".concat(Fd,"-left")]:je(r)&&t&&je(t.x)&&r<t.x,["".concat(Fd,"-bottom")]:je(n)&&t&&je(t.y)&&n>=t.y,["".concat(Fd,"-top")]:je(n)&&t&&je(t.y)&&n<t.y})}function MA(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&je(s[n]))return s[n];var d=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?d:f;var h=l[n];if(h==null)return 0;if(i[n]){var p=d,m=h;return p<m?Math.max(f,h):Math.max(d,h)}if(c==null)return 0;var v=f+o,g=h+c;return v>g?Math.max(d,h):Math.max(f,h)}function oee(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function lee(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,c,d,f;return i.height>0&&i.width>0&&r?(d=MA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=MA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=oee({translateX:d,translateY:f,useTranslate3d:o})):c=see,{cssProperties:c,cssClasses:iee({translateX:d,translateY:f,coordinate:r})}}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(n){Jw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jw(e,t,r){return(t=cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dee extends w.PureComponent{constructor(){super(...arguments),Jw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Jw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:d,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:y}=lee({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),_=x?{}:Cp(Cp({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),k=Cp(Cp({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:k,ref:g},s)}}var fee=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Jo={devToolsEnabled:!1,isSsr:fee()},xF=()=>{var e;return(e=Te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Qw(){return Qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qw.apply(null,arguments)}function RA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(r),!0).forEach(function(n){hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hee(e,t,r){return(t=pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LA={curveBasisClosed:fX,curveBasisOpen:hX,curveBasis:dX,curveBumpX:ZY,curveBumpY:JY,curveLinearClosed:pX,curveLinear:rx,curveMonotoneX:mX,curveMonotoneY:vX,curveNatural:gX,curveStep:xX,curveStepAfter:bX,curveStepBefore:yX},Cv=e=>xt(e.x)&&xt(e.y),$A=e=>e.base!=null&&Cv(e.base)&&Cv(e),Ld=e=>e.x,$d=e=>e.y,vee=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Q0(e));return(r==="curveMonotone"||r==="curveBump")&&t?LA["".concat(r).concat(t==="vertical"?"Y":"X")]:LA[r]||rx},gee=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=vee(t,a),o=s?r.filter(Cv):r,l;if(Array.isArray(n)){var c=r.map((p,m)=>FA(FA({},p),{},{base:n[m]}));a==="vertical"?l=xp().y($d).x1(Ld).x0(p=>p.base.x):l=xp().x(Ld).y1($d).y0(p=>p.base.y);var d=l.defined($A).curve(i),f=s?c.filter($A):c;return d(f)}a==="vertical"&&je(n)?l=xp().y($d).x1(Ld).x0(n):je(n)?l=xp().x(Ld).y1($d).y0(n):l=E5().x(Ld).y($d);var h=l.defined(Cv).curve(i);return h(o)},_u=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?gee(e):n;return w.createElement("path",Qw({},Zn(e),Ek(e),{className:tt("recharts-curve",t),d:s===null?void 0:s,ref:a}))},xee=["x","y","top","left","width","height","className"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e2.apply(null,arguments)}function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kee(e,t){if(e==null)return{};var r,n,a=See(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function See(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eee=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Cee=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=kee(e,xee),c=yee({x:t,y:r,top:n,left:a,width:s,height:i},l);return!je(t)||!je(r)||!je(s)||!je(i)||!je(n)||!je(a)?null:w.createElement("path",e2({},bn(c),{className:tt("recharts-cross",o),d:Eee(t,r,s,i,n,a)}))};function jee(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){Tee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tee(e,t,r){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e){var t=Nee(e,"string");return typeof t=="symbol"?t:t+""}function Nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pee=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),yF=(e,t,r)=>e.map(n=>"".concat(Pee(n)," ").concat(t,"ms ").concat(r)).join(","),Oee=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),m0=(e,t)=>Object.keys(t).reduce((r,n)=>UA(UA({},r),{},{[n]:e(n,t[n])}),{});function VA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(r),!0).forEach(function(n){Dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=Iee(e,"string");return typeof t=="symbol"?t:t+""}function Iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jv=(e,t,r)=>e+(t-e)*r,t2=e=>{var{from:t,to:r}=e;return t!==r},bF=(e,t,r)=>{var n=m0((a,s)=>{if(t2(s)){var[i,o]=e(s.from,s.to,s.velocity);return $r($r({},s),{},{from:i,velocity:o})}return s},t);return r<1?m0((a,s)=>t2(s)?$r($r({},s),{},{velocity:jv(s.velocity,n[a].velocity,r),from:jv(s.from,n[a].from,r)}):s,t):bF(e,n,r-1)};function Ree(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>$r($r({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>m0((h,p)=>p.from,o),c=()=>!Object.values(o).filter(t2).length,d=null,f=h=>{i||(i=h);var p=h-i,m=p/r.dt;o=bF(r,o,m),a($r($r($r({},e),t),l())),i=h,c()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function Fee(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,h)=>$r($r({},f),{},{[h]:[e[h],t[h]]}),{}),c,d=f=>{c||(c=f);var h=(f-c)/n,p=m0((v,g)=>jv(...g,r(h)),l);if(s($r($r($r({},e),t),p)),h<1)o=i.setTimeout(d);else{var m=m0((v,g)=>jv(...g,r(1)),l);s($r($r($r({},e),t),m))}};return()=>(o=i.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const Lee=(e,t,r,n,a,s)=>{var i=Oee(e,t);return r==null?()=>(a($r($r({},e),t)),()=>{}):r.isStepper===!0?Ree(e,t,r,i,a,s):Fee(e,t,r,n,i,a,s)};var Tv=1e-4,wF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_F=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),WA=(e,t)=>r=>{var n=wF(e,t);return _F(n,r)},$ee=(e,t)=>r=>{var n=wF(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return _F(a,r)},Bee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},zee=(e,t,r,n)=>{var a=WA(e,r),s=WA(t,n),i=$ee(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var d=c>1?1:c,f=d,h=0;h<8;++h){var p=a(f)-d,m=i(f);if(Math.abs(p-d)<Tv||m<Tv)return s(f);f=o(f-p/m)}return s(f)};return l.isStepper=!1,l},HA=function(){return zee(...Bee(...arguments))},Uee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var c=-(i-o)*r,d=l*n,f=l+(c-d)*a/1e3,h=l*a/1e3+i;return Math.abs(h-o)<Tv&&Math.abs(f)<Tv?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},Vee=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HA(e);case"spring":return Uee();default:if(e.split("(")[0]==="cubic-bezier")return HA(e)}return typeof e=="function"?e:null};function Wee(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,c),l);return}s(l),a=e.setTimeout(s.bind(null,c));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class Hee{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function Kee(){return Wee(new Hee)}var Gee=w.createContext(Kee);function qee(e,t){var r=w.useContext(Gee);return w.useMemo(()=>t??r(e),[e,t,r])}var Yee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},KA={t:0},v1={t:1};function ld(e){var t=sr(e,Yee),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:c}=t,d=r==="auto"?!Jo.isSsr:r,f=qee(t.animationId,t.animationManager),[h,p]=w.useState(d?KA:v1),m=w.useRef(null);return w.useEffect(()=>{d||p(v1)},[d]),w.useEffect(()=>{if(!d||!n)return eh;var v=Lee(KA,v1,Vee(s),a,p,f.getTimeoutController()),g=()=>{m.current=v()};return f.start([l,i,g,a,o]),()=>{f.stop(),m.current&&m.current(),o()}},[d,n,a,s,i,l,o,f]),c(h.t)}function cd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(l0(t)),n=w.useRef(e);return n.current!==e&&(r.current=l0(t),n.current=e),r.current}var Xee=["radius"],Zee=["radius"];function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){Jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jee(e,t,r){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=ete(e,"string");return typeof t=="symbol"?t:t+""}function ete(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Av(){return Av=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Av.apply(null,arguments)}function YA(e,t){if(e==null)return{};var r,n,a=tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XA=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=a[f]>s?s:a[f];c="M".concat(e,",").concat(t+i*d[0]),d[0]>0&&(c+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(l,",").concat(e+o*d[0],",").concat(t)),c+="L ".concat(e+r-o*d[1],",").concat(t),d[1]>0&&(c+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*d[1])),c+="L ".concat(e+r,",").concat(t+n-i*d[2]),d[2]>0&&(c+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(l,`,
        `).concat(e+r-o*d[2],",").concat(t+n)),c+="L ".concat(e+o*d[3],",").concat(t+n),d[3]>0&&(c+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*d[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);c="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},ZA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kF=e=>{var t=sr(e,ZA),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var G=r.current.getTotalLength();G&&a(G)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,g=w.useRef(o),x=w.useRef(l),b=w.useRef(s),y=w.useRef(i),_=w.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),k=cd(_,"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var S=tt("recharts-rectangle",d);if(!v){var E=bn(t),{radius:C}=E,j=YA(E,Xee);return w.createElement("path",Av({},j,{radius:typeof c=="number"?c:void 0,className:S,d:XA(s,i,o,l,c)}))}var T=g.current,N=x.current,A=b.current,P=y.current,V="0px ".concat(n===-1?1:n,"px"),z="".concat(n,"px 0px"),Z=yF(["strokeDasharray"],h,typeof f=="string"?f:ZA.animationEasing);return w.createElement(ld,{animationId:k,key:k,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},G=>{var Y=ft(T,o,G),I=ft(N,l,G),te=ft(A,s,G),J=ft(P,i,G);r.current&&(g.current=Y,x.current=I,b.current=te,y.current=J);var D;m?G>0?D={transition:Z,strokeDasharray:z}:D={strokeDasharray:V}:D={strokeDasharray:z};var R=bn(t),{radius:B}=R,H=YA(R,Zee);return w.createElement("path",Av({},H,{radius:typeof c=="number"?c:void 0,className:S,d:XA(te,J,Y,I,c),ref:r,style:qA(qA({},D),t.style)}))})};function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){rte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rte(e,t,r){return(t=nte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=ate(e,"string");return typeof t=="symbol"?t:t+""}function ate(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nv=Math.PI/180,ste=e=>e*180/Math.PI,Or=(e,t,r,n)=>({x:e+Math.cos(-Nv*n)*r,y:t+Math.sin(-Nv*n)*r}),SF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ite=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},ote=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=ite({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:ste(l),angleInRadian:l}},lte=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},cte=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},ute=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=ote({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:c}=lte(t),d=s,f;if(l<=c){for(;d>c;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=c}else{for(;d>l;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=l}return f?QA(QA({},t),{},{radius:a,angle:cte(d,t)}):null};function EF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Or(t,r,n,a),o=Or(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function r2(){return r2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r2.apply(null,arguments)}var dte=(e,t)=>{var r=rn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},jp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,d=Math.asin(o/c)/Nv,f=l?a:a+s*d,h=Or(t,r,c,f),p=Or(t,r,n,f),m=l?a-s*d:a,v=Or(t,r,c*Math.cos(d*Nv),m);return{center:h,circleTangency:p,lineTangency:v,theta:d}},CF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=dte(s,i),l=s+o,c=Or(t,r,a,s),d=Or(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Or(t,r,n,s),p=Or(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},fte=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,d=rn(c-l),{circleTangency:f,lineTangency:h,theta:p}=jp({cx:t,cy:r,radius:a,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:v,theta:g}=jp({cx:t,cy:r,radius:a,angle:c,sign:-d,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-p-g;if(x<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):CF({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(d<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:y,lineTangency:_,theta:k}=jp({cx:t,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:S,lineTangency:E,theta:C}=jp({cx:t,cy:r,radius:n,angle:c,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),j=o?Math.abs(l-c):Math.abs(l-c)-k-C;if(j<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(j>180),",").concat(+(d>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},hte={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jF=e=>{var t=sr(e,hte),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d,className:f}=t;if(s<a||c===d)return null;var h=tt("recharts-sector",f),p=s-a,m=Mn(i,p,0,!0),v;return m>0&&Math.abs(c-d)<360?v=fte({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:d}):v=CF({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:d}),w.createElement("path",r2({},bn(t),{className:h,d:v}))};function pte(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(z5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=Or(n,a,s,o),c=Or(n,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return EF(t)}}var TF={},AF={},NF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rk;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(NF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NF;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(AF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fk,r=AF;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=i;return l}e.range=n})(TF);var mte=TF.range;const PF=si(mte);function Do(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function vte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jk(e){let t,r,n;e.length!==2?(t=Do,r=(o,l)=>Do(e(o),l),n=(o,l)=>e(o)-l):(t=e===Do||e===vte?e:gte,r=e,n=e);function a(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<0?c=f+1:d=f}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(t(l,l)!==0)return d;do{const f=c+d>>>1;r(o[f],l)<=0?c=f+1:d=f}while(c<d)}return c}function i(o,l,c=0,d=o.length){const f=a(o,l,c,d-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function gte(){return 0}function OF(e){return e===null?NaN:+e}function*xte(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const yte=Jk(Do),lh=yte.right;Jk(OF).center;class eN extends Map{constructor(t,r=_te){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tN(this,t))}has(t){return super.has(tN(this,t))}set(t,r){return super.set(bte(this,t),r)}delete(t){return super.delete(wte(this,t))}}function tN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function bte({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wte({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _te(e){return e!==null&&typeof e=="object"?e.valueOf():e}function kte(e=Do){if(e===Do)return DF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function DF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Ste=Math.sqrt(50),Ete=Math.sqrt(10),Cte=Math.sqrt(2);function Pv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=Ste?10:s>=Ete?5:s>=Cte?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Pv(e,t,r*2):[o,l,c]}function n2(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Pv(t,e,r):Pv(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function a2(e,t,r){return t=+t,e=+e,r=+r,Pv(e,t,r)[2]}function s2(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?a2(t,e,r):a2(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function nN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?DF:kte(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));MF(e,t,p,m,a)}const s=e[t];let i=r,o=n;for(Bd(e,r,t),a(e[n],s)>0&&Bd(e,r,n);i<o;){for(Bd(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Bd(e,r,o):(++o,Bd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Bd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function jte(e,t,r){if(e=Float64Array.from(xte(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nN(e);if(t>=1)return rN(e);var n,a=(n-1)*t,s=Math.floor(a),i=rN(MF(e,s).subarray(0,s+1)),o=nN(e.subarray(s+1));return i+(o-i)*(a-s)}}function Tte(e,t,r=OF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function Ate(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function as(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const i2=Symbol("implicit");function Qk(){var e=new eN,t=[],r=[],n=i2;function a(s){let i=e.get(s);if(i===void 0){if(n!==i2)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new eN;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Qk(t,r).unknown(n)},as.apply(a,arguments),a}function eS(){var e=Qk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,c=0,d=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;s=(v-m)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),m+=(v-m-s*(h-l))*d,i=s*(1-l),o&&(m=Math.round(m),i=Math.round(i));var g=Ate(h).map(function(x){return m+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return eS(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(d)},as.apply(f(),arguments)}function IF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IF(t())},e}function Nte(){return IF(eS.apply(null,arguments).paddingInner(1))}function tS(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ch(){}var v0=.7,Ov=1/v0,ku="\\s*([+-]?\\d+)\\s*",g0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pte=/^#([0-9a-f]{3,8})$/,Ote=new RegExp(`^rgb\\(${ku},${ku},${ku}\\)$`),Dte=new RegExp(`^rgb\\(${Xs},${Xs},${Xs}\\)$`),Mte=new RegExp(`^rgba\\(${ku},${ku},${ku},${g0}\\)$`),Ite=new RegExp(`^rgba\\(${Xs},${Xs},${Xs},${g0}\\)$`),Rte=new RegExp(`^hsl\\(${g0},${Xs},${Xs}\\)$`),Fte=new RegExp(`^hsla\\(${g0},${Xs},${Xs},${g0}\\)$`),aN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tS(ch,x0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:sN,formatHex:sN,formatHex8:Lte,formatHsl:$te,formatRgb:iN,toString:iN});function sN(){return this.rgb().formatHex()}function Lte(){return this.rgb().formatHex8()}function $te(){return FF(this).formatHsl()}function iN(){return this.rgb().formatRgb()}function x0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Pte.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oN(t):r===3?new oa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ote.exec(e))?new oa(t[1],t[2],t[3],1):(t=Dte.exec(e))?new oa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Mte.exec(e))?Tp(t[1],t[2],t[3],t[4]):(t=Ite.exec(e))?Tp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Rte.exec(e))?uN(t[1],t[2]/100,t[3]/100,1):(t=Fte.exec(e))?uN(t[1],t[2]/100,t[3]/100,t[4]):aN.hasOwnProperty(e)?oN(aN[e]):e==="transparent"?new oa(NaN,NaN,NaN,0):null}function oN(e){return new oa(e>>16&255,e>>8&255,e&255,1)}function Tp(e,t,r,n){return n<=0&&(e=t=r=NaN),new oa(e,t,r,n)}function Bte(e){return e instanceof ch||(e=x0(e)),e?(e=e.rgb(),new oa(e.r,e.g,e.b,e.opacity)):new oa}function o2(e,t,r,n){return arguments.length===1?Bte(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}tS(oa,o2,RF(ch,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?v0:Math.pow(v0,e),new oa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new oa(Fl(this.r),Fl(this.g),Fl(this.b),Dv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lN,formatHex:lN,formatHex8:zte,formatRgb:cN,toString:cN}));function lN(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function zte(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cN(){const e=Dv(this.opacity);return`${e===1?"rgb(":"rgba("}${Fl(this.r)}, ${Fl(this.g)}, ${Fl(this.b)}${e===1?")":`, ${e})`}`}function Dv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Fl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tl(e){return e=Fl(e),(e<16?"0":"")+e.toString(16)}function uN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bs(e,t,r,n)}function FF(e){if(e instanceof bs)return new bs(e.h,e.s,e.l,e.opacity);if(e instanceof ch||(e=x0(e)),!e)return new bs;if(e instanceof bs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new bs(i,o,l,e.opacity)}function Ute(e,t,r,n){return arguments.length===1?FF(e):new bs(e,t,r,n??1)}function bs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}tS(bs,Ute,RF(ch,{brighter(e){return e=e==null?Ov:Math.pow(Ov,e),new bs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?v0:Math.pow(v0,e),new bs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new oa(g1(e>=240?e-240:e+120,a,n),g1(e,a,n),g1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new bs(dN(this.h),Ap(this.s),Ap(this.l),Dv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dv(this.opacity);return`${e===1?"hsl(":"hsla("}${dN(this.h)}, ${Ap(this.s)*100}%, ${Ap(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dN(e){return e=(e||0)%360,e<0?e+360:e}function Ap(e){return Math.max(0,Math.min(1,e||0))}function g1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const rS=e=>()=>e;function Vte(e,t){return function(r){return e+r*t}}function Wte(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Hte(e){return(e=+e)==1?LF:function(t,r){return r-t?Wte(t,r,e):rS(isNaN(t)?r:t)}}function LF(e,t){var r=t-e;return r?Vte(e,r):rS(isNaN(e)?t:e)}const fN=function e(t){var r=Hte(t);function n(a,s){var i=r((a=o2(a)).r,(s=o2(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),c=LF(a.opacity,s.opacity);return function(d){return a.r=i(d),a.g=o(d),a.b=l(d),a.opacity=c(d),a+""}}return n.gamma=e,n}(1);function Kte(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Gte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function qte(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=ud(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function Yte(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Mv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Xte(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=ud(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var l2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,x1=new RegExp(l2.source,"g");function Zte(e){return function(){return e}}function Jte(e){return function(t){return e(t)+""}}function Qte(e,t){var r=l2.lastIndex=x1.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=l2.exec(e))&&(a=x1.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:Mv(n,a)})),r=x1.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?Jte(l[0].x):Zte(t):(t=l.length,function(c){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(c);return o.join("")})}function ud(e,t){var r=typeof t,n;return t==null||r==="boolean"?rS(t):(r==="number"?Mv:r==="string"?(n=x0(t))?(t=n,fN):Qte:t instanceof x0?fN:t instanceof Date?Yte:Gte(t)?Kte:Array.isArray(t)?qte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Xte:Mv)(e,t)}function nS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function ere(e,t){t===void 0&&(t=e,e=ud);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function tre(e){return function(){return e}}function Iv(e){return+e}var hN=[0,1];function Hn(e){return e}function c2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tre(isNaN(t)?NaN:.5)}function rre(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nre(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=c2(a,n),s=r(i,s)):(n=c2(n,a),s=r(s,i)),function(o){return s(n(o))}}function are(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=c2(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=lh(e,o,1,n)-1;return s[l](a[l](o))}}function uh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Cx(){var e=hN,t=hN,r=ud,n,a,s,i=Hn,o,l,c;function d(){var h=Math.min(e.length,t.length);return i!==Hn&&(i=rre(e[0],e[h-1])),o=h>2?are:nre,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=o(t,e.map(n),Mv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Iv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=nS,d()},f.clamp=function(h){return arguments.length?(i=h?!0:Hn,d()):i!==Hn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,d()}}function aS(){return Cx()(Hn,Hn)}function sre(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Rv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wu(e){return e=Rv(Math.abs(e)),e?e[1]:NaN}function ire(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function ore(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lre=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function y0(e){if(!(t=lre.exec(e)))throw new Error("invalid format: "+e);var t;return new sS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}y0.prototype=sS.prototype;function sS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cre(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var $F;function ure(e,t){var r=Rv(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-($F=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Rv(e,Math.max(0,t+s-1))[0]}function pN(e,t){var r=Rv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const mN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sre,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>pN(e*100,t),r:pN,s:ure,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function vN(e){return e}var gN=Array.prototype.map,xN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dre(e){var t=e.grouping===void 0||e.thousands===void 0?vN:ire(gN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?vN:ore(gN.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=y0(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,x=f.width,b=f.comma,y=f.precision,_=f.trim,k=f.type;k==="n"?(b=!0,k="g"):mN[k]||(y===void 0&&(y=12),_=!0,k="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var S=v==="$"?r:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",E=v==="$"?n:/[%p]/.test(k)?i:"",C=mN[k],j=/[defgprs%]/.test(k);y=y===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function T(N){var A=S,P=E,V,z,Z;if(k==="c")P=C(N)+P,N="";else{N=+N;var G=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),y),_&&(N=cre(N)),G&&+N==0&&m!=="+"&&(G=!1),A=(G?m==="("?m:o:m==="-"||m==="("?"":m)+A,P=(k==="s"?xN[8+$F/3]:"")+P+(G&&m==="("?")":""),j){for(V=-1,z=N.length;++V<z;)if(Z=N.charCodeAt(V),48>Z||Z>57){P=(Z===46?a+N.slice(V+1):N.slice(V))+P,N=N.slice(0,V);break}}}b&&!g&&(N=t(N,1/0));var Y=A.length+N.length+P.length,I=Y<x?new Array(x-Y+1).join(h):"";switch(b&&g&&(N=t(I+N,I.length?x-P.length:1/0),I=""),p){case"<":N=A+N+P+I;break;case"=":N=A+I+N+P;break;case"^":N=I.slice(0,Y=I.length>>1)+A+N+P+I.slice(Y);break;default:N=I+A+N+P;break}return s(N)}return T.toString=function(){return f+""},T}function d(f,h){var p=c((f=y0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Wu(h)/3)))*3,v=Math.pow(10,-m),g=xN[8+m/3];return function(x){return p(v*x)+g}}return{format:c,formatPrefix:d}}var Np,iS,BF;fre({thousands:",",grouping:[3],currency:["$",""]});function fre(e){return Np=dre(e),iS=Np.format,BF=Np.formatPrefix,Np}function hre(e){return Math.max(0,-Wu(Math.abs(e)))}function pre(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wu(t)/3)))*3-Wu(Math.abs(e)))}function mre(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wu(t)-Wu(e))+1}function zF(e,t,r,n){var a=s2(e,t,r),s;switch(n=y0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=pre(a,i))&&(n.precision=s),BF(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=mre(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=hre(a))&&(n.precision=s-(n.type==="%")*2);break}}return iS(n)}function Qo(e){var t=e.domain;return e.ticks=function(r){var n=t();return n2(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return zF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,c,d=10;for(o<i&&(c=i,i=o,o=c,c=a,a=s,s=c);d-- >0;){if(c=a2(i,o,r),c===l)return n[a]=i,n[s]=o,t(n);if(c>0)i=Math.floor(i/c)*c,o=Math.ceil(o/c)*c;else if(c<0)i=Math.ceil(i*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function UF(){var e=aS();return e.copy=function(){return uh(e,UF())},as.apply(e,arguments),Qo(e)}function VF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Iv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VF(e).unknown(t)},e=arguments.length?Array.from(e,Iv):[0,1],Qo(r)}function WF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function yN(e){return Math.log(e)}function bN(e){return Math.exp(e)}function vre(e){return-Math.log(-e)}function gre(e){return-Math.exp(-e)}function xre(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yre(e){return e===10?xre:e===Math.E?Math.exp:t=>Math.pow(e,t)}function bre(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wN(e){return(t,r)=>-e(-t,r)}function oS(e){const t=e(yN,bN),r=t.domain;let n=10,a,s;function i(){return a=bre(n),s=yre(n),r()[0]<0?(a=wN(a),s=wN(s),e(vre,gre)):e(yN,bN),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let c=l[0],d=l[l.length-1];const f=d<c;f&&([c,d]=[d,c]);let h=a(c),p=a(d),m,v;const g=o==null?10:+o;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/s(-h):m*s(h),!(v<c)){if(v>d)break;x.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/s(-h):m*s(h),!(v<c)){if(v>d)break;x.push(v)}x.length*2<g&&(x=n2(c,d,g))}else x=n2(h,p,Math.min(p-h,g)).map(s);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=y0(l)).precision==null&&(l.trim=!0),l=iS(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return d=>{let f=d/s(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=c?l(d):""}},t.nice=()=>r(WF(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function HF(){const e=oS(Cx()).domain([1,10]);return e.copy=()=>uh(e,HF()).base(e.base()),as.apply(e,arguments),e}function _N(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function lS(e){var t=1,r=e(_N(t),kN(t));return r.constant=function(n){return arguments.length?e(_N(t=+n),kN(t)):t},Qo(r)}function KF(){var e=lS(Cx());return e.copy=function(){return uh(e,KF()).constant(e.constant())},as.apply(e,arguments)}function SN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wre(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _re(e){return e<0?-e*e:e*e}function cS(e){var t=e(Hn,Hn),r=1;function n(){return r===1?e(Hn,Hn):r===.5?e(wre,_re):e(SN(r),SN(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Qo(t)}function uS(){var e=cS(Cx());return e.copy=function(){return uh(e,uS()).exponent(e.exponent())},as.apply(e,arguments),e}function kre(){return uS.apply(null,arguments).exponent(.5)}function EN(e){return Math.sign(e)*e*e}function Sre(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GF(){var e=aS(),t=[0,1],r=!1,n;function a(s){var i=Sre(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(EN(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Iv)).map(EN)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return GF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},as.apply(a,arguments),Qo(a)}function qF(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=Tte(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[lh(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Do),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return qF().domain(e).range(t).unknown(n)},as.apply(s,arguments)}function YF(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[lh(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return YF().domain([e,t]).range(a).unknown(s)},as.apply(Qo(i),arguments)}function XF(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[lh(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return XF().domain(e).range(t).unknown(r)},as.apply(a,arguments)}const y1=new Date,b1=new Date;function Kr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<i);return l},a.filter=s=>Kr(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(y1.setTime(+s),b1.setTime(+i),e(y1),e(b1),Math.floor(r(y1,b1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Fv=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Fv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Fv);Fv.range;const ki=1e3,Ka=ki*60,Si=Ka*60,Bi=Si*24,dS=Bi*7,CN=Bi*30,w1=Bi*365,Al=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCSeconds());Al.range;const fS=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getMinutes());fS.range;const hS=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ka)},(e,t)=>(t-e)/Ka,e=>e.getUTCMinutes());hS.range;const pS=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ki-e.getMinutes()*Ka)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());pS.range;const mS=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());mS.range;const dh=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ka)/Bi,e=>e.getDate()-1);dh.range;const jx=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);jx.range;const ZF=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));ZF.range;function hc(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ka)/dS)}const Tx=hc(0),Lv=hc(1),Ere=hc(2),Cre=hc(3),Hu=hc(4),jre=hc(5),Tre=hc(6);Tx.range;Lv.range;Ere.range;Cre.range;Hu.range;jre.range;Tre.range;function pc(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/dS)}const Ax=pc(0),$v=pc(1),Are=pc(2),Nre=pc(3),Ku=pc(4),Pre=pc(5),Ore=pc(6);Ax.range;$v.range;Are.range;Nre.range;Ku.range;Pre.range;Ore.range;const vS=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vS.range;const gS=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gS.range;const zi=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zi.range;const Ui=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ui.range;function JF(e,t,r,n,a,s){const i=[[Al,1,ki],[Al,5,5*ki],[Al,15,15*ki],[Al,30,30*ki],[s,1,Ka],[s,5,5*Ka],[s,15,15*Ka],[s,30,30*Ka],[a,1,Si],[a,3,3*Si],[a,6,6*Si],[a,12,12*Si],[n,1,Bi],[n,2,2*Bi],[r,1,dS],[t,1,CN],[t,3,3*CN],[e,1,w1]];function o(c,d,f){const h=d<c;h&&([c,d]=[d,c]);const p=f&&typeof f.range=="function"?f:l(c,d,f),m=p?p.range(c,+d+1):[];return h?m.reverse():m}function l(c,d,f){const h=Math.abs(d-c)/f,p=Jk(([,,g])=>g).right(i,h);if(p===i.length)return e.every(s2(c/w1,d/w1,f));if(p===0)return Fv.every(Math.max(s2(c,d,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[o,l]}const[Dre,Mre]=JF(Ui,gS,Ax,ZF,mS,hS),[Ire,Rre]=JF(zi,vS,Tx,dh,pS,fS);function _1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function k1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Fre(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Ud(a),d=Vd(a),f=Ud(s),h=Vd(s),p=Ud(i),m=Vd(i),v=Ud(o),g=Vd(o),x=Ud(l),b=Vd(l),y={a:G,A:Y,b:I,B:te,c:null,d:ON,e:ON,f:ine,g:vne,G:xne,H:nne,I:ane,j:sne,L:QF,m:one,M:lne,p:J,q:D,Q:IN,s:RN,S:cne,u:une,U:dne,V:fne,w:hne,W:pne,x:null,X:null,y:mne,Y:gne,Z:yne,"%":MN},_={a:R,A:B,b:H,B:ee,c:null,d:DN,e:DN,f:kne,g:Dne,G:Ine,H:bne,I:wne,j:_ne,L:t6,m:Sne,M:Ene,p:ue,q:de,Q:IN,s:RN,S:Cne,u:jne,U:Tne,V:Ane,w:Nne,W:Pne,x:null,X:null,y:One,Y:Mne,Z:Rne,"%":MN},k={a:T,A:N,b:A,B:P,c:V,d:NN,e:NN,f:Qre,g:AN,G:TN,H:PN,I:PN,j:Yre,L:Jre,m:qre,M:Xre,p:j,q:Gre,Q:tne,s:rne,S:Zre,u:Ure,U:Vre,V:Wre,w:zre,W:Hre,x:z,X:Z,y:AN,Y:TN,Z:Kre,"%":ene};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(q,re){return function(le){var M=[],ke=-1,pe=0,_e=q.length,X,Q,ce;for(le instanceof Date||(le=new Date(+le));++ke<_e;)q.charCodeAt(ke)===37&&(M.push(q.slice(pe,ke)),(Q=jN[X=q.charAt(++ke)])!=null?X=q.charAt(++ke):Q=X==="e"?" ":"0",(ce=re[X])&&(X=ce(le,Q)),M.push(X),pe=ke+1);return M.push(q.slice(pe,ke)),M.join("")}}function E(q,re){return function(le){var M=zd(1900,void 0,1),ke=C(M,q,le+="",0),pe,_e;if(ke!=le.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(re&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(pe=k1(zd(M.y,0,1)),_e=pe.getUTCDay(),pe=_e>4||_e===0?$v.ceil(pe):$v(pe),pe=jx.offset(pe,(M.V-1)*7),M.y=pe.getUTCFullYear(),M.m=pe.getUTCMonth(),M.d=pe.getUTCDate()+(M.w+6)%7):(pe=_1(zd(M.y,0,1)),_e=pe.getDay(),pe=_e>4||_e===0?Lv.ceil(pe):Lv(pe),pe=dh.offset(pe,(M.V-1)*7),M.y=pe.getFullYear(),M.m=pe.getMonth(),M.d=pe.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),_e="Z"in M?k1(zd(M.y,0,1)).getUTCDay():_1(zd(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(_e+5)%7:M.w+M.U*7-(_e+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,k1(M)):_1(M)}}function C(q,re,le,M){for(var ke=0,pe=re.length,_e=le.length,X,Q;ke<pe;){if(M>=_e)return-1;if(X=re.charCodeAt(ke++),X===37){if(X=re.charAt(ke++),Q=k[X in jN?re.charAt(ke++):X],!Q||(M=Q(q,le,M))<0)return-1}else if(X!=le.charCodeAt(M++))return-1}return M}function j(q,re,le){var M=c.exec(re.slice(le));return M?(q.p=d.get(M[0].toLowerCase()),le+M[0].length):-1}function T(q,re,le){var M=p.exec(re.slice(le));return M?(q.w=m.get(M[0].toLowerCase()),le+M[0].length):-1}function N(q,re,le){var M=f.exec(re.slice(le));return M?(q.w=h.get(M[0].toLowerCase()),le+M[0].length):-1}function A(q,re,le){var M=x.exec(re.slice(le));return M?(q.m=b.get(M[0].toLowerCase()),le+M[0].length):-1}function P(q,re,le){var M=v.exec(re.slice(le));return M?(q.m=g.get(M[0].toLowerCase()),le+M[0].length):-1}function V(q,re,le){return C(q,t,re,le)}function z(q,re,le){return C(q,r,re,le)}function Z(q,re,le){return C(q,n,re,le)}function G(q){return i[q.getDay()]}function Y(q){return s[q.getDay()]}function I(q){return l[q.getMonth()]}function te(q){return o[q.getMonth()]}function J(q){return a[+(q.getHours()>=12)]}function D(q){return 1+~~(q.getMonth()/3)}function R(q){return i[q.getUTCDay()]}function B(q){return s[q.getUTCDay()]}function H(q){return l[q.getUTCMonth()]}function ee(q){return o[q.getUTCMonth()]}function ue(q){return a[+(q.getUTCHours()>=12)]}function de(q){return 1+~~(q.getUTCMonth()/3)}return{format:function(q){var re=S(q+="",y);return re.toString=function(){return q},re},parse:function(q){var re=E(q+="",!1);return re.toString=function(){return q},re},utcFormat:function(q){var re=S(q+="",_);return re.toString=function(){return q},re},utcParse:function(q){var re=E(q+="",!0);return re.toString=function(){return q},re}}}var jN={"-":"",_:" ",0:"0"},on=/^\s*\d+/,Lre=/^%/,$re=/[\\^$*+?|[\]().{}]/g;function it(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Bre(e){return e.replace($re,"\\$&")}function Ud(e){return new RegExp("^(?:"+e.map(Bre).join("|")+")","i")}function Vd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function zre(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Ure(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Vre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Wre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Hre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function TN(e,t,r){var n=on.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function AN(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Kre(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Gre(e,t,r){var n=on.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function qre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function NN(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Yre(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function PN(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Xre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Zre(e,t,r){var n=on.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Jre(e,t,r){var n=on.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Qre(e,t,r){var n=on.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ene(e,t,r){var n=Lre.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tne(e,t,r){var n=on.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rne(e,t,r){var n=on.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function ON(e,t){return it(e.getDate(),t,2)}function nne(e,t){return it(e.getHours(),t,2)}function ane(e,t){return it(e.getHours()%12||12,t,2)}function sne(e,t){return it(1+dh.count(zi(e),e),t,3)}function QF(e,t){return it(e.getMilliseconds(),t,3)}function ine(e,t){return QF(e,t)+"000"}function one(e,t){return it(e.getMonth()+1,t,2)}function lne(e,t){return it(e.getMinutes(),t,2)}function cne(e,t){return it(e.getSeconds(),t,2)}function une(e){var t=e.getDay();return t===0?7:t}function dne(e,t){return it(Tx.count(zi(e)-1,e),t,2)}function e6(e){var t=e.getDay();return t>=4||t===0?Hu(e):Hu.ceil(e)}function fne(e,t){return e=e6(e),it(Hu.count(zi(e),e)+(zi(e).getDay()===4),t,2)}function hne(e){return e.getDay()}function pne(e,t){return it(Lv.count(zi(e)-1,e),t,2)}function mne(e,t){return it(e.getFullYear()%100,t,2)}function vne(e,t){return e=e6(e),it(e.getFullYear()%100,t,2)}function gne(e,t){return it(e.getFullYear()%1e4,t,4)}function xne(e,t){var r=e.getDay();return e=r>=4||r===0?Hu(e):Hu.ceil(e),it(e.getFullYear()%1e4,t,4)}function yne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+it(t/60|0,"0",2)+it(t%60,"0",2)}function DN(e,t){return it(e.getUTCDate(),t,2)}function bne(e,t){return it(e.getUTCHours(),t,2)}function wne(e,t){return it(e.getUTCHours()%12||12,t,2)}function _ne(e,t){return it(1+jx.count(Ui(e),e),t,3)}function t6(e,t){return it(e.getUTCMilliseconds(),t,3)}function kne(e,t){return t6(e,t)+"000"}function Sne(e,t){return it(e.getUTCMonth()+1,t,2)}function Ene(e,t){return it(e.getUTCMinutes(),t,2)}function Cne(e,t){return it(e.getUTCSeconds(),t,2)}function jne(e){var t=e.getUTCDay();return t===0?7:t}function Tne(e,t){return it(Ax.count(Ui(e)-1,e),t,2)}function r6(e){var t=e.getUTCDay();return t>=4||t===0?Ku(e):Ku.ceil(e)}function Ane(e,t){return e=r6(e),it(Ku.count(Ui(e),e)+(Ui(e).getUTCDay()===4),t,2)}function Nne(e){return e.getUTCDay()}function Pne(e,t){return it($v.count(Ui(e)-1,e),t,2)}function One(e,t){return it(e.getUTCFullYear()%100,t,2)}function Dne(e,t){return e=r6(e),it(e.getUTCFullYear()%100,t,2)}function Mne(e,t){return it(e.getUTCFullYear()%1e4,t,4)}function Ine(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ku(e):Ku.ceil(e),it(e.getUTCFullYear()%1e4,t,4)}function Rne(){return"+0000"}function MN(){return"%"}function IN(e){return+e}function RN(e){return Math.floor(+e/1e3)}var Oc,n6,a6;Fne({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Fne(e){return Oc=Fre(e),n6=Oc.format,Oc.parse,a6=Oc.utcFormat,Oc.utcParse,Oc}function Lne(e){return new Date(e)}function $ne(e){return e instanceof Date?+e:+new Date(+e)}function xS(e,t,r,n,a,s,i,o,l,c){var d=aS(),f=d.invert,h=d.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),_=c("%Y");function k(S){return(l(S)<S?p:o(S)<S?m:i(S)<S?v:s(S)<S?g:n(S)<S?a(S)<S?x:b:r(S)<S?y:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,$ne)):h().map(Lne)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?k:c(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(WF(E,S)):d},d.copy=function(){return uh(d,xS(e,t,r,n,a,s,i,o,l,c))},d}function Bne(){return as.apply(xS(Ire,Rre,zi,vS,Tx,dh,pS,fS,Al,n6).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zne(){return as.apply(xS(Dre,Mre,Ui,gS,Ax,jx,mS,hS,Al,a6).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Nx(){var e=0,t=1,r,n,a,s,i=Hn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(i=f,c):i};function d(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=d(ud),c.rangeRound=d(nS),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function el(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function s6(){var e=Qo(Nx()(Hn));return e.copy=function(){return el(e,s6())},eo.apply(e,arguments)}function i6(){var e=oS(Nx()).domain([1,10]);return e.copy=function(){return el(e,i6()).base(e.base())},eo.apply(e,arguments)}function o6(){var e=lS(Nx());return e.copy=function(){return el(e,o6()).constant(e.constant())},eo.apply(e,arguments)}function yS(){var e=cS(Nx());return e.copy=function(){return el(e,yS()).exponent(e.exponent())},eo.apply(e,arguments)}function Une(){return yS.apply(null,arguments).exponent(.5)}function l6(){var e=[],t=Hn;function r(n){if(n!=null&&!isNaN(n=+n))return t((lh(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Do),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>jte(e,s/n))},r.copy=function(){return l6(t).domain(e)},eo.apply(r,arguments)}function Px(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,c=Hn,d,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-s)*(n*v<n*s?o:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=d(e=+e),s=d(t=+t),i=d(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var x,b,y;return arguments.length?([x,b,y]=g,c=ere(v,[x,b,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(ud),p.rangeRound=m(nS),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return d=v,a=v(e),s=v(t),i=v(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function c6(){var e=Qo(Px()(Hn));return e.copy=function(){return el(e,c6())},eo.apply(e,arguments)}function u6(){var e=oS(Px()).domain([.1,1,10]);return e.copy=function(){return el(e,u6()).base(e.base())},eo.apply(e,arguments)}function d6(){var e=lS(Px());return e.copy=function(){return el(e,d6()).constant(e.constant())},eo.apply(e,arguments)}function bS(){var e=cS(Px());return e.copy=function(){return el(e,bS()).exponent(e.exponent())},eo.apply(e,arguments)}function Vne(){return bS.apply(null,arguments).exponent(.5)}const tf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eS,scaleDiverging:c6,scaleDivergingLog:u6,scaleDivergingPow:bS,scaleDivergingSqrt:Vne,scaleDivergingSymlog:d6,scaleIdentity:VF,scaleImplicit:i2,scaleLinear:UF,scaleLog:HF,scaleOrdinal:Qk,scalePoint:Nte,scalePow:uS,scaleQuantile:qF,scaleQuantize:YF,scaleRadial:GF,scaleSequential:s6,scaleSequentialLog:i6,scaleSequentialPow:yS,scaleSequentialQuantile:l6,scaleSequentialSqrt:Une,scaleSequentialSymlog:o6,scaleSqrt:kre,scaleSymlog:KF,scaleThreshold:XF,scaleTime:Bne,scaleUtc:zne,tickFormat:zF},Symbol.toStringTag,{value:"Module"}));var tl=e=>e.chartData,wS=ne([tl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),fh=(e,t,r,n)=>n?wS(e):tl(e);function Bo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(xt(t)&&xt(r))return!0}return!1}function FN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function f6(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(xt(r))a=r;else if(typeof r=="function")return;if(xt(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Bo(i))return i}}function Wne(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Bo(n))return FN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(je(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&yA.test(a)){var l=yA.exec(a);if(l==null||t==null)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(je(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&bA.test(s)){var d=bA.exec(s);if(d==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(Bo(h))return t==null?h:FN(h,t,r)}}}var dd=1e9,Hne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},kS,Kt=!0,ts="[DecimalError] ",Ll=ts+"Invalid argument: ",_S=ts+"Exponent out of range: ",fd=Math.floor,gl=Math.pow,Kne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ba,Jr=1e7,Rt=7,h6=9007199254740991,Bv=fd(h6/Rt),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Rt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return ji(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return St(ji(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return Dr(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ba))throw Error(ts+"NaN");if(r.s<1)throw Error(ts+(r.s?"NaN":"-Infinity"));return r.eq(ba)?new n(0):(Kt=!1,t=ji(b0(r,s),b0(e,s),s),Kt=!0,St(t,a))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v6(t,e):p6(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(ts+"NaN");return r.s?(Kt=!1,t=ji(r,e,0,1).times(e),Kt=!0,r.minus(t)):St(new n(r),a)};Oe.naturalExponential=Oe.exp=function(){return m6(this)};Oe.naturalLogarithm=Oe.ln=function(){return b0(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?p6(t,e):v6(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ll+e);if(t=Dr(a)+1,n=a.d.length-1,r=n*Rt+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ts+"NaN")}for(e=Dr(o),Kt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Ks(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=fd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(ji(o,s,i+2)).times(.5),Ks(s.d).slice(0,i)===(t=Ks(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(St(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Kt=!0,St(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,a,s,i,o,l,c,d=this,f=d.constructor,h=d.d,p=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,i=l,l=c,c=i),s=[],i=l+c,n=i;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%Jr|0,t=o/Jr|0;s[a]=(s[a]+t)%Jr|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Kt?St(e,f.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ei(e,0,dd),t===void 0?t=n.rounding:ei(t,0,8),St(r,e+Dr(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ec(n,!0):(ei(e,0,dd),t===void 0?t=a.rounding:ei(t,0,8),n=St(new a(n),e+1,t),r=ec(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ec(a):(ei(e,0,dd),t===void 0?t=s.rounding:ei(t,0,8),n=St(new s(a),e+Dr(a)+1,t),r=ec(n.abs(),!1,e+Dr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return St(new t(e),Dr(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=12,d=+(e=new l(e));if(!e.s)return new l(ba);if(o=new l(o),!o.s){if(e.s<1)throw Error(ts+"Infinity");return o}if(o.eq(ba))return o;if(n=l.precision,e.eq(ba))return St(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=d<0?-d:d)<=h6){for(a=new l(ba),t=Math.ceil(n/Rt+4),Kt=!1;r%2&&(a=a.times(o),$N(a.d,t)),r=fd(r/2),r!==0;)o=o.times(o),$N(o.d,t);return Kt=!0,e.s<0?new l(ba).div(a):St(a,n)}}else if(s<0)throw Error(ts+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Kt=!1,a=e.times(b0(o,n+c)),Kt=!0,a=m6(a),a.s=s,a};Oe.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Dr(a),n=ec(a,r<=s.toExpNeg||r>=s.toExpPos)):(ei(e,1,dd),t===void 0?t=s.rounding:ei(t,0,8),a=St(new s(a),e,t),r=Dr(a),n=ec(a,e<=r||r<=s.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ei(e,1,dd),t===void 0?t=n.rounding:ei(t,0,8)),St(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Dr(e),r=e.constructor;return ec(e,t<=r.toExpNeg||t>=r.toExpPos)};function p6(e,t){var r,n,a,s,i,o,l,c,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Kt?St(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),i=Math.ceil(f/Rt),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Jr|0,l[s]%=Jr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Kt?St(t,f):t}function ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ll+e)}function Ks(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=Rt-n.length,r&&(s+=uo(r)),s+=n;i=e[t],n=i+"",r=Rt-n.length,r&&(s+=uo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var ji=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Jr|0,i=s/Jr|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Jr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,c,d,f,h,p,m,v,g,x,b,y,_,k,S,E,C,j=n.constructor,T=n.s==a.s?1:-1,N=n.d,A=a.d;if(!n.s)return new j(n);if(!a.s)throw Error(ts+"Division by zero");for(l=n.e-a.e,E=A.length,k=N.length,p=new j(T),m=p.d=[],c=0;A[c]==(N[c]||0);)++c;if(A[c]>(N[c]||0)&&--l,s==null?b=s=j.precision:i?b=s+(Dr(n)-Dr(a))+1:b=s,b<0)return new j(0);if(b=b/Rt+2|0,c=0,E==1)for(d=0,A=A[0],b++;(c<k||d)&&b--;c++)y=d*Jr+(N[c]||0),m[c]=y/A|0,d=y%A|0;else{for(d=Jr/(A[0]+1)|0,d>1&&(A=e(A,d),N=e(N,d),E=A.length,k=N.length),_=E,v=N.slice(0,E),g=v.length;g<E;)v[g++]=0;C=A.slice(),C.unshift(0),S=A[0],A[1]>=Jr/2&&++S;do d=0,o=t(A,v,E,g),o<0?(x=v[0],E!=g&&(x=x*Jr+(v[1]||0)),d=x/S|0,d>1?(d>=Jr&&(d=Jr-1),f=e(A,d),h=f.length,g=v.length,o=t(f,v,h,g),o==1&&(d--,r(f,E<h?C:A,h))):(d==0&&(o=d=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),o==-1&&(g=v.length,o=t(A,v,E,g),o<1&&(d++,r(v,E<g?C:A,g))),g=v.length):o===0&&(d++,v=[0]),m[c++]=d,o&&v[0]?v[g++]=N[_]||0:(v=[N[_]],g=1);while((_++<k||v[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,St(p,i?s+Dr(p)+1:s)}}();function m6(e,t){var r,n,a,s,i,o,l=0,c=0,d=e.constructor,f=d.precision;if(Dr(e)>16)throw Error(_S+Dr(e));if(!e.s)return new d(ba);for(Kt=!1,o=f,i=new d(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(gl(2,c))/Math.LN10*2+5|0,o+=n,r=a=s=new d(ba),d.precision=o;;){if(a=St(a.times(e),o),r=r.times(++l),i=s.plus(ji(a,r,o)),Ks(i.d).slice(0,o)===Ks(s.d).slice(0,o)){for(;c--;)s=St(s.times(s),o);return d.precision=f,t==null?(Kt=!0,St(s,f)):s}s=i}}function Dr(e){for(var t=e.e*Rt,r=e.d[0];r>=10;r/=10)t++;return t}function S1(e,t,r){if(t>e.LN10.sd())throw Kt=!0,r&&(e.precision=r),Error(ts+"LN10 precision limit exceeded");return St(new e(e.LN10),t)}function uo(e){for(var t="";e--;)t+="0";return t}function b0(e,t){var r,n,a,s,i,o,l,c,d,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(ts+(p.s?"NaN":"-Infinity"));if(p.eq(ba))return new v(0);if(t==null?(Kt=!1,c=g):c=t,p.eq(10))return t==null&&(Kt=!0),S1(v,c);if(c+=h,v.precision=c,r=Ks(m),n=r.charAt(0),s=Dr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Ks(p.d),n=r.charAt(0),f++;s=Dr(p),n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return l=S1(v,c+2,g).times(s+""),p=b0(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=g,t==null?(Kt=!0,St(p,g)):p;for(o=i=p=ji(p.minus(ba),p.plus(ba),c),d=St(p.times(p),c),a=3;;){if(i=St(i.times(d),c),l=o.plus(ji(i,new v(a),c)),Ks(l.d).slice(0,c)===Ks(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(S1(v,c+2,g).times(s+""))),o=ji(o,new v(f),c),v.precision=g,t==null?(Kt=!0,St(o,g)):o;o=l,a+=2}}function LN(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=fd(r/Rt),e.d=[],n=(r+1)%Rt,r<0&&(n+=Rt),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Rt;n<a;)e.d.push(+t.slice(n,n+=Rt));t=t.slice(n),n=Rt-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Kt&&(e.e>Bv||e.e<-Bv))throw Error(_S+r)}else e.s=0,e.e=0,e.d=[0];return e}function St(e,t,r){var n,a,s,i,o,l,c,d,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=Rt,a=t,c=f[d=0];else{if(d=Math.ceil((n+1)/Rt),s=f.length,d>=s)return e;for(c=s=f[d],i=1;s>=10;s/=10)i++;n%=Rt,a=n-Rt+i}if(r!==void 0&&(s=gl(10,i-a-1),o=c/s%10|0,l=t<0||f[d+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/gl(10,i-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=Dr(e),f.length=1,t=t-s-1,f[0]=gl(10,(Rt-t%Rt)%Rt),e.e=fd(-t/Rt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=gl(10,Rt-n),f[d]=a>0?(c/gl(10,i-a)%gl(10,a)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Jr&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=Jr)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Kt&&(e.e>Bv||e.e<-Bv))throw Error(_S+Dr(e));return e}function v6(e,t){var r,n,a,s,i,o,l,c,d,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Kt?St(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(d=i<0,d?(r=l,i=-i,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/Rt),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,d=a<o,d&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}i=0}for(d&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Jr-1;--l[s],l[a]+=Jr}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Kt?St(t,p):t):new h(0)}function ec(e,t,r){var n,a=Dr(e),s=Ks(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+uo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+uo(-a-1)+s,r&&(n=r-i)>0&&(s+=uo(n))):a>=i?(s+=uo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+uo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=uo(n))),e.s<0?"-"+s:s}function $N(e,t){if(e.length>t)return e.length=t,!0}function g6(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ll+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return LN(i,s.toString())}else if(typeof s!="string")throw Error(Ll+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Kne.test(s))LN(i,s);else throw Error(Ll+s)}if(a.prototype=Oe,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=g6,a.config=a.set=Gne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Gne(e){if(!e||typeof e!="object")throw Error(ts+"Object expected");var t,r,n,a=["precision",1,dd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(fd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Ll+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ll+r+": "+n);return this}var kS=g6(Hne);ba=new kS(1);const mt=kS;var qne=e=>e,x6={},y6=e=>e===x6,BN=e=>function t(){return arguments.length===0||arguments.length===1&&y6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},b6=(e,t)=>e===1?t:BN(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==x6).length;return s>=e?t(...n):b6(e-s,BN(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=n.map(d=>y6(d)?o.shift():d);return t(...c,...o)}))}),Yne=e=>b6(e.length,e),u2=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Xne=Yne((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Zne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return qne;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},d2=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function w6(e){var t;return e===0?t=1:t=Math.floor(new mt(e).abs().log(10).toNumber())+1,t}function _6(e,t,r){for(var n=new mt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var k6=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},S6=(e,t,r)=>{if(e.lte(0))return new mt(0);var n=w6(e.toNumber()),a=new mt(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new mt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new mt(l.toNumber()):new mt(Math.ceil(l.toNumber()))},Jne=(e,t,r)=>{var n=new mt(1),a=new mt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new mt(10).pow(w6(e)-1),a=new mt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new mt(Math.floor(e)))}else e===0?a=new mt(Math.floor((t-1)/2)):r||(a=new mt(Math.floor(e)));var i=Math.floor((t-1)/2),o=Zne(Xne(l=>a.add(new mt(l-i).mul(n)).toNumber()),u2);return o(0,t)},E6=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var i=S6(new mt(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new mt(0):(o=new mt(t).add(r).div(2),o=o.sub(new mt(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new mt(r).sub(o).div(i).toNumber()),d=l+c+1;return d>n?E6(t,r,n,a,s+1):(d<n&&(c=r>0?c+(n-d):c,l=r>0?l:l+(n-d)),{step:i,tickMin:o.sub(new mt(l).mul(i)),tickMax:o.add(new mt(c).mul(i))})},Qne=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=k6([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...u2(0,a-1).map(()=>1/0)]:[...u2(0,a-1).map(()=>-1/0),l];return r>n?d2(c):c}if(o===l)return Jne(o,a,s);var{step:d,tickMin:f,tickMax:h}=E6(o,l,i,s,0),p=_6(f,h.add(new mt(.1).mul(d)),d);return r>n?d2(p):p},eae=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=k6([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var l=Math.max(r,2),c=S6(new mt(o).sub(i).div(l-1),s,0),d=[..._6(new mt(i),new mt(o),c),o];return s===!1&&(d=d.map(f=>Math.round(f))),n>a?d2(d):d},C6=e=>e.rootProps.maxBarSize,tae=e=>e.rootProps.barGap,j6=e=>e.rootProps.barCategoryGap,rae=e=>e.rootProps.barSize,hh=e=>e.rootProps.stackOffset,T6=e=>e.rootProps.reverseStackOrder,SS=e=>e.options.chartName,ES=e=>e.rootProps.syncId,A6=e=>e.rootProps.syncMethod,CS=e=>e.options.eventEmitter,nae=e=>e.rootProps.baseValue,pr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},yi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},xa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Ox=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:yi.reversed,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:yi.type,unit:void 0},sae={allowDataOverflow:xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:xa.tickCount,ticks:void 0,type:xa.type,unit:void 0},iae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yi.scale,tick:yi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},oae={allowDataOverflow:xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:xa.tickCount,ticks:void 0,type:"category",unit:void 0},jS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?iae:aae,TS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?oae:sae,Dx=e=>e.polarOptions,AS=ne([Ji,Qi,Wr],SF),N6=ne([Dx,AS],(e,t)=>{if(e!=null)return Mn(e.innerRadius,t,0)}),P6=ne([Dx,AS],(e,t)=>{if(e!=null)return Mn(e.outerRadius,t,t*.8)}),lae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},O6=ne([Dx],lae);ne([jS,O6],Ox);var D6=ne([AS,N6,P6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ne([TS,D6],Ox);var M6=ne([Ye,Dx,N6,P6,Ji,Qi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:Mn(i,a,a/2),cy:Mn(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Gt=(e,t)=>t,ph=(e,t,r)=>r;function Mx(e){return e==null?void 0:e.id}function I6(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var d=Mx(o);c.forEach((f,h)=>{var p=s==null||a?h:String(gt(f,s,null)),m=gt(f,o.dataKey,0),v;i.has(p)?v=i.get(p):v={},Object.assign(v,{[d]:m}),i.set(p,v)})}}),Array.from(i.values())}function Ix(e){return e.stackId!=null&&e.dataKey!=null}var Rx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Fx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function cae(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Gr=e=>{var t=Ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},hd=e=>e.tooltip.settings.axisId;function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){uae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uae(e,t,r){return(t=dae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f2=[0,"auto"],Xr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},R6=(e,t)=>e.cartesianAxis.xAxis[t],oi=(e,t)=>{var r=R6(e,t);return r??Xr},Zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:f2,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:sh},F6=(e,t)=>e.cartesianAxis.yAxis[t],li=(e,t)=>{var r=F6(e,t);return r??Zr},hae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},NS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??hae},ir=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return li(e,r);case"zAxis":return NS(e,r);case"angleAxis":return jS(e,r);case"radiusAxis":return TS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pae=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return li(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mh=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return li(e,r);case"angleAxis":return jS(e,r);case"radiusAxis":return TS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},L6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function PS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var vh=e=>e.graphicalItems.cartesianItems,mae=ne([Gt,ph],PS),OS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),gh=ne([vh,ir,mae],OS,{memoizeOptions:{resultEqualityCheck:Fx}}),$6=ne([gh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Ix)),B6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),vae=ne([gh],B6),DS=e=>e.map(t=>t.data).filter(Boolean).flat(1),gae=ne([gh],DS,{memoizeOptions:{resultEqualityCheck:Fx}}),MS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},IS=ne([gae,fh],MS),RS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:gt(a,n)}))):e.map(n=>({value:n})),Lx=ne([IS,ir,gh],RS);function z6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function _m(e){if(Qa(e)||e instanceof Date){var t=Number(e);if(xt(t))return t}}function UN(e){if(Array.isArray(e)){var t=[_m(e[0]),_m(e[1])];return Bo(t)?t:void 0}var r=_m(e);if(r!=null)return[r,r]}function Vi(e){return e.map(_m).filter(AX)}function xae(e,t,r){return!r||typeof t!="number"||da(t)?[]:r.length?Vi(r.flatMap(n=>{var a=gt(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!xt(s)||!xt(i)))return[t-s,t+i]})):[]}var qr=e=>{var t=Gr(e),r=hd(e);return mh(e,t,r)},xh=ne([qr],e=>e==null?void 0:e.dataKey),yae=ne([$6,fh,qr],I6),U6=(e,t,r,n)=>{var a={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=n?[...l].reverse():l,d=c.map(Mx);return[o,{stackedData:KJ(e,d,r),graphicalItems:c}]}))},w0=ne([yae,$6,hh,T6],U6),V6=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=XJ(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},bae=ne([ir],e=>e.allowDataOverflow),FS=e=>{var t;if(e==null||!("domain"in e))return f2;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Vi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:f2},LS=ne([ir],FS),$S=ne([LS,bae],f6),wae=ne([w0,tl,Gt,$S],V6,{memoizeOptions:{resultEqualityCheck:Rx}}),$x=e=>e.errorBars,_ae=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>z6(r,n)),Uv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},BS=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,d,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(x=>z6(a,x)),h=gt(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),p=xae(o,h,f);if(p.length>=2){var m=Math.min(...p),v=Math.max(...p);(s==null||m<s)&&(s=m),(i==null||v>i)&&(i=v)}var g=UN(h);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),i=i==null?g[1]:Math.max(i,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=UN(gt(o,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),i=i==null?l[1]:Math.max(i,l[1]))}),xt(s)&&xt(i))return[s,i]},kae=ne([IS,ir,vae,$x,Gt],BS,{memoizeOptions:{resultEqualityCheck:Rx}});function Sae(e){var{value:t}=e;if(Qa(t)||t instanceof Date)return t}var Eae=(e,t,r)=>{var n=e.map(Sae).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&L5(n))?PF(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},W6=e=>e.referenceElements.dots,pd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),Cae=ne([W6,Gt,ph],pd),H6=e=>e.referenceElements.areas,jae=ne([H6,Gt,ph],pd),K6=e=>e.referenceElements.lines,Tae=ne([K6,Gt,ph],pd),G6=(e,t)=>{var r=Vi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Aae=ne(Cae,Gt,G6),q6=(e,t)=>{var r=Vi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Nae=ne([jae,Gt],q6);function Pae(e){var t;if(e.x!=null)return Vi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Vi(r)}function Oae(e){var t;if(e.y!=null)return Vi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Vi(r)}var Y6=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Pae(n):Oae(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Dae=ne([Tae,Gt],Y6),Mae=ne(Aae,Dae,Nae,(e,t,r)=>Uv(e,r,t)),zS=(e,t,r,n,a,s,i,o)=>{if(r!=null)return r;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?Uv(n,s,a):Uv(s,a);return Wne(t,c,e.allowDataOverflow)},Iae=ne([ir,LS,$S,wae,kae,Mae,Ye,Gt],zS,{memoizeOptions:{resultEqualityCheck:Rx}}),Rae=[0,1],US=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,c=ii(t,s);if(c&&o==null){var d;return PF(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?Eae(n,e,c):a==="expand"?Rae:i}},VS=ne([ir,Ye,IS,Lx,hh,Gt,Iae],US),X6=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Q0(s));return o in tf?o:"point"}}},md=ne([ir,Ye,L6,SS,Gt],X6);function Fae(e){if(e!=null){if(e in tf)return tf[e]();var t="scale".concat(Q0(e));if(t in tf)return tf[t]()}}function WS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Fae(t);if(a!=null){var s=a.domain(r).range(n);return zJ(s),s}}}var HS=(e,t,r)=>{var n=FS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Bo(e))return Qne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Bo(e))return eae(e,t.tickCount,t.allowDecimals)}},KS=ne([VS,mh,md],HS),GS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Bo(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},Lae=ne([ir,VS,KS,Gt],GS),$ae=ne(Lx,ir,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Vi(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),Z6=ne($ae,Ye,j6,Wr,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!xt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Mn(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),Bae=(e,t)=>{var r=oi(e,t);return r==null||typeof r.padding!="string"?0:Z6(e,"xAxis",t,r.padding)},zae=(e,t)=>{var r=li(e,t);return r==null||typeof r.padding!="string"?0:Z6(e,"yAxis",t,r.padding)},Uae=ne(oi,Bae,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Vae=ne(li,zae,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Wae=ne([Wr,Uae,wx,bx,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Hae=ne([Wr,Ye,Vae,wx,bx,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),yh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Wae(e,r,n);case"yAxis":return Hae(e,r,n);case"zAxis":return(a=NS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return O6(e);case"radiusAxis":return D6(e,r);default:return}},J6=ne([ir,yh],Ox),zo=ne([ir,md,Lae,J6],WS);ne([gh,$x,Gt],_ae);function Q6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Bx=(e,t)=>t,zx=(e,t,r)=>r,Kae=ne(xx,Bx,zx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Q6)),Gae=ne(yx,Bx,zx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Q6)),e8=(e,t)=>({width:e.width,height:t.height}),qae=(e,t)=>{var r=typeof t.width=="number"?t.width:sh;return{width:r,height:e.height}},t8=ne(Wr,oi,e8),Yae=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Xae=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Zae=ne(Qi,Wr,Kae,Bx,zx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=e8(t,o);i==null&&(i=Yae(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(c)*l.height,i+=(c?-1:1)*l.height}),s}),Jae=ne(Ji,Wr,Gae,Bx,zx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=qae(t,o);i==null&&(i=Xae(t,n,e));var c=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(c)*l.width,i+=(c?-1:1)*l.width}),s}),Qae=(e,t)=>{var r=oi(e,t);if(r!=null)return Zae(e,r.orientation,r.mirror)},ese=ne([Wr,oi,Qae,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),tse=(e,t)=>{var r=li(e,t);if(r!=null)return Jae(e,r.orientation,r.mirror)},rse=ne([Wr,li,tse,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),r8=ne(Wr,li,(e,t)=>{var r=typeof t.width=="number"?t.width:sh;return{width:r,height:e.height}}),VN=(e,t,r)=>{switch(t){case"xAxis":return t8(e,r).width;case"yAxis":return r8(e,r).height;default:return}},n8=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=ii(e,n),l=t.map(c=>c.value);if(i&&o&&s==="category"&&a&&L5(l))return l}},qS=ne([Ye,Lx,ir,Gt],n8),a8=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=ii(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},YS=ne([Ye,Lx,mh,Gt],a8),WN=ne([Ye,pae,md,zo,qS,YS,yh,KS,Gt],(e,t,r,n,a,s,i,o,l)=>{if(t!=null){var c=ii(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}}),nse=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var c=ii(e,l),{type:d,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=d==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&s!=null&&s.length>=2?rn(s[0]-s[1])*2*m:m;var v=f||a;if(v){var g=v.map((x,b)=>{var y=i?i.indexOf(x):x;return{index:b,coordinate:n(y)+m,value:x,offset:m}});return g.filter(x=>xt(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})).filter(x=>xt(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:i?i[x]:x,index:b,offset:m}))}},s8=ne([Ye,mh,md,zo,KS,yh,qS,YS,Gt],nse),ase=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ii(e,i),{tickCount:l}=t,c=0;return c=i==="angleAxis"&&(n==null?void 0:n.length)>=2?rn(n[0]-n[1])*2*c:c,o&&s?s.map((d,f)=>({coordinate:r(d)+c,value:d,index:f,offset:c})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+c,value:d,offset:c})):r.domain().map((d,f)=>({coordinate:r(d)+c,value:a?a[d]:d,index:f,offset:c}))}},ti=ne([Ye,mh,zo,yh,qS,YS,Gt],ase),ri=ne(ir,zo,(e,t)=>{if(!(e==null||t==null))return zv(zv({},e),{},{scale:t})}),sse=ne([ir,md,VS,J6],WS);ne((e,t,r)=>NS(e,r),sse,(e,t)=>{if(!(e==null||t==null))return zv(zv({},e),{},{scale:t})});var ise=ne([Ye,xx,yx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),i8=e=>e.options.defaultTooltipEventType,o8=e=>e.options.validateTooltipEventTypes;function l8(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function XS(e,t){var r=i8(e),n=o8(e);return l8(t,r,n)}function ose(e){return Te(t=>XS(t,e))}var c8=(e,t)=>{var r,n=Number(t);if(!(da(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},lse=e=>e.tooltip.settings,vo={active:!1,index:null,dataKey:void 0,coordinate:void 0},cse={itemInteraction:{click:vo,hover:vo},axisInteraction:{click:vo,hover:vo},keyboardInteraction:vo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},u8=ha({name:"tooltip",initialState:cse,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:zt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ts(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:zt()},removeTooltipEntrySettings:{reducer(e,t){var r=Ts(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:zt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:use,replaceTooltipEntrySettings:dse,removeTooltipEntrySettings:fse,setTooltipSettingsState:hse,setActiveMouseOverItemIndex:d8,mouseLeaveItem:pse,mouseLeaveChart:f8,setActiveClickItemIndex:mse,setMouseOverAxisIndex:h8,setMouseClickAxisIndex:vse,setSyncInteraction:h2,setKeyboardInteraction:p2}=u8.actions,gse=u8.reducer;function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){xse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xse(e,t,r){return(t=yse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yse(e){var t=bse(e,"string");return typeof t=="symbol"?t:t+""}function bse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wse(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _se(e){return e.index!=null}var p8=(e,t,r,n)=>{if(t==null)return vo;var a=wse(e,t,r);if(a==null)return vo;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(_se(a)){if(s)return Pp(Pp({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Pp(Pp({},vo),{},{coordinate:a.coordinate})};function kse(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function Sse(e,t){var r=kse(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Ese(e,t,r){if(r==null||t==null)return!0;var n=gt(e,t);return n==null||!Bo(r)?!0:Sse(n,r)}var ZS=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!xt(s))return a;var i=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(i,Math.min(s,o)),c=t[l];return c==null||Ese(c,r,n)?String(l):null},m8=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var d=a==null?void 0:a[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},v8=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},bh=e=>e.options.tooltipPayloadSearcher,vd=e=>e.tooltip;function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){Cse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cse(e,t,r){return(t=jse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jse(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ase(e,t){return e??t}var g8=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:d}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:v,settings:g}=p,x=Ase(v,o),b=Array.isArray(x)?GR(x,c,d):x,y=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,_=g==null?void 0:g.nameKey,k;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?k=$5(b,n,a):k=s(b,t,l,_),Array.isArray(k))k.forEach(E=>{var C=GN(GN({},g),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(wA({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:gt(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(wA({tooltipEntrySettings:g,dataKey:y,payload:k,value:gt(k,y),name:(S=gt(k,_))!==null&&S!==void 0?S:g==null?void 0:g.name}))}return h},f)}},JS=ne([qr,Ye,L6,SS,Gr],X6),Nse=ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Pse=ne([Gr,hd],PS),wh=ne([Nse,qr,Pse],OS,{memoizeOptions:{resultEqualityCheck:Fx}}),Ose=ne([wh],e=>e.filter(Ix)),Dse=ne([wh],DS,{memoizeOptions:{resultEqualityCheck:Fx}}),gd=ne([Dse,tl],MS),Mse=ne([Ose,tl,qr],I6),QS=ne([gd,qr,wh],RS),x8=ne([qr],FS),Ise=ne([qr],e=>e.allowDataOverflow),y8=ne([x8,Ise],f6),Rse=ne([wh],e=>e.filter(Ix)),Fse=ne([Mse,Rse,hh,T6],U6),Lse=ne([Fse,tl,Gr,y8],V6),$se=ne([wh],B6),Bse=ne([gd,qr,$se,$x,Gr],BS,{memoizeOptions:{resultEqualityCheck:Rx}}),zse=ne([W6,Gr,hd],pd),Use=ne([zse,Gr],G6),Vse=ne([H6,Gr,hd],pd),Wse=ne([Vse,Gr],q6),Hse=ne([K6,Gr,hd],pd),Kse=ne([Hse,Gr],Y6),Gse=ne([Use,Kse,Wse],Uv),qse=ne([qr,x8,y8,Lse,Bse,Gse,Ye,Gr],zS),_h=ne([qr,Ye,gd,QS,hh,Gr,qse],US),Yse=ne([_h,qr,JS],HS),Xse=ne([qr,_h,Yse,Gr],GS),b8=e=>{var t=Gr(e),r=hd(e),n=!1;return yh(e,t,r,n)},w8=ne([qr,b8],Ox),_8=ne([qr,JS,Xse,w8],WS),Zse=ne([Ye,QS,qr,Gr],n8),Jse=ne([Ye,QS,qr,Gr],a8),Qse=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=ii(e,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?rn(a[0]-a[1])*2*f:f,c&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},to=ne([Ye,qr,JS,_8,b8,Zse,Jse,Gr],Qse),eE=ne([i8,o8,lse],(e,t,r)=>l8(r.shared,e,t)),k8=e=>e.tooltip.settings.trigger,tE=e=>e.tooltip.settings.defaultIndex,Ux=ne([vd,eE,k8,tE],p8),Uo=ne([Ux,gd,xh,_h],ZS),S8=ne([to,Uo],c8),E8=ne([Ux],e=>{if(e)return e.dataKey}),C8=ne([vd,eE,k8,tE],v8),eie=ne([Ji,Qi,Ye,Wr,to,tE,C8,bh],m8),tie=ne([Ux,eie],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rie=ne([Ux],e=>e.active),nie=ne([C8,Uo,tl,xh,S8,bh,eE],g8),aie=ne([nie],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){sie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sie(e,t,r){return(t=iie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iie(e){var t=oie(e,"string");return typeof t=="symbol"?t:t+""}function oie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lie=()=>Te(qr),cie=()=>{var e=lie(),t=Te(to),r=Te(_8);return $o(!e||!r?void 0:YN(YN({},e),{},{scale:r}),t)};function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){uie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uie(e,t,r){return(t=die(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hie=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},pie=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return Dc(Dc(Dc({},n),Or(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return Dc(Dc(Dc({},n),Or(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mie(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var j8=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,d=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(rn(d-c)!==rn(f-d)){var p=[];if(rn(f-d)===rn(a[1]-a[0])){h=f;var m=d+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var v=f+a[1]-a[0];p[0]=Math.min(d,(v+d)/2),p[1]=Math.max(d,(v+d)/2)}var g=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,f),b=Math.max(c,f);if(e>(x+d)/2&&e<=(b+d)/2){({index:i}=r[l]);break}}}else if(t){for(var y=0;y<o;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}}return i},T8=()=>Te(SS),rE=(e,t)=>t,A8=(e,t,r)=>r,nE=(e,t,r,n)=>n,vie=ne(to,e=>cx(e,t=>t.coordinate)),aE=ne([vd,rE,A8,nE],p8),sE=ne([aE,gd,xh,_h],ZS),gie=(e,t,r)=>{if(t!=null){var n=vd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},N8=ne([vd,rE,A8,nE],v8),Vv=ne([Ji,Qi,Ye,Wr,to,nE,N8,bh],m8),xie=ne([aE,Vv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),P8=ne([to,sE],c8),yie=ne([N8,sE,tl,xh,P8,bh,rE],g8),bie=ne([aE,sE],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wie=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&mie(e,i)){var o=ZJ(e,t),l=j8(o,s,a,r,n),c=hie(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},_ie=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var o=ute(e,r);if(o){var l=JJ(o,t),c=j8(l,i,s,n,a),d=pie(t,s,c,o);return{activeIndex:String(c),activeCoordinate:d}}}},kie=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?wie(e,t,n,a,s,i,o):_ie(e,t,r,n,a,s,i)},Sie=ne(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Eie=ne(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(pr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:cae}});function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){Cie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cie(e,t,r){return(t=jie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Aie={},Nie={zIndexMap:Object.values(pr).reduce((e,t)=>JN(JN({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Aie)},Pie=new Set(Object.values(pr));function Oie(e){return Pie.has(e)}var O8=ha({name:"zIndex",initialState:Nie,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:zt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Oie(r)&&delete e.zIndexMap[r])},prepare:zt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:zt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:zt()}}}),{registerZIndexPortal:Die,unregisterZIndexPortal:Mie,registerZIndexPortalId:Iie,unregisterZIndexPortalId:Rie}=O8.actions,Fie=O8.reducer;function $n(e){var{zIndex:t,children:r}=e,n=CQ(),a=n&&t!==void 0&&t!==0,s=Hr(),i=Et();w.useLayoutEffect(()=>a?(i(Die({zIndex:t})),()=>{i(Mie({zIndex:t}))}):eh,[i,t,a]);var o=Te(c=>Sie(c,t,s));if(!a)return r;if(!o)return null;var l=document.getElementById(o);return l?q0.createPortal(r,l):null}function m2(){return m2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m2.apply(null,arguments)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Op(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){Lie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lie(e,t,r){return(t=$ie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ie(e){var t=Bie(e,"string");return typeof t=="symbol"?t:t+""}function Bie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zie(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function Uie(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:d}=e,f=r,h=n,p=a;if(!l||!f||d!=="ScatterChart"&&c!=="axis")return null;var m,v,g;if(d==="ScatterChart")m=f,v=Cee,g=pr.cursorLine;else if(d==="BarChart")m=jee(o,f,s,i),v=kF,g=pr.cursorRectangle;else if(o==="radial"&&z5(f)){var{cx:x,cy:b,radius:y,startAngle:_,endAngle:k}=EF(f);m={cx:x,cy:b,startAngle:_,endAngle:k,innerRadius:y,outerRadius:y},v=jF,g=pr.cursorLine}else m={points:pte(o,f,s)},v=_u,g=pr.cursorLine;var S=typeof l=="object"&&"className"in l?l.className:void 0,E=Op(Op(Op(Op({stroke:"#ccc",pointerEvents:"none"},s),m),Xl(l)),{},{payload:h,payloadIndex:p,className:tt("recharts-tooltip-cursor",S)});return w.createElement($n,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},w.createElement(zie,{cursor:l,cursorComp:v,cursorProps:E}))}function Vie(e){var t=cie(),r=oF(),n=fc(),a=T8();return t==null||r==null||n==null||a==null?null:w.createElement(Uie,m2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var D8=w.createContext(null),Wie=()=>w.useContext(D8),M8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var p=new a(d,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,f;if(this._eventsCount===0)return c;for(f in d=this._events)t.call(d,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=r?r+c:c,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var d=r?r+c:c,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,d,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,d),!0;case 3:return g.fn.call(g.context,d,f),!0;case 4:return g.fn.call(g.context,d,f,h),!0;case 5:return g.fn.call(g.context,d,f,h,p),!0;case 6:return g.fn.call(g.context,d,f,h,p,m),!0}for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var _=g.length,k;for(y=0;y<_;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),x){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,d);break;case 3:g[y].fn.call(g[y].context,d,f);break;case 4:g[y].fn.call(g[y].context,d,f,h);break;default:if(!b)for(k=1,b=new Array(x-1);k<x;k++)b[k-1]=arguments[k];g[y].fn.apply(g[y].context,b)}}return!0},o.prototype.on=function(c,d,f){return s(this,c,d,f,!1)},o.prototype.once=function(c,d,f){return s(this,c,d,f,!0)},o.prototype.removeListener=function(c,d,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!d)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===d&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,g=[],x=m.length;v<x;v++)(m[v].fn!==d||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&i(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(M8);var Hie=M8.exports;const Kie=si(Hie);var _0=new Kie,v2="recharts.syncEvent.tooltip",eP="recharts.syncEvent.brush";function kh(e,t){if(t){var r=Number.parseInt(t,10);if(!da(r))return e==null?void 0:e[r]}}var Gie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},I8=ha({name:"options",initialState:Gie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qie=I8.reducer,{createEventEmitter:Yie}=I8.actions;function Xie(e){return e.tooltip.syncInteraction}var Zie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},R8=ha({name:"chartData",initialState:Zie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:tP,setDataStartEndIndexes:Jie,setComputedData:rIe}=R8.actions,Qie=R8.reducer,eoe=["x","y"];function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){toe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function toe(e,t,r){return(t=roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function roe(e){var t=noe(e,"string");return typeof t=="symbol"?t:t+""}function noe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aoe(e,t){if(e==null)return{};var r,n,a=soe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function soe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ioe(){var e=Te(ES),t=Te(CS),r=Et(),n=Te(A6),a=Te(to),s=fc(),i=ih(),o=Te(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return eh;var l=(c,d,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(i&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var p=d.payload.coordinate,{x:m,y:v}=p,g=aoe(p,eoe),{x,y:b,width:y,height:_}=d.payload.sourceViewBox,k=Mc(Mc({},g),{},{x:i.x+(y?(m-x)/y:0)*i.width,y:i.y+(_?(v-b)/_:0)*i.height});r(Mc(Mc({},d),{},{payload:Mc(Mc({},d.payload),{},{coordinate:k})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},C=n(a,E);S=a[C]}else n==="value"&&(S=a.find(Z=>String(Z.value)===d.payload.label));var{coordinate:j}=d.payload;if(S==null||d.payload.active===!1||j==null||i==null){r(h2({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:T,y:N}=j,A=Math.min(T,i.x+i.width),P=Math.min(N,i.y+i.height),V={x:s==="horizontal"?S.coordinate:A,y:s==="horizontal"?P:S.coordinate},z=h2({active:d.payload.active,coordinate:V,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox});r(z)}}};return _0.on(v2,l),()=>{_0.off(v2,l)}},[o,r,t,e,n,a,s,i])}function ooe(){var e=Te(ES),t=Te(CS),r=Et();w.useEffect(()=>{if(e==null)return eh;var n=(a,s,i)=>{t!==i&&e===a&&r(Jie(s))};return _0.on(eP,n),()=>{_0.off(eP,n)}},[r,t,e])}function loe(){var e=Et();w.useEffect(()=>{e(Yie())},[e]),ioe(),ooe()}function coe(e,t,r,n,a,s){var i=Te(p=>gie(p,e,t)),o=Te(CS),l=Te(ES),c=Te(A6),d=Te(Xie),f=d==null?void 0:d.active,h=ih();w.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=h2({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});_0.emit(v2,l,p,o)}},[f,r,i,a,n,o,l,c,s,h])}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){uoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uoe(e,t,r){return(t=doe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function doe(e){var t=foe(e,"string");return typeof t=="symbol"?t:t+""}function foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hoe(e){return e.dataKey}function poe(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(aee,t)}var sP=[],moe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Jo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function kt(e){var t,r,n=sr(e,moe),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:d,offset:f,payloadUniqBy:h,position:p,reverseDirection:m,useTranslate3d:v,wrapperStyle:g,cursor:x,shared:b,trigger:y,defaultIndex:_,portal:k,axisId:S}=n,E=Et(),C=typeof _=="number"?String(_):_;w.useEffect(()=>{E(hse({shared:b,trigger:y,axisId:S,active:a,defaultIndex:C}))},[E,b,y,S,a,C]);var j=ih(),T=xF(),N=ose(b),{activeIndex:A,isActive:P}=(t=Te(ue=>bie(ue,N,y,C)))!==null&&t!==void 0?t:{},V=Te(ue=>yie(ue,N,y,C)),z=Te(ue=>P8(ue,N,y,C)),Z=Te(ue=>xie(ue,N,y,C)),G=V,Y=Wie(),I=(r=a??P)!==null&&r!==void 0?r:!1,[te,J]=gR([G,I]),D=N==="axis"?z:void 0;coe(N,y,Z,D,A,I);var R=k??Y;if(R==null||j==null||N==null)return null;var B=G??sP;I||(B=sP),c&&B.length&&(B=sR(B.filter(ue=>ue.value!=null&&(ue.hide!==!0||n.includeHidden)),h,hoe));var H=B.length>0,ee=w.createElement(dee,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:d,active:I,coordinate:Z,hasPayload:H,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:j,wrapperStyle:g,lastBoundingBox:te,innerRef:J,hasPortalFromProps:!!k},poe(l,aP(aP({},n),{},{payload:B,label:D,active:I,activeIndex:A,coordinate:Z,accessibilityLayer:T})));return w.createElement(w.Fragment,null,q0.createPortal(ee,R),I&&w.createElement(Vie,{cursor:x,tooltipEventType:N,coordinate:Z,payload:B,index:A}))}var rs=e=>null;rs.displayName="Cell";function voe(e,t,r){return(t=goe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function goe(e){var t=xoe(e,"string");return typeof t=="symbol"?t:t+""}function xoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yoe{constructor(t){voe(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function boe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){woe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function woe(e,t,r){return(t=_oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _oe(e){var t=koe(e,"string");return typeof t=="symbol"?t:t+""}function koe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Soe={cacheSize:2e3,enableCache:!0},F8=boe({},Soe),oP=new yoe(F8.cacheSize),Eoe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},lP="recharts_measurement_span";function Coe(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var cP=(e,t)=>{try{var r=document.getElementById(lP);r||(r=document.createElement("span"),r.setAttribute("id",lP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Eoe,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},bf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Jo.isSsr)return{width:0,height:0};if(!F8.enableCache)return cP(t,r);var n=Coe(t,r),a=oP.get(n);if(a)return a;var s=cP(t,r);return oP.set(n,s),s},uP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,joe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Toe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Aoe=Object.keys(L8),su="NaN";function Noe(e,t){return e*L8[t]}class ra{static parse(t){var r,[,n,a]=(r=Toe.exec(t))!==null&&r!==void 0?r:[];return new ra(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,da(t)&&(this.unit=""),r!==""&&!joe.test(r)&&(this.num=NaN,this.unit=""),Aoe.includes(r)&&(this.num=Noe(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ra(NaN,""):new ra(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ra(NaN,""):new ra(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ra(NaN,""):new ra(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ra(NaN,""):new ra(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return da(this.num)}}function $8(e){if(e.includes(su))return su;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=uP.exec(t))!==null&&r!==void 0?r:[],i=ra.parse(n??""),o=ra.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return su;t=t.replace(uP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,d,f,h]=(c=dP.exec(t))!==null&&c!==void 0?c:[],p=ra.parse(d??""),m=ra.parse(h??""),v=f==="+"?p.add(m):p.subtract(m);if(v.isNaN())return su;t=t.replace(dP,v.toString())}return t}var fP=/\(([^()]*)\)/;function Poe(e){for(var t=e,r;(r=fP.exec(t))!=null;){var[,n]=r;t=t.replace(fP,$8(n))}return t}function Ooe(e){var t=e.replace(/\s+/g,"");return t=Poe(t),t=$8(t),t}function Doe(e){try{return Ooe(e)}catch{return su}}function E1(e){var t=Doe(e.slice(5,-1));return t===su?"":t}var Moe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Ioe=["dx","dy","angle","className","breakAll"];function g2(){return g2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g2.apply(null,arguments)}function hP(e,t){if(e==null)return{};var r,n,a=Roe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Roe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var B8=/[ \f\n\r\t\v\u2028\u2029]+/,z8=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Bt(t)||(r?a=t.toString().split(""):a=t.toString().split(B8));var s=a.map(o=>({word:o,width:bf(o,n).width})),i=r?0:bf("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Foe(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var U8=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:o}=s,l=a[a.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(i),l.width+=o+r;else{var c={words:[i],width:o};a.push(c)}return a},[]),V8=e=>e.reduce((t,r)=>t.width>r.width?t:r),Loe="",pP=(e,t,r,n,a,s,i,o)=>{var l=e.slice(0,t),c=z8({breakAll:r,style:n,children:l+Loe});if(!c)return[!1,[]];var d=U8(c.wordsWithComputedWidth,s,i,o),f=d.length>a||V8(d).width>Number(s);return[f,d]},$oe=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=je(s),d=String(i),f=U8(t,n,r,a);if(!c||a)return f;var h=f.length>s||V8(f).width>Number(n);if(!h)return f;for(var p=0,m=d.length-1,v=0,g;p<=m&&v<=d.length-1;){var x=Math.floor((p+m)/2),b=x-1,[y,_]=pP(d,b,l,o,s,n,r,a),[k]=pP(d,x,l,o,s,n,r,a);if(!y&&!k&&(p=x+1),y&&k&&(m=x-1),!y&&k){g=_;break}v++}return g||f},mP=e=>{var t=Bt(e)?[]:e.toString().split(B8);return[{words:t,width:void 0}]},Boe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Jo.isSsr){var o,l,c=z8({breakAll:s,children:n,style:a});if(c){var{wordsWithComputedWidth:d,spaceWidth:f}=c;o=d,l=f}else return mP(n);return $oe({breakAll:s,children:n,maxLines:i,style:a},o,l,t,!!r)}return mP(n)},W8="#808080",zoe={angle:0,breakAll:!1,capHeight:"0.71em",fill:W8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Vx=w.forwardRef((e,t)=>{var r=sr(e,zoe),{x:n,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:d}=r,f=hP(r,Moe),h=w.useMemo(()=>Boe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:v,className:g,breakAll:x}=f,b=hP(f,Ioe);if(!Qa(n)||!Qa(a)||h.length===0)return null;var y=Number(n)+(je(p)?p:0),_=Number(a)+(je(m)?m:0);if(!xt(y)||!xt(_))return null;var k;switch(d){case"start":k=E1("calc(".concat(i,")"));break;case"middle":k=E1("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:k=E1("calc(".concat(h.length-1," * -").concat(s,")"));break}var S=[];if(l){var E=h[0].width,{width:C}=f;S.push("scale(".concat(je(C)&&je(E)?C/E:1,")"))}return v&&S.push("rotate(".concat(v,", ").concat(y,", ").concat(_,")")),S.length&&(b.transform=S.join(" ")),w.createElement("text",g2({},bn(b),{ref:t,x:y,y:_,className:tt("recharts-text",g),textAnchor:c,fill:o.includes("url")?W8:o}),h.map((j,T)=>{var N=j.words.join(x?"":" ");return w.createElement("tspan",{x:y,dy:T===0?k:s,key:"".concat(N,"-").concat(T)},N)}))});Vx.displayName="Text";var Uoe=["labelRef"];function Voe(e,t){if(e==null)return{};var r,n,a=Woe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Woe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){Hoe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hoe(e,t,r){return(t=Koe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Koe(e){var t=Goe(e,"string");return typeof t=="symbol"?t:t+""}function Goe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bi(){return bi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bi.apply(null,arguments)}var H8=w.createContext(null),K8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:o}=e,l=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return w.createElement(H8.Provider,{value:l},o)},G8=()=>{var e=w.useContext(H8),t=ih();return e||iF(t)},qoe=w.createContext(null),Yoe=()=>{var e=w.useContext(qoe),t=Te(M6);return e||t},Xoe=e=>{var{value:t,formatter:r}=e,n=Bt(e.children)?t:e.children;return typeof r=="function"?r(n):n},iE=e=>e!=null&&typeof e=="function",Zoe=(e,t)=>{var r=rn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Joe=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:o,cy:l,innerRadius:c,outerRadius:d,startAngle:f,endAngle:h,clockWise:p}=a,m=(c+d)/2,v=Zoe(f,h),g=v>=0?1:-1,x,b;switch(t){case"insideStart":x=f+g*s,b=p;break;case"insideEnd":x=h-g*s,b=!p;break;case"end":x=h+g*s,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var y=Or(o,l,m,x),_=Or(o,l,m,x+(b?1:-1)*359),k="M".concat(y.x,",").concat(y.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),S=Bt(e.id)?l0("recharts-radial-line-"):e.id;return w.createElement("text",bi({},n,{dominantBaseline:"central",className:tt("recharts-radial-bar-label",i)}),w.createElement("defs",null,w.createElement("path",{id:S,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(S)},r))},Qoe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:d,y:f}=Or(n,a,i+t,c);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:m}=Or(n,a,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},x2=e=>"cx"in e&&je(e.cx),ele=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!x2(r)&&(s=r);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:d}=t,f=i,h=i+(l-c)/2,p=(f+h)/2,m=(l+c)/2,v=f+l/2,g=d>=0?1:-1,x=g*n,b=g>0?"end":"start",y=g>0?"start":"end",_=l>=0?1:-1,k=_*n,S=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var C={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return xr(xr({},C),s?{height:Math.max(o-s.y,0),width:l}:{})}if(a==="bottom"){var j={x:h+c/2,y:o+d+x,textAnchor:"middle",verticalAnchor:y};return xr(xr({},j),s?{height:Math.max(s.y+s.height-(o+d),0),width:c}:{})}if(a==="left"){var T={x:p-k,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return xr(xr({},T),s?{width:Math.max(T.x-s.x,0),height:d}:{})}if(a==="right"){var N={x:p+m+k,y:o+d/2,textAnchor:E,verticalAnchor:"middle"};return xr(xr({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:d}:{})}var A=s?{width:m,height:d}:{};return a==="insideLeft"?xr({x:p+k,y:o+d/2,textAnchor:E,verticalAnchor:"middle"},A):a==="insideRight"?xr({x:p+m-k,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},A):a==="insideTop"?xr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},A):a==="insideBottom"?xr({x:h+c/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?xr({x:f+k,y:o+x,textAnchor:E,verticalAnchor:y},A):a==="insideTopRight"?xr({x:f+l-k,y:o+x,textAnchor:S,verticalAnchor:y},A):a==="insideBottomLeft"?xr({x:h+k,y:o+d-x,textAnchor:E,verticalAnchor:b},A):a==="insideBottomRight"?xr({x:h+c-k,y:o+d-x,textAnchor:S,verticalAnchor:b},A):a&&typeof a=="object"&&(je(a.x)||Li(a.x))&&(je(a.y)||Li(a.y))?xr({x:i+Mn(a.x,m),y:o+Mn(a.y,d),textAnchor:"end",verticalAnchor:"end"},A):xr({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},tle={angle:0,offset:5,zIndex:pr.label,position:"middle",textBreakAll:!1};function fo(e){var t=sr(e,tle),{viewBox:r,position:n,value:a,children:s,content:i,className:o="",textBreakAll:l,labelRef:c}=t,d=Yoe(),f=G8(),h=n==="center"?f:d??f,p,m,v;if(r==null?p=h:x2(r)?p=r:p=iF(r),!p||Bt(a)&&Bt(s)&&!w.isValidElement(i)&&typeof i!="function")return null;var g=xr(xr({},t),{},{viewBox:p});if(w.isValidElement(i)){var{labelRef:x}=g,b=Voe(g,Uoe);return w.cloneElement(i,b)}if(typeof i=="function"){if(m=w.createElement(i,g),w.isValidElement(m))return m}else m=Xoe(t);var y=bn(t);if(x2(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Joe(t,n,m,y,p);v=Qoe(p,t.offset,t.position)}else v=ele(t,p);return w.createElement($n,{zIndex:t.zIndex},w.createElement(Vx,bi({ref:c,className:tt("recharts-label",o)},y,v,{textAnchor:Foe(y.textAnchor)?y.textAnchor:v.textAnchor,breakAll:l}),m))}fo.displayName="Label";var rle=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(fo,bi({key:"label-implicit"},n)):Qa(e)?w.createElement(fo,bi({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===fo?w.cloneElement(e,xr({key:"label-implicit"},n)):w.createElement(fo,bi({key:"label-implicit",content:e},n)):iE(e)?w.createElement(fo,bi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(fo,bi({},e,{key:"label-implicit"},n)):null};function q8(e){var{label:t,labelRef:r}=e,n=G8();return rle(t,n,r)||null}var Y8={},X8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(X8);var Z8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(Z8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=X8,r=Z8,n=ox;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(Y8);var nle=Y8.last;const ale=si(nle);var sle=["valueAccessor"],ile=["dataKey","clockWise","id","textBreakAll","zIndex"];function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}function gP(e,t){if(e==null)return{};var r,n,a=ole(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ole(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lle=e=>Array.isArray(e.value)?ale(e.value):e.value,J8=w.createContext(void 0),oE=J8.Provider,Q8=w.createContext(void 0),cle=Q8.Provider;function ule(){return w.useContext(J8)}function dle(){return w.useContext(Q8)}function km(e){var{valueAccessor:t=lle}=e,r=gP(e,sle),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:o}=r,l=gP(r,ile),c=ule(),d=dle(),f=c||d;return!f||!f.length?null:w.createElement($n,{zIndex:o??pr.label},w.createElement(ar,{className:"recharts-label-list"},f.map((h,p)=>{var m,v=Bt(n)?t(h,p):gt(h&&h.payload,n),g=Bt(s)?{}:{id:"".concat(s,"-").concat(p)};return w.createElement(fo,Wv({key:"label-".concat(p)},bn(h),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:i,viewBox:h.viewBox,index:p,zIndex:0}))})))}km.displayName="LabelList";function Wx(e){var{label:t}=e;return t?t===!0?w.createElement(km,{key:"labelList-implicit"}):w.isValidElement(t)||iE(t)?w.createElement(km,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(km,Wv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function y2(){return y2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y2.apply(null,arguments)}var eL=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=tt("recharts-dot",a);return je(t)&&je(r)&&je(n)?w.createElement("circle",y2({},Zn(e),Ek(e),{className:s,cx:t,cy:r,r:n})):null},tL=e=>e.graphicalItems.polarItems,fle=ne([Gt,ph],PS),Hx=ne([tL,ir,fle],OS),hle=ne([Hx],DS),Kx=ne([hle,wS],MS),ple=ne([Kx,ir,Hx],RS);ne([Kx,ir,Hx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=gt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:gt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var xP=()=>{},mle=ne([Kx,ir,Hx,$x,Gt],BS),vle=ne([ir,LS,$S,xP,mle,xP,Ye,Gt],zS),rL=ne([ir,Ye,Kx,ple,hh,Gt,vle],US),gle=ne([rL,ir,md],HS);ne([ir,rL,gle,Gt],GS);var xle={radiusAxis:{},angleAxis:{}},nL=ha({name:"polarAxis",initialState:xle,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:nIe,removeRadiusAxis:aIe,addAngleAxis:sIe,removeAngleAxis:iIe}=nL.actions,yle=nL.reducer;function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ble(e,t,r){return(t=wle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wle(e){var t=_le(e,"string");return typeof t=="symbol"?t:t+""}function _le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kle=(e,t)=>t,lE=ne([tL,kle],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),Sle=[],cE=(e,t,r)=>(r==null?void 0:r.length)===0?Sle:r,aL=ne([wS,lE,cE],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>bP(bP({},t.presentationProps),s.props))),a!=null)return a}}),Ele=ne([aL,lE,cE],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=gt(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Zo(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),Cle=ne([aL,lE,cE,Wr],(e,t,r,n)=>{if(!(t==null||e==null))return Dce({offset:n,pieSettings:t,displayedData:e,cells:r})}),sL={exports:{}},Ct={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx=60103,qx=60106,Sh=60107,Eh=60108,Ch=60114,jh=60109,Th=60110,Ah=60112,Nh=60113,uE=60120,Ph=60115,Oh=60116,iL=60121,oL=60122,lL=60117,cL=60129,uL=60131;if(typeof Symbol=="function"&&Symbol.for){var un=Symbol.for;Gx=un("react.element"),qx=un("react.portal"),Sh=un("react.fragment"),Eh=un("react.strict_mode"),Ch=un("react.profiler"),jh=un("react.provider"),Th=un("react.context"),Ah=un("react.forward_ref"),Nh=un("react.suspense"),uE=un("react.suspense_list"),Ph=un("react.memo"),Oh=un("react.lazy"),iL=un("react.block"),oL=un("react.server.block"),lL=un("react.fundamental"),cL=un("react.debug_trace_mode"),uL=un("react.legacy_hidden")}function Is(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Gx:switch(e=e.type,e){case Sh:case Ch:case Eh:case Nh:case uE:return e;default:switch(e=e&&e.$$typeof,e){case Th:case Ah:case Oh:case Ph:case jh:return e;default:return t}}case qx:return t}}}var jle=jh,Tle=Gx,Ale=Ah,Nle=Sh,Ple=Oh,Ole=Ph,Dle=qx,Mle=Ch,Ile=Eh,Rle=Nh;Ct.ContextConsumer=Th;Ct.ContextProvider=jle;Ct.Element=Tle;Ct.ForwardRef=Ale;Ct.Fragment=Nle;Ct.Lazy=Ple;Ct.Memo=Ole;Ct.Portal=Dle;Ct.Profiler=Mle;Ct.StrictMode=Ile;Ct.Suspense=Rle;Ct.isAsyncMode=function(){return!1};Ct.isConcurrentMode=function(){return!1};Ct.isContextConsumer=function(e){return Is(e)===Th};Ct.isContextProvider=function(e){return Is(e)===jh};Ct.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gx};Ct.isForwardRef=function(e){return Is(e)===Ah};Ct.isFragment=function(e){return Is(e)===Sh};Ct.isLazy=function(e){return Is(e)===Oh};Ct.isMemo=function(e){return Is(e)===Ph};Ct.isPortal=function(e){return Is(e)===qx};Ct.isProfiler=function(e){return Is(e)===Ch};Ct.isStrictMode=function(e){return Is(e)===Eh};Ct.isSuspense=function(e){return Is(e)===Nh};Ct.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Sh||e===Ch||e===cL||e===Eh||e===Nh||e===uE||e===uL||typeof e=="object"&&e!==null&&(e.$$typeof===Oh||e.$$typeof===Ph||e.$$typeof===jh||e.$$typeof===Th||e.$$typeof===Ah||e.$$typeof===lL||e.$$typeof===iL||e[0]===oL)};Ct.typeOf=Is;sL.exports=Ct;var Fle=sL.exports,wP=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_P=null,C1=null,dL=e=>{if(e===_P&&Array.isArray(C1))return C1;var t=[];return w.Children.forEach(e,r=>{Bt(r)||(Fle.isFragment(r)?t=t.concat(dL(r.props.children)):t.push(r))}),C1=t,_P=e,t};function dE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>wP(a)):n=[wP(t)],dL(e).forEach(a=>{var s=Zl(a,"type.displayName")||Zl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var fE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,fL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fL);var Lle=fL.isPlainObject;const $le=si(Lle);function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){Ble(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ble(e,t,r){return(t=zle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zle(e){var t=Ule(e,"string");return typeof t=="symbol"?t:t+""}function Ule(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}var EP=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Vle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Wle=e=>{var t=sr(e,Vle),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:d,isUpdateAnimationActive:f}=t,h=w.useRef(null),[p,m]=w.useState(-1),v=w.useRef(a),g=w.useRef(s),x=w.useRef(i),b=w.useRef(r),y=w.useRef(n),_=cd(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var V=h.current.getTotalLength();V&&m(V)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var k=tt("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",Hv({},bn(t),{className:k,d:EP(r,n,a,s,i)})));var S=v.current,E=g.current,C=x.current,j=b.current,T=y.current,N="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),P=yF(["strokeDasharray"],c,l);return w.createElement(ld,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:f,begin:d},V=>{var z=ft(S,a,V),Z=ft(E,s,V),G=ft(C,i,V),Y=ft(j,r,V),I=ft(T,n,V);h.current&&(v.current=z,g.current=Z,x.current=G,b.current=Y,y.current=I);var te=V>0?{transition:P,strokeDasharray:A}:{strokeDasharray:N};return w.createElement("path",Hv({},bn(t),{className:k,d:EP(Y,I,z,Z,G),ref:h,style:SP(SP({},te),t.style)}))})},Hle=["option","shapeType","propTransformer","activeClassName"];function Kle(e,t){if(e==null)return{};var r,n,a=Gle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){qle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qle(e,t,r){return(t=Yle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yle(e){var t=Xle(e,"string");return typeof t=="symbol"?t:t+""}function Xle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zle(e,t){return Kv(Kv({},t),e)}function Jle(e,t){return e==="symbols"}function jP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(kF,r);case"trapezoid":return w.createElement(Wle,r);case"sector":return w.createElement(jF,r);case"symbols":if(Jle(t))return w.createElement(Sk,r);break;case"curve":return w.createElement(_u,r);default:return null}}function Qle(e){return w.isValidElement(e)?e.props:e}function hE(e){var{option:t,shapeType:r,propTransformer:n=Zle,activeClassName:a="recharts-active-shape"}=e,s=Kle(e,Hle),i;if(w.isValidElement(t))i=w.cloneElement(t,Kv(Kv({},s),Qle(t)));else if(typeof t=="function")i=t(s);else if($le(t)&&typeof t!="boolean"){var o=n(t,s);i=w.createElement(jP,{shapeType:r,elementProps:o})}else{var l=s;i=w.createElement(jP,{shapeType:r,elementProps:l})}return s.isActive?w.createElement(ar,{className:a},i):i}var pE=(e,t)=>{var r=Et();return(n,a)=>s=>{e==null||e(n,a,s),r(d8({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},mE=e=>{var t=Et();return(r,n)=>a=>{e==null||e(r,n,a),t(pse())}},vE=(e,t)=>{var r=Et();return(n,a)=>s=>{e==null||e(n,a,s),r(mse({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Yx(e){var{tooltipEntrySettings:t}=e,r=Et(),n=Hr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(use(t)):a.current!==t&&r(dse({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(fse(a.current)),a.current=null)},[r]),null}function gE(e){var{legendPayload:t}=e,r=Et(),n=Hr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(mF(t)):a.current!==t&&r(vF({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(gF(a.current)),a.current=null)},[r]),null}function ece(e){var{legendPayload:t}=e,r=Et(),n=Te(Ye),a=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(mF(t)):a.current!==t&&r(vF({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(gF(a.current)),a.current=null)},[r]),null}var j1,tce=()=>{var[e]=w.useState(()=>l0("uid-"));return e},rce=(j1=hU.useId)!==null&&j1!==void 0?j1:tce;function hL(e,t){var r=rce();return t||(e?"".concat(e,"-").concat(r):r)}var nce=w.createContext(void 0),Xx=e=>{var{id:t,type:r,children:n}=e,a=hL("recharts-".concat(r),t);return w.createElement(nce.Provider,{value:a},n(a))},ace={cartesianItems:[],polarItems:[]},pL=ha({name:"graphicalItems",initialState:ace,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:zt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Ts(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:zt()},removeCartesianGraphicalItem:{reducer(e,t){var r=Ts(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:zt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:zt()},removePolarGraphicalItem:{reducer(e,t){var r=Ts(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:zt()}}}),{addCartesianGraphicalItem:sce,replaceCartesianGraphicalItem:ice,removeCartesianGraphicalItem:oce,addPolarGraphicalItem:lce,removePolarGraphicalItem:cce}=pL.actions,uce=pL.reducer,dce=e=>{var t=Et(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(sce(e)):r.current!==e&&t(ice({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(oce(r.current)),r.current=null)},[t]),null},xE=w.memo(dce);function fce(e){var t=Et();return w.useLayoutEffect(()=>(t(lce(e)),()=>{t(cce(e))}),[t,e]),null}var hce=["key"],pce=["onMouseEnter","onClick","onMouseLeave"],mce=["id"],vce=["id"];function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){gce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gce(e,t,r){return(t=xce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xce(e){var t=yce(e,"string");return typeof t=="symbol"?t:t+""}function yce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vo.apply(null,arguments)}function Zx(e,t){if(e==null)return{};var r,n,a=bce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wce(e){var t=w.useMemo(()=>dE(e.children,rs),[e.children]),r=Te(n=>Ele(n,e.id,t));return r==null?null:w.createElement(ece,{legendPayload:r})}var _ce=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e,d={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:Zo(o,t),hide:l,type:c,color:i,unit:""}};return w.createElement(Yx,{tooltipEntrySettings:d})}),kce=(e,t)=>e>t?"start":e<t?"end":"middle",Sce=(e,t,r)=>Mn(typeof t=="function"?t(e):t,r,r*.8),Ece=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=SF(s,i),l=a+Mn(e.cx,s,s/2),c=n+Mn(e.cy,i,i/2),d=Mn(e.innerRadius,o,0),f=Sce(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:h}},Cce=(e,t)=>{var r=rn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function jce(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Tce=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=tt("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Zx(t,hce);return w.createElement(_u,Vo({},a,{type:"linear",className:r}))},Ace=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=tt("recharts-pie-label-text",jce(e));return w.createElement(Vx,Vo({},t,{alignmentBaseline:"middle",className:a}),n)};function Nce(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=Zn(r),l=Xl(a),c=Xl(s),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,v=Or(h.cx,h.cy,h.outerRadius+d,m),g=dr(dr(dr(dr({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:kce(v.x,h.cx)},v),x=dr(dr(dr(dr({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[Or(h.cx,h.cy,h.outerRadius,m),v],key:"line"});return w.createElement($n,{zIndex:pr.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},w.createElement(ar,null,s&&Tce(s,x),Ace(a,g,gt(h,i))))});return w.createElement(ar,{className:"recharts-pie-labels"},f)}function Pce(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(Wx,{label:a}):w.createElement(Nce,{sectors:t,props:r,showLabels:n})}function Oce(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s}=e,i=Te(Uo),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,d=Zx(a,pce),f=pE(o,a.dataKey),h=mE(c),p=vE(l,a.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,v)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=String(v)===i,x=i?n:null,b=r&&g?r:x,y=dr(dr({},m),{},{stroke:m.stroke,tabIndex:-1,[JR]:v,[QR]:a.dataKey});return w.createElement(ar,Vo({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},th(d,m,v),{onMouseEnter:f(m,v),onMouseLeave:h(m,v),onClick:p(m,v)}),w.createElement(hE,Vo({option:s??b,shapeType:"sector",isActive:g},y)))}))}function Dce(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:c,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),p=Cce(o,l),m=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(S=>gt(S,c,0)!==0).length,x=(m>=360?g:g-1)*v,b=m-g*h-x,y=n.reduce((S,E)=>{var C=gt(E,c,0);return S+(je(C)?C:0)},0),_;if(y>0){var k;_=n.map((S,E)=>{var C=gt(S,c,0),j=gt(S,d,E),T=Ece(r,s,S),N=(je(C)?C:0)/y,A,P=dr(dr({},S),a&&a[E]&&a[E].props);E?A=k.endAngle+rn(p)*v*(C!==0?1:0):A=o;var V=A+rn(p)*((C!==0?h:0)+N*b),z=(A+V)/2,Z=(T.innerRadius+T.outerRadius)/2,G=[{name:j,value:C,payload:P,dataKey:c,type:f}],Y=Or(T.cx,T.cy,Z,z);return k=dr(dr(dr(dr({},r.presentationProps),{},{percent:N,cornerRadius:typeof i=="string"?parseFloat(i):i,name:j,tooltipPayload:G,midAngle:z,middleRadius:Z,tooltipPosition:Y},P),T),{},{value:C,startAngle:A,endAngle:V,payload:P,paddingAngle:rn(p)*v}),k})}return _}function Mce(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(cle,{value:t?a:void 0},n)}function Ice(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:d,onAnimationEnd:f}=t,h=cd(t,"recharts-pie-"),p=r.current,[m,v]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),x=w.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return w.createElement(Mce,{showLabels:!m,sectors:n},w.createElement(ld,{animationId:h,begin:s,duration:i,isActive:a,easing:o,onAnimationStart:x,onAnimationEnd:g,key:h},b=>{var y=[],_=n&&n[0],k=_==null?void 0:_.startAngle;return n==null||n.forEach((S,E)=>{var C=p&&p[E],j=E>0?Zl(S,"paddingAngle",0):0;if(C){var T=ft(C.endAngle-C.startAngle,S.endAngle-S.startAngle,b),N=dr(dr({},S),{},{startAngle:k+j,endAngle:k+T+j});y.push(N),k=N.endAngle}else{var{endAngle:A,startAngle:P}=S,V=ft(0,A-P,b),z=dr(dr({},S),{},{startAngle:k+j,endAngle:k+V+j});y.push(z),k=z.endAngle}}),r.current=y,w.createElement(ar,null,w.createElement(Oce,{sectors:y,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),w.createElement(Pce,{showLabels:!m,sectors:n,props:t}),t.children)}var Rce={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Jo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:pr.area};function Fce(e){var{id:t}=e,r=Zx(e,mce),{hide:n,className:a,rootTabIndex:s}=e,i=w.useMemo(()=>dE(e.children,rs),[e.children]),o=Te(d=>Cle(d,t,i)),l=w.useRef(null),c=tt("recharts-pie",a);return n||o==null?(l.current=null,w.createElement(ar,{tabIndex:s,className:c})):w.createElement($n,{zIndex:e.zIndex},w.createElement(_ce,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(ar,{tabIndex:s,className:c},w.createElement(Ice,{props:dr(dr({},r),{},{sectors:o}),previousSectorsRef:l})))}function Jx(e){var t=sr(e,Rce),{id:r}=t,n=Zx(t,vce),a=Zn(n);return w.createElement(Xx,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(fce,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(wce,Vo({},n,{id:s})),w.createElement(Fce,Vo({},n,{id:s}))))}Jx.displayName="Pie";var Lce=["points"];function AP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(r),!0).forEach(function(n){$ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ce(e,t,r){return(t=Bce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bce(e){var t=zce(e,"string");return typeof t=="symbol"?t:t+""}function zce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function Uce(e,t){if(e==null)return{};var r,n,a=Vce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wce(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=tt(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,o=Uce(s,Lce);return w.createElement(eL,Gv({},o,{className:a}))}function Hce(e,t){return e==null?!1:t?!0:e.length===1}function mL(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:o,clipPathId:l,zIndex:c=pr.scatter}=e;if(!Hce(t,r))return null;var d=fE(r),f=BY(r),h=t.map((m,v)=>{var g,x,b=T1(T1(T1({r:3},i),f),{},{index:v,cx:(g=m.x)!==null&&g!==void 0?g:void 0,cy:(x=m.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:m.value,payload:m.payload,points:t});return w.createElement(Wce,{key:"dot-".concat(v),option:r,dotProps:b,className:a})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),w.createElement($n,{zIndex:c},w.createElement(ar,Gv({className:n},p),h))}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Kce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kce(e,t,r){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gce(e){var t=qce(e,"string");return typeof t=="symbol"?t:t+""}function qce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yce={xAxis:{},yAxis:{},zAxis:{}},vL=ha({name:"cartesianAxis",initialState:Yce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:zt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:zt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:zt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:zt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:zt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:zt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:zt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:zt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:zt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=PP(PP({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:Xce,replaceXAxis:Zce,removeXAxis:Jce,addYAxis:Qce,replaceYAxis:eue,removeYAxis:tue,addZAxis:oIe,replaceZAxis:lIe,removeZAxis:cIe,updateYAxisWidth:rue}=vL.actions,nue=vL.reducer,aue=ne([Wr],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),sue=ne([aue,Ji,Qi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Qx=()=>Te(sue),iue=()=>Te(aie);function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){oue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oue(e,t,r){return(t=lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lue(e){var t=cue(e,"string");return typeof t=="symbol"?t:t+""}function cue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uue=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=A1(A1(A1({},o),Xl(a)),Ek(a)),c;return w.isValidElement(a)?c=w.cloneElement(a,l):typeof a=="function"?c=a(l):c=w.createElement(eL,l),w.createElement(ar,{className:"recharts-active-dot",clipPath:i},c)};function b2(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=pr.activeDot}=e,o=Te(Uo),l=iue();if(t==null||l==null)return null;var c=t.find(d=>l.includes(d.payload));return Bt(c)?null:w.createElement($n,{zIndex:i},w.createElement(uue,{point:c,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var due="Invariant failed";function fue(e,t){throw new Error(due)}var hue=["x","y"];function w2(){return w2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w2.apply(null,arguments)}function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){pue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pue(e,t,r){return(t=mue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mue(e){var t=vue(e,"string");return typeof t=="symbol"?t:t+""}function vue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gue(e,t){if(e==null)return{};var r,n,a=xue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yue(e,t){var{x:r,y:n}=e,a=gue(e,hue),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),d=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Wd(Wd(Wd(Wd(Wd({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qv(e){return w.createElement(hE,w2({shapeType:"rectangle",propTransformer:yue,activeClassName:"recharts-active-bar"},e))}var bue=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(je(t))return t;var s=je(n)||Bt(n);return s?t(n,a):(s||fue(),r)}},wue={},gL=ha({name:"errorBars",initialState:wue,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:uIe,replaceErrorBar:dIe,removeErrorBar:fIe}=gL.actions,_ue=gL.reducer,kue=["children"];function Sue(e,t){if(e==null)return{};var r,n,a=Eue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cue={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jue=w.createContext(Cue);function xL(e){var{children:t}=e,r=Sue(e,kue);return w.createElement(jue.Provider,{value:r},t)}function ey(e,t){var r,n,a=Te(c=>oi(c,e)),s=Te(c=>li(c,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Xr.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Zr.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function yE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Qx(),{needClipX:s,needClipY:i,needClip:o}=ey(t,r);if(!o||!a)return null;var{x:l,y:c,width:d,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?l:l-d/2,y:i?c:c-f/2,width:s?d:d*2,height:i?f:f*2}))}function Tue(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&xt(e.zIndex)?e.zIndex:t}var Aue={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh=w;function Nue(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pue=typeof Object.is=="function"?Object.is:Nue,Oue=Dh.useSyncExternalStore,Due=Dh.useRef,Mue=Dh.useEffect,Iue=Dh.useMemo,Rue=Dh.useDebugValue;Aue.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=Due(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Iue(function(){function l(p){if(!c){if(c=!0,d=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,Pue(d,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(d=p,m):(d=p,f=v)}var c=!1,d,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=Oue(e,s[0],s[1]);return Mue(function(){i.hasValue=!0,i.value=o},[o]),Rue(o),o};function Fue(e){e()}function Lue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Fue(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var MP={notify(){},get:()=>[]};function $ue(e,t){let r,n=MP,a=0,s=!1;function i(v){d();const g=n.subscribe(v);let x=!1;return()=>{x||(x=!0,g(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function d(){a++,r||(r=e.subscribe(l),n=Lue())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=MP)}function h(){s||(s=!0,d())}function p(){s&&(s=!1,f())}const m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var Bue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zue=Bue(),Uue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Vue=Uue(),Wue=()=>zue||Vue?w.useLayoutEffect:w.useEffect,Hue=Wue();function IP(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Kue(e,t){if(IP(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!IP(e[r[a]],t[r[a]]))return!1;return!0}var N1=Symbol.for("react-redux-context"),P1=typeof globalThis<"u"?globalThis:{};function Gue(){if(!w.createContext)return{};const e=P1[N1]??(P1[N1]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var que=Gue();function Yue(e){const{children:t,context:r,serverState:n,store:a}=e,s=w.useMemo(()=>{const l=$ue(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);Hue(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||que;return w.createElement(o.Provider,{value:s},t)}var Xue=Yue,Zue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Jue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Mh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Zue.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Kue(e[n],t[n]))return!1}else if(!Jue(e[n],t[n]))return!1;return!0}var Que=["onMouseEnter","onMouseLeave","onClick"],ede=["value","background","tooltipPosition"],tde=["id"],rde=["onMouseEnter","onClick","onMouseLeave"];function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(null,arguments)}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){nde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nde(e,t,r){return(t=ade(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ade(e){var t=sde(e,"string");return typeof t=="symbol"?t:t+""}function sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yv(e,t){if(e==null)return{};var r,n,a=ide(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ide(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ode=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Zo(r,t),payload:e}]},lde=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Zo(s,t),hide:i,type:l,color:a,unit:o}};return w.createElement(Yx,{tooltipEntrySettings:c})});function cde(e){var t=Te(Uo),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,c=Yv(s,Que),d=pE(i,n),f=mE(o),h=vE(l,n);if(!a||r==null)return null;var p=Xl(a);return w.createElement($n,{zIndex:Tue(a,pr.barBackground)},r.map((m,v)=>{var{value:g,background:x,tooltipPosition:b}=m,y=Yv(m,ede);if(!x)return null;var _=d(m,v),k=f(m,v),S=h(m,v),E=Vn(Vn(Vn(Vn(Vn({option:a,isActive:String(v)===t},y),{},{fill:"#eee"},x),p),th(c,m,v)),{},{onMouseEnter:_,onMouseLeave:k,onClick:S,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(qv,Wi({key:"background-bar-".concat(v)},E))}))}function ude(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Vn(Vn({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return w.createElement(oE,{value:t?a:void 0},r)}function dde(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=Te(Uo),l=Te(E8),c=r&&String(s)===o&&(l==null||i===l),d=c?r:t;return c?w.createElement($n,{zIndex:pr.activeBar},w.createElement(qv,Wi({},n,{name:String(n.name)},a,{isActive:c,option:d,index:s,dataKey:i}))):w.createElement(qv,Wi({},n,{name:String(n.name)},a,{isActive:c,option:d,index:s,dataKey:i}))}function fde(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return w.createElement(qv,Wi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function hde(e){var t,{data:r,props:n}=e,a=(t=Zn(n))!==null&&t!==void 0?t:{},{id:s}=a,i=Yv(a,tde),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,p=Yv(n,rde),m=pE(d,l),v=mE(h),g=vE(f,l);return r?w.createElement(w.Fragment,null,r.map((x,b)=>w.createElement(ar,Wi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},th(p,x,b),{onMouseEnter:m(x,b),onMouseLeave:v(x,b),onClick:g(x,b)}),c?w.createElement(dde,{shape:o,activeBar:c,baseProps:i,entry:x,index:b,dataKey:l}):w.createElement(fde,{shape:o,baseProps:i,entry:x,index:b,dataKey:l})))):null}function pde(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:d}=t,f=r.current,h=cd(t,"recharts-bar-"),[p,m]=w.useState(!1),v=!p,g=w.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=w.useCallback(()=>{typeof d=="function"&&d(),m(!0)},[d]);return w.createElement(ude,{showLabels:v,rects:n},w.createElement(ld,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:x,key:h},b=>{var y=b===1?n:n==null?void 0:n.map((_,k)=>{var S=f&&f[k];if(S)return Vn(Vn({},_),{},{x:ft(S.x,_.x,b),y:ft(S.y,_.y,b),width:ft(S.width,_.width,b),height:ft(S.height,_.height,b)});if(a==="horizontal"){var E=ft(0,_.height,b),C=ft(_.stackedBarStart,_.y,b);return Vn(Vn({},_),{},{y:C,height:E})}var j=ft(0,_.width,b),T=ft(_.stackedBarStart,_.x,b);return Vn(Vn({},_),{},{width:j,x:T})});return b>0&&(r.current=y??null),y==null?null:w.createElement(ar,null,w.createElement(hde,{props:t,data:y}))}),w.createElement(Wx,{label:t.label}),t.children)}function mde(e){var t=w.useRef(null);return w.createElement(pde,{previousRectanglesRef:t,props:e})}var yL=0,vde=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:gt(e,t)}};class gde extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var d=tt("recharts-bar",a),f=c;return w.createElement(ar,{className:d,id:c},o&&w.createElement("defs",null,w.createElement(yE,{clipPathId:f,xAxisId:s,yAxisId:i})),w.createElement(ar,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(cde,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),w.createElement(mde,this.props)))}}var xde={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:yL,xAxisId:0,yAxisId:0,zIndex:pr.bar};function yde(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d}=e,{needClip:f}=ey(t,r),h=fc(),p=Hr(),m=dE(e.children,rs),v=Te(b=>Gde(b,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var g,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?g=0:g=h==="vertical"?x.height/2:x.width/2,w.createElement(xL,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:vde,errorBarOffset:g},w.createElement(gde,Wi({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:d})))}function bde(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:d,displayedData:f,offset:h,cells:p,parentViewBox:m,dataStartIndex:v}=e,g=t==="horizontal"?o:i,x=d?g.scale.domain():null,b=GJ({numericAxis:g}),y=g.scale(b);return f.map((_,k)=>{var S,E,C,j,T,N;d?S=UJ(d[k+v],x):(S=gt(_,r),Array.isArray(S)||(S=[b,S]));var A=bue(n,yL)(S[1],k);if(t==="horizontal"){var P,[V,z]=[o.scale(S[0]),o.scale(S[1])];E=xA({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:_,index:k}),C=(P=z??V)!==null&&P!==void 0?P:void 0,j=a.size;var Z=V-z;if(T=da(Z)?0:Z,N={x:E,y:h.top,width:j,height:h.height},Math.abs(A)>0&&Math.abs(T)<Math.abs(A)){var G=rn(T||A)*(Math.abs(A)-Math.abs(T));C-=G,T+=G}}else{var[Y,I]=[i.scale(S[0]),i.scale(S[1])];if(E=Y,C=xA({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:_,index:k}),j=I-Y,T=a.size,N={x:h.left,y:C,width:h.width,height:T},Math.abs(A)>0&&Math.abs(j)<Math.abs(A)){var te=rn(j||A)*(Math.abs(A)-Math.abs(j));j+=te}}if(E==null||C==null||j==null||T==null)return null;var J=Vn(Vn({},_),{},{stackedBarStart:y,x:E,y:C,width:j,height:T,value:d?S:S[1],payload:_,background:N,tooltipPosition:{x:E+j/2,y:C+T/2},parentViewBox:m},p&&p[k]&&p[k].props);return J}).filter(Boolean)}function wde(e){var t=sr(e,xde),r=Hr();return w.createElement(Xx,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(gE,{legendPayload:ode(t)}),w.createElement(lde,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(xE,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:XR(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement($n,{zIndex:t.zIndex},w.createElement(yde,Wi({},t,{id:n})))))}var br=w.memo(wde,Mh);br.displayName="Bar";function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){_de(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _de(e,t,r){return(t=kde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kde(e){var t=Sde(e,"string");return typeof t=="symbol"?t:t+""}function Sde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ede=(e,t)=>t,Cde=(e,t,r)=>r,jde=(e,t,r,n)=>n,Tde=(e,t,r,n,a)=>a,Ih=ne([vh,Tde],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Ade=ne([Ih],e=>e==null?void 0:e.maxBarSize),Nde=(e,t,r,n,a,s)=>s,LP=(e,t,r)=>{var n=r??e;if(!Bt(n))return Mn(n,t,0)},Pde=ne([Ye,vh,Ede,Cde,jde],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Ode=(e,t,r,n)=>{var a=Ye(e);return a==="horizontal"?w0(e,"yAxis",r,n):w0(e,"xAxis",t,n)},Dde=(e,t,r)=>{var n=Ye(e);return n==="horizontal"?VN(e,"xAxis",t):VN(e,"yAxis",r)},Mde=(e,t,r)=>{var n={},a=e.filter(Ix),s=e.filter(c=>c.stackId==null),i=a.reduce((c,d)=>(c[d.stackId]||(c[d.stackId]=[]),c[d.stackId].push(d),c),n),o=Object.entries(i).map(c=>{var[d,f]=c,h=f.map(m=>m.dataKey),p=LP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:p}}),l=s.map(c=>{var d=[c.dataKey].filter(h=>h!=null),f=LP(t,r,c.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...o,...l]},Ide=ne([Pde,rae,Dde],Mde),Rde=(e,t,r,n,a)=>{var s,i,o=Ih(e,t,r,n,a);if(o!=null){var l=Ye(e),c=C6(e),{maxBarSize:d}=o,f=Bt(d)?c:d,h,p;return l==="horizontal"?(h=ri(e,"xAxis",t,n),p=ti(e,"xAxis",t,n)):(h=ri(e,"yAxis",r,n),p=ti(e,"yAxis",r,n)),(s=(i=$o(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},bL=(e,t,r,n)=>{var a=Ye(e),s,i;return a==="horizontal"?(s=ri(e,"xAxis",t,n),i=ti(e,"xAxis",t,n)):(s=ri(e,"yAxis",r,n),i=ti(e,"yAxis",r,n)),$o(s,i)};function Fde(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Mn(e,r,0,!0),o,l=[];if(xt(n[0].barSize)){var c=!1,d=r/s,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&d>0&&(c=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((x,b)=>{var y,_={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+i,size:c?d:(y=b.barSize)!==null&&y!==void 0?y:0}},k=[...x,_];return p=k[k.length-1].position,k},l)}else{var m=Mn(t,r,0,!0);r-2*m-(s-1)*i<=0&&(i=0);var v=(r-2*m-(s-1)*i)/s;v>1&&(v>>=0);var g=xt(a)?Math.min(v,a):v;o=n.reduce((x,b,y)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(v+i)*y+(v-g)/2,size:g}}],l)}return o}}var Lde=(e,t,r,n,a,s,i)=>{var o=Bt(i)?t:i,l=Fde(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(c=>Dp(Dp({},c),{},{position:Dp(Dp({},c.position),{},{offset:c.position.offset-a/2})}))),l},$de=ne([Ide,C6,tae,j6,Rde,bL,Ade],Lde),Bde=(e,t,r,n)=>ri(e,"xAxis",t,n),zde=(e,t,r,n)=>ri(e,"yAxis",r,n),Ude=(e,t,r,n)=>ti(e,"xAxis",t,n),Vde=(e,t,r,n)=>ti(e,"yAxis",r,n),Wde=ne([$de,Ih],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Hde=(e,t)=>{var r=Mx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},Kde=ne([Ode,Ih],Hde),Gde=ne([Wr,Kk,Bde,zde,Ude,Vde,Wde,Ye,fh,bL,Kde,Ih,Nde],(e,t,r,n,a,s,i,o,l,c,d,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||i==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||c==null)){var{data:g}=f,x;if(g!=null&&g.length>0?x=g:x=p==null?void 0:p.slice(m,v+1),x!=null)return bde({layout:o,barSettings:f,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:d,displayedData:x,offset:e,cells:h,dataStartIndex:m})}}),wL=e=>{var{chartData:t}=e,r=Et(),n=Hr();return w.useEffect(()=>n?()=>{}:(r(tP(t)),()=>{r(tP(void 0))}),[t,r,n]),null},$P={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},_L=ha({name:"brush",initialState:$P,reducers:{setBrushSettings(e,t){return t.payload==null?$P:t.payload}}}),{setBrushSettings:hIe}=_L.actions,qde=_L.reducer;function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){kL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kL(e,t,r){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yde(e){var t=Xde(e,"string");return typeof t=="symbol"?t:t+""}function Xde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zde=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Jde=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Zde({x:t,y:r},{x:n,y:a})};class ty{static create(t){return new ty(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}kL(ty,"EPS",1e-4);var Qde=e=>{var t=Object.keys(e).reduce((r,n)=>Mp(Mp({},r),{},{[n]:ty.create(e[n])}),{});return Mp(Mp({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,o]=s;return[i,t[i].apply(o,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function efe(e){return(e%180+180)%180}var tfe=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=efe(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},rfe={dots:[],areas:[],lines:[]},SL=ha({name:"referenceElements",initialState:rfe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Ts(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Ts(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Ts(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:pIe,removeDot:mIe,addArea:vIe,removeArea:gIe,addLine:nfe,removeLine:afe}=SL.actions,sfe=SL.reducer,EL=w.createContext(void 0),ife=e=>{var{children:t}=e,[r]=w.useState("".concat(l0("recharts"),"-clip")),n=Qx();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return w.createElement(EL.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:s,height:o,width:i}))),t)},ofe=()=>w.useContext(EL);function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){lfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lfe(e,t,r){return(t=cfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cfe(e){var t=ufe(e,"string");return typeof t=="symbol"?t:t+""}function ufe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}var dfe=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!xt(t.x1)||!xt(t.y1)||!xt(t.x2)||!xt(t.y2))return null;r=w.createElement("line",Xv({},t,{className:"recharts-reference-line-line"}))}return r},ffe=(e,t,r,n,a,s)=>{var{x:i,width:o}=s,l=a.y.apply(e,{position:r});if(da(l)||t==="discard"&&!a.y.isInRange(l))return null;var c=[{x:i+o,y:l},{x:i,y:l}];return n==="left"?c.reverse():c},hfe=(e,t,r,n,a,s)=>{var{y:i,height:o}=s,l=a.x.apply(e,{position:r});if(da(l)||t==="discard"&&!a.x.isInRange(l))return null;var c=[{x:l,y:i+o},{x:l,y:i}];return n==="top"?c.reverse():c},pfe=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},mfe=(e,t,r,n,a,s)=>{var{x:i,y:o,segment:l,ifOverflow:c}=s,d=Qa(i),f=Qa(o);return f?ffe(o,c,r,a,e,t):d?hfe(i,c,r,n,e,t):l!=null&&l.length===2?pfe(l,c,r,e):null};function vfe(e){var t=Et();return w.useEffect(()=>(t(nfe(e)),()=>{t(afe(e))})),null}function gfe(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=Hr(),o=ofe(),l=Te(S=>oi(S,t)),c=Te(S=>li(S,r)),d=Te(S=>zo(S,"xAxis",t,i)),f=Te(S=>zo(S,"yAxis",r,i)),h=ih();if(!o||!h||l==null||c==null||d==null||f==null)return null;var p=Qde({x:d,y:f}),m=mfe(p,h,e.position,l.orientation,c.orientation,e);if(!m)return null;var[{x:v,y:g},{x,y:b}]=m,y=s==="hidden"?"url(#".concat(o,")"):void 0,_=UP(UP({clipPath:y},bn(e)),{},{x1:v,y1:g,x2:x,y2:b}),k=Jde({x1:v,y1:g,x2:x,y2:b});return w.createElement($n,{zIndex:e.zIndex},w.createElement(ar,{className:tt("recharts-reference-line",a)},dfe(n,_),w.createElement(K8,Xv({},k,{lowerWidth:k.width,upperWidth:k.width}),w.createElement(q8,{label:e.label}),e.children)))}var xfe={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:pr.line};function ry(e){var t=sr(e,xfe);return w.createElement(w.Fragment,null,w.createElement(vfe,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),w.createElement(gfe,t))}ry.displayName="ReferenceLine";function CL(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function yfe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tfe(n,r)}function bfe(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function Zv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function wfe(e,t){return CL(e,t+1)}function _fe(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,c=1,d=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:CL(n,c)};var v=l,g,x=()=>(g===void 0&&(g=r(m,v)),g),b=m.coordinate,y=l===0||Zv(e,b,x,d,o);y||(l=0,d=i,c+=1),y&&(d=b+e*(x()/2+a),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function VP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(r),!0).forEach(function(n){kfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kfe(e,t,r){return(t=Sfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sfe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cfe(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(h){var p=s[h],m,v=()=>(m===void 0&&(m=r(p,h)),m);if(h===i-1){var g=e*(p.coordinate+e*v()/2-l);s[h]=p=Cn(Cn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=Cn(Cn({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Zv(e,p.tickCoord,v,o,l);x&&(l=p.tickCoord-e*(v()/2+a),s[h]=Cn(Cn({},p),{},{isShow:!0}))}},d=i-1;d>=0;d--)c(d);return s}function jfe(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var d=n[o-1],f=r(d,o-1),h=e*(d.coordinate+e*f/2-c);if(i[o-1]=d=Cn(Cn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var p=Zv(e,d.tickCoord,()=>f,l,c);p&&(c=d.tickCoord-e*(f/2+a),i[o-1]=Cn(Cn({},d),{},{isShow:!0}))}}for(var m=s?o-1:o,v=function(b){var y=i[b],_,k=()=>(_===void 0&&(_=r(y,b)),_);if(b===0){var S=e*(y.coordinate-e*k()/2-l);i[b]=y=Cn(Cn({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else i[b]=y=Cn(Cn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var E=Zv(e,y.tickCoord,k,l,c);E&&(l=y.tickCoord+e*(k()/2+a),i[b]=Cn(Cn({},y),{},{isShow:!0}))}},g=0;g<m;g++)v(g);return i}function bE(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:c,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(je(l)||Jo.isSsr){var h;return(h=wfe(a,je(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",v=d&&m==="width"?bf(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(y,_)=>{var k=typeof c=="function"?c(y.value,_):y.value;return m==="width"?yfe(bf(k,{fontSize:t,letterSpacing:r}),v,f):bf(k,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?rn(a[1].coordinate-a[0].coordinate):1,b=bfe(s,x,m);return l==="equidistantPreserveStart"?_fe(x,b,g,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=jfe(x,b,g,a,i,l==="preserveStartEnd"):p=Cfe(x,b,g,a,i),p.filter(y=>y.isShow))}var Tfe=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,c=i+l+o+(r?n:0);return Math.round(c)}return 0},Afe=["axisLine","width","height","className","hide","ticks","axisType"];function Nfe(e,t){if(e==null)return{};var r,n,a=Pfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(null,arguments)}function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){Ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ofe(e,t,r){return(t=Dfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dfe(e){var t=Mfe(e,"string");return typeof t=="symbol"?t:t+""}function Mfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ti={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:pr.axis};function Ife(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Ar(Ar(Ar({},l),Zn(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!i||s==="bottom"&&i);c=Ar(Ar({},c),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);c=Ar(Ar({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",tc({},c,{className:tt("recharts-cartesian-axis-line",Zl(o,"className"))}))}function Rfe(e,t,r,n,a,s,i,o,l){var c,d,f,h,p,m,v=o?-1:1,g=e.tickSize||i,x=je(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=d=e.coordinate,h=r+ +!o*a,f=h-v*g,m=f-v*l,p=x;break;case"left":f=h=e.coordinate,d=t+ +!o*n,c=d-v*g,p=c-v*l,m=x;break;case"right":f=h=e.coordinate,d=t+ +o*n,c=d+v*g,p=c+v*l,m=x;break;default:c=d=e.coordinate,h=r+ +o*a,f=h+v*g,m=f+v*l,p=x;break}return{line:{x1:c,y1:f,x2:d,y2:h},tick:{x:p,y:m}}}function Ffe(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Lfe(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function $fe(e){var{option:t,tickProps:r,value:n}=e,a,s=tt(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Ar(Ar({},r),{},{className:s}));else if(typeof t=="function")a=t(Ar(Ar({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=tt(i,t==null?void 0:t.className)),a=w.createElement(Vx,tc({},r,{className:i}),n)}return a}var Bfe=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:d,mirror:f,x:h,y:p,width:m,height:v,tickSize:g,tickMargin:x,fontSize:b,letterSpacing:y,getTicksConfig:_,events:k,axisType:S}=e,E=bE(Ar(Ar({},_),{},{ticks:r}),b,y),C=Ffe(d,f),j=Lfe(d,f),T=Zn(_),N=Xl(n),A={};typeof a=="object"&&(A=a);var P=Ar(Ar({},T),{},{fill:"none"},A),V=E.map(G=>Ar({entry:G},Rfe(G,h,p,m,v,d,g,f,x))),z=V.map(G=>{var{entry:Y,line:I}=G;return w.createElement(ar,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Y.value,"-").concat(Y.coordinate,"-").concat(Y.tickCoord)},a&&w.createElement("line",tc({},P,I,{className:tt("recharts-cartesian-axis-tick-line",Zl(a,"className"))})))}),Z=V.map((G,Y)=>{var{entry:I,tick:te}=G,J=Ar(Ar(Ar(Ar({textAnchor:C,verticalAnchor:j},T),{},{stroke:"none",fill:s},N),te),{},{index:Y,payload:I,visibleTicksCount:E.length,tickFormatter:i,padding:l},c);return w.createElement(ar,tc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},th(k,I,Y)),n&&w.createElement($fe,{option:n,tickProps:J,value:"".concat(typeof i=="function"?i(I.value,Y):I.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},Z.length>0&&w.createElement($n,{zIndex:pr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},Z)),z.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},z))}),zfe=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:o,axisType:l}=e,c=Nfe(e,Afe),[d,f]=w.useState(""),[h,p]=w.useState(""),m=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Tfe({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=x;var b=x[0];if(b){var y=window.getComputedStyle(b),_=y.fontSize,k=y.letterSpacing;(_!==d||k!==h)&&(f(_),p(k))}}},[d,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement($n,{zIndex:e.zIndex},w.createElement(ar,{className:tt("recharts-cartesian-axis",s)},w.createElement(Ife,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Zn(e)}),w.createElement(Bfe,{ref:v,axisType:l,events:c,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(K8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(q8,{label:e.label,labelRef:e.labelRef}),e.children)))}),wE=w.forwardRef((e,t)=>{var r=sr(e,Ti);return w.createElement(zfe,tc({},r,{ref:t}))});wE.displayName="CartesianAxis";var Ufe=["x1","y1","x2","y2","key"],Vfe=["offset"],Wfe=["xAxisId","yAxisId"],Hfe=["xAxisId","yAxisId"];function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function An(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){Kfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kfe(e,t,r){return(t=Gfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gfe(e){var t=qfe(e,"string");return typeof t=="symbol"?t:t+""}function qfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nl(){return Nl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nl.apply(null,arguments)}function Jv(e,t){if(e==null)return{};var r,n,a=Yfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xfe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jL(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:o,y2:l,key:c}=r,d=Jv(r,Ufe),f=(a=Zn(d))!==null&&a!==void 0?a:{},{offset:h}=f,p=Jv(f,Vfe);n=w.createElement("line",Nl({},p,{x1:s,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function Zfe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Jv(e,Wfe),l=a.map((c,d)=>{var f=An(An({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(d),index:d});return w.createElement(jL,{key:"line-".concat(d),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Jfe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Jv(e,Hfe),l=a.map((c,d)=>{var f=An(An({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(d),index:d});return w.createElement(jL,{option:n,lineItemProps:f,key:"line-".concat(d)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Qfe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function e0e(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var d=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var t0e=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return qR(bE(An(An(An({},Ti),r),{},{ticks:YR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},r0e=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return qR(bE(An(An(An({},Ti),r),{},{ticks:YR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},n0e={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:pr.grid};function Ht(e){var t=qk(),r=Yk(),n=oF(),a=An(An({},sr(e,n0e)),{},{x:je(e.x)?e.x:n.left,y:je(e.y)?e.y:n.top,width:je(e.width)?e.width:n.width,height:je(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:c,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,m=Hr(),v=Te(j=>WN(j,"xAxis",s,m)),g=Te(j=>WN(j,"yAxis",i,m));if(!Qs(c)||!Qs(d)||!je(o)||!je(l))return null;var x=a.verticalCoordinatesGenerator||t0e,b=a.horizontalCoordinatesGenerator||r0e,{horizontalPoints:y,verticalPoints:_}=a;if((!y||!y.length)&&typeof b=="function"){var k=h&&h.length,S=b({yAxis:g?An(An({},g),{},{ticks:k?h:g.ticks}):void 0,width:t??c,height:r??d,offset:n},k?!0:f);_v(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!_||!_.length)&&typeof x=="function"){var E=p&&p.length,C=x({xAxis:v?An(An({},v),{},{ticks:E?p:v.ticks}):void 0,width:t??c,height:r??d,offset:n},E?!0:f);_v(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}return w.createElement($n,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(Xfe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Qfe,Nl({},a,{horizontalPoints:y})),w.createElement(e0e,Nl({},a,{verticalPoints:_})),w.createElement(Zfe,Nl({},a,{offset:n,horizontalPoints:y,xAxis:v,yAxis:g})),w.createElement(Jfe,Nl({},a,{offset:n,verticalPoints:_,xAxis:v,yAxis:g}))))}Ht.displayName="CartesianGrid";var TL=(e,t,r,n)=>ri(e,"xAxis",t,n),AL=(e,t,r,n)=>ti(e,"xAxis",t,n),NL=(e,t,r,n)=>ri(e,"yAxis",r,n),PL=(e,t,r,n)=>ti(e,"yAxis",r,n),a0e=ne([Ye,TL,NL,AL,PL],(e,t,r,n,a)=>ii(e,"xAxis")?$o(t,n,!1):$o(r,a,!1)),s0e=(e,t,r,n,a)=>a;function i0e(e){return e.type==="line"}var o0e=ne([vh,s0e],(e,t)=>e.filter(i0e).find(r=>r.id===t)),l0e=ne([Ye,TL,NL,AL,PL,o0e,a0e,fh],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:d}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,d+1),p!=null)return T0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:p})}});function OL(e){var t=Xl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),o=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(o)||o<0)&&(o=n),{r:i,strokeWidth:o}}return{r,strokeWidth:n}}var c0e=["id"],u0e=["type","layout","connectNulls","needClip","shape"],d0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k0.apply(null,arguments)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){f0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function f0e(e,t,r){return(t=h0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h0e(e){var t=p0e(e,"string");return typeof t=="symbol"?t:t+""}function p0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _E(e,t){if(e==null)return{};var r,n,a=m0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function m0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var v0e=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Zo(r,t),payload:e}]},g0e=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Zo(i,t),hide:o,type:c,color:n,unit:l}};return w.createElement(Yx,{tooltipEntrySettings:d})}),DL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function x0e(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var y0e=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return DL(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var d=o.length%2===0?[0,i]:[i];return[...x0e(r,a),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function b0e(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:o}=n,l=_E(n,c0e),c=Zn(l);return w.createElement(mL,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function w0e(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n==null?void 0:n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Bs(Bs({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(oE,{value:t?a:void 0},r)}function GP(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:l,needClip:c,shape:d}=s,f=_E(s,u0e),h=Bs(Bs({},bn(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:l,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(hE,k0({shapeType:"curve",option:d},h,{pathRef:r})),w.createElement(b0e,{points:n,clipPathId:t,props:s}))}function _0e(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function k0e(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:v,onAnimationStart:g}=r,x=a.current,b=cd(i,"recharts-line-"),y=w.useRef(b),[_,k]=w.useState(!1),S=!_,E=w.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),C=w.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]),j=_0e(n.current),T=w.useRef(0);y.current!==b&&(T.current=s.current,y.current=b);var N=T.current;return w.createElement(w0e,{points:i,showLabels:S},r.children,w.createElement(ld,{animationId:b,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:C,key:b},A=>{var P=ft(N,j+N,A),V=Math.min(P,j),z;if(l)if(o){var Z="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));z=y0e(V,j,Z)}else z=DL(j,V);else z=o==null?void 0:String(o);if(A>0&&j>0&&(a.current=i,s.current=Math.max(s.current,V)),x){var G=x.length/i.length,Y=A===1?i:i.map((I,te)=>{var J=Math.floor(te*G);if(x[J]){var D=x[J];return Bs(Bs({},I),{},{x:ft(D.x,I.x,A),y:ft(D.y,I.y,A)})}return h?Bs(Bs({},I),{},{x:ft(p*2,I.x,A),y:ft(m/2,I.y,A)}):Bs(Bs({},I),{},{x:I.x,y:I.y})});return a.current=Y,w.createElement(GP,{props:r,points:Y,clipPathId:t,pathRef:n,strokeDasharray:z})}return w.createElement(GP,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:z})}),w.createElement(Wx,{label:r.label}))}function S0e(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),s=w.useRef(null);return w.createElement(k0e,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var E0e=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:gt(e.payload,t)}};class C0e extends w.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:l,width:c,height:d,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var m=tt("recharts-line",a),v=f,{r:g,strokeWidth:x}=OL(r),b=fE(r),y=g*2+x,_=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return w.createElement($n,{zIndex:p},w.createElement(ar,{className:m},h&&w.createElement("defs",null,w.createElement(yE,{clipPathId:v,xAxisId:s,yAxisId:i}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(v)},w.createElement("rect",{x:l-y/2,y:o-y/2,width:c+y,height:d+y}))),w.createElement(xL,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:E0e,errorBarOffset:0},w.createElement(S0e,{props:this.props,clipPathId:v}))),w.createElement(b2,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var ML={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:pr.line,type:"linear"};function j0e(e){var t=sr(e,ML),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,hide:c,isAnimationActive:d,label:f,legendType:h,xAxisId:p,yAxisId:m,id:v}=t,g=_E(t,d0e),{needClip:x}=ey(p,m),b=Qx(),y=fc(),_=Hr(),k=Te(T=>l0e(T,p,m,_,v));if(y!=="horizontal"&&y!=="vertical"||k==null||b==null)return null;var{height:S,width:E,x:C,y:j}=b;return w.createElement(C0e,k0({},g,{id:v,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:d,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:m,points:k,layout:y,height:S,width:E,left:C,top:j,needClip:x}))}function T0e(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((c,d)=>{var f=gt(c,i);if(t==="horizontal"){var h=wv({axis:r,ticks:a,bandSize:o,entry:c,index:d}),p=Bt(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var m=Bt(f)?null:r.scale(f),v=wv({axis:n,ticks:s,bandSize:o,entry:c,index:d});return m==null||v==null?null:{x:m,y:v,value:f,payload:c}}).filter(Boolean)}function A0e(e){var t=sr(e,ML),r=Hr();return w.createElement(Xx,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(gE,{legendPayload:v0e(t)}),w.createElement(g0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(xE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(j0e,k0({},t,{id:n}))))}var Pr=w.memo(A0e,Mh);Pr.displayName="Line";var IL=(e,t,r,n)=>ri(e,"xAxis",t,n),RL=(e,t,r,n)=>ti(e,"xAxis",t,n),FL=(e,t,r,n)=>ri(e,"yAxis",r,n),LL=(e,t,r,n)=>ti(e,"yAxis",r,n),N0e=ne([Ye,IL,FL,RL,LL],(e,t,r,n,a)=>ii(e,"xAxis")?$o(t,n,!1):$o(r,a,!1)),P0e=(e,t,r,n,a)=>a,$L=ne([vh,P0e],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),O0e=(e,t,r,n,a)=>{var s,i=$L(e,t,r,n,a);if(i!=null){var o=Ye(e),l=ii(o,"xAxis"),c;if(l?c=w0(e,"yAxis",r,n):c=w0(e,"xAxis",t,n),c!=null){var{stackId:d}=i,f=Mx(i);if(!(d==null||f==null)){var h=(s=c[d])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},D0e=ne([Ye,IL,FL,RL,LL,O0e,fh,N0e,$L,nae],(e,t,r,n,a,s,i,o,l,c)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:h}=i;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=d==null?void 0:d.slice(f,h+1),m!=null)return J0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:c,bandSize:o})}}),M0e=["id"],I0e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(null,arguments)}function BL(e,t){if(e==null)return{};var r,n,a=R0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){F0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F0e(e,t,r){return(t=L0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L0e(e){var t=$0e(e,"string");return typeof t=="symbol"?t:t+""}function $0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qv(e,t){return e&&e!=="none"?e:t}var B0e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:Qv(n,a),value:Zo(r,t),payload:e}]},z0e=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,d={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Zo(i,t),hide:o,type:c,color:Qv(n,s),unit:l}};return w.createElement(Yx,{tooltipEntrySettings:d})});function U0e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:i}=n,o=Zn(n);return w.createElement(mL,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:i,baseProps:o,needClip:a,clipPathId:t})}function V0e(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return iu(iu({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(oE,{value:t?a:void 0},r)}function YP(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:i,type:o,stroke:l,connectNulls:c,isRange:d}=s,{id:f}=s,h=BL(s,M0e),p=Zn(h),m=bn(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(ar,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},w.createElement(_u,$l({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:i,stroke:"none",className:"recharts-area-area"})),l!=="none"&&w.createElement(_u,$l({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&d&&w.createElement(_u,$l({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:r}))),w.createElement(U0e,{points:t,props:h,clipPathId:a}))}function W0e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,i=n[n.length-1].y;if(!xt(s)||!xt(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.x||0));return je(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),je(l)?w.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function H0e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,i=n[n.length-1].x;if(!xt(s)||!xt(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.y||0));return je(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),je(l)?w.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function K0e(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?w.createElement(W0e,{alpha:t,points:n,baseLine:a,strokeWidth:s}):w.createElement(H0e,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function G0e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:i,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=w.useMemo(()=>({points:i,baseLine:o}),[i,o]),v=cd(m,"recharts-area-"),g=EQ(),[x,b]=w.useState(!1),y=!x,_=w.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),k=w.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);if(g==null)return null;var S=a.current,E=s.current;return w.createElement(V0e,{showLabels:y,points:i},n.children,w.createElement(ld,{animationId:v,begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:k,key:v},C=>{if(S){var j=S.length/i.length,T=C===1?i:i.map((A,P)=>{var V=Math.floor(P*j);if(S[V]){var z=S[V];return iu(iu({},A),{},{x:ft(z.x,A.x,C),y:ft(z.y,A.y,C)})}return A}),N;return je(o)?N=ft(E,o,C):Bt(o)||da(o)?N=ft(E,0,C):N=o.map((A,P)=>{var V=Math.floor(P*j);if(Array.isArray(E)&&E[V]){var z=E[V];return iu(iu({},A),{},{x:ft(z.x,A.x,C),y:ft(z.y,A.y,C)})}return A}),C>0&&(a.current=T,s.current=N),w.createElement(YP,{points:T,baseLine:N,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=i,s.current=o),w.createElement(ar,null,l&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(K0e,{alpha:C,points:i,baseLine:o,layout:g,strokeWidth:n.strokeWidth}))),w.createElement(ar,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(YP,{points:i,baseLine:o,needClip:t,clipPathId:r,props:n})))}),w.createElement(Wx,{label:n.label}))}function q0e(e){var{needClip:t,clipPathId:r,props:n}=e,a=w.useRef(null),s=w.useRef();return w.createElement(G0e,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Y0e extends w.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:i,needClip:o,xAxisId:l,yAxisId:c,width:d,height:f,id:h,baseLine:p,zIndex:m}=this.props;if(t)return null;var v=tt("recharts-area",a),g=h,{r:x,strokeWidth:b}=OL(r),y=fE(r),_=x*2+b,k=o?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return w.createElement($n,{zIndex:m},w.createElement(ar,{className:v},o&&w.createElement("defs",null,w.createElement(yE,{clipPathId:g,xAxisId:l,yAxisId:c}),!y&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:i-_/2,y:s-_/2,width:d+_,height:f+_}))),w.createElement(q0e,{needClip:o,clipPathId:g,props:this.props})),w.createElement(b2,{points:n,mainColor:Qv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}),this.props.isRange&&Array.isArray(p)&&w.createElement(b2,{points:p,mainColor:Qv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:k}))}}var zL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:pr.area};function X0e(e){var t,r=sr(e,zL),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,fill:c,fillOpacity:d,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:v,yAxisId:g}=r,x=BL(r,I0e),b=fc(),y=T8(),{needClip:_}=ey(v,g),k=Hr(),{points:S,isRange:E,baseLine:C}=(t=Te(V=>D0e(V,v,g,k,e.id)))!==null&&t!==void 0?t:{},j=Qx();if(b!=="horizontal"&&b!=="vertical"||j==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:T,width:N,x:A,y:P}=j;return!S||!S.length?null:w.createElement(Y0e,$l({},x,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,baseLine:C,connectNulls:o,dot:l,fill:c,fillOpacity:d,height:T,hide:f,layout:b,isAnimationActive:h==="auto"?!Jo.isSsr:h,isRange:E,legendType:p,needClip:_,points:S,stroke:m,width:N,left:A,top:P,xAxisId:v,yAxisId:g}))}var Z0e=(e,t,r,n,a)=>{var s=r??t;if(je(s))return s;var i=e==="horizontal"?a:n,o=i.scale.domain();if(i.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function J0e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:i,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:d,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=a&&a.length,v=Z0e(s,i,r,o,l),g=s==="horizontal",x=!1,b=c.map((_,k)=>{var S;m?S=a[d+k]:(S=gt(_,n),Array.isArray(S)?x=!0:S=[v,S]);var E=S[1]==null||m&&!t&&gt(_,n)==null;return g?{x:wv({axis:o,ticks:f,bandSize:p,entry:_,index:k}),y:E?null:l.scale(S[1]),value:S,payload:_}:{x:E?null:o.scale(S[1]),y:wv({axis:l,ticks:h,bandSize:p,entry:_,index:k}),value:S,payload:_}}),y;return m||x?y=b.map(_=>{var k=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:k!=null&&_.y!=null?l.scale(k):null,payload:_.payload}:{x:k!=null?o.scale(k):null,y:_.y,payload:_.payload}}):y=g?l.scale(v):o.scale(v),{points:b,baseLine:y,isRange:x}}function Q0e(e){var t=sr(e,zL),r=Hr();return w.createElement(Xx,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(gE,{legendPayload:B0e(t)}),w.createElement(z0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(xE,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:XR(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(X0e,$l({},t,{id:n}))))}var ny=w.memo(Q0e,Mh);ny.displayName="Area";var ehe=["domain","range"],the=["domain","range"];function XP(e,t){if(e==null)return{};var r,n,a=rhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function rhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZP(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function UL(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=XP(e,ehe),{domain:s,range:i}=t,o=XP(t,the);return!ZP(r,s)||!ZP(n,i)?!1:Mh(a,o)}var nhe=["dangerouslySetInnerHTML","ticks"],ahe=["id"];function _2(){return _2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_2.apply(null,arguments)}function JP(e,t){if(e==null)return{};var r,n,a=she(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function she(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ihe(e){var t=Et(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Xce(e)):r.current!==e&&t(Zce({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(Jce(r.current)),r.current=null)},[t]),null}var ohe=e=>{var{xAxisId:t,className:r}=e,n=Te(Kk),a=Hr(),s="xAxis",i=Te(g=>zo(g,s,t,a)),o=Te(g=>s8(g,s,t,a)),l=Te(g=>t8(g,t)),c=Te(g=>ese(g,t)),d=Te(g=>R6(g,t));if(l==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=JP(e,nhe),{id:m}=d,v=JP(d,ahe);return w.createElement(wE,_2({},p,v,{scale:i,x:c.x,y:c.y,width:l.width,height:l.height,className:tt("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},lhe={allowDataOverflow:Xr.allowDataOverflow,allowDecimals:Xr.allowDecimals,allowDuplicatedCategory:Xr.allowDuplicatedCategory,angle:Xr.angle,axisLine:Ti.axisLine,height:Xr.height,hide:!1,includeHidden:Xr.includeHidden,interval:Xr.interval,minTickGap:Xr.minTickGap,mirror:Xr.mirror,orientation:Xr.orientation,padding:Xr.padding,reversed:Xr.reversed,scale:Xr.scale,tick:Xr.tick,tickCount:Xr.tickCount,tickLine:Ti.tickLine,tickSize:Ti.tickSize,type:Xr.type,xAxisId:0},che=e=>{var t=sr(e,lhe);return w.createElement(w.Fragment,null,w.createElement(ihe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(ohe,t))},Nt=w.memo(che,UL);Nt.displayName="XAxis";var uhe=["dangerouslySetInnerHTML","ticks"],dhe=["id"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k2.apply(null,arguments)}function QP(e,t){if(e==null)return{};var r,n,a=fhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function hhe(e){var t=Et(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Qce(e)):r.current!==e&&t(eue({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(tue(r.current)),r.current=null)},[t]),null}var phe=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=w.useRef(null),i=w.useRef(null),o=Te(Kk),l=Hr(),c=Et(),d="yAxis",f=Te(k=>zo(k,d,t,l)),h=Te(k=>r8(k,t)),p=Te(k=>rse(k,t)),m=Te(k=>s8(k,d,t,l)),v=Te(k=>F6(k,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||iE(a)||w.isValidElement(a)||v==null)){var k=s.current;if(k){var S=k.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&c(rue({id:t,width:S}))}}},[m,h,c,a,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=QP(e,uhe),{id:y}=v,_=QP(v,dhe);return w.createElement(wE,k2({},b,_,{ref:s,labelRef:i,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:tt("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:m,axisType:d}))},mhe={allowDataOverflow:Zr.allowDataOverflow,allowDecimals:Zr.allowDecimals,allowDuplicatedCategory:Zr.allowDuplicatedCategory,angle:Zr.angle,axisLine:Ti.axisLine,hide:!1,includeHidden:Zr.includeHidden,interval:Zr.interval,minTickGap:Zr.minTickGap,mirror:Zr.mirror,orientation:Zr.orientation,padding:Zr.padding,reversed:Zr.reversed,scale:Zr.scale,tick:Zr.tick,tickCount:Zr.tickCount,tickLine:Ti.tickLine,tickSize:Ti.tickSize,type:Zr.type,width:Zr.width,yAxisId:0},vhe=e=>{var t=sr(e,mhe);return w.createElement(w.Fragment,null,w.createElement(hhe,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(phe,t))},lt=w.memo(vhe,UL);lt.displayName="YAxis";var ghe=(e,t)=>t,kE=ne([ghe,Ye,M6,Gr,w8,to,vie,Wr],kie),SE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},VL=es("mouseClick"),WL=ah();WL.startListening({actionCreator:VL,effect:(e,t)=>{var r=e.payload,n=kE(t.getState(),SE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(vse({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var S2=es("mouseMove"),HL=ah(),Ip=null;HL.startListening({actionCreator:S2,effect:(e,t)=>{var r=e.payload;Ip!==null&&cancelAnimationFrame(Ip);var n=SE(r);Ip=requestAnimationFrame(()=>{var a=t.getState(),s=XS(a,a.tooltip.settings.shared);if(s==="axis"){var i=kE(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(h8({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(f8())}Ip=null})}});var eO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KL=ha({name:"rootProps",initialState:eO,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:eO.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),xhe=KL.reducer,{updateOptions:yhe}=KL.actions,GL=ha({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bhe}=GL.actions,whe=GL.reducer,qL=es("keyDown"),YL=es("focus"),EE=ah();EE.startListening({actionCreator:qL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=ZS(a,gd(r),xh(r),_h(r)),o=i==null?-1:Number(i);if(!(!Number.isFinite(o)||o<0)){var l=to(r);if(s==="Enter"){var c=Vv(r,"axis","hover",String(a.index));t.dispatch(p2({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var d=ise(r),f=d==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var m=Vv(r,"axis","hover",String(p));t.dispatch(p2({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}}});EE.startListening({actionCreator:YL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=Vv(r,"axis","hover",String(s));t.dispatch(p2({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Ra=es("externalEvent"),XL=ah(),O1=new Map;XL.startListening({actionCreator:Ra,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=O1.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:tie(o),activeDataKey:E8(o),activeIndex:Uo(o),activeLabel:S8(o),activeTooltipIndex:Uo(o),isTooltipActive:rie(o)};r(l,n)}finally{O1.delete(a)}});O1.set(a,i)}}});var _he=ne([vd],e=>e.tooltipItemPayloads),khe=ne([_he,bh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),ZL=es("touchMove"),JL=ah();JL.startListening({actionCreator:ZL,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=XS(n,n.tooltip.settings.shared);if(a==="axis"){var s=kE(n,SE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(h8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(JR),d=(i=l.getAttribute(QR))!==null&&i!==void 0?i:void 0,f=khe(t.getState(),c,d);t.dispatch(d8({activeDataKey:d,activeIndex:c,activeCoordinate:f}))}}}});var She=yR({brush:qde,cartesianAxis:nue,chartData:Qie,errorBars:_ue,graphicalItems:uce,layout:RJ,legend:BQ,options:qie,polarAxis:yle,polarOptions:whe,referenceElements:sfe,rootProps:xhe,tooltip:gse,zIndex:Fie}),Ehe=function(t){return oJ({reducer:She,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([WL.middleware,HL.middleware,EE.middleware,XL.middleware,JL.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(MR({type:"raf"}))},devTools:Jo.devToolsEnabled})};function QL(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Hr(),s=w.useRef(null);if(a)return r;s.current==null&&(s.current=Ehe(t));var i=Ik;return w.createElement(Xue,{context:i,store:s.current},r)}function Che(e){var{layout:t,margin:r}=e,n=Et(),a=Hr();return w.useEffect(()=>{a||(n(DJ(t)),n(OJ(r)))},[n,a,t,r]),null}var e$=w.memo(Che,Mh);function t$(e){var t=Et();return w.useEffect(()=>{t(yhe(e))},[t,e]),null}function tO(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=hL("".concat(n).concat(t)),s=Et();return w.useLayoutEffect(()=>(s(Iie({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Rie({zIndex:t,isPanorama:r}))}),[s,t,a,r]),w.createElement("g",{id:a})}function rO(e){var{children:t,isPanorama:r}=e,n=Te(Eie);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return w.createElement(w.Fragment,null,a.map(i=>w.createElement(tO,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>w.createElement(tO,{key:i,zIndex:i,isPanorama:r})))}var jhe=["children"];function The(e,t){if(e==null)return{};var r,n,a=Ahe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ahe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(null,arguments)}var Nhe={width:"100%",height:"100%",display:"block"},Phe=w.forwardRef((e,t)=>{var r=qk(),n=Yk(),a=xF();if(!Qs(r)||!Qs(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,c,d;return i!=null&&(typeof i.tabIndex=="number"?c=i.tabIndex:c=a?0:void 0,typeof i.role=="string"?d=i.role:d=a?"application":void 0),w.createElement(yk,eg({},i,{title:o,desc:l,role:d,tabIndex:c,width:r,height:n,style:Nhe,ref:t}),s)}),Ohe=e=>{var{children:t}=e,r=Te(wx);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return w.createElement(yk,{width:n,height:a,x:i,y:s},t)},nO=w.forwardRef((e,t)=>{var{children:r}=e,n=The(e,jhe),a=Hr();return a?w.createElement(Ohe,null,w.createElement(rO,{isPanorama:!0},r)):w.createElement(Phe,eg({ref:t},n),w.createElement(rO,{isPanorama:!1},r))});function Dhe(){var e=Et(),[t,r]=w.useState(null),n=Te(QJ);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;xt(s)&&s!==n&&e(IJ(s))}},[t,e,n]),r}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mhe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(n){Ihe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ihe(e,t,r){return(t=Rhe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rhe(e){var t=Fhe(e,"string");return typeof t=="symbol"?t:t+""}function Fhe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rc.apply(null,arguments)}var Lhe=()=>(loe(),null);function tg(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var $he=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[s,i]=w.useState({containerWidth:tg((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:tg((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,d)=>{i(f=>{var h=Math.round(c),p=Math.round(d);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=c.getBoundingClientRect();o(d,f);var h=m=>{var{width:v,height:g}=m[0].contentRect;o(v,g)},p=new ResizeObserver(h);p.observe(c),a.current=p}},[t,o]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(_x,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",rc({ref:l},e)))}),Bhe=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=w.useState({containerWidth:tg(r),containerHeight:tg(n)}),i=w.useCallback((l,c)=>{s(d=>{var f=Math.round(l),h=Math.round(c);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=w.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:d}=l.getBoundingClientRect();i(c,d)}},[t,i]);return w.createElement(w.Fragment,null,w.createElement(_x,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",rc({ref:o},e)))}),zhe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(_x,{width:r,height:n}),w.createElement("div",rc({ref:t},e)))}),Uhe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return Li(r)||Li(n)?w.createElement(Bhe,rc({},e,{ref:t})):w.createElement(zhe,rc({},e,{ref:t}))});function Vhe(e){return e===!0?$he:Uhe}var Whe=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:g,width:x,responsive:b,dispatchTouchEvents:y=!0}=e,_=w.useRef(null),k=Et(),[S,E]=w.useState(null),[C,j]=w.useState(null),T=Dhe(),N=Gk(),A=(N==null?void 0:N.width)>0?N.width:x,P=(N==null?void 0:N.height)>0?N.height:a,V=w.useCallback(q=>{T(q),typeof t=="function"&&t(q),E(q),j(q),q!=null&&(_.current=q)},[T,t,E,j]),z=w.useCallback(q=>{k(VL(q)),k(Ra({handler:s,reactEvent:q}))},[k,s]),Z=w.useCallback(q=>{k(S2(q)),k(Ra({handler:c,reactEvent:q}))},[k,c]),G=w.useCallback(q=>{k(f8()),k(Ra({handler:d,reactEvent:q}))},[k,d]),Y=w.useCallback(q=>{k(S2(q)),k(Ra({handler:f,reactEvent:q}))},[k,f]),I=w.useCallback(()=>{k(YL())},[k]),te=w.useCallback(q=>{k(qL(q.key))},[k]),J=w.useCallback(q=>{k(Ra({handler:i,reactEvent:q}))},[k,i]),D=w.useCallback(q=>{k(Ra({handler:o,reactEvent:q}))},[k,o]),R=w.useCallback(q=>{k(Ra({handler:l,reactEvent:q}))},[k,l]),B=w.useCallback(q=>{k(Ra({handler:h,reactEvent:q}))},[k,h]),H=w.useCallback(q=>{k(Ra({handler:v,reactEvent:q}))},[k,v]),ee=w.useCallback(q=>{y&&k(ZL(q)),k(Ra({handler:m,reactEvent:q}))},[k,y,m]),ue=w.useCallback(q=>{k(Ra({handler:p,reactEvent:q}))},[k,p]),de=Vhe(b);return w.createElement(D8.Provider,{value:S},w.createElement(y5.Provider,{value:C},w.createElement(de,{width:A??(g==null?void 0:g.width),height:P??(g==null?void 0:g.height),className:tt("recharts-wrapper",n),style:Mhe({position:"relative",cursor:"default",width:A,height:P},g),onClick:z,onContextMenu:J,onDoubleClick:D,onFocus:I,onKeyDown:te,onMouseDown:R,onMouseEnter:Z,onMouseLeave:G,onMouseMove:Y,onMouseUp:B,onTouchEnd:ue,onTouchMove:ee,onTouchStart:H,ref:V},w.createElement(Lhe,null),r)))}),Hhe=["width","height","responsive","children","className","style","compact","title","desc"];function Khe(e,t){if(e==null)return{};var r,n,a=Ghe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ghe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var r$=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:o,compact:l,title:c,desc:d}=e,f=Khe(e,Hhe),h=Zn(f);return l?w.createElement(w.Fragment,null,w.createElement(_x,{width:r,height:n}),w.createElement(nO,{otherAttributes:h,title:c,desc:d},s)):w.createElement(Whe,{className:i,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(nO,{otherAttributes:h,title:c,desc:d,ref:t},w.createElement(ife,null,s)))});function E2(){return E2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E2.apply(null,arguments)}var qhe={top:5,right:5,bottom:5,left:5},Yhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qhe,reverseStackOrder:!1,syncMethod:"index",responsive:!1},ay=w.forwardRef(function(t,r){var n,a=sr(t.categoricalChartProps,Yhe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,d={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return w.createElement(QL,{preloadedState:{options:d},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},w.createElement(wL,{chartData:c.data}),w.createElement(e$,{layout:a.layout,margin:a.margin}),w.createElement(t$,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(r$,E2({},a,{ref:r})))}),Xhe=["axis"],Ai=w.forwardRef((e,t)=>w.createElement(ay,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xhe,tooltipPayloadSearcher:kh,categoricalChartProps:e,ref:t})),Zhe=["axis","item"],As=w.forwardRef((e,t)=>w.createElement(ay,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Zhe,tooltipPayloadSearcher:kh,categoricalChartProps:e,ref:t}));function Jhe(e){var t=Et();return w.useEffect(()=>{t(bhe(e))},[t,e]),null}var Qhe=["layout"];function C2(){return C2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C2.apply(null,arguments)}function epe(e,t){if(e==null)return{};var r,n,a=tpe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tpe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rpe={top:5,right:5,bottom:5,left:5},npe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:rpe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},ape=w.forwardRef(function(t,r){var n,a=sr(t.categoricalChartProps,npe),{layout:s}=a,i=epe(a,Qhe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:d,eventEmitter:void 0};return w.createElement(QL,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},w.createElement(wL,{chartData:a.data}),w.createElement(e$,{layout:s,margin:a.margin}),w.createElement(t$,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(Jhe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(r$,C2({},i,{ref:r})))}),spe=["item"],ipe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},CE=w.forwardRef((e,t)=>{var r=sr(e,ipe);return w.createElement(ape,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:spe,tooltipPayloadSearcher:kh,categoricalChartProps:r,ref:t})}),ope=["axis"],lpe=w.forwardRef((e,t)=>w.createElement(ay,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ope,tooltipPayloadSearcher:kh,categoricalChartProps:e,ref:t})),cpe=["axis"],sy=w.forwardRef((e,t)=>w.createElement(ay,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cpe,tooltipPayloadSearcher:kh,categoricalChartProps:e,ref:t}));const Ic=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#6366F1","#14B8A6"],upe=({data:e})=>{const[t,r]=w.useState("cartoes"),[n,a]=w.useState("canal"),[s,i]=w.useState("pie"),[o,l]=w.useState("desc"),c=w.useMemo(()=>{const h={};Object.values(e).flat().forEach(m=>{let v="";switch(n){case"canal":v=m.canal;break;case"bu":v=m.bu;break;case"parceiro":v=m.parceiro;break;case"oferta":v=m.oferta||"Padrao";break;case"segmento":v=m.segmento;break;default:v="Outros"}v||(v="Outros"),h[v]||(h[v]={name:v,value:0,cost:0,cards:0});const g=m.kpis;switch(h[v].cost+=g.custoTotal||0,h[v].cards+=g.cartoes||0,t){case"cartoes":h[v].value+=g.cartoes||0;break;case"custo":h[v].value+=g.custoTotal||0;break;case"envios":h[v].value+=g.baseEnviada||0;break;case"aprovacoes":h[v].value+=g.aprovados||0;break}});let p=Object.values(h);switch(t==="cac"&&(p=p.map(m=>({...m,value:m.cards>0?parseFloat((m.cost/m.cards).toFixed(2)):0}))),o){case"desc":p.sort((m,v)=>v.value-m.value);break;case"asc":p.sort((m,v)=>m.value-v.value);break;case"alpha":p.sort((m,v)=>m.name.localeCompare(v.name));break}return p},[e,t,n,o]),d=h=>t==="custo"?`R$ ${(h/1e3).toFixed(1)}k`:t==="cac"?`R$ ${h.toFixed(2)}`:new Intl.NumberFormat("pt-BR").format(h),f=w.useMemo(()=>{if(t==="cac"){const h=c.reduce((m,v)=>m+v.cost,0),p=c.reduce((m,v)=>m+v.cards,0);return p>0?h/p:0}return c.reduce((h,p)=>h+p.value,0)},[c,t]);return u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8",children:[u.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-3",children:[u.jsx(Z0,{size:24,className:"text-blue-400"}),"Anlise de Distribuio"]}),u.jsxs("div",{className:"flex gap-2 bg-slate-900 rounded-lg p-1.5 border border-slate-700",children:[u.jsxs("button",{onClick:()=>i("pie"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="pie"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[u.jsx(KI,{size:18}),"Pizza"]}),u.jsxs("button",{onClick:()=>i("bar"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="bar"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[u.jsx(Hg,{size:18}),"Barras"]})]})]}),u.jsxs("div",{className:"flex gap-3 items-center",children:[u.jsxs("select",{value:t,onChange:h=>r(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[180px]",children:[u.jsx("option",{value:"cartoes",children:"Cartes Gerados"}),u.jsx("option",{value:"custo",children:"Custo Total"}),u.jsx("option",{value:"envios",children:"Base Enviada"}),u.jsx("option",{value:"aprovacoes",children:"Aprovaes"}),u.jsx("option",{value:"cac",children:"CAC Mdio"})]}),u.jsx("span",{className:"text-slate-400 text-base font-medium",children:"por"}),u.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[150px]",children:[u.jsx("option",{value:"canal",children:"Canal"}),u.jsx("option",{value:"bu",children:"BU"}),u.jsx("option",{value:"parceiro",children:"Parceiro"}),u.jsx("option",{value:"oferta",children:"Oferta"}),u.jsx("option",{value:"segmento",children:"Segmento"})]}),u.jsx("span",{className:"text-slate-600 text-base",children:""}),u.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[170px]",children:[u.jsx("option",{value:"desc",children:"Maior  Menor"}),u.jsx("option",{value:"asc",children:"Menor  Maior"}),u.jsx("option",{value:"alpha",children:"Alfabtica"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-10 items-start",children:[u.jsx("div",{className:"col-span-2 h-[500px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:s==="pie"?u.jsx(CE,{children:u.jsx(Jx,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,paddingAngle:2,stroke:"#0f172a",strokeWidth:2,labelLine:!1,label:({percent:h=0,name:p})=>`${p}: ${(h*100).toFixed(1)}%`,children:c.map((h,p)=>u.jsx(rs,{fill:Ic[p%Ic.length]},`cell-${p}`))})}):u.jsxs(As,{data:c,layout:"vertical",margin:{top:20,right:20,bottom:20,left:20},children:[u.jsx(Nt,{type:"number",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1}),u.jsx(lt,{type:"category",dataKey:"name",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1,width:90}),u.jsx(kt,{formatter:h=>d(h),contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9",fontSize:"14px",padding:"12px",borderRadius:"8px"},itemStyle:{color:"#f1f5f9"}}),u.jsx(br,{dataKey:"value",radius:[0,8,8,0],barSize:40,children:c.map((h,p)=>u.jsx(rs,{fill:Ic[p%Ic.length]},`cell-${p}`))})]})})}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700 text-center shadow-lg",children:[u.jsx("p",{className:"text-base text-slate-400 mb-3 font-medium",children:t==="cac"?"CAC Mdio Global":"Total Geral"}),u.jsx("p",{className:"text-5xl font-bold text-white mb-2",children:d(f)})]}),u.jsx("div",{className:"space-y-3 max-h-[380px] overflow-y-auto pr-3 custom-scrollbar",children:c.map((h,p)=>u.jsxs("div",{className:"flex items-center justify-between text-base p-3 hover:bg-slate-700/40 rounded-lg transition bg-slate-900/30 border border-slate-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-4 h-4 rounded-full shadow-md",style:{backgroundColor:Ic[p%Ic.length]}}),u.jsx("span",{className:"text-slate-200 font-medium",children:h.name})]}),u.jsxs("div",{className:"flex flex-col items-end",children:[u.jsx("span",{className:"font-bold text-slate-100 text-lg",children:d(h.value)}),t!=="cac"&&f>0&&u.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:[(h.value/f*100).toFixed(1),"%"]})]})]},p))})]})]})]})},dpe=({goal:e,currentCartoes:t,currentAprovacoes:r,currentCAC:n})=>{var o,l;const a=e.cartoes_meta?Math.min(t/e.cartoes_meta*100,100):0,s=e.aprovacoes_meta?Math.min(r/e.aprovacoes_meta*100,100):0,i=!e.cac_max||n<=e.cac_max;return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-blue-500/50 transition-all",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:u.jsx(pH,{size:48})}),u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Cartes Gerados"}),u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${a>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[a.toFixed(1),"%"]})]}),u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.toLocaleString("pt-BR")}),u.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((o=e.cartoes_meta)==null?void 0:o.toLocaleString("pt-BR"))||"-"]}),u.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})]}),u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-emerald-500/50 transition-all",children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:u.jsx(tn,{size:48})}),u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Aprovaes"}),u.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${s>=100,"bg-emerald-500/20 text-emerald-400"}`,children:[s.toFixed(1),"%"]})]}),u.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:r.toLocaleString("pt-BR")}),u.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((l=e.aprovacoes_meta)==null?void 0:l.toLocaleString("pt-BR"))||"-"]}),u.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${s}%`}})})]}),u.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-4 relative overflow-hidden group transition-all ${i?"border-slate-700 hover:border-emerald-500/50":"border-red-900/50 hover:border-red-500/50"}`,children:[u.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:u.jsx(nd,{size:48})}),u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"CAC Mdio"}),u.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:i?"Dentro da Meta":"Acima da Meta"})]}),u.jsxs("div",{className:`text-2xl font-bold mb-1 ${i?"text-emerald-400":"text-red-400"}`,children:["R$ ",n.toFixed(2)]}),u.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta Mx: ",e.cac_max?`R$ ${e.cac_max.toFixed(2)}`:"-"]}),u.jsxs("div",{className:"relative h-1.5 bg-slate-700 rounded-full overflow-hidden",children:[e.cac_max&&u.jsx("div",{className:"absolute h-full w-0.5 bg-white z-10",style:{left:`${Math.min(e.cac_max/(e.cac_max*1.5)*100,100)}%`}}),u.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${i?"bg-emerald-500":"bg-red-500"}`,style:{width:`${e.cac_max?Math.min(n/(e.cac_max*1.5)*100,100):0}%`}})]})]})]})})},fpe=({isOpen:e,onClose:t,onSave:r,initialGoal:n,currentMonthLabel:a})=>{const[s,i]=w.useState("B2C"),[o,l]=w.useState({B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}});w.useEffect(()=>{if(e){const f={B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}};n.bus&&Object.entries(n.bus).forEach(([h,p])=>{var m,v,g;f[h]&&(f[h]={cartoes:((m=p.cartoes)==null?void 0:m.toString())||"",aprovacoes:((v=p.aprovacoes)==null?void 0:v.toString())||"",cac:((g=p.cac)==null?void 0:g.toString())||""})}),l(f)}},[e,n]);const c=w.useMemo(()=>{let f=0,h=0,p=0,m=0;return Object.values(o).forEach(v=>{f+=Number(v.cartoes)||0,h+=Number(v.aprovacoes)||0,Number(v.cac)>0&&(p+=Number(v.cac),m++)}),{cartoes:f,aprovacoes:h,cacMedio:m>0?p/m:0}},[o]);if(!e)return null;const d=f=>{f.preventDefault();const h={};Object.entries(o).forEach(([p,m])=>{h[p]={cartoes:Number(m.cartoes)||0,aprovacoes:Number(m.aprovacoes)||0,cac:Number(m.cac)||0}}),r({mes:n.mes,cartoes_meta:c.cartoes,aprovacoes_meta:c.aprovacoes,cac_max:c.cacMedio,bus:h}),t()};return u.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-2xl w-full max-w-2xl border border-white/10 flex flex-col md:flex-row overflow-hidden",children:[u.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col",children:[u.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2 mb-6",children:[u.jsx(Xi,{className:"text-blue-400",size:20}),"Metas"]}),u.jsx("div",{className:"space-y-2 flex-1",children:["B2C","B2B2C","Plurix"].map(f=>u.jsxs("button",{type:"button",onClick:()=>i(f),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition flex items-center justify-between group ${s===f?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[f,s===f&&u.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"})]},f))}),u.jsxs("div",{className:"mt-6 bg-slate-800/50 rounded-lg p-4 border border-white/10",children:[u.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[u.jsx(Cl,{size:16}),u.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Consolidado"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Cartes"}),u.jsx("span",{className:"text-slate-200 font-mono",children:c.cartoes.toLocaleString("pt-BR")})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"Aprovaes"}),u.jsx("span",{className:"text-slate-200 font-mono",children:c.aprovacoes.toLocaleString("pt-BR")})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-slate-500",children:"CAC Mdio"}),u.jsxs("span",{className:"text-emerald-400 font-mono",children:["R$ ",c.cacMedio.toFixed(2)]})]})]})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-slate-800/50",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-slate-100 font-bold",children:["Configurao: ",s]}),u.jsxs("p",{className:"text-xs text-slate-400",children:["Defina as metas para o ms de ",a]})]}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200 transition",children:u.jsx(fa,{size:20})})]}),u.jsx("form",{onSubmit:d,className:"p-6 space-y-6 flex-1",children:u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Cartes Gerados"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",value:o[s].cartoes,onChange:f=>l({...o,[s]:{...o[s],cartoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),u.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Aprovaes"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"number",value:o[s].aprovacoes,onChange:f=>l({...o,[s]:{...o[s],aprovacoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),u.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"CAC Mximo Aceitvel"}),u.jsxs("div",{className:"relative",children:[u.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"R$"}),u.jsx("input",{type:"number",step:"0.01",value:o[s].cac,onChange:f=>l({...o,[s]:{...o[s],cac:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 pl-10 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0.00"})]})]})]})}),u.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900/30 flex justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded-lg transition",children:"Cancelar"}),u.jsxs("button",{onClick:d,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center gap-2 transition shadow-lg shadow-blue-900/20 font-medium",children:[u.jsx(sd,{size:18}),"Salvar Todas as Metas"]})]})]})]})})};function Hi(e){"@babel/helpers - typeof";return Hi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(e)}function kr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Ve(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ke(e){Ve(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Hi(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function rg(e,t){Ve(2,arguments);var r=Ke(e),n=kr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function jE(e,t){Ve(2,arguments);var r=Ke(e),n=kr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function hpe(e,t){Ve(2,arguments);var r=Ke(e).getTime(),n=kr(t);return new Date(r+n)}var ppe={};function rl(){return ppe}function Ga(e,t){var r,n,a,s,i,o,l,c;Ve(1,arguments);var d=rl(),f=kr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ke(e),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function ng(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Ki(e){Ve(1,arguments);var t=Ke(e);return t.setHours(0,0,0,0),t}var mpe=864e5;function vpe(e,t){Ve(2,arguments);var r=Ki(e),n=Ki(t),a=r.getTime()-ng(r),s=n.getTime()-ng(n);return Math.round((a-s)/mpe)}var TE=6e4,AE=36e5,gpe=1e3;function S0(e,t){Ve(2,arguments);var r=Ki(e),n=Ki(t);return r.getTime()===n.getTime()}function xpe(e){return Ve(1,arguments),e instanceof Date||Hi(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function n$(e){if(Ve(1,arguments),!xpe(e)&&typeof e!="number")return!1;var t=Ke(e);return!isNaN(Number(t))}function sO(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Gu(e,t){Ve(2,arguments);var r=Ke(e),n=Ke(t),a=sO(r,n),s=Math.abs(vpe(r,n));r.setDate(r.getDate()-a*s);var i=+(sO(r,n)===-a),o=a*(s-i);return o===0?0:o}var ype={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},bpe="trunc";function wpe(e){return ype[bpe]}function qu(e){Ve(1,arguments);var t=Ke(e);return t.setHours(23,59,59,999),t}function Mo(e){Ve(1,arguments);var t=Ke(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function iO(e,t,r){Ve(2,arguments);var n=Gu(e,t)/7;return wpe()(n)}function NE(e,t){var r;Ve(1,arguments);var n=e||{},a=Ke(n.start),s=Ke(n.end),i=s.getTime();if(!(a.getTime()<=i))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)o.push(Ke(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function zr(e){Ve(1,arguments);var t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function _pe(e,t){var r,n,a,s,i,o;Ve(1,arguments);var l=rl(),c=kr((r=(n=(a=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(i=l.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Ke(e),f=d.getDay(),h=(f<c?-7:0)+6-(f-c);return d.setDate(d.getDate()+h),d.setHours(23,59,59,999),d}function a$(e,t){Ve(2,arguments);var r=kr(t);return hpe(e,-r)}var kpe=864e5;function Spe(e){Ve(1,arguments);var t=Ke(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/kpe)+1}function Yu(e){Ve(1,arguments);var t=1,r=Ke(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function s$(e){Ve(1,arguments);var t=Ke(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Yu(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var i=Yu(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Epe(e){Ve(1,arguments);var t=s$(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Yu(r);return n}var Cpe=6048e5;function i$(e){Ve(1,arguments);var t=Ke(e),r=Yu(t).getTime()-Epe(t).getTime();return Math.round(r/Cpe)+1}function nc(e,t){var r,n,a,s,i,o,l,c;Ve(1,arguments);var d=rl(),f=kr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Ke(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function PE(e,t){var r,n,a,s,i,o,l,c;Ve(1,arguments);var d=Ke(e),f=d.getUTCFullYear(),h=rl(),p=kr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var v=nc(m,t),g=new Date(0);g.setUTCFullYear(f,0,p),g.setUTCHours(0,0,0,0);var x=nc(g,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=x.getTime()?f:f-1}function jpe(e,t){var r,n,a,s,i,o,l,c;Ve(1,arguments);var d=rl(),f=kr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=PE(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=nc(p,t);return m}var Tpe=6048e5;function o$(e,t){Ve(1,arguments);var r=Ke(e),n=nc(r,t).getTime()-jpe(r,t).getTime();return Math.round(n/Tpe)+1}function pt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var ao={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return pt(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):pt(n+1,2)},d:function(t,r){return pt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return pt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return pt(t.getUTCHours(),r.length)},m:function(t,r){return pt(t.getUTCMinutes(),r.length)},s:function(t,r){return pt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return pt(s,r.length)}},Rc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ape={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return ao.y(t,r)},Y:function(t,r,n,a){var s=PE(t,a),i=s>0?s:1-s;if(r==="YY"){var o=i%100;return pt(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):pt(i,r.length)},R:function(t,r){var n=s$(t);return pt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return pt(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return pt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return pt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return ao.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return pt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=o$(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):pt(s,r.length)},I:function(t,r,n){var a=i$(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):pt(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ao.d(t,r)},D:function(t,r,n){var a=Spe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):pt(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return pt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return pt(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return pt(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=Rc.noon:a===0?s=Rc.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=Rc.evening:a>=12?s=Rc.afternoon:a>=4?s=Rc.morning:s=Rc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ao.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ao.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):pt(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):pt(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ao.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ao.s(t,r)},S:function(t,r){return ao.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return lO(i);case"XXXX":case"XX":return xl(i);case"XXXXX":case"XXX":default:return xl(i,":")}},x:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"x":return lO(i);case"xxxx":case"xx":return xl(i);case"xxxxx":case"xxx":default:return xl(i,":")}},O:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+oO(i,":");case"OOOO":default:return"GMT"+xl(i,":")}},z:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+oO(i,":");case"zzzz":default:return"GMT"+xl(i,":")}},t:function(t,r,n,a){var s=a._originalDate||t,i=Math.floor(s.getTime()/1e3);return pt(i,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,i=s.getTime();return pt(i,r.length)}};function oO(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var i=t;return r+String(a)+i+pt(s,2)}function lO(e,t){if(e%60===0){var r=e>0?"-":"+";return r+pt(Math.abs(e)/60,2)}return xl(e,t)}function xl(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=pt(Math.floor(a/60),2),i=pt(a%60,2);return n+s+r+i}var cO=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},l$=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Npe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return cO(t,r);var i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",cO(a,r)).replace("{{time}}",l$(s,r))},j2={p:l$,P:Npe},Ppe=["D","DD"],Ope=["YY","YYYY"];function c$(e){return Ppe.indexOf(e)!==-1}function u$(e){return Ope.indexOf(e)!==-1}function ag(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Dpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Mpe=function(t,r,n){var a,s=Dpe[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Su(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Ipe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Rpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Fpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Lpe={date:Su({formats:Ipe,defaultWidth:"full"}),time:Su({formats:Rpe,defaultWidth:"full"}),dateTime:Su({formats:Fpe,defaultWidth:"full"})},$pe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bpe=function(t,r,n,a){return $pe[t]};function Us(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):s;a=e.formattingValues[i]||e.formattingValues[s]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var zpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Upe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Vpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Wpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Hpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Kpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Gpe=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},qpe={ordinalNumber:Gpe,era:Us({values:zpe,defaultWidth:"wide"}),quarter:Us({values:Upe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Us({values:Vpe,defaultWidth:"wide"}),day:Us({values:Wpe,defaultWidth:"wide"}),dayPeriod:Us({values:Hpe,defaultWidth:"wide",formattingValues:Kpe,defaultFormattingWidth:"wide"})};function Vs(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Xpe(o,function(f){return f.test(i)}):Ype(o,function(f){return f.test(i)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var d=t.slice(i.length);return{value:c,rest:d}}}function Ype(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Xpe(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function d$(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var Zpe=/^(\d+)(th|st|nd|rd)?/i,Jpe=/\d+/i,Qpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},eme={any:[/^b/i,/^(a|c)/i]},tme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},rme={any:[/1/i,/2/i,/3/i,/4/i]},nme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ame={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ime={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ome={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},lme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},cme={ordinalNumber:d$({matchPattern:Zpe,parsePattern:Jpe,valueCallback:function(t){return parseInt(t,10)}}),era:Vs({matchPatterns:Qpe,defaultMatchWidth:"wide",parsePatterns:eme,defaultParseWidth:"any"}),quarter:Vs({matchPatterns:tme,defaultMatchWidth:"wide",parsePatterns:rme,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Vs({matchPatterns:nme,defaultMatchWidth:"wide",parsePatterns:ame,defaultParseWidth:"any"}),day:Vs({matchPatterns:sme,defaultMatchWidth:"wide",parsePatterns:ime,defaultParseWidth:"any"}),dayPeriod:Vs({matchPatterns:ome,defaultMatchWidth:"any",parsePatterns:lme,defaultParseWidth:"any"})},f$={code:"en-US",formatDistance:Mpe,formatLong:Lpe,formatRelative:Bpe,localize:qpe,match:cme,options:{weekStartsOn:0,firstWeekContainsDate:1}},ume=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fme=/^'([^]*?)'?$/,hme=/''/g,pme=/[a-zA-Z]/;function be(e,t,r){var n,a,s,i,o,l,c,d,f,h,p,m,v,g,x,b,y,_;Ve(2,arguments);var k=String(t),S=rl(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:S.locale)!==null&&n!==void 0?n:f$,C=kr((s=(i=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&o!==void 0?o:S.firstWeekContainsDate)!==null&&i!==void 0?i:(f=S.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var j=kr((p=(m=(v=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:S.weekStartsOn)!==null&&m!==void 0?m:(y=S.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(j>=0&&j<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var T=Ke(e);if(!n$(T))throw new RangeError("Invalid time value");var N=ng(T),A=a$(T,N),P={firstWeekContainsDate:C,weekStartsOn:j,locale:E,_originalDate:T},V=k.match(dme).map(function(z){var Z=z[0];if(Z==="p"||Z==="P"){var G=j2[Z];return G(z,E.formatLong)}return z}).join("").match(ume).map(function(z){if(z==="''")return"'";var Z=z[0];if(Z==="'")return mme(z);var G=Ape[Z];if(G)return!(r!=null&&r.useAdditionalWeekYearTokens)&&u$(z)&&ag(z,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&c$(z)&&ag(z,t,String(e)),G(A,z,E.localize,P);if(Z.match(pme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Z+"`");return z}).join("");return V}function mme(e){var t=e.match(fme);return t?t[1].replace(hme,"'"):e}function vme(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function sg(e){Ve(1,arguments);var t=Ke(e),r=t.getDate();return r}function OE(e){Ve(1,arguments);var t=Ke(e),r=t.getDay();return r}function DE(e){Ve(1,arguments);var t=Ke(e),r=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function gme(e,t){Ve(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()>n.getTime()}function uO(e,t){Ve(2,arguments);var r=Ke(e),n=Ke(t);return r.getTime()<n.getTime()}function D1(e){return Ve(1,arguments),Ke(e).getTime()>Date.now()}function dO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function xme(e,t){if(e){if(typeof e=="string")return dO(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dO(e,t):void 0}}function fO(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xme(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return i=c.done,c},e:function(c){o=!0,s=c},f:function(){try{i||r.return==null||r.return()}finally{if(o)throw s}}}}function Ne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T2(e,t){return T2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},T2(e,t)}function at(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T2(e,t)}function ig(e){return ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ig(e)}function h$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h$=function(){return!!e})()}function yme(e,t){if(t&&(Hi(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ne(e)}function st(e){var t=h$();return function(){var r,n=ig(e);if(t){var a=ig(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return yme(this,r)}}function Ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bme(e,t){if(Hi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p$(e){var t=bme(e,"string");return Hi(t)=="symbol"?t:t+""}function wme(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p$(n.key),n)}}function Je(e,t,r){return t&&wme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e,t,r){return(t=p$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _me=10,m$=function(){function e(){Ze(this,e),Ee(this,"priority",void 0),Ee(this,"subPriority",0)}return Je(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),kme=function(e){at(r,e);var t=st(r);function r(n,a,s,i,o){var l;return Ze(this,r),l=t.call(this),l.value=n,l.validateValue=a,l.setValue=s,l.priority=i,o&&(l.subPriority=o),l}return Je(r,[{key:"validate",value:function(a,s){return this.validateValue(a,this.value,s)}},{key:"set",value:function(a,s,i){return this.setValue(a,s,this.value,i)}}]),r}(m$),Sme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",_me),Ee(Ne(n),"subPriority",-1),n}return Je(r,[{key:"set",value:function(a,s){if(s.timestampIsSet)return a;var i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}}]),r}(m$),ct=function(){function e(){Ze(this,e),Ee(this,"incompatibleTokens",void 0),Ee(this,"priority",void 0),Ee(this,"subPriority",void 0)}return Je(e,[{key:"run",value:function(r,n,a,s){var i=this.parse(r,n,a,s);return i?{setter:new kme(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}(),Eme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",140),Ee(Ne(n),"incompatibleTokens",["R","u","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})||i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"})}}},{key:"set",value:function(a,s,i){return s.era=i,a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),wr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ws={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function _r(e,t){return e&&{value:t(e.value),rest:e.rest}}function er(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Hs(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*AE+s*TE+i*gpe),rest:t.slice(r[0].length)}}function v$(e){return er(wr.anyDigitsSigned,e)}function mr(e,t){switch(e){case 1:return er(wr.singleDigit,t);case 2:return er(wr.twoDigits,t);case 3:return er(wr.threeDigits,t);case 4:return er(wr.fourDigits,t);default:return er(new RegExp("^\\d{1,"+e+"}"),t)}}function og(e,t){switch(e){case 1:return er(wr.singleDigitSigned,t);case 2:return er(wr.twoDigitsSigned,t);case 3:return er(wr.threeDigitsSigned,t);case 4:return er(wr.fourDigitsSigned,t);default:return er(new RegExp("^-?\\d{1,"+e+"}"),t)}}function ME(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function g$(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var s=n+50,i=Math.floor(s/100)*100,o=e>=s%100;a=e+i-(o?100:0)}return r?a:1-a}function x$(e){return e%400===0||e%4===0&&e%100!==0}var Cme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",130),Ee(Ne(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return _r(mr(4,a),o);case"yo":return _r(i.ordinalNumber(a,{unit:"year"}),o);default:return _r(mr(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i){var o=a.getUTCFullYear();if(i.isTwoDigitYear){var l=g$(i.year,o);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var c=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),jme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",130),Ee(Ne(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return _r(mr(4,a),o);case"Yo":return _r(i.ordinalNumber(a,{unit:"year"}),o);default:return _r(mr(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i,o){var l=PE(a,o);if(i.isTwoDigitYear){var c=g$(i.year,l);return a.setUTCFullYear(c,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),nc(a,o)}var d=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(d,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),nc(a,o)}}]),r}(ct),Tme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",130),Ee(Ne(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s){return og(s==="R"?4:s.length,a)}},{key:"set",value:function(a,s,i){var o=new Date(0);return o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0),Yu(o)}}]),r}(ct),Ame=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",130),Ee(Ne(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s){return og(s==="u"?4:s.length,a)}},{key:"set",value:function(a,s,i){return a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Nme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",120),Ee(Ne(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"Q":case"QQ":return mr(s.length,a);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})||i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Pme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",120),Ee(Ne(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"q":case"qq":return mr(s.length,a);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})||i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Ome=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ee(Ne(n),"priority",110),n}return Je(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"M":return _r(er(wr.month,a),o);case"MM":return _r(mr(2,a),o);case"Mo":return _r(i.ordinalNumber(a,{unit:"month"}),o);case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})||i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Dme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",110),Ee(Ne(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"L":return _r(er(wr.month,a),o);case"LL":return _r(mr(2,a),o);case"Lo":return _r(i.ordinalNumber(a,{unit:"month"}),o);case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})||i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(ct);function Mme(e,t,r){Ve(2,arguments);var n=Ke(e),a=kr(t),s=o$(n,r)-a;return n.setUTCDate(n.getUTCDate()-s*7),n}var Ime=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",100),Ee(Ne(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"w":return er(wr.week,a);case"wo":return i.ordinalNumber(a,{unit:"week"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i,o){return nc(Mme(a,i,o),o)}}]),r}(ct);function Rme(e,t){Ve(2,arguments);var r=Ke(e),n=kr(t),a=i$(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}var Fme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",100),Ee(Ne(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"I":return er(wr.week,a);case"Io":return i.ordinalNumber(a,{unit:"week"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i){return Yu(Rme(a,i))}}]),r}(ct),Lme=[31,28,31,30,31,30,31,31,30,31,30,31],$me=[31,29,31,30,31,30,31,31,30,31,30,31],Bme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"subPriority",1),Ee(Ne(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"d":return er(wr.date,a);case"do":return i.ordinalNumber(a,{unit:"date"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=x$(i),l=a.getUTCMonth();return o?s>=1&&s<=$me[l]:s>=1&&s<=Lme[l]}},{key:"set",value:function(a,s,i){return a.setUTCDate(i),a.setUTCHours(0,0,0,0),a}}]),r}(ct),zme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"subpriority",1),Ee(Ne(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"D":case"DD":return er(wr.dayOfYear,a);case"Do":return i.ordinalNumber(a,{unit:"date"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=x$(i);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(a,s,i){return a.setUTCMonth(0,i),a.setUTCHours(0,0,0,0),a}}]),r}(ct);function IE(e,t,r){var n,a,s,i,o,l,c,d;Ve(2,arguments);var f=rl(),h=kr((n=(a=(s=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(o=r.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&a!==void 0?a:(c=f.locale)===null||c===void 0||(d=c.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ke(e),m=kr(t),v=p.getUTCDay(),g=m%7,x=(g+7)%7,b=(x<h?7:0)+m-v;return p.setUTCDate(p.getUTCDate()+b),p}var Ume=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=IE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Vme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i,o){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return _r(mr(s.length,a),l);case"eo":return _r(i.ordinalNumber(a,{unit:"day"}),l);case"eee":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeeee":return i.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=IE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Wme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i,o){var l=function(d){var f=Math.floor((d-1)/7)*7;return(d+o.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return _r(mr(s.length,a),l);case"co":return _r(i.ordinalNumber(a,{unit:"day"}),l);case"ccc":return i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"ccccc":return i.day(a,{width:"narrow",context:"standalone"});case"cccccc":return i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(a,{width:"wide",context:"standalone"})||i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=IE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(ct);function Hme(e,t){Ve(2,arguments);var r=kr(t);r%7===0&&(r=r-7);var n=1,a=Ke(e),s=a.getUTCDay(),i=r%7,o=(i+7)%7,l=(o<n?7:0)+r-s;return a.setUTCDate(a.getUTCDate()+l),a}var Kme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",90),Ee(Ne(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c===0?7:c};switch(s){case"i":case"ii":return mr(s.length,a);case"io":return i.ordinalNumber(a,{unit:"day"});case"iii":return _r(i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiii":return _r(i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiiii":return _r(i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiii":default:return _r(i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(a,s){return s>=1&&s<=7}},{key:"set",value:function(a,s,i){return a=Hme(a,i),a.setUTCHours(0,0,0,0),a}}]),r}(ct),Gme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",80),Ee(Ne(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(ME(i),0,0,0),a}}]),r}(ct),qme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",80),Ee(Ne(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(ME(i),0,0,0),a}}]),r}(ct),Yme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",80),Ee(Ne(n),"incompatibleTokens",["a","b","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(ME(i),0,0,0),a}}]),r}(ct),Xme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",70),Ee(Ne(n),"incompatibleTokens",["H","K","k","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"h":return er(wr.hour12h,a);case"ho":return i.ordinalNumber(a,{unit:"hour"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=12}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):!o&&i===12?a.setUTCHours(0,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(ct),Zme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",70),Ee(Ne(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"H":return er(wr.hour23h,a);case"Ho":return i.ordinalNumber(a,{unit:"hour"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=23}},{key:"set",value:function(a,s,i){return a.setUTCHours(i,0,0,0),a}}]),r}(ct),Jme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",70),Ee(Ne(n),"incompatibleTokens",["h","H","k","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"K":return er(wr.hour11h,a);case"Ko":return i.ordinalNumber(a,{unit:"hour"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(ct),Qme=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",70),Ee(Ne(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"k":return er(wr.hour24h,a);case"ko":return i.ordinalNumber(a,{unit:"hour"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=24}},{key:"set",value:function(a,s,i){var o=i<=24?i%24:i;return a.setUTCHours(o,0,0,0),a}}]),r}(ct),eve=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",60),Ee(Ne(n),"incompatibleTokens",["t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"m":return er(wr.minute,a);case"mo":return i.ordinalNumber(a,{unit:"minute"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCMinutes(i,0,0),a}}]),r}(ct),tve=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",50),Ee(Ne(n),"incompatibleTokens",["t","T"]),n}return Je(r,[{key:"parse",value:function(a,s,i){switch(s){case"s":return er(wr.second,a);case"so":return i.ordinalNumber(a,{unit:"second"});default:return mr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCSeconds(i,0),a}}]),r}(ct),rve=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",30),Ee(Ne(n),"incompatibleTokens",["t","T"]),n}return Je(r,[{key:"parse",value:function(a,s){var i=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return _r(mr(s.length,a),i)}},{key:"set",value:function(a,s,i){return a.setUTCMilliseconds(i),a}}]),r}(ct),nve=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",10),Ee(Ne(n),"incompatibleTokens",["t","T","x"]),n}return Je(r,[{key:"parse",value:function(a,s){switch(s){case"X":return Hs(Ws.basicOptionalMinutes,a);case"XX":return Hs(Ws.basic,a);case"XXXX":return Hs(Ws.basicOptionalSeconds,a);case"XXXXX":return Hs(Ws.extendedOptionalSeconds,a);case"XXX":default:return Hs(Ws.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(ct),ave=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",10),Ee(Ne(n),"incompatibleTokens",["t","T","X"]),n}return Je(r,[{key:"parse",value:function(a,s){switch(s){case"x":return Hs(Ws.basicOptionalMinutes,a);case"xx":return Hs(Ws.basic,a);case"xxxx":return Hs(Ws.basicOptionalSeconds,a);case"xxxxx":return Hs(Ws.extendedOptionalSeconds,a);case"xxx":default:return Hs(Ws.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(ct),sve=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",40),Ee(Ne(n),"incompatibleTokens","*"),n}return Je(r,[{key:"parse",value:function(a){return v$(a)}},{key:"set",value:function(a,s,i){return[new Date(i*1e3),{timestampIsSet:!0}]}}]),r}(ct),ive=function(e){at(r,e);var t=st(r);function r(){var n;Ze(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),Ee(Ne(n),"priority",20),Ee(Ne(n),"incompatibleTokens","*"),n}return Je(r,[{key:"parse",value:function(a){return v$(a)}},{key:"set",value:function(a,s,i){return[new Date(i),{timestampIsSet:!0}]}}]),r}(ct),ove={G:new Eme,y:new Cme,Y:new jme,R:new Tme,u:new Ame,Q:new Nme,q:new Pme,M:new Ome,L:new Dme,w:new Ime,I:new Fme,d:new Bme,D:new zme,E:new Ume,e:new Vme,c:new Wme,i:new Kme,a:new Gme,b:new qme,B:new Yme,h:new Xme,H:new Zme,K:new Jme,k:new Qme,m:new eve,s:new tve,S:new rve,X:new nve,x:new ave,t:new sve,T:new ive},lve=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cve=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uve=/^'([^]*?)'?$/,dve=/''/g,fve=/\S/,hve=/[a-zA-Z]/;function pve(e,t,r,n){var a,s,i,o,l,c,d,f,h,p,m,v,g,x;Ve(3,arguments);var b=String(e),y=String(t),_=rl(),k=(a=(s=void 0)!==null&&s!==void 0?s:_.locale)!==null&&a!==void 0?a:f$;if(!k.match)throw new RangeError("locale must contain match property");var S=kr((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:_.firstWeekContainsDate)!==null&&o!==void 0?o:(d=_.locale)===null||d===void 0||(f=d.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=kr((h=(p=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:_.weekStartsOn)!==null&&p!==void 0?p:(g=_.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(y==="")return b===""?Ke(r):new Date(NaN);var C={firstWeekContainsDate:S,weekStartsOn:E,locale:k},j=[new Sme],T=y.match(cve).map(function(B){var H=B[0];if(H in j2){var ee=j2[H];return ee(B,k.formatLong)}return B}).join("").match(lve),N=[],A=fO(T),P;try{var V=function(){var H=P.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&u$(H)&&ag(H,y,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&c$(H)&&ag(H,y,e);var ee=H[0],ue=ove[ee];if(ue){var de=ue.incompatibleTokens;if(Array.isArray(de)){var q=N.find(function(le){return de.includes(le.token)||le.token===ee});if(q)throw new RangeError("The format string mustn't contain `".concat(q.fullToken,"` and `").concat(H,"` at the same time"))}else if(ue.incompatibleTokens==="*"&&N.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));N.push({token:ee,fullToken:H});var re=ue.run(b,H,k.match,C);if(!re)return{v:new Date(NaN)};j.push(re.setter),b=re.rest}else{if(ee.match(hve))throw new RangeError("Format string contains an unescaped latin alphabet character `"+ee+"`");if(H==="''"?H="'":ee==="'"&&(H=mve(H)),b.indexOf(H)===0)b=b.slice(H.length);else return{v:new Date(NaN)}}};for(A.s();!(P=A.n()).done;){var z=V();if(Hi(z)==="object")return z.v}}catch(B){A.e(B)}finally{A.f()}if(b.length>0&&fve.test(b))return new Date(NaN);var Z=j.map(function(B){return B.priority}).sort(function(B,H){return H-B}).filter(function(B,H,ee){return ee.indexOf(B)===H}).map(function(B){return j.filter(function(H){return H.priority===B}).sort(function(H,ee){return ee.subPriority-H.subPriority})}).map(function(B){return B[0]}),G=Ke(r);if(isNaN(G.getTime()))return new Date(NaN);var Y=a$(G,ng(G)),I={},te=fO(Z),J;try{for(te.s();!(J=te.n()).done;){var D=J.value;if(!D.validate(Y,C))return new Date(NaN);var R=D.set(Y,I,C);Array.isArray(R)?(Y=R[0],vme(I,R[1])):Y=R}}catch(B){te.e(B)}finally{te.f()}return Y}function mve(e){return e.match(uve)[1].replace(dve,"'")}function E0(e,t){Ve(2,arguments);var r=Ke(e),n=Ke(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Io(e,t){Ve(2,arguments);var r=Ke(e).getTime(),n=Ke(t.start).getTime(),a=Ke(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function Ft(e,t){Ve(2,arguments);var r=kr(t);return rg(e,-r)}function nn(e,t){var r;Ve(1,arguments);var n=kr((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=yve(e),s;if(a.date){var i=bve(a.date,n);s=wve(i.restDateString,i.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,c;if(a.time&&(l=_ve(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=kve(a.timezone),isNaN(c))return new Date(NaN)}else{var d=new Date(o+l),f=new Date(0);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return new Date(o+l+c)}var Rp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vve=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gve=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xve=/^([+-])(\d{2})(?::?(\d{2}))?$/;function yve(e){var t={},r=e.split(Rp.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Rp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Rp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Rp.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function bve(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function wve(e,t){if(t===null)return new Date(NaN);var r=e.match(vve);if(!r)return new Date(NaN);var n=!!r[4],a=Hd(r[1]),s=Hd(r[2])-1,i=Hd(r[3]),o=Hd(r[4]),l=Hd(r[5])-1;if(n)return Tve(t,o,l)?Sve(t,o,l):new Date(NaN);var c=new Date(0);return!Cve(t,s,i)||!jve(t,a)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(a,i)),c)}function Hd(e){return e?parseInt(e):1}function _ve(e){var t=e.match(gve);if(!t)return NaN;var r=M1(t[1]),n=M1(t[2]),a=M1(t[3]);return Ave(r,n,a)?r*AE+n*TE+a*1e3:NaN}function M1(e){return e&&parseFloat(e.replace(",","."))||0}function kve(e){if(e==="Z")return 0;var t=e.match(xve);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Nve(n,a)?r*(n*AE+a*TE):NaN}function Sve(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var Eve=[31,null,31,30,31,30,31,31,30,31,30,31];function y$(e){return e%400===0||e%4===0&&e%100!==0}function Cve(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Eve[t]||(y$(e)?29:28))}function jve(e,t){return t>=1&&t<=(y$(e)?366:365)}function Tve(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Ave(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Nve(e,t){return t>=0&&t<=59}function Xu(e,t){Ve(2,arguments);var r=kr(t);return jE(e,-r)}const Sm=e=>{if(typeof e=="string"){const s=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(s)return`${s[1]}-${s[2]}-${s[3]}`}const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"UNKNOWN";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},RE=e=>{if(!e)return null;try{if(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))&&!e.includes("/")&&!e.includes("-")){const i=Number(e),l=Math.floor(i-25569)*86400,c=new Date(l*1e3),d=i-Math.floor(i)+1e-7,f=Math.floor(86400*d),h=f%60,p=Math.floor(f/60)%60,m=Math.floor(f/(60*60));return new Date(c.getFullYear(),c.getMonth(),c.getDate(),m,p,h)}const t=e.toString().trim();if(t.includes("/")){const i=t.split("/");if(i.length===3){const o=parseInt(i[0],10),l=parseInt(i[1],10);let c=parseInt(i[2],10);c<100&&(c+=2e3);let d=o,f=l,h=new Date(c,f-1,d);if(h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===d||(d=l,f=o,h=new Date(c,f-1,d),h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===d))return h}}if(t.includes("-")){const i=t.split("-");if(i.length>=3&&!isNaN(parseInt(i[1]))){const o=parseInt(i[0],10),l=parseInt(i[1],10),c=i[2].split("T")[0].split(" ")[0],d=parseInt(c,10);if(!isNaN(o)&&!isNaN(l)&&!isNaN(d))return new Date(o,l-1,d)}}const r={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},n=t.toLowerCase().match(/(\d{1,2})[\s\-\/de]+([a-z]+)[\s\-\/de]+(\d{2,4})/);if(n){const i=parseInt(n[1],10),o=n[2],l=Object.keys(r).find(d=>o.includes(d)||d.includes(o));let c=parseInt(n[3],10);if(c<100&&(c+=2e3),l!==void 0){const d=r[l];return new Date(c,d,i)}}let a=t;a.endsWith("Z")&&(a=a.slice(0,-1));const s=new Date(a);return isNaN(s.getTime())?null:s}catch{return null}},Pve=({data:e,currentGoal:t,selectedBU:r,onPointClick:n})=>{var y;const[a,s]=w.useState(0),i=new Date,o=t.mes,l=nn(`${o}-01`),c=DE(l),d=E0(i,l),f=w.useMemo(()=>{if(!d)return c;const _=Object.keys(e).filter(S=>S.startsWith(o)).sort();if(_.length>0){const S=nn(_[_.length-1]);return sg(S)}const k=sg(i);return Math.min(k,c)},[e,o,d,c,i]),h=d?f:c,p=c-h,m=w.useMemo(()=>{let _=0,k=0,S=0;return Object.entries(e).forEach(([E,C])=>{E.startsWith(o)&&C.forEach(j=>{r&&j.bu!==r||(_+=j.kpis.cartoes||0,k+=j.kpis.aprovados||0,S+=j.kpis.custoTotal||0)})}),{cartoes:_,aprovacoes:k,custo:S,cac:_>0?S/_:0}},[e,o,r]),v=w.useMemo(()=>{const _=h>0?m.cartoes/h:0,k=h>0?m.aprovacoes/h:0,S=m.cartoes+_*p,E=m.aprovacoes+k*p,C=S*(1+a/100);return{cartoes:Math.round(S),aprovacoes:Math.round(E),simulatedCartoes:Math.round(C),rateCartoes:_}},[m,h,p,a]),g=w.useMemo(()=>{const _=t.cartoes_meta||0,k=Math.max(0,_-m.cartoes);return{daily:p>0?Math.ceil(k/p):0,gap:k}},[t,m,p]),x=w.useMemo(()=>{const _=[],k=(t.cartoes_meta||0)/c;let S=0,E=0,C=0;const j=Object.keys(e).slice(0,3);console.log(" Projections Debug:",{currentMonthStr:o,sampleDataKeys:j,firstDayGenerated:Sm(`${o}-01`),hasDataForFirstDay:!!e[Sm(`${o}-01`)]});for(let T=1;T<=c;T++){const N=`${o}-${String(T).padStart(2,"0")}`,A=Sm(N);let P=0;T<=h?((e[A]||[]).forEach(z=>{r&&z.bu!==r||(P+=z.kpis.cartoes||0)}),S+=P,E=S):E+=v.rateCartoes*(1+a/100),C+=k,_.push({day:T,label:`${T}/${o.split("-")[1]}`,realizado:T<=h?S:null,projetado:Math.round(E),meta:Math.round(C)})}return _},[e,o,c,h,t,v.rateCartoes,a,r]),b=_=>{if(_&&_.activePayload&&_.activePayload[0]&&n){const S=_.activePayload[0].payload.day,E=nn(`${o}-${String(S).padStart(2,"0")}`);n(E)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[u.jsx(Fn,{size:20,className:"text-blue-400"}),"Projeo do Ms"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700",children:[u.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Projeo de Fechamento"}),u.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:v.cartoes.toLocaleString("pt-BR")}),u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsxs("span",{className:"text-slate-500",children:["Meta: ",(t.cartoes_meta||0).toLocaleString("pt-BR")]}),v.cartoes>=(t.cartoes_meta||0)?u.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1",children:[u.jsx(Fn,{size:12})," Atingir"]}):u.jsxs("span",{className:"text-red-400 font-bold flex items-center gap-1",children:[u.jsx(id,{size:12})," Abaixo"]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[u.jsxs("span",{className:"text-slate-400",children:["Realizado (",h," dias)"]}),u.jsx("span",{className:"text-slate-200 font-mono",children:m.cartoes.toLocaleString("pt-BR")})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[u.jsx("span",{className:"text-slate-400",children:"Ritmo Atual (dia)"}),u.jsx("span",{className:"text-slate-200 font-mono",children:Math.round(v.rateCartoes).toLocaleString("pt-BR")})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm pb-2",children:[u.jsx("span",{className:"text-slate-400",children:"Gap para Meta"}),u.jsx("span",{className:"text-red-400 font-mono font-bold",children:g.gap.toLocaleString("pt-BR")})]})]})]})]}),u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[u.jsx(Cl,{size:20,className:"text-amber-400"}),"Quanto Preciso Fazer?"]}),u.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px]",children:[u.jsxs("div",{className:"text-center mb-6",children:[u.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Para bater a meta, voc precisa de:"}),u.jsx("div",{className:"text-5xl font-bold text-amber-400 mb-2",children:g.daily.toLocaleString("pt-BR")}),u.jsx("div",{className:"text-sm text-slate-300",children:"cartes / dia"})]}),u.jsxs("div",{className:"w-full bg-slate-900/50 rounded p-3 text-xs text-center text-slate-400",children:["Restam ",u.jsx("span",{className:"text-white font-bold",children:p})," dias teis comerciais (aprox)"]})]})]}),u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[u.jsx(Xi,{size:20,className:"text-purple-400"}),"Simulador de Cenrios"]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impacto de Nova Campanha (% Converso)"}),u.jsx("input",{type:"range",min:"-20",max:"50",step:"5",value:a,onChange:_=>s(Number(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),u.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[u.jsx("span",{children:"-20%"}),u.jsxs("span",{className:"text-purple-400 font-bold",children:["+",a,"%"]}),u.jsx("span",{children:"+50%"})]})]}),u.jsxs("div",{className:"bg-purple-900/20 border border-purple-900/50 rounded-lg p-4",children:[u.jsx("div",{className:"text-sm text-purple-300 mb-1",children:"Resultado Simulado"}),u.jsxs("div",{className:"flex items-end justify-between",children:[u.jsx("div",{className:"text-2xl font-bold text-white",children:v.simulatedCartoes.toLocaleString("pt-BR")}),u.jsxs("div",{className:`text-sm font-bold ${v.simulatedCartoes>v.cartoes?"text-green-400":"text-slate-400"}`,children:[v.simulatedCartoes>v.cartoes?"+":"",(v.simulatedCartoes-v.cartoes).toLocaleString("pt-BR")]})]})]})]})]})]}),u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-6",children:"Evoluo: Realizado vs. Projetado vs. Meta"}),u.jsx("div",{className:"h-[350px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:x,margin:{top:5,right:30,left:20,bottom:5},onClick:b,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),u.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),u.jsx(lt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),u.jsx(kt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"}}),u.jsx(Nn,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(Pr,{type:"monotone",dataKey:"realizado",name:"Realizado",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6",strokeWidth:0}}),u.jsx(Pr,{type:"monotone",dataKey:"projetado",name:"Projeo",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),u.jsx(Pr,{type:"monotone",dataKey:"meta",name:"Meta Ideal",stroke:"#ef4444",strokeWidth:2,dot:!1}),d&&u.jsx(ry,{x:(y=x[h-1])==null?void 0:y.label,stroke:"#fbbf24",strokeDasharray:"3 3",label:"Hoje"})]})})})]})]})},Ove=qg()(Yg((e,t)=>({metas:[],setMeta:r=>{const n=`${r.mes}-${r.bu}`,a=new Date().toISOString();e(s=>{const i=s.metas.findIndex(o=>o.mes===r.mes&&o.bu===r.bu);if(i>=0){const o=[...s.metas];return o[i]={...o[i],...r,updated_at:a},{metas:o}}else return{metas:[...s.metas,{id:n,...r,created_at:a,updated_at:a}]}})},getMeta:(r,n)=>t().metas.find(a=>a.mes===r&&a.bu===n),getMetasMes:r=>t().metas.filter(n=>n.mes===r),deleteMeta:r=>{e(n=>({metas:n.metas.filter(a=>a.id!==r)}))},getMetaConsolidada:r=>{const n=t().metas.filter(a=>a.mes===r);return n.length===0?{cartoes_meta:0,pedidos_meta:0,cac_max_medio:0}:{cartoes_meta:n.reduce((a,s)=>a+s.cartoes_meta,0),pedidos_meta:n.reduce((a,s)=>a+s.pedidos_meta,0),cac_max_medio:n.reduce((a,s)=>a+s.cac_max,0)/n.length}}}),{name:"growth-brain-metas",version:1})),Dve=()=>{const{getMetasMes:e,setMeta:t}=Ove();return{getGoal:a=>{const s=e(a),i={mes:a,cartoes_meta:0,aprovacoes_meta:0,cac_max:0,bus:{}};if(s.length===0)return i;let o=0,l=0,c=0;return s.forEach(d=>{o+=d.cartoes_meta,l+=d.pedidos_meta,c+=d.cac_max,i.bus||(i.bus={}),i.bus[d.bu]={cartoes:d.cartoes_meta,aprovacoes:d.pedidos_meta,cac:d.cac_max}}),i.cartoes_meta=o,i.aprovacoes_meta=l,i.cac_max=s.length>0?c/s.length:0,i},saveGoal:a=>{a.bus?Object.entries(a.bus).forEach(([s,i])=>{t({mes:a.mes,bu:s,cartoes_meta:i.cartoes,pedidos_meta:i.aprovacoes,cac_max:i.cac})}):console.warn("saveGoal called without BU breakdown. This might result in data loss in the new store.")}}},Rh=({date:e,activities:t,anomalyFilters:r=[],onClose:n,onEdit:a,onConfirmDraft:s,titleOverride:i})=>{if(!e&&!i)return null;const o=t.filter(l=>{if(r.length===0)return!0;const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),d=c.includes("aguardando")||c.includes("confirmar"),f=String(l.raw["Disparado?"]||"").toLowerCase().trim(),h=["sim","s","yes","y","enviado","ok","true","1"].includes(f),p=h&&(l.kpis.baseEnviada||0)===0,m=h&&(l.kpis.baseEntregue||0)===0,v=h&&(l.kpis.taxaAbertura||0)===0;return!!(r.includes("pending")&&d||r.includes("no_sent")&&p||r.includes("no_delivered")&&m||r.includes("no_open")&&v)});return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:i||`Detalhes do Dia: ${e==null?void 0:e.toLocaleDateString("pt-BR")}`}),u.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[o.length," atividades registradas ",r.length>0&&"(Filtrado)"]})]}),u.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:u.jsx(fa,{size:20})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:o.map(l=>{const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),d=c.includes("aguardando")||c.includes("confirmar"),h=(l.raw.status||l.raw.Status||"Realizado")==="Rascunho",m=h?"border-slate-700/50":{B2C:"border-blue-500/50 bg-blue-500/5",B2B2C:"border-purple-500/50 bg-purple-500/5",Plurix:"border-green-500/50 bg-green-500/5"}[l.bu]||"border-slate-700/50";return u.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-3 transition ${m}`,children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-100 mb-1",children:l.id}),u.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[u.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:l.bu}),u.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 rounded",children:l.canal}),d&&u.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"Pendente"}),h&&u.jsx("span",{className:"px-2 py-0.5 bg-slate-500/20 text-slate-400 rounded",children:"Rascunho"})]})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[h&&s&&u.jsx("button",{onClick:()=>s(l),className:"p-1.5 hover:bg-green-900/30 rounded transition text-green-500 hover:text-green-400 border border-green-500/30",title:"Confirmar disparo",children:u.jsx(dk,{size:14})}),a&&u.jsx("button",{onClick:()=>a(l),className:"p-1.5 hover:bg-slate-700 rounded transition text-slate-400 hover:text-blue-400",title:"Editar disparo",children:u.jsx(fk,{size:14})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Enviado ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEnviada||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Entregue ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEntregue||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Cartes ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsx("div",{className:"text-xs font-semibold text-blue-400",children:l.kpis.cartoes||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Converso ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[l.kpis.taxaConversao?(l.kpis.taxaConversao*100).toFixed(2):0,"%"]})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Custo ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.custoTotal||0)})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["CAC ",u.jsx(sa,{size:10,className:"opacity-30"})]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.cac||0)})]})]})]},l.id)})}),u.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:u.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},Mve=({resultados:e,data:t,selectedBU:r})=>{var S;const[n,a]=w.useState(!1),{getGoal:s,saveGoal:i}=Dve(),[o,l]=w.useState(!1),[c,d]=w.useState([]),[f,h]=w.useState(null),p=E=>{const C=t[E]||[],[j,T,N]=E.split("-").map(Number);h(new Date(j,T-1,N)),d(C),l(!0)},m=((S=Object.keys(t).sort().pop())==null?void 0:S.substring(0,7))||new Date().toISOString().substring(0,7),v=s(m),g=w.useMemo(()=>r&&v.bus&&v.bus[r]?{mes:v.mes,cartoes_meta:v.bus[r].cartoes,aprovacoes_meta:v.bus[r].aprovacoes,cac_max:v.bus[r].cac}:v,[v,r]),b=Object.values(e).sort((E,C)=>C.totalCartoes-E.totalCartoes).reduce((E,C)=>E+C.totalCartoes,0);let y=0,_=0;Object.values(t).flat().forEach(E=>{y+=E.kpis.aprovados||0,_+=E.kpis.custoTotal||0});const k=b>0?_/b:0;return Object.keys(e).length===0?u.jsx("div",{className:"text-center py-12 text-slate-400",children:"Nenhum resultado registrado"}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(upe,{data:t}),u.jsx(Pve,{data:t,currentGoal:g,selectedBU:r,onPointClick:E=>{const C=be(E,"yyyy-MM-dd");p(C)}}),u.jsx("div",{className:"grid grid-cols-1 gap-6",children:u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(Xi,{size:20,className:"text-blue-400"}),"Meta vs. Realizado ",u.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",r||"Global",")"]})]}),u.jsx("button",{onClick:()=>a(!0),className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"Definir Metas"})]}),u.jsx(dpe,{goal:g,currentCartoes:b,currentAprovacoes:y,currentCAC:k,scope:r||"Global"})]})}),u.jsx(fpe,{isOpen:n,onClose:()=>a(!1),onSave:i,initialGoal:v,currentMonthLabel:m}),o&&u.jsx(Rh,{date:f,activities:c,onClose:()=>l(!1)})]})};var Ive={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Rve=function(t,r,n){var a,s=Ive[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},Fve={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Lve={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$ve={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bve={date:Su({formats:Fve,defaultWidth:"full"}),time:Su({formats:Lve,defaultWidth:"full"}),dateTime:Su({formats:$ve,defaultWidth:"full"})},zve={lastWeek:function(t){var r=t.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Uve=function(t,r,n,a){var s=zve[t];return typeof s=="function"?s(r):s},Vve={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Wve={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Hve={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Kve={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Gve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},qve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Yve=function(t,r){var n=Number(t);return(r==null?void 0:r.unit)==="week"?n+"":n+""},Xve={ordinalNumber:Yve,era:Us({values:Vve,defaultWidth:"wide"}),quarter:Us({values:Wve,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Us({values:Hve,defaultWidth:"wide"}),day:Us({values:Kve,defaultWidth:"wide"}),dayPeriod:Us({values:Gve,defaultWidth:"wide",formattingValues:qve,defaultFormattingWidth:"wide"})},Zve=/^(\d+)[o]?/i,Jve=/\d+/i,Qve={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},ege={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},tge={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},rge={any:[/1/i,/2/i,/3/i,/4/i]},nge={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},age={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},sge={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},ige={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},oge={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},lge={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},cge={ordinalNumber:d$({matchPattern:Zve,parsePattern:Jve,valueCallback:function(t){return parseInt(t,10)}}),era:Vs({matchPatterns:Qve,defaultMatchWidth:"wide",parsePatterns:ege,defaultParseWidth:"any"}),quarter:Vs({matchPatterns:tge,defaultMatchWidth:"wide",parsePatterns:rge,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Vs({matchPatterns:nge,defaultMatchWidth:"wide",parsePatterns:age,defaultParseWidth:"any"}),day:Vs({matchPatterns:sge,defaultMatchWidth:"wide",parsePatterns:ige,defaultParseWidth:"any"}),dayPeriod:Vs({matchPatterns:oge,defaultMatchWidth:"any",parsePatterns:lge,defaultParseWidth:"any"})},ns={code:"pt-BR",formatDistance:Rve,formatLong:Bve,formatRelative:Uve,localize:Xve,match:cge,options:{weekStartsOn:0,firstWeekContainsDate:1}};const uge=({data:e,mode:t,anomalyFilters:r=[],onPointClick:n})=>{const[a,s]=w.useState("daily"),[i,o]=w.useState({cartoes:!0,aprovados:!0,propostas:!0}),l=w.useMemo(()=>{const h={};return Object.entries(e).forEach(([p,m])=>{let v=p,g=be(nn(p),"dd/MM",{locale:ns});if(a==="weekly"){const x=nn(p),b=Ga(x,{weekStartsOn:0});v=be(b,"yyyy-MM-dd"),g=`Semana ${be(b,"dd/MM")}`}h[v]||(h[v]={date:v,label:g,cartoes:0,aprovados:0,propostas:0,anomalies:0,timestamp:nn(v).getTime()}),m.forEach(x=>{if(t==="performance")h[v].cartoes+=x.kpis.cartoes||0,h[v].aprovados+=x.kpis.aprovados||0,h[v].propostas+=x.kpis.propostas||0;else{const b=String(x.raw["Cartes Gerados"]||"").toLowerCase().trim(),y=b.includes("aguardando")||b.includes("confirmar"),_=String(x.raw["Disparado?"]||"").toLowerCase().trim(),k=["sim","s","yes","y","enviado","ok","true","1"].includes(_),S=k&&(x.kpis.baseEnviada||0)===0,E=k&&(x.kpis.baseEntregue||0)===0,C=k&&(x.kpis.taxaAbertura||0)===0;let j=!1;r.length===0?j=y||S||E||C:(r.includes("pending")&&y&&(j=!0),r.includes("no_sent")&&S&&(j=!0),r.includes("no_delivered")&&E&&(j=!0),r.includes("no_open")&&C&&(j=!0)),j&&(h[v].anomalies+=1)}})}),Object.values(h).sort((p,m)=>p.timestamp-m.timestamp)},[e,a,t,r]),c=h=>{const{dataKey:p}=h;o(m=>({...m,[p]:!m[p]}))},d=h=>{if(h&&typeof h.activeIndex=="string"){const p=parseInt(h.activeIndex,10);!isNaN(p)&&l[p]&&n(nn(l[p].date))}},f=({active:h,payload:p,label:m})=>h&&p&&p.length?u.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded shadow-lg",children:[u.jsx("p",{className:"text-slate-200 font-bold mb-2",children:m}),p.map(v=>u.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[u.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),u.jsxs("span",{className:"text-slate-400 capitalize",children:[v.name,":"]}),u.jsx("span",{className:"text-slate-200 font-mono font-bold",children:v.value.toLocaleString("pt-BR")})]},v.name)),u.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Clique para ver detalhes"})]}):null;return u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-lg font-bold text-slate-100",children:t==="performance"?"Evoluo de Performance":"Evoluo de Anomalias"}),u.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[u.jsx("button",{onClick:()=>s("daily"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="daily"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Dirio"}),u.jsx("button",{onClick:()=>s("weekly"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="weekly"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Semanal"})]})]}),u.jsx("div",{className:"h-[400px] w-full cursor-pointer",children:u.jsx(At,{width:"100%",height:"100%",children:t==="performance"?u.jsxs(Ai,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:d,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),u.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),u.jsx(lt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:h=>h.toLocaleString("pt-BR")}),u.jsx(kt,{content:u.jsx(f,{})}),u.jsx(Nn,{onClick:c,wrapperStyle:{paddingTop:"20px"}}),u.jsx(Pr,{type:"monotone",dataKey:"propostas",name:"Propostas",stroke:"#8b5cf6",strokeWidth:2,dot:{r:4,fill:"#8b5cf6",strokeWidth:0},activeDot:{r:6},hide:!i.propostas}),u.jsx(Pr,{type:"monotone",dataKey:"aprovados",name:"Aprovados",stroke:"#10b981",strokeWidth:2,dot:{r:4,fill:"#10b981",strokeWidth:0},activeDot:{r:6},hide:!i.aprovados}),u.jsx(Pr,{type:"monotone",dataKey:"cartoes",name:"Cartes",stroke:"#3b82f6",strokeWidth:2,dot:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:6},hide:!i.cartoes})]}):u.jsxs(As,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:d,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),u.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),u.jsx(lt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),u.jsx(kt,{content:u.jsx(f,{})}),u.jsx(br,{dataKey:"anomalies",name:"Anomalias",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})},Gs=({content:e,side:t="top",size:r=14,children:n})=>{const a=w.useRef(null),[s,i]=w.useState(!1),[o,l]=w.useState(null);return w.useEffect(()=>{if(!s||!a.current)return;const c=a.current.getBoundingClientRect(),d=8;let f=c.top,h=c.left;switch(t){case"right":f=c.top+c.height/2,h=c.right+d;break;case"bottom":f=c.bottom+d,h=c.left+c.width/2;break;case"left":f=c.top+c.height/2,h=c.left-d;break;case"top":default:f=c.top-d,h=c.left+c.width/2}const p=window.innerWidth,m=window.innerHeight;h=Math.max(8,Math.min(p-8,h)),f=Math.max(8,Math.min(m-8,f)),l({top:f,left:h})},[s,t]),u.jsxs("span",{ref:a,className:"inline-flex items-center align-middle select-none",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[n||u.jsx(sa,{size:r,className:"text-slate-400 hover:text-slate-300 transition-colors cursor-default"}),s&&o&&q0.createPortal(u.jsx("div",{className:"fixed z-50 opacity-0 animate-[fadeIn_120ms_ease-out_forwards]",style:{top:o.top,left:o.left,transform:t==="top"||t==="bottom"?"translateX(-50%)":"translateY(-50%)"},children:u.jsx("div",{className:"max-w-xs text-xs text-slate-300 bg-slate-900/90 border border-slate-700 rounded-md shadow-xl px-3 py-2 whitespace-pre-line",children:e})}),document.body),u.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }"})]})},dge=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[],onDayClick:s})=>{const[i,o]=w.useState("conversao"),[l,c]=w.useState("daily"),d=p=>{var m;if(s&&l==="daily"){const v=((m=p.payload)==null?void 0:m.date)||p.date;v&&s(v)}},f=w.useMemo(()=>{const p={};return Object.keys(e).sort().forEach(g=>{const x=e[g].filter(k=>!(t&&k.bu!==t||r.length>0&&!r.includes(k.canal)||n.length>0&&!n.includes(k.segmento)||a.length>0&&!a.includes(k.parceiro)));if(x.length===0)return;let b=g,y=be(nn(g),"dd/MM",{locale:ns}),_=nn(g).getTime();if(l==="weekly"){const k=nn(g),S=Ga(k,{weekStartsOn:0});b=be(S,"yyyy-MM-dd"),y=`Sem ${be(S,"dd/MM")}`,_=S.getTime()}p[b]||(p[b]={date:b,label:y,timestamp:_,baseEnviada:0,baseEntregue:0,propostas:0,cartoes:0,custo:0,count:0}),x.forEach(k=>{p[b].baseEnviada+=k.kpis.baseEnviada||0,p[b].baseEntregue+=k.kpis.baseEntregue||0,p[b].propostas+=k.kpis.propostas||0,p[b].cartoes+=k.kpis.cartoes||0,p[b].custo+=k.kpis.custoTotal||0,p[b].count+=1})}),Object.values(p).map(g=>{let x=0;switch(i){case"conversao":x=g.baseEnviada>0?g.cartoes/g.baseEnviada*100:0;break;case"cac":x=g.cartoes>0?g.custo/g.cartoes:0;break;case"entrega":x=g.baseEnviada>0?g.baseEntregue/g.baseEnviada*100:0;break;case"abertura":x=g.baseEntregue>0?g.propostas/g.baseEntregue*100:0;break}return{...g,value:Number(x.toFixed(2))}}).sort((g,x)=>g.timestamp-x.timestamp)},[e,t,r,n,a,l,i]),h=w.useMemo(()=>{if(f.length===0)return{avg:0,max:0,maxDate:"",min:0,minDate:""};const p=f.map(_=>_.value),m=Math.max(...p),v=Math.min(...p),x=p.reduce((_,k)=>_+k,0)/p.length,b=f.find(_=>_.value===m),y=f.find(_=>_.value===v);return{avg:x.toFixed(2),max:m.toFixed(2),maxDate:(b==null?void 0:b.label)||"",min:v.toFixed(2),minDate:(y==null?void 0:y.label)||""}},[f]);return u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[u.jsx("div",{children:u.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[" Anlise Temporal",u.jsx(Gs,{content:"Evoluo das mtricas ao longo do tempo com comparao e agrupamento."})]})}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Mtrica"}),u.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs rounded px-2 py-1.5",children:[u.jsx("option",{value:"conversao",children:"Taxa de Converso"}),u.jsx("option",{value:"cac",children:"CAC"}),u.jsx("option",{value:"entrega",children:"Taxa de Entrega"}),u.jsx("option",{value:"abertura",children:"Taxa de Abertura"})]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Agrupamento"}),u.jsxs("div",{className:"flex bg-slate-900 rounded p-0.5 border border-slate-700",children:[u.jsx("button",{onClick:()=>c("daily"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="daily"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Dirio"}),u.jsx("button",{onClick:()=>c("weekly"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="weekly"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Semanal"})]})]})]})]}),u.jsx("div",{className:"h-[300px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:f,margin:{top:10,right:30,left:0,bottom:0},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),u.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),u.jsx(lt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),u.jsx(kt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155"},formatter:p=>[`${p.toFixed(2)}${i==="cac"?"":"%"}`,i==="cac"?"CAC":"Taxa"]}),u.jsx(Nn,{}),u.jsx(Pr,{type:"monotone",dataKey:"value",name:"Atual",stroke:"#3b82f6",strokeWidth:3,dot:l==="daily"?{r:5,fill:"#3b82f6",strokeWidth:0,cursor:"pointer"}:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:7},onClick:p=>d(p)})]})})}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 flex gap-6 text-sm",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500 mr-2",children:"Mdia:"}),u.jsxs("span",{className:"text-slate-200 font-bold",children:[h.avg,i==="cac"?"":"%"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500 mr-2",children:"Mx:"}),u.jsxs("span",{className:"text-slate-200 font-bold",children:[h.max,i==="cac"?"":"%"]}),u.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.maxDate,")"]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-slate-500 mr-2",children:"Mn:"}),u.jsxs("span",{className:"text-slate-200 font-bold",children:[h.min,i==="cac"?"":"%"]}),u.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.minDate,")"]})]})]})]})},fge=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[]})=>{const[s,i]=w.useState("performance"),[o,l]=w.useState(null),[c,d]=w.useState([]),f=p=>{d(m=>m.includes(p)?m.filter(v=>v!==p):[...m,p])},h=w.useMemo(()=>{if(!o)return[];const p=be(o,"yyyy-MM-dd");return(e[p]||[]).filter(v=>!(t&&v.bu!==t||r.length>0&&!r.includes(v.canal)||n.length>0&&!n.includes(v.segmento)||a.length>0&&!a.includes(v.parceiro)))},[e,o,t,r,n,a]);return u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsx(Rh,{date:o,activities:h,anomalyFilters:c,onClose:()=>l(null)}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl font-bold text-slate-100 mb-2 flex items-center gap-2",children:["Jornada & Disparos",u.jsx(Gs,{content:"Viso geral do funil de converso, do disparo at emisso, com identificao automtica de gargalos e anomalias."})]}),u.jsx("p",{className:"text-sm text-slate-400",children:"Anlise profunda de converso e identificao de gargalos"}),u.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Total Activities: ",Object.values(e).reduce((p,m)=>p+m.length,0)]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[s==="anomalies"&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700 gap-1",children:[[{id:"pending",label:"Pendente"},{id:"no_sent",label:"Sem Envio"},{id:"no_delivered",label:"Sem Entrega"},{id:"no_open",label:"Sem Abertura"}].map(p=>u.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-medium rounded transition ${c.includes(p.id)?"bg-amber-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:p.label},p.id)),c.length>0&&u.jsx("button",{onClick:()=>d([]),className:"px-2 py-1 text-xs font-medium text-slate-500 hover:text-slate-300 border-l border-slate-700 ml-1 pl-2",children:"Limpar"})]}),u.jsx(Gs,{content:"Filtre as anomalias por tipo para focar em problemas especficos."})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[u.jsxs("button",{onClick:()=>i("performance"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="performance"?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[u.jsx(Qf,{size:16}),"Performance"]}),u.jsxs("button",{onClick:()=>i("anomalies"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="anomalies"?"bg-red-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[u.jsx(yu,{size:16}),"Anomalias"]})]}),u.jsx(Gs,{content:"Alterne entre viso de performance e investigao de anomalias.",side:"left"})]})]})]}),u.jsx(uge,{data:e,mode:s,anomalyFilters:c,onPointClick:l}),u.jsx(dge,{data:e,selectedBU:t,selectedCanais:r,selectedSegmentos:n,selectedParceiros:a,onDayClick:p=>{const m=new Date(`${p}T00:00:00`);l(m)}})]})},b$=qg()(Yg((e,t)=>({entries:[],addEntry:r=>e(n=>({entries:[...n.entries,{...r,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]})),updateEntry:(r,n)=>e(a=>({entries:a.entries.map(s=>s.id===r?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteEntry:r=>e(n=>({entries:n.entries.filter(a=>a.id!==r)})),getEntriesByDate:r=>t().entries.filter(n=>n.date===r),getEntriesByDateRange:(r,n)=>t().entries.filter(a=>a.date>=r&&a.date<=n),getEntriesByBU:r=>t().entries.filter(n=>n.bu===r),getExperimentos:()=>t().entries.filter(r=>r.isTesteAB),clearEntries:()=>e({entries:[]}),importEntries:r=>e(n=>{const a=new Set(n.entries.map(i=>i.id)),s=r.filter(i=>!a.has(i.id));return{entries:[...n.entries,...s]}})}),{name:"growth_brain_diary_store"})),hge="modulepreload",pge=function(e){return"/GaaS-Framework-Afinz/"+e},hO={},w$=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=pge(l),l in hO)return;hO[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":hge,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},mge=()=>{const e=[],t=[],r=new Date,n=zr(Xu(r,2)),a=rg(r,60),s=["Email","SMS","Push","WhatsApp"],i=["Ativos","Churn","Novos","Alto Valor","Inativos"],o=["B2C","B2B2C","Plurix"],l=Gu(a,n)+1;console.log(` Gerando dados simulados: ${l} dias de ${n.toLocaleDateString()} a ${a.toLocaleDateString()}`);for(let c=0;c<l;c++){const d=rg(n,c);if(Math.random()>.8&&(d.getDay()===0||d.getDay()===6))continue;const f=Math.floor(Math.random()*6)+3;for(let h=0;h<f;h++){const p=s[Math.floor(Math.random()*s.length)],m=i[Math.floor(Math.random()*i.length)],v=o[h%o.length],g=Math.floor(Math.random()*5e4)+5e3,x=Math.floor(g*(.85+Math.random()*.14)),b=Math.floor(x*(.9+Math.random()*.09)),y=Math.random()*.25+.15,_=Math.floor(b*y),k=Math.random()*.15+.02,S=Math.floor(_*k),E=Math.random()*.08+.01,C=Math.floor(S*E),j=.05+Math.random()*.1,T=x*j,N=d.toLocaleDateString("pt-BR"),A=c*100+h,P=`Campanha ${v} ${p} ${A}`,V={"Activity name / Taxonomia":P,"Data de Disparo":N,"Data Fim":N,BU:v,Canal:p,Segmento:m,Jornada:"Jornada Simulada",Parceiro:"Simulado",Safra:d.toLocaleDateString("pt-BR",{year:"2-digit",month:"2-digit"}),Oferta:"Oferta Simulada","Ordem de disparo":h+1,"Base Total":g,"Base Acionvel":x,"Taxa de Entrega":b/x,Propostas:S,"Taxa de Proposta":S/b,Aprovados:Math.floor(C*.8),"Taxa de Aprovao":.8,"Cartes Gerados":C,"Taxa de Finalizao":1,"Taxa de Converso":E,"Taxa de Abertura":y,CAC:C>0?T/C:0,"Custo Total Campanha":T,"Disparado?":"Sim",SIGLA:"SIG","SIGLA.1":"SIG1","SIGLA.2":"SIG2",Subgrupos:"Geral","Etapa de aquisio":"Converso","Perfil de Crdito":"A",Produto:"Carto",Promocional:"No","Oferta 2":"","Promocional 2":"","Custo Unitrio Oferta":0,"Custo Total da Oferta":0,"Custo unitrio do canal":j,"Custo total canal":T,"Taxa de Clique":k,"% Otimizao de base":0};t.push(V);const z={id:P,dataDisparo:new Date(d),canal:p,segmento:m,bu:v,kpis:{baseEnviada:x,baseEntregue:b,taxaEntrega:x>0?b/x*100:0,taxaAbertura:y*100,taxaConversao:E*100,custoTotal:T,cartoes:C,aprovados:Math.floor(C*.8),propostas:S,taxaPropostas:b>0?S/b*100:0,taxaAprovacao:80,emissoes:C,taxaFinalizacao:100,cac:C>0?T/C:0},parceiro:"Simulado",jornada:"Jornada Simulada",raw:V};e.push(z)}}return console.log(` Dados simulados gerados: ${e.length} atividades`),{rows:t,activities:e}},Fp="app-data",_s={async listFiles(e){const{data:t,error:r}=await ht.storage.from(Fp).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return t},async uploadFile(e,t){const r=new Date().getTime(),n=t.name.split(".").pop(),a=t.name.replace(`.${n}`,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),s=`${e}/${a}-${r}.${n}`,{data:i,error:o}=await ht.storage.from(Fp).upload(s,t,{cacheControl:"3600",upsert:!1});if(o)throw o;return i},async getDownloadUrl(e){const{data:t,error:r}=await ht.storage.from(Fp).createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},async deleteFile(e){const{error:t}=await ht.storage.from(Fp).remove([e]);if(t)throw t}};function A2(e){return new Worker("/GaaS-Framework-Afinz/assets/csvWorker-iCEzBsj0.js",{name:e==null?void 0:e.name})}const iy=()=>{const{setFrameworkData:e,activities:t}=vt(),[r,n]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState([]),l=w.useRef(!1),c=t.length,d=w.useMemo(()=>{const p={};return t.forEach(m=>{const v=Sm(m.dataDisparo);p[v]||(p[v]=[]),p[v].push(m)}),p},[t]),f=w.useCallback(p=>new Promise((m,v)=>{console.log(" Iniciando processamento do CSV (Worker):",p.name),n(!0),s(null),o([]);const g=new A2,x=new FileReader;x.onload=b=>{var k;const _={type:"PARSE_FRAMEWORK_CSV",fileContent:(k=b.target)==null?void 0:k.result};g.postMessage(_)},x.onerror=()=>{const b="Erro ao ler arquivo.";s(b),n(!1),g.terminate(),v(new Error(b))},g.onmessage=b=>{const{type:y}=b.data;if(y==="SUCCESS"){const _=b.data.data;console.log(` Worker Finalizado: ${_.activities.length} atividades`);const k=_.activities.map(S=>{const E=(typeof S.dataDisparo=="string"?RE(S.dataDisparo):S.dataDisparo)||new Date(S.dataDisparo);return E instanceof Date&&!isNaN(E.getTime())&&E.getHours()===21&&(E.setDate(E.getDate()+1),E.setHours(0)),{...S,dataDisparo:E}});_.warnings&&_.warnings.length>0&&(console.warn("Import Warnings:",_.warnings),alert(` ATENO: ${_.warnings.length} linhas foram ignoradas!
Provvel erro de data/formato.

Erros:
${_.warnings.slice(0,3).join(`
`)}`)),e(_.rows,k),n(!1),m(k)}else if(y==="ERROR"){const _=b.data.error;s(_),n(!1),v(new Error(_))}g.terminate()},g.onerror=b=>{const y="Erro no Worker: "+b.message;s(y),n(!1),g.terminate(),v(new Error(y))},x.readAsText(p)}),[e]);w.useEffect(()=>{if(l.current)return;(async()=>{l.current=!0,vt.persist&&!vt.persist.hasHydrated()&&(console.log(" Aguardando hidratao do storage..."),await new Promise(b=>{vt.persist.onFinishHydration(()=>{b()})}),console.log(" Storage hidratado."));const{activities:m,b2cData:v,setB2CData:g,setPaidMediaData:x}=vt.getState();m.length>0&&n(!1);try{console.log(" Conectando ao Supabase para buscar dados..."),w$(()=>Promise.resolve().then(()=>M9),void 0).then(async({dataService:b})=>{const[y,_,k,S]=await Promise.all([b.fetchActivities(),b.fetchB2CMetrics(),b.fetchPaidMedia(),b.fetchGoals()]);console.log(` Dados Carregados: ${y.length} Atividades, ${_.length} B2C, ${k.length} Media, ${S.length} Metas.`);const{activities:E,setActivities:C}=vt.getState();y.length>0?(C(y),console.log(" Store atualizado com atividades do Supabase (Mantendo Framework Data intacto)")):E.length===0?console.log(" Supabase vazio e Store vazio."):console.log(" Supabase vazio, mantendo atividades locais.");let j=_;if(_.length===0)try{const T=await _s.listFiles("b2c");if(T&&T.length>0){console.log(" Fallback B2C: Found in Storage:",T[0].name);const N=await _s.getDownloadUrl("b2c/"+T[0].name),V=await(await(await fetch(N)).blob()).text();j=await new Promise(z=>{const Z=new A2;Z.postMessage({type:"PARSE_B2C_CSV",fileContent:V}),Z.onmessage=G=>{G.data.type==="SUCCESS"||G.data.type==="SUCCESS_B2C"?z(G.data.data||[]):z([]),Z.terminate()},Z.onerror=()=>{z([]),Z.terminate()}}),console.log(` Fallback Loaded: ${j.length} B2C rows.`)}}catch(T){console.warn("Fallback B2C failed:",T)}g(j),x(k),vt.getState().setGoals(S),n(!1)}).catch(b=>{console.error("Erro ao importar dataService:",b),s("Fail to load data service"),n(!1)})}catch(b){console.error(" Falha no Carregamento SQL:",b),s("Erro de conexo com Banco de Dados."),n(!1)}})()},[e]);const h=w.useCallback(()=>{try{n(!0);const{rows:p,activities:m}=mge();e(p,m),n(!1)}catch(p){s("Erro ao gerar dados: "+p.message),n(!1)}},[e]);return{data:d,loading:r,error:a,totalActivities:c,processCSV:f,loadSimulatedData:h,debugHeaders:i}};function vge(){const{data:e}=iy();return w.useMemo(()=>{const t=new Set,r=new Set,n=new Set,a=new Set,s=new Set,i=new Set;return Object.values(e).forEach(o=>{o.forEach(l=>{l.bu&&t.add(l.bu),l.canal&&r.add(l.canal),l.segmento&&n.add(l.segmento),l.parceiro&&a.add(l.parceiro),l.oferta&&s.add(l.oferta),l.id&&i.add(l.id)})}),t.size===0&&["B2C","B2B2C","Plurix"].forEach(o=>t.add(o)),{bus:Array.from(t).sort(),canais:Array.from(r).sort(),segmentos:Array.from(n).sort(),parceiros:Array.from(a).sort(),ofertas:Array.from(s).sort(),campanhas:Array.from(i).sort()}},[e])}const pO=({label:e,options:t,selected:r,onChange:n,colorMap:a})=>{const s=i=>{r.includes(i)?n(r.filter(o=>o!==i)):n([...r,i])};return u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"block text-xs font-semibold text-slate-300 uppercase tracking-wider",children:e}),u.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-900/30 rounded-lg border border-slate-700/50 min-h-[60px]",children:t.length===0?u.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma opo disponvel"}):t.map(i=>{const o=r.includes(i),l=a==null?void 0:a[i];let c="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-all cursor-pointer select-none border";return o?c+=" bg-blue-600 border-blue-500 text-white shadow-md shadow-blue-900/20":c+=" bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-slate-200 hover:border-slate-600",u.jsxs("div",{onClick:()=>s(i),className:c,children:[i,o&&u.jsx(dk,{size:12,className:"stroke-[3]"})]},i)})})]})},gge={B2C:"bg-blue-500/20 text-blue-100 border-blue-500/50",B2B2C:"bg-emerald-500/20 text-emerald-100 border-emerald-500/50",Plurix:"bg-purple-500/20 text-purple-100 border-purple-500/50"},xge={B2C:"bg-blue-600 text-blue-50",B2B2C:"bg-emerald-600 text-emerald-50",Plurix:"bg-purple-600 text-purple-50"},I1={hipotese:{label:"Hiptese",icon:cH,color:"text-amber-400 bg-amber-400/10"},rodando:{label:"Rodando",icon:tv,color:"text-blue-400 bg-blue-400/10"},concluido:{label:"Concludo",icon:tn,color:"text-emerald-400 bg-emerald-400/10"},aprendizado:{label:"Aprendizado",icon:nv,color:"text-purple-400 bg-purple-400/10"}},Lp={date:new Date().toISOString().split("T")[0],bu:"B2C",title:"",description:"",segmentos:[],parceiros:[],canais:[],campanhasRelacionadas:[],isTesteAB:!1,statusExperimento:"hipotese",hipotese:"",conclusao:""},yge=()=>{var A;const{entries:e,addEntry:t,updateEntry:r,deleteEntry:n,clearEntries:a,importEntries:s}=b$(),{segmentos:i,parceiros:o}=vge(),{viewSettings:l}=vt(),c=l.filtrosGlobais,[d,f]=w.useState(Lp),[h,p]=w.useState(null),[m,v]=w.useState(null),g=(P,V="info")=>{v({message:P,type:V}),setTimeout(()=>v(null),3e3)},x=P=>{if(P.preventDefault(),!d.title.trim()){g("Anotao no pode estar vazia","error");return}t(d),f(Lp),g("Anotao adicionada com sucesso","success")},b=P=>{p(P.id),f({date:P.date,bu:P.bu,title:P.title,description:P.description||"",segmentos:P.segmentos,parceiros:P.parceiros,canais:P.canais||[],campanhasRelacionadas:P.campanhasRelacionadas||[],isTesteAB:P.isTesteAB,statusExperimento:P.statusExperimento||"hipotese",hipotese:P.hipotese||"",conclusao:P.conclusao||""})},y=()=>{if(h){if(!d.title.trim()){g("Anotao no pode estar vazia","error");return}r(h,d),p(null),f(Lp),g("Anotao atualizada com sucesso","success")}},_=()=>{p(null),f(Lp)},k=P=>{window.confirm("Tem certeza? Esta ao  irreversvel")&&(n(P),g("Anotao removida","success"))},S=()=>{window.confirm("Tem certeza que deseja apagar TODAS as anotaes? Esta ao  irreversvel")&&(a(),g("Todas as anotaes foram removidas","success"))},E=()=>{const P=["Data","BU","Ttulo","Descrio","Segmentos","Parceiros","Teste AB","Status","Hiptese","Concluso"],V=e.map(J=>[J.date,J.bu,`"${J.title.replace(/"/g,'""')}"`,`"${(J.description||"").replace(/"/g,'""')}"`,J.segmentos.join("; "),J.parceiros.join("; "),J.isTesteAB?"Sim":"No",J.statusExperimento||"",`"${(J.hipotese||"").replace(/"/g,'""')}"`,`"${(J.conclusao||"").replace(/"/g,'""')}"`]),z=[P.join(","),...V.map(J=>J.join(","))].join(`
`),Z=new Blob([z],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(Z),Y=document.createElement("a"),te=new Date().toISOString().split("T")[0];Y.href=G,Y.download=`diario_bordo_${te}.csv`,Y.click(),URL.revokeObjectURL(G),g("Dirio exportado como CSV com sucesso","success")},C=P=>{var Z;const V=(Z=P.target.files)==null?void 0:Z[0];if(!V)return;const z=new FileReader;z.onload=G=>{var Y;try{const I=(Y=G.target)==null?void 0:Y.result;if(V.name.endsWith(".csv"))g("Importao de CSV ainda no suportada completamente. Use JSON.","info");else{const te=JSON.parse(I),D=(Array.isArray(te)?te:te.entries||te.anotacoes||[]).map(R=>({id:R.id||crypto.randomUUID(),createdAt:R.createdAt||R.criadoEm||new Date().toISOString(),updatedAt:R.updatedAt||R.atualizadoEm||new Date().toISOString(),date:R.date||R.data,bu:R.bu,title:R.title||R.anotacao,description:R.description||"",segmentos:R.segmentos||[],parceiros:R.parceiros||[],canais:R.canais||[],campanhasRelacionadas:R.campanhasRelacionadas||[],isTesteAB:R.isTesteAB||R.testeAB||!1,statusExperimento:R.statusExperimento,hipotese:R.hipotese,conclusao:R.conclusao})).filter(R=>R.date&&R.title);s(D),g(`${D.length} anotaes importadas com sucesso`,"success")}}catch{g("Erro ao importar arquivo","error")}},z.readAsText(V)},j=P=>{if(!P)return"";const[V,z,Z]=P.split("-");return new Date(parseInt(V),parseInt(z)-1,parseInt(Z)).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})},N=[...e.filter(P=>!(c.bu.length>0&&!c.bu.includes(P.bu)||c.segmentos.length>0&&!P.segmentos.some(z=>c.segmentos.includes(z))||c.parceiros.length>0&&!P.parceiros.some(z=>c.parceiros.includes(z))))].sort((P,V)=>V.date.localeCompare(P.date));return u.jsxs("div",{className:"flex flex-col flex-1 min-h-0 bg-gradient-to-br from-slate-900 to-slate-800 p-4 gap-4 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[u.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Dirio de Bordo"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("label",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-600/80 hover:bg-emerald-600 text-emerald-50 rounded text-xs font-medium cursor-pointer transition",children:[u.jsx(Gg,{size:14}),"Importar JSON",u.jsx("input",{type:"file",accept:".json",onChange:C,className:"hidden"})]}),u.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-orange-600/80 hover:bg-orange-600 text-orange-50 rounded text-xs font-medium transition",title:"Exportar como CSV",children:[u.jsx(X0,{size:14}),"Exportar"]}),u.jsxs("button",{onClick:S,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-600/80 hover:bg-red-600 text-red-50 rounded text-xs font-medium transition",title:"Apagar todas as anotaes",children:[u.jsx(Yl,{size:14}),"Apagar Tudo"]})]})]}),u.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 shrink-0 overflow-y-auto max-h-[400px]",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Data"}),u.jsx("input",{type:"date",value:d.date,onChange:P=>f({...d,date:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"BU"}),u.jsxs("select",{value:d.bu,onChange:P=>f({...d,bu:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[u.jsx("option",{value:"B2C",children:"B2C"}),u.jsx("option",{value:"B2B2C",children:"B2B2C"}),u.jsx("option",{value:"Plurix",children:"Plurix"})]})]}),u.jsx("div",{className:"flex items-end",children:u.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-700 px-3 py-1.5 rounded border border-slate-600 w-full hover:bg-slate-600 transition",children:[u.jsx("input",{type:"checkbox",checked:d.isTesteAB,onChange:P=>f({...d,isTesteAB:P.target.checked}),className:"rounded border-slate-500 text-blue-500 focus:ring-blue-500 bg-slate-800"}),u.jsxs("span",{className:"text-xs font-semibold text-slate-200 flex items-center gap-1",children:[u.jsx(vT,{size:14,className:d.isTesteAB?"text-blue-400":"text-slate-400"})," Teste A/B?"]})]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Anotao Principal"}),u.jsx("textarea",{value:d.title,onChange:P=>f({...d,title:P.target.value}),placeholder:"Descreva o evento ou observao...",className:"w-full px-2 py-2 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none",style:{minHeight:"60px"}})]}),d.isTesteAB&&u.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded p-3 space-y-3 animate-in fade-in slide-in-from-top-2",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Status do Experimento"}),u.jsxs("select",{value:d.statusExperimento,onChange:P=>f({...d,statusExperimento:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[u.jsx("option",{value:"hipotese",children:" Hiptese"}),u.jsx("option",{value:"rodando",children:" Rodando"}),u.jsx("option",{value:"concluido",children:" Concludo"}),u.jsx("option",{value:"aprendizado",children:" Aprendizado"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Campanhas Relacionadas"}),u.jsx("input",{type:"text",value:(A=d.campanhasRelacionadas)==null?void 0:A.join(", "),onChange:P=>f({...d,campanhasRelacionadas:P.target.value.split(",").map(V=>V.trim()).filter(Boolean)}),placeholder:"Ex: Campanha X, Campanha Y",className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Hiptese"}),u.jsx("textarea",{value:d.hipotese,onChange:P=>f({...d,hipotese:P.target.value}),placeholder:"O que esperamos que acontea?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Concluso / Resultados"}),u.jsx("textarea",{value:d.conclusao,onChange:P=>f({...d,conclusao:P.target.value}),placeholder:"O que aprendemos?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsx(pO,{label:"Segmentos",options:i,selected:d.segmentos,onChange:P=>f({...d,segmentos:P})}),u.jsx(pO,{label:"Parceiros",options:o,selected:d.parceiros,onChange:P=>f({...d,parceiros:P})})]}),u.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[h&&u.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-slate-50 rounded text-sm font-semibold transition",children:"Cancelar"}),u.jsxs("button",{onClick:h?y:x,className:`px-6 py-2 rounded text-sm font-semibold transition flex items-center justify-center gap-2 shadow-lg ${h?"bg-green-600 hover:bg-green-700 text-green-50 shadow-green-900/20":"bg-blue-600 hover:bg-blue-700 text-blue-50 shadow-blue-900/20"}`,children:[h?u.jsx(tn,{size:16}):u.jsx(hk,{size:16}),h?"Salvar Alteraes":"Adicionar Registro"]})]})]})}),u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-3 pr-2",children:N.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-slate-400",children:[u.jsx("p",{className:"text-xs",children:" Nenhuma anotao ainda"}),u.jsx("p",{className:"text-xs italic mt-1",children:"Comece adicionando uma acima"})]}):N.map(P=>u.jsx("div",{className:`${gge[P.bu]} border rounded-lg overflow-hidden transition hover:shadow-lg relative group`,children:u.jsxs("div",{className:"p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs font-semibold text-slate-200",children:j(P.date)}),u.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${xge[P.bu]}`,children:P.bu}),P.isTesteAB&&u.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30",children:[u.jsx(vT,{size:12}),"Teste A/B"]}),P.isTesteAB&&P.statusExperimento&&u.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border border-white/10 ${I1[P.statusExperimento].color}`,children:[Wa.createElement(I1[P.statusExperimento].icon,{size:12}),I1[P.statusExperimento].label]})]}),u.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>b(P),className:"p-1.5 hover:bg-white/10 rounded transition text-slate-300 hover:text-white",title:"Editar",children:u.jsx(fk,{size:14})}),u.jsx("button",{onClick:()=>k(P.id),className:"p-1.5 hover:bg-red-500/20 rounded transition text-slate-300 hover:text-red-400",title:"Deletar",children:u.jsx(Yl,{size:14})})]})]}),u.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap text-slate-200 mb-3",children:P.title}),P.description&&u.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap text-slate-400 mb-3 border-l-2 border-slate-600 pl-2",children:P.description}),P.isTesteAB&&u.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 mb-3 bg-black/20 p-3 rounded border border-white/5",children:[P.hipotese&&u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Hiptese"}),u.jsx("p",{className:"text-xs text-slate-300",children:P.hipotese})]}),P.conclusao&&u.jsxs("div",{children:[u.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Concluso"}),u.jsx("p",{className:"text-xs text-slate-300",children:P.conclusao})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 pt-2 border-t border-white/5",children:[P.campanhasRelacionadas&&P.campanhasRelacionadas.length>0&&u.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mr-2",children:[u.jsx(BH,{size:12}),P.campanhasRelacionadas.join(", ")]}),P.segmentos&&P.segmentos.length>0&&u.jsxs("span",{className:"text-xs text-slate-400",children:[" ",P.segmentos.join(", ")]}),P.parceiros&&P.parceiros.length>0&&u.jsxs("span",{className:"text-xs text-slate-400",children:[" ",P.parceiros.join(", ")]})]})]})},P.id))}),m&&u.jsx("div",{className:`fixed bottom-4 right-4 px-4 py-2 rounded text-xs font-medium transition-all shadow-lg z-50 ${m.type==="success"?"bg-emerald-600 text-emerald-50":m.type==="error"?"bg-red-600 text-red-50":"bg-blue-600 text-blue-50"}`,children:m.message})]})},bge=({initialMetrics:e,onCalculate:t})=>{const[r,n]=w.useState({visitors:(e==null?void 0:e.controle.disparos)||0,conversions:(e==null?void 0:e.controle.conversoes)||0}),[a,s]=w.useState({visitors:(e==null?void 0:e.variante.disparos)||0,conversions:(e==null?void 0:e.variante.conversoes)||0}),[i,o]=w.useState(null);w.useEffect(()=>{e&&(n({visitors:e.controle.disparos,conversions:e.controle.conversoes}),s({visitors:e.variante.disparos,conversions:e.variante.conversoes}))},[e]);const l=()=>{const c=Number(r.visitors),d=Number(r.conversions),f=Number(a.visitors),h=Number(a.conversions);if(c===0||f===0){o(null);return}const p=d/c,m=h/f,v=Math.sqrt(p*(1-p)/c+m*(1-m)/f),g=Math.abs((p-m)/v);let x=0;g>=2.576?x=99:g>=1.96?x=95:g>=1.645?x=90:x=Math.round((1-Math.exp(-.7*g*g))*100);const b=x>=90,y=p>m?"control":"variant";o({confidence:x,isSignificant:b,winner:b?y:null}),t&&t({controle:{disparos:c,conversoes:d},variante:{disparos:f,conversoes:h}})};return u.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[u.jsx(Cl,{size:16,className:"text-blue-400"}),"Calculadora de Significncia"]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Controle (A)"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),u.jsx("input",{type:"number",value:r.visitors,onChange:c=>n({...r,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),u.jsx("input",{type:"number",value:r.conversions,onChange:c=>n({...r,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),u.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",r.visitors>0?(r.conversions/r.visitors*100).toFixed(2):0,"%"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Variante (B)"}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),u.jsx("input",{type:"number",value:a.visitors,onChange:c=>s({...a,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),u.jsx("input",{type:"number",value:a.conversions,onChange:c=>s({...a,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),u.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",a.visitors>0?(a.conversions/a.visitors*100).toFixed(2):0,"%"]})]})]}),u.jsx("button",{onClick:l,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition mb-4",children:"Calcular"}),i&&u.jsxs("div",{className:`p-3 rounded-lg border ${i.isSignificant?"bg-emerald-900/20 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.isSignificant?u.jsx(tn,{size:16,className:"text-emerald-400"}):u.jsx(Ds,{size:16,className:"text-slate-400"}),u.jsx("span",{className:`font-bold ${i.isSignificant?"text-emerald-400":"text-slate-300"}`,children:i.isSignificant?"Resultado Significativo!":"Inconclusivo"})]}),u.jsxs("p",{className:"text-xs text-slate-400",children:["Confiana estatstica: ",u.jsxs("span",{className:"text-slate-200 font-bold",children:[i.confidence,"%"]})]}),i.isSignificant&&u.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Vencedor: ",u.jsx("span",{className:"text-emerald-400 font-bold uppercase",children:i.winner==="control"?"Controle (A)":"Variante (B)"})]})]})]})},mO=[{id:"hipotese",label:"Hiptese",color:"border-amber-500/50"},{id:"rodando",label:"Rodando",color:"border-blue-500/50"},{id:"concluido",label:"Concludo",color:"border-emerald-500/50"},{id:"aprendizado",label:"Aprendizado",color:"border-purple-500/50"}],wge=()=>{const{getExperimentos:e,updateEntry:t,addEntry:r}=b$(),n=e(),[a,s]=w.useState(null),i=(l,c)=>{t(l,{statusExperimento:c})},o=()=>{r({date:new Date().toISOString().split("T")[0],bu:"B2C",title:"Novo Experimento",description:"",segmentos:[],parceiros:[],isTesteAB:!0,statusExperimento:"hipotese",hipotese:"",conclusao:""})};return u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(qI,{className:"text-purple-400"}),"Gestor de Experimentos"]}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Gerencie seus testes A/B e valide hipteses."})]}),u.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition",children:[u.jsx(hk,{size:18}),"Novo Experimento"]})]}),u.jsx("div",{className:"flex-1 grid grid-cols-4 gap-4 overflow-hidden min-h-0",children:mO.map(l=>u.jsxs("div",{className:"flex flex-col bg-slate-900/50 rounded-xl border border-slate-800 h-full overflow-hidden",children:[u.jsxs("div",{className:`p-3 border-b border-slate-800 flex items-center justify-between border-t-2 ${l.color}`,children:[u.jsx("span",{className:"font-bold text-slate-300 text-sm uppercase",children:l.label}),u.jsx("span",{className:"text-xs bg-slate-800 px-2 py-0.5 rounded-full text-slate-400",children:n.filter(c=>c.statusExperimento===l.id).length})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:n.filter(c=>c.statusExperimento===l.id).map(c=>u.jsxs("div",{onClick:()=>s(c),className:"bg-slate-800 p-3 rounded-lg border border-slate-700 hover:border-blue-500/50 cursor-pointer transition group relative",children:[u.jsxs("div",{className:"flex items-start justify-between mb-2",children:[u.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${c.bu==="B2C"?"bg-blue-900/30 border-blue-800 text-blue-300":c.bu==="B2B2C"?"bg-emerald-900/30 border-emerald-800 text-emerald-300":"bg-purple-900/30 border-purple-800 text-purple-300"}`,children:c.bu}),u.jsx("span",{className:"text-[10px] text-slate-500",children:c.date})]}),u.jsx("h4",{className:"text-sm font-medium text-slate-200 mb-1 line-clamp-2",children:c.title}),c.hipotese&&u.jsxs("p",{className:"text-xs text-slate-400 line-clamp-2 mb-2 italic",children:['"',c.hipotese,'"']}),u.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:l.id!=="aprendizado"&&u.jsx("button",{onClick:d=>{d.stopPropagation();const f=l.id==="hipotese"?"rodando":l.id==="rodando"?"concluido":"aprendizado";i(c.id,f)},className:"p-1 bg-slate-700 hover:bg-blue-600 rounded text-slate-300 hover:text-white",title:"Avanar",children:u.jsx(ck,{size:12})})})]},c.id))})]},l.id))}),a&&u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:u.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl rounded-2xl border border-slate-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("input",{type:"text",value:a.title,onChange:l=>t(a.id,{title:l.target.value}),className:"bg-transparent text-xl font-bold text-white border-none focus:ring-0 p-0 w-full",placeholder:"Nome do Experimento"}),u.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[u.jsxs("select",{value:a.bu,onChange:l=>t(a.id,{bu:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:[u.jsx("option",{value:"B2C",children:"B2C"}),u.jsx("option",{value:"B2B2C",children:"B2B2C"}),u.jsx("option",{value:"Plurix",children:"Plurix"})]}),u.jsx("select",{value:a.statusExperimento,onChange:l=>t(a.id,{statusExperimento:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:mO.map(l=>u.jsx("option",{value:l.id,children:l.label},l.id))})]})]}),u.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:u.jsx(yH,{size:24})})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Hiptese"}),u.jsx("textarea",{value:a.hipotese||"",onChange:l=>t(a.id,{hipotese:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"Se fizermos X, esperamos Y..."})]}),u.jsxs("div",{className:"bg-slate-950/50 rounded-xl p-4 border border-slate-800",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsx("h3",{className:"font-bold text-slate-200",children:"Dados & Resultados"})}),u.jsx(bge,{initialMetrics:a.metrics,onCalculate:l=>t(a.id,{metrics:l})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Concluso / Aprendizado"}),u.jsx("textarea",{value:a.conclusao||"",onChange:l=>t(a.id,{conclusao:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"O que aprendemos com este teste?"})]})]}),u.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end",children:u.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Salvar e Fechar"})})]})})]})},_ge=()=>{const[e,t]=w.useState("diario");return u.jsxs("div",{className:"flex flex-col h-full bg-[#0F172A]",children:[u.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900/50 px-6 pt-4",children:[u.jsxs("button",{onClick:()=>t("diario"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="diario"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[u.jsx(HI,{size:18}),u.jsx("span",{className:"font-medium",children:"Dirio de Bordo"})]}),u.jsxs("button",{onClick:()=>t("experimentos"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="experimentos"?"border-purple-500 text-purple-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[u.jsx(qI,{size:18}),u.jsx("span",{className:"font-medium",children:"Gestor de Experimentos"})]})]}),u.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e==="diario"?u.jsx(yge,{}):u.jsx(wge,{})})]})},_$=w.createContext(void 0),kge=({children:e})=>{const[t,r]=w.useState(()=>zr(new Date)),[n,a]=w.useState(()=>Mo(new Date)),[s,i]=w.useState("thisMonth"),[o,l]=w.useState(!1),[c,d]=w.useState(null);w.useEffect(()=>{console.log("PeriodProvider mounted. Force-setting preset to 'thisMonth'."),h("thisMonth")},[]);const f=(m,v,g="custom")=>{console.log("setPeriod called:",{start:m,end:v,newPreset:g}),r(m),a(v),i(g)},h=m=>{const v=new Date;let g=v,x=v;switch(m){case"today":g=v,x=v;break;case"yesterday":g=Ft(v,1),x=Ft(v,1);break;case"thisWeek":g=Ft(v,v.getDay());break;case"last7":g=Ft(v,6);break;case"last14":g=Ft(v,13);break;case"last28":g=Ft(v,27);break;case"last30":g=Ft(v,29);break;case"last90":g=Ft(v,89);break;case"thisMonth":g=zr(v),x=Mo(v);break;case"lastMonth":g=zr(Xu(v,1)),x=Mo(Xu(v,1));break;case"thisYear":g=new Date(v.getFullYear(),0,1);break;case"custom":return}r(g),a(x),i(m)},p=m=>{l(m),m&&!c?d("previousPeriod"):m||d(null)};return u.jsx(_$.Provider,{value:{startDate:t,endDate:n,preset:s,compareEnabled:o,compareMode:c,setPeriod:f,setPreset:h,toggleCompare:p},children:e})},mc=()=>{const e=w.useContext(_$);if(e===void 0)throw new Error("usePeriod must be used within a PeriodProvider");return e};var k$={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Z7,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function d(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(j){var T=k(j);T.chunkSize=parseInt(T.chunkSize),j.step||j.chunk||(T.chunkSize=null),this._handle=new v(T),(this._handle.streamer=this)._config=T}).call(this,C),this.parseChunk=function(j,T){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let P=this._config.newline;P||(A=this._config.quoteChar||'"',P=this._handle.guessLineEndings(j,A)),j=[...j.split(P).slice(N)].join(P)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(j))!==void 0&&(j=A),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+j,A=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(j=A.meta.cursor,N=(this._finished||(this._partialLine=N.substring(j-this._baseIndex),this._baseIndex=j),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:A,workerId:c.WORKER_ID,finished:N});else if(E(this._config.chunk)&&!T){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!N||!E(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(j){E(this._config.error)?this._config.error(j):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:j,finished:!1})}}function f(C){var j;(C=C||{}).chunkSize||(C.chunkSize=c.RemoteChunkSize),d.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(T){this._input=T,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(j=new XMLHttpRequest,this._config.withCredentials&&(j.withCredentials=this._config.withCredentials),s||(j.onload=S(this._chunkLoaded,this),j.onerror=S(this._chunkError,this)),j.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var T,N=this._config.downloadRequestHeaders;for(T in N)j.setRequestHeader(T,N[T])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,j.setRequestHeader("Range","bytes="+this._start+"-"+A));try{j.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&j.status===0&&this._chunkError()}},this._chunkLoaded=function(){j.readyState===4&&(j.status<200||400<=j.status?this._chunkError():(this._start+=this._config.chunkSize||j.responseText.length,this._finished=!this._config.chunkSize||this._start>=(T=>(T=T.getResponseHeader("Content-Range"))!==null?parseInt(T.substring(T.lastIndexOf("/")+1)):-1)(j),this.parseChunk(j.responseText)))},this._chunkError=function(T){T=j.statusText||T,this._sendError(new Error(T))}}function h(C){(C=C||{}).chunkSize||(C.chunkSize=c.LocalChunkSize),d.call(this,C);var j,T,N=typeof FileReader<"u";this.stream=function(A){this._input=A,T=A.slice||A.webkitSlice||A.mozSlice,N?((j=new FileReader).onload=S(this._chunkLoaded,this),j.onerror=S(this._chunkError,this)):j=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),A=T.call(A,this._start,P)),j.readAsText(A,this._config.encoding));N||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(j.error)}}function p(C){var j;d.call(this,C=C||{}),this.stream=function(T){return j=T,this._nextChunk()},this._nextChunk=function(){var T,N;if(!this._finished)return T=this._config.chunkSize,j=T?(N=j.substring(0,T),j.substring(T)):(N=j,""),this._finished=!j,this.parseChunk(N)}}function m(C){d.call(this,C=C||{});var j=[],T=!0,N=!1;this.pause=function(){d.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){d.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&j.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),j.length?this.parseChunk(j.shift()):T=!0},this._streamData=S(function(A){try{j.push(typeof A=="string"?A:A.toString(this._config.encoding)),T&&(T=!1,this._checkIsFinished(),this.parseChunk(j.shift()))}catch(P){this._streamError(P)}},this),this._streamError=S(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=S(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=S(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var j,T,N,A,P=Math.pow(2,53),V=-P,z=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,G=this,Y=0,I=0,te=!1,J=!1,D=[],R={data:[],errors:[],meta:{}};function B(de){return C.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function H(){if(R&&N&&(ue("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),N=!1),C.skipEmptyLines&&(R.data=R.data.filter(function(M){return!B(M)})),ee()){let M=function(ke,pe){E(C.transformHeader)&&(ke=C.transformHeader(ke,pe)),D.push(ke)};var le=M;if(R)if(Array.isArray(R.data[0])){for(var de=0;ee()&&de<R.data.length;de++)R.data[de].forEach(M);R.data.splice(0,1)}else R.data.forEach(M)}function q(M,ke){for(var pe=C.header?{}:[],_e=0;_e<M.length;_e++){var X=_e,Q=M[_e],Q=((ce,ye)=>(Ce=>(C.dynamicTypingFunction&&C.dynamicTyping[Ce]===void 0&&(C.dynamicTyping[Ce]=C.dynamicTypingFunction(Ce)),(C.dynamicTyping[Ce]||C.dynamicTyping)===!0))(ce)?ye==="true"||ye==="TRUE"||ye!=="false"&&ye!=="FALSE"&&((Ce=>{if(z.test(Ce)&&(Ce=parseFloat(Ce),V<Ce&&Ce<P))return 1})(ye)?parseFloat(ye):Z.test(ye)?new Date(ye):ye===""?null:ye):ye)(X=C.header?_e>=D.length?"__parsed_extra":D[_e]:X,Q=C.transform?C.transform(Q,X):Q);X==="__parsed_extra"?(pe[X]=pe[X]||[],pe[X].push(Q)):pe[X]=Q}return C.header&&(_e>D.length?ue("FieldMismatch","TooManyFields","Too many fields: expected "+D.length+" fields but parsed "+_e,I+ke):_e<D.length&&ue("FieldMismatch","TooFewFields","Too few fields: expected "+D.length+" fields but parsed "+_e,I+ke)),pe}var re;R&&(C.header||C.dynamicTyping||C.transform)&&(re=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(q),re=R.data.length):R.data=q(R.data,0),C.header&&R.meta&&(R.meta.fields=D),I+=re)}function ee(){return C.header&&D.length===0}function ue(de,q,re,le){de={type:de,code:q,message:re},le!==void 0&&(de.row=le),R.errors.push(de)}E(C.step)&&(A=C.step,C.step=function(de){R=de,ee()?H():(H(),R.data.length!==0&&(Y+=de.data.length,C.preview&&Y>C.preview?T.abort():(R.data=R.data[0],A(R,G))))}),this.parse=function(de,q,re){var le=C.quoteChar||'"',le=(C.newline||(C.newline=this.guessLineEndings(de,le)),N=!1,C.delimiter?E(C.delimiter)&&(C.delimiter=C.delimiter(de),R.meta.delimiter=C.delimiter):((le=((M,ke,pe,_e,X)=>{var Q,ce,ye,Ce;X=X||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var We=0;We<X.length;We++){for(var $e,bt=X[We],Ge=0,Mt=0,ut=0,Yt=(ye=void 0,new x({comments:_e,delimiter:bt,newline:ke,preview:10}).parse(M)),wt=0;wt<Yt.data.length;wt++)pe&&B(Yt.data[wt])?ut++:($e=Yt.data[wt].length,Mt+=$e,ye===void 0?ye=$e:0<$e&&(Ge+=Math.abs($e-ye),ye=$e));0<Yt.data.length&&(Mt/=Yt.data.length-ut),(ce===void 0||Ge<=ce)&&(Ce===void 0||Ce<Mt)&&1.99<Mt&&(ce=Ge,Q=bt,Ce=Mt)}return{successful:!!(C.delimiter=Q),bestDelimiter:Q}})(de,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=le.bestDelimiter:(N=!0,C.delimiter=c.DefaultDelimiter),R.meta.delimiter=C.delimiter),k(C));return C.preview&&C.header&&le.preview++,j=de,T=new x(le),R=T.parse(j,q,re),H(),te?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,T.abort(),j=E(C.chunk)?"":j.substring(T.getCharIndex())},this.resume=function(){G.streamer._halted?(te=!1,G.streamer.parseChunk(j,!0)):setTimeout(G.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,T.abort(),R.meta.aborted=!0,E(C.complete)&&C.complete(R),j=""},this.guessLineEndings=function(M,le){M=M.substring(0,1048576);var le=new RegExp(g(le)+"([^]*?)"+g(le),"gm"),re=(M=M.replace(le,"")).split("\r"),le=M.split(`
`),M=1<le.length&&le[0].length<re[0].length;if(re.length===1||M)return`
`;for(var ke=0,pe=0;pe<re.length;pe++)re[pe][0]===`
`&&ke++;return ke>=re.length/2?`\r
`:"\r"}}function g(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(C){var j=(C=C||{}).delimiter,T=C.newline,N=C.comments,A=C.step,P=C.preview,V=C.fastMode,z=null,Z=!1,G=C.quoteChar==null?'"':C.quoteChar,Y=G;if(C.escapeChar!==void 0&&(Y=C.escapeChar),(typeof j!="string"||-1<c.BAD_DELIMITERS.indexOf(j))&&(j=","),N===j)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=!1),T!==`
`&&T!=="\r"&&T!==`\r
`&&(T=`
`);var I=0,te=!1;this.parse=function(J,D,R){if(typeof J!="string")throw new Error("Input must be a string");var B=J.length,H=j.length,ee=T.length,ue=N.length,de=E(A),q=[],re=[],le=[],M=I=0;if(!J)return Ge();if(V||V!==!1&&J.indexOf(G)===-1){for(var ke=J.split(T),pe=0;pe<ke.length;pe++){if(le=ke[pe],I+=le.length,pe!==ke.length-1)I+=T.length;else if(R)return Ge();if(!N||le.substring(0,ue)!==N){if(de){if(q=[],Ce(le.split(j)),Mt(),te)return Ge()}else Ce(le.split(j));if(P&&P<=pe)return q=q.slice(0,P),Ge(!0)}}return Ge()}for(var _e=J.indexOf(j,I),X=J.indexOf(T,I),Q=new RegExp(g(Y)+g(G),"g"),ce=J.indexOf(G,I);;)if(J[I]===G)for(ce=I,I++;;){if((ce=J.indexOf(G,ce+1))===-1)return R||re.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:q.length,index:I}),$e();if(ce===B-1)return $e(J.substring(I,ce).replace(Q,G));if(G===Y&&J[ce+1]===Y)ce++;else if(G===Y||ce===0||J[ce-1]!==Y){_e!==-1&&_e<ce+1&&(_e=J.indexOf(j,ce+1));var ye=We((X=X!==-1&&X<ce+1?J.indexOf(T,ce+1):X)===-1?_e:Math.min(_e,X));if(J.substr(ce+1+ye,H)===j){le.push(J.substring(I,ce).replace(Q,G)),J[I=ce+1+ye+H]!==G&&(ce=J.indexOf(G,I)),_e=J.indexOf(j,I),X=J.indexOf(T,I);break}if(ye=We(X),J.substring(ce+1+ye,ce+1+ye+ee)===T){if(le.push(J.substring(I,ce).replace(Q,G)),bt(ce+1+ye+ee),_e=J.indexOf(j,I),ce=J.indexOf(G,I),de&&(Mt(),te))return Ge();if(P&&q.length>=P)return Ge(!0);break}re.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:q.length,index:I}),ce++}}else if(N&&le.length===0&&J.substring(I,I+ue)===N){if(X===-1)return Ge();I=X+ee,X=J.indexOf(T,I),_e=J.indexOf(j,I)}else if(_e!==-1&&(_e<X||X===-1))le.push(J.substring(I,_e)),I=_e+H,_e=J.indexOf(j,I);else{if(X===-1)break;if(le.push(J.substring(I,X)),bt(X+ee),de&&(Mt(),te))return Ge();if(P&&q.length>=P)return Ge(!0)}return $e();function Ce(ut){q.push(ut),M=I}function We(ut){var Yt=0;return Yt=ut!==-1&&(ut=J.substring(ce+1,ut))&&ut.trim()===""?ut.length:Yt}function $e(ut){return R||(ut===void 0&&(ut=J.substring(I)),le.push(ut),I=B,Ce(le),de&&Mt()),Ge()}function bt(ut){I=ut,Ce(le),le=[],X=J.indexOf(T,I)}function Ge(ut){if(C.header&&!D&&q.length&&!Z){var Yt=q[0],wt=Object.create(null),ln=new Set(Yt);let Be=!1;for(let ot=0;ot<Yt.length;ot++){let dt=Yt[ot];if(wt[dt=E(C.transformHeader)?C.transformHeader(dt,ot):dt]){let _t,Oa=wt[dt];for(;_t=dt+"_"+Oa,Oa++,ln.has(_t););ln.add(_t),Yt[ot]=_t,wt[dt]++,Be=!0,(z=z===null?{}:z)[_t]=dt}else wt[dt]=1,Yt[ot]=dt;ln.add(dt)}Be&&console.warn("Duplicate headers found and renamed."),Z=!0}return{data:q,errors:re,meta:{delimiter:j,linebreak:T,aborted:te,truncated:!!ut,cursor:M+(D||0),renamedHeaders:z}}}function Mt(){A(Ge()),q=[],re=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return I}}function b(C){var j=C.data,T=o[j.workerId],N=!1;if(j.error)T.userError(j.error,j.file);else if(j.results&&j.results.data){var A={abort:function(){N=!0,y(j.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(E(T.userStep)){for(var P=0;P<j.results.data.length&&(T.userStep({data:j.results.data[P],errors:j.results.errors,meta:j.results.meta},A),!N);P++);delete j.results}else E(T.userChunk)&&(T.userChunk(j.results,A,j.file),delete j.results)}j.finished&&!N&&y(j.workerId,j.results)}function y(C,j){var T=o[C];E(T.userComplete)&&T.userComplete(j),T.terminate(),delete o[C]}function _(){throw new Error("Not implemented.")}function k(C){if(typeof C!="object"||C===null)return C;var j,T=Array.isArray(C)?[]:{};for(j in C)T[j]=k(C[j]);return T}function S(C,j){return function(){C.apply(j,arguments)}}function E(C){return typeof C=="function"}return c.parse=function(C,j){var T=(j=j||{}).dynamicTyping||!1;if(E(T)&&(j.dynamicTypingFunction=T,T={}),j.dynamicTyping=T,j.transform=!!E(j.transform)&&j.transform,!j.worker||!c.WORKERS_SUPPORTED)return T=null,c.NODE_STREAM_INPUT,typeof C=="string"?(C=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(C),T=new(j.download?f:p)(j)):C.readable===!0&&E(C.read)&&E(C.on)?T=new m(j):(n.File&&C instanceof File||C instanceof Object)&&(T=new h(j)),T.stream(C);(T=(()=>{var N;return!!c.WORKERS_SUPPORTED&&(N=(()=>{var A=n.URL||n.webkitURL||null,P=r.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(N=new n.Worker(N)).onmessage=b,N.id=l++,o[N.id]=N)})()).userStep=j.step,T.userChunk=j.chunk,T.userComplete=j.complete,T.userError=j.error,j.step=E(j.step),j.chunk=E(j.chunk),j.complete=E(j.complete),j.error=E(j.error),delete j.worker,T.postMessage({input:C,config:j,workerId:T.id})},c.unparse=function(C,j){var T=!1,N=!0,A=",",P=`\r
`,V='"',z=V+V,Z=!1,G=null,Y=!1,I=((()=>{if(typeof j=="object"){if(typeof j.delimiter!="string"||c.BAD_DELIMITERS.filter(function(D){return j.delimiter.indexOf(D)!==-1}).length||(A=j.delimiter),typeof j.quotes!="boolean"&&typeof j.quotes!="function"&&!Array.isArray(j.quotes)||(T=j.quotes),typeof j.skipEmptyLines!="boolean"&&typeof j.skipEmptyLines!="string"||(Z=j.skipEmptyLines),typeof j.newline=="string"&&(P=j.newline),typeof j.quoteChar=="string"&&(V=j.quoteChar),typeof j.header=="boolean"&&(N=j.header),Array.isArray(j.columns)){if(j.columns.length===0)throw new Error("Option columns is empty");G=j.columns}j.escapeChar!==void 0&&(z=j.escapeChar+V),j.escapeFormulae instanceof RegExp?Y=j.escapeFormulae:typeof j.escapeFormulae=="boolean"&&j.escapeFormulae&&(Y=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(V),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return te(null,C,Z);if(typeof C[0]=="object")return te(G||Object.keys(C[0]),C,Z)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||G),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),te(C.fields||[],C.data||[],Z);throw new Error("Unable to serialize unrecognized input");function te(D,R,B){var H="",ee=(typeof D=="string"&&(D=JSON.parse(D)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(D)&&0<D.length),ue=!Array.isArray(R[0]);if(ee&&N){for(var de=0;de<D.length;de++)0<de&&(H+=A),H+=J(D[de],de);0<R.length&&(H+=P)}for(var q=0;q<R.length;q++){var re=(ee?D:R[q]).length,le=!1,M=ee?Object.keys(R[q]).length===0:R[q].length===0;if(B&&!ee&&(le=B==="greedy"?R[q].join("").trim()==="":R[q].length===1&&R[q][0].length===0),B==="greedy"&&ee){for(var ke=[],pe=0;pe<re;pe++){var _e=ue?D[pe]:pe;ke.push(R[q][_e])}le=ke.join("").trim()===""}if(!le){for(var X=0;X<re;X++){0<X&&!M&&(H+=A);var Q=ee&&ue?D[X]:X;H+=J(R[q][Q],X)}q<R.length-1&&(!B||0<re&&!M)&&(H+=P)}}return H}function J(D,R){var B,H;return D==null?"":D.constructor===Date?JSON.stringify(D).slice(1,25):(H=!1,Y&&typeof D=="string"&&Y.test(D)&&(D="'"+D,H=!0),B=D.toString().replace(I,z),(H=H||T===!0||typeof T=="function"&&T(D,R)||Array.isArray(T)&&T[R]||((ee,ue)=>{for(var de=0;de<ue.length;de++)if(-1<ee.indexOf(ue[de]))return!0;return!1})(B,c.BAD_DELIMITERS)||-1<B.indexOf(A)||B.charAt(0)===" "||B.charAt(B.length-1)===" ")?V+B+V:B)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=x,c.ParserHandle=v,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(C){var j=C.config||{},T=[];return this.each(function(P){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)T.push({file:this.files[V],inputElem:this,instanceConfig:a.extend({},j)})}),N(),this;function N(){if(T.length===0)E(C.complete)&&C.complete();else{var P,V,z,Z,G=T[0];if(E(C.before)){var Y=C.before(G.file,G.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return P="AbortError",V=G.file,z=G.inputElem,Z=Y.reason,void(E(C.error)&&C.error({name:P},V,z,Z));if(Y.action==="skip")return void A();typeof Y.config=="object"&&(G.instanceConfig=a.extend(G.instanceConfig,Y.config))}else if(Y==="skip")return void A()}var I=G.instanceConfig.complete;G.instanceConfig.complete=function(te){E(I)&&I(te,G.file,G.inputElem),A()},c.parse(G.file,G.instanceConfig)}}function A(){T.splice(0,1),N()}}),i&&(n.onmessage=function(C){C=C.data,c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=c.parse(C.input,C.config))&&n.postMessage({workerId:c.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(d.prototype)).constructor=f,(h.prototype=Object.create(d.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(d.prototype)).constructor=m,c})})(k$);var Sge=k$.exports;const S$=si(Sge),vO="growth_brain_versions",gO=10,Ege=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState(0);w.useEffect(()=>{try{const f=localStorage.getItem(vO);if(f){const h=JSON.parse(f);t(h.versions||[]),n(h.currentVersionId||null)}i()}catch(f){console.error("Failed to load versions from localStorage",f)}},[]),w.useEffect(()=>{if(e.length>0||r)try{const h=JSON.stringify({currentVersionId:r,versions:e});localStorage.setItem(vO,h),i()}catch(f){console.warn("Failed to save versions to localStorage (quota may be exceeded):",f)}},[e,r]);const i=()=>{let f=0;for(const h in localStorage)localStorage.hasOwnProperty(h)&&(f+=localStorage[h].length*2/1024/1024);s(f)},o=w.useCallback((f,h,p,m=0)=>{if(e.length>=gO)throw new Error(`Limite de ${gO} verses atingido. Exclua verses antigas.`);const v={id:crypto.randomUUID(),name:f,description:p,createdAt:new Date().toISOString(),createdBy:"User",rowCount:h.length,editCount:m,data:h};return t(g=>[v,...g]),n(v.id),v},[e]),l=w.useCallback(f=>{const h=e.find(p=>p.id===f);if(!h)throw new Error("Verso no encontrada");return n(f),h.data},[e]),c=w.useCallback(f=>{if(f===r)throw new Error("No  possvel excluir a verso atual ativa.");t(h=>h.filter(p=>p.id!==f))},[r]),d=w.useCallback(f=>{const h=e.find(x=>x.id===f);if(!h)return;const p=S$.unparse(h.data,{delimiter:";",quotes:!0}),m=new Blob([p],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),g=document.createElement("a");g.href=v,g.setAttribute("download",`${h.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.csv`),document.body.appendChild(g),g.click(),document.body.removeChild(g)},[e]);return{versions:e,currentVersion:e.find(f=>f.id===r),currentVersionId:r,storageUsage:a,saveNewVersion:o,restoreVersion:l,deleteVersion:c,exportVersion:d}},Cge=({isOpen:e,onClose:t,onSave:r,pendingEditsCount:n})=>{const[a,s]=w.useState(""),[i,o]=w.useState("");if(!e)return null;const l=c=>{c.preventDefault(),a.trim()&&(r(a,i),s(""),o(""),t())};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-md p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(sd,{className:"text-emerald-400",size:20}),"Salvar Nova Verso"]}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:u.jsx(fa,{size:20})})]}),u.jsxs("form",{onSubmit:l,className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700 text-sm text-slate-300",children:["Esta verso incluir ",u.jsxs("strong",{children:[n," alteraes"]})," pendentes."]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Nome da Verso"}),u.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"Ex: Ajuste de Metas Nov",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none",autoFocus:!0,required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Descrio (Opcional)"}),u.jsx("textarea",{value:i,onChange:c=>o(c.target.value),placeholder:"O que mudou nesta verso?",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none h-24 resize-none"})]}),u.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[u.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded transition",children:"Cancelar"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded font-medium transition",children:"Salvar Verso"})]})]})]})})},jge=({isOpen:e,onClose:t,versions:r,currentVersionId:n,onRestore:a,onDelete:s,onExport:i,storageUsage:o})=>e?u.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/50 backdrop-blur-sm",children:u.jsxs("div",{className:"w-96 bg-slate-900 border-l border-slate-700 h-full flex flex-col shadow-2xl animate-in slide-in-from-right duration-200",children:[u.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(tv,{className:"text-blue-400",size:20}),"Histrico de Verses"]}),u.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:u.jsx(fa,{size:20})})]}),u.jsxs("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:[u.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[u.jsx("span",{children:"Armazenamento Local"}),u.jsxs("span",{children:[o.toFixed(2)," MB / ~5 MB"]})]}),u.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full ${o>4?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(o/5*100,100)}%`}})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?u.jsx("div",{className:"text-center text-slate-500 py-8",children:u.jsx("p",{children:"Nenhuma verso salva."})}):r.map(l=>{const c=l.id===n;return u.jsxs("div",{className:`border rounded-lg p-4 transition ${c?"bg-blue-900/20 border-blue-500/50":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:`font-bold ${c?"text-blue-400":"text-slate-200"}`,children:l.name}),u.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[u.jsx(tv,{size:12}),be(nn(l.createdAt),"dd 'de' MMM 's' HH:mm",{locale:ns})]})]}),c&&u.jsxs("span",{className:"bg-blue-900/50 text-blue-400 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[u.jsx(tn,{size:12})," Atual"]})]}),l.description&&u.jsxs("p",{className:"text-sm text-slate-400 mb-3 italic border-l-2 border-slate-700 pl-2",children:['"',l.description,'"']}),u.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[u.jsxs("span",{children:[l.rowCount," linhas"]}),u.jsxs("span",{children:[l.editCount," edies"]})]}),u.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700/50",children:[u.jsxs("button",{onClick:()=>i(l.id),className:"text-slate-400 hover:text-slate-200 flex items-center gap-1 text-xs transition",title:"Baixar CSV",children:[u.jsx(X0,{size:14})," CSV"]}),u.jsx("div",{className:"flex items-center gap-2",children:!c&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:()=>a(l.id),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-xs transition font-medium",children:[u.jsx(vK,{size:14})," Restaurar"]}),u.jsx("button",{onClick:()=>s(l.id),className:"text-red-400 hover:text-red-300 flex items-center gap-1 text-xs transition",title:"Excluir",children:u.jsx(Yl,{size:14})})]})})]})]},l.id)})})]})}):null,ul={B2C:{dot:"bg-blue-400",text:"text-blue-300",folder:"text-blue-400"},B2B2C:{dot:"bg-emerald-400",text:"text-emerald-300",folder:"text-emerald-400"},Plurix:{dot:"bg-purple-400",text:"text-purple-300",folder:"text-purple-400"}},R1={"E-mail":"",SMS:"",WhatsApp:"",Push:""},F1=[{key:"Jornada",label:"Jornada",cls:"min-w-[200px]"},{key:"Activity name / Taxonomia",label:"Taxonomia",cls:"min-w-[260px] max-w-sm"},{key:"Canal",label:"Canal",cls:"min-w-[80px]"},{key:"Data de Disparo",label:"Data Disparo",cls:"min-w-[110px]"},{key:"Segmento",label:"Segmento",cls:"min-w-[130px]"},{key:"Base Total",label:"Base Total",cls:"min-w-[90px] text-right"},{key:"Base Acionvel",label:"Base Acionvel",cls:"min-w-[100px] text-right"},{key:"% Otimizao de base",label:"% Otim.",cls:"min-w-[75px] text-right"},{key:"Etapa de aquisio",label:"Etapa Aquisio",cls:"min-w-[120px]"},{key:"Ordem de disparo",label:"Ordem",cls:"min-w-[65px] text-right"},{key:"Perfil de Crdito",label:"Perfil Crdito",cls:"min-w-[110px]"},{key:"Produto",label:"Produto",cls:"min-w-[90px]"},{key:"Oferta",label:"Oferta",cls:"min-w-[90px]"},{key:"Promocional",label:"Promo",cls:"min-w-[80px]"},{key:"SIGLA",label:"SIGLA",cls:"min-w-[70px]"},{key:"Oferta 2",label:"Oferta 2",cls:"min-w-[90px]"},{key:"Promocional 2",label:"Promo 2",cls:"min-w-[80px]"},{key:"Custo Unitrio Oferta",label:"CU Oferta",cls:"min-w-[85px] text-right"},{key:"Custo Total da Oferta",label:"CT Oferta",cls:"min-w-[85px] text-right"},{key:"Custo unitrio do canal",label:"CU Canal",cls:"min-w-[80px] text-right"},{key:"Custo total canal",label:"CT Canal",cls:"min-w-[80px] text-right"},{key:"Taxa de Entrega",label:"Tx Entrega",cls:"min-w-[80px] text-right"},{key:"Taxa de Abertura",label:"Tx Abertura",cls:"min-w-[85px] text-right"},{key:"Taxa de Clique",label:"Tx Clique",cls:"min-w-[80px] text-right"},{key:"Taxa de Proposta",label:"Tx Proposta",cls:"min-w-[85px] text-right"},{key:"Taxa de Aprovao",label:"Tx Aprovao",cls:"min-w-[90px] text-right"},{key:"Taxa de Finalizao",label:"Tx Final.",cls:"min-w-[75px] text-right"},{key:"Taxa de Converso",label:"Tx Conv.",cls:"min-w-[75px] text-right"},{key:"Custo Total Campanha",label:"CT Campanha",cls:"min-w-[95px] text-right"},{key:"CAC",label:"CAC",cls:"min-w-[70px] text-right"},{key:"Cartes Gerados",label:"Cartes",cls:"min-w-[75px] text-right"},{key:"Aprovados",label:"Aprovados",cls:"min-w-[80px] text-right"},{key:"Propostas",label:"Propostas",cls:"min-w-[80px] text-right"}];function Tge(e){if(!e)return"";const t=e.trim();if(/^\d{4}-\d{2}-\d{2}/.test(t))return t.slice(0,10);const r=new Date(t);if(!isNaN(r.getTime())){const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),s=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${s}`}return""}function L1({text:e,term:t}){const r=String(e??"");if(!t||!r)return u.jsx(u.Fragment,{children:r});const n=r.toLowerCase().indexOf(t.toLowerCase());return n===-1?u.jsx(u.Fragment,{children:r}):u.jsxs(u.Fragment,{children:[r.slice(0,n),u.jsx("mark",{className:"bg-amber-400/30 text-amber-200 rounded-sm",children:r.slice(n,n+t.length)}),r.slice(n+t.length)]})}function Age({value:e}){const t=String(e??"").toLowerCase().trim();return t==="sim"||t==="enviado"||t==="realizado"?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-emerald-500/15 text-emerald-300 border border-emerald-500/30",children:"Enviado"}):t==="no"||t==="nao"||t==="pendente"||t==="scheduled"?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-slate-700 text-slate-400 border border-slate-600",children:"Pendente"}):t==="rascunho"?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-amber-500/15 text-amber-300 border border-amber-500/30",children:"Rascunho"}):t==="em andamento"?u.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-blue-500/15 text-blue-300 border border-blue-500/30",children:"Em andamento"}):u.jsx("span",{className:"text-slate-400 text-xs",children:e||""})}const Nge=()=>{var _e;const{frameworkData:e,setFrameworkData:t,activities:r}=vt(),n=w.useMemo(()=>r&&r.length>0?r.map(X=>X.raw).filter(X=>!!X):e,[r,e]),{startDate:a,endDate:s}=mc(),i=be(a,"yyyy-MM-dd"),o=be(s,"yyyy-MM-dd"),[l,c]=w.useState(""),[d,f]=w.useState({}),[h,p]=w.useState(new Set),[m,v]=w.useState(null),[g,x]=w.useState({key:null,direction:"asc"}),[b,y]=w.useState({}),[_,k]=w.useState(!1),[S,E]=w.useState(!1),{versions:C,currentVersion:j,saveNewVersion:T,restoreVersion:N,deleteVersion:A,exportVersion:P,storageUsage:V}=Ege(),z=w.useMemo(()=>!i||!o?n:n.filter(X=>{const Q=Tge(String(X["Data de Disparo"]??""));return Q>=i&&Q<=o}),[n,i,o]),Z=w.useMemo(()=>{const X=new Map;return z.forEach(Q=>{const ce=Q.BU||"N/A",ye=Q.Segmento||"N/A",Ce=Q.Canal||"N/A";X.has(ce)||X.set(ce,new Map);const We=X.get(ce);We.has(ye)||We.set(ye,new Map);const $e=We.get(ye);$e.has(Ce)||$e.set(Ce,[]),$e.get(Ce).push(Q)}),X},[z]),G=w.useMemo(()=>n.length>0?Object.keys(n[0]):[],[n]),Y=w.useCallback((X,Q)=>{if(!Q)return!0;const ce=Q.toLowerCase();return Object.values(X).some(ye=>String(ye??"").toLowerCase().includes(ce))},[]),I=w.useMemo(()=>{if(!l)return null;const X=[];return z.forEach((Q,ce)=>{if(!Y(Q,l))return;const ye=Q.BU||"N/A",Ce=Q.Segmento||"N/A",We=Q.Canal||"N/A";if(d.bu&&d.bu!==ye||d.segmento&&d.segmento!==Ce||d.canal&&d.canal!==We)return;const $e=X.find(bt=>bt.bu===ye&&bt.segmento===Ce&&bt.canal===We);$e?$e.rows.push({...Q,_origIdx:ce}):X.push({bu:ye,segmento:Ce,canal:We,rows:[{...Q,_origIdx:ce}]})}),X},[l,z,d,Y]),te=w.useMemo(()=>l?new Set(z.filter(X=>Y(X,l)).map(X=>X.BU||"N/A")):new Set,[l,z,Y]),J=w.useMemo(()=>{if(!l)return new Map;const X=new Map;return z.forEach(Q=>{if(!Y(Q,l))return;const ce=Q.BU||"N/A",ye=Q.Segmento||"N/A";X.has(ce)||X.set(ce,new Set),X.get(ce).add(ye)}),X},[l,z,Y]);w.useMemo(()=>{if(!l)return new Map;const X=new Map;return z.forEach(Q=>{if(!Y(Q,l))return;const ce=Q.Segmento||"N/A",ye=Q.Canal||"N/A";X.has(ce)||X.set(ce,new Set),X.get(ce).add(ye)}),X},[l,z,Y]);const D=w.useMemo(()=>{if(l)return[];let X=z.map((Q,ce)=>({...Q,_origIdx:ce}));return d.bu&&(X=X.filter(Q=>(Q.BU||"N/A")===d.bu)),d.segmento&&(X=X.filter(Q=>(Q.Segmento||"N/A")===d.segmento)),d.canal&&(X=X.filter(Q=>(Q.Canal||"N/A")===d.canal)),g.key&&X.sort((Q,ce)=>{var Ge,Mt;const ye=g.key,Ce=String(((Ge=b[Q._origIdx])==null?void 0:Ge[ye])??Q[ye]??""),We=String(((Mt=b[ce._origIdx])==null?void 0:Mt[ye])??ce[ye]??""),$e=parseFloat(Ce.replace(",",".")),bt=parseFloat(We.replace(",","."));return!isNaN($e)&&!isNaN(bt)?g.direction==="asc"?$e-bt:bt-$e:g.direction==="asc"?Ce.localeCompare(We):We.localeCompare(Ce)}),X},[l,z,d,g,b]);Wa.useEffect(()=>{l&&te.size>0&&p(new Set(te))},[l,te]);const R=X=>{p(Q=>{const ce=new Set(Q);return ce.has(X)?ce.delete(X):ce.add(X),ce})},B=(X,Q,ce)=>{f({bu:X,segmento:Q,canal:ce}),v(null),X&&!h.has(X)&&p(ye=>new Set([...ye,X]))},H=X=>{x(Q=>Q.key===X?Q.direction==="asc"?{key:X,direction:"desc"}:{key:null,direction:"asc"}:{key:X,direction:"asc"})},ee=(X,Q,ce)=>{y(ye=>({...ye,[X]:{...ye[X],[Q]:ce}}))},ue=()=>{const X=e.map((Q,ce)=>b[ce]?{...Q,...b[ce]}:Q);t(X,r),y({})},de=(X,Q)=>{const ce=e.map((ye,Ce)=>b[Ce]?{...ye,...b[Ce]}:ye);try{T(X,ce,Q,Object.keys(b).length),t(ce,r),y({})}catch(ye){alert(ye.message)}},q=X=>{if(!(Object.keys(b).length>0&&!confirm("Edies no salvas sero descartadas. Continuar?")))try{const Q=N(X);t(Q,r),y({}),E(!1)}catch(Q){alert(Q.message)}},re=()=>{const X=e.map((We,$e)=>b[$e]?{...We,...b[$e]}:We),Q=S$.unparse(X,{delimiter:";",quotes:!0}),ce=new Blob([Q],{type:"text/csv;charset=utf-8;"}),ye=URL.createObjectURL(ce),Ce=document.createElement("a");Ce.href=ye,Ce.setAttribute("download","campanhas_editado.csv"),document.body.appendChild(Ce),Ce.click(),document.body.removeChild(Ce)},le=(X,Q)=>{var ye;const ce=(ye=Z.get(X))==null?void 0:ye.get(Q);return ce?[...ce.values()].reduce((Ce,We)=>Ce+We.length,0):0},M=(X,Q,ce)=>{var ye,Ce,We;return((We=(Ce=(ye=Z.get(X))==null?void 0:ye.get(Q))==null?void 0:Ce.get(ce))==null?void 0:We.length)??0},ke=X=>{const Q=Z.get(X);if(!Q)return 0;let ce=0;for(const ye of Q.values())for(const Ce of ye.values())ce+=Ce.length;return ce},pe=l?(I==null?void 0:I.reduce((X,Q)=>X+Q.rows.length,0))??0:D.length;return e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400 gap-3",children:[u.jsx(Ds,{size:48,className:"opacity-40"}),u.jsx("p",{className:"text-sm",children:"Nenhum dado carregado. Faa upload do CSV na tela inicial."})]}):u.jsxs("div",{className:"flex flex-col h-full bg-slate-900 overflow-hidden",children:[u.jsx(Cge,{isOpen:_,onClose:()=>k(!1),onSave:de,pendingEditsCount:Object.keys(b).length}),u.jsx(jge,{isOpen:S,onClose:()=>E(!1),versions:C,currentVersionId:(j==null?void 0:j.id)||null,onRestore:q,onDelete:A,onExport:P,storageUsage:V}),u.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-slate-700 bg-slate-800/60 shrink-0",children:[u.jsxs("div",{className:"relative flex-1 max-w-sm group",children:[u.jsx(t0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 group-focus-within:text-blue-400 transition"}),u.jsx("input",{type:"text",placeholder:"Buscar  abre no contedo certo...",value:l,onChange:X=>{c(X.target.value),f({})},className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-9 pr-8 py-1.5 text-sm text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition"}),l&&u.jsx("button",{onClick:()=>{c(""),f({})},className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200",children:u.jsx(fa,{size:13})})]}),l&&u.jsxs("span",{className:"text-xs px-2 py-1 rounded-full bg-blue-500/15 text-blue-300 border border-blue-500/25 shrink-0",children:[pe," resultado",pe!==1?"s":""]}),u.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[j&&u.jsxs("span",{className:"hidden md:flex items-center gap-1.5 text-xs text-slate-400 bg-slate-800 px-2.5 py-1 rounded-full border border-slate-700",children:[u.jsx(OW,{size:11}),u.jsx("span",{className:"max-w-[130px] truncate",children:j.name})]}),u.jsx("button",{onClick:()=>E(!0),className:"p-1.5 text-slate-400 hover:text-slate-200 hover:bg-slate-700 rounded-lg transition",title:"Histrico de Verses",children:u.jsx(IH,{size:17})}),Object.keys(b).length>0&&u.jsxs(u.Fragment,{children:[u.jsxs("span",{className:"text-xs text-amber-400 bg-amber-900/25 border border-amber-500/30 px-2 py-1 rounded",children:[Object.keys(b).length," edies"]}),u.jsx("button",{onClick:ue,className:"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-xs font-medium transition",children:"Aplicar"})]}),u.jsxs("button",{onClick:()=>k(!0),className:"flex items-center gap-1.5 px-3 py-1.5 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-xs font-medium transition",children:[u.jsx(sd,{size:14})," Salvar Verso"]}),u.jsxs("button",{onClick:re,className:"flex items-center gap-1.5 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-xs font-medium transition",children:[u.jsx(X0,{size:14})," Exportar"]})]})]}),u.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[u.jsxs("aside",{className:"w-60 shrink-0 border-r border-slate-700 bg-slate-900 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-3 py-2 border-b border-slate-800 flex items-center gap-2 text-xs text-slate-500 font-medium uppercase tracking-wider",children:[u.jsx(Kg,{size:12}),"Explorador"]}),u.jsxs("nav",{className:"flex-1 overflow-y-auto py-1 select-none",children:[u.jsxs("button",{onClick:()=>{B(),c("")},className:`w-full flex items-center gap-2 px-3 py-1.5 text-sm transition rounded-none ${!d.bu&&!l?"bg-blue-600/20 text-blue-200":"text-slate-300 hover:bg-slate-800"}`,children:[u.jsx(gT,{size:15,className:"text-amber-400 shrink-0"}),u.jsx("span",{className:"flex-1 text-left truncate font-medium",children:"Todos os Disparos"}),u.jsx("span",{className:"text-xs text-slate-500",children:z.length})]}),[...Z.keys()].map(X=>{var We;const Q=ul[X]||ul.B2C,ce=h.has(X),ye=!l||te.has(X),Ce=ke(X);return l&&!ye?null:u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>{R(X),B(X,void 0,void 0),l&&c("")},className:`w-full flex items-center gap-2 px-3 py-1.5 text-sm transition ${d.bu===X&&!d.segmento?"bg-blue-600/20 text-blue-200":"text-slate-300 hover:bg-slate-800"}`,children:[u.jsx("span",{className:"text-slate-500 shrink-0",children:ce?u.jsx(ql,{size:13}):u.jsx(En,{size:13})}),ce?u.jsx(gT,{size:14,className:`${Q.folder} shrink-0`}):u.jsx(rv,{size:14,className:`${Q.folder} shrink-0`}),u.jsx("span",{className:`flex-1 text-left truncate font-semibold ${Q.text}`,children:X}),u.jsx("span",{className:`text-xs ${l&&ye?"text-amber-400 font-semibold":"text-slate-500"}`,children:Ce})]}),ce&&[...((We=Z.get(X))==null?void 0:We.keys())??[]].map($e=>{var ln,Be,ot;const bt=!l||((ln=J.get(X))==null?void 0:ln.has($e)),Ge=le(X,$e);if(l&&!bt)return null;const Mt=d.bu===X&&d.segmento===$e&&!d.canal,ut=d.bu===X&&d.segmento===$e,Yt=[...((ot=(Be=Z.get(X))==null?void 0:Be.get($e))==null?void 0:ot.keys())??[]],wt=Yt.length>1;return u.jsxs("div",{children:[u.jsxs("button",{onClick:()=>{B(X,$e,void 0),l&&c("")},className:`w-full flex items-center gap-2 pl-7 pr-3 py-1.5 text-xs transition ${Mt?"bg-blue-600/20 text-blue-200":"text-slate-400 hover:bg-slate-800 hover:text-slate-200"}`,children:[wt?ut?u.jsx(ql,{size:11,className:"shrink-0 text-slate-600"}):u.jsx(En,{size:11,className:"shrink-0 text-slate-600"}):u.jsx("span",{className:"w-[11px] shrink-0"}),u.jsx(Fu,{size:12,className:"shrink-0 opacity-50"}),u.jsx("span",{className:"flex-1 text-left truncate",children:$e}),u.jsx("span",{className:`text-xs ${l&&bt?"text-amber-400 font-semibold":"text-slate-600"}`,children:Ge})]}),ut&&wt&&Yt.map(dt=>{const _t=M(X,$e,dt),Oa=d.bu===X&&d.segmento===$e&&d.canal===dt;return u.jsxs("button",{onClick:()=>{B(X,$e,dt),l&&c("")},className:`w-full flex items-center gap-2 pl-12 pr-3 py-1 text-xs transition ${Oa?"bg-blue-600/20 text-blue-200":"text-slate-500 hover:bg-slate-800 hover:text-slate-200"}`,children:[u.jsx("span",{className:"text-slate-600",children:R1[dt]??""}),u.jsx("span",{className:"flex-1 text-left truncate",children:dt}),u.jsx("span",{className:"text-xs text-slate-700",children:_t})]},dt)})]},$e)})]},X)})]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"px-4 py-1.5 border-b border-slate-800 bg-slate-900/80 flex items-center gap-1 text-xs text-slate-500 shrink-0",children:[u.jsx("span",{className:"hover:text-slate-300 cursor-pointer",onClick:()=>{B(),c("")},children:"Explorador"}),d.bu&&u.jsxs(u.Fragment,{children:[u.jsx(En,{size:11}),u.jsx("span",{className:`${((_e=ul[d.bu])==null?void 0:_e.text)??"text-slate-300"} font-medium cursor-pointer hover:opacity-80`,onClick:()=>B(d.bu,void 0,void 0),children:d.bu})]}),d.segmento&&u.jsxs(u.Fragment,{children:[u.jsx(En,{size:11}),u.jsx("span",{className:"text-slate-300 font-medium cursor-pointer hover:opacity-80",onClick:()=>B(d.bu,d.segmento,void 0),children:d.segmento})]}),d.canal&&u.jsxs(u.Fragment,{children:[u.jsx(En,{size:11}),u.jsxs("span",{className:"text-slate-400",children:[R1[d.canal]??""," ",d.canal]})]}),l&&u.jsxs(u.Fragment,{children:[u.jsx(En,{size:11}),u.jsxs("span",{className:"text-amber-300",children:['"',l,'"']})]}),u.jsxs("span",{className:"ml-auto text-slate-600",children:[pe," ",l?"resultado":"linha",pe!==1?"s":""]})]}),l&&I?u.jsx("div",{className:"flex-1 overflow-y-auto",children:I.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-500 gap-2",children:[u.jsx(t0,{size:32,className:"opacity-30"}),u.jsxs("p",{className:"text-sm",children:['Nenhum resultado para "',l,'"']})]}):I.map(X=>{const Q=ul[X.bu]||ul.B2C;return u.jsxs("div",{className:"border-b border-slate-800",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-slate-800/50 sticky top-0 z-10",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${Q.dot} shrink-0`}),u.jsx("span",{className:`font-semibold text-xs ${Q.text}`,children:X.bu}),u.jsx(En,{size:11,className:"text-slate-600"}),u.jsx("span",{className:"text-xs text-slate-300 font-medium",children:X.segmento}),X.canal&&X.canal!=="N/A"&&u.jsxs(u.Fragment,{children:[u.jsx(En,{size:11,className:"text-slate-600"}),u.jsxs("span",{className:"text-xs text-slate-400",children:[R1[X.canal]??""," ",X.canal]})]}),u.jsxs("span",{className:"ml-auto text-xs text-amber-400 bg-amber-400/10 px-2 py-0.5 rounded-full border border-amber-400/20",children:[X.rows.length," resultado",X.rows.length!==1?"s":""]})]}),X.rows.map(ce=>{const ye=m===ce._origIdx;return u.jsxs("div",{className:"border-b border-slate-800/50",children:[u.jsxs("button",{onClick:()=>v(ye?null:ce._origIdx),className:"w-full flex items-center gap-3 px-4 py-2.5 hover:bg-slate-800/60 transition text-left",children:[u.jsx(Fu,{size:13,className:"text-slate-500 shrink-0 mt-0.5"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-slate-200 font-mono truncate leading-relaxed",children:u.jsx(L1,{text:String(ce["Activity name / Taxonomia"]??""),term:l})}),u.jsxs("div",{className:"flex items-center gap-3 mt-0.5",children:[u.jsx("span",{className:"text-xs text-slate-500",children:u.jsx(L1,{text:String(ce.Segmento??""),term:l})}),ce.Jornada&&u.jsx("span",{className:"text-xs text-slate-600",children:u.jsx(L1,{text:String(ce.Jornada??""),term:l})}),u.jsx("span",{className:"text-xs text-slate-600",children:ce["Data de Disparo"]})]})]}),u.jsx(En,{size:13,className:`text-slate-600 shrink-0 transition-transform ${ye?"rotate-90":""}`})]}),ye&&u.jsx(xO,{row:ce,origIdx:ce._origIdx,edits:b,allColumns:G,searchTerm:l,onEdit:ee})]},ce._origIdx)})]},`${X.bu}-${X.segmento}-${X.canal}`)})}):u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsxs("table",{className:"w-full border-collapse text-xs text-left",children:[u.jsx("thead",{className:"bg-slate-800 text-slate-400 sticky top-0 z-20 shadow-sm",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-3 py-2.5 border-b border-slate-700 w-8 text-center text-slate-600 sticky left-0 bg-slate-800 border-r border-slate-700",children:"#"}),F1.map(X=>u.jsx("th",{onClick:()=>H(X.key),className:`px-3 py-2.5 border-b border-slate-700 font-medium whitespace-nowrap cursor-pointer hover:bg-slate-700 hover:text-slate-200 transition select-none group ${X.cls}`,children:u.jsxs("div",{className:"flex items-center gap-1.5",children:[X.label,g.key===X.key?g.direction==="asc"?u.jsx(uk,{size:11,className:"text-blue-400"}):u.jsx(lk,{size:11,className:"text-blue-400"}):u.jsx(va,{size:11,className:"opacity-0 group-hover:opacity-40 transition"})]})},X.key)),u.jsx("th",{className:"px-3 py-2.5 border-b border-slate-700 w-8"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-800",children:D.map((X,Q)=>{const ce=m===X._origIdx,ye=ul[X.BU]||ul.B2C;return u.jsxs(Wa.Fragment,{children:[u.jsxs("tr",{className:`group transition hover:bg-slate-800/70 ${Q%2===0?"bg-slate-900":"bg-slate-800/20"}`,children:[u.jsx("td",{className:`px-2 py-2 text-slate-600 text-center border-r border-slate-800 sticky left-0 ${Q%2===0?"bg-slate-900":"bg-slate-800/20"} group-hover:bg-slate-800/70 transition`,children:Q+1}),F1.map(Ce=>{var bt,Ge;const We=((bt=b[X._origIdx])==null?void 0:bt[Ce.key])??X[Ce.key]??"",$e=((Ge=b[X._origIdx])==null?void 0:Ge[Ce.key])!==void 0;return Ce.key==="Disparado?"?u.jsx("td",{className:"px-3 py-2",children:u.jsx(Age,{value:String(We)})},Ce.key):Ce.key==="Activity name / Taxonomia"?u.jsx("td",{className:"px-3 py-2",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`w-1.5 h-1.5 rounded-full shrink-0 ${ye.dot}`}),u.jsx("span",{className:`font-mono text-slate-200 truncate max-w-xs ${$e?"text-amber-200":""}`,children:We})]})},Ce.key):u.jsx("td",{className:`px-3 py-2 text-slate-400 ${$e?"text-amber-300 bg-amber-900/10":""}`,children:String(We||"")},Ce.key)}),u.jsx("td",{className:"px-2 py-2",children:u.jsx("button",{onClick:()=>v(ce?null:X._origIdx),className:"text-slate-600 hover:text-slate-300 transition",title:"Ver / editar todos os campos",children:u.jsx(En,{size:13,className:`transition-transform ${ce?"rotate-90":""}`})})})]}),ce&&u.jsx("tr",{children:u.jsx("td",{colSpan:F1.length+2,className:"p-0 border-b border-slate-700",children:u.jsx(xO,{row:X,origIdx:X._origIdx,edits:b,allColumns:G,searchTerm:"",onEdit:ee})})})]},X._origIdx)})})]}),D.length===0&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-slate-500 gap-2",children:[u.jsx(rv,{size:32,className:"opacity-30"}),u.jsx("p",{className:"text-sm",children:"Nenhuma linha nesta pasta"})]})]}),u.jsxs("div",{className:"bg-slate-800/60 border-t border-slate-700 px-4 py-1.5 text-xs text-slate-500 flex justify-between items-center shrink-0",children:[u.jsxs("span",{children:["Total no framework: ",u.jsx("strong",{className:"text-slate-300",children:e.length})," linhas"]}),u.jsxs("span",{children:["Visualizando: ",u.jsx("strong",{className:"text-slate-300",children:pe})," linhas"]})]})]})]})]})},xO=({row:e,origIdx:t,edits:r,allColumns:n,searchTerm:a,onEdit:s})=>{const i=n.filter(o=>o!=="_origIdx");return u.jsxs("div",{className:"bg-slate-900/80 border-t border-slate-700/50 px-6 py-4",children:[u.jsx("p",{className:"text-xs text-slate-500 font-medium mb-3 uppercase tracking-wider",children:"Todos os campos  clique para editar"}),u.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:i.map(o=>{var d,f;const l=((d=r[t])==null?void 0:d[o])??e[o]??"",c=((f=r[t])==null?void 0:f[o])!==void 0;return u.jsxs("div",{className:`rounded-md p-2 border transition ${c?"border-amber-500/40 bg-amber-900/10":"border-slate-700/50 bg-slate-800/40"}`,children:[u.jsx("label",{className:"block text-xs text-slate-500 mb-1 truncate",title:o,children:o}),u.jsx("input",{type:"text",value:String(l),onChange:h=>s(t,o,h.target.value),className:`w-full bg-transparent text-xs outline-none focus:ring-1 focus:ring-blue-500 rounded px-1 py-0.5 transition ${c?"text-amber-200 font-medium":"text-slate-300"}`})]},o)})})]})},Pge=e=>w.useMemo(()=>{const r=new Map;e.forEach(a=>{const s=a.bu.trim(),i=a.raw["Oferta 2"]||"Padrao",o=a.raw["Promocional 2"]||"N/A",l=`${s}|${a.canal}|${a.oferta||"Sem Oferta"}|${a.segmento}|${a.promocional||"N/A"}|${i}|${o}`;r.has(l)||r.set(l,[]),r.get(l).push(a)});const n=[];return r.forEach((a,s)=>{const[i,o,l,c,d,f,h]=s.split("|"),p={bu:i,canal:o,oferta:l,segmento:c,promocional:d!=="N/A"?d:void 0,oferta2:f,promocional2:h!=="N/A"?h:void 0};let m=0,v=0,g=0,x=0,b=0;a.forEach(V=>{V.kpis.cac!==null&&V.kpis.cac>0&&(m+=V.kpis.cac,x++),V.kpis.taxaConversao!==null&&(v+=V.kpis.taxaConversao,b++),V.kpis.cartoes!==null&&(g+=V.kpis.cartoes)});const y=x>0?m/x:0,_=b>0?v/b:0,k=a.length,S=a.length>0?new Date(Math.max(...a.map(V=>V.dataDisparo.getTime()))):null,E={avgCAC:y,avgConversion:_,totalVolume:k,totalCards:g,successRate:0,lastExecuted:S};let C=0;x>0&&(C=Math.max(0,Math.min(100,100-y/2)));const j=Math.max(0,Math.min(100,_/.05*100)),T=Math.min(100,k/10*100),N=C*.4+j*.4+T*.2,A={cacScore:C,conversionScore:j,volumeScore:T,finalScore:N},P=[];x>0?y<60?P.push({type:"positive",text:"CAC Excelente (< R$ 60)"}):y>150&&P.push({type:"negative",text:"CAC Alto (> R$ 150)"}):P.push({type:"neutral",text:"Sem dados de CAC"}),_>.03?P.push({type:"positive",text:"Alta Converso (> 3%)"}):_<.005&&b>0&&P.push({type:"negative",text:"Baixa Converso (< 0.5%)"}),k<3&&P.push({type:"neutral",text:"Volume baixo (pouca confiana)"}),k>10&&P.push({type:"positive",text:"Volume alto (alta confiana)"}),n.push({id:s,combo:p,metrics:E,score:A,insights:P,sampleActivities:a.sort((V,z)=>z.dataDisparo.getTime()-V.dataDisparo.getTime())})}),n.sort((a,s)=>s.score.finalScore-a.score.finalScore)},[e]),E$=w.createContext(void 0),yO="growth-brain-bu-selection",Oge=({children:e})=>{const[t,r]=w.useState(()=>{const o=localStorage.getItem(yO);return o?JSON.parse(o):["B2C","B2B2C","Plurix"]});w.useEffect(()=>{localStorage.setItem(yO,JSON.stringify(t))},[t]);const n=o=>{r(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a=()=>{r(["B2C","B2B2C","Plurix"])},s=()=>{r([])},i=o=>t.includes(o);return u.jsx(E$.Provider,{value:{selectedBUs:t,toggleBU:n,selectAll:a,deselectAll:s,isBUSelected:i},children:e})},Fh=()=>{const e=w.useContext(E$);if(e===void 0)throw new Error("useBU must be used within a BUProvider");return e},Dge=({recommendation:e,onClick:t})=>{const{combo:r,score:n,metrics:a,insights:s}=e,i=f=>f>=80?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":f>=60?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":f>=40?"text-orange-400 border-orange-500/50 bg-orange-500/10":"text-red-400 border-red-500/50 bg-red-500/10",o=f=>{const h=f.toLowerCase();return h.includes("email")||h.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":h.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":h.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":h.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"},c=(f=>{if(!f)return{text:"Nunca executado",color:"text-blue-400"};const h=Math.abs(new Date().getTime()-f.getTime()),p=Math.ceil(h/(1e3*60*60*24));return p<7?{text:`h ${p} dias`,color:"text-slate-500"}:p<14?{text:`h ${p} dias`,color:"text-yellow-500"}:{text:`h ${p} dias`,color:"text-emerald-500"}})(a.lastExecuted),d=i(n.finalScore);return u.jsxs("div",{onClick:t,className:`bg-slate-800/50 border rounded-lg p-4 transition cursor-pointer group relative overflow-hidden hover:shadow-lg ${d.replace("text-","border-").split(" ")[1]}`,children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full -mr-10 -mt-10 transition-opacity opacity-0 group-hover:opacity-100 pointer-events-none"}),u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${o(r.canal)}`,children:r.canal}),u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-xs font-medium text-slate-300",children:r.segmento}),r.promocional&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-[10px] bg-pink-500/10 text-pink-300 px-1.5 py-0.5 rounded border border-pink-500/20",children:r.promocional})]}),u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-[10px] bg-cyan-500/10 text-cyan-300 px-1.5 py-0.5 rounded border border-cyan-500/20",children:r.oferta2}),r.promocional2&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-300 px-1.5 py-0.5 rounded border border-indigo-500/20",children:r.promocional2})]})]}),u.jsx("h3",{className:"text-sm font-bold text-slate-100 line-clamp-2",title:r.oferta,children:r.oferta})]}),u.jsx("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 ${d}`,children:u.jsx("span",{className:"text-sm font-bold",children:Math.round(n.finalScore)})})]}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[u.jsx(Gs,{content:"Custo de Aquisio Mdio das campanhas",children:u.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[u.jsx(nd,{size:10})," CAC"]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.avgCAC>0?`R$ ${a.avgCAC.toFixed(0)}`:"-"})]})}),u.jsx(Gs,{content:"Taxa de Converso Mdia (Aprovados / Entregues)",children:u.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[u.jsx(Fn,{size:10})," Conv."]}),u.jsxs("div",{className:"text-xs font-semibold text-slate-200",children:[(a.avgConversion*100).toFixed(1),"%"]})]})}),u.jsx(Gs,{content:"Nmero total de execues desta combinao",children:u.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[u.jsx(ZI,{size:10})," Vol."]}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.totalVolume})]})}),u.jsx(Gs,{content:"Data da ltima execuo registrada",children:u.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[u.jsx(tv,{size:10})," ltima"]}),u.jsx("div",{className:`text-[10px] font-semibold ${c.color} leading-tight`,children:c.text})]})})]}),u.jsx("div",{className:"space-y-1",children:s.slice(0,2).map((f,h)=>u.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] px-2 py-1 rounded ${f.type==="positive"?"bg-emerald-500/10 text-emerald-300":f.type==="negative"?"bg-red-500/10 text-red-300":"bg-slate-700/50 text-slate-400"}`,children:[f.type==="positive"?u.jsx(Fn,{size:10}):f.type==="negative"?u.jsx(id,{size:10}):u.jsx(ad,{size:10}),f.text]},h))})]})},$1=5,Mge=({recommendation:e,onClose:t})=>{const{combo:r,sampleActivities:n,metrics:a}=e,[s,i]=w.useState(1),o=w.useMemo(()=>[...n].sort((h,p)=>p.dataDisparo.getTime()-h.dataDisparo.getTime()),[n]),l=Math.ceil(o.length/$1),c=o.slice((s-1)*$1,s*$1),d=w.useMemo(()=>[...n].sort((h,p)=>h.dataDisparo.getTime()-p.dataDisparo.getTime()).map(h=>({date:h.dataDisparo.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),cartoes:h.kpis.cartoes||0,cac:h.kpis.cac||0,conversao:(h.kpis.taxaConversao||0)*100})),[n]),f=()=>{const h=["Data","Activity Name","BU","Cartes","Converso (%)","CAC (R$)","Custo Total (R$)"],p=o.map(b=>[b.dataDisparo.toLocaleDateString("pt-BR"),`"${b.id}"`,b.bu,b.kpis.cartoes||0,((b.kpis.taxaConversao||0)*100).toFixed(2).replace(".",","),(b.kpis.cac||0).toFixed(2).replace(".",","),(b.kpis.custoTotal||0).toFixed(2).replace(".",",")]),m=[h.join(";"),...p.map(b=>b.join(";"))].join(`
`),v=new Blob([m],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(v),x=document.createElement("a");x.setAttribute("href",g),x.setAttribute("download",`historico_${r.canal}_${r.segmento}.csv`),document.body.appendChild(x),x.click(),document.body.removeChild(x)};return u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Histrico de Execues"}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1 flex-wrap",children:[u.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.canal}),u.jsx("span",{children:"+"}),u.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.segmento}),u.jsx("span",{children:"+"}),u.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-slate-300 font-medium",children:r.oferta}),r.promocional&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"+"}),u.jsx("span",{className:"bg-pink-500/10 text-pink-300 px-2 py-0.5 rounded border border-pink-500/20 font-medium",children:r.promocional})]}),u.jsx("span",{children:"+"}),u.jsx("span",{className:"bg-cyan-500/10 text-cyan-300 px-2 py-0.5 rounded border border-cyan-500/20 font-medium",children:r.oferta2}),r.promocional2&&u.jsxs(u.Fragment,{children:[u.jsx("span",{children:"+"}),u.jsx("span",{className:"bg-indigo-500/10 text-indigo-300 px-2 py-0.5 rounded border border-indigo-500/20 font-medium",children:r.promocional2})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-xs font-medium transition",children:[u.jsx(X0,{size:14})," Exportar CSV"]}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:u.jsx(fa,{size:20})})]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Execues"}),u.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalVolume})]}),u.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"CAC Mdio"}),u.jsxs("div",{className:"text-xl font-bold text-slate-100",children:["R$ ",a.avgCAC.toFixed(2)]})]}),u.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Converso Mdia"}),u.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[(a.avgConversion*100).toFixed(1),"%"]})]}),u.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[u.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Cartes"}),u.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalCards})]})]}),u.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700/30",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-400 mb-4 uppercase tracking-wider",children:"Tendncia de Cartes (ltimas Execues)"}),u.jsx("div",{className:"h-32 w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(lpe,{data:d,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorCartoes",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"date",stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1}),u.jsx(lt,{stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1,width:30}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",fontSize:"12px"},itemStyle:{color:"#e2e8f0"}}),u.jsx(ny,{type:"monotone",dataKey:"cartoes",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCartoes)"})]})})})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300",children:"Lista de Execues"}),u.jsxs("span",{className:"text-xs text-slate-500",children:["Pgina ",s," de ",l]})]}),u.jsx("div",{className:"space-y-3",children:c.map(h=>{const p=m=>{const v=m.toLowerCase();return v.includes("email")||v.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":v.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":v.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":v.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"};return u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-slate-600 transition",children:[u.jsx("div",{className:"flex justify-between items-start mb-2",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[u.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${p(h.canal)}`,children:h.canal}),u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.bu}),h.segmento&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.segmento})]}),h.jornada&&u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-xs text-slate-400",children:""}),u.jsx("span",{className:"text-xs font-medium text-purple-300",children:h.jornada})]}),u.jsxs("span",{className:"text-xs text-slate-500 ml-auto flex items-center gap-1",children:[u.jsx(dc,{size:10}),h.dataDisparo.toLocaleDateString("pt-BR")]})]}),u.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-1",title:h.id,children:h.id})]})}),u.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Enviado"}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEnviada||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Entregue"}),u.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEntregue||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Cartes"}),u.jsx("div",{className:"text-xs font-semibold text-blue-400",children:h.kpis.cartoes||0})]}),u.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[u.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Converso"}),u.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[h.kpis.taxaConversao?(h.kpis.taxaConversao*100).toFixed(2):0,"%"]})]})]})]},h.id)})}),l>1&&u.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[u.jsx("button",{onClick:()=>i(h=>Math.max(1,h-1)),disabled:s===1,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:u.jsx(Y0,{size:20})}),u.jsxs("span",{className:"text-xs text-slate-400",children:[s," / ",l]}),u.jsx("button",{onClick:()=>i(h=>Math.min(l,h+1)),disabled:s===l,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:u.jsx(En,{size:20})})]})]})]}),u.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:u.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},Ige=()=>{const{activities:e,viewSettings:t}=vt(),{selectedBUs:r}=Fh(),{startDate:n,endDate:a}=mc(),s=w.useMemo(()=>e.filter(p=>Io(p.dataDisparo,{start:n,end:a})),[e,n,a]),i=Pge(s),[o,l]=w.useState(null),[c,d]=w.useState("score"),f=w.useMemo(()=>{const p=t.filtrosGlobais;return s.filter(m=>{const v=r.length===0||r.includes(m.bu),g=p.canais.length===0||p.canais.includes(m.canal),x=p.segmentos.length===0||p.segmentos.includes(m.segmento),b=p.jornadas.length===0||p.jornadas.includes(m.jornada),y=p.parceiros.length===0||p.parceiros.includes(m.parceiro);return v&&g&&x&&b&&y}).length},[s,t.filtrosGlobais,r]),h=w.useMemo(()=>{const p=t.filtrosGlobais;return i.filter(v=>{const g=r.length===0||r.includes(v.combo.bu),x=p.canais.length===0||p.canais.includes(v.combo.canal),b=p.segmentos.length===0||p.segmentos.includes(v.combo.segmento),y=p.jornadas.length===0||v.sampleActivities.some(k=>p.jornadas.includes(k.jornada)),_=p.parceiros.length===0||v.sampleActivities.some(k=>p.parceiros.includes(k.parceiro));return g&&x&&b&&y&&_}).sort((v,g)=>{var x,b;switch(c){case"score":return g.score.finalScore-v.score.finalScore;case"cac":const y=v.metrics.avgCAC>0?v.metrics.avgCAC:999999,_=g.metrics.avgCAC>0?g.metrics.avgCAC:999999;return y-_;case"conversion":return g.metrics.avgConversion-v.metrics.avgConversion;case"volume":return g.metrics.totalVolume-v.metrics.totalVolume;case"recency":const k=((x=v.metrics.lastExecuted)==null?void 0:x.getTime())||0;return(((b=g.metrics.lastExecuted)==null?void 0:b.getTime())||0)-k;default:return 0}})},[i,t.filtrosGlobais,c,r]);return u.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(nv,{className:"text-amber-400"}),"Orientador Estratgico"]}),u.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Recomendaes baseadas no histrico de ",f," campanhas."]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 p-1 rounded-lg border border-slate-800",children:[u.jsxs("span",{className:"text-xs text-slate-500 px-2 flex items-center gap-1",children:[u.jsx(va,{size:12})," Ordenar:"]}),[{id:"score",label:"Score"},{id:"cac",label:"Menor CAC"},{id:"conversion",label:"Maior Conv."},{id:"volume",label:"Volume"},{id:"recency",label:"Recente"}].map(p=>u.jsxs("button",{onClick:()=>d(p.id),className:`px-3 py-1 text-xs font-medium rounded transition flex items-center gap-1 ${c===p.id?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[p.label,p.id==="score"&&u.jsx(Gs,{content:u.jsxs("div",{className:"w-48",children:[u.jsx("p",{className:"text-[10px] font-bold text-slate-300 mb-2 border-b border-slate-700 pb-1",children:"Clculo do Score"}),u.jsxs("div",{className:"space-y-1 text-[10px] text-slate-400",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" CAC"}),u.jsx("span",{className:"text-slate-200",children:"40%"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" Converso"}),u.jsx("span",{className:"text-slate-200",children:"40%"})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{children:" Volume"}),u.jsx("span",{className:"text-slate-200",children:"20%"})]})]}),u.jsx("p",{className:"text-[9px] text-slate-500 mt-2 italic",children:"Score 100 = melhor combinao do perodo (Normalizado)"})]}),children:u.jsx(sa,{size:12,className:c==="score"?"text-blue-200":"text-slate-500"})})]},p.id))]}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-900 px-3 py-1.5 rounded border border-slate-800",children:[u.jsx(Z0,{size:12}),"Filtros Globais Ativos"]})]})]}),h.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-slate-500",children:[u.jsx(nv,{size:48,className:"mb-4 opacity-20"}),u.jsx("p",{children:"Nenhuma recomendao encontrada com os filtros atuais."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto pb-4",children:h.map(p=>u.jsx(Dge,{recommendation:p,onClick:()=>l(p)},p.id))}),o&&u.jsx(Mge,{recommendation:o,onClose:()=>l(null)})]})},FE=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(null);return{parseB2CCSV:w.useCallback(s=>(t(!0),n(null),new Promise((i,o)=>{const l=new A2,c=new FileReader;c.onload=d=>{var p;const h={type:"PARSE_B2C_CSV",fileContent:(p=d.target)==null?void 0:p.result};l.postMessage(h)},c.onerror=d=>{n("Erro ao ler arquivo."),t(!1),l.terminate(),o(d)},l.onmessage=d=>{const{type:f}=d.data;if(f==="SUCCESS"||f==="SUCCESS_B2C"){const h=d.data.data,p=d.data.warnings||[];i({data:h,warnings:p})}else{const h=d.data.error||"Unknown Worker Error";n(h),o(new Error(h))}t(!1),l.terminate()},l.onerror=d=>{n("Erro no Worker: "+d.message),t(!1),l.terminate(),o(d)},c.readAsText(s)})),[]),isLoading:e,error:r}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var C$=1252,Rge=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],LE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},$E=function(e){Rge.indexOf(e)!=-1&&(C$=LE[0]=e)};function Fge(){$E(1252)}var ks=function(e){$E(e)};function j$(){ks(1200),Fge()}function bO(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Lge(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function T$(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var rf=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Lge(e.slice(2)):t==254&&r==255?T$(e.slice(2)):t==65279?e.slice(1):e},$p=function(t){return String.fromCharCode(t)},wO=function(t){return String.fromCharCode(t)},C0,bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _O(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),s=r>>2,n=e.charCodeAt(c++),i=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=bo.charAt(s)+bo.charAt(i)+bo.charAt(o)+bo.charAt(l);return t}function Ta(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=bo.indexOf(e.charAt(c++)),i=bo.indexOf(e.charAt(c++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=bo.indexOf(e.charAt(c++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=bo.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Xe=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),vc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Wo(e){return Xe?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function kO(e){return Xe?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ws=function(t){return Xe?vc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function gc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function BE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return BE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var go=Xe?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:vc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function $ge(e){for(var t=[],r=0,n=e.length+250,a=Wo(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Wo(65535),n=65530)}return t.push(a.slice(0,r)),go(t)}var Xn=/\u0000/g,nf=/[\u0001-\u0006]/g;function Eu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ss(e,t){var r=""+e;return r.length>=t?r:fr("0",t-r.length)+r}function zE(e,t){var r=""+e;return r.length>=t?r:fr(" ",t-r.length)+r}function lg(e,t){var r=""+e;return r.length>=t?r:r+fr(" ",t-r.length)}function Bge(e,t){var r=""+Math.round(e);return r.length>=t?r:fr("0",t-r.length)+r}function zge(e,t){var r=""+e;return r.length>=t?r:fr("0",t-r.length)+r}var SO=Math.pow(2,32);function Fc(e,t){if(e>SO||e<-SO)return Bge(e,t);var r=Math.round(e);return zge(r,t)}function cg(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var EO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],B1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Uge(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var ze={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},CO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Vge={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ug(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,c=0,d=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*i+s,d=f*c+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=s):(d=c,o=i)),!r)return[0,n*o,d];var h=Math.floor(n*o/d);return[h,n*o-h*d,d]}function wo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=Yge(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var A$=new Date(1899,11,31,0,0,0),Wge=A$.getTime(),Hge=new Date(1900,2,1,0,0,0);function N$(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Hge&&(r+=24*60*60*1e3),(r-(Wge+(e.getTimezoneOffset()-A$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function UE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Kge(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Gge(e){var t=e<0?12:11,r=UE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function qge(e){var t=UE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function j0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Gge(e):t===10?r=e.toFixed(10).substr(0,12):r=qge(e),UE(Kge(r.toUpperCase()))}function ac(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):j0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Aa(14,N$(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Yge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Xge(e,t,r,n){var a="",s=0,i=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return B1[r.m-1][1];case 5:return B1[r.m-1][0];default:return B1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return EO[r.q][0];default:return EO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ss(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=Ss(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var d=c>0?Ss(l,c):"";return d}function _o(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var P$=/%/g;function Zge(e,t,r){var n=t.replace(P$,""),a=t.length-n.length;return Ni(e,n,r*Math.pow(10,2*a))+fr("%",a)}function Jge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ni(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function O$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+O$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var D$=/# (\?+)( ?)\/( ?)(\d+)/;function Qge(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?fr(" ",e[1].length+1+e[4].length):zE(i,e[1].length)+e[2]+"/"+e[3]+Ss(o,e[4].length))}function exe(e,t,r){return r+(t===0?"":""+t)+fr(" ",e[1].length+2+e[4].length)}var M$=/^#*0*\.([0#]+)/,I$=/\).*[0#]/,R$=/\(###\) ###\\?-####/;function Un(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function jO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function TO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function txe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function rxe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Fa(e,t,r){if(e.charCodeAt(0)===40&&!t.match(I$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Fa("n",n,r):"("+Fa("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Jge(e,t,r);if(t.indexOf("%")!==-1)return Zge(e,t,r);if(t.indexOf("E")!==-1)return O$(t,r);if(t.charCodeAt(0)===36)return"$"+Fa(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fc(l,t.length);if(t.match(/^[#?]+$/))return a=Fc(r,0),a==="0"&&(a=""),a.length>t.length?a:Un(t.substr(0,t.length-a.length))+a;if(s=t.match(D$))return Qge(s,l,c);if(t.match(/^#+0+$/))return c+Fc(l,t.length-t.indexOf("0"));if(s=t.match(M$))return a=jO(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Un(s[1])).replace(/\.$/,"."+Un(s[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+fr("0",Un(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+jO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+_o(Fc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Fa(e,t,-r):_o(""+(Math.floor(r)+txe(r,s[1].length)))+"."+Ss(TO(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Fa(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Eu(Fa(e,t.replace(/[\\-]/g,""),r)),i=0,Eu(Eu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(R$))return a=Fa(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=ug(l,Math.pow(10,i)-1,!1),a=""+c,d=Ni("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=lg(o[2],i),d.length<s[4].length&&(d=Un(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=ug(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?zE(o[1],i)+s[2]+"/"+s[3]+lg(o[2],i):fr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Fc(r,0),t.length<=a.length?a:Un(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Un(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=TO(r,s[1].length),r<0?"-"+Fa(e,t,-r):_o(rxe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ss(0,3-m.length):"")+m})+"."+Ss(i,s[1].length);switch(t){case"###,##0.00":return Fa(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=_o(Fc(l,0));return p!=="0"?c+p:"";case"###,###.00":return Fa(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Fa(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function nxe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ni(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function axe(e,t,r){var n=t.replace(P$,""),a=t.length-n.length;return Ni(e,n,r*Math.pow(10,2*a))+fr("%",a)}function F$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+F$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,d){return l+c+d.substr(0,(a+s)%a)+"."+d.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ls(e,t,r){if(e.charCodeAt(0)===40&&!t.match(I$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ls("n",n,r):"("+Ls("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return nxe(e,t,r);if(t.indexOf("%")!==-1)return axe(e,t,r);if(t.indexOf("E")!==-1)return F$(t,r);if(t.charCodeAt(0)===36)return"$"+Ls(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ss(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Un(t.substr(0,t.length-a.length))+a;if(s=t.match(D$))return exe(s,l,c);if(t.match(/^#+0+$/))return c+Ss(l,t.length-t.indexOf("0"));if(s=t.match(M$))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Un(s[1])).replace(/\.$/,"."+Un(s[1])),a=a.replace(/\.(\d*)$/,function(m,v){return"."+v+fr("0",Un(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+_o(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ls(e,t,-r):_o(""+r)+"."+fr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ls(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Eu(Ls(e,t.replace(/[\\-]/g,""),r)),i=0,Eu(Eu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(R$))return a=Ls(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var d="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=ug(l,Math.pow(10,i)-1,!1),a=""+c,d=Ni("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),a+=d+s[2]+"/"+s[3],d=lg(o[2],i),d.length<s[4].length&&(d=Un(s[4].substr(s[4].length-d.length))+d),a+=d,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=ug(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?zE(o[1],i)+s[2]+"/"+s[3]+lg(o[2],i):fr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Un(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Un(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ls(e,t,-r):_o(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ss(0,3-m.length):"")+m})+"."+Ss(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=_o(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ls(e,t.slice(0,t.lastIndexOf(".")),r)+Un(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ni(e,t,r){return(r|0)===r?Ls(e,t,r):Fa(e,t,r)}function sxe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var L$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function xc(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":cg(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(L$))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function ixe(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",c,d,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!cg(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=wo(t,r,e.charAt(i+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=wo(t,r),c==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=wo(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",i+=5,h="h"):(v.t="t",++i),c==null&&v.t==="T")return"";a[a.length]=v,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(L$)){if(c==null&&(c=wo(t,r),c==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",xc(e)||(a[a.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,x=0,b;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Xge(a[i].t.charCodeAt(0),a[i].v,c,x),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=ac(t,r);break}var k="",S,E;if(y.length>0){y.charCodeAt(0)==40?(S=t<0&&y.charCodeAt(0)===45?-t:t,E=Ni("n",y,S)):(S=t<0&&n>1?-t:t,E=Ni("n",y,S),S<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var j=a.length;if(C===a.length&&E.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=E.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=E.substr(0,_+1),_=-1),a[i].t="t",j=i);_>=0&&j<a.length&&(a[j].v=E.substr(0,_+1)+a[j].v)}else if(C!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,k=a[i].v.substr(d+1);d>=0;--d)_>=0&&(a[i].v.charAt(d)==="0"||a[i].v.charAt(d)==="#")&&(k=E.charAt(_--)+k);a[i].v=k,a[i].t="t",j=i}for(_>=0&&j<a.length&&(a[j].v=E.substr(0,_+1)+a[j].v),_=E.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(d=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,k=a[i].v.substr(0,d);d<a[i].v.length;++d)_<E.length&&(k+=E.charAt(_++));a[i].v=k,a[i].t="t",j=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(S=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Ni(a[i].t,a[i].v,S),a[i].t="t");var T="";for(i=0;i!==a.length;++i)a[i]!=null&&(T+=a[i].v);return T}var AO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function NO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function oxe(e,t){var r=sxe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(AO),o=r[1].match(AO);return NO(t,i)?[n,r[0]]:NO(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function Aa(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:ze)[e],n==null&&(n=r.table&&r.table[CO[e]]||ze[CO[e]]),n==null&&(n=Vge[e]||"General");break}if(cg(n,0))return ac(t,r);t instanceof Date&&(t=N$(t,r.date1904));var a=oxe(n,t);if(cg(a[1]))return ac(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return ixe(a[1],t,r,a[0])}function Pi(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(ze[r]==null){t<0&&(t=r);continue}if(ze[r]==e){t=r;break}}t<0&&(t=391)}return ze[t]=e,t}function lxe(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Pi(e[t],t)}function $$(){ze=Uge()}var B$={format:Aa,load:Pi,_table:ze,load_table:lxe,parse_date_code:wo,is_date:xc,get_table:function(){return B$._table=ze}},cxe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},z$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function uxe(e){var t=typeof e=="number"?ze[e]:e;return t=t.replace(z$,"(\\d+)"),new RegExp("^"+t+"$")}function dxe(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(z$)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&s==-1?d:c+"T"+d}var fxe=function(){var e={};e.version="1.2.0";function t(){for(var E=0,C=new Array(256),j=0;j!=256;++j)E=j,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[j]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(E){var C=0,j=0,T=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(T=0;T!=256;++T)N[T]=E[T];for(T=0;T!=256;++T)for(j=E[T],C=256+T;C<4096;C+=256)j=N[C]=j>>>8^E[j&255];var A=[];for(T=1;T!=16;++T)A[T-1]=typeof Int32Array<"u"?N.subarray(T*256,T*256+256):N.slice(T*256,T*256+256);return A}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],c=a[4],d=a[5],f=a[6],h=a[7],p=a[8],m=a[9],v=a[10],g=a[11],x=a[12],b=a[13],y=a[14];function _(E,C){for(var j=C^-1,T=0,N=E.length;T<N;)j=j>>>8^r[(j^E.charCodeAt(T++))&255];return~j}function k(E,C){for(var j=C^-1,T=E.length-15,N=0;N<T;)j=y[E[N++]^j&255]^b[E[N++]^j>>8&255]^x[E[N++]^j>>16&255]^g[E[N++]^j>>>24]^v[E[N++]]^m[E[N++]]^p[E[N++]]^h[E[N++]]^f[E[N++]]^d[E[N++]]^c[E[N++]]^l[E[N++]]^o[E[N++]]^i[E[N++]]^s[E[N++]]^r[E[N++]];for(T+=15;N<T;)j=j>>>8^r[(j^E[N++])&255];return~j}function S(E,C){for(var j=C^-1,T=0,N=E.length,A=0,P=0;T<N;)A=E.charCodeAt(T++),A<128?j=j>>>8^r[(j^A)&255]:A<2048?(j=j>>>8^r[(j^(192|A>>6&31))&255],j=j>>>8^r[(j^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,P=E.charCodeAt(T++)&1023,j=j>>>8^r[(j^(240|A>>8&7))&255],j=j>>>8^r[(j^(128|A>>2&63))&255],j=j>>>8^r[(j^(128|P>>6&15|(A&3)<<4))&255],j=j>>>8^r[(j^(128|P&63))&255]):(j=j>>>8^r[(j^(224|A>>12&15))&255],j=j>>>8^r[(j^(128|A>>6&63))&255],j=j>>>8^r[(j^(128|A&63))&255]);return~j}return e.table=r,e.bstr=_,e.buf=k,e.str=S,e}(),Qe=function(){var t={};t.version="1.2.1";function r(O,U){for(var F=O.split("/"),L=U.split("/"),W=0,K=0,se=Math.min(F.length,L.length);W<se;++W){if(K=F[W].length-L[W].length)return K;if(F[W]!=L[W])return F[W]<L[W]?-1:1}return F.length-L.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(0,U+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(U+1)}function s(O,U){typeof U=="string"&&(U=new Date(U));var F=U.getHours();F=F<<6|U.getMinutes(),F=F<<5|U.getSeconds()>>>1,O.write_shift(2,F);var L=U.getFullYear()-1980;L=L<<4|U.getMonth()+1,L=L<<5|U.getDate(),O.write_shift(2,L)}function i(O){var U=O.read_shift(2)&65535,F=O.read_shift(2)&65535,L=new Date,W=F&31;F>>>=5;var K=F&15;F>>>=4,L.setMilliseconds(0),L.setFullYear(F+1980),L.setMonth(K-1),L.setDate(W);var se=U&31;U>>>=5;var fe=U&63;return U>>>=6,L.setHours(U),L.setMinutes(fe),L.setSeconds(se<<1),L}function o(O){mn(O,0);for(var U={},F=0;O.l<=O.length-4;){var L=O.read_shift(2),W=O.read_shift(2),K=O.l+W,se={};switch(L){case 21589:F=O.read_shift(1),F&1&&(se.mtime=O.read_shift(4)),W>5&&(F&2&&(se.atime=O.read_shift(4)),F&4&&(se.ctime=O.read_shift(4))),se.mtime&&(se.mt=new Date(se.mtime*1e3));break}O.l=K,U[L]=se}return U}var l;function c(){return l||(l={})}function d(O,U){if(O[0]==80&&O[1]==75)return aj(O,U);if((O[0]|32)==109&&(O[1]|32)==105)return U7(O,U);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var F=3,L=512,W=0,K=0,se=0,fe=0,ae=0,ie=[],oe=O.slice(0,512);mn(oe,0);var me=f(oe);switch(F=me[0],F){case 3:L=512;break;case 4:L=4096;break;case 0:if(me[1]==0)return aj(O,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+F)}L!==512&&(oe=O.slice(0,L),mn(oe,28));var we=O.slice(0,L);h(oe,F);var Ae=oe.read_shift(4,"i");if(F===3&&Ae!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ae);oe.l+=4,se=oe.read_shift(4,"i"),oe.l+=4,oe.chk("00100000","Mini Stream Cutoff Size: "),fe=oe.read_shift(4,"i"),W=oe.read_shift(4,"i"),ae=oe.read_shift(4,"i"),K=oe.read_shift(4,"i");for(var ge=-1,Se=0;Se<109&&(ge=oe.read_shift(4,"i"),!(ge<0));++Se)ie[Se]=ge;var He=p(O,L);g(ae,K,He,L,ie);var Xt=b(He,se,ie,L);Xt[se].name="!Directory",W>0&&fe!==P&&(Xt[fe].name="!MiniFAT"),Xt[ie[0]].name="!FAT",Xt.fat_addrs=ie,Xt.ssz=L;var Zt={},wn=[],Ed=[],Cd=[];y(se,Xt,He,wn,W,Zt,Ed,fe),m(Ed,Cd,wn),wn.shift();var jd={FileIndex:Ed,FullPaths:Cd};return U&&U.raw&&(jd.raw={header:we,sectors:He}),jd}function f(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(V,"Header Signature: "),O.l+=16;var U=O.read_shift(2,"u");return[O.read_shift(2,"u"),U]}function h(O,U){var F=9;switch(O.l+=2,F=O.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+F);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+F);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+F)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,U){for(var F=Math.ceil(O.length/U)-1,L=[],W=1;W<F;++W)L[W-1]=O.slice(W*U,(W+1)*U);return L[F-1]=O.slice(F*U),L}function m(O,U,F){for(var L=0,W=0,K=0,se=0,fe=0,ae=F.length,ie=[],oe=[];L<ae;++L)ie[L]=oe[L]=L,U[L]=F[L];for(;fe<oe.length;++fe)L=oe[fe],W=O[L].L,K=O[L].R,se=O[L].C,ie[L]===L&&(W!==-1&&ie[W]!==W&&(ie[L]=ie[W]),K!==-1&&ie[K]!==K&&(ie[L]=ie[K])),se!==-1&&(ie[se]=L),W!==-1&&L!=ie[L]&&(ie[W]=ie[L],oe.lastIndexOf(W)<fe&&oe.push(W)),K!==-1&&L!=ie[L]&&(ie[K]=ie[L],oe.lastIndexOf(K)<fe&&oe.push(K));for(L=1;L<ae;++L)ie[L]===L&&(K!==-1&&ie[K]!==K?ie[L]=ie[K]:W!==-1&&ie[W]!==W&&(ie[L]=ie[W]));for(L=1;L<ae;++L)if(O[L].type!==0){if(fe=L,fe!=ie[fe])do fe=ie[fe],U[L]=U[fe]+"/"+U[L];while(fe!==0&&ie[fe]!==-1&&fe!=ie[fe]);ie[L]=-1}for(U[0]+="/",L=1;L<ae;++L)O[L].type!==2&&(U[L]+="/")}function v(O,U,F){for(var L=O.start,W=O.size,K=[],se=L;F&&W>0&&se>=0;)K.push(U.slice(se*A,se*A+A)),W-=A,se=_l(F,se*4);return K.length===0?Fr(0):go(K).slice(0,O.size)}function g(O,U,F,L,W){var K=P;if(O===P){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var se=F[O],fe=(L>>>2)-1;if(!se)return;for(var ae=0;ae<fe&&(K=_l(se,ae*4))!==P;++ae)W.push(K);g(_l(se,L-4),U-1,F,L,W)}}function x(O,U,F,L,W){var K=[],se=[];W||(W=[]);var fe=L-1,ae=0,ie=0;for(ae=U;ae>=0;){W[ae]=!0,K[K.length]=ae,se.push(O[ae]);var oe=F[Math.floor(ae*4/L)];if(ie=ae*4&fe,L<4+ie)throw new Error("FAT boundary crossed: "+ae+" 4 "+L);if(!O[oe])break;ae=_l(O[oe],ie)}return{nodes:K,data:BO([se])}}function b(O,U,F,L){var W=O.length,K=[],se=[],fe=[],ae=[],ie=L-1,oe=0,me=0,we=0,Ae=0;for(oe=0;oe<W;++oe)if(fe=[],we=oe+U,we>=W&&(we-=W),!se[we]){ae=[];var ge=[];for(me=we;me>=0;){ge[me]=!0,se[me]=!0,fe[fe.length]=me,ae.push(O[me]);var Se=F[Math.floor(me*4/L)];if(Ae=me*4&ie,L<4+Ae)throw new Error("FAT boundary crossed: "+me+" 4 "+L);if(!O[Se]||(me=_l(O[Se],Ae),ge[me]))break}K[we]={nodes:fe,data:BO([ae])}}return K}function y(O,U,F,L,W,K,se,fe){for(var ae=0,ie=L.length?2:0,oe=U[O].data,me=0,we=0,Ae;me<oe.length;me+=128){var ge=oe.slice(me,me+128);mn(ge,64),we=ge.read_shift(2),Ae=GE(ge,0,we-ie),L.push(Ae);var Se={name:Ae,type:ge.read_shift(1),color:ge.read_shift(1),L:ge.read_shift(4,"i"),R:ge.read_shift(4,"i"),C:ge.read_shift(4,"i"),clsid:ge.read_shift(16),state:ge.read_shift(4,"i"),start:0,size:0},He=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);He!==0&&(Se.ct=_(ge,ge.l-8));var Xt=ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2)+ge.read_shift(2);Xt!==0&&(Se.mt=_(ge,ge.l-8)),Se.start=ge.read_shift(4,"i"),Se.size=ge.read_shift(4,"i"),Se.size<0&&Se.start<0&&(Se.size=Se.type=0,Se.start=P,Se.name=""),Se.type===5?(ae=Se.start,W>0&&ae!==P&&(U[ae].name="!StreamData")):Se.size>=4096?(Se.storage="fat",U[Se.start]===void 0&&(U[Se.start]=x(F,Se.start,U.fat_addrs,U.ssz)),U[Se.start].name=Se.name,Se.content=U[Se.start].data.slice(0,Se.size)):(Se.storage="minifat",Se.size<0?Se.size=0:ae!==P&&Se.start!==P&&U[ae]&&(Se.content=v(Se,U[ae].data,(U[fe]||{}).data))),Se.content&&mn(Se.content,0),K[Ae]=Se,se.push(Se)}}function _(O,U){return new Date((ya(O,U+4)/1e7*Math.pow(2,32)+ya(O,U)/1e7-11644473600)*1e3)}function k(O,U){return c(),d(l.readFileSync(O),U)}function S(O,U){var F=U&&U.type;switch(F||Xe&&Buffer.isBuffer(O)&&(F="buffer"),F||"base64"){case"file":return k(O,U);case"base64":return d(ws(Ta(O)),U);case"binary":return d(ws(O),U)}return d(O,U)}function E(O,U){var F=U||{},L=F.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=L+"/",O.FileIndex[0]={name:L,type:5}),F.CLSID&&(O.FileIndex[0].clsid=F.CLSID),C(O)}function C(O){var U="Sh33tJ5";if(!Qe.find(O,"/"+U)){var F=Fr(4);F[0]=55,F[1]=F[3]=50,F[2]=54,O.FileIndex.push({name:U,type:2,content:F,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+U),j(O)}}function j(O,U){E(O);for(var F=!1,L=!1,W=O.FullPaths.length-1;W>=0;--W){var K=O.FileIndex[W];switch(K.type){case 0:L?F=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(K.R*K.L*K.C)&&(F=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(F=!0);break;default:F=!0;break}}if(!(!F&&!U)){var se=new Date(1987,1,19),fe=0,ae=Object.create?Object.create(null):{},ie=[];for(W=0;W<O.FullPaths.length;++W)ae[O.FullPaths[W]]=!0,O.FileIndex[W].type!==0&&ie.push([O.FullPaths[W],O.FileIndex[W]]);for(W=0;W<ie.length;++W){var oe=n(ie[W][0]);L=ae[oe],L||(ie.push([oe,{name:a(oe).replace("/",""),type:1,clsid:Z,ct:se,mt:se,content:null}]),ae[oe]=!0)}for(ie.sort(function(Ae,ge){return r(Ae[0],ge[0])}),O.FullPaths=[],O.FileIndex=[],W=0;W<ie.length;++W)O.FullPaths[W]=ie[W][0],O.FileIndex[W]=ie[W][1];for(W=0;W<ie.length;++W){var me=O.FileIndex[W],we=O.FullPaths[W];if(me.name=a(we).replace("/",""),me.L=me.R=me.C=-(me.color=1),me.size=me.content?me.content.length:0,me.start=0,me.clsid=me.clsid||Z,W===0)me.C=ie.length>1?1:-1,me.size=0,me.type=5;else if(we.slice(-1)=="/"){for(fe=W+1;fe<ie.length&&n(O.FullPaths[fe])!=we;++fe);for(me.C=fe>=ie.length?-1:fe,fe=W+1;fe<ie.length&&n(O.FullPaths[fe])!=n(we);++fe);me.R=fe>=ie.length?-1:fe,me.type=1}else n(O.FullPaths[W+1]||"")==n(we)&&(me.R=W+1),me.type=2}}}function T(O,U){var F=U||{};if(F.fileType=="mad")return V7(O,F);switch(j(O),F.fileType){case"zip":return R7(O,F)}var L=function(Ae){for(var ge=0,Se=0,He=0;He<Ae.FileIndex.length;++He){var Xt=Ae.FileIndex[He];if(Xt.content){var Zt=Xt.content.length;Zt>0&&(Zt<4096?ge+=Zt+63>>6:Se+=Zt+511>>9)}}for(var wn=Ae.FullPaths.length+3>>2,Ed=ge+7>>3,Cd=ge+127>>7,jd=Ed+Se+wn+Cd,ol=jd+127>>7,Cy=ol<=109?0:Math.ceil((ol-109)/127);jd+ol+Cy+127>>7>ol;)Cy=++ol<=109?0:Math.ceil((ol-109)/127);var di=[1,Cy,ol,Cd,wn,Se,ge,0];return Ae.FileIndex[0].size=ge<<6,di[7]=(Ae.FileIndex[0].start=di[0]+di[1]+di[2]+di[3]+di[4]+di[5])+(di[6]+7>>3),di}(O),W=Fr(L[7]<<9),K=0,se=0;{for(K=0;K<8;++K)W.write_shift(1,z[K]);for(K=0;K<8;++K)W.write_shift(2,0);for(W.write_shift(2,62),W.write_shift(2,3),W.write_shift(2,65534),W.write_shift(2,9),W.write_shift(2,6),K=0;K<3;++K)W.write_shift(2,0);for(W.write_shift(4,0),W.write_shift(4,L[2]),W.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),W.write_shift(4,0),W.write_shift(4,4096),W.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:P),W.write_shift(4,L[3]),W.write_shift(-4,L[1]?L[0]-1:P),W.write_shift(4,L[1]),K=0;K<109;++K)W.write_shift(-4,K<L[2]?L[1]+K:-1)}if(L[1])for(se=0;se<L[1];++se){for(;K<236+se*127;++K)W.write_shift(-4,K<L[2]?L[1]+K:-1);W.write_shift(-4,se===L[1]-1?P:se+1)}var fe=function(Ae){for(se+=Ae;K<se-1;++K)W.write_shift(-4,K+1);Ae&&(++K,W.write_shift(-4,P))};for(se=K=0,se+=L[1];K<se;++K)W.write_shift(-4,G.DIFSECT);for(se+=L[2];K<se;++K)W.write_shift(-4,G.FATSECT);fe(L[3]),fe(L[4]);for(var ae=0,ie=0,oe=O.FileIndex[0];ae<O.FileIndex.length;++ae)oe=O.FileIndex[ae],oe.content&&(ie=oe.content.length,!(ie<4096)&&(oe.start=se,fe(ie+511>>9)));for(fe(L[6]+7>>3);W.l&511;)W.write_shift(-4,G.ENDOFCHAIN);for(se=K=0,ae=0;ae<O.FileIndex.length;++ae)oe=O.FileIndex[ae],oe.content&&(ie=oe.content.length,!(!ie||ie>=4096)&&(oe.start=se,fe(ie+63>>6)));for(;W.l&511;)W.write_shift(-4,G.ENDOFCHAIN);for(K=0;K<L[4]<<2;++K){var me=O.FullPaths[K];if(!me||me.length===0){for(ae=0;ae<17;++ae)W.write_shift(4,0);for(ae=0;ae<3;++ae)W.write_shift(4,-1);for(ae=0;ae<12;++ae)W.write_shift(4,0);continue}oe=O.FileIndex[K],K===0&&(oe.start=oe.size?oe.start-1:P);var we=K===0&&F.root||oe.name;if(ie=2*(we.length+1),W.write_shift(64,we,"utf16le"),W.write_shift(2,ie),W.write_shift(1,oe.type),W.write_shift(1,oe.color),W.write_shift(-4,oe.L),W.write_shift(-4,oe.R),W.write_shift(-4,oe.C),oe.clsid)W.write_shift(16,oe.clsid,"hex");else for(ae=0;ae<4;++ae)W.write_shift(4,0);W.write_shift(4,oe.state||0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,0),W.write_shift(4,oe.start),W.write_shift(4,oe.size),W.write_shift(4,0)}for(K=1;K<O.FileIndex.length;++K)if(oe=O.FileIndex[K],oe.size>=4096)if(W.l=oe.start+1<<9,Xe&&Buffer.isBuffer(oe.content))oe.content.copy(W,W.l,0,oe.size),W.l+=oe.size+511&-512;else{for(ae=0;ae<oe.size;++ae)W.write_shift(1,oe.content[ae]);for(;ae&511;++ae)W.write_shift(1,0)}for(K=1;K<O.FileIndex.length;++K)if(oe=O.FileIndex[K],oe.size>0&&oe.size<4096)if(Xe&&Buffer.isBuffer(oe.content))oe.content.copy(W,W.l,0,oe.size),W.l+=oe.size+63&-64;else{for(ae=0;ae<oe.size;++ae)W.write_shift(1,oe.content[ae]);for(;ae&63;++ae)W.write_shift(1,0)}if(Xe)W.l=W.length;else for(;W.l<W.length;)W.write_shift(1,0);return W}function N(O,U){var F=O.FullPaths.map(function(ae){return ae.toUpperCase()}),L=F.map(function(ae){var ie=ae.split("/");return ie[ie.length-(ae.slice(-1)=="/"?2:1)]}),W=!1;U.charCodeAt(0)===47?(W=!0,U=F[0].slice(0,-1)+U):W=U.indexOf("/")!==-1;var K=U.toUpperCase(),se=W===!0?F.indexOf(K):L.indexOf(K);if(se!==-1)return O.FileIndex[se];var fe=!K.match(nf);for(K=K.replace(Xn,""),fe&&(K=K.replace(nf,"!")),se=0;se<F.length;++se)if((fe?F[se].replace(nf,"!"):F[se]).replace(Xn,"")==K||(fe?L[se].replace(nf,"!"):L[se]).replace(Xn,"")==K)return O.FileIndex[se];return null}var A=64,P=-2,V="d0cf11e0a1b11ae1",z=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",G={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Y(O,U,F){c();var L=T(O,F);l.writeFileSync(U,L)}function I(O){for(var U=new Array(O.length),F=0;F<O.length;++F)U[F]=String.fromCharCode(O[F]);return U.join("")}function te(O,U){var F=T(O,U);switch(U&&U.type||"buffer"){case"file":return c(),l.writeFileSync(U.filename,F),F;case"binary":return typeof F=="string"?F:I(F);case"base64":return _O(typeof F=="string"?F:I(F));case"buffer":if(Xe)return Buffer.isBuffer(F)?F:vc(F);case"array":return typeof F=="string"?ws(F):F}return F}var J;function D(O){try{var U=O.InflateRaw,F=new U;if(F._processChunk(new Uint8Array([3,0]),F._finishFlushFlag),F.bytesRead)J=O;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function R(O,U){if(!J)return rj(O,U);var F=J.InflateRaw,L=new F,W=L._processChunk(O.slice(O.l),L._finishFlushFlag);return O.l+=L.bytesRead,W}function B(O){return J?J.deflateRawSync(O):Be(O)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ue=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function de(O){var U=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(U>>16|U>>8|U)&255}for(var q=typeof Uint8Array<"u",re=q?new Uint8Array(256):[],le=0;le<256;++le)re[le]=de(le);function M(O,U){var F=re[O&255];return U<=8?F>>>8-U:(F=F<<8|re[O>>8&255],U<=16?F>>>16-U:(F=F<<8|re[O>>16&255],F>>>24-U))}function ke(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=6?0:O[L+1]<<8))>>>F&3}function pe(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=5?0:O[L+1]<<8))>>>F&7}function _e(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=4?0:O[L+1]<<8))>>>F&15}function X(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=3?0:O[L+1]<<8))>>>F&31}function Q(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=1?0:O[L+1]<<8))>>>F&127}function ce(O,U,F){var L=U&7,W=U>>>3,K=(1<<F)-1,se=O[W]>>>L;return F<8-L||(se|=O[W+1]<<8-L,F<16-L)||(se|=O[W+2]<<16-L,F<24-L)||(se|=O[W+3]<<24-L),se&K}function ye(O,U,F){var L=U&7,W=U>>>3;return L<=5?O[W]|=(F&7)<<L:(O[W]|=F<<L&255,O[W+1]=(F&7)>>8-L),U+3}function Ce(O,U,F){var L=U&7,W=U>>>3;return F=(F&1)<<L,O[W]|=F,U+1}function We(O,U,F){var L=U&7,W=U>>>3;return F<<=L,O[W]|=F&255,F>>>=8,O[W+1]=F,U+8}function $e(O,U,F){var L=U&7,W=U>>>3;return F<<=L,O[W]|=F&255,F>>>=8,O[W+1]=F&255,O[W+2]=F>>>8,U+16}function bt(O,U){var F=O.length,L=2*F>U?2*F:U+5,W=0;if(F>=U)return O;if(Xe){var K=kO(L);if(O.copy)O.copy(K);else for(;W<O.length;++W)K[W]=O[W];return K}else if(q){var se=new Uint8Array(L);if(se.set)se.set(O);else for(;W<F;++W)se[W]=O[W];return se}return O.length=L,O}function Ge(O){for(var U=new Array(O),F=0;F<O;++F)U[F]=0;return U}function Mt(O,U,F){var L=1,W=0,K=0,se=0,fe=0,ae=O.length,ie=q?new Uint16Array(32):Ge(32);for(K=0;K<32;++K)ie[K]=0;for(K=ae;K<F;++K)O[K]=0;ae=O.length;var oe=q?new Uint16Array(ae):Ge(ae);for(K=0;K<ae;++K)ie[W=O[K]]++,L<W&&(L=W),oe[K]=0;for(ie[0]=0,K=1;K<=L;++K)ie[K+16]=fe=fe+ie[K-1]<<1;for(K=0;K<ae;++K)fe=O[K],fe!=0&&(oe[K]=ie[fe+16]++);var me=0;for(K=0;K<ae;++K)if(me=O[K],me!=0)for(fe=M(oe[K],L)>>L-me,se=(1<<L+4-me)-1;se>=0;--se)U[fe|se<<me]=me&15|K<<4;return L}var ut=q?new Uint16Array(512):Ge(512),Yt=q?new Uint16Array(32):Ge(32);if(!q){for(var wt=0;wt<512;++wt)ut[wt]=0;for(wt=0;wt<32;++wt)Yt[wt]=0}(function(){for(var O=[],U=0;U<32;U++)O.push(5);Mt(O,Yt,32);var F=[];for(U=0;U<=143;U++)F.push(8);for(;U<=255;U++)F.push(9);for(;U<=279;U++)F.push(7);for(;U<=287;U++)F.push(8);Mt(F,ut,288)})();var ln=function(){for(var U=q?new Uint8Array(32768):[],F=0,L=0;F<ue.length-1;++F)for(;L<ue[F+1];++L)U[L]=F;for(;L<32768;++L)U[L]=29;var W=q?new Uint8Array(259):[];for(F=0,L=0;F<ee.length-1;++F)for(;L<ee[F+1];++L)W[L]=F;function K(fe,ae){for(var ie=0;ie<fe.length;){var oe=Math.min(65535,fe.length-ie),me=ie+oe==fe.length;for(ae.write_shift(1,+me),ae.write_shift(2,oe),ae.write_shift(2,~oe&65535);oe-- >0;)ae[ae.l++]=fe[ie++]}return ae.l}function se(fe,ae){for(var ie=0,oe=0,me=q?new Uint16Array(32768):[];oe<fe.length;){var we=Math.min(65535,fe.length-oe);if(we<10){for(ie=ye(ae,ie,+(oe+we==fe.length)),ie&7&&(ie+=8-(ie&7)),ae.l=ie/8|0,ae.write_shift(2,we),ae.write_shift(2,~we&65535);we-- >0;)ae[ae.l++]=fe[oe++];ie=ae.l*8;continue}ie=ye(ae,ie,+(oe+we==fe.length)+2);for(var Ae=0;we-- >0;){var ge=fe[oe];Ae=(Ae<<5^ge)&32767;var Se=-1,He=0;if((Se=me[Ae])&&(Se|=oe&-32768,Se>oe&&(Se-=32768),Se<oe))for(;fe[Se+He]==fe[oe+He]&&He<250;)++He;if(He>2){ge=W[He],ge<=22?ie=We(ae,ie,re[ge+1]>>1)-1:(We(ae,ie,3),ie+=5,We(ae,ie,re[ge-23]>>5),ie+=3);var Xt=ge<8?0:ge-4>>2;Xt>0&&($e(ae,ie,He-ee[ge]),ie+=Xt),ge=U[oe-Se],ie=We(ae,ie,re[ge]>>3),ie-=3;var Zt=ge<4?0:ge-2>>1;Zt>0&&($e(ae,ie,oe-Se-ue[ge]),ie+=Zt);for(var wn=0;wn<He;++wn)me[Ae]=oe&32767,Ae=(Ae<<5^fe[oe])&32767,++oe;we-=He-1}else ge<=143?ge=ge+48:ie=Ce(ae,ie,1),ie=We(ae,ie,re[ge]),me[Ae]=oe&32767,++oe}ie=We(ae,ie,0)-1}return ae.l=(ie+7)/8|0,ae.l}return function(ae,ie){return ae.length<8?K(ae,ie):se(ae,ie)}}();function Be(O){var U=Fr(50+Math.floor(O.length*1.1)),F=ln(O,U);return U.slice(0,F)}var ot=q?new Uint16Array(32768):Ge(32768),dt=q?new Uint16Array(32768):Ge(32768),_t=q?new Uint16Array(128):Ge(128),Oa=1,tj=1;function D7(O,U){var F=X(O,U)+257;U+=5;var L=X(O,U)+1;U+=5;var W=_e(O,U)+4;U+=4;for(var K=0,se=q?new Uint8Array(19):Ge(19),fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ae=1,ie=q?new Uint8Array(8):Ge(8),oe=q?new Uint8Array(8):Ge(8),me=se.length,we=0;we<W;++we)se[H[we]]=K=pe(O,U),ae<K&&(ae=K),ie[K]++,U+=3;var Ae=0;for(ie[0]=0,we=1;we<=ae;++we)oe[we]=Ae=Ae+ie[we-1]<<1;for(we=0;we<me;++we)(Ae=se[we])!=0&&(fe[we]=oe[Ae]++);var ge=0;for(we=0;we<me;++we)if(ge=se[we],ge!=0){Ae=re[fe[we]]>>8-ge;for(var Se=(1<<7-ge)-1;Se>=0;--Se)_t[Ae|Se<<ge]=ge&7|we<<3}var He=[];for(ae=1;He.length<F+L;)switch(Ae=_t[Q(O,U)],U+=Ae&7,Ae>>>=3){case 16:for(K=3+ke(O,U),U+=2,Ae=He[He.length-1];K-- >0;)He.push(Ae);break;case 17:for(K=3+pe(O,U),U+=3;K-- >0;)He.push(0);break;case 18:for(K=11+Q(O,U),U+=7;K-- >0;)He.push(0);break;default:He.push(Ae),ae<Ae&&(ae=Ae);break}var Xt=He.slice(0,F),Zt=He.slice(F);for(we=F;we<286;++we)Xt[we]=0;for(we=L;we<30;++we)Zt[we]=0;return Oa=Mt(Xt,ot,286),tj=Mt(Zt,dt,30),U}function M7(O,U){if(O[0]==3&&!(O[1]&3))return[Wo(U),2];for(var F=0,L=0,W=kO(U||1<<18),K=0,se=W.length>>>0,fe=0,ae=0;!(L&1);){if(L=pe(O,F),F+=3,L>>>1)L>>1==1?(fe=9,ae=5):(F=D7(O,F),fe=Oa,ae=tj);else{F&7&&(F+=8-(F&7));var ie=O[F>>>3]|O[(F>>>3)+1]<<8;if(F+=32,ie>0)for(!U&&se<K+ie&&(W=bt(W,K+ie),se=W.length);ie-- >0;)W[K++]=O[F>>>3],F+=8;continue}for(;;){!U&&se<K+32767&&(W=bt(W,K+32767),se=W.length);var oe=ce(O,F,fe),me=L>>>1==1?ut[oe]:ot[oe];if(F+=me&15,me>>>=4,!(me>>>8&255))W[K++]=me;else{if(me==256)break;me-=257;var we=me<8?0:me-4>>2;we>5&&(we=0);var Ae=K+ee[me];we>0&&(Ae+=ce(O,F,we),F+=we),oe=ce(O,F,ae),me=L>>>1==1?Yt[oe]:dt[oe],F+=me&15,me>>>=4;var ge=me<4?0:me-2>>1,Se=ue[me];for(ge>0&&(Se+=ce(O,F,ge),F+=ge),!U&&se<Ae&&(W=bt(W,Ae+100),se=W.length);K<Ae;)W[K]=W[K-Se],++K}}}return U?[W,F+7>>>3]:[W.slice(0,K),F+7>>>3]}function rj(O,U){var F=O.slice(O.l||0),L=M7(F,U);return O.l+=L[1],L[0]}function nj(O,U){if(O)typeof console<"u"&&console.error(U);else throw new Error(U)}function aj(O,U){var F=O;mn(F,0);var L=[],W=[],K={FileIndex:L,FullPaths:W};E(K,{root:U.root});for(var se=F.length-4;(F[se]!=80||F[se+1]!=75||F[se+2]!=5||F[se+3]!=6)&&se>=0;)--se;F.l=se+4,F.l+=4;var fe=F.read_shift(2);F.l+=6;var ae=F.read_shift(4);for(F.l=ae,se=0;se<fe;++se){F.l+=20;var ie=F.read_shift(4),oe=F.read_shift(4),me=F.read_shift(2),we=F.read_shift(2),Ae=F.read_shift(2);F.l+=8;var ge=F.read_shift(4),Se=o(F.slice(F.l+me,F.l+me+we));F.l+=me+we+Ae;var He=F.l;F.l=ge+4,I7(F,ie,oe,K,Se),F.l=He}return K}function I7(O,U,F,L,W){O.l+=2;var K=O.read_shift(2),se=O.read_shift(2),fe=i(O);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var ae=O.read_shift(4),ie=O.read_shift(4),oe=O.read_shift(4),me=O.read_shift(2),we=O.read_shift(2),Ae="",ge=0;ge<me;++ge)Ae+=String.fromCharCode(O[O.l++]);if(we){var Se=o(O.slice(O.l,O.l+we));(Se[21589]||{}).mt&&(fe=Se[21589].mt),((W||{})[21589]||{}).mt&&(fe=W[21589].mt)}O.l+=we;var He=O.slice(O.l,O.l+ie);switch(se){case 8:He=R(O,oe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+se)}var Xt=!1;K&8&&(ae=O.read_shift(4),ae==134695760&&(ae=O.read_shift(4),Xt=!0),ie=O.read_shift(4),oe=O.read_shift(4)),ie!=U&&nj(Xt,"Bad compressed size: "+U+" != "+ie),oe!=F&&nj(Xt,"Bad uncompressed size: "+F+" != "+oe),Ey(L,Ae,He,{unsafe:!0,mt:fe})}function R7(O,U){var F=U||{},L=[],W=[],K=Fr(1),se=F.compression?8:0,fe=0,ae=0,ie=0,oe=0,me=0,we=O.FullPaths[0],Ae=we,ge=O.FileIndex[0],Se=[],He=0;for(ae=1;ae<O.FullPaths.length;++ae)if(Ae=O.FullPaths[ae].slice(we.length),ge=O.FileIndex[ae],!(!ge.size||!ge.content||Ae=="Sh33tJ5")){var Xt=oe,Zt=Fr(Ae.length);for(ie=0;ie<Ae.length;++ie)Zt.write_shift(1,Ae.charCodeAt(ie)&127);Zt=Zt.slice(0,Zt.l),Se[me]=fxe.buf(ge.content,0);var wn=ge.content;se==8&&(wn=B(wn)),K=Fr(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,fe),K.write_shift(2,se),ge.mt?s(K,ge.mt):K.write_shift(4,0),K.write_shift(-4,Se[me]),K.write_shift(4,wn.length),K.write_shift(4,ge.content.length),K.write_shift(2,Zt.length),K.write_shift(2,0),oe+=K.length,L.push(K),oe+=Zt.length,L.push(Zt),oe+=wn.length,L.push(wn),K=Fr(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,fe),K.write_shift(2,se),K.write_shift(4,0),K.write_shift(-4,Se[me]),K.write_shift(4,wn.length),K.write_shift(4,ge.content.length),K.write_shift(2,Zt.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Xt),He+=K.l,W.push(K),He+=Zt.length,W.push(Zt),++me}return K=Fr(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,me),K.write_shift(2,me),K.write_shift(4,He),K.write_shift(4,oe),K.write_shift(2,0),go([go(L),go(W),K])}var qh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function F7(O,U){if(O.ctype)return O.ctype;var F=O.name||"",L=F.match(/\.([^\.]+)$/);return L&&qh[L[1]]||U&&(L=(F=U).match(/[\.\\]([^\.\\])+$/),L&&qh[L[1]])?qh[L[1]]:"application/octet-stream"}function L7(O){for(var U=_O(O),F=[],L=0;L<U.length;L+=76)F.push(U.slice(L,L+76));return F.join(`\r
`)+`\r
`}function $7(O){var U=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ie){var oe=ie.charCodeAt(0).toString(16).toUpperCase();return"="+(oe.length==1?"0"+oe:oe)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var F=[],L=U.split(`\r
`),W=0;W<L.length;++W){var K=L[W];if(K.length==0){F.push("");continue}for(var se=0;se<K.length;){var fe=76,ae=K.slice(se,se+fe);ae.charAt(fe-1)=="="?fe--:ae.charAt(fe-2)=="="?fe-=2:ae.charAt(fe-3)=="="&&(fe-=3),ae=K.slice(se,se+fe),se+=fe,se<K.length&&(ae+="="),F.push(ae)}}return F.join(`\r
`)}function B7(O){for(var U=[],F=0;F<O.length;++F){for(var L=O[F];F<=O.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+O[++F];U.push(L)}for(var W=0;W<U.length;++W)U[W]=U[W].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return ws(U.join(`\r
`))}function z7(O,U,F){for(var L="",W="",K="",se,fe=0;fe<10;++fe){var ae=U[fe];if(!ae||ae.match(/^\s*$/))break;var ie=ae.match(/^(.*?):\s*([^\s].*)$/);if(ie)switch(ie[1].toLowerCase()){case"content-location":L=ie[2].trim();break;case"content-type":K=ie[2].trim();break;case"content-transfer-encoding":W=ie[2].trim();break}}switch(++fe,W.toLowerCase()){case"base64":se=ws(Ta(U.slice(fe).join("")));break;case"quoted-printable":se=B7(U.slice(fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+W)}var oe=Ey(O,L.slice(F.length),se,{unsafe:!0});K&&(oe.ctype=K)}function U7(O,U){if(I(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var F=U&&U.root||"",L=(Xe&&Buffer.isBuffer(O)?O.toString("binary"):I(O)).split(`\r
`),W=0,K="";for(W=0;W<L.length;++W)if(K=L[W],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),F||(F=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,F.length)!=F))for(;F.length>0&&(F=F.slice(0,F.length-1),F=F.slice(0,F.lastIndexOf("/")+1),K.slice(0,F.length)!=F););var se=(L[1]||"").match(/boundary="(.*?)"/);if(!se)throw new Error("MAD cannot find boundary");var fe="--"+(se[1]||""),ae=[],ie=[],oe={FileIndex:ae,FullPaths:ie};E(oe);var me,we=0;for(W=0;W<L.length;++W){var Ae=L[W];Ae!==fe&&Ae!==fe+"--"||(we++&&z7(oe,L.slice(me,W),F),me=W)}return oe}function V7(O,U){var F=U||{},L=F.boundary||"SheetJS";L="------="+L;for(var W=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],K=O.FullPaths[0],se=K,fe=O.FileIndex[0],ae=1;ae<O.FullPaths.length;++ae)if(se=O.FullPaths[ae].slice(K.length),fe=O.FileIndex[ae],!(!fe.size||!fe.content||se=="Sh33tJ5")){se=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(He){return"_x"+He.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(He){return"_u"+He.charCodeAt(0).toString(16)+"_"});for(var ie=fe.content,oe=Xe&&Buffer.isBuffer(ie)?ie.toString("binary"):I(ie),me=0,we=Math.min(1024,oe.length),Ae=0,ge=0;ge<=we;++ge)(Ae=oe.charCodeAt(ge))>=32&&Ae<128&&++me;var Se=me>=we*4/5;W.push(L),W.push("Content-Location: "+(F.root||"file:///C:/SheetJS/")+se),W.push("Content-Transfer-Encoding: "+(Se?"quoted-printable":"base64")),W.push("Content-Type: "+F7(fe,se)),W.push(""),W.push(Se?$7(oe):L7(oe))}return W.push(L+`--\r
`),W.join(`\r
`)}function W7(O){var U={};return E(U,O),U}function Ey(O,U,F,L){var W=L&&L.unsafe;W||E(O);var K=!W&&Qe.find(O,U);if(!K){var se=O.FullPaths[0];U.slice(0,se.length)==se?se=U:(se.slice(-1)!="/"&&(se+="/"),se=(se+U).replace("//","/")),K={name:a(U),type:2},O.FileIndex.push(K),O.FullPaths.push(se),W||Qe.utils.cfb_gc(O)}return K.content=F,K.size=F?F.length:0,L&&(L.CLSID&&(K.clsid=L.CLSID),L.mt&&(K.mt=L.mt),L.ct&&(K.ct=L.ct)),K}function H7(O,U){E(O);var F=Qe.find(O,U);if(F){for(var L=0;L<O.FileIndex.length;++L)if(O.FileIndex[L]==F)return O.FileIndex.splice(L,1),O.FullPaths.splice(L,1),!0}return!1}function K7(O,U,F){E(O);var L=Qe.find(O,U);if(L){for(var W=0;W<O.FileIndex.length;++W)if(O.FileIndex[W]==L)return O.FileIndex[W].name=a(F),O.FullPaths[W]=F,!0}return!1}function G7(O){j(O,!0)}return t.find=N,t.read=S,t.parse=d,t.write=te,t.writeFile=Y,t.utils={cfb_new:W7,cfb_add:Ey,cfb_del:H7,cfb_mov:K7,cfb_gc:G7,ReadShift:wf,CheckField:cB,prep_blob:mn,bconcat:go,use_zlib:D,_deflateRaw:Be,_inflateRaw:rj,consts:G},t}();function hxe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ni(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VE(e){for(var t=[],r=ni(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var dg=new Date(1899,11,30,0,0,0);function Qn(e,t){var r=e.getTime(),n=dg.getTime()+(e.getTimezoneOffset()-dg.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var U$=new Date,pxe=dg.getTime()+(U$.getTimezoneOffset()-dg.getTimezoneOffset())*6e4,PO=U$.getTimezoneOffset();function oy(e){var t=new Date;return t.setTime(e*24*60*60*1e3+pxe),t.getTimezoneOffset()!==PO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-PO)*6e4),t}function mxe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var OO=new Date("2017-02-19T19:06:09.000Z"),V$=isNaN(OO.getFullYear())?new Date("2/19/17"):OO,vxe=V$.getFullYear()==2017;function sn(e,t){var r=new Date(e);if(vxe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(V$.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function sc(e,t){if(Xe&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return sf(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return sf(T$(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return sf(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return sf(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function gn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=gn(e[r]));return t}function fr(e,t){for(var r="";r.length<t;)r+=e;return r}function Ns(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var gxe=["january","february","march","april","may","june","july","august","september","october","november","december"];function Zu(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&gxe.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var xxe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function W$(e){return e?e.content&&e.type?sc(e.content,!0):e.data?rf(e.data):e.asNodeBuffer&&Xe?rf(e.asNodeBuffer().toString("binary")):e.asBinary?rf(e.asBinary()):e._data&&e._data.getContent?rf(sc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function H$(e){if(!e)return null;if(e.data)return bO(e.data);if(e.asNodeBuffer&&Xe)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?bO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function yxe(e){return e&&e.name.slice(-4)===".bin"?H$(e):W$(e)}function Ba(e,t){for(var r=e.FullPaths||ni(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function WE(e,t){var r=Ba(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function Er(e,t,r){if(!r)return yxe(WE(e,t));if(!t)return null;try{return Er(e,t)}catch{return null}}function wa(e,t,r){if(!r)return W$(WE(e,t));if(!t)return null;try{return wa(e,t)}catch{return null}}function bxe(e,t,r){return H$(WE(e,t))}function DO(e){for(var t=e.FullPaths||ni(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function wxe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Xe?n=vc(r):n=$ge(r),Qe.utils.cfb_add(e,t,n)}Qe.utils.cfb_add(e,t,r)}else e.file(t,r)}function K$(e,t){switch(t.type){case"base64":return Qe.read(e,{type:"base64"});case"binary":return Qe.read(e,{type:"binary"});case"buffer":case"array":return Qe.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function af(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var G$=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,_xe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,MO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,kxe=/<[^>]*>/g,Bn=G$.match(MO)?MO:kxe,Sxe=/<\w*:/,Exe=/<(\/?)\w+:/;function Le(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(_xe),o=0,l="",c=0,d="",f="",h=1;if(i)for(c=0;c!=i.length;++c){for(f=i[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var p=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[p]&&d.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function ci(e){return e.replace(Exe,"<$1")}var q$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Cxe=VE(q$),nt=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return q$[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),jxe=/[&<>'"]/g,Txe=/[\u0000-\u001f]/g;function HE(e){var t=e+"";return t.replace(jxe,function(r){return Cxe[r]}).replace(/\n/g,"<br/>").replace(Txe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var IO=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Vt(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function z1(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function RO(e){var t=Wo(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function FO(e){return vc(e,"binary").toString("utf8")}var Bp="foo bar baz",Ot=Xe&&(FO(Bp)==z1(Bp)&&FO||RO(Bp)==z1(Bp)&&RO)||z1,sf=Xe?function(e){return vc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},T0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),Y$=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Axe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Nxe=/<\/?(?:vt:)?variant>/g,Pxe=/<(?:vt:)([^>]*)>([\s\S]*)</;function LO(e,t){var r=Le(e),n=e.match(Axe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Nxe,"").match(Pxe);i&&a.push({v:Ot(i[2]),t:i[1]})}),a}var Oxe=/(^\s|\s$|\n)/;function Dxe(e){return ni(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Mxe(e,t,r){return"<"+e+(r!=null?Dxe(r):"")+(t!=null?(t.match(Oxe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function KE(e){if(Xe&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Ot(gc(BE(e)));throw new Error("Bad input format: expected Buffer or string")}var A0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Ixe={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Rxe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Fxe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Lxe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var $O=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},BO=Xe?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:vc(t)})):$O(e)}:$O,zO=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(Ei(e,a)));return n.join("").replace(Xn,"")},GE=Xe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Xn,""):zO(e,t,r)}:zO,UO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},X$=Xe?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):UO(e,t,r)}:UO,VO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Wc(e,a)));return n.join("")},Lh=Xe?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):VO(t,r,n)}:VO,Z$=function(e,t){var r=ya(e,t);return r>0?Lh(e,t+4,t+4+r-1):""},J$=Z$,Q$=function(e,t){var r=ya(e,t);return r>0?Lh(e,t+4,t+4+r-1):""},eB=Q$,tB=function(e,t){var r=2*ya(e,t);return r>0?Lh(e,t+4,t+4+r-1):""},rB=tB,nB=function(t,r){var n=ya(t,r);return n>0?GE(t,r+4,r+4+n):""},aB=nB,sB=function(e,t){var r=ya(e,t);return r>0?Lh(e,t+4,t+4+r):""},iB=sB,oB=function(e,t){return Fxe(e,t)},fg=oB,lB=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Xe&&(J$=function(t,r){if(!Buffer.isBuffer(t))return Z$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},eB=function(t,r){if(!Buffer.isBuffer(t))return Q$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},rB=function(t,r){if(!Buffer.isBuffer(t))return tB(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},aB=function(t,r){if(!Buffer.isBuffer(t))return nB(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},iB=function(t,r){if(!Buffer.isBuffer(t))return sB(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},fg=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):oB(t,r)},lB=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Wc=function(e,t){return e[t]},Ei=function(e,t){return e[t+1]*256+e[t]},$xe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ya=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},_l=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Bxe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function wf(e,t){var r="",n,a,s=[],i,o,l,c;switch(t){case"dbcs":if(c=this.l,Xe&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(Ei(this,c)),c+=2;e*=2;break;case"utf8":r=Lh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=GE(this,this.l,this.l+e);break;case"wstr":return wf.call(this,e,"dbcs");case"lpstr-ansi":r=J$(this,this.l),e=4+ya(this,this.l);break;case"lpstr-cp":r=eB(this,this.l),e=4+ya(this,this.l);break;case"lpwstr":r=rB(this,this.l),e=4+2*ya(this,this.l);break;case"lpp4":e=4+ya(this,this.l),r=aB(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ya(this,this.l),r=iB(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Wc(this,this.l+e++))!==0;)s.push($p(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=Ei(this,this.l+e))!==0;)s.push($p(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=Wc(this,c),this.l=c+1,o=wf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($p(Ei(this,c))),c+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=Wc(this,c),this.l=c+1,o=wf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push($p(Wc(this,c))),c+=1}r=s.join("");break;default:switch(e){case 1:return n=Wc(this,this.l),this.l++,n;case 2:return n=(t==="i"?$xe:Ei)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?_l:Bxe)(this,this.l),this.l+=4,n):(a=ya(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=fg(this,this.l):a=fg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=X$(this,this.l,e);break}}return this.l+=e,r}var zxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Uxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Vxe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Wxe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Vxe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,zxe(this,t,this.l);break;case 8:if(n=8,r==="f"){Lxe(this,t,this.l);break}case 16:break;case-4:n=4,Uxe(this,t,this.l);break}return this.l+=n,this}function cB(e,t){var r=X$(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function mn(e,t){e.l=t,e.read_shift=wf,e.chk=cB,e.write_shift=Wxe}function Ln(e,t){e.l+=t}function Fr(e){var t=Wo(e);return mn(t,0),t}function ro(e,t,r){if(e){var n,a,s;mn(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=xg[o]||xg[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var d=c.f&&c.f(e,s,r);if(e.l=l,t(d,c,o))return}}}function N2(){var e=[],t=Xe?256:2048,r=function(c){var d=Fr(c);return mn(d,0),d},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},i=function(){return a(),go(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function _f(e,t,r){var n=gn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function WO(e,t,r){var n=gn(e);return n.s=_f(n.s,t.s,r),n.e=_f(n.e,t.s,r),n}function kf(e,t){if(e.cRel&&e.c<0)for(e=gn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=gn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ue(e);return!e.cRel&&e.cRel!=null&&(r=Gxe(r)),!e.rRel&&e.rRel!=null&&(r=Hxe(r)),r}function U1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ur(e.s.c)+":"+(e.e.cRel?"":"$")+Ur(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+xn(e.s.r)+":"+(e.e.rRel?"":"$")+xn(e.e.r):kf(e.s,t.biff)+":"+kf(e.e,t.biff)}function qE(e){return parseInt(Kxe(e),10)-1}function xn(e){return""+(e+1)}function Hxe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Kxe(e){return e.replace(/\$(\d+)$/,"$1")}function YE(e){for(var t=qxe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ur(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Gxe(e){return e.replace(/^([A-Z])/,"$$$1")}function qxe(e){return e.replace(/^\$([A-Z])/,"$1")}function Yxe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Kn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ue(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function xd(e){var t=e.indexOf(":");return t==-1?{s:Kn(e),e:Kn(e)}:{s:Kn(e.slice(0,t)),e:Kn(e.slice(t+1))}}function et(e,t){return typeof t>"u"||typeof t=="number"?et(e.s,e.e):(typeof e!="string"&&(e=Ue(e)),typeof t!="string"&&(t=Ue(t)),e==t?e:e+":"+t)}function vr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function HO(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Aa(e.z,r?Qn(t):t)}catch{}try{return e.w=Aa((e.XF||{}).numFmtId||(r?14:0),r?Qn(t):t)}catch{return""+t}}function Gi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?wc[e.v]||e.v:t==null?HO(e,e.v):HO(e,t))}function nl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function uB(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Kn(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=vr(s["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),i==-1&&(c.e.r=i=d.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=i+f,v=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||ze[14],n.cellDates?(p.t="d",p.w=Aa(p.z,Qn(p.v))):(p.t="n",p.v=Qn(p.v),p.w=Aa(p.z,p.v))):p.t="s";if(a)s[m]||(s[m]=[]),s[m][v]&&s[m][v].z&&(p.z=s[m][v].z),s[m][v]=p;else{var g=Ue({c:v,r:m});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return c.s.c<1e7&&(s["!ref"]=et(c)),s}function yd(e,t){return uB(null,e,t)}function Xxe(e){return e.read_shift(4,"i")}function In(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Zxe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function XE(e,t){var r=e.l,n=e.read_shift(1),a=In(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(Zxe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var Jxe=XE;function ss(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function yc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var Qxe=In;function ZE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var eye=In,P2=ZE;function JE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?fg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):_l(t,0)>>2;return r?a/100:a}function dB(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var bc=dB;function Pn(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function tye(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Bl[a];c&&(t.rgb=P0(c));break;case 2:t.rgb=P0([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function rye(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function fB(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function nye(e){return fB(e,1)}function aye(e){return fB(e,2)}var QE=2,na=3,zp=11,KO=12,hg=19,Up=64,sye=65,iye=71,oye=4108,lye=4126,Qr=80,hB=81,cye=[Qr,hB],uye={1:{n:"CodePage",t:QE},2:{n:"Category",t:Qr},3:{n:"PresentationFormat",t:Qr},4:{n:"ByteCount",t:na},5:{n:"LineCount",t:na},6:{n:"ParagraphCount",t:na},7:{n:"SlideCount",t:na},8:{n:"NoteCount",t:na},9:{n:"HiddenCount",t:na},10:{n:"MultimediaClipCount",t:na},11:{n:"ScaleCrop",t:zp},12:{n:"HeadingPairs",t:oye},13:{n:"TitlesOfParts",t:lye},14:{n:"Manager",t:Qr},15:{n:"Company",t:Qr},16:{n:"LinksUpToDate",t:zp},17:{n:"CharacterCount",t:na},19:{n:"SharedDoc",t:zp},22:{n:"HyperlinksChanged",t:zp},23:{n:"AppVersion",t:na,p:"version"},24:{n:"DigSig",t:sye},26:{n:"ContentType",t:Qr},27:{n:"ContentStatus",t:Qr},28:{n:"Language",t:Qr},29:{n:"Version",t:Qr},255:{},2147483648:{n:"Locale",t:hg},2147483651:{n:"Behavior",t:hg},1919054434:{}},dye={1:{n:"CodePage",t:QE},2:{n:"Title",t:Qr},3:{n:"Subject",t:Qr},4:{n:"Author",t:Qr},5:{n:"Keywords",t:Qr},6:{n:"Comments",t:Qr},7:{n:"Template",t:Qr},8:{n:"LastAuthor",t:Qr},9:{n:"RevNumber",t:Qr},10:{n:"EditTime",t:Up},11:{n:"LastPrinted",t:Up},12:{n:"CreatedDate",t:Up},13:{n:"ModifiedDate",t:Up},14:{n:"PageCount",t:na},15:{n:"WordCount",t:na},16:{n:"CharCount",t:na},17:{n:"Thumbnail",t:iye},18:{n:"Application",t:Qr},19:{n:"DocSecurity",t:na},255:{},2147483648:{n:"Locale",t:hg},2147483651:{n:"Behavior",t:hg},1919054434:{}},GO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},fye=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function hye(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var pye=hye([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Bl=gn(pye),wc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},pB={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},qO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function mye(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function vye(e){var t=mye();if(!e||!e.match)return t;var r={};if((e.match(Bn)||[]).forEach(function(n){var a=Le(n);switch(a[0].replace(Sxe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[qO[a.ContentType]]!==void 0&&t[qO[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Ixe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var ou={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function O2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Sf(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Bn)||[]).forEach(function(a){var s=Le(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:af(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var gye="application/vnd.oasis.opendocument.spreadsheet";function xye(e,t){for(var r=KE(e),n,a;n=A0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Le(n[0],!1),a.path=="/"&&a.type!==gye)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ef=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],yye=function(){for(var e=new Array(Ef.length),t=0;t<Ef.length;++t){var r=Ef[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function mB(e){var t={};e=Ot(e);for(var r=0;r<Ef.length;++r){var n=Ef[r],a=e.match(yye[r]);a!=null&&a.length>0&&(t[n[1]]=nt(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=sn(t[n[1]]))}return t}var bye=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function vB(e,t,r,n){var a=[];if(typeof e=="string")a=LO(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(d){return{v:d}}));var i=typeof t=="string"?LO(t,n).map(function(d){return d.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function wye(e,t,r){var n={};return t||(t={}),e=Ot(e),bye.forEach(function(a){var s=(e.match(T0(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=nt(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&vB(n.HeadingPairs,n.TitlesOfParts,t,r),t}var _ye=/<[^>]+>[^<]*/g;function kye(e,t){var r={},n="",a=e.match(_ye);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Le(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=nt(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),c=l[0].slice(4),d=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=nt(d);break;case"bool":r[n]=Vt(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=sn(d);break;case"cy":case"error":r[n]=nt(d);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var Sye={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},V1;function Eye(e,t,r){V1||(V1=VE(Sye)),t=V1[t]||t,e[t]=r}function eC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function gB(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function xB(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function yB(e,t,r){return t===31?xB(e):gB(e,t,r)}function D2(e,t,r){return yB(e,t,r===!1?0:4)}function Cye(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return yB(e,t,0)}function jye(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Xn,""),e.l-a&2&&(e.l+=2)}return r}function Tye(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Xn,"");return r}function Aye(e){var t=e.l,r=pg(e,hB);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=pg(e,na);return[r,n]}function Nye(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Aye(e));return r}function YO(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Xn,"").replace(nf,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function bB(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Pye(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function pg(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==KO&&n!==t&&cye.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===KO?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return gB(e,n,4).replace(Xn,"");case 31:return xB(e);case 64:return eC(e);case 65:return bB(e);case 71:return Pye(e);case 80:return D2(e,n,!s.raw).replace(Xn,"");case 81:return Cye(e,n).replace(Xn,"");case 4108:return Nye(e);case 4126:case 4127:return n==4127?jye(e):Tye(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function XO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var d=e.read_shift(4),f=e.read_shift(4);s[i]=[d,f+r]}s.sort(function(b,y){return b[1]-y[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[s[i][0]];if(h[m.n]=pg(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ks(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(s[i][0]===1){if(o=h.CodePage=pg(e,QE),ks(o),l!==-1){var v=e.l;e.l=s[l][1],c=YO(e,o),e.l=v}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}c=YO(e,o)}else{var g=c[s[i][0]],x;switch(e[e.l]){case 65:e.l+=4,x=bB(e);break;case 30:e.l+=4,x=D2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=D2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=gr(e,4);break;case 64:e.l+=4,x=sn(eC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=x}}return e.l=r+n,h}function ZO(e,t,r){var n=e.content;if(!n)return{};mn(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),d=n.read_shift(16);if(d!==Qe.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=XO(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=XO(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[s,i],h}function so(e,t){return e.read_shift(t),null}function Oye(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function gr(e,t){return e.read_shift(t)===1}function Cr(e){return e.read_shift(2,"u")}function wB(e,t){return Oye(e,t,Cr)}function Dye(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function $h(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Mye(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",d=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=d,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ic(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Bh(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ic(e,n,r)}function _c(e,t,r){if(r.biff>5)return Bh(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Iye(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Rye(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Xn,"");return n&&(e.l+=24),a}function Fye(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Xn,"");return r+i}function Lye(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Rye(e);case"0303000000000000c000000000000046":return Fye(e);default:throw new Error("Unsupported Moniker "+r)}}function Vp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Xn,""):"";return r}function $ye(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c="",d,f;a&16&&(s=Vp(e,r-e.l)),a&128&&(i=Vp(e,r-e.l)),(a&257)===257&&(o=Vp(e,r-e.l)),(a&257)===1&&(l=Lye(e,r-e.l)),a&8&&(c=Vp(e,r-e.l)),a&32&&(d=e.read_shift(16)),a&64&&(f=eC(e)),e.l=r;var h=i||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return d&&(p.guid=d),f&&(p.time=f),s&&(p.Tooltip=s),p}function _B(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function kB(e,t){var r=_B(e);return r[3]=0,r}function ui(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Bye(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function zye(e,t,r){return t===0?"":_c(e,t,r)}function Uye(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function SB(e){var t=e.read_shift(2),r=JE(e);return[t,r]}function Vye(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=$h(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function ly(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function EB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Wye=EB;function CB(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Hye(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Kye(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function Sn(e){e.l+=2,e.l+=e.read_shift(2)}var Gye={0:Sn,4:Sn,5:Sn,6:Sn,7:Kye,8:Sn,9:Sn,10:Sn,11:Sn,12:Sn,13:Hye,14:Sn,15:Sn,16:Sn,17:Sn,18:Sn,19:Sn,20:Sn,21:CB};function qye(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Gye[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Wp(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Yye(e,t){return t===0||e.read_shift(2),1200}function Xye(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=_c(e,0,r);return e.read_shift(t+n-e.l),a}function Zye(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Jye(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=$h(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function Qye(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Mye(e));return s.Count=n,s.Unique=a,s}function e1e(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function t1e(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function r1e(e){var t=Bye(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function n1e(e){return e.read_shift(2),e.read_shift(4)}function JO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function a1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:c}}function s1e(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function i1e(){}function o1e(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=$h(e,0,r),n}function l1e(e){var t=ui(e);return t.isst=e.read_shift(4),t}function c1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ui(e);r.biff==2&&e.l++;var s=Bh(e,n-e.l,r);return a.val=s,a}function u1e(e,t,r){var n=e.read_shift(2),a=_c(e,0,r);return[n,a]}var d1e=_c;function QO(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function f1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=SB(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function h1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(SB(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function p1e(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function m1e(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=fye[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function v1e(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=m1e(e,t,n.fStyle,r),n}function g1e(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function e4(e,t,r){var n=ui(e);(r.biff==2||t==9)&&++e.l;var a=Dye(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function x1e(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ui(e),a=Pn(e);return n.val=a,n}var t4=zye;function y1e(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=ic(e,s),o=[];n>e.l;)o.push(Bh(e));return[s,a,i,o]}function r4(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Vye(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var b1e=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function n4(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=ic(e,i,r);a&32&&(c=b1e[c.charCodeAt(0)]);var d=n-e.l;r&&r.biff==2&&--d;var f=n==e.l||o===0||!(d>0)?[]:t_e(e,d,r,o);return{chKey:s,Name:c,itab:l,rgce:f}}function jB(e,t,r){if(r.biff<8)return w1e(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Uye(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function w1e(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=$h(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function _1e(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=ic(e,n,r),i=ic(e,a,r);return[s,i]}function k1e(e,t,r){var n=EB(e);e.l++;var a=e.read_shift(1);return t-=8,[r_e(e,t,r),a,n]}function a4(e,t,r){var n=Wye(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Q2e(e,t,r)]}function S1e(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function E1e(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=_c(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function C1e(e,t,r){return E1e(e,t,r)}function j1e(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(ly(e));return r}function T1e(e,t,r){if(r&&r.biff<8)return N1e(e,t,r);var n=CB(e),a=qye(e,t-22,n[1]);return{cmo:n,ft:a}}var A1e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function N1e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((A1e[n]||Ln)(e,t,r)),{cmo:[a,n,s],ft:i}}function P1e(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Iye(e,6,r);var o=e.read_shift(2);e.read_shift(2),Cr(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var d=e[e.l],f=ic(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(d?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function O1e(e,t){var r=ly(e);e.l+=16;var n=$ye(e,t-24);return[r,n]}function D1e(e,t){e.read_shift(2);var r=ly(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Xn,""),[r,n]}function M1e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=GO[r]||r,r=e.read_shift(2),t[1]=GO[r]||r,t}function I1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(kB(e));return r}function R1e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(kB(e));return r}function F1e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function TB(e,t,r){if(!r.cellStyles)return Ln(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function L1e(e,t){var r={};return t<32||(e.l+=16,r.header=Pn(e),r.footer=Pn(e),e.l+=2),r}function $1e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var B1e=ui,z1e=wB,U1e=Bh;function V1e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function W1e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ui(e);++e.l;var a=_c(e,t-7,r);return n.t="str",n.val=a,n}function H1e(e){var t=ui(e);++e.l;var r=Pn(e);return t.t="n",t.val=r,t}function K1e(e){var t=ui(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function G1e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function q1e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Y1e(e,t,r){var n=e.l+t,a=ui(e),s=e.read_shift(2),i=ic(e,s,r);return e.l=n,a.t="str",a.val=i,a}var X1e=[2,3,48,49,131,139,140,245],s4=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=VE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],d=Wo(1);switch(l.type){case"base64":d=ws(Ta(o));break;case"binary":d=ws(o);break;case"buffer":case"array":d=o;break}mn(d,0);var f=d.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=d.read_shift(2)),d.l+=3,f!=2&&(v=d.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=d.read_shift(2));var x=d.read_shift(2),b=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(b=e[d[d.l]]),d.l+=1,d.l+=2),m&&(d.l+=36);for(var y=[],_={},k=Math.min(d.length,f==2?521:g-10-(p?264:0)),S=m?32:11;d.l<k&&d[d.l]!=13;)switch(_={},_.name=C0.utils.decode(b,d.slice(d.l,d.l+S)).replace(/[\u0000\r\n].*$/g,""),d.l+=S,_.type=String.fromCharCode(d.read_shift(1)),f!=2&&!m&&(_.offset=d.read_shift(4)),_.len=d.read_shift(1),f==2&&(_.offset=d.read_shift(2)),_.dec=d.read_shift(1),_.name.length&&y.push(_),f!=2&&(d.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(d[d.l]!==13&&(d.l=g-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=g;var E=0,C=0;for(c[0]=[],C=0;C!=y.length;++C)c[0][C]=y[C].name;for(;v-- >0;){if(d[d.l]===42){d.l+=x;continue}for(++d.l,c[++E]=[],C=0,C=0;C!=y.length;++C){var j=d.slice(d.l,d.l+y[C].len);d.l+=y[C].len,mn(j,0);var T=C0.utils.decode(b,j);switch(y[C].type){case"C":T.trim().length&&(c[E][C]=T.replace(/\s+$/,""));break;case"D":T.length===8?c[E][C]=new Date(+T.slice(0,4),+T.slice(4,6)-1,+T.slice(6,8)):c[E][C]=T;break;case"F":c[E][C]=parseFloat(T.trim());break;case"+":case"I":c[E][C]=m?j.read_shift(-4,"i")^2147483648:j.read_shift(4,"i");break;case"L":switch(T.trim().toUpperCase()){case"Y":case"T":c[E][C]=!0;break;case"N":case"F":c[E][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+T+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][C]="##MEMO##"+(m?parseInt(T.trim(),10):j.read_shift(4));break;case"N":T=T.replace(/\u0000/g,"").trim(),T&&T!="."&&(c[E][C]=+T||0);break;case"@":c[E][C]=new Date(j.read_shift(-8,"f")-621356832e5);break;case"T":c[E][C]=new Date((j.read_shift(4)-2440588)*864e5+j.read_shift(4));break;case"Y":c[E][C]=j.read_shift(4,"i")/1e4+j.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][C]=-j.read_shift(-8,"f");break;case"B":if(p&&y[C].len==8){c[E][C]=j.read_shift(8,"f");break}case"G":case"P":j.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var d=yd(r(o,c),c);return d["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,d}function a(o,l){try{return nl(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var c=l||{};if(+c.codepage>=0&&ks(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var d=N2(),f=B2(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],v=0,g=0,x=0,b=1;for(v=0;v<h.length;++v){if(((m[v]||{}).DBF||{}).name){h[v]=m[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(g=0;g<1024;++g)if(h.indexOf(h[v]+"_"+g)==-1){h[v]+="_"+g;break}}}}var y=vr(o["!ref"]),_=[],k=[],S=[];for(v=0;v<=y.e.c-y.s.c;++v){var E="",C="",j=0,T=[];for(g=0;g<p.length;++g)p[g][v]!=null&&T.push(p[g][v]);if(T.length==0||h[v]==null){_[v]="?";continue}for(g=0;g<T.length;++g){switch(typeof T[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=T[g]instanceof Date?"D":"C";break;default:C="C"}j=Math.max(j,String(T[g]).length),E=E&&E!=C?"C":C}j>250&&(j=250),C=((m[v]||{}).DBF||{}).type,C=="C"&&m[v].DBF.len>j&&(j=m[v].DBF.len),E=="B"&&C=="N"&&(E="N",S[v]=m[v].DBF.dec,j=m[v].DBF.len),k[v]=E=="C"||C=="N"?j:s[E]||0,b+=k[v],_[v]=E}var N=d.next(32);for(N.write_shift(4,318902576),N.write_shift(4,p.length),N.write_shift(2,296+32*x),N.write_shift(2,b),v=0;v<4;++v)N.write_shift(4,0);for(N.write_shift(4,0|(+t[C$]||3)<<8),v=0,g=0;v<h.length;++v)if(h[v]!=null){var A=d.next(32),P=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,P,"sbcs"),A.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),A.write_shift(4,g),A.write_shift(1,k[v]||s[_[v]]||0),A.write_shift(1,S[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=k[v]||s[_[v]]||0}var V=d.next(264);for(V.write_shift(4,13),v=0;v<65;++v)V.write_shift(4,0);for(v=0;v<p.length;++v){var z=d.next(b);for(z.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":z.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":z.write_shift(8,p[v][g]||0,"f");break;case"N":var Z="0";for(typeof p[v][g]=="number"&&(Z=p[v][g].toFixed(S[g]||0)),x=0;x<k[g]-Z.length;++x)z.write_shift(1,32);z.write_shift(1,Z,"sbcs");break;case"D":p[v][g]?(z.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),z.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),z.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):z.write_shift(8,"00000000","sbcs");break;case"C":var G=String(p[v][g]!=null?p[v][g]:"").slice(0,k[g]);for(z.write_shift(1,G,"sbcs"),x=0;x<k[g]-G.length;++x)z.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),Z1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ni(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?wO(m):m},n=function(h,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?h:wO(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(Ta(h),p);case"binary":return s(h,p);case"buffer":return s(Xe&&Buffer.isBuffer(h)?h.toString("binary"):gc(h),p);case"array":return s(sc(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var m=h.split(/[\n\r]+/),v=-1,g=-1,x=0,b=0,y=[],_=[],k=null,S={},E=[],C=[],j=[],T=0,N;for(+p.codepage>=0&&ks(+p.codepage);x!==m.length;++x){T=0;var A=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),P=A.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),V=P[0],z;if(A.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&_.push(A.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,G=!1,Y=!1,I=!1,te=-1,J=-1;for(b=1;b<P.length;++b)switch(P[b].charAt(0)){case"A":break;case"X":g=parseInt(P[b].slice(1))-1,G=!0;break;case"Y":for(v=parseInt(P[b].slice(1))-1,G||(g=0),N=y.length;N<=v;++N)y[N]=[];break;case"K":z=P[b].slice(1),z.charAt(0)==='"'?z=z.slice(1,z.length-1):z==="TRUE"?z=!0:z==="FALSE"?z=!1:isNaN(Ns(z))?isNaN(Zu(z).getDate())||(z=sn(z)):(z=Ns(z),k!==null&&xc(k)&&(z=oy(z))),Z=!0;break;case"E":I=!0;var D=Cu(P[b].slice(1),{r:v,c:g});y[v][g]=[y[v][g],D];break;case"S":Y=!0,y[v][g]=[y[v][g],"S5S"];break;case"G":break;case"R":te=parseInt(P[b].slice(1))-1;break;case"C":J=parseInt(P[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if(Z&&(y[v][g]&&y[v][g].length==2?y[v][g][0]=z:y[v][g]=z,k=null),Y){if(I)throw new Error("SYLK shared formula cannot have own formula");var R=te>-1&&y[te][J];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");y[v][g][1]=LB(R[1],{r:v-te,c:g-J})}break;case"F":var B=0;for(b=1;b<P.length;++b)switch(P[b].charAt(0)){case"X":g=parseInt(P[b].slice(1))-1,++B;break;case"Y":for(v=parseInt(P[b].slice(1))-1,N=y.length;N<=v;++N)y[N]=[];break;case"M":T=parseInt(P[b].slice(1))/20;break;case"F":break;case"G":break;case"P":k=_[parseInt(P[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(j=P[b].slice(1).split(" "),N=parseInt(j[0],10);N<=parseInt(j[1],10);++N)T=parseInt(j[2],10),C[N-1]=T===0?{hidden:!0}:{wch:T},Ju(C[N-1]);break;case"C":g=parseInt(P[b].slice(1))-1,C[g]||(C[g]={});break;case"R":v=parseInt(P[b].slice(1))-1,E[v]||(E[v]={}),T>0?(E[v].hpt=T,E[v].hpx=O0(T)):T===0&&(E[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}B<1&&(k=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return E.length>0&&(S["!rows"]=E),C.length>0&&(S["!cols"]=C),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,S]}function i(h,p){var m=a(h,p),v=m[0],g=m[1],x=yd(v,p);return ni(g).forEach(function(b){x[b]=g[b]}),x}function o(h,p){return nl(i(h,p),p)}function l(h,p,m,v){var g="C;Y"+(m+1)+";X"+(v+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+Fwe(h.f,{r:m,c:v}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(h,p){p.forEach(function(m,v){var g="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=vg(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=gg(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function d(h,p){p.forEach(function(m,v){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*IB(m.hpx)+";"),g.length>2&&h.push(g+"R"+(v+1))})}function f(h,p){var m=["ID;PWXL;N;E"],v=[],g=vr(h["!ref"]),x,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&d(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var k=g.s.c;k<=g.e.c;++k){var S=Ue({r:_,c:k});x=b?(h[_]||[])[k]:h[S],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,_,k))}return m.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),J1e=function(){function e(s,i){switch(i.type){case"base64":return t(Ta(s),i);case"binary":return t(s,i);case"buffer":return t(Xe&&Buffer.isBuffer(s)?s.toString("binary"):gc(s),i);case"array":return t(sc(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,c=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[d].trim().split(","),p=h[0],m=h[1];++d;for(var v=o[d]||"";(v.match(/["]/g)||[]).length&1&&d<o.length-1;)v+=`
`+o[++d];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(Ns(m))?isNaN(Zu(m).getDate())?f[l][c]=m:f[l][c]=sn(m):f[l][c]=Ns(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return yd(e(s,i),i)}function n(s,i){return nl(r(s,i),i)}var a=function(){var s=function(l,c,d,f,h){l.push(c),l.push(d+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,c,d,f){l.push(c+","+d),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],d=vr(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,d.e.r-d.s.r+1,""),s(c,"TUPLES",0,d.e.c-d.s.c+1,""),s(c,"DATA",0,0,"");for(var p=d.s.r;p<=d.e.r;++p){i(c,-1,0,"BOT");for(var m=d.s.c;m<=d.e.c;++m){var v=Ue({r:p,c:m});if(f=h?(l[p]||[])[m]:l[v],!f){i(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(c,1,0,"="+f.f):i(c,1,0,""):i(c,0,g,"V");break;case"b":i(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Aa(f.z||ze[14],Qn(sn(f.v)))),i(c,0,f.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var x=`\r
`,b=c.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),Q1e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,v=-1,g=0,x=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=Kn(b[1]);if(x.length<=y.r)for(m=x.length;m<=y.r;++m)x[m]||(x[m]=[]);switch(m=y.r,v=y.c,b[2]){case"t":x[m][v]=e(b[3]);break;case"v":x[m][v]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[m][v]=!!+b[4];break;default:x[m][v]=+b[4];break}b[2]=="vtf"&&(x[m][v]=[x[m][v],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return yd(r(f,h),h)}function a(f,h){return nl(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,v="",g=xd(f["!ref"]),x=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(v=Ue({r:b,c:y}),m=x?(f[b]||[])[y]:f[v],!(!m||m.v==null||m.t==="z")){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=Qn(sn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||Aa(m.z||ze[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function d(f){return[s,i,o,i,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:d}}(),N0=function(){function e(d,f,h,p,m){m.raw?f[h][p]=d:d===""||(d==="TRUE"?f[h][p]=!0:d==="FALSE"?f[h][p]=!1:isNaN(Ns(d))?isNaN(Zu(d).getDate())?f[h][p]=d:f[h][p]=sn(d):f[h][p]=Ns(d))}function t(d,f){var h=f||{},p=[];if(!d||d.length===0)return p;for(var m=d.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var g=10,x=0,b=0;b<=v;++b)x=m[b].indexOf(" "),x==-1?x=m[b].length:x++,g=Math.max(g,x);for(b=0;b<=v;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(d){for(var f={},h=!1,p=0,m=0;p<d.length;++p)(m=d.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[m.pop()[1]]||44}function s(d,f){var h=f||{},p="",m=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(p=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(p=d.charAt(4),d=d.slice(6)):p=a(d.slice(0,1024)):h&&h.FS?p=h.FS:p=a(d.slice(0,1024));var g=0,x=0,b=0,y=0,_=0,k=p.charCodeAt(0),S=!1,E=0,C=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var j=h.dateNF!=null?uxe(h.dateNF):null;function T(){var N=d.slice(y,_),A={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)A.t="z";else if(h.raw)A.t="s",A.v=N;else if(N.trim().length===0)A.t="s",A.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(A.t="s",A.v=N.slice(2,-1).replace(/""/g,'"')):$we(N)?(A.t="n",A.f=N.slice(1)):(A.t="s",A.v=N);else if(N=="TRUE")A.t="b",A.v=!0;else if(N=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=Ns(N)))A.t="n",h.cellText!==!1&&(A.w=N),A.v=b;else if(!isNaN(Zu(N).getDate())||j&&N.match(j)){A.z=h.dateNF||ze[14];var P=0;j&&N.match(j)&&(N=dxe(N,h.dateNF,N.match(j)||[]),P=1),h.cellDates?(A.t="d",A.v=sn(N,P)):(A.t="n",A.v=Qn(sn(N,P))),h.cellText!==!1&&(A.w=Aa(A.z,A.v instanceof Date?Qn(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=N;if(A.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][x]=A):m[Ue({c:x,r:g})]=A),y=_+1,C=d.charCodeAt(y),v.e.c<x&&(v.e.c=x),v.e.r<g&&(v.e.r=g),E==k)++x;else if(x=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<d.length;++_)switch(E=d.charCodeAt(_)){case 34:C===34&&(S=!S);break;case k:case 10:case 13:if(!S&&T())break e;break}return _-y>0&&T(),m["!ref"]=et(v),m}function i(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):yd(t(d,f),f)}function o(d,f){var h="",p=f.type=="string"?[0,0,0,0]:lC(d,f);switch(f.type){case"base64":h=Ta(d);break;case"binary":h=d;break;case"buffer":f.codepage==65001?h=d.toString("utf8"):f.codepage&&typeof C0<"u"||(h=Xe&&Buffer.isBuffer(d)?d.toString("binary"):gc(d));break;case"array":h=sc(d);break;case"string":h=d;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=Ot(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Ot(h):f.type=="binary"&&typeof C0<"u",h.slice(0,19)=="socialcalc:version:"?Q1e.to_sheet(f.type=="string"?h:Ot(h),f):i(h,f)}function l(d,f){return nl(o(d,f),f)}function c(d){for(var f=[],h=vr(d["!ref"]),p,m=Array.isArray(d),v=h.s.r;v<=h.e.r;++v){for(var g=[],x=h.s.c;x<=h.e.c;++x){var b=Ue({r:v,c:x});if(p=m?(d[v]||[])[x]:d[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(Gi(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(x===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function ebe(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Z1e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return N0.to_workbook(e,t)}}var Cf=function(){function e(D,R,B){if(D){mn(D,D.l||0);for(var H=B.Enum||te;D.l<D.length;){var ee=D.read_shift(2),ue=H[ee]||H[65535],de=D.read_shift(2),q=D.l+de,re=ue.f&&ue.f(D,de,B);if(D.l=q,R(re,ue,ee))return}}}function t(D,R){switch(R.type){case"base64":return r(ws(Ta(D)),R);case"binary":return r(ws(D),R);case"buffer":case"array":return r(D,R)}throw"Unsupported type "+R.type}function r(D,R){if(!D)return D;var B=R||{},H=B.dense?[]:{},ee="Sheet1",ue="",de=0,q={},re=[],le=[],M={s:{r:0,c:0},e:{r:0,c:0}},ke=B.sheetRows||0;if(D[2]==0&&(D[3]==8||D[3]==9)&&D.length>=16&&D[14]==5&&D[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(D[2]==2)B.Enum=te,e(D,function(Q,ce,ye){switch(ye){case 0:B.vers=Q,Q>=4096&&(B.qpro=!0);break;case 6:M=Q;break;case 204:Q&&(ue=Q);break;case 222:ue=Q;break;case 15:case 51:B.qpro||(Q[1].v=Q[1].v.slice(1));case 13:case 14:case 16:ye==14&&(Q[2]&112)==112&&(Q[2]&15)>1&&(Q[2]&15)<15&&(Q[1].z=B.dateNF||ze[14],B.cellDates&&(Q[1].t="d",Q[1].v=oy(Q[1].v))),B.qpro&&Q[3]>de&&(H["!ref"]=et(M),q[ee]=H,re.push(ee),H=B.dense?[]:{},M={s:{r:0,c:0},e:{r:0,c:0}},de=Q[3],ee=ue||"Sheet"+(de+1),ue="");var Ce=B.dense?(H[Q[0].r]||[])[Q[0].c]:H[Ue(Q[0])];if(Ce){Ce.t=Q[1].t,Ce.v=Q[1].v,Q[1].z!=null&&(Ce.z=Q[1].z),Q[1].f!=null&&(Ce.f=Q[1].f);break}B.dense?(H[Q[0].r]||(H[Q[0].r]=[]),H[Q[0].r][Q[0].c]=Q[1]):H[Ue(Q[0])]=Q[1];break}},B);else if(D[2]==26||D[2]==14)B.Enum=J,D[2]==14&&(B.qpro=!0,D.l=0),e(D,function(Q,ce,ye){switch(ye){case 204:ee=Q;break;case 22:Q[1].v=Q[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Q[3]>de&&(H["!ref"]=et(M),q[ee]=H,re.push(ee),H=B.dense?[]:{},M={s:{r:0,c:0},e:{r:0,c:0}},de=Q[3],ee="Sheet"+(de+1)),ke>0&&Q[0].r>=ke)break;B.dense?(H[Q[0].r]||(H[Q[0].r]=[]),H[Q[0].r][Q[0].c]=Q[1]):H[Ue(Q[0])]=Q[1],M.e.c<Q[0].c&&(M.e.c=Q[0].c),M.e.r<Q[0].r&&(M.e.r=Q[0].r);break;case 27:Q[14e3]&&(le[Q[14e3][0]]=Q[14e3][1]);break;case 1537:le[Q[0]]=Q[1],Q[0]==de&&(ee=Q[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+D[2]);if(H["!ref"]=et(M),q[ue||ee]=H,re.push(ue||ee),!le.length)return{SheetNames:re,Sheets:q};for(var pe={},_e=[],X=0;X<le.length;++X)q[re[X]]?(_e.push(le[X]||re[X]),pe[le[X]]=q[le[X]]||q[re[X]]):(_e.push(le[X]),pe[le[X]]={"!ref":"A1"});return{SheetNames:_e,Sheets:pe}}function n(D,R){var B=R||{};if(+B.codepage>=0&&ks(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var H=N2(),ee=vr(D["!ref"]),ue=Array.isArray(D),de=[];us(H,0,s(1030)),us(H,6,l(ee));for(var q=Math.min(ee.e.r,8191),re=ee.s.r;re<=q;++re)for(var le=xn(re),M=ee.s.c;M<=ee.e.c;++M){re===ee.s.r&&(de[M]=Ur(M));var ke=de[M]+le,pe=ue?(D[re]||[])[M]:D[ke];if(!(!pe||pe.t=="z"))if(pe.t=="n")(pe.v|0)==pe.v&&pe.v>=-32768&&pe.v<=32767?us(H,13,p(re,M,pe.v)):us(H,14,v(re,M,pe.v));else{var _e=Gi(pe);us(H,15,f(re,M,_e.slice(0,239)))}}return us(H,1),H.end()}function a(D,R){var B=R||{};if(+B.codepage>=0&&ks(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var H=N2();us(H,0,i(D));for(var ee=0,ue=0;ee<D.SheetNames.length;++ee)(D.Sheets[D.SheetNames[ee]]||{})["!ref"]&&us(H,27,I(D.SheetNames[ee],ue++));var de=0;for(ee=0;ee<D.SheetNames.length;++ee){var q=D.Sheets[D.SheetNames[ee]];if(!(!q||!q["!ref"])){for(var re=vr(q["!ref"]),le=Array.isArray(q),M=[],ke=Math.min(re.e.r,8191),pe=re.s.r;pe<=ke;++pe)for(var _e=xn(pe),X=re.s.c;X<=re.e.c;++X){pe===re.s.r&&(M[X]=Ur(X));var Q=M[X]+_e,ce=le?(q[pe]||[])[X]:q[Q];if(!(!ce||ce.t=="z"))if(ce.t=="n")us(H,23,T(pe,X,de,ce.v));else{var ye=Gi(ce);us(H,22,E(pe,X,de,ye.slice(0,239)))}}++de}}return us(H,1),H.end()}function s(D){var R=Fr(2);return R.write_shift(2,D),R}function i(D){var R=Fr(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var B=0,H=0,ee=0,ue=0;ue<D.SheetNames.length;++ue){var de=D.SheetNames[ue],q=D.Sheets[de];if(!(!q||!q["!ref"])){++ee;var re=xd(q["!ref"]);B<re.e.r&&(B=re.e.r),H<re.e.c&&(H=re.e.c)}}return B>8191&&(B=8191),R.write_shift(2,B),R.write_shift(1,ee),R.write_shift(1,H),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(D,R,B){var H={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&B.qpro?(H.s.c=D.read_shift(1),D.l++,H.s.r=D.read_shift(2),H.e.c=D.read_shift(1),D.l++,H.e.r=D.read_shift(2),H):(H.s.c=D.read_shift(2),H.s.r=D.read_shift(2),R==12&&B.qpro&&(D.l+=2),H.e.c=D.read_shift(2),H.e.r=D.read_shift(2),R==12&&B.qpro&&(D.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(D){var R=Fr(8);return R.write_shift(2,D.s.c),R.write_shift(2,D.s.r),R.write_shift(2,D.e.c),R.write_shift(2,D.e.r),R}function c(D,R,B){var H=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(H[0].c=D.read_shift(1),H[3]=D.read_shift(1),H[0].r=D.read_shift(2),D.l+=2):(H[2]=D.read_shift(1),H[0].c=D.read_shift(2),H[0].r=D.read_shift(2)),H}function d(D,R,B){var H=D.l+R,ee=c(D,R,B);if(ee[1].t="s",B.vers==20768){D.l++;var ue=D.read_shift(1);return ee[1].v=D.read_shift(ue,"utf8"),ee}return B.qpro&&D.l++,ee[1].v=D.read_shift(H-D.l,"cstr"),ee}function f(D,R,B){var H=Fr(7+B.length);H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,D),H.write_shift(1,39);for(var ee=0;ee<H.length;++ee){var ue=B.charCodeAt(ee);H.write_shift(1,ue>=128?95:ue)}return H.write_shift(1,0),H}function h(D,R,B){var H=c(D,R,B);return H[1].v=D.read_shift(2,"i"),H}function p(D,R,B){var H=Fr(7);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,D),H.write_shift(2,B,"i"),H}function m(D,R,B){var H=c(D,R,B);return H[1].v=D.read_shift(8,"f"),H}function v(D,R,B){var H=Fr(13);return H.write_shift(1,255),H.write_shift(2,R),H.write_shift(2,D),H.write_shift(8,B,"f"),H}function g(D,R,B){var H=D.l+R,ee=c(D,R,B);if(ee[1].v=D.read_shift(8,"f"),B.qpro)D.l=H;else{var ue=D.read_shift(2);_(D.slice(D.l,D.l+ue),ee),D.l+=ue}return ee}function x(D,R,B){var H=R&32768;return R&=-32769,R=(H?D:0)+(R>=8192?R-16384:R),(H?"":"$")+(B?Ur(R):xn(R))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(D,R){mn(D,0);for(var B=[],H=0,ee="",ue="",de="",q="";D.l<D.length;){var re=D[D.l++];switch(re){case 0:B.push(D.read_shift(8,"f"));break;case 1:ue=x(R[0].c,D.read_shift(2),!0),ee=x(R[0].r,D.read_shift(2),!1),B.push(ue+ee);break;case 2:{var le=x(R[0].c,D.read_shift(2),!0),M=x(R[0].r,D.read_shift(2),!1);ue=x(R[0].c,D.read_shift(2),!0),ee=x(R[0].r,D.read_shift(2),!1),B.push(le+M+":"+ue+ee)}break;case 3:if(D.l<D.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(D.read_shift(2));break;case 6:{for(var ke="";re=D[D.l++];)ke+=String.fromCharCode(re);B.push('"'+ke.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:q=B.pop(),de=B.pop(),B.push(["AND","OR"][re-20]+"("+de+","+q+")");break;default:if(re<32&&y[re])q=B.pop(),de=B.pop(),B.push(de+y[re]+q);else if(b[re]){if(H=b[re][1],H==69&&(H=D[D.l++]),H>B.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+B.join("|")+"|");return}var pe=B.slice(-H);B.length-=H,B.push(b[re][0]+"("+pe.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}B.length==1?R[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function k(D){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=D.read_shift(2),R[3]=D[D.l++],R[0].c=D[D.l++],R}function S(D,R){var B=k(D);return B[1].t="s",B[1].v=D.read_shift(R-4,"cstr"),B}function E(D,R,B,H){var ee=Fr(6+H.length);ee.write_shift(2,D),ee.write_shift(1,B),ee.write_shift(1,R),ee.write_shift(1,39);for(var ue=0;ue<H.length;++ue){var de=H.charCodeAt(ue);ee.write_shift(1,de>=128?95:de)}return ee.write_shift(1,0),ee}function C(D,R){var B=k(D);B[1].v=D.read_shift(2);var H=B[1].v>>1;if(B[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return B[1].v=H,B}function j(D,R){var B=k(D),H=D.read_shift(4),ee=D.read_shift(4),ue=D.read_shift(2);if(ue==65535)return H===0&&ee===3221225472?(B[1].t="e",B[1].v=15):H===0&&ee===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var de=ue&32768;return ue=(ue&32767)-16446,B[1].v=(1-de*2)*(ee*Math.pow(2,ue+32)+H*Math.pow(2,ue)),B}function T(D,R,B,H){var ee=Fr(14);if(ee.write_shift(2,D),ee.write_shift(1,B),ee.write_shift(1,R),H==0)return ee.write_shift(4,0),ee.write_shift(4,0),ee.write_shift(2,65535),ee;var ue=0,de=0,q=0,re=0;return H<0&&(ue=1,H=-H),de=Math.log2(H)|0,H/=Math.pow(2,de-31),re=H>>>0,re&2147483648||(H/=2,++de,re=H>>>0),H-=re,re|=2147483648,re>>>=0,H*=Math.pow(2,32),q=H>>>0,ee.write_shift(4,q),ee.write_shift(4,re),de+=16383+(ue?32768:0),ee.write_shift(2,de),ee}function N(D,R){var B=j(D);return D.l+=R-14,B}function A(D,R){var B=k(D),H=D.read_shift(4);return B[1].v=H>>6,B}function P(D,R){var B=k(D),H=D.read_shift(8,"f");return B[1].v=H,B}function V(D,R){var B=P(D);return D.l+=R-10,B}function z(D,R){return D[D.l+R-1]==0?D.read_shift(R,"cstr"):""}function Z(D,R){var B=D[D.l++];B>R-1&&(B=R-1);for(var H="";H.length<B;)H+=String.fromCharCode(D[D.l++]);return H}function G(D,R,B){if(!(!B.qpro||R<21)){var H=D.read_shift(1);D.l+=17,D.l+=1,D.l+=2;var ee=D.read_shift(R-21,"cstr");return[H,ee]}}function Y(D,R){for(var B={},H=D.l+R;D.l<H;){var ee=D.read_shift(2);if(ee==14e3){for(B[ee]=[0,""],B[ee][0]=D.read_shift(2);D[D.l];)B[ee][1]+=String.fromCharCode(D[D.l]),D.l++;D.l++}}return B}function I(D,R){var B=Fr(5+D.length);B.write_shift(2,14e3),B.write_shift(2,R);for(var H=0;H<D.length;++H){var ee=D.charCodeAt(H);B[B.l++]=ee>127?95:ee}return B[B.l++]=0,B}var te={0:{n:"BOF",f:Cr},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:z},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},J={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:S},23:{n:"NUMBER17",f:j},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Y},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:z},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:G},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function tbe(e){var t={},r=e.match(Bn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Le(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=LE[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var rbe=function(){var e=T0("t"),t=T0("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:nt(i[1])},l=s.match(t);return l&&(o.s=tbe(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),nbe=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),abe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,sbe=/<(?:\w+:)?r>/,ibe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function tC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=nt(Ot(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Ot(e),r&&(n.h=HE(n.t))):e.match(sbe)&&(n.r=Ot(e),n.t=nt(Ot((e.replace(ibe,"").match(abe)||[]).join("").replace(Bn,""))),r&&(n.h=nbe(rbe(n.r)))),n):{t:""}}var obe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,lbe=/<(?:\w+:)?(?:si|sstItem)>/g,cbe=/<\/(?:\w+:)?(?:si|sstItem)>/;function ube(e,t){var r=[],n="";if(!e)return r;var a=e.match(obe);if(a){n=a[2].replace(lbe,"").split(cbe);for(var s=0;s!=n.length;++s){var i=tC(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Le(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function dbe(e){return[e.read_shift(4),e.read_shift(4)]}function fbe(e,t){var r=[],n=!1;return ro(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function AB(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Oi(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function hbe(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Oi(e,4),t.U=Oi(e,4),t.W=Oi(e,4),t}function pbe(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function mbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(pbe(e));return t}function vbe(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function gbe(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Oi(e,4),t.U=Oi(e,4),t.W=Oi(e,4),t}function xbe(e){var t=gbe(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function NB(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function PB(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function ybe(e){var t=Oi(e);switch(t.Minor){case 2:return[t.Minor,bbe(e)];case 3:return[t.Minor,wbe()];case 4:return[t.Minor,_be(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function bbe(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=NB(e,r),a=PB(e,e.length-e.l);return{t:"Std",h:n,v:a}}function wbe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function _be(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Bn,function(s){var i=Le(s);switch(ci(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function kbe(e,t){var r={},n=r.EncryptionVersionInfo=Oi(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=NB(e,a),t-=a,r.EncryptionVerifier=PB(e,t),r}function Sbe(e){var t={},r=t.EncryptionVersionInfo=Oi(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Ebe(e){var t=0,r,n=AB(e),a=n.length+1,s,i,o,l,c;for(r=Wo(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^i;return t^52811}var OB=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,c=i.length-1;c>=0;--c)for(var d=i[c],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(i){for(var o=AB(i),l=s(o),c=o.length,d=Wo(16),f=0;f!=16;++f)d[f]=0;var h,p,m;for((c&1)===1&&(h=l>>8,d[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],d[c]=a(p,h));c>0;)--c,h=l>>8,d[c]=a(o[c],h),--c,h=l&255,d[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,d[c]=a(e[m],h),--c,--m,h=l&255,d[c]=a(o[c],h),--c,--m;return d}}(),Cbe=function(e,t,r,n,a){a||(a=t),n||(n=OB(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},jbe=function(e){var t=0,r=OB(e);return function(n){var a=Cbe("",n,t,r);return t=a[1],a[0]}};function Tbe(e,t,r,n){var a={key:Cr(e),verificationBytes:Cr(e)};return r.password&&(a.verifier=Ebe(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=jbe(r.password)),a}function Abe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=Sbe(e):n.Data=kbe(e,t),n}function Nbe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Abe(e,t-2,n):Tbe(e,r.biff>=8?t:t-2,r,n),n}var Pbe=function(){function e(a,s){switch(s.type){case"base64":return t(Ta(a),s);case"binary":return t(a,s);case"buffer":return t(Xe&&Buffer.isBuffer(a)?a.toString("binary"):gc(a),s);case"array":return t(sc(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,v=-1;m=h.exec(d);){switch(m[0]){case"\\cell":var g=d.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var x={v:g,t:"s"};Array.isArray(o)?o[f][v]=x:o[Ue({r:f,c:v})]=x}break}p=h.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=et(c),o}function r(a,s){return nl(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=vr(a["!ref"]),o,l=Array.isArray(a),c=i.s.r;c<=i.e.r;++c){s.push("\\trowd\\trautofit1");for(var d=i.s.c;d<=i.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=i.s.c;d<=i.e.c;++d){var f=Ue({r:c,c:d});o=l?(a[c]||[])[d]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Gi(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Obe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function P0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function Dbe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,c=a+s;switch(l=i/(c>1?2-c:c),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,c/2]}function Mbe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function mg(e,t){if(t===0)return e;var r=Dbe(Obe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),P0(Mbe(r))}var DB=6,Ibe=15,Rbe=1,Wn=DB;function vg(e){return Math.floor((e+Math.round(128/Wn)/256)*Wn)}function gg(e){return Math.floor((e-5)/Wn*100+.5)/100}function M2(e){return Math.round((e*Wn+5)/Wn*256)/256}function W1(e){return M2(gg(vg(e)))}function rC(e){var t=Math.abs(e-W1(e)),r=Wn;if(t>.005)for(Wn=Rbe;Wn<Ibe;++Wn)Math.abs(e-W1(e))<=t&&(t=Math.abs(e-W1(e)),r=Wn);Wn=r}function Ju(e){e.width?(e.wpx=vg(e.width),e.wch=gg(e.wpx),e.MDW=Wn):e.wpx?(e.wch=gg(e.wpx),e.width=M2(e.wch),e.MDW=Wn):typeof e.wch=="number"&&(e.width=M2(e.wch),e.wpx=vg(e.width),e.MDW=Wn),e.customWidth&&delete e.customWidth}var Fbe=96,MB=Fbe;function IB(e){return e*96/MB}function O0(e){return e*MB/96}var Lbe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $be(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Bn)||[]).forEach(function(i){var o=Le(i);switch(ci(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Vt(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Vt(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function Bbe(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Bn)||[]).forEach(function(i){var o=Le(i);switch(ci(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function zbe(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Bn)||[]).forEach(function(i){var o=Le(i);switch(ci(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Ot(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Vt(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Vt(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Vt(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Vt(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Vt(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Vt(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Vt(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=LE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Vt(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Bl[a.color.index];a.color.index==81&&(l=Bl[1]),l||(l=Bl[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=mg(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function Ube(e,t,r){t.NumberFmt=[];for(var n=ni(ze),a=0;a<n.length;++a)t.NumberFmt[n[a]]=ze[n[a]];var s=e[0].match(Bn);if(s)for(a=0;a<s.length;++a){var i=Le(s[a]);switch(ci(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=nt(Ot(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Pi(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Hp=["numFmtId","fillId","fontId","borderId","xfId"],Kp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Vbe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Bn)||[]).forEach(function(s){var i=Le(s),o=0;switch(ci(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<Hp.length;++o)n[Hp[o]]&&(n[Hp[o]]=parseInt(n[Hp[o]],10));for(o=0;o<Kp.length;++o)n[Kp[o]]&&(n[Kp[o]]=Vt(n[Kp[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Vt(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var Wbe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&Ube(f,d,c),(f=o.match(a))&&zbe(f,d,l,c),(f=o.match(n))&&Bbe(f,d,l,c),(f=o.match(s))&&$be(f,d,l,c),(f=o.match(r))&&Vbe(f,d,c),d}}();function Hbe(e,t){var r=e.read_shift(2),n=In(e);return[r,n]}function Kbe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=rye(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=tye(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=In(e),n}var Gbe=Ln;function qbe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var Ybe=Ln;function Xbe(e,t,r){var n={};n.NumberFmt=[];for(var a in ze)n.NumberFmt[a]=ze[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return ro(e,function(l,c,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],Pi(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=mg(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(d),i=!0;break;case 38:s.pop(),i=!1;break;default:if(c.T>0)s.push(d);else if(c.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}var Zbe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Jbe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Bn)||[]).forEach(function(a){var s=Le(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[Zbe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function Qbe(){}function ewe(){}var twe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,rwe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,nwe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function awe(e,t,r){t.themeElements={};var n;[["clrScheme",twe,Jbe],["fontScheme",rwe,Qbe],["fmtScheme",nwe,ewe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var swe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function RB(e,t){(!e||e.length===0)&&(e=iwe());var r,n={};if(!(r=e.match(swe)))throw new Error("themeElements not found in theme");return awe(r[0],n,t),n.raw=e,n}function iwe(e,t){var r=[G$];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function owe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=K$(s,{type:"array"})}catch{return}var o=wa(i,"theme/theme/theme1.xml",!0);if(o)return RB(o,r)}}function lwe(e){return e.read_shift(4)}function cwe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=uwe(e,4);break;case 2:t.xclrValue=_B(e);break;case 3:t.xclrValue=lwe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function uwe(e,t){return Ln(e,t)}function dwe(e,t){return Ln(e,t)}function fwe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=cwe(e);break;case 6:n[1]=dwe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function hwe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(fwe(e,r-e.l));return{ixfe:n,ext:s}}function pwe(e,t){t.forEach(function(r){switch(r[0]){}})}function mwe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:In(e)}}function vwe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function gwe(e){return e.l+=4,e.read_shift(4)!=0}function xwe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return ro(e,function(l,c,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!c.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function ywe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Bn,function(o){var l=Le(o);switch(ci(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(i=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function bwe(e){var t=[];if(!e)return t;var r=1;return(e.match(Bn)||[]).forEach(function(n){var a=Le(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function wwe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ue(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function _we(e,t,r){var n=[];return ro(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function kwe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;ro(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Swe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function i4(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Kn(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=vr(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=et(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var d={a:i.author,t:i.t,r:i.r,T:r};i.h&&(d.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function Ewe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Le(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=Kn(l.ref);if(!(t.sheetRows&&t.sheetRows<=d.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&tC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Cwe(e,t){var r=[],n=!1,a={},s=0;return e.replace(Bn,function(o,l){var c=Le(o);switch(ci(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function jwe(e,t){var r=[],n=!1;return e.replace(Bn,function(s){var i=Le(s);switch(ci(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function Twe(e){var t={};t.iauthor=e.read_shift(4);var r=bc(e);return t.rfx=r.s,t.ref=Ue(r.s),e.l+=16,t}var Awe=In;function Nwe(e,t){var r=[],n=[],a={},s=!1;return ro(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Pwe="application/vnd.ms-office.vbaProject";function Owe(e){var t=Qe.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Qe.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Qe.write(t)}function Dwe(){return{"!type":"dialog"}}function Mwe(){return{"!type":"dialog"}}function Iwe(){return{"!type":"macro"}}function Rwe(){return{"!type":"macro"}}var Cu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,d=i.length>0?parseInt(i,10)|0:0;return o?d+=t.c:--d,l?c+=t.r:--c,a+(o?"":"$")+Ur(d)+(l?"":"$")+xn(c)}return function(a,s){return t=s,a.replace(e,r)}}(),FB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Fwe=function(){return function(t,r){return t.replace(FB,function(n,a,s,i,o,l){var c=YE(i)-(s?0:r.c),d=qE(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",h=c==0?"":s?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function LB(e,t){return e.replace(FB,function(r,n,a,s,i,o){return n+(a=="$"?a+s:Ur(YE(s)+t.c))+(i=="$"?i+o:xn(qE(o)+t.r))})}function Lwe(e,t,r){var n=xd(t),a=n.s,s=Kn(r),i={r:s.r-a.r,c:s.c-a.c};return LB(e,i)}function $we(e){return e.length!=1}function o4(e){return e.replace(/_xlfn\./g,"")}function Sr(e){e.l+=1}function Ho(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function $B(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return BB(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Ho(e),o=Ho(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function BB(e){var t=Ho(e),r=Ho(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Bwe(e,t,r){if(r.biff<8)return BB(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Ho(e),i=Ho(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function zB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return zwe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ho(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function zwe(e){var t=Ho(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Uwe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Vwe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Wwe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function Wwe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Hwe(e,t,r){var n=(e[e.l++]&96)>>5,a=$B(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Kwe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=$B(e,s,r);return[n,a,i]}function Gwe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function qwe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function Ywe(e,t,r){var n=(e[e.l++]&96)>>5,a=Bwe(e,t-1,r);return[n,a]}function Xwe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function l4(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Zwe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Jwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Qwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function e2e(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function t2e(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function UB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function r2e(e){return e.read_shift(2),UB(e)}function n2e(e){return e.read_shift(2),UB(e)}function a2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=zB(e,0,r);return[n,a]}function s2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Vwe(e,0,r);return[n,a]}function i2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=zB(e,0,r);return[n,a,s]}function o2e(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[l_e[a],HB[a],n]}function l2e(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:c2e(e);return[a,(s[0]===0?HB:o_e)[s[1]]]}function c2e(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function u2e(e,t,r){e.l+=r&&r.biff==2?3:4}function d2e(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function f2e(e){return e.l++,wc[e.read_shift(1)]}function h2e(e){return e.l++,e.read_shift(2)}function p2e(e){return e.l++,e.read_shift(1)!==0}function m2e(e){return e.l++,Pn(e)}function v2e(e,t,r){return e.l++,$h(e,t-1,r)}function g2e(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=gr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=wc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Pn(e);break;case 2:r[1]=_c(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function x2e(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?bc:ly)(e));return a}function y2e(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=g2e(e,r.biff);return i}function b2e(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function w2e(e,t,r){if(r.biff==5)return _2e(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function _2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function k2e(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function S2e(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function E2e(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function C2e(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var j2e=Ln,T2e=Ln,A2e=Ln;function zh(e,t,r){return e.l+=2,[Uwe(e)]}function nC(e){return e.l+=6,[]}var N2e=zh,P2e=nC,O2e=nC,D2e=zh;function VB(e){return e.l+=2,[Cr(e),e.read_shift(2)&1]}var M2e=zh,I2e=VB,R2e=nC,F2e=zh,L2e=zh,$2e=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function B2e(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=$2e[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function z2e(e){return e.l+=2,[e.read_shift(4)]}function U2e(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function V2e(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function W2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function H2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function K2e(e){return e.l+=4,[0,0]}var c4={1:{n:"PtgExp",f:d2e},2:{n:"PtgTbl",f:A2e},3:{n:"PtgAdd",f:Sr},4:{n:"PtgSub",f:Sr},5:{n:"PtgMul",f:Sr},6:{n:"PtgDiv",f:Sr},7:{n:"PtgPower",f:Sr},8:{n:"PtgConcat",f:Sr},9:{n:"PtgLt",f:Sr},10:{n:"PtgLe",f:Sr},11:{n:"PtgEq",f:Sr},12:{n:"PtgGe",f:Sr},13:{n:"PtgGt",f:Sr},14:{n:"PtgNe",f:Sr},15:{n:"PtgIsect",f:Sr},16:{n:"PtgUnion",f:Sr},17:{n:"PtgRange",f:Sr},18:{n:"PtgUplus",f:Sr},19:{n:"PtgUminus",f:Sr},20:{n:"PtgPercent",f:Sr},21:{n:"PtgParen",f:Sr},22:{n:"PtgMissArg",f:Sr},23:{n:"PtgStr",f:v2e},26:{n:"PtgSheet",f:U2e},27:{n:"PtgEndSheet",f:V2e},28:{n:"PtgErr",f:f2e},29:{n:"PtgBool",f:p2e},30:{n:"PtgInt",f:h2e},31:{n:"PtgNum",f:m2e},32:{n:"PtgArray",f:Xwe},33:{n:"PtgFunc",f:o2e},34:{n:"PtgFuncVar",f:l2e},35:{n:"PtgName",f:b2e},36:{n:"PtgRef",f:a2e},37:{n:"PtgArea",f:Hwe},38:{n:"PtgMemArea",f:k2e},39:{n:"PtgMemErr",f:j2e},40:{n:"PtgMemNoMem",f:T2e},41:{n:"PtgMemFunc",f:S2e},42:{n:"PtgRefErr",f:E2e},43:{n:"PtgAreaErr",f:Gwe},44:{n:"PtgRefN",f:s2e},45:{n:"PtgAreaN",f:Ywe},46:{n:"PtgMemAreaN",f:W2e},47:{n:"PtgMemNoMemN",f:H2e},57:{n:"PtgNameX",f:w2e},58:{n:"PtgRef3d",f:i2e},59:{n:"PtgArea3d",f:Kwe},60:{n:"PtgRefErr3d",f:C2e},61:{n:"PtgAreaErr3d",f:qwe},255:{}},G2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},q2e={1:{n:"PtgElfLel",f:VB},2:{n:"PtgElfRw",f:F2e},3:{n:"PtgElfCol",f:N2e},6:{n:"PtgElfRwV",f:L2e},7:{n:"PtgElfColV",f:D2e},10:{n:"PtgElfRadical",f:M2e},11:{n:"PtgElfRadicalS",f:R2e},13:{n:"PtgElfColS",f:P2e},15:{n:"PtgElfColSV",f:O2e},16:{n:"PtgElfRadicalLel",f:I2e},25:{n:"PtgList",f:B2e},29:{n:"PtgSxName",f:z2e},255:{}},Y2e={0:{n:"PtgAttrNoop",f:K2e},1:{n:"PtgAttrSemi",f:t2e},2:{n:"PtgAttrIf",f:Qwe},4:{n:"PtgAttrChoose",f:Zwe},8:{n:"PtgAttrGoto",f:Jwe},16:{n:"PtgAttrSum",f:u2e},32:{n:"PtgAttrBaxcel",f:l4},33:{n:"PtgAttrBaxcel",f:l4},64:{n:"PtgAttrSpace",f:r2e},65:{n:"PtgAttrSpaceSemi",f:n2e},128:{n:"PtgAttrIfError",f:e2e},255:{}};function Uh(e,t,r,n){if(n.biff<8)return Ln(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=y2e(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=x2e(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Ln(e,t)),s}function Vh(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=c4[s]||c4[G2e[s]],(s===24||s===25)&&(a=(s===24?q2e:Y2e)[e[e.l+1]]),!a||!a.f?Ln(e,t):i.push([a.n,a.f(e,t,r)]);return i}function X2e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Z2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function J2e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function WB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function u4(e,t,r){var n=WB(e,t,r);return n=="#REF"?n:J2e(n,r)}function jn(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,c,d,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=fr(" ",e[0][v][1][1]);break;case 1:g=fr("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}o.push(c+Z2e[y[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=_f(y[1][1],i,a),o.push(kf(d,s));break;case"PtgRefN":d=r?_f(y[1][1],r,a):y[1][1],o.push(kf(d,s));break;case"PtgRef3d":f=y[1][1],d=_f(y[1][2],i,a),m=u4(n,f,a),o.push(m+"!"+kf(d,s));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],k=y[1][1];_||(_=0),_&=127;var S=_==0?[]:o.slice(-_);o.length-=_,k==="User"&&(k=S.shift()),o.push(k+"("+S.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=WO(y[1][1],r?{s:r}:i,a),o.push(U1(p,a));break;case"PtgArea":p=WO(y[1][1],i,a),o.push(U1(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=u4(n,f,a),o.push(m+"!"+U1(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],C=E?E.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var j=y[1][1];h=y[1][2];var T;if(a.biff<=5)j<0&&(j=-j),n[j]&&(T=n[j][h]);else{var N="";if(((n[j]||[])[0]||[])[0]==14849||(((n[j]||[])[0]||[])[0]==1025?n[j][h]&&n[j][h].itab>0&&(N=n.SheetNames[n[j][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[j]&&n[j][h])N+=n[j][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var A=(WB(n,j,a)||"").split(";;");A[h-1]?N=A[h-1]:N+="SH33TJSERRX"}o.push(N);break}T||(T={Name:"SH33TJSERRY"}),o.push(T.Name);break;case"PtgParen":var P="(",V=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:P=fr(" ",e[0][v][1][1])+P;break;case 3:P=fr("\r",e[0][v][1][1])+P;break;case 4:V=fr(" ",e[0][v][1][1])+V;break;case 5:V=fr("\r",e[0][v][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(P+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:y[1][1],r:y[1][0]};var z={c:r.c,r:r.r};if(n.sharedf[Ue(d)]){var Z=n.sharedf[Ue(d)];o.push(jn(Z,i,z,n,a))}else{var G=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(d.c<c[0].s.c||d.c>c[0].e.c)&&!(d.r<c[0].s.r||d.r>c[0].e.r)){o.push(jn(c[1],i,z,n,a)),G=!0;break}G||o.push(y[1])}break;case"PtgArray":o.push("{"+X2e(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var Y=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&Y.indexOf(e[0][x][0])==-1){y=e[0][v];var I=!0;switch(y[1][0]){case 4:I=!1;case 0:g=fr(" ",y[1][1]);break;case 5:I=!1;case 1:g=fr("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((I?g:"")+o.pop()+(I?"":g)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Q2e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Ln(e,t-2)];var o=Vh(e,i,r);return t!==i+a&&(s=Uh(e,t-i-a,o,r)),e.l=n,[o,s]}function e_e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Ln(e,t-2)];var o=Vh(e,i,r);return t!==i+a&&(s=Uh(e,t-i-a,o,r)),e.l=n,[o,s]}function t_e(e,t,r,n){var a=e.l+t,s=Vh(e,n,r),i;return a!==e.l&&(i=Uh(e,a-e.l,s,r)),[s,i]}function r_e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Vh(e,s,r);return s==65535?[[],Ln(e,t-2)]:(t!==s+2&&(a=Uh(e,n-s-2,i,r)),[i,a])}function n_e(e){var t;if(Ei(e,e.l+6)!==65535)return[Pn(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function H1(e,t,r){var n=e.l+t,a=ui(e);r.biff==2&&++e.l;var s=n_e(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=e_e(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function cy(e,t,r){var n=e.read_shift(4),a=Vh(e,n,r),s=e.read_shift(4),i=s>0?Uh(e,s,a,r):null;return[a,i]}var a_e=cy,uy=cy,s_e=cy,i_e=cy,o_e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},HB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},l_e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function d4(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function K1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var jf={},ju={};function Tf(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function KB(e,t,r,n,a,s){try{n.cellNF&&(e.z=ze[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=sn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(ze[t]==null&&Pi(cxe[t]||"General",t),e.t==="e")e.w=e.w||wc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v);else if(e.t==="d"){var i=Qn(e.v);(i|0)===i?e.w=i.toString(10):e.w=j0(i)}else{if(e.v===void 0)return"";e.w=ac(e.v,ju)}else e.t==="d"?e.w=Aa(t,Qn(e.v),ju):e.w=Aa(t,e.v,ju)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=mg(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=mg(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function c_e(e,t){var r=vr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=et(r))}var u_e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,d_e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,f_e=/<(?:\w:)?hyperlink [^>]*>/mg,h_e=/"(\w*:\w*)"/,p_e=/<(?:\w:)?col\b[^>]*[\/]?>/g,m_e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,v_e=/<(?:\w:)?pageMargins[^>]*\/>/g,GB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,g_e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,x_e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function y_e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",d="",f=e.match(d_e);f?(c=e.slice(0,f.index),d=e.slice(f.index+f[0].length)):c=d=e;var h=c.match(GB);h?aC(h[0],o,a,r):(h=c.match(g_e))&&b_e(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(h_e);m&&c_e(o,m[1])}var v=c.match(x_e);v&&v[1]&&C_e(v[1],a);var g=[];if(t.cellStyles){var x=c.match(p_e);x&&k_e(g,x)}f&&j_e(f[1],o,t,l,s,i);var b=d.match(m_e);b&&(o["!autofilter"]=S_e(b[0]));var y=[],_=d.match(u_e);if(_)for(p=0;p!=_.length;++p)y[p]=vr(_[p].slice(_[p].indexOf('"')+1));var k=d.match(f_e);k&&w_e(o,k,n);var S=d.match(v_e);if(S&&(o["!margins"]=__e(Le(S[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=et(l)),t.sheetRows>0&&o["!ref"]){var E=vr(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=et(E))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function aC(e,t,r,n){var a=Le(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=nt(Ot(a.codeName)))}function b_e(e,t,r,n,a){aC(e.slice(0,e.indexOf(">")),r,n,a)}function w_e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Le(Ot(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+nt(s.location))):(s.Target="#"+nt(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=vr(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var d=Ue({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[d]||(e[d]={t:"z",v:void 0}),e[d].l=s)}}}function __e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function k_e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Le(t[n],!0);a.hidden&&(a.hidden=Vt(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,rC(a.width)),Ju(a);s<=i;)e[s++]=gn(a)}}function S_e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var E_e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function C_e(e,t){t.Views||(t.Views=[{}]),(e.match(E_e)||[]).forEach(function(r,n){var a=Le(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Vt(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var j_e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=T0("v"),i=T0("f");return function(l,c,d,f,h,p){for(var m=0,v="",g=[],x=[],b=0,y=0,_=0,k="",S,E,C=0,j=0,T,N,A=0,P=0,V=Array.isArray(p.CellXf),z,Z=[],G=[],Y=Array.isArray(c),I=[],te={},J=!1,D=!!d.sheetStubs,R=l.split(t),B=0,H=R.length;B!=H;++B){v=R[B].trim();var ee=v.length;if(ee!==0){var ue=0;e:for(m=0;m<ee;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(d&&d.cellStyles){if(E=Le(v.slice(ue,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,j=-1,d.sheetRows&&d.sheetRows<C)continue;te={},J=!1,E.ht&&(J=!0,te.hpt=parseFloat(E.ht),te.hpx=O0(te.hpt)),E.hidden=="1"&&(J=!0,te.hidden=!0),E.outlineLevel!=null&&(J=!0,te.level=+E.outlineLevel),J&&(I[C-1]=te)}break;case"<":ue=m;break}if(ue>=m)break;if(E=Le(v.slice(ue,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,j=-1,!(d.sheetRows&&d.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),d&&d.cellStyles&&(te={},J=!1,E.ht&&(J=!0,te.hpt=parseFloat(E.ht),te.hpx=O0(te.hpt)),E.hidden=="1"&&(J=!0,te.hidden=!0),E.outlineLevel!=null&&(J=!0,te.level=+E.outlineLevel),J&&(I[C-1]=te)),g=v.slice(m).split(e);for(var de=0;de!=g.length&&g[de].trim().charAt(0)=="<";++de);for(g=g.slice(de),m=0;m!=g.length;++m)if(v=g[m].trim(),v.length!==0){if(x=v.match(r),b=m,y=0,_=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,x!=null&&x.length===2){for(b=0,k=x[1],y=0;y!=k.length&&!((_=k.charCodeAt(y)-64)<1||_>26);++y)b=26*b+_;--b,j=b}else++j;for(y=0;y!=v.length&&v.charCodeAt(y)!==62;++y);if(++y,E=Le(v.slice(0,y),!0),E.r||(E.r=Ue({r:C-1,c:j})),k=v.slice(y),S={t:""},(x=k.match(s))!=null&&x[1]!==""&&(S.v=nt(x[1])),d.cellFormula){if((x=k.match(i))!=null&&x[1]!==""){if(S.f=nt(Ot(x[1])).replace(/\r\n/g,`
`),d.xlfn||(S.f=o4(S.f)),x[0].indexOf('t="array"')>-1)S.F=(k.match(a)||[])[1],S.F.indexOf(":")>-1&&Z.push([vr(S.F),S.F]);else if(x[0].indexOf('t="shared"')>-1){N=Le(x[0]);var q=nt(Ot(x[1]));d.xlfn||(q=o4(q)),G[parseInt(N.si,10)]=[N,q,E.r]}}else(x=k.match(/<f[^>]*\/>/))&&(N=Le(x[0]),G[N.si]&&(S.f=Lwe(G[N.si][1],G[N.si][2],E.r)));var re=Kn(E.r);for(y=0;y<Z.length;++y)re.r>=Z[y][0].s.r&&re.r<=Z[y][0].e.r&&re.c>=Z[y][0].s.c&&re.c<=Z[y][0].e.c&&(S.F=Z[y][1])}if(E.t==null&&S.v===void 0)if(S.f||S.F)S.v=0,S.t="n";else if(D)S.t="z";else continue;else S.t=E.t||"n";switch(f.s.c>j&&(f.s.c=j),f.e.c<j&&(f.e.c=j),S.t){case"n":if(S.v==""||S.v==null){if(!D)continue;S.t="z"}else S.v=parseFloat(S.v);break;case"s":if(typeof S.v>"u"){if(!D)continue;S.t="z"}else T=jf[parseInt(S.v,10)],S.v=T.t,S.r=T.r,d.cellHTML&&(S.h=T.h);break;case"str":S.t="s",S.v=S.v!=null?Ot(S.v):"",d.cellHTML&&(S.h=HE(S.v));break;case"inlineStr":x=k.match(n),S.t="s",x!=null&&(T=tC(x[1]))?(S.v=T.t,d.cellHTML&&(S.h=T.h)):S.v="";break;case"b":S.v=Vt(S.v);break;case"d":d.cellDates?S.v=sn(S.v,1):(S.v=Qn(sn(S.v,1)),S.t="n");break;case"e":(!d||d.cellText!==!1)&&(S.w=S.v),S.v=pB[S.v];break}if(A=P=0,z=null,V&&E.s!==void 0&&(z=p.CellXf[E.s],z!=null&&(z.numFmtId!=null&&(A=z.numFmtId),d.cellStyles&&z.fillId!=null&&(P=z.fillId))),KB(S,A,P,d,h,p),d.cellDates&&V&&S.t=="n"&&xc(ze[A])&&(S.t="d",S.v=oy(S.v)),E.cm&&d.xlmeta){var le=(d.xlmeta.Cell||[])[+E.cm-1];le&&le.type=="XLDAPR"&&(S.D=!0)}if(Y){var M=Kn(E.r);c[M.r]||(c[M.r]=[]),c[M.r][M.c]=S}else c[E.r]=S}}}}I.length>0&&(c["!rows"]=I)}}();function T_e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var A_e=bc;function N_e(){}function P_e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Qxe(e),r}function O_e(e){var t=ss(e);return[t]}function D_e(e){var t=yc(e);return[t]}function M_e(e){var t=ss(e),r=e.read_shift(1);return[t,r,"b"]}function I_e(e){var t=yc(e),r=e.read_shift(1);return[t,r,"b"]}function R_e(e){var t=ss(e),r=e.read_shift(1);return[t,r,"e"]}function F_e(e){var t=yc(e),r=e.read_shift(1);return[t,r,"e"]}function L_e(e){var t=ss(e),r=e.read_shift(4);return[t,r,"s"]}function $_e(e){var t=yc(e),r=e.read_shift(4);return[t,r,"s"]}function B_e(e){var t=ss(e),r=Pn(e);return[t,r,"n"]}function qB(e){var t=yc(e),r=Pn(e);return[t,r,"n"]}function z_e(e){var t=ss(e),r=JE(e);return[t,r,"n"]}function U_e(e){var t=yc(e),r=JE(e);return[t,r,"n"]}function V_e(e){var t=ss(e),r=XE(e);return[t,r,"is"]}function W_e(e){var t=ss(e),r=In(e);return[t,r,"str"]}function H_e(e){var t=yc(e),r=In(e);return[t,r,"str"]}function K_e(e,t,r){var n=e.l+t,a=ss(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);i[3]=jn(o,null,a,r.supbooks,r)}else e.l=n;return i}function G_e(e,t,r){var n=e.l+t,a=ss(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);i[3]=jn(o,null,a,r.supbooks,r)}else e.l=n;return i}function q_e(e,t,r){var n=e.l+t,a=ss(e);a.r=r["!row"];var s=Pn(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);i[3]=jn(o,null,a,r.supbooks,r)}else e.l=n;return i}function Y_e(e,t,r){var n=e.l+t,a=ss(e);a.r=r["!row"];var s=In(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=uy(e,n-e.l,r);i[3]=jn(o,null,a,r.supbooks,r)}else e.l=n;return i}var X_e=bc;function Z_e(e,t){var r=e.l+t,n=bc(e),a=ZE(e),s=In(e),i=In(e),o=In(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function J_e(){}function Q_e(e,t,r){var n=e.l+t,a=dB(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=a_e(e,n-e.l,r);i[1]=o}else e.l=n;return i}function eke(e,t,r){var n=e.l+t,a=bc(e),s=[a];if(r.cellFormula){var i=i_e(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var tke=["left","right","top","bottom","header","footer"];function rke(e){var t={};return tke.forEach(function(r){t[r]=Pn(e)}),t}function nke(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function ake(){}function ske(){}function ike(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,v,g,x,b,y,_,k,S=[];o.biff=12,o["!row"]=0;var E=0,C=!1,j=[],T={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=T,N.arrayf=j,N.SheetNames=a.SheetNames||a.Sheets.map(function(Y){return Y.name}),!o.supbooks&&(o.supbooks=N,a.Names))for(var A=0;A<a.Names.length;++A)N[0][A+1]=a.Names[A];var P=[],V=[],z=!1;xg[16]={n:"BrtShortReal",f:qB};var Z;if(ro(e,function(I,te,J){if(!h)switch(J){case 148:c=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),_=xn(g=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=O0(I.hpt)),V[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":y=jf[I[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=wc[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((v=i.CellXf[I[0].iStyleRef])&&KB(m,v.numFmtId,null,o,s,i),x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Ur(x)+_]=m,o.cellFormula){for(C=!1,E=0;E<j.length;++E){var D=j[E];p.r>=D[0].s.r&&p.r<=D[0].e.r&&x>=D[0].s.c&&x<=D[0].e.c&&(m.F=et(D[0]),C=!0)}!C&&I.length>3&&(m.f=I[3])}if(d.s.r>p.r&&(d.s.r=p.r),d.s.c>x&&(d.s.c=x),d.e.r<p.r&&(d.e.r=p.r),d.e.c<x&&(d.e.c=x),o.cellDates&&v&&m.t=="n"&&xc(ze[v.numFmtId])){var R=wo(m.v);R&&(m.t="d",m.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}Z&&(Z.type=="XLDAPR"&&(m.D=!0),Z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Ur(x)+_]=m,d.s.r>p.r&&(d.s.r=p.r),d.s.c>x&&(d.s.c=x),d.e.r<p.r&&(d.e.r=p.r),d.e.c<x&&(d.e.c=x),Z&&(Z.type=="XLDAPR"&&(m.D=!0),Z=void 0);break;case 176:S.push(I);break;case 49:Z=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var B=n["!id"][I.relId];for(B?(I.Target=B.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=B):I.relId==""&&(I.Target="#"+I.loc),g=I.rfx.s.r;g<=I.rfx.e.r;++g)for(x=I.rfx.s.c;x<=I.rfx.e.c;++x)o.dense?(l[g]||(l[g]=[]),l[g][x]||(l[g][x]={t:"z",v:void 0}),l[g][x].l=I):(b=Ue({c:x,r:g}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=I);break;case 426:if(!o.cellFormula)break;j.push(I),k=o.dense?l[g][x]:l[Ur(x)+_],k.f=jn(I[1],d,{r:p.r,c:x},N,o),k.F=et(I[0]);break;case 427:if(!o.cellFormula)break;T[Ue(I[0].s)]=I[1],k=o.dense?l[g][x]:l[Ur(x)+_],k.f=jn(I[1],d,{r:p.r,c:x},N,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)P[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},z||(z=!0,rC(I.w/256)),Ju(P[I.e+1]);break;case 161:l["!autofilter"]={ref:et(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+J.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=et(c||d)),o.sheetRows&&l["!ref"]){var G=vr(l["!ref"]);o.sheetRows<=+G.e.r&&(G.e.r=o.sheetRows-1,G.e.r>d.e.r&&(G.e.r=d.e.r),G.e.r<G.s.r&&(G.s.r=G.e.r),G.e.c>d.e.c&&(G.e.c=d.e.c),G.e.c<G.s.c&&(G.s.c=G.e.c),l["!fullref"]=l["!ref"],l["!ref"]=et(G))}return S.length>0&&(l["!merges"]=S),P.length>0&&(l["!cols"]=P),V.length>0&&(l["!rows"]=V),l}function oke(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=nt((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function lke(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=oke(f);d.s.r=d.s.c=0,d.e.c=o,c=Ur(o),h[0].forEach(function(p,m){i[c+xn(m)]={t:"n",v:p,z:h[1]},l=m}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(i["!ref"]=et(d)),i}function cke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(GB);return o&&aC(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function uke(e,t){e.l+=10;var r=In(e);return{name:r}}function dke(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return ro(e,function(l,c,d){switch(d){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var YB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fke=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],hke=[],pke=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function f4(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Vt(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function h4(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Vt(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function XB(e){h4(e.WBProps,YB),h4(e.CalcPr,pke),f4(e.WBView,fke),f4(e.Sheets,hke),ju.date1904=Vt(e.WBProps.date1904)}var mke="][*?/\\".split("");function vke(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mke.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var gke=/<\w+:workbook/;function xke(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Bn,function(l,c){var d=Le(l);switch(ci(d[0])){case"<?xml":break;case"<workbook":l.match(gke)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[a];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":YB.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Vt(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=Ot(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=nt(Ot(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Ot(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),Vt(d.hidden||"0")&&(s.Hidden=!0),i=c+l.length;break;case"</definedName>":s.Ref=nt(Ot(e.slice(i,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Rxe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return XB(r),r}function yke(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=P2(e),r.name=In(e),r}function bke(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?In(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function wke(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function _ke(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=eye(e),i=s_e(e,0,r),o=ZE(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function kke(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],xg[16]={n:"BrtFRTArchID$",f:wke},ro(e,function(l,c,d){switch(d){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=jn(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([d,l]):i[0]=[d,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(d),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},t),XB(r),r.Names=s,r.supbooks=i,r}function Ske(e,t,r){return t.slice(-4)===".bin"?kke(e,r):xke(e,r)}function Eke(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?ike(e,n,r,a,s,i,o):y_e(e,n,r,a,s,i,o)}function Cke(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?dke(e,n,r,a,s):cke(e,n,r,a,s)}function jke(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Iwe():Rwe()}function Tke(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Dwe():Mwe()}function Ake(e,t,r,n){return t.slice(-4)===".bin"?Xbe(e,r,n):Wbe(e,r,n)}function Nke(e,t,r){return RB(e,r)}function Pke(e,t,r){return t.slice(-4)===".bin"?fbe(e,r):ube(e,r)}function Oke(e,t,r){return t.slice(-4)===".bin"?Nwe(e,r):Ewe(e,r)}function Dke(e,t,r){return t.slice(-4)===".bin"?_we(e):bwe(e)}function Mke(e,t,r,n){return r.slice(-4)===".bin"?kwe(e,t,r,n):void 0}function Ike(e,t,r){return t.slice(-4)===".bin"?xwe(e,t,r):ywe(e,t,r)}var ZB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,JB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function cs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(ZB),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(JB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function Rke(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(ZB),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(JB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var Af;function Fke(e,t){var r=Af[e]||nt(e);return r==="General"?ac(t):Aa(r,t)}function Lke(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Vt(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=sn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[nt(t)]=a}function $ke(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||wc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v):e.w=ac(e.v):e.w=Fke(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=Af[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&xc(n)){var a=wo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function Bke(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=Lbe[n.Pattern]||n.Pattern)}e[t.ID]=t}function zke(e,t,r,n,a,s,i,o,l,c){var d="General",f=n.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Vt(e);break;case"String":n.t="s",n.r=IO(nt(e)),n.v=e.indexOf("<")>-1?nt(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(sn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=nt(e):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=pB[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=IO(t||e));break}if($ke(n,d,c),c.cellFormula!==!1)if(n.Formula){var v=nt(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=Cu(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=Cu("RC:RC",a):n.ArrayRange&&(n.F=Cu(n.ArrayRange,a),l.push([vr(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function Uke(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function G1(e,t){var r=t||{};$$();var n=rf(KE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Ot(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=gn(r);return i.type="string",N0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(ce){a.indexOf("<"+ce)>=0&&(s=!0)}),s)return Zke(n,r);Af={"General Number":"General","General Date":ze[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":ze[15],"Short Date":ze[14],"Long Time":ze[19],"Medium Time":ze[18],"Short Time":ze[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:ze[2],Standard:ze[4],Percent:ze[10],Scientific:ze[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,d={},f=[],h=r.dense?[]:{},p="",m={},v={},g=cs('<Data ss:Type="String">'),x=0,b=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},k={},S={},E="",C=0,j=[],T={},N={},A=0,P=[],V=[],z={},Z=[],G,Y=!1,I=[],te=[],J={},D=0,R=0,B={Sheets:[],WBProps:{date1904:!1}},H={};A0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ee="";o=A0.exec(n);)switch(o[3]=(ee=o[3]).toLowerCase()){case"data":if(ee=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?zke(n.slice(x,o.index),E,g,l[l.length-1][0]=="comment"?z:m,{c:b,r:y},k,Z[b],v,I,r):(E="",g=cs(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(m.c=V),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[Ur(b)+xn(y)]=m),m.HRef&&(m.l={Target:nt(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(D=b+(parseInt(m.MergeAcross,10)|0),R=y+(parseInt(m.MergeDown,10)|0),j.push({s:{c:b,r:y},e:{c:D,r:R}})),!r.sheetStubs)m.MergeAcross?b=D+1:++b;else if(m.MergeAcross||m.MergeDown){for(var ue=b;ue<=D;++ue)for(var de=y;de<=R;++de)(ue>b||de>y)&&(r.dense?(h[de]||(h[de]=[]),h[de][ue]={t:"z"}):h[Ur(ue)+xn(de)]={t:"z"});b=D+1}else++b;else m=Rke(o[0]),m.Index&&(b=+m.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),o[0].slice(-2)==="/>"&&(v=cs(o[0]),v.Index&&(y=+v.Index-1)),b=0,++y):(v=cs(o[0]),v.Index&&(y=+v.Index-1),J={},(v.AutoFitHeight=="0"||v.Height)&&(J.hpx=parseInt(v.Height,10),J.hpt=IB(J.hpx),te[y]=J),v.Hidden=="1"&&(J.hidden=!0,te[y]=J));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=et(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=et(_))),j.length&&(h["!merges"]=j),Z.length>0&&(h["!cols"]=Z),te.length>0&&(h["!rows"]=te),d[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,l.push([o[3],!1]),c=cs(o[0]),p=nt(c.Name),h=r.dense?[]:{},j=[],I=[],te=[],H={name:p,Hidden:0},B.Sheets.push(H);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Z=[],Y=!1}break;case"style":o[1]==="/"?Bke(k,S,r):S=cs(o[0]);break;case"numberformat":S.nf=nt(cs(o[0]).Format||"General"),Af[S.nf]&&(S.nf=Af[S.nf]);for(var q=0;q!=392&&ze[q]!=S.nf;++q);if(q==392){for(q=57;q!=392;++q)if(ze[q]==null){Pi(S.nf,q);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(G=cs(o[0]),G.Hidden&&(G.hidden=!0,delete G.Hidden),G.Width&&(G.wpx=parseInt(G.Width,10)),!Y&&G.wpx>10){Y=!0,Wn=DB;for(var re=0;re<Z.length;++re)Z[re]&&Ju(Z[re])}Y&&Ju(G),Z[G.Index-1||Z.length]=G;for(var le=0;le<+G.Span;++le)Z[Z.length]=gn(G);break;case"namedrange":if(o[1]==="/")break;B.Names||(B.Names=[]);var M=Le(o[0]),ke={Name:M.Name,Ref:Cu(M.RefersTo.slice(1),{r:0,c:0})};B.Sheets.length>0&&(ke.Sheet=B.Sheets.length-1),B.Names.push(ke);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;S.Interior=cs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Eye(T,ee,n.slice(A,o.index)):A=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));Uke(z),V.push(z)}else l.push([o[3],!1]),c=cs(o[0]),z={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var pe=cs(o[0]);h["!autofilter"]={ref:Cu(pe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return y4(n,r);var _e=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:_e=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:_e=!1}break;case"excelworkbook":switch(o[3]){case"date1904":B.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:_e=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:_e=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(A,o.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else A=o.index+o[0].length;break;case"header":h["!margins"]||Tf(h["!margins"]={},"xlml"),isNaN(+Le(o[0]).Margin)||(h["!margins"].header=+Le(o[0]).Margin);break;case"footer":h["!margins"]||Tf(h["!margins"]={},"xlml"),isNaN(+Le(o[0]).Margin)||(h["!margins"].footer=+Le(o[0]).Margin);break;case"pagemargins":var X=Le(o[0]);h["!margins"]||Tf(h["!margins"]={},"xlml"),isNaN(+X.Top)||(h["!margins"].top=+X.Top),isNaN(+X.Left)||(h["!margins"].left=+X.Left),isNaN(+X.Right)||(h["!margins"].right=+X.Right),isNaN(+X.Bottom)||(h["!margins"].bottom=+X.Bottom);break;case"displayrighttoleft":B.Views||(B.Views=[]),B.Views[0]||(B.Views[0]={}),B.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:_e=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:_e=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:_e=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:_e=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:_e=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:_e=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:_e=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:_e=!1}break;case"smarttags":break;default:_e=!1;break}if(_e||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?Lke(N,ee,P,n.slice(A,o.index)):(P=o,A=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Q={};return!r.bookSheets&&!r.bookProps&&(Q.Sheets=d),Q.SheetNames=f,Q.Workbook=B,Q.SSF=gn(ze),Q.Props=T,Q.Custprops=N,Q}function I2(e,t){switch(oC(t=t||{}),t.type||"base64"){case"base64":return G1(Ta(e),t);case"binary":case"buffer":case"file":return G1(e,t);case"array":return G1(gc(e),t)}}function Vke(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=nye(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=aye(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var Wke=[60,1084,2066,2165,2175];function Hke(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=Ei(r,r.l),c=R2[l],d=0;c!=null&&Wke.indexOf(l)>-1;)s=Ei(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),i.push(o),r.l+=4+s,c=R2[l=Ei(r,r.l)];var f=go(i);mn(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Fs(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=ze[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||wc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=j0(e.v):e.w=ac(e.v):e.w=Aa(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&xc(ze[n]||String(n))){var a=wo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Gp(e,t,r){return{v:e,ixfe:t,t:r}}function Kke(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],c="",d={},f,h="",p,m,v,g,x={},b=[],y,_,k=[],S=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},j=function(Be){return Be<8?Bl[Be]:Be<64&&S[Be-8]||Bl[Be]},T=function(Be,ot,dt){var _t=ot.XF.data;if(!(!_t||!_t.patternType||!dt||!dt.cellStyles)){ot.s={},ot.s.patternType=_t.patternType;var Oa;(Oa=P0(j(_t.icvFore)))&&(ot.s.fgColor={rgb:Oa}),(Oa=P0(j(_t.icvBack)))&&(ot.s.bgColor={rgb:Oa})}},N=function(Be,ot,dt){if(!(J>1)&&!(dt.sheetRows&&Be.r>=dt.sheetRows)){if(dt.cellStyles&&ot.XF&&ot.XF.data&&T(Be,ot,dt),delete ot.ixfe,delete ot.XF,f=Be,h=Ue(Be),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Be.r<i.s.r&&(i.s.r=Be.r),Be.c<i.s.c&&(i.s.c=Be.c),Be.r+1>i.e.r&&(i.e.r=Be.r+1),Be.c+1>i.e.c&&(i.e.c=Be.c+1),dt.cellFormula&&ot.f){for(var _t=0;_t<b.length;++_t)if(!(b[_t][0].s.c>Be.c||b[_t][0].s.r>Be.r)&&!(b[_t][0].e.c<Be.c||b[_t][0].e.r<Be.r)){ot.F=et(b[_t][0]),(b[_t][0].s.c!=Be.c||b[_t][0].s.r!=Be.r)&&delete ot.f,ot.f&&(ot.f=""+jn(b[_t][1],i,Be,I,A));break}}dt.dense?(a[Be.r]||(a[Be.r]=[]),a[Be.r][Be.c]=ot):a[h]=ot}},A={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var P,V=[],z=[],Z=[],G=[],Y=!1,I=[];I.SheetNames=A.snames,I.sharedf=A.sharedf,I.arrayf=A.arrayf,I.names=[],I.XTI=[];var te=0,J=0,D=0,R=[],B=[],H;A.codepage=1200,ks(1200);for(var ee=!1;e.l<e.length-1;){var ue=e.l,de=e.read_shift(2);if(de===0&&te===10)break;var q=e.l===e.length?0:e.read_shift(2),re=R2[de];if(re&&re.f){if(t.bookSheets&&te===133&&de!==133)break;if(te=de,re.r===2||re.r==12){var le=e.read_shift(2);if(q-=2,!A.enc&&le!==de&&((le&255)<<8|le>>8)!==de)throw new Error("rt mismatch: "+le+"!="+de);re.r==12&&(e.l+=10,q-=10)}var M={};if(de===10?M=re.f(e,q,A):M=Hke(de,re,e,q,A),J==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(de){case 34:r.opts.Date1904=E.WBProps.date1904=M;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=M,!t.password)throw new Error("File is password-protected");if(M.valid==null)throw new Error("Encryption scheme unsupported");if(!M.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=M;break;case 66:var ke=Number(M);switch(ke){case 21010:ke=1200;break;case 32768:ke=1e4;break;case 32769:ke=1252;break}ks(A.codepage=ke),ee=!0;break;case 317:A.rrtabid=M;break;case 25:A.winlocked=M;break;case 439:r.opts.RefreshAll=M;break;case 12:r.opts.CalcCount=M;break;case 16:r.opts.CalcDelta=M;break;case 17:r.opts.CalcIter=M;break;case 13:r.opts.CalcMode=M;break;case 14:r.opts.CalcPrecision=M;break;case 95:r.opts.CalcSaveRecalc=M;break;case 15:A.CalcRefMode=M;break;case 2211:r.opts.FullCalc=M;break;case 129:M.fDialog&&(a["!type"]="dialog"),M.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),M.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:k.push(M);break;case 430:I.push([M]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(M);break;case 24:case 536:H={Name:M.Name,Ref:jn(M.rgce,i,null,I,A)},M.itab>0&&(H.Sheet=M.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(M),M.Name=="_xlnm._FilterDatabase"&&M.itab>0&&M.rgce&&M.rgce[0]&&M.rgce[0][0]&&M.rgce[0][0][0]=="PtgArea3d"&&(B[M.itab-1]={ref:et(M.rgce[0][0][1][2])});break;case 22:A.ExternCount=M;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(M),I.XTI=I.XTI.concat(M);break;case 2196:if(A.biff<8)break;H!=null&&(H.Comment=M[1]);break;case 18:a["!protect"]=M;break;case 19:M!==0&&A.WTF&&console.error("Password verifier: "+M);break;case 133:s[M.pos]=M,A.snames.push(M.name);break;case 10:{if(--J)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=et(i),t.sheetRows&&t.sheetRows<=i.e.r){var pe=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=et(i),i.e.r=pe}i.e.r++,i.e.c++}V.length>0&&(a["!merges"]=V),z.length>0&&(a["!objects"]=z),Z.length>0&&(a["!cols"]=Z),G.length>0&&(a["!rows"]=G),E.Sheets.push(C)}c===""?d=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[de]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[M.BIFFVer]||8),A.biffguess=M.BIFFVer==0,M.BIFFVer==0&&M.dt==4096&&(A.biff=5,ee=!0,ks(A.codepage=28591)),A.biff==8&&M.BIFFVer==0&&M.dt==16&&(A.biff=2),J++)break;if(a=t.dense?[]:{},A.biff<8&&!ee&&(ee=!0,ks(A.codepage=t.codepage||1252)),A.biff<5||M.BIFFVer==0&&M.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var _e={pos:e.l-q,name:c};s[_e.pos]=_e,A.snames.push(c)}else c=(s[ue]||{name:""}).name;M.dt==32&&(a["!type"]="chart"),M.dt==64&&(a["!type"]="macro"),V=[],z=[],A.arrayf=b=[],Z=[],G=[],Y=!1,C={Hidden:(s[ue]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[M.r]||[])[M.c]:a[Ue({c:M.c,r:M.r})])&&++M.c,y={ixfe:M.ixfe,XF:k[M.ixfe]||{},v:M.val,t:"n"},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t);break;case 5:case 517:y={ixfe:M.ixfe,XF:k[M.ixfe],v:M.val,t:M.t},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t);break;case 638:y={ixfe:M.ixfe,XF:k[M.ixfe],v:M.rknum,t:"n"},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t);break;case 189:for(var X=M.c;X<=M.C;++X){var Q=M.rkrec[X-M.c][0];y={ixfe:Q,XF:k[Q],v:M.rkrec[X-M.c][1],t:"n"},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:X,r:M.r},y,t)}break;case 6:case 518:case 1030:{if(M.val=="String"){o=M;break}if(y=Gp(M.val,M.cell.ixfe,M.tt),y.XF=k[y.ixfe],t.cellFormula){var ce=M.formula;if(ce&&ce[0]&&ce[0][0]&&ce[0][0][0]=="PtgExp"){var ye=ce[0][0][1][0],Ce=ce[0][0][1][1],We=Ue({r:ye,c:Ce});x[We]?y.f=""+jn(M.formula,i,M.cell,I,A):y.F=((t.dense?(a[ye]||[])[Ce]:a[We])||{}).F}else y.f=""+jn(M.formula,i,M.cell,I,A)}D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N(M.cell,y,t),o=M}break;case 7:case 519:if(o)o.val=M,y=Gp(M,o.cell.ixfe,"s"),y.XF=k[y.ixfe],t.cellFormula&&(y.f=""+jn(o.formula,i,o.cell,I,A)),D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(M);var $e=Ue(M[0].s);if(p=t.dense?(a[M[0].s.r]||[])[M[0].s.c]:a[$e],t.cellFormula&&p){if(!o||!$e||!p)break;p.f=""+jn(M[1],i,M[0],I,A),p.F=et(M[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Ue(o.cell)]=M[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Ue(o.cell)],(p||{}).f=""+jn(M[0],i,f,I,A)}}break;case 253:y=Gp(l[M.isst].t,M.ixfe,"s"),l[M.isst].h&&(y.h=l[M.isst].h),y.XF=k[y.ixfe],D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:M.ixfe,XF:k[M.ixfe],t:"z"},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t));break;case 190:if(t.sheetStubs)for(var bt=M.c;bt<=M.C;++bt){var Ge=M.ixfe[bt-M.c];y={ixfe:Ge,XF:k[Ge],t:"z"},D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:bt,r:M.r},y,t)}break;case 214:case 516:case 4:y=Gp(M.val,M.ixfe,"s"),y.XF=k[y.ixfe],D>0&&(y.z=R[y.ixfe>>8&63]),Fs(y,t,r.opts.Date1904),N({c:M.c,r:M.r},y,t);break;case 0:case 512:J===1&&(i=M);break;case 252:l=M;break;case 1054:if(A.biff==4){R[D++]=M[1];for(var Mt=0;Mt<D+163&&ze[Mt]!=M[1];++Mt);Mt>=163&&Pi(M[1],D+163)}else Pi(M[1],M[0]);break;case 30:{R[D++]=M;for(var ut=0;ut<D+163&&ze[ut]!=M;++ut);ut>=163&&Pi(M,D+163)}break;case 229:V=V.concat(M);break;case 93:z[M.cmo[0]]=A.lastobj=M;break;case 438:A.lastobj.TxO=M;break;case 127:A.lastobj.ImData=M;break;case 440:for(g=M[0].s.r;g<=M[0].e.r;++g)for(v=M[0].s.c;v<=M[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Ue({c:v,r:g})],p&&(p.l=M[1]);break;case 2048:for(g=M[0].s.r;g<=M[0].e.r;++g)for(v=M[0].s.c;v<=M[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Ue({c:v,r:g})],p&&p.l&&(p.l.Tooltip=M[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;p=t.dense?(a[M[0].r]||[])[M[0].c]:a[Ue(M[0])];var Yt=z[M[2]];p||(t.dense?(a[M[0].r]||(a[M[0].r]=[]),p=a[M[0].r][M[0].c]={t:"z"}):p=a[Ue(M[0])]={t:"z"},i.e.r=Math.max(i.e.r,M[0].r),i.s.r=Math.min(i.s.r,M[0].r),i.e.c=Math.max(i.e.c,M[0].c),i.s.c=Math.min(i.s.c,M[0].c)),p.c||(p.c=[]),m={a:M[1],t:Yt.TxO.t},p.c.push(m)}break;case 2173:pwe(k[M.ixfe],M.ext);break;case 125:{if(!A.cellStyles)break;for(;M.e>=M.s;)Z[M.e--]={width:M.w/256,level:M.level||0,hidden:!!(M.flags&1)},Y||(Y=!0,rC(M.w/256)),Ju(Z[M.e+1])}break;case 520:{var wt={};M.level!=null&&(G[M.r]=wt,wt.level=M.level),M.hidden&&(G[M.r]=wt,wt.hidden=!0),M.hpt&&(G[M.r]=wt,wt.hpt=M.hpt,wt.hpx=O0(M.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Tf(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[de]]=M;break;case 161:a["!margins"]||Tf(a["!margins"]={}),a["!margins"].header=M.header,a["!margins"].footer=M.footer;break;case 574:M.RTL&&(E.Views[0].RTL=!0);break;case 146:S=M;break;case 2198:P=M;break;case 140:_=M;break;case 442:c?C.CodeName=M||C.name:E.WBProps.CodeName=M||"ThisWorkbook";break}}else re||console.error("Missing Info for XLS Record 0x"+de.toString(16)),e.l+=q}return r.SheetNames=ni(s).sort(function(ln,Be){return Number(ln)-Number(Be)}).map(function(ln){return s[ln].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&B.forEach(function(ln,Be){r.Sheets[r.SheetNames[Be]]["!autofilter"]=ln}),r.Strings=l,r.SSF=gn(ze),A.enc&&(r.Encryption=A.enc),P&&(r.Themes=P),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),I.names.length>0&&(E.Names=I.names),r.Workbook=E,r}var p4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function Gke(e,t,r){var n=Qe.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=ZO(n,uye,p4.DSI);for(var s in a)t[s]=a[s]}catch(c){if(r.WTF)throw c}var i=Qe.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=ZO(i,dye,p4.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(vB(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function QB(e,t){t||(t={}),oC(t),j$(),t.codepage&&$E(t.codepage);var r,n;if(e.FullPaths){if(Qe.find(e,"/encryption"))throw new Error("File is password-protected");r=Qe.find(e,"!CompObj"),n=Qe.find(e,"/Workbook")||Qe.find(e,"/Book")}else{switch(t.type){case"base64":e=ws(Ta(e));break;case"binary":e=ws(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}mn(e,0),n={content:e}}var a,s;if(r&&Vke(r),t.bookProps&&!t.bookSheets)a={};else{var i=Xe?"buffer":"array";if(n&&n.content)a=Kke(n.content,t);else if((s=Qe.find(e,"PerfectOffice_MAIN"))&&s.content)a=Cf.to_workbook(s.content,(t.type=i,t));else if((s=Qe.find(e,"NativeContent_MAIN"))&&s.content)a=Cf.to_workbook(s.content,(t.type=i,t));else throw(s=Qe.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Qe.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Owe(e))}var o={};return e.FullPaths&&Gke(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var xg={0:{f:T_e},1:{f:O_e},2:{f:z_e},3:{f:R_e},4:{f:M_e},5:{f:B_e},6:{f:W_e},7:{f:L_e},8:{f:Y_e},9:{f:q_e},10:{f:K_e},11:{f:G_e},12:{f:D_e},13:{f:U_e},14:{f:F_e},15:{f:I_e},16:{f:qB},17:{f:H_e},18:{f:$_e},19:{f:XE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:_ke},40:{},42:{},43:{f:Kbe},44:{f:Hbe},45:{f:Gbe},46:{f:Ybe},47:{f:qbe},48:{},49:{f:Xxe},50:{},51:{f:vwe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:TB},62:{f:V_e},63:{f:wwe},64:{f:ake},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ln,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:nke},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:P_e},148:{f:A_e,p:16},151:{f:J_e},152:{},153:{f:bke},154:{},155:{},156:{f:yke},157:{},158:{},159:{T:1,f:dbe},160:{T:-1},161:{T:1,f:bc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:X_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:mwe},336:{T:-1},337:{f:gwe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:P2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Q_e},427:{f:eke},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:rke},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:N_e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Z_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:P2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Awe},633:{T:1},634:{T:-1},635:{T:1,f:Twe},636:{T:-1},637:{f:Jxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uke},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:ske},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},R2={6:{f:H1},10:{f:so},12:{f:Cr},13:{f:Cr},14:{f:gr},15:{f:gr},16:{f:Pn},17:{f:gr},18:{f:gr},19:{f:Cr},20:{f:t4},21:{f:t4},23:{f:jB},24:{f:n4},25:{f:gr},26:{},27:{},28:{f:C1e},29:{},34:{f:gr},35:{f:r4},38:{f:Pn},39:{f:Pn},40:{f:Pn},41:{f:Pn},42:{f:gr},43:{f:gr},47:{f:Nbe},49:{f:o1e},51:{f:Cr},60:{},61:{f:a1e},64:{f:gr},65:{f:i1e},66:{f:Cr},77:{},80:{},81:{},82:{},85:{f:Cr},89:{},90:{},91:{},92:{f:Xye},93:{f:T1e},94:{},95:{f:gr},96:{},97:{},99:{f:gr},125:{f:TB},128:{f:g1e},129:{f:Zye},130:{f:Cr},131:{f:gr},132:{f:gr},133:{f:Jye},134:{},140:{f:M1e},141:{f:Cr},144:{},146:{f:R1e},151:{},152:{},153:{},154:{},155:{},156:{f:Cr},157:{},158:{},160:{f:z1e},161:{f:L1e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:h1e},190:{f:p1e},193:{f:so},197:{},198:{},199:{},200:{},201:{},202:{f:gr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Cr},220:{},221:{f:gr},222:{},224:{f:v1e},225:{f:Yye},226:{f:so},227:{},229:{f:j1e},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Qye},253:{f:l1e},255:{f:e1e},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:wB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:gr},353:{f:so},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:y1e},431:{f:gr},432:{},433:{},434:{},437:{},438:{f:P1e},439:{f:gr},440:{f:O1e},441:{},442:{f:Bh},443:{},444:{f:Cr},445:{},446:{},448:{f:so},449:{f:n1e,r:2},450:{f:so},512:{f:QO},513:{f:B1e},515:{f:x1e},516:{f:c1e},517:{f:e4},519:{f:U1e},520:{f:t1e},523:{},545:{f:a4},549:{f:JO},566:{},574:{f:s1e},638:{f:f1e},659:{},1048:{},1054:{f:u1e},1084:{},1212:{f:k1e},2048:{f:D1e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Wp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:so},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:F1e,r:12},2173:{f:hwe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:gr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:_1e,r:12},2197:{},2198:{f:owe,r:12},2199:{},2200:{},2201:{},2202:{f:S1e,r:12},2203:{f:so},2204:{},2205:{},2206:{},2207:{},2211:{f:r1e},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Cr},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:$1e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:I1e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:QO},1:{},2:{f:K1e},3:{f:H1e},4:{f:W1e},5:{f:e4},7:{f:G1e},8:{},9:{f:Wp},11:{},22:{f:Cr},30:{f:d1e},31:{},32:{},33:{f:a4},36:{},37:{f:JO},50:{f:q1e},62:{},52:{},67:{},68:{f:Cr},69:{},86:{},126:{},127:{f:V1e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Y1e},223:{},234:{},354:{},421:{},518:{f:H1},521:{f:Wp},536:{f:n4},547:{f:r4},561:{},579:{},1030:{f:H1},1033:{f:Wp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function us(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&lB(r)&&e.push(r)}}function m4(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=xxe(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,d=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<l.length;++i){var v=l[i].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}d=0;continue}if(!(g!="<td"&&g!="<th")){var x=v.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var k=0;k<m.length;++k){var S=m[k];S.s.c==d&&S.s.r<c&&c<=S.e.r&&(d=S.e.c+1,k=-1)}var E=Le(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&m.push({s:{r:c,c:d},e:{r:c+(f||1)-1,c:d+h-1}});var C=E.t||E["data-t"]||"";if(!y.length){d+=h;continue}if(y=Y$(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>d&&(p.s.c=d),p.e.c<d&&(p.e.c=d),!y.length){d+=h;continue}var j={t:"s",v:y};r.raw||!y.trim().length||C=="s"||(y==="TRUE"?j={t:"b",v:!0}:y==="FALSE"?j={t:"b",v:!1}:isNaN(Ns(y))?isNaN(Zu(y).getDate())||(j={t:"d",v:sn(y)},r.cellDates||(j={t:"n",v:Qn(j.v)}),j.z=r.dateNF||ze[14]):j={t:"n",v:Ns(y)}),r.dense?(n[c]||(n[c]=[]),n[c][d]=j):n[Ue({r:c,c:d})]=j,d+=h}}}}return n["!ref"]=et(p),m.length&&(n["!merges"]=m),n}function qke(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>i)&&!(a[c].e.r<r||a[c].e.c<i)){if(a[c].s.r<r||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var d=Ue({r,c:i}),f=n.dense?(e[r]||[])[i]:e[d],h=f&&f.v!=null&&(f.h||HE(f.w||(Gi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+d,s.push(Mxe("td",h,p))}}var m="<tr>";return m+s.join("")+"</tr>"}var Yke='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Xke="</body></html>";function Zke(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return nl(m4(r[0],t),t);var n=cC();return r.forEach(function(a,s){uC(n,m4(a,t),"Sheet"+(s+1))}),n}function Jke(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Qke(e,t){var r=t||{},n=r.header!=null?r.header:Yke,a=r.footer!=null?r.footer:Xke,s=[n],i=xd(e["!ref"]);r.dense=Array.isArray(e),s.push(Jke(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(qke(e,i,o,r));return s.push("</table>"+a),s.join("")}function e9(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Kn(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var d=xd(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),a==-1&&(c.e.r=a=d.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,v=0,g=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&v<l;++m){var _=o[m];if(v4(_)){if(n.display)continue;p[v]={hidden:!0}}var k=_.children;for(g=x=0;g<k.length;++g){var S=k[g];if(!(n.display&&v4(S))){var E=S.hasAttribute("data-v")?S.getAttribute("data-v"):S.hasAttribute("v")?S.getAttribute("v"):Y$(S.innerHTML),C=S.getAttribute("data-z")||S.getAttribute("z");for(h=0;h<f.length;++h){var j=f[h];j.s.c==x+s&&j.s.r<v+a&&v+a<=j.e.r&&(x=j.e.c+1-s,h=-1)}y=+S.getAttribute("colspan")||1,((b=+S.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:x+s},e:{r:v+a+(b||1)-1,c:x+s+(y||1)-1}});var T={t:"s",v:E},N=S.getAttribute("data-t")||S.getAttribute("t")||"";E!=null&&(E.length==0?T.t=N||"z":n.raw||E.trim().length==0||N=="s"||(E==="TRUE"?T={t:"b",v:!0}:E==="FALSE"?T={t:"b",v:!1}:isNaN(Ns(E))?isNaN(Zu(E).getDate())||(T={t:"d",v:sn(E)},n.cellDates||(T={t:"n",v:Qn(T.v)}),T.z=n.dateNF||ze[14]):T={t:"n",v:Ns(E)})),T.z===void 0&&C!=null&&(T.z=C);var A="",P=S.getElementsByTagName("A");if(P&&P.length)for(var V=0;V<P.length&&!(P[V].hasAttribute("href")&&(A=P[V].getAttribute("href"),A.charAt(0)!="#"));++V);A&&A.charAt(0)!="#"&&(T.l={Target:A}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][x+s]=T):e[Ue({c:x+s,r:v+a})]=T,c.e.c<x+s&&(c.e.c=x+s),x+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=et(c),v>=l&&(e["!fullref"]=et((c.e.r=o.length-m+v-1+a,c))),e}function t9(e,t){var r=t||{},n=r.dense?[]:{};return e9(n,e,t)}function eSe(e,t){return nl(t9(e,t),t)}function v4(e){var t="",r=tSe(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function tSe(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function rSe(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=nt(t.replace(/<[^>]*>/g,""));return[r]}var g4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function r9(e,t){var r=t||{},n=KE(e),a=[],s,i,o={name:""},l="",c=0,d,f,h={},p=[],m=r.dense?[]:{},v,g,x={value:""},b="",y=0,_=[],k=-1,S=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,j={},T=[],N={},A=0,P=0,V=[],z=1,Z=1,G=[],Y={Names:[]},I={},te=["",""],J=[],D={},R="",B=0,H=!1,ee=!1,ue=0;for(A0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=A0.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=et(E):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=et(E)),T.length&&(m["!merges"]=T),V.length&&(m["!rows"]=V),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),p.push(d.name),h[d.name]=m,ee=!1):v[0].charAt(v[0].length-2)!=="/"&&(d=Le(v[0],!1),k=S=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=r.dense?[]:{},T=[],V=[],ee=!0);break;case"table-row-group":v[1]==="/"?--C:++C;break;case"table-row":case"":if(v[1]==="/"){k+=z,z=1;break}if(f=Le(v[0],!1),f.?k=f.-1:k==-1&&(k=0),z=+f["number-rows-repeated"]||1,z<10)for(ue=0;ue<z;++ue)C>0&&(V[k+ue]={level:C});S=-1;break;case"covered-table-cell":v[1]!=="/"&&++S,r.sheetStubs&&(r.dense?(m[k]||(m[k]=[]),m[k][S]={t:"z"}):m[Ue({r:k,c:S})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++S,x=Le(v[0],!1),Z=parseInt(x["number-columns-repeated"]||"1",10),g={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(g.f=d4(nt(x.formula))),(x.||x["value-type"])=="string"&&(g.t="s",g.v=nt(x["string-value"]||""),r.dense?(m[k]||(m[k]=[]),m[k][S]=g):m[Ue({r:k,c:S})]=g),S+=Z-1;else if(v[1]!=="/"){++S,b="",y=0,_=[],Z=1;var de=z?k+z-1:k;if(S>E.e.c&&(E.e.c=S),S<E.s.c&&(E.s.c=S),k<E.s.r&&(E.s.r=k),de>E.e.r&&(E.e.r=de),x=Le(v[0],!1),J=[],D={},g={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=nt(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(A=parseInt(x["number-matrix-rows-spanned"],10)||0,P=parseInt(x["number-matrix-columns-spanned"],10)||0,N={s:{r:k,c:S},e:{r:k+A-1,c:S+P-1}},g.F=et(N),G.push([N,g.F])),x.formula)g.f=d4(x.formula);else for(ue=0;ue<G.length;++ue)k>=G[ue][0].s.r&&k<=G[ue][0].e.r&&S>=G[ue][0].s.c&&S<=G[ue][0].e.c&&(g.F=G[ue][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(A=parseInt(x["number-rows-spanned"],10)||0,P=parseInt(x["number-columns-spanned"],10)||0,N={s:{r:k,c:S},e:{r:k+A-1,c:S+P-1}},T.push(N)),x["number-columns-repeated"]&&(Z=parseInt(x["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Vt(x["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(x.value);break;case"percentage":g.t="n",g.v=parseFloat(x.value);break;case"currency":g.t="n",g.v=parseFloat(x.value);break;case"date":g.t="d",g.v=sn(x["date-value"]),r.cellDates||(g.t="n",g.v=Qn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=mxe(x["time-value"])/86400,r.cellDates&&(g.t="d",g.v=oy(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(x.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",x["string-value"]!=null&&(b=nt(x["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=b||"",_.length&&(g.R=_),H=y==0),I.Target&&(g.l=I),J.length>0&&(g.c=J,J=[]),b&&r.cellText!==!1&&(g.w=b),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=k))for(var q=0;q<z;++q){if(Z=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(m[k+q]||(m[k+q]=[]),m[k+q][S]=q==0?g:gn(g);--Z>0;)m[k+q][S+Z]=gn(g);else for(m[Ue({r:k+q,c:S})]=g;--Z>0;)m[Ue({r:k+q,c:S+Z})]=gn(g);E.e.c<=S&&(E.e.c=S)}Z=parseInt(x["number-columns-repeated"]||"1",10),S+=Z-1,Z=0,g={},b="",_=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;D.t=b,_.length&&(D.R=_),D.a=R,J.push(D)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);R="",B=0,b="",y=0,_=[];break;case"creator":v[1]==="/"?R=n.slice(B,v.index):B=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);b="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(j[o.name]=l,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=Le(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Le(v[0],!1),l+=g4[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Le(v[0],!1),l+=g4[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":i=Le(v[0],!1),te=K1(i["cell-range-address"]);var re={Name:i.name,Ref:te[0]+"!"+te[1]};ee&&(re.Sheet=p.length),Y.Names.push(re);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!x||!x["string-value"])){var le=rSe(n.slice(y,v.index));b=(b.length>0?b+`
`:"")+le[0]}else Le(v[0],!1),y=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{te=K1(Le(v[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(I=Le(v[0],!1),!I.href)break;I.Target=nt(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(te=K1(I.Target.slice(1)),I.Target="#"+te[0]+"!"+te[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var M={Sheets:h,SheetNames:p,Workbook:Y};return r.bookSheets&&delete M.Sheets,M}function x4(e,t){t=t||{},Ba(e,"META-INF/manifest.xml")&&xye(Er(e,"META-INF/manifest.xml"),t);var r=wa(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=r9(Ot(r),t);return Ba(e,"meta.xml")&&(n.Props=mB(Er(e,"meta.xml"))),n}function y4(e,t){return r9(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function sC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function F2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Ot(gc(e))}function L2(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function b4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function nSe(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function D0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Vr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function On(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=D0(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=D0(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:s};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function iC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function aSe(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=D0(e,n),s=On(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Vr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=On(o.data),c=Vr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=s[3])!=null&&t[0]&&(i.merge=Vr(s[3][0].data)>>>0>0),r.push(i)}return r}function sSe(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=D0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,c=0;if(s==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[L2(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var d=L2(a);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function iSe(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(sSe(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return L2(t)}function oSe(e,t,r,n){var a=sC(e),s=a.getUint32(4,!0),i=(n>1?12:8)+b4(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,d=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=b4(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(c=a.getFloat64(i,!0),i+=8),s&64&&(d.setTime(d.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function lSe(e,t,r){var n=sC(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,c=NaN,d=new Date(2001,0,1);a&1&&(l=nSe(e,s),s+=16),a&2&&(c=n.getFloat64(s,!0),s+=8),a&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function cSe(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return oSe(e,t,r,e[0]);case 5:return lSe(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Ro(e){var t=On(e);return D0(t[1][0].data)}function w4(e,t){var r=On(t.data),n=Vr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=On(i.data),l=Vr(o[1][0].data)>>>0;switch(n){case 1:s[l]=F2(o[3][0].data);break;case 8:{var c=e[Ro(o[9][0].data)][0],d=On(c.data),f=e[Ro(d[1][0].data)][0],h=Vr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=On(f.data);s[l]=p[3].map(function(m){return F2(m.data)}).join("")}break}}),s}function uSe(e,t){var r,n,a,s,i,o,l,c,d,f,h,p,m,v,g=On(e),x=Vr(g[1][0].data)>>>0,b=Vr(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Vr(g[8][0].data)>0||!1,_,k;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,k=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(d=g[4])==null?void 0:d[0])!=null&&f.data&&t!=1)_=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,k=(v=(m=g[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var S=y?4:1,E=sC(_),C=[],j=0;j<_.length/2;++j){var T=E.getUint16(j*2,!0);T<65535&&C.push([j,T])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var N=[];for(j=0;j<C.length-1;++j)N[C[j][0]]=k.subarray(C[j][1]*S,C[j+1][1]*S);return C.length>=1&&(N[C[C.length-1][0]]=k.subarray(C[C.length-1][1]*S)),{R:x,cells:N}}function dSe(e,t){var r,n=On(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Vr(n[7][0].data)>>>0>0?1:0:-1,s=iC(n[5],function(i){return uSe(i,a)});return{nrows:Vr(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=l}),i},[])}}function fSe(e,t,r){var n,a=On(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Vr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Vr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=et(s);var i=On(a[4][0].data),o=w4(e,e[Ro(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?w4(e,e[Ro(i[17][0].data)][0]):[],c=On(i[3][0].data),d=0;c[1].forEach(function(f){var h=On(f.data),p=e[Ro(h[2][0].data)][0],m=Vr(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=dSe(e,p);v.data.forEach(function(g,x){g.forEach(function(b,y){var _=Ue({r:d+x,c:y}),k=cSe(b,o,l);k&&(r[_]=k)})}),d+=v.nrows})}function hSe(e,t){var r=On(t.data),n={"!ref":"A1"},a=e[Ro(r[2][0].data)],s=Vr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return fSe(e,a[0],n),n}function pSe(e,t){var r,n=On(t.data),a={name:(r=n[1])!=null&&r[0]?F2(n[1][0].data):"",sheets:[]},s=iC(n[2],Ro);return s.forEach(function(i){e[i].forEach(function(o){var l=Vr(o.meta[1][0].data);l==6e3&&a.sheets.push(hSe(e,o))})}),a}function mSe(e,t){var r=cC(),n=On(t.data),a=iC(n[1],Ro);if(a.forEach(function(s){e[s].forEach(function(i){var o=Vr(i.meta[1][0].data);if(o==2){var l=pSe(e,i);l.sheets.forEach(function(c,d){uC(r,c,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function q1(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=iSe(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=aSe(c)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Vr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(c){var d=Vr(c.meta[1][0].data)>>>0;if(d==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return mSe(s,o)}function vSe(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function oC(e){vSe([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function gSe(e){return ou.WS.indexOf(e)>-1?"sheet":e==ou.CS?"chart":e==ou.DS?"dialog":e==ou.MS?"macro":e&&e.length?e:"sheet"}function xSe(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,gSe(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function ySe(e,t,r,n,a,s,i,o,l,c,d,f){try{s[n]=Sf(wa(e,r,!0),t);var h=Er(e,t),p;switch(o){case"sheet":p=Eke(h,t,a,l,s[n],c,d,f);break;case"chart":if(p=Cke(h,t,a,l,s[n],c,d,f),!p||!p["!drawel"])break;var m=af(p["!drawel"].Target,t),v=O2(m),g=Swe(wa(e,m,!0),Sf(wa(e,v,!0),m)),x=af(g,m),b=O2(x);p=lke(wa(e,x,!0),x,l,Sf(wa(e,b,!0),x),c,p);break;case"macro":p=jke(h,t,a,l,s[n],c,d,f);break;case"dialog":p=Tke(h,t,a,l,s[n],c,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var y=[];s&&s[n]&&ni(s[n]).forEach(function(_){var k="";if(s[n][_].Type==ou.CMNT){k=af(s[n][_].Target,t);var S=Oke(Er(e,k,!0),k,l);if(!S||!S.length)return;i4(p,S,!1)}s[n][_].Type==ou.TCMNT&&(k=af(s[n][_].Target,t),y=y.concat(Cwe(Er(e,k,!0),l)))}),y&&y.length&&i4(p,y,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function Ia(e){return e.charAt(0)=="/"?e.slice(1):e}function bSe(e,t){if($$(),t=t||{},oC(t),Ba(e,"META-INF/manifest.xml")||Ba(e,"objectdata.xml"))return x4(e,t);if(Ba(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof q1<"u"){if(e.FileIndex)return q1(e);var r=Qe.utils.cfb_new();return DO(e).forEach(function(V){wxe(r,V,bxe(e,V))}),q1(r)}throw new Error("Unsupported NUMBERS file")}if(!Ba(e,"[Content_Types].xml"))throw Ba(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Ba(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=DO(e),a=vye(wa(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",Er(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!Er(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(jf=[],a.sst)try{jf=Pke(Er(e,Ia(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=Nke(wa(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Ake(Er(e,Ia(a.style)),a.style,l,t))}a.links.map(function(V){try{var z=Sf(wa(e,O2(Ia(V))),V);return Mke(Er(e,Ia(V)),z,V,t)}catch{}});var d=Ske(Er(e,Ia(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=Er(e,Ia(a.coreprops[0]),!0),h&&(f=mB(h)),a.extprops.length!==0&&(h=Er(e,Ia(a.extprops[0]),!0),h&&wye(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=wa(e,Ia(a.custprops[0]),!0),h&&(p=kye(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(d.Sheets?i=d.Sheets.map(function(z){return z.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof i<"u"&&(m.SheetNames=i),t.bookSheets?m.SheetNames:t.bookProps))return m;i={};var v={};t.bookDeps&&a.calcchain&&(v=Dke(Er(e,Ia(a.calcchain)),a.calcchain));var g=0,x={},b,y;{var _=d.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var k=0;k!=_.length;++k)f.SheetNames[k]=_[k].name}var S=s?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Ba(e,C)||(C="xl/_rels/workbook."+S+".rels");var j=Sf(wa(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=Ike(Er(e,Ia(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=jwe(Er(e,Ia(a.people[0])),t)),j&&(j=xSe(j,d.Sheets));var T=Er(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var N="sheet";if(j&&j[g]?(b="xl/"+j[g][1].replace(/[\/]?xl\//,""),Ba(e,b)||(b=j[g][1]),Ba(e,b)||(b=C.replace(/_rels\/.*$/,"")+j[g][1]),N=j[g][2]):(b="xl/worksheets/sheet"+(g+1-T)+"."+S,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==g&&(A=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}ySe(e,b,y,f.SheetNames[g],g,x,i,N,t,d,l,c)}return m={Directory:a,Workbook:d,Props:f,Custprops:p,Deps:v,Sheets:i,SheetNames:f.SheetNames,Strings:jf,Styles:c,Themes:l,SSF:gn(ze)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(V,z){V=V.replace(/^Root Entry[\/]/,""),m.keys.push(V),m.files[V]=e.FileIndex[z]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=Er(e,Ia(a.vba[0]),!0):a.defaults&&a.defaults.bin===Pwe&&(m.vbaraw=Er(e,"xl/vbaProject.bin",!0))),m}function wSe(e,t){var r=t||{},n="Workbook",a=Qe.find(e,n);try{if(n="/!DataSpaces/Version",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(hbe(a.content),n="/!DataSpaces/DataSpaceMap",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=mbe(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=vbe(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);xbe(a.content)}catch{}if(n="/EncryptionInfo",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=ybe(a.content);if(n="/EncryptedPackage",a=Qe.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function lC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ta(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _Se(e,t){return Qe.find(e,"EncryptedPackage")?wSe(e,t):QB(e,t)}function kSe(e,t){var r,n=e,a=t||{};return a.type||(a.type=Xe&&Buffer.isBuffer(e)?"buffer":"base64"),r=K$(n,a),bSe(r,a)}function n9(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return I2(e.slice(r),t);default:break e}return N0.to_workbook(e,t)}function SSe(e,t){var r="",n=lC(e,t);switch(t.type){case"base64":r=Ta(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=sc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Ot(r)),t.type="binary",n9(r,t)}function ESe(e,t){var r=e;return t.type=="base64"&&(r=Ta(r)),r=C0.utils.decode(1200,r.slice(2),"str"),t.type="binary",n9(r,t)}function CSe(e){return e.match(/[^\x00-\x7F]/)?sf(e):e}function Y1(e,t,r,n){return n?(r.type="string",N0.to_workbook(e,r)):N0.to_workbook(t,r)}function $2(e,t){j$();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return $2(new Uint8Array(e),(r=gn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),ju={},r.dateNF&&(ju.dateNF=r.dateNF),r.type||(r.type=Xe&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Xe?"buffer":"binary",n=hxe(e),typeof Uint8Array<"u"&&!Xe&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=CSe(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=gn(r),r.type="array",$2(BE(n),r)}switch((a=lC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return _Se(Qe.read(n,r),r);break;case 9:if(a[1]<=8)return QB(n,r);break;case 60:return I2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return ebe(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return J1e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?kSe(n,r):Y1(e,n,r,s);case 239:return a[3]===60?I2(n,r):Y1(e,n,r,s);case 255:if(a[1]===254)return ESe(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Cf.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Cf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return s4.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return Pbe.to_workbook(n,r);break;case 10:case 13:case 32:return SSe(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return X1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?s4.to_workbook(n,r):Y1(e,n,r,s)}function jSe(e,t,r,n,a,s,i,o){var l=xn(r),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=i?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[p]!=null){if(v==null)if(m.t=="e"&&v===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(d&&v===null)h[s[p]]=null;else continue;else h[s[p]]=d&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?v:Gi(m,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function B2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof d){case"string":l=vr(d);break;case"number":l=vr(e["!ref"]),l.s.r=d;break;default:l=d}n>0&&(a=0);var f=xn(l.s.r),h=[],p=[],m=0,v=0,g=Array.isArray(e),x=l.s.r,b=0,y={};g&&!e[x]&&(e[x]=[]);var _=c.skipHidden&&e["!cols"]||[],k=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Ur(b),r=g?e[x][b]:e[h[b]+f],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Gi(r,null,c),v=y[i]||0,!v)y[i]=1;else{do o=i+"_"+v++;while(y[o]);y[i]=v,y[o]=1}s[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(k[x]||{}).hidden){var S=jSe(e,l,x,h,n,s,g,c);(S.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=S.row)}return p.length=m,p}var _4=/"/g;function TSe(e,t,r,n,a,s,i,o){for(var l=!0,c=[],d="",f=xn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)d="";else if(p.v!=null){l=!1,d=""+(o.rawNumbers&&p.t=="n"?p.v:Gi(p,null,o));for(var m=0,v=0;m!==d.length;++m)if((v=d.charCodeAt(m))===a||v===s||v===34||o.forceQuotes){d='"'+d.replace(_4,'""')+'"';break}d=="ID"&&(d='"ID"')}else p.f!=null&&!p.F?(l=!1,d="="+p.f,d.indexOf(",")>=0&&(d='"'+d.replace(_4,'""')+'"')):d="";c.push(d)}return o.blankrows===!1&&l?null:c.join(i)}function a9(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=vr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Ur(m));for(var v=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(d=TSe(e,a,g,f,i,l,s,n),d!=null&&(n.strip&&(d=d.replace(c,"")),(d||n.blankrows!==!1)&&r.push((v++?o:"")+d)));return delete n.dense,r.join("")}function ASe(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=a9(e,t);return r}function NSe(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=vr(e["!ref"]),s="",i=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=Ur(o);for(var d=a.s.r;d<=a.e.r;++d)for(s=xn(d),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=c?(e[d]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function s9(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Kn(n.origin):n.origin;i=l.r,o=l.c}var c,d={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=vr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),i==-1&&(i=f.e.r+1,d.e.r=i+t.length-1+a)}else i==-1&&(i=0,d.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,g){ni(v).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var b=v[x],y="z",_="",k=Ue({c:o+p,r:i+g+a});c=M0(s,k),b&&typeof b=="object"&&!(b instanceof Date)?s[k]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Qn(b)),_=n.dateNF||ze[14]):b===null&&n.nullError&&(y="e",b=0),c?(c.t=y,c.v=b,delete c.w,delete c.R,_&&(c.z=_)):s[k]=c={t:y,v:b},_&&(c.z=_))})}),d.e.c=Math.max(d.e.c,o+h.length-1);var m=xn(i);if(a)for(p=0;p<h.length;++p)s[Ur(p+o)+m]={t:"s",v:h[p]};return s["!ref"]=et(d),s}function PSe(e,t){return s9(null,e,t)}function M0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Kn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?M0(e,Ue(t)):M0(e,Ue({r:t,c:r||0}))}function OSe(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function cC(){return{SheetNames:[],Sheets:{}}}function uC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(vke(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function DSe(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=OSe(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function MSe(e,t){return e.z=t,e}function i9(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function ISe(e,t,r){return i9(e,"#"+t,r)}function RSe(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function FSe(e,t,r,n){for(var a=typeof t!="string"?t:vr(t),s=typeof t=="string"?t:et(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=M0(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var k4={encode_col:Ur,encode_row:xn,encode_cell:Ue,encode_range:et,decode_col:YE,decode_row:qE,split_cell:Yxe,decode_cell:Kn,decode_range:xd,format_cell:Gi,sheet_add_aoa:uB,sheet_add_json:s9,sheet_add_dom:e9,aoa_to_sheet:yd,json_to_sheet:PSe,table_to_sheet:t9,table_to_book:eSe,sheet_to_csv:a9,sheet_to_txt:ASe,sheet_to_json:B2,sheet_to_html:Qke,sheet_to_formulae:NSe,sheet_to_row_object_array:B2,sheet_get_cell:M0,book_new:cC,book_append_sheet:uC,book_set_sheet_visibility:DSe,cell_set_number_format:MSe,cell_set_hyperlink:i9,cell_set_internal_link:ISe,cell_add_comment:RSe,sheet_set_array_formula:FSe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const LSe={"nome da campanha":"campaign",campanha:"campaign",dia:"date","valor usado (brl)":"spend",custo:"spend",impresses:"impressions","impr.":"impressions",resultados:"results",conv:"conversions",converses:"conversions",frequncia:"frequency",alcance:"reach",cpm:"cpm","cpm mdio":"cpm","cliques no link":"clicks",cliques:"clicks",cpc:"cpc","cpc md.":"cpc",ctr:"ctr"},S4={"extrao meta ads_downloads":{channel:"meta",defaultObjective:null},"extrao meta_marca+downloads":{channel:"meta",defaultObjective:null},"extrao google ads_marca+b2c":{channel:"google",defaultObjective:null},"extrao alcance bf 2025":{channel:"meta",defaultObjective:null}},$Se=e=>e.trim().toLowerCase(),BSe=e=>{if(!e)return null;let t;if(typeof e=="number")t=B$.parse_date_code(e),t=new Date(t.y,t.m-1,t.d);else if(e instanceof Date)t=e;else{const r=String(e).trim();r.includes("-")?t=new Date(r):r.includes("/")?t=pve(r,"dd/MM/yyyy",new Date):t=new Date(r)}return n$(t)?t.toISOString():null},zSe=(e,t)=>{const r=e.toLowerCase();return r.includes("download")||r.includes("app")?"b2c":"marca"},E4=e=>{if(typeof e=="number")return e;if(!e)return 0;let t=String(e);t=t.replace("R$","").trim(),t=t.replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r},dC=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var s;try{const i=(s=a.target)==null?void 0:s.result,o=$2(i,{type:"binary"});let l=[];const c=new Map,d=o.SheetNames.find(p=>p.toLowerCase().includes("de-para")||p.toLowerCase().includes("depara"));if(d){const p=o.Sheets[d];k4.sheet_to_json(p,{header:1}).forEach(v=>{if(v.length>=2){const g=String(v[0]).trim(),x=String(v[1]).trim().toLowerCase();g&&(x==="marca"||x==="branding"?c.set(g,"marca"):(x==="b2c"||x==="prafal"||x==="performance")&&c.set(g,"b2c"))}}),console.log(`De-Para carregado com ${c.size} mapeamentos.`)}Object.keys(S4).forEach(p=>{const m=o.SheetNames.find(y=>y.toLowerCase()===p.toLowerCase());if(!m)return;const v=S4[p],g=o.Sheets[m],b=k4.sheet_to_json(g).map(y=>{const _={channel:v.channel};return Object.keys(y).forEach(k=>{const S=$Se(k),E=LSe[S];if(E)if(E==="date"){const C=BSe(y[k]);C&&(_.date=C)}else E==="campaign"?_.campaign=String(y[k]).trim():E==="results"?_.results=E4(y[k]):_[E]=E4(y[k])}),!_.campaign||!_.date?null:(_.campaign&&c.has(_.campaign)?_.objective=c.get(_.campaign):_.objective=zSe(_.campaign,v.defaultObjective),_.conversions===void 0&&_.results!==void 0&&(_.objective==="b2c"?_.conversions=_.results:(_.reach||(_.reach=_.results),_.conversions=0)),_.spend=_.spend||0,_.impressions=_.impressions||0,_.clicks=_.clicks||0,_.conversions=_.conversions||0,!_.cpm&&_.impressions>0&&(_.cpm=_.spend/_.impressions*1e3),!_.cpc&&_.clicks>0&&(_.cpc=_.spend/_.clicks),!_.ctr&&_.impressions>0&&(_.ctr=_.clicks/_.impressions),_)}).filter(y=>y!==null);l=[...l,...b]});const f=[],h=new Map;l.forEach(p=>{const m=String(p.date).substring(0,10),v=`${p.campaign}|${m}`,g=h.get(v)||[];g.some(b=>Math.abs(b-p.spend)<.1)||(f.push(p),h.set(v,[...g,p.spend]))}),t(f)}catch(i){r(i)}},n.onerror=a=>r(a),n.readAsBinaryString(e)}),USe=()=>{const{goals:e,setGoals:t}=vt(),[r,n]=w.useState(()=>{const h=new Date;return new Date(h.getFullYear(),h.getMonth(),1)}),[a,s]=w.useState(!1),i=h=>{const p=h.getFullYear(),m=String(h.getMonth()+1).padStart(2,"0");return`${p}-${m}`},o=(h,p)=>new Date(h.getFullYear(),h.getMonth()+p,1),l=i(r),[c,d]=w.useState({cartoes_meta:0,b2c_meta:0,plurix_meta:0,b2b2c_meta:0,cac_max:0});Wa.useEffect(()=>{const h=e.find(p=>p.mes===l);d({cartoes_meta:(h==null?void 0:h.cartoes_meta)||0,b2c_meta:(h==null?void 0:h.b2c_meta)||0,plurix_meta:(h==null?void 0:h.plurix_meta)||0,b2b2c_meta:(h==null?void 0:h.b2b2c_meta)||0,cac_max:(h==null?void 0:h.cac_max)||0})},[l,e]);const f=async()=>{s(!0);try{const h={mes:l,cartoes_meta:Number(c.cartoes_meta)||0,b2c_meta:Number(c.b2c_meta)||0,plurix_meta:Number(c.plurix_meta)||0,b2b2c_meta:Number(c.b2b2c_meta)||0,cac_max:Number(c.cac_max)||0},p=[...e.filter(v=>v.mes!==l)];p.push(h),t(p);const{dataService:m}=await w$(async()=>{const{dataService:v}=await Promise.resolve().then(()=>M9);return{dataService:v}},void 0);await m.upsertGoal(h),alert("Meta salva com sucesso!")}catch(h){console.error("Erro ao salvar meta:",h),alert(`Erro ao salvar meta na nuvem: ${h.message||"Erro desconhecido"}`)}finally{s(!1)}};return u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),u.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[u.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:u.jsx(Xi,{size:24})}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-white",children:["Gerenciador de Metas ",u.jsx("span",{className:"text-xs text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full ml-2",children:"v1.1 (Live)"})]}),u.jsx("p",{className:"text-sm text-slate-400",children:"Defina os objetivos mensais para os KPIs."})]})]}),u.jsxs("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded-xl p-4 relative z-10",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("button",{onClick:()=>n(o(r,-1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:u.jsx(Y0,{size:20})}),u.jsx("div",{className:"text-center",children:u.jsx("h4",{className:"text-lg font-bold text-white capitalize",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})}),u.jsx("button",{onClick:()=>n(o(r,1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:u.jsx(En,{size:20})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta CRM (Cartes)",u.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-[9px] px-1.5 py-0.5 rounded",children:"CRM"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(Cl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors"}),u.jsx("input",{type:"number",value:c.cartoes_meta,onChange:h=>d({...c,cartoes_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-blue-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2C Total",u.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"Geral"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(Cl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),u.jsx("input",{type:"number",value:c.b2c_meta,onChange:h=>d({...c,b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),u.jsxs("div",{className:"relative group",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),u.jsx("input",{type:"number",value:c.cac_max,onChange:h=>d({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta Plurix",u.jsx("span",{className:"bg-purple-500/20 text-purple-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(Cl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),u.jsx("input",{type:"number",value:c.plurix_meta,onChange:h=>d({...c,plurix_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-purple-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2B2C",u.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),u.jsxs("div",{className:"relative group",children:[u.jsx(Cl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),u.jsx("input",{type:"number",value:c.b2b2c_meta,onChange:h=>d({...c,b2b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),u.jsxs("div",{className:"relative group",children:[u.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),u.jsx("input",{type:"number",value:c.cac_max,onChange:h=>d({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),u.jsx("div",{className:"mt-6 flex justify-end",children:u.jsxs("button",{onClick:f,disabled:a,className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold transition-all shadow-lg shadow-emerald-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx(sd,{size:16}),a?"Salvando...":"Salvar Metas"]})})]})};function he(e,t,r){function n(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,l);const c=i.prototype,d=Object.keys(c);for(let f=0;f<d.length;f++){const h=d[f];h in o||(o[h]=c[h].bind(o))}}const a=(r==null?void 0:r.Parent)??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function i(o){var l;const c=r!=null&&r.Parent?new s:this;n(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,c;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class Tu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class o9 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const l9={};function oc(e){return l9}function VSe(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function z2(e,t){return typeof t=="bigint"?t.toString():t}function fC(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function hC(e){return e==null}function pC(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function WSe(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l!=null&&l[1]&&(a=Number.parseInt(l[1]))}const s=r>a?r:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}const C4=Symbol("evaluating");function Dt(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==C4)return n===void 0&&(n=C4,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function kc(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Sc(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function j4(e){return JSON.stringify(e)}function HSe(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const c9="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function yg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const KSe=fC(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function I0(e){if(yg(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(yg(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function u9(e){return I0(e)?{...e}:Array.isArray(e)?[...e]:e}const GSe=new Set(["string","number","symbol"]);function dy(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function al(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function Ie(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qSe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const YSe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function XSe(e,t){const r=e._zod.def,n=Sc(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return kc(this,"shape",a),a},checks:[]});return al(e,n)}function ZSe(e,t){const r=e._zod.def,n=Sc(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return kc(this,"shape",a),a},checks:[]});return al(e,n)}function JSe(e,t){if(!I0(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=Sc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return kc(this,"shape",s),s},checks:[]});return al(e,a)}function QSe(e,t){if(!I0(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return kc(this,"shape",n),n},checks:e._zod.def.checks};return al(e,r)}function eEe(e,t){const r=Sc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return kc(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return al(e,r)}function tEe(e,t,r){const n=Sc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)s[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return kc(this,"shape",s),s},checks:[]});return al(t,n)}function rEe(e,t,r){const n=Sc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)s[i]=new e({type:"nonoptional",innerType:a[i]});return kc(this,"shape",s),s},checks:[]});return al(t,n)}function lu(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function d9(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function qp(e){return typeof e=="string"?e:e==null?void 0:e.message}function lc(e,t,r){var a,s,i,o,l,c;const n={...e,path:e.path??[]};if(!e.message){const d=qp((i=(s=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,e))??qp((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??qp((l=r.customError)==null?void 0:l.call(r,e))??qp((c=r.localeError)==null?void 0:c.call(r,e))??"Invalid input";n.message=d}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function mC(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function R0(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const f9=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,z2,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},h9=he("$ZodError",f9),p9=he("$ZodError",f9,{Parent:Error});function nEe(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function aEe(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>n({issues:i}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let i=r,o=0;for(;o<s.path.length;){const l=s.path[o];o===s.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(s))):i[l]=i[l]||{_errors:[]},i=i[l],o++}}};return n(e),r}const vC=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new Tu;if(i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>lc(l,s,oc())));throw c9(o,a==null?void 0:a.callee),o}return i.value},gC=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>lc(l,s,oc())));throw c9(o,a==null?void 0:a.callee),o}return i.value},fy=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new Tu;return s.issues.length?{success:!1,error:new(e??h9)(s.issues.map(i=>lc(i,a,oc())))}:{success:!0,data:s.value}},sEe=fy(p9),hy=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>lc(i,a,oc())))}:{success:!0,data:s.value}},iEe=hy(p9),oEe=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return vC(e)(t,r,a)},lEe=e=>(t,r,n)=>vC(e)(t,r,n),cEe=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return gC(e)(t,r,a)},uEe=e=>async(t,r,n)=>gC(e)(t,r,n),dEe=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return fy(e)(t,r,a)},fEe=e=>(t,r,n)=>fy(e)(t,r,n),hEe=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return hy(e)(t,r,a)},pEe=e=>async(t,r,n)=>hy(e)(t,r,n),mEe=/^[cC][^\s-]{8,}$/,vEe=/^[0-9a-z]+$/,gEe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xEe=/^[0-9a-vA-V]{20}$/,yEe=/^[A-Za-z0-9]{27}$/,bEe=/^[a-zA-Z0-9_-]{21}$/,wEe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,_Ee=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,T4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,kEe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,SEe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function EEe(){return new RegExp(SEe,"u")}const CEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jEe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,TEe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,AEe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NEe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,m9=/^[A-Za-z0-9_-]*$/,PEe=/^\+(?:[0-9]){6,14}[0-9]$/,v9="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",OEe=new RegExp(`^${v9}$`);function g9(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function DEe(e){return new RegExp(`^${g9(e)}$`)}function MEe(e){const t=g9({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${v9}T(?:${n})$`)}const IEe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},REe=/^-?\d+$/,FEe=/^-?\d+(?:\.\d+)?/,LEe=/^[^A-Z]*$/,$Ee=/^[^a-z]*$/,pa=he("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),x9={number:"number",bigint:"bigint",object:"date"},y9=he("$ZodCheckLessThan",(e,t)=>{pa.init(e,t);const r=x9[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),b9=he("$ZodCheckGreaterThan",(e,t)=>{pa.init(e,t);const r=x9[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),BEe=he("$ZodCheckMultipleOf",(e,t)=>{pa.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):WSe(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),zEe=he("$ZodCheckNumberFormat",(e,t)=>{var i;pa.init(e,t),t.format=t.format||"float64";const r=(i=t.format)==null?void 0:i.includes("int"),n=r?"int":"number",[a,s]=YSe[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,r&&(l.pattern=REe)}),e._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),UEe=he("$ZodCheckMaxLength",(e,t)=>{var r;pa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const i=mC(a);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),VEe=he("$ZodCheckMinLength",(e,t)=>{var r;pa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const i=mC(a);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),WEe=he("$ZodCheckLengthEquals",(e,t)=>{var r;pa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!hC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const i=mC(a),o=s>t.length;n.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),py=he("$ZodCheckStringFormat",(e,t)=>{var r,n;pa.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),HEe=he("$ZodCheckRegex",(e,t)=>{py.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),KEe=he("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=LEe),py.init(e,t)}),GEe=he("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=$Ee),py.init(e,t)}),qEe=he("$ZodCheckIncludes",(e,t)=>{pa.init(e,t);const r=dy(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),YEe=he("$ZodCheckStartsWith",(e,t)=>{pa.init(e,t);const r=new RegExp(`^${dy(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),XEe=he("$ZodCheckEndsWith",(e,t)=>{pa.init(e,t);const r=new RegExp(`.*${dy(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),ZEe=he("$ZodCheckOverwrite",(e,t)=>{pa.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class JEe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),a=Math.min(...n.map(i=>i.length-i.trimStart().length)),s=n.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const t=Function,r=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const QEe={major:4,minor:1,patch:13},Mr=he("$ZodType",(e,t)=>{var a;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=QEe;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,l,c)=>{let d=lu(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(d)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Tu;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(d||(d=lu(o,p)))});else{if(o.issues.length===p)continue;d||(d=lu(o,p))}}return f?f.then(()=>o):o},i=(o,l,c)=>{if(lu(o))return o.aborted=!0,o;const d=s(l,n,c);if(d instanceof Promise){if(c.async===!1)throw new Tu;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const d=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>i(f,o,l)):i(d,o,l)}const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new Tu;return c.then(d=>s(d,n,l))}return s(c,n,l)}}e["~standard"]={validate:s=>{var i;try{const o=sEe(e,s);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return iEe(e,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),xC=he("$ZodString",(e,t)=>{var r;Mr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??IEe(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),qt=he("$ZodStringFormat",(e,t)=>{py.init(e,t),xC.init(e,t)}),eCe=he("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=_Ee),qt.init(e,t)}),tCe=he("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=T4(n))}else t.pattern??(t.pattern=T4());qt.init(e,t)}),rCe=he("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=kEe),qt.init(e,t)}),nCe=he("$ZodURL",(e,t)=>{qt.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),aCe=he("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=EEe()),qt.init(e,t)}),sCe=he("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=bEe),qt.init(e,t)}),iCe=he("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=mEe),qt.init(e,t)}),oCe=he("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=vEe),qt.init(e,t)}),lCe=he("$ZodULID",(e,t)=>{t.pattern??(t.pattern=gEe),qt.init(e,t)}),cCe=he("$ZodXID",(e,t)=>{t.pattern??(t.pattern=xEe),qt.init(e,t)}),uCe=he("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=yEe),qt.init(e,t)}),dCe=he("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=MEe(t)),qt.init(e,t)}),fCe=he("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=OEe),qt.init(e,t)}),hCe=he("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=DEe(t)),qt.init(e,t)}),pCe=he("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=wEe),qt.init(e,t)}),mCe=he("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=CEe),qt.init(e,t),e._zod.bag.format="ipv4"}),vCe=he("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=jEe),qt.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),gCe=he("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=TEe),qt.init(e,t)}),xCe=he("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=AEe),qt.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function w9(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const yCe=he("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=NEe),qt.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{w9(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function bCe(e){if(!m9.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return w9(r)}const wCe=he("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=m9),qt.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{bCe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),_Ce=he("$ZodE164",(e,t)=>{t.pattern??(t.pattern=PEe),qt.init(e,t)});function kCe(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const SCe=he("$ZodJWT",(e,t)=>{qt.init(e,t),e._zod.check=r=>{kCe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),_9=he("$ZodNumber",(e,t)=>{Mr.init(e,t),e._zod.pattern=e._zod.bag.pattern??FEe,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),ECe=he("$ZodNumberFormat",(e,t)=>{zEe.init(e,t),_9.init(e,t)}),CCe=he("$ZodUnknown",(e,t)=>{Mr.init(e,t),e._zod.parse=r=>r}),jCe=he("$ZodNever",(e,t)=>{Mr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function A4(e,t,r){e.issues.length&&t.issues.push(...d9(r,e.issues)),t.value[r]=e.value}const TCe=he("$ZodArray",(e,t)=>{Mr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let i=0;i<a.length;i++){const o=a[i],l=t.element._zod.run({value:o,issues:[]},n);l instanceof Promise?s.push(l.then(c=>A4(c,r,i))):A4(l,r,i)}return s.length?Promise.all(s).then(()=>r):r}});function bg(e,t,r,n){e.issues.length&&t.issues.push(...d9(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function k9(e){var n,a,s,i;const t=Object.keys(e.shape);for(const o of t)if(!((i=(s=(a=(n=e.shape)==null?void 0:n[o])==null?void 0:a._zod)==null?void 0:s.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=qSe(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function S9(e,t,r,n,a,s){const i=[],o=a.keySet,l=a.catchall._zod,c=l.def.type;for(const d in t){if(o.has(d))continue;if(c==="never"){i.push(d);continue}const f=l.run({value:t[d],issues:[]},n);f instanceof Promise?e.push(f.then(h=>bg(h,r,d,t))):bg(f,r,d,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const ACe=he("$ZodObject",(e,t)=>{Mr.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...o};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=fC(()=>k9(t));Dt(e._zod,"propValues",()=>{const o=t.shape,l={};for(const c in o){const d=o[c]._zod;if(d.values){l[c]??(l[c]=new Set);for(const f of d.values)l[c].add(f)}}return l});const a=yg,s=t.catchall;let i;e._zod.parse=(o,l)=>{i??(i=n.value);const c=o.value;if(!a(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const d=[],f=i.shape;for(const h of i.keys){const m=f[h]._zod.run({value:c[h],issues:[]},l);m instanceof Promise?d.push(m.then(v=>bg(v,o,h,c))):bg(m,o,h,c)}return s?S9(d,c,o,l,n.value,e):d.length?Promise.all(d).then(()=>o):o}}),NCe=he("$ZodObjectJIT",(e,t)=>{ACe.init(e,t);const r=e._zod.parse,n=fC(()=>k9(t)),a=h=>{const p=new JEe(["shape","payload","ctx"]),m=n.value,v=y=>{const _=j4(y);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};p.write("const input = payload.value;");const g=Object.create(null);let x=0;for(const y of m.keys)g[y]=`key_${x++}`;p.write("const newResult = {};");for(const y of m.keys){const _=g[y],k=j4(y);p.write(`const ${_} = ${v(y)};`),p.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${k}, ...iss.path] : [${k}]
          })));
        }
        
        
        if (${_}.value === undefined) {
          if (${k} in input) {
            newResult[${k}] = undefined;
          }
        } else {
          newResult[${k}] = ${_}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(y,_)=>b(h,y,_)};let s;const i=yg,o=!l9.jitless,c=o&&KSe.value,d=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=n.value);const m=h.value;return i(m)?o&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=a(t.shape)),h=s(h,p),d?S9([],m,h,p,f,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function N4(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!lu(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(i=>lc(i,n,oc())))}),t)}const PCe=he("$ZodUnion",(e,t)=>{Mr.init(e,t),Dt(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),Dt(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),Dt(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),Dt(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>pC(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let i=!1;const o=[];for(const l of t.options){const c=l._zod.run({value:a.value,issues:[]},s);if(c instanceof Promise)o.push(c),i=!0;else{if(c.issues.length===0)return c;o.push(c)}}return i?Promise.all(o).then(l=>N4(l,a,e,s)):N4(o,a,e,s)}}),OCe=he("$ZodIntersection",(e,t)=>{Mr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,c])=>P4(r,l,c)):P4(r,s,i)}});function U2(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(I0(e)&&I0(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const i=U2(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};a[s]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],i=U2(a,s);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function P4(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),lu(e))return e;const n=U2(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const DCe=he("$ZodEnum",(e,t)=>{Mr.init(e,t);const r=VSe(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>GSe.has(typeof a)).map(a=>typeof a=="string"?dy(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const i=a.value;return n.has(i)||a.issues.push({code:"invalid_value",values:r,input:i,inst:e}),a}}),MCe=he("$ZodTransform",(e,t)=>{Mr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new o9(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(r.value=i,r));if(a instanceof Promise)throw new Tu;return r.value=a,r}});function O4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const ICe=he("$ZodOptional",(e,t)=>{Mr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${pC(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>O4(s,r.value)):O4(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),RCe=he("$ZodNullable",(e,t)=>{Mr.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${pC(r.source)}|null)$`):void 0}),Dt(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),FCe=he("$ZodDefault",(e,t)=>{Mr.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>D4(s,t)):D4(a,t)}});function D4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const LCe=he("$ZodPrefault",(e,t)=>{Mr.init(e,t),e._zod.optin="optional",Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),$Ce=he("$ZodNonOptional",(e,t)=>{Mr.init(e,t),Dt(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>M4(s,e)):M4(a,e)}});function M4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const BCe=he("$ZodCatch",(e,t)=>{Mr.init(e,t),Dt(e._zod,"optin",()=>t.innerType._zod.optin),Dt(e._zod,"optout",()=>t.innerType._zod.optout),Dt(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>lc(i,n,oc()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>lc(s,n,oc()))},input:r.value}),r.issues=[]),r)}}),zCe=he("$ZodPipe",(e,t)=>{Mr.init(e,t),Dt(e._zod,"values",()=>t.in._zod.values),Dt(e._zod,"optin",()=>t.in._zod.optin),Dt(e._zod,"optout",()=>t.out._zod.optout),Dt(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(i=>Yp(i,t.in,n)):Yp(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Yp(s,t.out,n)):Yp(a,t.out,n)}});function Yp(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const UCe=he("$ZodReadonly",(e,t)=>{Mr.init(e,t),Dt(e._zod,"propValues",()=>t.innerType._zod.propValues),Dt(e._zod,"values",()=>t.innerType._zod.values),Dt(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),Dt(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(I4):I4(a)}});function I4(e){return e.value=Object.freeze(e.value),e}const VCe=he("$ZodCustom",(e,t)=>{pa.init(e,t),Mr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>R4(s,r,n,e));R4(a,r,n,e)}});function R4(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(R0(a))}}var F4;class WCe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function HCe(){return new WCe}(F4=globalThis).__zod_globalRegistry??(F4.__zod_globalRegistry=HCe());const Xp=globalThis.__zod_globalRegistry;function KCe(e,t){return new e({type:"string",...Ie(t)})}function GCe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...Ie(t)})}function L4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...Ie(t)})}function qCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...Ie(t)})}function YCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ie(t)})}function XCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ie(t)})}function ZCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ie(t)})}function JCe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...Ie(t)})}function QCe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...Ie(t)})}function eje(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ie(t)})}function tje(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...Ie(t)})}function rje(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ie(t)})}function nje(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...Ie(t)})}function aje(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...Ie(t)})}function sje(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ie(t)})}function ije(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ie(t)})}function oje(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ie(t)})}function lje(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ie(t)})}function cje(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ie(t)})}function uje(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...Ie(t)})}function dje(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...Ie(t)})}function fje(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...Ie(t)})}function hje(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...Ie(t)})}function pje(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ie(t)})}function mje(e,t){return new e({type:"string",format:"date",check:"string_format",...Ie(t)})}function vje(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...Ie(t)})}function gje(e,t){return new e({type:"string",format:"duration",check:"string_format",...Ie(t)})}function xje(e,t){return new e({type:"number",checks:[],...Ie(t)})}function yje(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...Ie(t)})}function bje(e){return new e({type:"unknown"})}function wje(e,t){return new e({type:"never",...Ie(t)})}function $4(e,t){return new y9({check:"less_than",...Ie(t),value:e,inclusive:!1})}function X1(e,t){return new y9({check:"less_than",...Ie(t),value:e,inclusive:!0})}function B4(e,t){return new b9({check:"greater_than",...Ie(t),value:e,inclusive:!1})}function Z1(e,t){return new b9({check:"greater_than",...Ie(t),value:e,inclusive:!0})}function z4(e,t){return new BEe({check:"multiple_of",...Ie(t),value:e})}function E9(e,t){return new UEe({check:"max_length",...Ie(t),maximum:e})}function wg(e,t){return new VEe({check:"min_length",...Ie(t),minimum:e})}function C9(e,t){return new WEe({check:"length_equals",...Ie(t),length:e})}function _je(e,t){return new HEe({check:"string_format",format:"regex",...Ie(t),pattern:e})}function kje(e){return new KEe({check:"string_format",format:"lowercase",...Ie(e)})}function Sje(e){return new GEe({check:"string_format",format:"uppercase",...Ie(e)})}function Eje(e,t){return new qEe({check:"string_format",format:"includes",...Ie(t),includes:e})}function Cje(e,t){return new YEe({check:"string_format",format:"starts_with",...Ie(t),prefix:e})}function jje(e,t){return new XEe({check:"string_format",format:"ends_with",...Ie(t),suffix:e})}function bd(e){return new ZEe({check:"overwrite",tx:e})}function Tje(e){return bd(t=>t.normalize(e))}function Aje(){return bd(e=>e.trim())}function Nje(){return bd(e=>e.toLowerCase())}function Pje(){return bd(e=>e.toUpperCase())}function Oje(){return bd(e=>HSe(e))}function Dje(e,t,r){return new e({type:"array",element:t,...Ie(r)})}function Mje(e,t,r){return new e({type:"custom",check:"custom",fn:t,...Ie(r)})}function Ije(e){const t=Rje(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(R0(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(R0(a))}},e(r.value,r)));return t}function Rje(e,t){const r=new pa({check:"custom",...Ie(t)});return r._zod.check=e,r}const Fje=he("ZodISODateTime",(e,t)=>{dCe.init(e,t),or.init(e,t)});function Lje(e){return pje(Fje,e)}const $je=he("ZodISODate",(e,t)=>{fCe.init(e,t),or.init(e,t)});function Bje(e){return mje($je,e)}const zje=he("ZodISOTime",(e,t)=>{hCe.init(e,t),or.init(e,t)});function Uje(e){return vje(zje,e)}const Vje=he("ZodISODuration",(e,t)=>{pCe.init(e,t),or.init(e,t)});function Wje(e){return gje(Vje,e)}const Hje=(e,t)=>{h9.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>aEe(e,r)},flatten:{value:r=>nEe(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,z2,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,z2,2)}},isEmpty:{get(){return e.issues.length===0}}})},is=he("ZodError",Hje,{Parent:Error}),Kje=vC(is),Gje=gC(is),qje=fy(is),Yje=hy(is),Xje=oEe(is),Zje=lEe(is),Jje=cEe(is),Qje=uEe(is),eTe=dEe(is),tTe=fEe(is),rTe=hEe(is),nTe=pEe(is),Yr=he("ZodType",(e,t)=>(Mr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(Sc(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>al(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>Kje(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>qje(e,r,n),e.parseAsync=async(r,n)=>Gje(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>Yje(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>Xje(e,r,n),e.decode=(r,n)=>Zje(e,r,n),e.encodeAsync=async(r,n)=>Jje(e,r,n),e.decodeAsync=async(r,n)=>Qje(e,r,n),e.safeEncode=(r,n)=>eTe(e,r,n),e.safeDecode=(r,n)=>tTe(e,r,n),e.safeEncodeAsync=async(r,n)=>rTe(e,r,n),e.safeDecodeAsync=async(r,n)=>nTe(e,r,n),e.refine=(r,n)=>e.check(qTe(r,n)),e.superRefine=r=>e.check(YTe(r)),e.overwrite=r=>e.check(bd(r)),e.optional=()=>H4(e),e.nullable=()=>K4(e),e.nullish=()=>H4(K4(e)),e.nonoptional=r=>zTe(e,r),e.array=()=>TTe(e),e.or=r=>A9([e,r]),e.and=r=>DTe(e,r),e.transform=r=>G4(e,ITe(r)),e.default=r=>LTe(e,r),e.prefault=r=>BTe(e,r),e.catch=r=>VTe(e,r),e.pipe=r=>G4(e,r),e.readonly=()=>KTe(e),e.describe=r=>{const n=e.clone();return Xp.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Xp.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Xp.get(e);const n=e.clone();return Xp.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),j9=he("_ZodString",(e,t)=>{xC.init(e,t),Yr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(_je(...n)),e.includes=(...n)=>e.check(Eje(...n)),e.startsWith=(...n)=>e.check(Cje(...n)),e.endsWith=(...n)=>e.check(jje(...n)),e.min=(...n)=>e.check(wg(...n)),e.max=(...n)=>e.check(E9(...n)),e.length=(...n)=>e.check(C9(...n)),e.nonempty=(...n)=>e.check(wg(1,...n)),e.lowercase=n=>e.check(kje(n)),e.uppercase=n=>e.check(Sje(n)),e.trim=()=>e.check(Aje()),e.normalize=(...n)=>e.check(Tje(...n)),e.toLowerCase=()=>e.check(Nje()),e.toUpperCase=()=>e.check(Pje()),e.slugify=()=>e.check(Oje())}),aTe=he("ZodString",(e,t)=>{xC.init(e,t),j9.init(e,t),e.email=r=>e.check(GCe(sTe,r)),e.url=r=>e.check(JCe(iTe,r)),e.jwt=r=>e.check(hje(wTe,r)),e.emoji=r=>e.check(QCe(oTe,r)),e.guid=r=>e.check(L4(U4,r)),e.uuid=r=>e.check(qCe(Zp,r)),e.uuidv4=r=>e.check(YCe(Zp,r)),e.uuidv6=r=>e.check(XCe(Zp,r)),e.uuidv7=r=>e.check(ZCe(Zp,r)),e.nanoid=r=>e.check(eje(lTe,r)),e.guid=r=>e.check(L4(U4,r)),e.cuid=r=>e.check(tje(cTe,r)),e.cuid2=r=>e.check(rje(uTe,r)),e.ulid=r=>e.check(nje(dTe,r)),e.base64=r=>e.check(uje(xTe,r)),e.base64url=r=>e.check(dje(yTe,r)),e.xid=r=>e.check(aje(fTe,r)),e.ksuid=r=>e.check(sje(hTe,r)),e.ipv4=r=>e.check(ije(pTe,r)),e.ipv6=r=>e.check(oje(mTe,r)),e.cidrv4=r=>e.check(lje(vTe,r)),e.cidrv6=r=>e.check(cje(gTe,r)),e.e164=r=>e.check(fje(bTe,r)),e.datetime=r=>e.check(Lje(r)),e.date=r=>e.check(Bje(r)),e.time=r=>e.check(Uje(r)),e.duration=r=>e.check(Wje(r))});function Jt(e){return KCe(aTe,e)}const or=he("ZodStringFormat",(e,t)=>{qt.init(e,t),j9.init(e,t)}),sTe=he("ZodEmail",(e,t)=>{rCe.init(e,t),or.init(e,t)}),U4=he("ZodGUID",(e,t)=>{eCe.init(e,t),or.init(e,t)}),Zp=he("ZodUUID",(e,t)=>{tCe.init(e,t),or.init(e,t)}),iTe=he("ZodURL",(e,t)=>{nCe.init(e,t),or.init(e,t)}),oTe=he("ZodEmoji",(e,t)=>{aCe.init(e,t),or.init(e,t)}),lTe=he("ZodNanoID",(e,t)=>{sCe.init(e,t),or.init(e,t)}),cTe=he("ZodCUID",(e,t)=>{iCe.init(e,t),or.init(e,t)}),uTe=he("ZodCUID2",(e,t)=>{oCe.init(e,t),or.init(e,t)}),dTe=he("ZodULID",(e,t)=>{lCe.init(e,t),or.init(e,t)}),fTe=he("ZodXID",(e,t)=>{cCe.init(e,t),or.init(e,t)}),hTe=he("ZodKSUID",(e,t)=>{uCe.init(e,t),or.init(e,t)}),pTe=he("ZodIPv4",(e,t)=>{mCe.init(e,t),or.init(e,t)}),mTe=he("ZodIPv6",(e,t)=>{vCe.init(e,t),or.init(e,t)}),vTe=he("ZodCIDRv4",(e,t)=>{gCe.init(e,t),or.init(e,t)}),gTe=he("ZodCIDRv6",(e,t)=>{xCe.init(e,t),or.init(e,t)}),xTe=he("ZodBase64",(e,t)=>{yCe.init(e,t),or.init(e,t)}),yTe=he("ZodBase64URL",(e,t)=>{wCe.init(e,t),or.init(e,t)}),bTe=he("ZodE164",(e,t)=>{_Ce.init(e,t),or.init(e,t)}),wTe=he("ZodJWT",(e,t)=>{SCe.init(e,t),or.init(e,t)}),T9=he("ZodNumber",(e,t)=>{_9.init(e,t),Yr.init(e,t),e.gt=(n,a)=>e.check(B4(n,a)),e.gte=(n,a)=>e.check(Z1(n,a)),e.min=(n,a)=>e.check(Z1(n,a)),e.lt=(n,a)=>e.check($4(n,a)),e.lte=(n,a)=>e.check(X1(n,a)),e.max=(n,a)=>e.check(X1(n,a)),e.int=n=>e.check(V4(n)),e.safe=n=>e.check(V4(n)),e.positive=n=>e.check(B4(0,n)),e.nonnegative=n=>e.check(Z1(0,n)),e.negative=n=>e.check($4(0,n)),e.nonpositive=n=>e.check(X1(0,n)),e.multipleOf=(n,a)=>e.check(z4(n,a)),e.step=(n,a)=>e.check(z4(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function _Te(e){return xje(T9,e)}const kTe=he("ZodNumberFormat",(e,t)=>{ECe.init(e,t),T9.init(e,t)});function V4(e){return yje(kTe,e)}const STe=he("ZodUnknown",(e,t)=>{CCe.init(e,t),Yr.init(e,t)});function W4(){return bje(STe)}const ETe=he("ZodNever",(e,t)=>{jCe.init(e,t),Yr.init(e,t)});function CTe(e){return wje(ETe,e)}const jTe=he("ZodArray",(e,t)=>{TCe.init(e,t),Yr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(wg(r,n)),e.nonempty=r=>e.check(wg(1,r)),e.max=(r,n)=>e.check(E9(r,n)),e.length=(r,n)=>e.check(C9(r,n)),e.unwrap=()=>e.element});function TTe(e,t){return Dje(jTe,e,t)}const ATe=he("ZodObject",(e,t)=>{NCe.init(e,t),Yr.init(e,t),Dt(e,"shape",()=>t.shape),e.keyof=()=>Em(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:W4()}),e.loose=()=>e.clone({...e._zod.def,catchall:W4()}),e.strict=()=>e.clone({...e._zod.def,catchall:CTe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>JSe(e,r),e.safeExtend=r=>QSe(e,r),e.merge=r=>eEe(e,r),e.pick=r=>XSe(e,r),e.omit=r=>ZSe(e,r),e.partial=(...r)=>tEe(N9,e,r[0]),e.required=(...r)=>rEe(P9,e,r[0])});function NTe(e,t){const r={type:"object",shape:e??{},...Ie(t)};return new ATe(r)}const PTe=he("ZodUnion",(e,t)=>{PCe.init(e,t),Yr.init(e,t),e.options=t.options});function A9(e,t){return new PTe({type:"union",options:e,...Ie(t)})}const OTe=he("ZodIntersection",(e,t)=>{OCe.init(e,t),Yr.init(e,t)});function DTe(e,t){return new OTe({type:"intersection",left:e,right:t})}const V2=he("ZodEnum",(e,t)=>{DCe.init(e,t),Yr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const i of n)if(r.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new V2({...t,checks:[],...Ie(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const i of n)if(r.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new V2({...t,checks:[],...Ie(a),entries:s})}});function Em(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new V2({type:"enum",entries:r,...Ie(t)})}const MTe=he("ZodTransform",(e,t)=>{MCe.init(e,t),Yr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new o9(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(R0(s,r.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(R0(i))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function ITe(e){return new MTe({type:"transform",transform:e})}const N9=he("ZodOptional",(e,t)=>{ICe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function H4(e){return new N9({type:"optional",innerType:e})}const RTe=he("ZodNullable",(e,t)=>{RCe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function K4(e){return new RTe({type:"nullable",innerType:e})}const FTe=he("ZodDefault",(e,t)=>{FCe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function LTe(e,t){return new FTe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():u9(t)}})}const $Te=he("ZodPrefault",(e,t)=>{LCe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function BTe(e,t){return new $Te({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():u9(t)}})}const P9=he("ZodNonOptional",(e,t)=>{$Ce.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function zTe(e,t){return new P9({type:"nonoptional",innerType:e,...Ie(t)})}const UTe=he("ZodCatch",(e,t)=>{BCe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function VTe(e,t){return new UTe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const WTe=he("ZodPipe",(e,t)=>{zCe.init(e,t),Yr.init(e,t),e.in=t.in,e.out=t.out});function G4(e,t){return new WTe({type:"pipe",in:e,out:t})}const HTe=he("ZodReadonly",(e,t)=>{UCe.init(e,t),Yr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function KTe(e){return new HTe({type:"readonly",innerType:e})}const GTe=he("ZodCustom",(e,t)=>{VCe.init(e,t),Yr.init(e,t)});function qTe(e,t={}){return Mje(GTe,e,t)}function YTe(e){return Ije(e)}const O9=NTe({bu:Em(["B2C","B2B2C","Plurix","Bem Barato"]),segmento:Jt().min(1,"Segmento  obrigatrio"),jornada:Jt().min(5,"Mnimo 5 caracteres").max(250,"Mximo 250 caracteres"),activityName:Jt().min(2,"Mnimo 2 caracteres").max(250,"Mximo 250 caracteres"),dataInicio:Jt().refine(e=>new Date(e)>=new Date(new Date().setHours(0,0,0,0)),"No pode ser data passada"),dataFim:Jt(),horarioDisparo:Jt().regex(/^\d{2}:\d{2}$/,"Formato: HH:MM"),canal:Em(["E-mail","Push","SMS","WhatsApp"]),safra:Jt().optional(),ordemDisparo:A9([Jt(),_Te()]).optional(),perfilCredito:Jt().optional(),oferta:Jt().optional(),promocional:Jt().optional(),oferta2:Jt().optional(),promocional2:Jt().optional(),parceiro:Jt().optional(),subgrupo:Jt().optional(),etapaAquisicao:Jt().optional(),produto:Jt().optional(),baseVolume:Jt().optional(),custoUnitarioOferta:Jt().optional(),custoTotalOferta:Jt().optional(),custoUnitarioCanal:Jt().optional(),custoTotalCanal:Jt().optional(),custoTotalCampanha:Jt().optional(),status:Em(["Rascunho","Scheduled","Enviado","Realizado"]).default("Rascunho")}).refine(e=>new Date(e.dataFim)>=new Date(e.dataInicio),{message:"Data Fim  Data Incio",path:["dataFim"]}).refine(e=>e.oferta||e.promocional,{message:"Selecione pelo menos Oferta OU Promocional",path:["oferta"]}),XTe=async(e,t)=>{var l;const r=O9.parse(e),{data:n}=await ht.from("activities").select('"Ordem de disparo"').eq("Segmento",t).order("Ordem de disparo",{ascending:!1}).limit(1),a=(((l=n==null?void 0:n[0])==null?void 0:l["Ordem de disparo"])||0)+1,s={prog_gaas:!0,status:r.status,BU:r.bu,jornada:r.jornada,"Activity name / Taxonomia":r.activityName,"Data de Disparo":r.dataInicio,"Data Fim":r.dataFim,Segmento:t,"Perfil de Crdito":r.perfilCredito||null,Oferta:r.oferta||null,Promocional:r.promocional||null,"Oferta 2":r.oferta2||null,"Promocional 2":r.promocional2||null,Parceiro:r.parceiro||null,Subgrupos:r.subgrupo||null,"Etapa de aquisio":r.etapaAquisicao||null,Produto:r.produto||null,"Base Total":Number(r.baseVolume)||null,"Ordem de disparo":r.ordemDisparo==="Pontual"?1:Number(r.ordemDisparo)||a,"Horrio de Disparo":r.horarioDisparo||"10:00",updated_at:new Date().toISOString()},{data:i,error:o}=await ht.from("activities").insert(s).select().single();if(o)throw o;return i},yC=async(e,t)=>{const{data:r,error:n}=await ht.from("activities").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},ZTe=async e=>{const{error:t}=await ht.from("activities").delete().eq("id",e);if(t)throw t},JTe=async e=>yC(e,{status:"Scheduled"}),QTe=async e=>yC(e,{status:"Scheduled"}),eAe=async e=>{const{data:t,error:r}=await ht.from("activities").select("*").eq("Segmento",e).order("Data de Disparo",{ascending:!0});if(r)throw r;return t||[]},tAe=async()=>{const{data:e,error:t}=await ht.from("activities").select("*").order("Data de Disparo",{ascending:!1}).limit(1e4);if(t)throw t;return e||[]},D9=async e=>{const{error:t}=await ht.from("activities").delete().eq("prog_gaas",!1);if(t)throw console.error("Erro ao limpar dados antigos:",t),new Error("Falha ao limpar histrico antigo.");if(e.length===0)return;const r=e.map(a=>{var i,o,l,c,d,f,h,p,m,v,g,x,b,y,_,k,S,E,C,j,T,N,A,P,V,z,Z,G,Y,I,te,J,D,R,B,H,ee,ue,de,q,re,le,M,ke,pe,_e,X;const s=Q=>{if(typeof Q=="number")return Q;if(!Q)return 0;let ce=String(Q).replace(/[R$\s%]/g,"");return ce.includes(",")&&ce.includes(".")?ce=ce.replace(/\./g,"").replace(",","."):ce.includes(",")&&(ce=ce.replace(",",".")),parseFloat(ce)||0};return{prog_gaas:!1,status:"Realizado","Activity name / Taxonomia":a.id||((i=a.raw)==null?void 0:i["Activity name / Taxonomia"]),"Data de Disparo":a.dataDisparo?new Date(a.dataDisparo).toISOString():null,"Data Fim":(o=a.raw)!=null&&o["Data Fim"]?new Date(a.raw["Data Fim"]).toISOString():null,BU:a.bu,Canal:a.canal,Safra:a.safraKey||((l=a.raw)==null?void 0:l.Safra),jornada:a.jornada||((c=a.raw)==null?void 0:c.Jornada),Parceiro:a.parceiro,SIGLA_Parceiro:(d=a.raw)==null?void 0:d.SIGLA,Segmento:a.segmento,SIGLA_Segmento:(f=a.raw)==null?void 0:f["SIGLA.1"],Subgrupos:(h=a.raw)==null?void 0:h.Subgrupos,"Etapa de aquisio":(p=a.raw)==null?void 0:p["Etapa de aquisio"],"Perfil de Crdito":(m=a.raw)==null?void 0:m["Perfil de Crdito"],Produto:(v=a.raw)==null?void 0:v.Produto,Oferta:a.oferta,Promocional:(g=a.raw)==null?void 0:g.Promocional,SIGLA_Oferta:(x=a.raw)==null?void 0:x["SIGLA.2"],"Oferta 2":(b=a.raw)==null?void 0:b["Oferta 2"],"Promocional 2":(y=a.raw)==null?void 0:y["Promocional 2"],"Ordem de disparo":typeof a.ordemDisparo=="number"?a.ordemDisparo:rAe((_=a.raw)==null?void 0:_["Ordem de disparo"]),"Base Total":((k=a.kpis)==null?void 0:k.baseEnviada)??s((S=a.raw)==null?void 0:S["Base Total"]),"Base Acionvel":((E=a.kpis)==null?void 0:E.baseEntregue)??s((C=a.raw)==null?void 0:C["Base Acionvel"]),"% Otimizao de base":s((j=a.raw)==null?void 0:j["% Otimizao de base"]),"Custo Unitrio Oferta":s((T=a.raw)==null?void 0:T["Custo Unitrio Oferta"]),"Custo Total da Oferta":s((N=a.raw)==null?void 0:N["Custo Total da Oferta"]),"Custo unitrio do canal":s((A=a.raw)==null?void 0:A["Custo unitrio do canal"]),"Custo total canal":s((P=a.raw)==null?void 0:P["Custo total canal"]),"Custo Total Campanha":((V=a.kpis)==null?void 0:V.custoTotal)??s((z=a.raw)==null?void 0:z["Custo Total Campanha"]),CAC:((Z=a.kpis)==null?void 0:Z.cac)??s((G=a.raw)==null?void 0:G.CAC),"Taxa de Entrega":((Y=a.kpis)==null?void 0:Y.taxaEntrega)??s((I=a.raw)==null?void 0:I["Taxa de Entrega"]),"Taxa de Abertura":((te=a.kpis)==null?void 0:te.taxaAbertura)??s((J=a.raw)==null?void 0:J["Taxa de Abertura"]),"Taxa de Clique":s((D=a.raw)==null?void 0:D["Taxa de Clique"]),"Taxa de Proposta":((R=a.kpis)==null?void 0:R.taxaPropostas)??s((B=a.raw)==null?void 0:B["Taxa de Proposta"]),"Taxa de Aprovao":((H=a.kpis)==null?void 0:H.taxaAprovacao)??s((ee=a.raw)==null?void 0:ee["Taxa de Aprovao"]),"Taxa de Finalizao":((ue=a.kpis)==null?void 0:ue.taxaFinalizacao)??s((de=a.raw)==null?void 0:de["Taxa de Finalizao"]),"Taxa de Converso":((q=a.kpis)==null?void 0:q.taxaConversao)??s((re=a.raw)==null?void 0:re["Taxa de Converso"]),"Cartes Gerados":((le=a.kpis)==null?void 0:le.cartoes)??s((M=a.raw)==null?void 0:M["Cartes Gerados"]),Aprovados:((ke=a.kpis)==null?void 0:ke.aprovados)??s((pe=a.raw)==null?void 0:pe.Aprovados),Propostas:((_e=a.kpis)==null?void 0:_e.propostas)??s((X=a.raw)==null?void 0:X.Propostas),"Emisses Independentes":0,"Emisses Assistidas":0}}),n=500;for(let a=0;a<r.length;a+=n){const s=r.slice(a,a+n),{error:i}=await ht.from("activities").insert(s);if(i)throw console.error("Erro inserindo lote:",i),new Error(`Erro ao sincronizar lote ${a/n+1}: ${i.message}`)}};function rAe(e){const t=parseInt(e);return isNaN(t)?null:t}const Nf={saveActivity:XTe,updateActivity:yC,deleteActivity:ZTe,publishActivity:JTe,confirmDraft:QTe,getAllActivities:tAe,getActivitiesBySegment:eAe,syncFrameworkActivities:D9},Jp={async listVersions(){const{data:e,error:t}=await ht.from("framework_versions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async uploadVersion(e,t){const r=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9._-]/g,"_"),n=`framework_versions/${Date.now()}_${r}`,{error:a}=await ht.storage.from("app-data").upload(n,e);if(a)throw a;const{data:s,error:i}=await ht.from("framework_versions").insert({filename:e.name,storage_path:n,row_count:t,is_active:!1}).select().single();if(i)throw i;return s},async activateVersion(e,t){await ht.from("framework_versions").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000"),await ht.from("framework_versions").update({is_active:!0}).eq("id",e),await D9(t)},async deleteVersion(e,t){const{error:r}=await ht.from("framework_versions").delete().eq("id",e);if(r)throw r;t&&await ht.storage.from("app-data").remove([t])}},bC=e=>{const t={id:e.id,"Activity name / Taxonomia":e["Activity name / Taxonomia"],"Data de Disparo":e["Data de Disparo"],"Data Fim":e["Data Fim"],BU:e.BU,Canal:e.Canal,Jornada:e.jornada,Parceiro:e.Parceiro,SIGLA:e.SIGLA_Parceiro,Segmento:e.Segmento,"SIGLA.1":e.SIGLA_Segmento,Subgrupos:e.Subgrupos,"Etapa de aquisio":e["Etapa de aquisio"],"Ordem de disparo":e["Ordem de disparo"],Safra:e.Safra,"Perfil de Crdito":e["Perfil de Crdito"],Produto:e.Produto,Oferta:e.Oferta,"SIGLA.2":e.SIGLA_Oferta,"Oferta 2":e["Oferta 2"],Promocional:e.Promocional,"Promocional 2":e["Promocional 2"],"Disparado?":e.status==="Realizado"?"Sim":"No","Base Total":e["Base Total"],"Base Acionvel":e["Base Acionvel"],"% Otimizao de base":e["% Otimizao de base"],"Base Enviada":e["Base Total"],"Custo Unitrio Oferta":e["Custo Unitrio Oferta"],"Custo Total da Oferta":e["Custo Total da Oferta"],"Custo unitrio do canal":e["Custo unitrio do canal"],"Custo total canal":e["Custo total canal"],"Custo Total Campanha":e["Custo Total Campanha"],"Taxa de Entrega":e["Taxa de Entrega"],"Taxa de Abertura":e["Taxa de Abertura"],"Taxa de Clique":e["Taxa de Clique"],"Taxa de Proposta":e["Taxa de Proposta"],"Taxa de Aprovao":e["Taxa de Aprovao"],"Taxa de Finalizao":e["Taxa de Finalizao"],"Taxa de Converso":e["Taxa de Converso"],"Cartes Gerados":e["Cartes Gerados"],Aprovados:e.Aprovados,Propostas:e.Propostas,CAC:e.CAC};return{id:e["Activity name / Taxonomia"]||e.id,dataDisparo:RE(e["Data de Disparo"])||new Date(e["Data de Disparo"]),canal:e.Canal,bu:e.BU,segmento:e.Segmento,parceiro:e.Parceiro,jornada:e.jornada,ordemDisparo:Number(e["Ordem de disparo"])||void 0,oferta:e.Oferta,promocional:e.Promocional,safraKey:e.Safra,status:e.status,kpis:{baseEnviada:e["Base Total"],baseEntregue:e["Base Acionvel"],taxaEntrega:e["Taxa de Entrega"],propostas:e.Propostas,taxaPropostas:e["Taxa de Proposta"],aprovados:e.Aprovados,taxaAprovacao:e["Taxa de Aprovao"],emissoes:e["Cartes Gerados"],taxaFinalizacao:e["Taxa de Finalizao"],taxaConversao:e["Taxa de Converso"],taxaAbertura:e["Taxa de Abertura"],cartoes:e["Cartes Gerados"],cac:e.CAC,custoTotal:e["Custo Total Campanha"]},raw:t}},W2={async fetchActivities(){const{data:e,error:t}=await ht.from("activities").select("*").order('"Data de Disparo"',{ascending:!1});if(t)throw t;return(e||[]).map(bC)},async fetchB2CMetrics(){const{data:e,error:t}=await ht.from("b2c_daily_metrics").select("*").order("data",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({data:r.data,propostas_b2c_total:r.propostas_total,emissoes_b2c_total:r.emissoes_total,percentual_conversao_b2c:r.percentual_conversao,observacoes:r.observacoes}))},async fetchPaidMedia(){const{data:e,error:t}=await ht.from("paid_media_metrics").select("*").order("date",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({date:new Date(r.date),channel:r.channel,campaign:r.campaign,objective:r.objective,spend:r.spend,impressions:r.impressions,clicks:r.clicks,conversions:r.conversions,ctr:r.ctr,cpc:r.cpc,cpm:r.cpm,cpa:r.cpa}))},async fetchGoals(){const{data:e,error:t}=await ht.from("goals").select("*");if(t)throw t;return e||[]},async upsertGoal(e){const{error:t}=await ht.from("goals").upsert(e,{onConflict:"mes"});if(t)throw t},async upsertB2CMetrics(e){const t=e.map(n=>({data:n.data,propostas_total:n.propostas_b2c_total||0,emissoes_total:n.emissoes_b2c_total||0,percentual_conversao:n.percentual_conversao_b2c||0,observacoes:n.observacoes||null})),{error:r}=await ht.from("b2c_daily_metrics").upsert(t,{onConflict:"data"});if(r)throw r},async upsertPaidMedia(e){const t=e.map(n=>({date:be(n.date,"yyyy-MM-dd"),channel:n.channel,campaign:n.campaign,objective:n.objective,spend:n.spend,impressions:n.impressions,clicks:n.clicks,conversions:n.conversions,ctr:n.ctr,cpc:n.cpc,cpm:n.cpm,cpa:n.cpa})),{error:r}=await ht.from("paid_media_metrics").upsert(t,{onConflict:"date, channel, campaign"});if(r)throw r}},M9=Object.freeze(Object.defineProperty({__proto__:null,dataService:W2,mapSqlToActivity:bC},Symbol.toStringTag,{value:"Module"})),nAe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState(null),{processCSV:d}=iy();w.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const v=await Jp.listVersions();t(v)}catch(v){console.error(v),c({type:"error",text:"Erro ao listar verses: "+v.message})}finally{n(!1)}},h=async v=>{var x;const g=(x=v.target.files)==null?void 0:x[0];if(g){s(!0),c(null);try{const y=(await d(g)).length;await Jp.uploadVersion(g,y),await f(),c({type:"success",text:"Verso enviada com sucesso! Clique em ativar para aplicar."})}catch(b){console.error(b),c({type:"error",text:"Falha no upload: "+b.message})}finally{s(!1)}}},p=async v=>{if(confirm(`Deseja ATIVAR a verso "${v.filename}"?

ISSO SUBSTITUIR TODOS OS DADOS ATUAIS DO FRAMEWORK NO BANCO DE DADOS.`)){o(v.id),c(null);try{const g=await _s.getDownloadUrl(v.storage_path),b=await(await fetch(g)).blob(),y=new File([b],v.filename,{type:b.type}),_=await d(y);await Jp.activateVersion(v.id,_),await f(),c({type:"success",text:`Verso "${v.filename}" ativada com sucesso!`})}catch(g){console.error(g),c({type:"error",text:"Erro na ativao: "+g.message})}finally{o(null)}}},m=async v=>{if(confirm("Excluir esta verso permanentemente?")){n(!0);try{await Jp.deleteVersion(v.id,v.storage_path),await f()}catch(g){c({type:"error",text:g.message})}finally{n(!1)}}};return u.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[u.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:u.jsx(Kg,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:"Verses do Framework"}),u.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:"CSV"})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"file",accept:".csv",onChange:h,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:a}),u.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[a?u.jsx(Os,{size:14,className:"animate-spin"}):u.jsx(e0,{size:14}),a?"Enviando...":"Nova Verso"]})]})]}),u.jsx("div",{className:"p-2 max-h-64 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:r&&!e.length?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[u.jsx(Os,{className:"animate-spin"}),u.jsx("span",{className:"text-xs",children:"Carregando verses..."})]}):e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[u.jsx(e0,{size:24,className:"opacity-20"}),u.jsx("p",{className:"text-xs italic",children:"Nenhuma verso encontrada."}),(l==null?void 0:l.type)==="error"&&u.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:l.text})]}):u.jsx("div",{className:"space-y-1",children:e.map(v=>u.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg group transition-colors border ${v.is_active?"bg-emerald-500/10 border-emerald-500/30":"hover:bg-slate-700/30 border-transparent hover:border-slate-700"}`,children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.jsx(Fu,{size:16,className:`${v.is_active?"text-emerald-400":"text-slate-500"} flex-shrink-0`}),u.jsxs("div",{className:"min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:`text-sm font-medium truncate max-w-[220px] ${v.is_active?"text-emerald-300":"text-slate-300"}`,title:v.filename,children:v.filename}),v.is_active&&u.jsx("span",{className:"text-[10px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Ativo"})]}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[u.jsx("span",{children:new Date(v.created_at).toLocaleString("pt-BR")}),u.jsx("span",{children:""}),u.jsxs("span",{children:[v.row_count," linhas"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 group-hover:opacity-100 transition-all",children:[!v.is_active&&u.jsx("button",{onClick:()=>p(v),disabled:i===v.id,className:"px-2 py-1 text-[10px] bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white rounded border border-blue-500/20 transition-colors uppercase font-bold tracking-wider",children:i===v.id?"Ativando...":"Ativar"}),u.jsx("button",{onClick:()=>m(v),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Excluir",children:u.jsx(Yl,{size:14})})]})]},v.id))})}),l&&u.jsxs("div",{className:`${l.type==="success"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"} text-xs px-4 py-2 flex items-center gap-2 border-t`,children:[l.type==="success"?u.jsx(tn,{size:12}):u.jsx(Ds,{size:12}),l.text]})]})},q4=({title:e,slot:t,accept:r})=>{const[n,a]=w.useState([]),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,d]=w.useState(!1),[f,h]=w.useState(null),{parseB2CCSV:p}=FE(),{setB2CData:m,setPaidMediaData:v}=vt();w.useEffect(()=>{g()},[]);const g=async()=>{var _,k;i(!0),h(null);try{const S=await _s.listFiles(t);a(S||[])}catch(S){console.error(S);let E=S.message;(k=(_=S.message)==null?void 0:_.includes)!=null&&k.call(_,"Bucket not found")&&(E='Bucket "app-data" no encontrado.'),h({type:"error",text:E})}finally{i(!1)}},x=async _=>{var S;const k=(S=_.target.files)==null?void 0:S[0];if(k){l(!0),h(null);try{await _s.uploadFile(t,k),await g(),h({type:"success",text:"Upload realizado com sucesso!"})}catch(E){console.error(" Erro durante upload:",E),h({type:"error",text:"Falha: "+E.message})}finally{l(!1)}}},b=async _=>{if(confirm("Tem certeza que deseja excluir este arquivo?")){i(!0);try{await _s.deleteFile(t+"/"+_),await g()}catch(k){alert(k.message)}finally{i(!1)}}},y=async _=>{d(!0),h(null);try{const k=t+"/"+_,S=await _s.getDownloadUrl(k),C=await(await fetch(S)).blob(),j=new File([C],_,{type:C.type});if(t==="b2c"){const{data:T}=await p(j);await W2.upsertB2CMetrics(T),m(T)}else if(t==="media"){const T=await dC(j);await W2.upsertPaidMedia(T),v(T)}h({type:"success",text:"Dados restaurados e salvos no banco com sucesso!"})}catch(k){console.error(" Erro ao restaurar:",k),h({type:"error",text:"Erro ao restaurar: "+k.message})}finally{d(!1)}};return u.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[u.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:u.jsx(Kg,{size:18})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:e}),u.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:r.replace(/\./g,"").toUpperCase()})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"file",accept:r,onChange:x,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:o}),u.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[o?u.jsx(Os,{size:14,className:"animate-spin"}):u.jsx(e0,{size:14}),o?"Enviando...":"Novo Upload"]})]})]}),u.jsx("div",{className:"p-2 max-h-56 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:s&&!n.length?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[u.jsx(Os,{className:"animate-spin"}),u.jsx("span",{className:"text-xs",children:"Carregando lista..."})]}):n.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[u.jsx(e0,{size:24,className:"opacity-20"}),u.jsx("p",{className:"text-xs italic",children:"Nenhum arquivo na nuvem."}),(f==null?void 0:f.type)==="error"&&u.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:f.text})]}):u.jsx("div",{className:"space-y-1",children:n.map(_=>{var k;return u.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/30 rounded-lg group transition-colors border border-transparent hover:border-slate-700",children:[u.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[u.jsx(Fu,{size:16,className:"text-slate-500 group-hover:text-blue-400 transition-colors flex-shrink-0"}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-slate-300 truncate max-w-[220px] group-hover:text-white transition-colors",title:_.name,children:_.name}),u.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[u.jsx("span",{children:_.created_at&&!isNaN(new Date(_.created_at).getTime())?new Date(_.created_at).toLocaleString("pt-BR"):"-"}),u.jsx("span",{children:""}),u.jsxs("span",{children:[(((k=_.metadata)==null?void 0:k.size)/1024).toFixed(1)," KB"]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[u.jsx("button",{onClick:()=>y(_.name),disabled:c,className:"p-2 text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors tooltip-trigger",title:"Restaurar e Aplicar",children:u.jsx(pK,{size:16,className:c?"animate-spin":""})}),u.jsx("button",{onClick:()=>b(_.name),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir Definitivamente",children:u.jsx(Yl,{size:16})})]})]},_.id)})})}),f&&f.type==="success"&&u.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-emerald-500/20",children:[u.jsx(tn,{size:12}),f.text]}),f&&f.type==="error"&&n.length>0&&u.jsxs("div",{className:"bg-red-500/10 text-red-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-red-500/20",children:[u.jsx(Ds,{size:12}),f.text]})]})},aAe=()=>{var m;const{user:e,signInWithEmail:t,signOut:r,loading:n}=gk(),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[d,f]=w.useState(null),[h,p]=w.useState("goals");return n?u.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:u.jsx(Os,{className:"animate-spin text-blue-500 w-8 h-8"})}):e?u.jsx("div",{className:"min-h-full bg-slate-900 text-slate-200 p-8 space-y-8 animate-fade-in pb-24",children:u.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[u.jsx("div",{className:"flex justify-between items-end border-b border-slate-800 pb-6",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Configuraes"}),u.jsx("p",{className:"text-slate-400 text-lg",children:"Central de controle e sincronizao."})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[u.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(XI,{size:28})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"text-lg font-bold text-white truncate",title:e.email,children:(m=e.email)==null?void 0:m.split("@")[0]}),u.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),u.jsx("div",{className:"space-y-3 mb-6",children:u.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 flex justify-between items-center group",children:[u.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"ID"}),u.jsxs("code",{className:"text-xs text-slate-300 font-mono bg-black/20 px-2 py-0.5 rounded group-hover:text-white transition-colors",children:[e.id.substring(0,8),"..."]})]})}),u.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500 bg-red-500/10 border border-red-500/20 px-4 py-3 rounded-xl transition-all text-sm font-bold",children:[u.jsx(GH,{size:16}),"Desconectar"]})]}),u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl opacity-60 pointer-events-none",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 tracking-wider",children:"Aparncia"}),u.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl border border-slate-700/50",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:u.jsx(aK,{size:18})}),u.jsx("span",{className:"text-slate-300 font-medium text-sm",children:"Modo Escuro"})]}),u.jsx("div",{className:"w-10 h-5 bg-blue-600 rounded-full relative",children:u.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full shadow-sm"})})]})]})]}),u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-700/50",children:[u.jsx("button",{onClick:()=>p("goals"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="goals"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Metas"}),u.jsx("button",{onClick:()=>p("database"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="database"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Banco de Dados"})]}),u.jsxs("div",{className:"animate-fade-in",children:[h==="goals"&&u.jsx(USe,{}),h==="database"&&u.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 relative z-10",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:u.jsx(Kg,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-bold text-white",children:"Banco de Dados & Arquivos"}),u.jsx("p",{className:"text-sm text-slate-400",children:"Importao e sincronizao das tabelas do sistema."})]})]})}),u.jsxs("div",{className:"space-y-4 relative z-10",children:[u.jsx(nAe,{}),u.jsx(q4,{title:"Histrico B2C",slot:"b2c",accept:".csv"}),u.jsx(q4,{title:"Mdia Paga (Ads)",slot:"media",accept:".xlsx, .xls"})]})]})]})]})]})]})}):u.jsx("div",{className:"p-8 text-center text-slate-500",children:"Sesso expirada. Recarregue a pgina."})},F0=(e,t)=>{const r=w.useMemo(()=>{try{const f={};return Object.entries(e).forEach(([h,p])=>{const m=p.filter(v=>{if(t.bu.length>0&&!t.bu.includes(v.bu)||t.canais.length>0&&!t.canais.includes(v.canal)||t.jornadas.length>0&&!t.jornadas.includes(v.jornada)||t.segmentos.length>0&&!t.segmentos.includes(v.segmento)||t.parceiros.length>0&&!t.parceiros.includes(v.parceiro))return!1;if(t.dataInicio){const[g,x,b]=t.dataInicio.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(0,0,0,0);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_<y)return!1}if(t.dataFim){const[g,x,b]=t.dataFim.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(23,59,59,999);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_>y)return _.getDate()>15,!1}return!0});m.length>0&&(f[h]=m)}),f}catch(f){return console.error("Error in useAdvancedFilters:",f),e}},[e,t]),n=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.canal&&f.add(p.canal)})}),Array.from(f).sort()},[e]),a=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.jornada&&f.add(p.jornada)})}),Array.from(f).sort()},[e]),s=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.segmento&&f.add(p.segmento)})}),Array.from(f).sort()},[e]),i=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.canal]=(f[p.canal]||0)+1})}),f},[r]),o=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.jornada]=(f[p.jornada]||0)+1})}),f},[r]),l=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.segmento]=(f[p.segmento]||0)+1})}),f},[r]),c=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.parceiro&&f.add(p.parceiro)})}),Array.from(f).sort()},[e]),d=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.parceiro]=(f[p.parceiro]||0)+1})}),f},[r]);return{filteredData:r,availableCanais:n,availableJornadas:a,availableSegmentos:s,availableParceiros:c,countByCanal:i,countByJornada:o,countBySegmento:l,countByParceiro:d}},Y4=(e,t,r,n,a,s)=>{var T,N;const i={};Object.keys(e).forEach(A=>{const P=e[A];i[A]||(i[A]={propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0}),P.forEach(V=>{i[A].propostas+=V.kpis.propostas||0,i[A].emissoes+=V.kpis.cartoes||0,i[A].custo+=V.kpis.custoTotal||0,i[A].baseEntregue+=V.kpis.baseEntregue||0,i[A].baseEnviada+=V.kpis.baseEnviada||0,["Email","SMS","WhatsApp"].includes(V.canal)&&(i[A].campaignCount+=1),i[A].count+=1})});const l=new Set;if(r&&n)try{const A=new Date(r+"T00:00:00"),P=new Date(n+"T00:00:00");A<=P&&NE({start:A,end:P}).forEach(z=>{l.add(be(z,"yyyy-MM-dd"))})}catch(A){console.error("Error generating date range:",A)}Object.keys(i).forEach(A=>l.add(A));const c=A=>{const P=RE(A);return P?be(P,"yyyy-MM-dd"):null};t.forEach(A=>{const P=c(A.data);P&&l.add(P)});const f=Array.from(l).sort().map(A=>{const P=i[A]||{propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0},V=t.find(G=>c(G.data)===A),z=(V==null?void 0:V.propostas_b2c_total)||0,Z=(V==null?void 0:V.emissoes_b2c_total)||0;return{date:A,crm_propostas:P.propostas,crm_emissoes:P.emissoes,crm_custo:P.custo,crm_base_entregue:P.baseEntregue,crm_base_enviada:P.baseEnviada,crm_count:P.count,crm_campaign_count:P.campaignCount,b2c_propostas:z,b2c_emissoes:Z}}).filter(A=>{if(!A.date)return!1;const P=new Date(A.date+"T12:00:00"),V=new Date(r+"T00:00:00"),z=new Date(n+"T23:59:59");return P>=V&&P<=z}),h={};f.forEach(A=>{const[P,V,z]=A.date.split("-").map(Number),Z=new Date(P,V-1,z);let G=A.date;if(a==="weekly"){const Y=Ga(Z,{weekStartsOn:1});G=be(Y,"yyyy-MM-dd")}else if(a==="monthly"){const Y=zr(Z);G=be(Y,"yyyy-MM-dd")}h[G]||(h[G]={crm_propostas:0,crm_emissoes:0,crm_custo:0,crm_count:0,crm_base_entregue:0,crm_base_enviada:0,crm_campaign_count:0,b2c_propostas:0,b2c_emissoes:0,count:0,originalDate:G}),h[G].crm_propostas+=A.crm_propostas,h[G].crm_emissoes+=A.crm_emissoes,h[G].crm_custo+=A.crm_custo,h[G].crm_base_entregue+=A.crm_base_entregue,h[G].crm_base_enviada+=A.crm_base_enviada,h[G].crm_count+=A.crm_count,h[G].crm_campaign_count+=A.crm_campaign_count,h[G].b2c_propostas+=A.b2c_propostas,h[G].b2c_emissoes+=A.b2c_emissoes,h[G].count+=1});const p=Object.keys(h).sort().map(A=>{const P=h[A],[V,z,Z]=A.split("-").map(Number),G=new Date(V,z-1,Z),Y=P.b2c_propostas>0?P.crm_propostas/P.b2c_propostas*100:0,I=P.b2c_emissoes>0?P.crm_emissoes/P.b2c_emissoes*100:0,te=P.crm_base_entregue>0?P.crm_base_entregue:P.crm_base_enviada,J=te>0?P.crm_emissoes/te*100:0,D=P.b2c_propostas>0?P.b2c_emissoes/P.b2c_propostas*100:0,R=D>0?J/D:0,B=P.crm_emissoes>0?P.crm_custo/P.crm_emissoes:0,H=s.ativar_anomalias&&I<s.share_crm_limiar;return{data:A,dia_semana:["dom","seg","ter","qua","qui","sex","sab"][G.getDay()],semana_mes:Math.ceil(G.getDate()/7),mes:z,ano:V,propostas_crm:P.crm_propostas,entregas_crm:te,custo_crm:P.crm_custo,emissoes_crm:P.crm_emissoes,num_campanhas_crm:P.crm_campaign_count,propostas_b2c_total:P.b2c_propostas,emissoes_b2c_total:P.b2c_emissoes,share_propostas_crm_percentual:Y,share_emissoes_crm_percentual:I,taxa_conversao_crm:J,taxa_conversao_b2c:D,performance_index:R,cac_medio:B,eh_anomalia:H}});if(p.length===0)return{analysisData:[],summary:null};const m=f.reduce((A,P)=>A+P.crm_propostas,0),v=f.reduce((A,P)=>A+P.crm_emissoes,0),g=f.reduce((A,P)=>A+P.crm_custo,0),x=f.reduce((A,P)=>A+P.crm_base_entregue,0),b=f.reduce((A,P)=>A+P.b2c_propostas,0),y=f.reduce((A,P)=>A+P.b2c_emissoes,0),_=y>0?v/y*100:0,k=v>0?g/v:0,S=x>0?v/x:0,E=b>0?y/b:0,C=E>0?S/E:0,j={periodo_inicio:((T=p[0])==null?void 0:T.data)||"",periodo_fim:((N=p[p.length-1])==null?void 0:N.data)||"",share_crm_media:_,emissoes_crm_total:v,emissoes_b2c_total:y,cac_medio:k,taxa_conversao_crm_media:S*100,taxa_conversao_b2c_media:E*100,performance_index_medio:C,total_dias:p.length,dias_com_anomalia:p.filter(A=>A.eh_anomalia).length,propostas_b2c_total:b,propostas_crm_total:m};return{analysisData:p,summary:j}},I9=()=>{const{b2cData:e,alertConfig:t,viewSettings:r}=vt(),{data:n}=iy(),{startDate:a,endDate:s}=mc(),{selectedBUs:i}=Fh(),[o,l]=w.useState("daily"),c=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:be(a,"yyyy-MM-dd"),dataFim:be(s,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,a,s,i]),{filteredData:d}=F0(n,c),{prevStartDate:f,prevEndDate:h}=w.useMemo(()=>{const _=Gu(s,a)+1,k=Ft(a,1);return{prevStartDate:Ft(k,_-1),prevEndDate:k}},[a,s]),p=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:be(f,"yyyy-MM-dd"),dataFim:be(h,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,f,h,i]),{filteredData:m}=F0(n,p),{analysisData:v,summary:g}=w.useMemo(()=>Y4(d,e,be(a,"yyyy-MM-dd"),be(s,"yyyy-MM-dd"),o,t),[d,e,a,s,o,t]),{summary:x}=w.useMemo(()=>Y4(m,e,be(f,"yyyy-MM-dd"),be(h,"yyyy-MM-dd"),"daily",t),[m,e,f,h,t]),b=(_,k="daily")=>k==="daily"?d[_]||[]:d[_]||[],y=w.useMemo(()=>{const _={};let k=0;Object.values(d).flat().forEach(j=>{const T=j.segmento||"No Identificado",N=j.kpis.cartoes||0;_[T]=(_[T]||0)+N,k+=N});const S=Object.entries(_).map(([j,T])=>({name:j,value:T})).sort((j,T)=>T.value-j.value),E=g?g.emissoes_b2c_total:0,C=Math.max(0,E-k);return C>0&&S.push({name:"Outros B2C",value:C}),S},[d,g]);return{dailyAnalysis:v,summary:g,previousSummary:x,viewMode:o,setViewMode:l,getActivities:b,segmentStats:y}},Lc=({label:e,value:t,subtitle:r,icon:n,colorClass:a,variation:s,reverseColor:i=!1,tooltip:o})=>{let l="text-slate-500",c=ad;return s&&(s.value>0?(c=uk,l=i?"text-red-400":"text-emerald-400"):s.value<0&&(c=lk,l=i?"text-emerald-400":"text-red-400")),u.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 relative overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),o&&u.jsx(Gs,{content:o,side:"top"})]}),u.jsx("div",{className:`${a} opacity-80`,children:n})]}),u.jsxs("div",{className:"flex items-end gap-2",children:[u.jsx("h3",{className:"text-xl font-bold text-white leading-none",children:t}),s&&u.jsxs("div",{className:`flex items-center text-[10px] font-bold mb-0.5 ${l} bg-slate-900/50 px-1 py-0.5 rounded`,children:[u.jsx(c,{size:10,className:"mr-0.5"}),Math.abs(s.value).toFixed(1),"%"]})]}),u.jsx("p",{className:"text-[10px] text-slate-500 mt-2 lowercase",children:r})]})},sAe=({summary:e,previousSummary:t})=>{const r=(c,d)=>{if(!d||d===0)return null;const f=c-d;return{value:f/d*100,isPositive:f>0}},n=t?r(e.propostas_b2c_total,t.propostas_b2c_total):null,a=t?r(e.emissoes_b2c_total,t.emissoes_b2c_total):null,s=t?r(e.taxa_conversao_b2c_media,t.taxa_conversao_b2c_media):null,i=t?r(e.propostas_crm_total,t.propostas_crm_total):null,o=t?r(e.emissoes_crm_total,t.emissoes_crm_total):null,l=t?r(e.taxa_conversao_crm_media,t.taxa_conversao_crm_media):null;return u.jsxs("div",{className:"space-y-4 mb-8",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Lc,{label:"Propostas B2C",value:e.propostas_b2c_total.toLocaleString("pt-BR"),subtitle:"Input total",icon:u.jsx(Fu,{size:18}),colorClass:"text-blue-400",variation:n,tooltip:"Total de propostas B2C submetidas no perodo"}),u.jsx(Lc,{label:"Cartes B2C",value:e.emissoes_b2c_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:u.jsx(Qf,{size:18}),colorClass:"text-blue-400",variation:a,tooltip:"Total de cartes B2C gerados no perodo"}),u.jsx(Lc,{label:"Conv % B2C",value:`${e.taxa_conversao_b2c_media.toFixed(2).replace(".",",")}%`,subtitle:"Cartes / Propostas",icon:u.jsx(Fn,{size:18}),colorClass:"text-blue-400",variation:s,tooltip:"Taxa de converso: (Cartes Gerados / Propostas Totais)"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(Lc,{label:"Propostas CRM",value:e.propostas_crm_total.toLocaleString("pt-BR"),subtitle:"Via CRM",icon:u.jsx(Fu,{size:18}),colorClass:"text-emerald-400",variation:i,tooltip:"Propostas identificadas com origem CRM"}),u.jsx(Lc,{label:"Cartes CRM",value:e.emissoes_crm_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:u.jsx(hw,{size:18}),colorClass:"text-emerald-400",variation:o,tooltip:"Cartes gerados e atribudos ao CRM"}),u.jsx(Lc,{label:"Conv % CRM",value:`${e.taxa_conversao_crm_media.toFixed(2).replace(".",",")}%`,subtitle:"Converso CRM",icon:u.jsx(Fn,{size:18}),colorClass:"text-emerald-400",variation:l,tooltip:"Taxa de converso: (Cartes Gerados / Base Entregue)"})]})]})},X4=({label:e,value:t,subtitle:r,icon:n,colorClass:a})=>u.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 flex items-center justify-between group hover:border-slate-600 transition-all h-[120px]",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx("div",{className:`p-1.5 rounded-lg bg-slate-900/50 ${a}`,children:n}),u.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:e})]}),u.jsx("h3",{className:"text-3xl font-bold text-white tracking-tight mt-1",children:t}),u.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:r})]})}),iAe=({summary:e})=>u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsx(X4,{label:"Share CRM",value:`${e.share_crm_media.toFixed(1)}%`,subtitle:"% de cartes gerados via CRM",icon:u.jsx(Xi,{size:18}),colorClass:"text-indigo-400"}),u.jsx(X4,{label:"CAC Mdio",value:`R$ ${e.cac_medio.toFixed(2)}`,subtitle:"Custo por emisso",icon:u.jsx(nd,{size:18}),colorClass:"text-emerald-400"})]}),Kd=(e,t)=>t.includes("%")||t.includes("Taxa")||t.includes("Share")||t.includes("Conv")?[`${e.toFixed(2)}%`,t]:t.includes("CAC")||t.includes("Custo")?[`R$ ${e.toFixed(2)}`,t]:[e,t],oAe=({data:e,shareThreshold:t=15,viewMode:r,setViewMode:n,onPointClick:a})=>{const s=c=>{if(c&&c.activePayload&&c.activePayload.length>0&&a){const d=c.activePayload[0].payload;if(d&&d.data){const[f,h,p]=d.data.split("-").map(Number);a(new Date(f,h-1,p))}}},i=(c,d=!1)=>d?`${c.toFixed(1)}%`:c.toLocaleString("pt-BR"),o=w.useMemo(()=>e.map(c=>{const d=Math.max(0,c.propostas_b2c_total-c.propostas_crm),f=Math.max(0,c.emissoes_b2c_total-c.emissoes_crm),[h,p,m]=c.data.split("-").map(Number),v=new Date(h,p-1,m),g=be(v,"dd/MM",{locale:ns});return{...c,displayDate:g,outros_propostas:d,outros_emissoes:f}}),[e]),l=w.useMemo(()=>{const c={},d=["dom","seg","ter","qua","qui","sex","sab"];return d.forEach(f=>c[f]={total:0,crm:0}),e.forEach(f=>{f.dia_semana&&c[f.dia_semana]&&(c[f.dia_semana].total+=f.emissoes_b2c_total,c[f.dia_semana].crm+=f.emissoes_crm)}),d.map(f=>{const h=c[f],p=h.total>0?h.crm/h.total*100:0;return{dia:f.charAt(0).toUpperCase()+f.slice(1),share:p}})},[e]);return!e||e.length===0?u.jsx("div",{className:"p-10 text-center text-slate-500",children:"Sem dados para exibir nos grficos"}):u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Anlise Grfica"}),u.jsx("div",{className:"flex bg-slate-800 p-1 rounded-lg border border-slate-700",children:["daily","weekly","monthly"].map(c=>u.jsx("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${r===c?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:c==="daily"?"Dia":c==="weekly"?"Semana":"Ms"},c))})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Propostas: CRM vs B2C Total"}),u.jsx("div",{className:"h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:o,onClick:s,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{stroke:"#64748b",tick:{fontSize:10}}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:Kd}),u.jsx(Nn,{}),u.jsx(br,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),u.jsx(br,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Taxa de Converso: CRM vs Mdia B2C"}),u.jsx("div",{className:"h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:o,onClick:s,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:Kd}),u.jsx(Nn,{}),u.jsx(Pr,{type:"monotone",dataKey:"taxa_conversao_crm",name:"Conv. CRM",stroke:"#10b981",strokeWidth:2,dot:!1}),u.jsx(Pr,{type:"monotone",dataKey:"taxa_conversao_b2c",name:"Conv. B2C",stroke:"#94a3b8",strokeWidth:2,dot:!1})]})})})]}),u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Tendncia Share CRM (%)"}),u.jsx("div",{className:"h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:o,onClick:s,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},itemStyle:{color:"#e2e8f0"},formatter:Kd}),u.jsx(Nn,{}),u.jsx(Pr,{type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#3b82f6",strokeWidth:2,dot:!1}),u.jsx(Pr,{type:"monotone",dataKey:()=>t,name:"Meta Mnima",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,dot:!1})]})})})]}),u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Emisses: CRM vs B2C"}),u.jsx("div",{className:"h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:o,onClick:s,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{stroke:"#64748b",tick:{fontSize:10}}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:Kd}),u.jsx(Nn,{}),u.jsx(br,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),u.jsx(br,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"CAC Evolution (R$)"}),u.jsx("div",{className:"h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:o,onClick:s,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{stroke:"#64748b",tick:{fontSize:10}}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:Kd}),u.jsx(Nn,{}),u.jsx(Pr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10b981",strokeWidth:2,dot:!1})]})})})]}),u.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50 flex flex-col",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Share por Dia da Semana"}),u.jsx("div",{className:"flex-1 flex items-end gap-2 h-64",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:l,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"dia",stroke:"#64748b",fontSize:10}),u.jsx(lt,{stroke:"#64748b",unit:"%",fontSize:10}),u.jsx(kt,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:c=>i(c,!0)}),u.jsx(br,{dataKey:"share",name:"Share Mdio",fill:"#f59e0b",radius:[4,4,0,0]})]})})}),u.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"* Dados agregados do perodo"})]})]})]})},lAe=({data:e,onRowClick:t})=>{const[r,n]=w.useState(1),[a,s]=w.useState({key:"data",direction:"asc"}),i=w.useMemo(()=>{const m=[...e];return m.sort((v,g)=>{const x=v[a.key],b=g[a.key];return x<b?a.direction==="asc"?-1:1:x>b?a.direction==="asc"?1:-1:0}),m},[e,a]),o=25,l=Math.ceil(i.length/o),c=i.slice((r-1)*o,r*o),d=m=>{let v="asc";a.key===m&&a.direction==="asc"&&(v="desc"),s({key:m,direction:v}),n(1)},f=m=>a.key===m?a.direction==="asc"?u.jsx(uk,{size:14}):u.jsx(lk,{size:14}):u.jsx(va,{size:14,className:"text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"}),h=()=>{const m=["Data","Prop CRM","Emiss CRM","Prop B2C Total","Emiss B2C Total","% Share Prop","% Share Emiss","% Conv CRM","% Conv B2C","Perf Index","CAC"],v=i.map(_=>[_.data,_.propostas_crm,_.emissoes_crm,_.propostas_b2c_total,_.emissoes_b2c_total,_.share_propostas_crm_percentual.toFixed(2).replace(".",","),_.share_emissoes_crm_percentual.toFixed(2).replace(".",","),_.taxa_conversao_crm.toFixed(2).replace(".",","),_.taxa_conversao_b2c.toFixed(2).replace(".",","),_.performance_index.toFixed(2).replace(".",","),_.cac_medio.toFixed(2).replace(",",".")]),g=[m.join(";"),...v.map(_=>_.join(";"))].join(`
`),x=new Blob([g],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download="originacao_b2c_sorted.csv",document.body.appendChild(y),y.click(),document.body.removeChild(y)},p=({label:m,sortKey:v,align:g="right"})=>u.jsx("th",{className:`px-4 py-4 cursor-pointer hover:bg-slate-100 transition select-none group border-b border-slate-200 border-r border-slate-300 last:border-r-0 ${g==="right"?"text-right":"text-left"}`,onClick:()=>d(v),children:u.jsxs("div",{className:`flex items-center gap-2 font-semibold text-slate-700 ${g==="right"?"justify-end":"justify-start"}`,children:[m,f(v)]})});return u.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden mt-6 shadow-sm",children:[u.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50/50",children:[u.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Detalhamento Dirio"}),u.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-300 hover:bg-slate-50 rounded text-sm text-slate-600 font-medium transition shadow-sm",children:[u.jsx(X0,{size:14})," Exportar (",i.length,")"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[u.jsx("thead",{className:"text-xs uppercase bg-slate-50 text-slate-500",children:u.jsxs("tr",{children:[u.jsx(p,{label:"Data",sortKey:"data",align:"left"}),u.jsx(p,{label:"Vol. Entregas",sortKey:"entregas_crm"}),u.jsx(p,{label:"Custo",sortKey:"custo_crm"}),u.jsx(p,{label:"Prop CRM",sortKey:"propostas_crm"}),u.jsx(p,{label:"Emiss CRM",sortKey:"emissoes_crm"}),u.jsx(p,{label:"Prop B2C",sortKey:"propostas_b2c_total"}),u.jsx(p,{label:"Emiss B2C",sortKey:"emissoes_b2c_total"}),u.jsx(p,{label:"% Share",sortKey:"share_emissoes_crm_percentual"}),u.jsx(p,{label:"% Conv CRM",sortKey:"taxa_conversao_crm"}),u.jsx(p,{label:"% Conv B2C",sortKey:"taxa_conversao_b2c"}),u.jsx(p,{label:"CAC",sortKey:"cac_medio"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map(m=>u.jsxs("tr",{className:`cursor-pointer hover:bg-blue-50/50 transition ${m.eh_anomalia?"bg-red-50":"bg-white"}`,onClick:()=>t&&t(m.data),children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-700 whitespace-nowrap border-r border-slate-300 last:border-r-0",children:m.data.split("-").reverse().join("/")}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.entregas_crm.toLocaleString()}),u.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.custo_crm.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.propostas_crm}),u.jsx("td",{className:"px-4 py-3 text-right font-bold text-slate-800 border-r border-slate-300 last:border-r-0",children:m.emissoes_crm}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.propostas_b2c_total}),u.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.emissoes_b2c_total}),u.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-300 last:border-r-0",children:u.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${m.share_emissoes_crm_percentual<10?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:[m.share_emissoes_crm_percentual.toFixed(1),"%"]})}),u.jsxs("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_crm.toFixed(1),"%"]}),u.jsxs("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_b2c.toFixed(1),"%"]}),u.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.cac_medio.toFixed(0)]})]},m.data))})]})}),l>1&&u.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-center items-center gap-4 bg-slate-50/50",children:[u.jsx("button",{onClick:()=>n(m=>Math.max(1,m-1)),disabled:r===1,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:u.jsx(Y0,{size:20})}),u.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[r," / ",l]}),u.jsx("button",{onClick:()=>n(m=>Math.min(l,m+1)),disabled:r===l,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:u.jsx(En,{size:20})})]})]})},cAe=()=>{const e=w.useRef(null),{parseB2CCSV:t,isLoading:r,error:n}=FE(),{setB2CData:a,b2cData:s}=vt(),i=async o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l)try{const{data:d,warnings:f}=await t(l);a(d),f.length>0&&console.warn("Warnings during upload:",f)}catch(d){console.error(d)}};return u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("input",{type:"file",ref:e,onChange:i,accept:".csv",className:"hidden"}),u.jsxs("button",{onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r?u.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):u.jsx(Gg,{size:18}),"Upload CSV B2C"]}),n&&u.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[u.jsx(Ds,{size:16}),n]}),s.length>0&&!n&&u.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm",children:[u.jsx(tn,{size:16}),s.length," registros carregados"]})]})},uAe=({data:e,onBarClick:t})=>{const r=w.useMemo(()=>{const n={};return e.forEach(a=>{const s=nn(a.data),i=Ga(s,{weekStartsOn:1}),o=be(i,"yyyy-MM-dd");n[o]||(n[o]={num_campanhas_crm:0,emissoes_crm:0,emissoes_b2c_total:0,originalDate:i}),n[o].num_campanhas_crm+=a.num_campanhas_crm||0,n[o].emissoes_crm+=a.emissoes_crm||0,n[o].emissoes_b2c_total+=a.emissoes_b2c_total||0}),Object.keys(n).sort().map(a=>{const s=n[a],i=s.emissoes_b2c_total>0?s.emissoes_crm/s.emissoes_b2c_total*100:0;return{data:a,displayDate:be(s.originalDate,"dd/MM"),num_campanhas_crm:s.num_campanhas_crm,share_emissoes_crm_percentual:i}})},[e]);return u.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 mt-6 shadow-lg",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2 opacity-90",children:"Eficincia de Campanhas: Volume de Disparos vs Share CRM"}),u.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Anlise de quantas campanhas foram disparadas e seu impacto no share de participao no total B2C (Agrupado por Semana)."}),u.jsx("div",{className:"h-[400px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(sy,{data:r,onClick:n=>{if(n&&n.activePayload&&n.activePayload.length>0){const a=n.activePayload[0].payload.data;t&&t(a)}},margin:{top:20,right:20,bottom:20,left:20},children:[u.jsx(Ht,{stroke:"#1e293b",strokeDasharray:"3 3",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",scale:"band",stroke:"#64748b",tick:{fontSize:10}}),u.jsx(lt,{yAxisId:"left",stroke:"#64748b",tick:{fontSize:10},label:{value:"Campanhas/Semana",angle:-90,position:"insideLeft",style:{fill:"#64748b",fontSize:10}}}),u.jsx(lt,{yAxisId:"right",orientation:"right",stroke:"#64748b",tick:{fontSize:10},unit:"%",label:{value:"Share CRM %",angle:90,position:"insideRight",style:{fill:"#64748b",fontSize:10}}}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:(n,a)=>a==="Share CRM %"?[`${n.toFixed(1)}%`,a]:[n,a],labelFormatter:n=>`Semana de ${n}`}),u.jsx(Nn,{}),u.jsx(br,{yAxisId:"left",dataKey:"num_campanhas_crm",name:"Campanhas Disparadas",barSize:30,fill:"#3b82f6",fillOpacity:.6}),u.jsx(Pr,{yAxisId:"right",type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})})]})},Z4=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1","#475569"],dAe=({segmentStats:e,totalB2CEmissoes:t})=>{const[r,n]=w.useState(!0),a=e.map(i=>({...i,share:t>0?i.value/t*100:0})),s=r?a:a.filter(i=>i.name!=="Outros B2C");return u.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 h-full flex flex-col relative",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Share por Campanha"}),a.some(i=>i.name==="Outros B2C")&&u.jsx("button",{onClick:()=>n(!r),className:`text-[10px] px-2 py-1 rounded-md border transition-all ${r?"bg-slate-700 border-slate-600 text-slate-300":"bg-transparent border-slate-700 text-slate-500 hover:text-slate-400"}`,title:r?"Ocultar Outros B2C":"Mostrar Outros B2C",children:r?"Com Outros":"Sem Outros"})]}),u.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Participao de cada campanha no total de emisses B2C."}),u.jsx("div",{className:"flex-1 min-h-[200px]",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(CE,{children:[u.jsx(Jx,{data:s,cx:"40%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:3,dataKey:"value",cornerRadius:4,children:s.map((i,o)=>{let l=Z4[o%Z4.length];return i.name==="Outros B2C"&&(l="#475569"),u.jsx(rs,{fill:l,stroke:"rgba(0,0,0,0)"},`cell-${o}`)})}),u.jsx(kt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"},formatter:(i,o,l)=>{const c=l.payload.share||0;return[`${i.toLocaleString()} (${c.toFixed(1)}%)`,o]}}),u.jsx(Nn,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",color:"#94a3b8"},formatter:(i,o)=>{const{payload:l}=o;return u.jsxs("span",{className:"ml-1 text-slate-400",children:[i," ",u.jsx("span",{className:"text-slate-600 mx-1",children:"|"})," ",u.jsxs("span",{className:"text-slate-200 font-medium",children:[l.share.toFixed(2),"%"]})]})}})]})})})]})},fAe=()=>{const{dailyAnalysis:e,summary:t,previousSummary:r,viewMode:n,setViewMode:a,getActivities:s,segmentStats:i}=I9(),{alertConfig:o,b2cData:l,setB2CData:c}=vt(),{parseB2CCSV:d}=FE(),[f,h]=w.useState(!0),[p,m]=w.useState(!1);w.useEffect(()=>{(async()=>{if(l.length>0){h(!1);return}if(!p){m(!0);try{const N=await _s.listFiles("b2c");if(N&&N.length>0){h(!0),console.log(" B2C Auto-Sync:",N[0].name);const A=await _s.getDownloadUrl("b2c/"+N[0].name),V=await(await fetch(A)).blob(),z=new File([V],N[0].name,{type:"text/csv"}),{data:Z}=await d(z);Z&&Z.length>0&&c(Z),h(!1)}}catch(N){console.error("B2C Sync failed",N),h(!1)}}})()},[l.length,p,c,d]);const[v,g]=w.useState(!1),[x,b]=w.useState([]),[y,_]=w.useState(null),[k,S]=w.useState(void 0),E=T=>{const N=s(T,"daily"),[A,P,V]=T.split("-").map(Number);_(new Date(A,P-1,V)),b(N),S(void 0),g(!0)},C=T=>{const N=s(T,"weekly"),[A,P,V]=T.split("-").map(Number),z=new Date(A,P-1,V),Z=new Date(z);Z.setDate(Z.getDate()+6),_(z),b(N),S(` Detalhes da Semana: ${be(z,"dd/MM")} a ${be(Z,"dd/MM")}`),g(!0)},j=()=>{g(!1),b([]),_(null)};return u.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8 shrink-0",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[u.jsx(Hg,{className:"text-blue-500"}),"Originao B2C"]}),u.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Anlise de participao CRM na originao total B2C."})]}),u.jsx("div",{className:"flex items-center gap-4",children:l.length===0&&u.jsx(cAe,{})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 pb-10",children:[u.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.length>0&&t?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-8",children:[u.jsxs("div",{className:"xl:w-7/12",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Comparao B2C vs CRM"}),u.jsx(sAe,{summary:t,previousSummary:r})]}),u.jsx("div",{className:"xl:w-5/12 flex flex-col",children:u.jsx(dAe,{segmentStats:i,totalB2CEmissoes:t.emissoes_b2c_total})})]}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Performance"}),u.jsx(iAe,{summary:t})]}),u.jsx(oAe,{data:e,shareThreshold:o.share_crm_limiar,viewMode:n,setViewMode:a,onPointClick:T=>{const N=be(T,"yyyy-MM-dd");E(N)}}),u.jsx(lAe,{data:e,onRowClick:E}),u.jsx("div",{className:"mb-6",children:u.jsx(uAe,{data:e,onBarClick:C})})]}):u.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50",children:f?u.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400",children:[u.jsx(Os,{className:"animate-spin text-blue-500",size:32}),u.jsx("p",{children:"Sincronizando dados..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-slate-500 mb-2",children:"Nenhum dado B2C carregado."}),u.jsx("p",{className:"text-xs text-slate-600",children:"Faa upload do CSV diarizado para comear."})]})})}),v&&u.jsx(Rh,{date:y,activities:x,onClose:j,titleOverride:k})]})]})},J4=new Date,hAe={periodo:{inicio:be(zr(J4),"yyyy-MM-dd"),fim:be(Mo(J4),"yyyy-MM-dd")},bus:[],segmentos:[],jornadas:[],canais:[],status:[]},my=qg()(Yg(e=>({expandedNodeIds:[],selectedNodeIds:[],detailsPaneNodeId:null,metric:"cartoes",filters:hAe,searchQuery:"",toggleNode:t=>e(r=>({expandedNodeIds:r.expandedNodeIds.includes(t)?r.expandedNodeIds.filter(a=>a!==t):[...r.expandedNodeIds,t]})),expandAll:t=>e({expandedNodeIds:t}),collapseAll:()=>e({expandedNodeIds:[]}),expandToNode:(t,r)=>e(n=>{const a=[],s=o=>{const l=r.get(o);!l||!l.parentId||(a.push(l.parentId),s(l.parentId))};return s(t),{expandedNodeIds:Array.from(new Set([...n.expandedNodeIds,...a]))}}),selectNode:(t,r)=>e(n=>r?{selectedNodeIds:n.selectedNodeIds.includes(t)?n.selectedNodeIds.filter(s=>s!==t):[...n.selectedNodeIds,t],detailsPaneNodeId:t}:{selectedNodeIds:[t],detailsPaneNodeId:t}),deselectAll:()=>e({selectedNodeIds:[],detailsPaneNodeId:null}),setDetailsPaneNode:t=>e({detailsPaneNodeId:t}),setMetric:t=>e({metric:t}),setFilters:t=>e(r=>({filters:{...r.filters,...t}})),setSearchQuery:t=>e({searchQuery:t})}),{name:"gaas-explorer-state",partialize:e=>({expandedNodeIds:e.expandedNodeIds,metric:e.metric,filters:e.filters})})),pAe={B2C:"#3B82F6",B2B2C:"#10B981",Plurix:"#A855F7"},mAe={Email:"#60A5FA",SMS:"#34D399",WhatsApp:"#A78BFA",Push:"#FBBF24"};function R9(e){return e.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"_").trim()}function vAe(){return{baseTotal:0,cartoes:0,propostas:0,aprovados:0,custoTotal:0,cac:0,taxaConversao:0}}function F9(e){const t=vAe();let r=0,n=0,a=0,s=0;for(const i of e)t.baseTotal+=i["Base Total"]??0,t.cartoes+=i["Cartes Gerados"]??0,t.propostas+=i.Propostas??0,t.aprovados+=i.Aprovados??0,t.custoTotal+=i["Custo Total Campanha"]??0,i.CAC!=null&&i.CAC>0&&(r+=i.CAC,n++),i["Taxa de Converso"]!=null&&i["Taxa de Converso"]>0&&(a+=i["Taxa de Converso"],s++);return t.cac=n>0?r/n:0,t.taxaConversao=s>0?a/s:0,t}function gAe(e,t,r){if(!e)return!1;const n=e.slice(0,10);return n>=t&&n<=r}function xAe(e){return e.map(R9).join("-")}function L9(e,t,r,n,a,s){if(r>=t.length)return[];const i=t[r],o=new Map;for(const l of e){const c=s(l,i)||"(sem valor)";o.has(c)||o.set(c,[]),o.get(c).push(l)}return Array.from(o.entries()).sort(([l],[c])=>l.localeCompare(c)).map(([l,c])=>{const d=xAe([n,l]),f=i==="canal"?mAe[l]??a:a,h=L9(c,t,r+1,d,f,s);return{id:d,label:l,type:i,count:c.length,parentId:n,metrics:F9(c),children:h,activityIds:c.map(p=>p.id),color:f}})}function yAe(e,t){switch(t){case"bu":return e.BU??"";case"segmento":return e.Segmento??"";case"jornada":return e.jornada??"";case"canal":return e.Canal??"";default:return""}}function $9(e,t){for(const r of e)t.set(r.id,r),r.children.length>0&&$9(r.children,t)}function bAe({activities:e,filters:t}){return w.useMemo(()=>{const{inicio:r,fim:n}=t.periodo,a=e.filter(d=>!(!gAe(d["Data de Disparo"],r,n)||t.bus.length>0&&!t.bus.includes(d.BU)||t.segmentos.length>0&&!t.segmentos.includes(d.Segmento)||t.jornadas.length>0&&!t.jornadas.includes(d.jornada)||t.canais.length>0&&d.Canal&&!t.canais.includes(d.Canal)||t.status.length>0&&d.status&&!t.status.includes(d.status))),s=new Map;for(const d of a){const f=d.BU||"(sem BU)";s.has(f)||s.set(f,[]),s.get(f).push(d)}const i=["jornada","canal"],o=Array.from(s.entries()).sort(([d],[f])=>d.localeCompare(f)).map(([d,f])=>{const h=pAe[d]??"#94A3B8",p=L9(f,i,0,d,h,yAe);return{id:R9(d),label:d,type:"bu",count:f.length,parentId:null,metrics:F9(f),children:p,activityIds:f.map(m=>m.id),color:h}}),l=new Map;$9(o,l);const c=Array.from(l.keys());return{rootNodes:o,nodeMap:l,allNodeIds:c}},[e,t])}function wAe(e,t){const r=[],n=a=>{for(const s of a)r.push(s.id),t.includes(s.id)&&s.children.length>0&&n(s.children)};return n(e),r}function _Ae(e,t){const{expandedNodeIds:r,selectedNodeIds:n,toggleNode:a,expandAll:s,collapseAll:i,expandToNode:o,selectNode:l,deselectAll:c,setDetailsPaneNode:d}=my(),f=w.useCallback(x=>{a(x)},[a]),h=w.useCallback((x,b)=>{l(x,b)},[l]),p=w.useCallback(()=>{const x=Array.from(t.keys()).filter(b=>{const y=t.get(b);return y&&y.children.length>0});s(x)},[t,s]),m=w.useCallback(()=>{i()},[i]),v=w.useCallback(x=>{o(x,t),l(x,!1),d(x)},[t,o,l,d]),g=w.useCallback((x,b)=>{const y=wAe(e,r),_=y.indexOf(b),k=t.get(b);switch(x.key){case"ArrowRight":x.preventDefault(),k&&k.children.length>0&&!r.includes(b)&&a(b);break;case"ArrowLeft":x.preventDefault(),r.includes(b)?a(b):k!=null&&k.parentId&&l(k.parentId,!1);break;case"ArrowDown":x.preventDefault(),_<y.length-1&&l(y[_+1],!1);break;case"ArrowUp":x.preventDefault(),_>0&&l(y[_-1],!1);break;case"Enter":case" ":x.preventDefault(),l(b,x.ctrlKey||x.metaKey);break;case"Escape":x.preventDefault(),c();break}},[e,r,t,a,l,c]);return{expandedNodeIds:r,selectedNodeIds:n,handleToggle:f,handleSelect:h,handleExpandAll:p,handleCollapseAll:m,handleExpandToNode:v,handleKeyDown:g}}function kAe(e,t){switch(t){case"volume":return e.metrics.baseTotal;case"cartoes":return e.metrics.cartoes;case"cac":return e.metrics.cac;case"custo":return e.metrics.custoTotal;default:return 0}}function wC(e,t){switch(t){case"volume":return e>=1e3?`${(e/1e3).toFixed(1)}k`:String(Math.round(e));case"cartoes":return e>=1e3?`${(e/1e3).toFixed(1)}k`:String(Math.round(e));case"cac":return`R$ ${e.toFixed(2)}`;case"custo":return e>=1e3?`R$ ${(e/1e3).toFixed(1)}k`:`R$ ${e.toFixed(2)}`;default:return String(e)}}function SAe({selectedNodeIds:e,nodeMap:t,metric:r,allActivities:n,periodStart:a}){const s=w.useMemo(()=>(e.length>0?e:Array.from(t.values()).filter(f=>f.type==="bu").map(f=>f.id)).map(f=>{const h=t.get(f);return h?{id:h.id,label:h.label,value:kAe(h,r),color:h.color,count:h.count,nodeType:h.type}:null}).filter(f=>f!==null).sort((f,h)=>h.value-f.value),[e,t,r]),{heatmapData:i,weekLabels:o}=w.useMemo(()=>{const d=e.length>0?e:Array.from(t.values()).filter(b=>b.type==="bu").map(b=>b.id);if(d.length===0)return{heatmapData:[],weekLabels:[]};const f=new Date(a+"T00:00:00"),h=new Set,p=new Map;for(const b of d){const y=t.get(b);if(!y)continue;const _=new Set(y.activityIds),k=n.filter(S=>_.has(S.id));p.set(b,k);for(const S of k){const E=S["Data de Disparo"];if(!E)continue;const C=new Date(E+"T00:00:00"),j=iO(Ga(C),Ga(f));j>=0&&j<5&&h.add(j)}}const m=Array.from(h).sort((b,y)=>b-y).slice(0,4),v=m.map(b=>`S${b+1}`),g=[];let x=0;for(const b of d){const y=t.get(b),_=p.get(b)??[];if(!y)continue;const k=new Map;for(const S of _){const E=S["Data de Disparo"];if(!E)continue;const C=new Date(E+"T00:00:00"),j=iO(Ga(C),Ga(f));if(j<0||j>=5)continue;const T=k.get(j)??{count:0,value:0};let N=0;switch(r){case"volume":N=S["Base Total"]??0;break;case"cartoes":N=S["Cartes Gerados"]??0;break;case"cac":N=S.CAC??0;break;case"custo":N=S["Custo Total Campanha"]??0;break}k.set(j,{count:T.count+1,value:T.value+N})}for(const S of m){const E=k.get(S)??{count:0,value:0};E.value>x&&(x=E.value),g.push({rowId:b,rowLabel:y.label,columnLabel:`S${S+1}`,weekIndex:S,value:E.value,intensity:0,count:E.count})}}for(const b of g)b.intensity=x>0?b.value/x:0;return{heatmapData:g,weekLabels:v}},[e,t,n,r,a]),l=s.length>0?Math.max(...s.map(d=>d.value)):0,c=s.length>0?s.reduce((d,f)=>d+f.value,0)/s.length:0;return{barChartData:s,heatmapData:i,maxValue:l,average:c,weekLabels:o}}const EAe={Email:"#60A5FA",SMS:"#34D399",WhatsApp:"#A78BFA",Push:"#FBBF24"};function CAe(e,t,r,n){return w.useMemo(()=>{if(!e)return null;const a=t.get(e);if(!a)return null;const s=new Set(a.activityIds),i=r.filter(p=>s.has(p.id)),o=new Map;for(const p of i){const m=p.Canal??"Outro",v=o.get(m)??{count:0,cartoes:0};o.set(m,{count:v.count+1,cartoes:v.cartoes+(p["Cartes Gerados"]??0)})}const l=i.length,c=Array.from(o.entries()).map(([p,{count:m,cartoes:v}])=>({canal:p,count:m,percentage:l>0?Math.round(m/l*100):0,color:EAe[p]??"#94A3B8"})).sort((p,m)=>m.count-p.count),d=new Map;for(const p of i){const m=p.Oferta;if(!m)continue;const v=d.get(m)??{cartoes:0,count:0};d.set(m,{cartoes:v.cartoes+(p["Cartes Gerados"]??0),count:v.count+1})}const f=Array.from(d.entries()).map(([p,{cartoes:m,count:v}])=>({oferta:p,cartoes:m,count:v})).sort((p,m)=>m.cartoes-p.cartoes).slice(0,3),h=`${be(new Date(n.inicio+"T00:00:00"),"MMM yyyy")}  ${be(new Date(n.fim+"T00:00:00"),"MMM yyyy")}`;return{node:a,period:h,channelDistribution:c,topOffers:f,activities:i}},[e,t,r,n])}function Q4(e,t){const r=e.toLowerCase();let n=0;for(const a of t)r===a?n+=50:r.startsWith(a)?n+=30:r.includes(a)&&(n+=20);return n}function jAe(e){const t=new Map;for(const[r,n]of e){const a=n.label.toLowerCase().split(/\s+/);for(const s of a)t.has(s)||t.set(s,[]),t.get(s).push(r)}return t}function eD(e,t){const r=[];let n=t.get(e);for(;n;)r.unshift(n.label),n=n.parentId?t.get(n.parentId):void 0;return r}function TAe(e,t,r=10){const n=w.useMemo(()=>jAe(e),[e]);return w.useMemo(()=>{const a=t.trim().toLowerCase();if(!a)return[];const s=a.split(/\s+/),i=new Set;for(const l of s){for(const[c,d]of n)c.includes(l)&&d.forEach(f=>i.add(f));for(const c of e.keys())i.add(c)}const o=[];for(const l of i){const c=e.get(l);if(!c)continue;let d=0;d+=Q4(c.label,s);const f=eD(l,e);for(let h=0;h<f.length-1;h++)d+=Q4(f[h],s)*.4;d>=r&&o.push({node:c,path:eD(l,e),matchType:d>=50?"exact":"partial",score:Math.min(100,Math.round(d))})}return o.sort((l,c)=>c.score-l.score).slice(0,20)},[e,n,t,r])}const _C=({type:e,label:t,color:r,size:n=14})=>{if(e==="canal"){const a=t.toLowerCase();return a==="email"?u.jsx(pw,{size:n,style:{color:r}}):a==="sms"?u.jsx(jK,{size:n,style:{color:r}}):a==="whatsapp"?u.jsx(tK,{size:n,style:{color:r}}):a==="push"?u.jsx(WW,{size:n,style:{color:r}}):u.jsx(pw,{size:n,style:{color:r}})}switch(e){case"bu":return u.jsx(Hg,{size:n,style:{color:r}});case"segmento":return u.jsx(rv,{size:n,style:{color:r}});case"jornada":return u.jsx(NH,{size:n,style:{color:r}});default:return u.jsx(rv,{size:n,style:{color:r}})}},AAe=({count:e})=>u.jsx("span",{className:"ml-auto text-xs font-mono text-slate-500 tabular-nums shrink-0",children:e>=1e3?`${(e/1e3).toFixed(1)}k`:e}),NAe=16,B9=({node:e,level:t,isExpanded:r,isSelected:n,onToggle:a,onSelect:s,onKeyDown:i})=>{const o=w.useRef(null),l=e.children.length>0,c=t*NAe,d=h=>{h.stopPropagation(),s(e.id,h.ctrlKey||h.metaKey)},f=h=>{h.stopPropagation(),l&&a(e.id)};return u.jsxs("div",{role:"treeitem","aria-expanded":l?r:void 0,"aria-selected":n,children:[u.jsxs("div",{ref:o,tabIndex:0,onClick:d,onKeyDown:h=>i(h,e.id),className:["flex items-center gap-1.5 px-2 py-1 rounded cursor-pointer select-none text-sm transition-colors","focus:outline-none focus-visible:ring-1 focus-visible:ring-blue-500",n?"bg-blue-600/20 border-l-2 border-blue-500 text-white":"text-slate-300 hover:bg-slate-700/50 border-l-2 border-transparent"].join(" "),style:{paddingLeft:`${c+8}px`},children:[u.jsx("span",{className:"shrink-0 text-slate-500 hover:text-slate-300",onClick:f,style:{width:14},children:l?r?u.jsx(ql,{size:12}):u.jsx(En,{size:12}):u.jsx("span",{className:"inline-block",style:{width:12}})}),u.jsx(_C,{type:e.type,label:e.label,color:e.color,size:13}),u.jsx("span",{className:"truncate flex-1 font-medium text-xs leading-relaxed",children:e.label}),u.jsx(AAe,{count:e.count})]}),r&&l&&u.jsx("div",{role:"group",children:e.children.map(h=>u.jsx(PAe,{node:h,level:t+1,onToggle:a,onSelect:s,onKeyDown:i},h.id))})]})},PAe=({node:e,level:t,onToggle:r,onSelect:n,onKeyDown:a})=>{const{expandedNodeIds:s,selectedNodeIds:i}=my();return u.jsx(B9,{node:e,level:t,isExpanded:s.includes(e.id),isSelected:i.includes(e.id),onToggle:r,onSelect:n,onKeyDown:a})},OAe=({rootNodes:e,onToggle:t,onSelect:r,onKeyDown:n,onExpandAll:a,onCollapseAll:s})=>{const{expandedNodeIds:i,selectedNodeIds:o}=my(),l=i.length>0;return e.length===0?u.jsx("div",{className:"flex flex-col items-center justify-center h-32 text-slate-500 text-sm",children:u.jsx("p",{children:"Sem dados para o perodo"})}):u.jsxs("div",{role:"tree",className:"flex flex-col gap-0",children:[u.jsx("div",{className:"flex items-center justify-end px-2 pb-1 gap-1",children:u.jsxs("button",{onClick:l?s:a,className:"flex items-center gap-1 text-xs text-slate-500 hover:text-slate-300 transition-colors px-1 py-0.5 rounded",title:l?"Recolher todos":"Expandir todos",children:[l?u.jsx(rH,{size:11}):u.jsx(aH,{size:11}),u.jsx("span",{children:l?"Recolher":"Expandir"})]})}),e.map(c=>u.jsx(B9,{node:c,level:0,isExpanded:i.includes(c.id),isSelected:o.includes(c.id),onToggle:t,onSelect:r,onKeyDown:n},c.id))]})},DAe=[{value:"cartoes",label:"Cartes"},{value:"volume",label:"Volume"},{value:"custo",label:"Custo"},{value:"cac",label:"CAC"}],MAe=({value:e,onChange:t})=>u.jsx("div",{className:"flex items-center gap-1 bg-slate-800 rounded-lg p-0.5",children:DAe.map(r=>u.jsx("button",{onClick:()=>t(r.value),className:["px-3 py-1 text-xs font-medium rounded-md transition-all",e===r.value?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"].join(" "),children:r.label},r.value))}),IAe=({active:e,payload:t,metric:r})=>{if(!e||!(t!=null&&t.length))return null;const n=t[0].payload;return u.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-3 text-xs shadow-xl",children:[u.jsx("p",{className:"font-semibold text-white mb-1",children:n.label}),u.jsx("p",{className:"text-slate-300",children:wC(n.value,r)}),u.jsxs("p",{className:"text-slate-500",children:[n.count," disparos"]})]})},RAe=({data:e,metric:t,onBarClick:r})=>e.length===0?u.jsx("div",{className:"flex items-center justify-center h-40 text-slate-500 text-sm",children:"Selecione ns na rvore para comparar"}):u.jsx(At,{width:"100%",height:Math.max(160,e.length*40),children:u.jsxs(As,{data:e,layout:"vertical",margin:{top:4,right:60,left:8,bottom:4},onClick:n=>{var a;(a=n==null?void 0:n.activePayload)!=null&&a[0]&&r(n.activePayload[0].payload.id)},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155",horizontal:!1}),u.jsx(Nt,{type:"number",tick:{fill:"#94A3B8",fontSize:10},tickLine:!1,axisLine:!1,tickFormatter:n=>wC(n,t)}),u.jsx(lt,{type:"category",dataKey:"label",tick:{fill:"#CBD5E1",fontSize:11},tickLine:!1,axisLine:!1,width:90}),u.jsx(kt,{content:u.jsx(IAe,{metric:t}),cursor:{fill:"rgba(148,163,184,0.05)"}}),u.jsx(br,{dataKey:"value",radius:[0,4,4,0],cursor:"pointer",maxBarSize:24,children:e.map(n=>u.jsx(rs,{fill:n.color,fillOpacity:.85},n.id))})]})});function FAe(e,t){const r=[0,.15,.35,.6,.85,1],n=Math.min(r.length-1,Math.floor(e*(r.length-1))),a=r[n];return`${t}${Math.round(a*255).toString(16).padStart(2,"0")}`}function LAe(e){const t=new Map;for(const r of e)t.has(r.rowId)||t.set(r.rowId,[]),t.get(r.rowId).push(r);return t}const $Ae=({cells:e,weekLabels:t,metric:r})=>{if(e.length===0||t.length===0)return u.jsx("div",{className:"flex items-center justify-center h-24 text-slate-500 text-xs",children:"Sem dados temporais para o perodo"});const n=LAe(e),a=Array.from(n.entries());return u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-xs border-collapse",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left text-slate-500 font-normal pb-1 pr-3 w-24"}),t.map(s=>u.jsx("th",{className:"text-center text-slate-500 font-mono font-normal pb-1 px-1",children:s},s))]})}),u.jsx("tbody",{children:a.map(([s,i])=>{const o=i[0],l="#3B82F6";return u.jsxs("tr",{children:[u.jsx("td",{className:"text-slate-400 pr-3 py-0.5 truncate max-w-[96px]",title:o.rowLabel,children:o.rowLabel.length>12?o.rowLabel.slice(0,12)+"":o.rowLabel}),t.map(c=>{const d=i.find(p=>p.columnLabel===c),f=d&&d.count>0?FAe(d.intensity,l):"transparent",h=d?`${c}  ${o.rowLabel}
${d.count} disparos  ${wC(d.value,r)}`:"";return u.jsx("td",{className:"px-1 py-0.5 text-center",children:u.jsx("div",{className:"mx-auto rounded",style:{width:28,height:20,backgroundColor:f,border:d&&d.count>0?`1px solid ${l}44`:"1px solid transparent"},title:h})},c)})]},s)})})]})})},BAe=({barChartData:e,heatmapData:t,weekLabels:r,metric:n,onMetricChange:a,onBarClick:s})=>u.jsxs("div",{className:"flex flex-col gap-4 h-full",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Comparao Visual"}),u.jsx(MAe,{value:n,onChange:a})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs text-slate-500 mb-3 font-medium",children:"Distribuio por segmento"}),u.jsx(RAe,{data:e,metric:n,onBarClick:s})]}),u.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[u.jsx("p",{className:"text-xs text-slate-500 mb-3 font-medium",children:"Concentrao temporal (semanas)"}),u.jsx($Ae,{cells:t,weekLabels:r,metric:n})]})]}),$c=({label:e,value:t,sub:r})=>u.jsxs("div",{className:"bg-slate-700/40 rounded-lg p-3 flex flex-col gap-0.5",children:[u.jsx("span",{className:"text-xs text-slate-500",children:e}),u.jsx("span",{className:"text-lg font-semibold font-mono text-white tabular-nums",children:t}),r&&u.jsx("span",{className:"text-xs text-slate-500",children:r})]});function tD(e){return e===0?"":e>=1e6?`${(e/1e6).toFixed(1)}M`:e>=1e3?`${(e/1e3).toFixed(1)}k`:String(Math.round(e))}function rD(e){return e===0?"":e>=1e3?`R$ ${(e/1e3).toFixed(1)}k`:`R$ ${e.toFixed(2)}`}function zAe(e){return e===0?"":`${e.toFixed(1)}%`}const UAe=({metrics:e,count:t})=>u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Performance"}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsx($c,{label:"Disparos",value:String(t)}),u.jsx($c,{label:"Cartes",value:tD(e.cartoes)}),u.jsx($c,{label:"CAC mdio",value:rD(e.cac)}),u.jsx($c,{label:"Custo Total",value:rD(e.custoTotal)}),u.jsx($c,{label:"Propostas",value:tD(e.propostas)}),u.jsx($c,{label:"Tx Converso",value:zAe(e.taxaConversao)})]})]}),VAe=({active:e,payload:t})=>{if(!e||!(t!=null&&t.length))return null;const r=t[0].payload;return u.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-lg p-2 text-xs shadow-xl",children:[u.jsx("p",{className:"font-semibold text-white",children:r.canal}),u.jsxs("p",{className:"text-slate-300",children:[r.count," disparos (",r.percentage,"%)"]})]})},WAe=({items:e})=>e.length===0?u.jsx("p",{className:"text-slate-500 text-xs",children:"Sem dados de canal"}):u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Canais"}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{style:{width:72,height:72,flexShrink:0},children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(CE,{children:[u.jsx(Jx,{data:e,dataKey:"count",cx:"50%",cy:"50%",innerRadius:22,outerRadius:34,paddingAngle:2,children:e.map(t=>u.jsx(rs,{fill:t.color},t.canal))}),u.jsx(kt,{content:u.jsx(VAe,{})})]})})}),u.jsx("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:e.map(t=>u.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[u.jsx("span",{className:"w-2 h-2 rounded-full shrink-0",style:{backgroundColor:t.color}}),u.jsx("span",{className:"text-slate-300 truncate",children:t.canal}),u.jsxs("span",{className:"text-slate-500 ml-auto tabular-nums",children:[t.percentage,"%"]})]},t.canal))})]})]}),HAe=({items:e})=>e.length===0?u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Top Ofertas"}),u.jsx("p",{className:"text-slate-500 text-xs",children:"Sem dados de oferta"})]}):u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Top Ofertas"}),u.jsx("div",{className:"flex flex-col gap-1",children:e.map((t,r)=>u.jsxs("div",{className:"flex items-center gap-2 text-xs py-1 border-b border-slate-700/50 last:border-0",children:[u.jsxs("span",{className:"text-slate-500 tabular-nums font-mono w-4",children:[r+1,"."]}),u.jsx("span",{className:"text-slate-300 truncate flex-1",title:t.oferta,children:t.oferta.length>22?t.oferta.slice(0,22)+"":t.oferta}),u.jsxs("span",{className:"text-white font-mono tabular-nums",children:[t.cartoes>=1e3?`${(t.cartoes/1e3).toFixed(1)}k`:t.cartoes," ",u.jsx("span",{className:"text-slate-500",children:"cartes"})]})]},t.oferta))})]}),KAe=({data:e,onClose:t,onViewAll:r})=>{if(!e)return u.jsx("div",{className:"bg-slate-800/30 rounded-xl p-5 flex items-center justify-center h-full border border-slate-700/30",children:u.jsxs("div",{className:"text-center text-slate-500",children:[u.jsx("p",{className:"text-sm",children:"Selecione um item na rvore"}),u.jsx("p",{className:"text-xs mt-1",children:"para ver detalhes e mtricas"})]})});const{node:n,period:a,channelDistribution:s,topOffers:i}=e;return u.jsxs("div",{className:"bg-slate-800/50 rounded-xl border border-slate-700/50 flex flex-col h-full overflow-hidden",children:[u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-slate-700/50 shrink-0",children:[u.jsx(_C,{type:n.type,label:n.label,color:n.color,size:15}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-semibold text-white truncate",children:n.label}),u.jsx("p",{className:"text-xs text-slate-500",children:a})]}),u.jsx("button",{onClick:t,className:"text-slate-500 hover:text-slate-300 transition-colors p-1","aria-label":"Fechar painel",children:u.jsx(fa,{size:14})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 flex flex-col gap-4",children:[u.jsx(UAe,{metrics:n.metrics,count:n.count}),u.jsx("div",{className:"border-t border-slate-700/50"}),u.jsx(WAe,{items:s}),u.jsx("div",{className:"border-t border-slate-700/50"}),u.jsx(HAe,{items:i})]}),u.jsx("div",{className:"px-4 py-3 border-t border-slate-700/50 shrink-0",children:u.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-xs text-blue-400 hover:text-blue-300 transition-colors font-medium",children:["Ver todos os disparos",u.jsx(wH,{size:11})]})})]})},GAe=({query:e,results:t,onChange:r,onSelect:n,onClear:a,focusOnMount:s})=>{const i=w.useRef(null);w.useEffect(()=>{var l;s&&((l=i.current)==null||l.focus())},[s]);const o=e.trim().length>0;return u.jsxs("div",{className:"relative",children:[u.jsxs("div",{className:"flex items-center gap-2 bg-slate-700/50 border border-slate-600/50 rounded-lg px-3 py-2",children:[u.jsx(t0,{size:13,className:"text-slate-500 shrink-0"}),u.jsx("input",{ref:i,type:"text",value:e,onChange:l=>r(l.target.value),placeholder:"Buscar jornada, segmento...",className:"flex-1 bg-transparent text-xs text-slate-200 placeholder-slate-500 outline-none","aria-label":"Buscar n na rvore"}),e&&u.jsx("button",{onClick:a,className:"text-slate-500 hover:text-slate-300 transition-colors","aria-label":"Limpar busca",children:u.jsx(fa,{size:12})})]}),o&&u.jsx("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-xl overflow-hidden",children:t.length===0?u.jsx("div",{className:"px-3 py-2 text-xs text-slate-500",children:"Nenhum resultado"}):u.jsx("ul",{className:"max-h-60 overflow-y-auto",children:t.map(l=>u.jsx("li",{children:u.jsxs("button",{onClick:()=>{n(l.node.id),a()},className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-slate-700/60 transition-colors",children:[u.jsx(_C,{type:l.node.type,label:l.node.label,color:l.node.color,size:12}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs text-white truncate",children:l.node.label}),u.jsx("p",{className:"text-xs text-slate-500 truncate",children:l.path.join("  ")})]}),u.jsx("span",{className:"text-xs text-slate-600 tabular-nums",children:l.node.count})]})},l.node.id))})})]})},qAe=({onNavigateToFramework:e})=>{const t=vt(D=>D.activities),[r,n]=w.useState([]),[a,s]=w.useState(!1),[i,o]=w.useState(null);w.useEffect(()=>{if(t.length>0)return;let D=!1;return s(!0),Nf.getAllActivities().then(R=>{D||(n(R),o(null))}).catch(R=>{D||o(R.message??"Erro ao carregar atividades")}).finally(()=>{D||s(!1)}),()=>{D=!0}},[t.length]);const l=t.length>0?t:r,{startDate:c,endDate:d}=mc(),f=be(c,"yyyy-MM-dd"),h=be(d,"yyyy-MM-dd"),{filters:p,metric:m,searchQuery:v,selectedNodeIds:g,detailsPaneNodeId:x,setFilters:b,setMetric:y,setSearchQuery:_,deselectAll:k,setDetailsPaneNode:S}=my();w.useEffect(()=>{b({periodo:{inicio:f,fim:h}})},[f,h]);const{rootNodes:E,nodeMap:C,allNodeIds:j}=bAe({activities:l,filters:p}),{handleToggle:T,handleSelect:N,handleExpandAll:A,handleCollapseAll:P,handleExpandToNode:V,handleKeyDown:z}=_Ae(E,C),{barChartData:Z,heatmapData:G,weekLabels:Y}=SAe({selectedNodeIds:g,nodeMap:C,metric:m,allActivities:l,periodStart:p.periodo.inicio}),I=CAe(x,C,l,p.periodo),te=TAe(C,v),J=()=>{if(!I||!e)return;const{node:D}=I,R={bu:{bu:D.label},segmento:{segmento:D.label},jornada:{jornada:D.label},canal:{}};e(R[D.type]??{})};return a?u.jsxs("div",{className:"flex items-center justify-center h-full text-slate-500 gap-2",children:[u.jsx(Os,{size:16,className:"animate-spin"}),u.jsx("span",{className:"text-sm",children:"Carregando atividades..."})]}):i?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center text-red-400",children:[u.jsx("p",{className:"text-sm font-medium",children:"Erro ao carregar dados"}),u.jsx("p",{className:"text-xs text-red-500 mt-1",children:i})]})}):u.jsxs("div",{className:"flex h-full gap-4 p-4 overflow-hidden",children:[u.jsxs("aside",{className:"w-72 shrink-0 flex flex-col gap-3 overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between bg-slate-800/50 rounded-lg px-3 py-2",children:[u.jsxs("span",{className:"text-xs font-medium text-slate-400",children:[be(c,"dd MMM",{locale:ns}),"  ",be(d,"dd MMM yyyy",{locale:ns})]}),u.jsxs("span",{className:"text-xs text-slate-600",children:[l.length.toLocaleString("pt-BR")," disparos"]})]}),u.jsx(GAe,{query:v,results:te,onChange:_,onSelect:D=>{V(D),_("")},onClear:()=>_("")}),u.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-800/30 rounded-xl border border-slate-700/40 p-2",children:u.jsx(OAe,{rootNodes:E,onToggle:T,onSelect:N,onKeyDown:z,onExpandAll:A,onCollapseAll:P})}),u.jsxs("div",{className:"text-xs text-slate-600 text-center",children:[E.length," BUs  ",E.reduce((D,R)=>D+R.count,0).toLocaleString("pt-BR")," disparos no perodo"]})]}),u.jsxs("div",{className:"flex-1 min-w-0 flex flex-col gap-4 overflow-hidden",children:[u.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto bg-slate-800/20 rounded-xl border border-slate-700/30 p-4",children:u.jsx(BAe,{barChartData:Z,heatmapData:G,weekLabels:Y,metric:m,onMetricChange:y,onBarClick:D=>{V(D)}})}),u.jsx("div",{className:"h-72 shrink-0",children:u.jsx(KAe,{data:I,onClose:()=>{k(),S(null)},onViewAll:J})})]})]})},nD=(e,t)=>{const r=w.useMemo(()=>{const i=t.bu.length===0?void 0:t.bu,o={};return Object.entries(e).forEach(([l,c])=>{const d=i?c.filter(f=>i.includes(f.bu)):c;d.length>0&&(o[l]=d)}),o},[e,t.bu]),n=w.useMemo(()=>{const i={};return Object.entries(r).forEach(([o,l])=>{i[o]=l.length}),i},[r]),a=i=>{const o=r[i]||[];if(o.length===0)return null;const l={};return o.forEach(c=>{l[c.bu]=(l[c.bu]||0)+1}),Object.entries(l).sort(([,c],[,d])=>d-c)[0][0]},s=w.useMemo(()=>Object.values(r).reduce((i,o)=>i+o.length,0),[r]);return{filteredData:r,activityCountByDay:n,getDominantBU:a,getTotalActivities:s,selectedBUs:t.bu}},YAe=(e,t)=>w.useMemo(()=>{try{const n={};return Object.values(e).forEach(s=>{s.forEach(i=>{const o=i.parceiro||"Sem Parceiro";n[o]||(n[o]={nome:o,totalCartoes:0,taxaEntregaMdia:0,taxaAberturaMdia:0,taxaPropostaMdia:0,cacMdio:0,custoTotal:0,atividades:0,variacao:0,status:"em-progresso",bu:[],datas:[]});const l=n[o],c=i.kpis;l.totalCartoes+=c.cartoes||0,l.taxaEntregaMdia+=c.taxaEntrega||0,l.taxaAberturaMdia+=c.taxaAbertura||0,l.taxaPropostaMdia+=c.taxaPropostas||0,l.cacMdio+=c.cac||0,l.custoTotal+=c.custoTotal||0,l.atividades+=1,l.bu.includes(i.bu)||l.bu.push(i.bu);let d="";i.dataDisparo instanceof Date?d=i.dataDisparo.toISOString().split("T")[0]:typeof i.dataDisparo=="string"&&(d=String(i.dataDisparo).split("T")[0]),d&&!l.datas.includes(d)&&l.datas.push(d)})}),Object.values(n).forEach(s=>{s.atividades>0&&(s.taxaEntregaMdia=s.taxaEntregaMdia/s.atividades,s.taxaAberturaMdia=s.taxaAberturaMdia/s.atividades,s.taxaPropostaMdia=s.taxaPropostaMdia/s.atividades,s.cacMdio=s.cacMdio/s.atividades);const i=new Date,o=new Date(Math.max(...s.datas.map(c=>new Date(c).getTime()))),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24));l>30?s.status="parado":l>7?s.status="em-progresso":s.status="concluido"}),n}catch(n){return console.error("Error calculating resultados metrics:",n),{}}},[e,t]),XAe=({title:e,items:t,isActive:r})=>{const[n,a]=w.useState(!1);return u.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[u.jsxs("button",{className:`
                    px-3 py-2 text-sm font-semibold tracking-wide transition-all duration-200 uppercase relative
                    ${r||n?"text-white":"text-slate-400 hover:text-slate-200"}
                `,children:[e,(r||n)&&u.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"})]}),u.jsx("div",{className:`
                    absolute top-full left-0 pt-2 w-48 transform transition-all duration-200 origin-top-left
                    ${n?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}
                `,children:u.jsx("div",{className:"bg-[#0F172A] border border-white/10 rounded-lg shadow-xl backdrop-blur-xl p-1.5 z-50",children:t.map(s=>u.jsxs("button",{onClick:()=>{s.onClick(),a(!1)},className:`
                                w-full flex items-center gap-3 px-3 py-2 rounded-md text-xs font-medium transition-all text-left
                                ${s.isActive?"bg-blue-600/10 text-blue-400":"text-slate-400 hover:text-slate-100 hover:bg-white/5"}
                            `,children:[s.icon&&u.jsx(s.icon,{size:16}),s.label]},s.id))})})]})},ZAe=()=>{const{setTab:e,viewSettings:t}=vt(),r=t.abaAtual,{toggleBU:n,isBUSelected:a}=Fh(),s=[{title:"Planejamento",items:[{id:"launch",label:"Launch Planner",icon:dc,onClick:()=>e("launch")},{id:"diario",label:"Dirio de Bordo",icon:HI,onClick:()=>e("diario")}]},{title:"Anlise",items:[{id:"jornada",label:"Jornada & Disparos",icon:Fn,onClick:()=>e("jornada")},{id:"resultados",label:"Resultados",icon:Hg,onClick:()=>e("resultados")},{id:"orientador",label:"Orientador",icon:nv,onClick:()=>e("orientador")},{id:"originacao-b2c",label:"Originao B2C",icon:KI,onClick:()=>e("originacao-b2c")}]},{title:"Mdia Paga",items:[{id:"midia-paga",label:"Media Analytics",icon:void 0,onClick:()=>e("midia-paga")}]},{title:"Framework",items:[{id:"framework",label:"Explorador de Disparos",icon:YI,onClick:()=>e("framework")}]}],i=[{id:"B2C",label:"B2C",color:"bg-blue-500"},{id:"B2B2C",label:"B2B2C",color:"bg-emerald-500"},{id:"Plurix",label:"Plurix",color:"bg-purple-500"}],o=l=>l.some(c=>c.id===r);return u.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-[#0B0F19]/95 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsxs("div",{className:"flex flex-col items-center justify-center gap-0 shrink-0",children:[u.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent tracking-widest leading-none",children:"GaaS"}),u.jsx("span",{className:"text-[10px] font-bold text-white tracking-wider uppercase leading-tight opacity-90",children:"AFINZ"})]}),u.jsx("nav",{className:"hidden lg:flex items-center gap-1 h-16",children:s.map(l=>u.jsx(XAe,{title:l.title,items:l.items.map(c=>({...c,isActive:r===c.id})),isActive:o(l.items)},l.title))})]}),u.jsxs("div",{className:"flex items-center justify-end gap-4 flex-1 max-w-2xl",children:[u.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-white/10 mr-2",children:[u.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider hidden xl:block",children:"BU:"}),u.jsx("div",{className:"flex bg-white/5 rounded-lg p-1 gap-1",children:i.map(l=>u.jsxs("button",{onClick:()=>n(l.id),className:`
                                    px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5
                                    ${a(l.id)?"bg-slate-700 text-white shadow-sm":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}
                                `,title:`Filtrar por ${l.label}`,children:[u.jsx("div",{className:`w-2 h-2 rounded-full ${l.color} ${a(l.id)?"opacity-100 shadow-[0_0_4px_currentColor]":"opacity-40"}`}),u.jsx("span",{className:a(l.id)?"":"hidden xl:inline",children:l.label})]},l.id))})]}),u.jsxs("div",{className:"hidden md:flex items-center bg-white/5 border border-white/10 rounded-full px-4 py-1.5 w-64 transition-all focus-within:w-80 focus-within:bg-white/10 focus-within:border-blue-500/50",children:[u.jsx(t0,{size:16,className:"text-slate-500 mr-2"}),u.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-sm text-slate-300 w-full placeholder-slate-600"})]}),u.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),u.jsx("button",{onClick:()=>e("configuracoes"),className:`p-2 rounded-full transition relative ${r==="configuracoes"?"text-white bg-white/10":"text-slate-400 hover:text-white hover:bg-white/10"}`,title:"Configuraes",children:u.jsx(_K,{size:20})}),u.jsx("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/5 p-1.5 rounded-lg transition group",children:u.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center ring-2 ring-white/10 group-hover:ring-blue-500/50 transition-all",children:u.jsx(XI,{size:16,className:"text-white"})})})]})]})},JAe=({children:e})=>u.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0F172A] text-slate-100 font-sans selection:bg-blue-500/30",children:[u.jsx(ZAe,{}),u.jsx("main",{className:"flex-1 flex flex-col relative w-full max-w-[1920px] mx-auto pt-16",children:u.jsx("div",{className:"flex-1 p-2 w-full h-full overflow-y-auto overflow-x-hidden",children:e})})]}),QAe=({data:e,onDayClick:t,displayDate:r,onMonthChange:n})=>{const a=w.useMemo(()=>{const f=zr(r),h=Ga(f);return Array.from({length:42},(p,m)=>rg(h,m))},[r]),s=f=>{n(f)},i=w.useMemo(()=>Object.values(e).flat(),[e]),o=f=>{const h=i.filter(x=>S0(x.dataDisparo,f)),p=h.length,m=h.some(x=>x.status==="Rascunho"),v=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+1,x),{}),g=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+(b.kpis.cartoes||0),x),{});return{count:p,byBU:v,byBUCartoes:g,hasDraft:m}},l=(f,h)=>{let p=null;if(Object.values(f).reduce((v,g)=>v+g,0)>0?p=Object.entries(f).sort((v,g)=>g[1]-v[1])[0][0]:Object.keys(h).length>0&&(p=Object.entries(h).sort((v,g)=>g[1]-v[1])[0][0]),!p)return"bg-slate-800/30 border-slate-700/50";switch(p==null?void 0:p.toUpperCase()){case"B2C":return"bg-blue-900/40 border-blue-700/50 hover:bg-blue-900/60 hover:border-blue-600/70";case"B2B2C":return"bg-emerald-900/40 border-emerald-700/50 hover:bg-emerald-900/60 hover:border-emerald-600/70";case"PLURIX":return"bg-purple-900/40 border-purple-700/50 hover:bg-purple-900/60 hover:border-purple-600/70";default:return"bg-slate-800/30 border-slate-700/50"}},c=f=>{switch(f==null?void 0:f.toUpperCase()){case"B2C":return"bg-blue-600 hover:bg-blue-500";case"B2B2C":return"bg-emerald-600 hover:bg-emerald-500";case"PLURIX":return"bg-purple-600 hover:bg-purple-500";default:return"bg-slate-600 hover:bg-slate-500"}},d=f=>{const h=OE(f);return h===0||h===6};return u.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 h-full flex flex-col",children:[u.jsx("div",{className:"flex items-center justify-between mb-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>s(Xu(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Ms anterior",children:u.jsx(Y0,{size:18})}),u.jsx("h2",{className:"text-lg font-bold text-white uppercase min-w-[200px] text-center",children:be(r,"MMMM yyyy",{locale:ns})}),u.jsx("button",{onClick:()=>s(jE(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Prximo ms",children:u.jsx(En,{size:18})})]})}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:["D","S","T","Q","Q","S","S"].map((f,h)=>u.jsx("div",{className:`text-center text-xs font-semibold py-2 ${h===0||h===6?"text-blue-400":"text-slate-500"}`,children:f},h))}),u.jsx("div",{className:"flex-1 overflow-y-auto flex justify-center",children:u.jsx("div",{className:"grid grid-cols-7 gap-1 w-full max-w-[560px]",children:a.map(f=>{const{count:h,byBU:p,byBUCartoes:m,hasDraft:v}=o(f),g=E0(f,r),x=S0(f,new Date),b=d(f),y=Object.entries(p).sort((S,E)=>E[1]-S[1]),_=l(m,p),k=v?"bg-amber-900/40 border-amber-600/50 hover:bg-amber-800/60 hover:border-amber-500/70":g?b?"bg-blue-950/30 border-blue-800/40 hover:bg-blue-950/50 hover:border-blue-700/60":_:"bg-slate-900/20 border-slate-800/30 opacity-20";return u.jsxs("div",{onClick:()=>t==null?void 0:t(f),className:`
                                relative p-1 rounded-md border transition-all cursor-pointer aspect-square overflow-hidden group
                                ${k}
                                ${x?"ring-1 ring-blue-400 ring-offset-1 ring-offset-slate-900":""}
                            `,children:[u.jsx("div",{className:"absolute top-1 left-0 right-0 flex justify-center",children:u.jsx("span",{className:`text-[10px] font-semibold ${x?"text-blue-300":b?"text-blue-400":"text-slate-300"}`,children:be(f,"d")})}),h>0&&u.jsx("div",{className:"absolute inset-x-0 bottom-1 top-4 flex flex-wrap content-center justify-center gap-0.5 px-0.5",children:y.map(([S,E])=>u.jsx("div",{className:`${c(S)} rounded-full w-3.5 h-3.5 flex items-center justify-center text-white font-bold text-[7px] shadow-sm`,title:`${E} ${S}`,children:E},S))})]},f.toISOString())})})})]})},eNe=({activities:e,previousActivities:t=[],b2cData:r=[]})=>{const{viewSettings:n}=vt(),a=n.perspective,s=a==="total"||a==="b2c",i=a==="total"||a==="crm",o=(p,m=[])=>{let v=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.baseEnviada)||0)},0):0,g=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.baseEntregue)||0)},0):0,x=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.propostas)||0)},0):0,b=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.aprovados)||0)},0):0,y=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.emissoes)||0)},0):0,_=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.custoTotal)||0)},0):0,k=i?p.reduce((P,V)=>{var z;return P+(((z=V.kpis)==null?void 0:z.cartoes)||0)},0):0;const S=n.filtrosGlobais.segmentos.length>0||n.filtrosGlobais.parceiros.length>0||n.filtrosGlobais.jornadas.length>0||n.filtrosGlobais.canais.length>0;if(s&&m.length>0&&!S){const P=m.reduce((z,Z)=>z+(Number(Z.propostas_b2c_total)||0),0),V=m.reduce((z,Z)=>z+(Number(Z.emissoes_b2c_total)||0),0);x+=P,y+=V,k+=V,b+=V}const E=v>0?g/v*100:0,C=g>0?x/g*100:0,j=x>0?b/x*100:0,T=b>0?y/b*100:0,N=k>0?_/k:0,A=v>0?k/v*100:0;return{baseEnviada:v,baseEntregue:g,taxaEntrega:E,propostas:x,taxaPropostas:C,aprovados:b,taxaAprovacao:j,emissoes:y,taxaEmissao:T,convBase:A,cac:N,custoTotal:_}},l=w.useMemo(()=>o(e,r),[e,r,a,n.filtrosGlobais]),c=w.useMemo(()=>o(t,[]),[t,a,n.filtrosGlobais]),d=(p,m)=>m===0?0:(p-m)/m*100,f={baseEnviada:d(l.baseEnviada,c.baseEnviada),baseEntregue:d(l.baseEntregue,c.baseEntregue),taxaEntrega:d(l.taxaEntrega,c.taxaEntrega),propostas:d(l.propostas,c.propostas),taxaPropostas:d(l.taxaPropostas,c.taxaPropostas),aprovados:d(l.aprovados,c.aprovados),taxaAprovacao:d(l.taxaAprovacao,c.taxaAprovacao),emissoes:d(l.emissoes,c.emissoes),taxaEmissao:d(l.taxaEmissao,c.taxaEmissao),convBase:d(l.convBase,c.convBase),cac:d(l.cac,c.cac),custoTotal:d(l.custoTotal,c.custoTotal)},h=({label:p,value:m,variation:v,prefix:g="",suffix:x="",isCurrency:b=!1,highlight:y=!1,decimals:_=1})=>u.jsxs("div",{className:`
            relative rounded-lg p-2 flex flex-col justify-between min-h-[55px] transition-all group
            ${y?"bg-blue-900/20 border border-blue-500/30":"bg-slate-900 border border-slate-800 hover:border-slate-700"}
        `,children:[u.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:[p,u.jsx(sa,{size:12,className:"cursor-help text-slate-600 hover:text-blue-400 transition-colors",strokeWidth:2.5})]}),v!==void 0&&v!==0&&u.jsxs("span",{className:`text-[9px] font-bold ${v>0?"text-emerald-400":"text-red-400"}`,children:[v>0?"":""," ",Math.abs(v).toFixed(1),"%"]})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:`text-base font-bold leading-none ${y?"text-blue-100":"text-slate-100"}`,children:[g,b?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(m):new Intl.NumberFormat("pt-BR",{minimumFractionDigits:_,maximumFractionDigits:_}).format(m),x]}),x==="%"&&u.jsx("div",{className:"w-full h-0.5 bg-slate-700/50 rounded-full overflow-hidden mt-1",children:u.jsx("div",{className:`h-full rounded-full ${y?"bg-blue-400":"bg-slate-500"}`,style:{width:`${Math.min(m,100)}%`}})})]})]});return u.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[u.jsx(h,{label:"Base Enviada",value:l.baseEnviada,variation:f.baseEnviada,decimals:0}),u.jsx(h,{label:"Base Entregue",value:l.baseEntregue,variation:f.baseEntregue,decimals:0}),u.jsx(h,{label:"% Entrega",value:l.taxaEntrega,suffix:"%",variation:f.taxaEntrega}),u.jsx(h,{label:"Propostas",value:l.propostas,variation:f.propostas,decimals:0}),u.jsx(h,{label:"% Propostas",value:l.taxaPropostas,suffix:"%",variation:f.taxaPropostas}),u.jsx(h,{label:"Aprovados",value:l.aprovados,variation:f.aprovados,decimals:0}),u.jsx(h,{label:"% Aprovados",value:l.taxaAprovacao,suffix:"%",variation:f.taxaAprovacao}),u.jsx(h,{label:"Emisses",value:l.emissoes,variation:f.emissoes,decimals:0}),u.jsx(h,{label:"% Finalizao",value:l.taxaEmissao,suffix:"%",variation:f.taxaEmissao}),u.jsx(h,{label:"% Conv. Base",value:l.convBase,suffix:"%",variation:f.convBase,highlight:!0,decimals:3}),u.jsx(h,{label:"CAC",value:l.cac,prefix:"R$ ",isCurrency:!0,variation:f.cac}),u.jsx(h,{label:"Custo Total",value:l.custoTotal,prefix:"R$ ",isCurrency:!0,variation:f.custoTotal})]})},tNe=({activities:e,goals:t,currentMonth:r})=>{const{dailyAnalysis:n}=I9(),{isBUSelected:a}=Fh(),{viewSettings:s}=vt(),i=s.perspective,o=!a("B2B2C")&&!a("Plurix"),[l,c]=w.useState(null),d=x=>{if(x&&x.activePayload&&x.activePayload[0]){const b=x.activePayload[0].payload;b.data&&c(b.data)}},f=x=>{x&&x.payload&&x.payload.data&&c(x.payload.data)},h=w.useMemo(()=>l?e.filter(x=>(x.dataDisparo instanceof Date?be(x.dataDisparo,"yyyy-MM-dd"):typeof x.dataDisparo=="string"?x.dataDisparo.split("T")[0]:"")===l):[],[l,e]),p=w.useMemo(()=>{let x=0,b=0,y="Meta";const _=t.find(S=>S.mes===r);i==="b2c"||i==="total"&&!a("Plurix")&&!a("B2B2C")?(x=n.reduce((S,E)=>S+E.emissoes_b2c_total,0),b=(_==null?void 0:_.b2c_meta)||0,y="Meta (Total B2C)"):a("Plurix")?(x=e.reduce((S,E)=>{var C;return S+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.plurix_meta)||0,y="Meta (Plurix)"):a("B2B2C")?(x=e.reduce((S,E)=>{var C;return S+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.b2b2c_meta)||0,y="Meta (B2B2C)"):(x=e.reduce((S,E)=>{var C;return S+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.cartoes_meta)||0,y="Meta (CRM)");const k=b>0?x/b*100:0;return{totalCards:x,goalCards:b,goalProgress:k,label:y}},[e,t,r,n,a,i]),m=[{name:"Realizado",value:p.totalCards,color:"#3B82F6"},{name:p.label,value:p.goalCards,color:"#10B981"}],v=w.useMemo(()=>n.map(x=>{const[b,y,_]=x.data.split("-").map(Number),k=new Date(b,y-1,_);return{...x,displayDate:be(k,"dd/MM",{locale:ns}),outros_propostas:Math.max(0,x.propostas_b2c_total-x.propostas_crm),outros_emissoes:Math.max(0,x.emissoes_b2c_total-x.emissoes_crm),cac_medio:x.cac_medio}}),[n]),g=({active:x,payload:b,label:y})=>x&&b&&b.length?u.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-2 rounded text-[10px] text-slate-200",children:[u.jsx("p",{className:"font-bold mb-1 border-b border-slate-700 pb-1",children:y}),b.map((_,k)=>{const E=_.name.includes("CAC")?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.value):_.value.toLocaleString("pt-BR");return u.jsxs("p",{style:{color:_.color},children:[_.name,": ",E]},k)})]}):null;return u.jsxs("div",{className:`grid gap-4 mb-2 ${o?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col justify-between h-48 relative overflow-hidden group",children:[u.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("h3",{className:"text-slate-400 text-xs font-medium",children:"Cartes vs Meta"}),u.jsx("span",{title:"Visualizao do realizado contra a meta definida para o perodo",children:u.jsx(sa,{size:12,className:"text-slate-600 cursor-help"})})]}),u.jsxs("div",{className:"flex items-baseline gap-2 mt-0.5",children:[u.jsx("span",{className:"text-xl font-bold text-white",children:p.totalCards.toLocaleString()}),u.jsxs("span",{className:"text-xs text-slate-500",children:["/ ",p.goalCards.toLocaleString()]})]})]}),u.jsxs("div",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${p.goalProgress>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[p.goalProgress.toFixed(1),"%"]})]}),u.jsx("div",{className:"flex-1 w-full min-h-0 relative z-10",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{layout:"vertical",data:m,barSize:12,children:[u.jsx(Nt,{type:"number",hide:!0}),u.jsx(lt,{dataKey:"name",type:"category",width:50,tick:{fill:"#94a3b8",fontSize:10},axisLine:!1,tickLine:!1}),u.jsx(kt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f8fafc",fontSize:"10px"},itemStyle:{color:"#f8fafc"},cursor:{fill:"transparent"}}),u.jsx(br,{dataKey:"value",radius:[0,4,4,0],children:m.map((x,b)=>u.jsx(rs,{fill:x.color},`cell-${b}`))})]})})})]}),o&&u.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[u.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["CAC Evolution (R$) ",u.jsx("span",{title:"Evoluo do Custo de Aquisio de Carto ao longo do tempo",children:u.jsx(sa,{size:10,className:"text-slate-600"})})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:v,onClick:d,style:{cursor:"pointer"},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),u.jsx(lt,{stroke:"#475569",tick:{fontSize:9}}),u.jsx(kt,{content:u.jsx(g,{}),wrapperStyle:{pointerEvents:"none"}}),u.jsx(Nn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),u.jsx(Pr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6,onClick:f,style:{cursor:"pointer"}}})]})})})]})]}),o&&u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[u.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Propostas: CRM vs B2C ",u.jsx("span",{title:"Comparativo entre propostas geradas via CRM e outros canais B2C",children:u.jsx(sa,{size:10,className:"text-slate-600"})})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:v,onClick:d,style:{cursor:"pointer"},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),u.jsx(lt,{stroke:"#475569",tick:{fontSize:9}}),u.jsx(kt,{content:u.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),u.jsx(Nn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),u.jsx(br,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3B82F6"}),u.jsx(br,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),u.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-48 flex flex-col",children:[u.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Emisses: CRM vs B2C ",u.jsx("span",{title:"Comparativo entre cartes emitidos via CRM e outros canais B2C",children:u.jsx(sa,{size:10,className:"text-slate-600"})})]}),u.jsx("div",{className:"flex-1 w-full min-h-0",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:v,onClick:d,style:{cursor:"pointer"},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),u.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),u.jsx(lt,{stroke:"#475569",tick:{fontSize:9}}),u.jsx(kt,{content:u.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),u.jsx(Nn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),u.jsx(br,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#10B981"}),u.jsx(br,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]})]}),u.jsx(Rh,{date:l?new Date(l+"T12:00:00"):null,activities:h,onClose:()=>c(null)})]})},rNe=({data:e,onDayClick:t,onProgramDispatch:r})=>{const[n,a]=Wa.useState(new Date),{goals:s,b2cData:i}=vt(),{startDate:o,endDate:l,compareEnabled:c,setPeriod:d,setPreset:f}=mc();w.useEffect(()=>{f("thisMonth")},[]),w.useEffect(()=>{l&&be(l,"yyyy-MM")!==be(n,"yyyy-MM")&&a(l)},[l]);const h=x=>{a(x),d(zr(x),Mo(x),"custom")},p=w.useMemo(()=>Object.values(e).flat(),[e]),m=w.useMemo(()=>p.filter(x=>Io(x.dataDisparo,{start:o,end:l})),[p,o,l]),v=w.useMemo(()=>i.filter(x=>{const b=typeof x.data=="string"?new Date(x.data+"T12:00:00"):new Date(x.data);return Io(b,{start:o,end:l})}),[i,o,l]),g=w.useMemo(()=>{if(!c)return[];const x=Gu(l,o)+1,b=Ft(o,x),y=Ft(l,x);return p.filter(_=>Io(_.dataDisparo,{start:b,end:y}))},[p,o,l,c]);return u.jsxs("div",{className:"flex h-full gap-2 p-2 bg-[#0F172A] overflow-hidden",children:[u.jsxs("div",{className:"w-1/3 min-w-[320px] flex flex-col gap-2",children:[u.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm",children:u.jsx(QAe,{data:e,onDayClick:t,displayDate:n,onMonthChange:h})}),u.jsxs("button",{onClick:r,className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-slate-300 font-medium flex items-center justify-center gap-2 transition-colors text-sm",children:[u.jsx(bK,{size:16}),"Programar disparo"]})]}),u.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-1 gap-3",children:[u.jsx("div",{className:"flex items-center justify-between mb-1"}),u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex justify-between items-center",children:[u.jsx("span",{children:"KPIs"}),c&&u.jsx("span",{className:"text-[10px] text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full",children:"Comparando com perodo anterior"})]}),u.jsx(eNe,{activities:m,previousActivities:g,b2cData:v})]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex items-center gap-2",children:"Metas & Resultados"}),u.jsx(tNe,{activities:m,goals:s,currentMonth:be(o,"yyyy-MM")})]})]})]})},nNe=["E-mail","Push","SMS","WhatsApp"],aNe=["Classic"],sNe=["Aquisio","Meio_de_Funil"],aD={"E-mail":.001,Push:.001,SMS:.064,WhatsApp:.42},sD={Padro:0,Limite:0,Vibe:0,Anuidade:0,Bonificao:0},iNe={B2C:["Leads_Parceiros","Base_Proprietaria","Bases_Bureaus","Cartonistas","CRM"],B2B2C:["Cartonistas","CRM","Funcionrios"],Plurix:["Cartonistas","CRM","Funcionrios"],"Bem Barato":["C_Level","Negados","Pre_Churn"]},oNe={Cartonistas:{parceiros:["Serasa","Bom_Pra_Credito","Proprietaria"]},Leads_Parceiros:{parceiros:["Serasa","Acordo Certo"]},CRM:{subgrupos:["Ativo","Inativo","Leais","Frequentes","Novos","Administrativos"]},Funcionrios:{subgrupos:["Novos","Aprovados_nao_convertidos"]},C_Level:{subgrupos:["Negados","Instabilidade"]}},iD={Padro:["Em dobro","Upgrade","Uber","Black Friday"],Vibe:[],Limite:[],Anuidade:["Grtis 1 ano","Gratis_para_sempre","Test_Drive_6_meses","Test_Drive_3_meses"],Bonificao:[]},lNe=e=>{if(!e)return"";const t=new Date(e+"T00:00:00"),n=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"][t.getMonth()],a=t.getFullYear().toString().slice(2);return`${n}/${a}`},cNe=(e,t,r)=>!e||!t?1:r.filter(a=>a.jornada===e&&a["Data de Disparo"]===t).length+1,uNe=(e,t,r,n,a)=>{if(!e||!t||!r||!n||!a)return"";const s=e.toUpperCase(),i=t.replace(/\s/g,"_").toUpperCase(),o=r.replace(/\s/g,"_").toUpperCase().substring(0,20),l=a.replace("/","").toUpperCase();return`${s}_${i}_${o}_${n}_${l}`},dNe=(e,t)=>e*t,fNe=(e,t)=>e*t,hNe=(e,t)=>e+t,Cm={BU:15,Segmento:15,Canal:12,Jornada:10,Perfil_Credito:10,Oferta:8,Promocional:5,Parceiro:5,Subgrupo:5,Etapa_Aquisicao:5,Produto:5,Temporal:5},z9={temporalWindow:90,minSampleSize:5,temporalDecayFactor:.5,enableCausalAnalysis:!0},Pf={volume:"Base Total",taxaConversao:"Taxa de Converso",baseAcionavel:"Base Acionvel",cac:"CAC",taxaEntrega:"Taxa de Entrega",taxaAbertura:"Taxa de Abertura",propostas:"Propostas",aprovados:"Aprovados",cartoesGerados:"Cartes Gerados"},pNe={BU:"BU",Segmento:"Segmento",Canal:"Canal",Jornada:"jornada",Perfil_Credito:"Perfil de Crdito",Oferta:"Oferta",Promocional:"Promocional",Parceiro:"Parceiro",Subgrupo:"Subgrupos",Etapa_Aquisicao:"Etapa de aquisio",Produto:"Produto",Temporal:"Data de Disparo"},U9={"E-mail":.001,Push:.001,SMS:.064,WhatsApp:.42},mNe={Padro:0,Limite:1,Vibe:2,Anuidade:76.5};function vNe(e,t=z9){const r=new Date,n=new Date;return n.setDate(n.getDate()-t.temporalWindow),e.map(a=>gNe(a,r,t)).filter(a=>a!==null).filter(a=>a.dispatchDate>=n)}function gNe(e,t,r){const n=e["Data de Disparo"];if(!n)return null;const a=V9(n);if(!a||isNaN(a.getTime()))return null;const s=xNe(e),i=yNe(e),o=bNe(a,t,r.temporalDecayFactor,r.temporalWindow);return{id:e.id||e["Activity name / Taxonomia"],raw:e,features:s,metrics:i,temporalWeight:o,dispatchDate:a}}function xNe(e){const t={};["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Promocional","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"].forEach(s=>{const i=pNe[s],o=e[i];o!=null&&o!==""&&(t[s]=wNe(String(o)))});const n=V9(e["Data de Disparo"]);n&&(t.DayOfWeek=n.getDay(),t.Month=n.getMonth()+1,t.Quarter=Math.floor(n.getMonth()/3)+1);const a=e["Horrio de Disparo"];if(a){const s=parseInt(a.split(":")[0],10);isNaN(s)||(t.Hour=s,t.TimeSlot=_Ne(s))}return t}function yNe(e){const t={};Object.keys(Pf).forEach(a=>{const s=Pf[a],i=e[s];t[a]=J1(i)});const n=t.volume||0;if(t.baseAcionavel,!t.taxaConversao&&t.cartoesGerados&&n&&(t.taxaConversao=t.cartoesGerados/n*100),!t.cac&&t.cartoesGerados){const a=J1(e["Custo Total da Oferta"]),s=J1(e["Custo total canal"]),i=a+s;i>0&&(t.cac=i/t.cartoesGerados)}if(!t.baseAcionavel&&n){const a=t.taxaEntrega||.78;t.baseAcionavel=n*a}return t}function bNe(e,t,r,n){const a=Math.floor((t.getTime()-e.getTime())/864e5);if(a<0)return 1;if(a>n)return 0;const s=-Math.log(r)/n;return Math.exp(-s*a)}function V9(e){if(!e)return null;let t=new Date(e);if(!isNaN(t.getTime()))return t;const r=e.split("/");return r.length===3&&(t=new Date(parseInt(r[2],10),parseInt(r[1],10)-1,parseInt(r[0],10)),!isNaN(t.getTime()))?t:null}function J1(e){if(typeof e=="number")return e;if(!e)return 0;let t=String(e).replace(/[R$\s%]/g,"").replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r}function wNe(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function _Ne(e){return e>=6&&e<12?"manha":e>=12&&e<18?"tarde":"noite"}function zl(e,t){const r=new Map;return e.forEach(n=>{const a=String(n.features[t]||"undefined"),s=r.get(a)||[];s.push(n),r.set(a,s)}),r}function Es(e,t){const r=e.map(m=>({value:m.metrics[t],weight:m.temporalWeight})).filter(m=>m.value>0);if(r.length===0)return{mean:0,median:0,stdDev:0,min:0,max:0,count:0,weightedMean:0};const n=[...r].sort((m,v)=>m.value-v.value),s=r.reduce((m,v)=>m+v.value,0)/r.length,i=Math.floor(n.length/2),o=n.length%2===0?(n[i-1].value+n[i].value)/2:n[i].value,c=r.map(m=>Math.pow(m.value-s,2)).reduce((m,v)=>m+v,0)/r.length,d=Math.sqrt(c),f=r.reduce((m,v)=>m+v.value*v.weight,0),h=r.reduce((m,v)=>m+v.weight,0),p=h>0?f/h:s;return{mean:s,median:o,stdDev:d,min:n[0].value,max:n[n.length-1].value,count:r.length,weightedMean:p}}function oD(e,t){const r={};return e.forEach(n=>{const a=String(n.features[t]||"undefined");r[a]=(r[a]||0)+1}),r}function Q1(e,t,r=Cm,n=100){return e.map(s=>kNe(s,t,r)).filter(s=>s.score>0).sort((s,i)=>i.score-s.score).slice(0,n)}function kNe(e,t,r){const n={},a=[];let s=0,i=0;[{dimension:"BU",formField:"bu",featureKey:"BU"},{dimension:"Segmento",formField:"segmento",featureKey:"Segmento"},{dimension:"Canal",formField:"canal",featureKey:"Canal"},{dimension:"Jornada",formField:"jornada",featureKey:"Jornada"},{dimension:"Perfil_Credito",formField:"perfilCredito",featureKey:"Perfil_Credito"},{dimension:"Oferta",formField:"oferta",featureKey:"Oferta"},{dimension:"Promocional",formField:"promocional",featureKey:"Promocional"},{dimension:"Parceiro",formField:"parceiro",featureKey:"Parceiro"},{dimension:"Subgrupo",formField:"subgrupo",featureKey:"Subgrupo"},{dimension:"Etapa_Aquisicao",formField:"etapaAquisicao",featureKey:"Etapa_Aquisicao"},{dimension:"Produto",formField:"produto",featureKey:"Produto"}].forEach(({dimension:h,formField:p,featureKey:m})=>{const v=t[p],g=e.features[m],x=r[h];if(v&&g){const b=SNe(String(v),String(g));n[h]=b,s+=b*x,i+=x,b===1&&a.push(h)}else v&&(n[h]=0,i+=x)});const l=r.Temporal,c=e.temporalWeight;n.Temporal=c,s+=c*l,i+=l;const d=i>0?s/i*100:0,f=jNe(a);return{activity:e,score:Math.round(d*100)/100,level:f,matchedDimensions:a,dimensionScores:n}}function SNe(e,t){if(!e||!t)return 0;const r=lD(e),n=lD(t);return!r||!n?0:r===n?1:r.includes(n)||n.includes(r)?.7:ENe(r,n)>.8?.5:0}function lD(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").trim()}function ENe(e,t){if(e.length===0&&t.length===0)return 1;if(e.length===0||t.length===0)return 0;const r=Math.max(e.length,t.length);return 1-CNe(e,t)/r}function CNe(e,t){const r=e.length,n=t.length;if(r===0)return n;if(n===0)return r;const a=Array(r+1).fill(null).map(()=>Array(n+1).fill(0));for(let s=0;s<=r;s++)a[s][0]=s;for(let s=0;s<=n;s++)a[0][s]=s;for(let s=1;s<=r;s++)for(let i=1;i<=n;i++){const o=e[s-1]===t[i-1]?0:1;a[s][i]=Math.min(a[s-1][i]+1,a[s][i-1]+1,a[s-1][i-1]+o)}return a[r][n]}function jNe(e){const t=n=>n.every(a=>e.includes(a));return t(["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"])?"exact":t(["BU","Segmento","Canal","Perfil_Credito"])?"high":t(["BU","Segmento"])?"medium":e.includes("BU")?"low":"fallback"}function TNe(e){const t={exact:[],high:[],medium:[],low:[],fallback:[]};return e.forEach(r=>{t[r.level].push(r)}),t}function cD(e,t=5){const r=TNe(e),n=["exact","high","medium","low","fallback"];for(const a of n)if(r[a].length>=t)return{matches:r[a],level:a};return{matches:e.length>0?e:[],level:"fallback"}}function ANe(e,t){if(e.length===0)return 0;const n={exact:95,high:80,medium:65,low:45,fallback:25}[t],a=Math.min(15,Math.log10(e.length+1)*10),i=e.reduce((o,l)=>o+l.score,0)/e.length/100*10;return Math.min(100,Math.round(n+a+i))}function W9(e,t,r){if(e.length<10)return r.map((i,o)=>({feature:i,importance:0,rank:o+1}));const n=Es(e,t);if(n.weightedMean===0)return r.map((i,o)=>({feature:i,importance:0,rank:o+1}));const s=[];return r.forEach(i=>{const o=zl(e,i);let l=0,c=0;o.forEach(p=>{if(p.length>1){const m=Es(p,t);l+=m.stdDev*m.stdDev*p.length,c+=p.length}});const d=c>0?l/c:0,f=n.stdDev*n.stdDev,h=f>0?(f-d)/f*100:0;s.push({feature:i,importance:Math.max(0,Math.min(100,h))})}),s.sort((i,o)=>o.importance-i.importance),s.map((i,o)=>({feature:i.feature,importance:Math.round(i.importance*100)/100,rank:o+1}))}function NNe(e,t,r,n){const a=[];return zl(e,t),n.forEach(s=>{if(s===t)return;const i=zl(e,s);let o=!1;if(i.forEach((f,h)=>{const p=uD(f,t),m=uD(e,t);INe(p,m)>.3&&(o=!0)}),!o)return;const l=zl(e,s);let c=!1;const d=[];if(l.forEach(f=>{if(f.length>=3){const h=Es(f,r);d.push(h.weightedMean)}}),d.length>=2){const f=RNe(d),p=Es(e,r).weightedMean;p>0&&f/(p*p)>.1&&(c=!0)}o&&c&&a.push(s)}),a}function PNe(e,t,r,n,a,s){const i=e.filter(p=>pi(String(p.features[t]||""))===pi(r)),o=e.filter(p=>pi(String(p.features[t]||""))===pi(n));if(i.length<3||o.length<3)return null;const l=Es(i,a),c=Es(o,a);let f=l.weightedMean>0?(c.weightedMean-l.weightedMean)/l.weightedMean*100:0,h=.5;if(s.length>0){const p=[],m=s[0];zl(e,m).forEach(g=>{const x=g.filter(y=>pi(String(y.features[t]||""))===pi(r)),b=g.filter(y=>pi(String(y.features[t]||""))===pi(n));if(x.length>=2&&b.length>=2){const y=Es(x,a),_=Es(b,a);if(y.weightedMean>0){const k=(_.weightedMean-y.weightedMean)/y.weightedMean*100;p.push(k)}}}),p.length>=2&&(f=p.reduce((g,x)=>g+x,0)/p.length,h=.7+.3*Math.min(1,p.length/5))}else{const p=i.length+o.length;h=Math.min(.9,.4+p/100*.5)}return{fromFeature:t,fromValue:r,toValue:n,expectedChange:Math.round(f*100)/100,confidence:Math.round(h*100)/100,sampleSizeFrom:i.length,sampleSizeTo:o.length}}function ONe(e,t,r){const n=[];return W9(e,t,["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Parceiro","Etapa_Aquisicao"]).filter(o=>o.importance>10).slice(0,5).forEach(({feature:o,importance:l})=>{const c=r[o.toLowerCase()]||r[o]||"";if(!c)return;const d=zl(e,o),f=d.get(pi(c))||d.get(c);if(!f||f.length<3)return;const h=Es(e,t),p=Es(f,t);if(h.weightedMean===0)return;const m=(p.weightedMean-h.weightedMean)/h.weightedMean*100;Math.abs(m)>5&&n.push({feature:o,value:c,impact:Math.round(m*10)/10,direction:m>0?"positive":"negative",explanation:DNe(o,c,m,t),shapleyValue:l/100,isConfounder:!1})}),n.sort((o,l)=>Math.abs(l.impact)-Math.abs(o.impact)),n.slice(0,5)}function DNe(e,t,r,n){const s={volume:"volume",taxaConversao:"taxa de conversao",baseAcionavel:"base acionavel",cac:"CAC",taxaEntrega:"taxa de entrega",taxaAbertura:"taxa de abertura",propostas:"propostas",aprovados:"aprovados",cartoesGerados:"cartoes gerados"}[n]||n,i=r>0?"aumenta":"diminui",o=Math.abs(r).toFixed(1);return`${e} "${t}" ${i} ${s} em ${o}%`}function MNe(e,t,r){var c;const n=["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Promocional","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"],a=W9(e,t,n),s={};a.forEach(({feature:d,importance:f})=>{s[d]=f/100});const i=(c=a[0])==null?void 0:c.feature,o=i?NNe(e,i,t,n.filter(d=>d!==i)):[],l=[];if(i){const d=r[i.toLowerCase()]||r[i];zl(e,i).forEach((h,p)=>{if(p!==d&&p!=="undefined"){const m=PNe(e,i,d||"",p,t,o);m&&Math.abs(m.expectedChange)>5&&l.push(m)}})}return l.sort((d,f)=>Math.abs(f.expectedChange)-Math.abs(d.expectedChange)),{targetMetric:t,shapleyValues:s,confounders:o,interventionEffects:l.slice(0,5),featureImportance:a}}function pi(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function uD(e,t){const r={};e.forEach(a=>{const s=String(a.features[t]||"undefined");r[s]=(r[s]||0)+1});const n=e.length;return Object.keys(r).forEach(a=>{r[a]=r[a]/n}),r}function INe(e,t){const r=new Set([...Object.keys(e),...Object.keys(t)]);let n=0;return r.forEach(a=>{const s=e[a]||0,i=t[a]||0;n+=Math.abs(s-i)}),n/2}function RNe(e){if(e.length===0)return 0;const t=e.reduce((n,a)=>n+a,0)/e.length;return e.map(n=>Math.pow(n-t,2)).reduce((n,a)=>n+a,0)/e.length}function FNe(e,t,r,n,a){const s=LNe(t,r,a),i=$Ne(e,t,r,s),o=BNe(r),l=zNe(t),c=UNe(n);return{summary:i,causalFactors:n,correlationFactors:c,timeDecay:l,sampleSize:t,dataQuality:s,matchLevel:r,matchPercentage:o}}function LNe(e,t,r){let n=0;if(e>=50?n+=3:e>=20?n+=2:e>=5&&(n+=1),n+={exact:3,high:2,medium:1,low:0,fallback:0}[t],r.mean>0){const s=r.stdDev/r.mean;s<.3?n+=2:s<.5&&(n+=1)}return n>=6?"high":n>=3?"medium":"low"}function $Ne(e,t,r,n){const s={volume:"Volume de Base",taxaConversao:"Taxa de Conversao",baseAcionavel:"Base Acionavel",cac:"CAC",taxaEntrega:"Taxa de Entrega",taxaAbertura:"Taxa de Abertura",propostas:"Propostas",aprovados:"Aprovados",cartoesGerados:"Cartoes Gerados"}[e];if(t===0)return`Sem dados historicos para projetar ${s}.`;const i={exact:"campanhas identicas",high:"campanhas muito similares",medium:"campanhas similares",low:"campanhas com mesma BU",fallback:"dados gerais"},o={high:"Alta confianca",medium:"Confianca moderada",low:"Baixa confianca"},l=i[r];return`${o[n]}: baseado em ${t} ${l}.`}function BNe(e){return{exact:100,high:80,medium:60,low:40,fallback:20}[e]}function zNe(e){return e>=50?"Peso maior para ultimos 30 dias, decaimento exponencial em 90 dias.":e>=20?"Peso para dados recentes, janela de 90 dias.":e>0?"Todos os dados disponiveis foram considerados.":"N/A"}function UNe(e){return e.slice(0,3).map(t=>({feature:t.feature,correlation:t.impact>0?.7:-.7,pValue:t.impact>20?.01:.05}))}function H9(e,t,r,n,a){const s=t.map(v=>v.activity);if(s.length===0)return console.warn(`[PredictionEngine] ${e}: sem matches disponveis`),YNe(e);const i=Es(s,e),o=WNe(e,t);let l=HNe(e,i,n,o);const c=GNe(i,l),d=ANe(t,r),f=ZNe(n),h=ONe(a,e,f),p=XNe(t,e),m=FNe(e,t.length,r,h,i);return console.log(`   ${e}:`,{matchLevel:r,matchCount:t.length,method:o,stats:{mean:i.mean.toFixed(2),median:i.median.toFixed(2),weightedMean:i.weightedMean.toFixed(2),stdDev:i.stdDev.toFixed(2)},projectedValue:Qp(l,e),confidence:d}),{field:e,projectedValue:Qp(l,e),confidence:d,interval:{min:Qp(c.min,e),max:Qp(c.max,e)},method:o,explanation:m,similarCampaigns:p,metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}function VNe(e,t,r,n){const a=["taxaConversao","baseAcionavel","cac","taxaEntrega","taxaAbertura","propostas","aprovados","cartoesGerados"],s={},i=r.baseVolume||0;return s.volume={field:"volume",projectedValue:i,confidence:i>0?100:0,method:"fallback",interval:{min:i,max:i},explanation:{summary:i>0?"Volume definido pelo usurio":"Nenhum volume informado",causalFactors:[],correlationFactors:[],timeDecay:"N/A",sampleSize:0,dataQuality:i>0?"high":"low",matchLevel:"fallback",matchPercentage:0},similarCampaigns:[],metadata:{computedAt:new Date().toISOString(),version:"2.0"}},a.forEach(o=>{s[o]=H9(o,e,t,r,n)}),qNe(s,r),s}function WNe(e,t,r){return["taxaConversao","cac","taxaAbertura"].includes(e)&&t.length>=30?"causal":t.some(a=>a.level==="exact"||a.level==="high")?"correlation":t.length<10?"fallback":"frequency"}function HNe(e,t,r,n){let a=t.weightedMean;switch(n){case"causal":a=t.median;break;case"correlation":a=t.weightedMean;break;case"frequency":a=t.median;break;case"fallback":a=t.mean*.8;break}return a=KNe(e,a,r),Math.max(0,a)}function KNe(e,t,r,n){switch(e){case"volume":return r.baseVolume&&r.baseVolume>0?r.baseVolume:t;case"baseAcionavel":return(r.baseVolume||t)*.78;case"cac":if(t===0&&r.canal){const o=U9[r.canal]||.01,l=r.baseVolume||1e4,c=l*.02;return o*l/Math.max(1,c)}return t;case"taxaEntrega":return Math.min(100,Math.max(0,t));case"taxaAbertura":let i=100;return r.canal==="E-mail"&&(i=50),r.canal==="SMS"&&(i=80),r.canal==="WhatsApp"&&(i=90),Math.min(i,Math.max(0,t));case"taxaConversao":return Math.min(20,Math.max(0,t));default:return t}}function GNe(e,t){const r=e.stdDev*1.96,n=r>0?r:t*.2;return{min:Math.max(0,t-n),max:t+n}}function qNe(e,t){if(!e.volume||!e.taxaConversao||!e.taxaEntrega||!e.baseAcionavel||!e.propostas||!e.aprovados||!e.cartoesGerados||!e.cac){console.warn("[applyFunnelCalculations] Projees incompletas, pulando clculos");return}const r=t.baseVolume||0;if(r<=0)return;const n=(e.taxaEntrega.projectedValue||78)/100,a=(e.taxaConversao.projectedValue||0)/100,s=e.propostas.projectedValue||0,i=e.aprovados.projectedValue||0,o=s>0?Math.min(1,i/s):.65,l=e.cartoesGerados.projectedValue||0,c=i>0?Math.min(1,l/i):.85,d=Math.round(r*n);e.baseAcionavel.projectedValue=d;const f=Math.round(r*a);e.propostas.projectedValue=f;const h=Math.round(f*o);e.aprovados.projectedValue=h;const p=Math.round(h*c);if(e.cartoesGerados.projectedValue=p,t.canal){const m=U9[t.canal]||.01,v=t.oferta&&mNe[t.oferta]||0,g=r*(m+v);p>0?e.cac.projectedValue=Math.round(g/p*100)/100:g>0&&(e.cac.projectedValue=f>0?Math.round(g/f*100)/100:g)}console.log("%c[Funnel IA] Taxas projetadas aplicadas ao volume","color: #22C55E; font-weight: bold;",{volumeUsuario:r,taxas:{entrega:(n*100).toFixed(1)+"%",conversao:(a*100).toFixed(2)+"% (IA)",aprovacao:(o*100).toFixed(1)+"% (derivada)",finalizacao:(c*100).toFixed(1)+"% (derivada)"},funil:{baseAcionavel:d,propostas:f,aprovados:h,cartoes:p},cac:e.cac.projectedValue})}function YNe(e){return{field:e,projectedValue:0,confidence:0,interval:{min:0,max:0},method:"fallback",explanation:{summary:"Sem dados historicos suficientes para projecao",causalFactors:[],correlationFactors:[],timeDecay:"N/A",sampleSize:0,dataQuality:"low",matchLevel:"fallback",matchPercentage:0},similarCampaigns:[],metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}function XNe(e,t){return e.slice(0,5).map(r=>({id:r.activity.id,activityName:r.activity.raw["Activity name / Taxonomia"]||r.activity.id,dataDisparo:r.activity.dispatchDate.toISOString().split("T")[0],metricValue:r.activity.metrics[t],similarityScore:r.score}))}function ZNe(e){const t={};return e.bu&&(t.BU=e.bu),e.segmento&&(t.Segmento=e.segmento),e.canal&&(t.Canal=e.canal),e.jornada&&(t.Jornada=e.jornada),e.perfilCredito&&(t.Perfil_Credito=e.perfilCredito),e.oferta&&(t.Oferta=e.oferta),e.parceiro&&(t.Parceiro=e.parceiro),e.etapaAquisicao&&(t.Etapa_Aquisicao=e.etapaAquisicao),t}function Qp(e,t){return["volume","baseAcionavel","propostas","aprovados","cartoesGerados"].includes(t)?Math.round(e):Math.round(e*100)/100}class JNe{constructor(t={}){os(this,"processedActivities",[]);os(this,"rawActivities",[]);os(this,"config");os(this,"isInitialized",!1);this.config={...z9,...t}}initialize(t){console.log(`[AIOrchestrator] Inicializando com ${t.length} atividades...`),this.rawActivities=t,this.processedActivities=vNe(t,this.config),console.log(`[AIOrchestrator] ${this.processedActivities.length} atividades processadas na janela de ${this.config.temporalWindow} dias.`),this.isInitialized=!0}isReady(){return this.isInitialized&&this.processedActivities.length>0}projectField(t,r){if(!this.isReady())return console.warn("[AIOrchestrator] Orquestrador nao inicializado."),this.createEmptyProjection(t);const n={...Cm,...this.config.similarityWeights},a=Q1(this.processedActivities,r,n),{matches:s,level:i}=cD(a,this.config.minSampleSize);return H9(t,s,i,r,this.processedActivities)}projectAllFields(t){if(!this.isReady())return console.warn("[AIOrchestrator] Orquestrador nao inicializado."),this.createEmptyAllProjections();const r={...Cm,...this.config.similarityWeights},n=Q1(this.processedActivities,t,r),{matches:a,level:s}=cD(n,this.config.minSampleSize),i={exact:0,high:0,medium:0,low:0,fallback:0};n.forEach(d=>{i[d.level]++}),console.log("%c[AIOrchestrator] Matching Results","color: #3B82F6; font-weight: bold;",{totalMatches:n.length,selectedLevel:s,selectedMatches:a.length,byLevel:i,topMatches:a.slice(0,3).map(d=>({score:d.score,level:d.level,matched:d.matchedDimensions.join(", ")}))});const o=VNe(a,s,t,this.processedActivities),l=Object.values(o).map(d=>d.confidence),c=l.length>0?Math.round(l.reduce((d,f)=>d+f,0)/l.length):0;return{projections:o,overallConfidence:c,totalSampleSize:a.length,computedAt:new Date().toISOString()}}suggestFieldValue(t,r){if(!this.isReady())return[];const n=[],a=Q1(this.processedActivities,r,Cm,50);if(a.length===0)return n;const i={jornada:"Jornada",canal:"Canal",oferta:"Oferta",promocional:"Promocional",parceiro:"Parceiro",subgrupo:"Subgrupo",etapaAquisicao:"Etapa_Aquisicao",perfilCredito:"Perfil_Credito",produto:"Produto"}[t];if(!i)return n;const o={};a.forEach(d=>{const f=d.activity.features[i];f&&typeof f=="string"&&(o[f]=(o[f]||0)+d.score)});const l=Object.entries(o).sort((d,f)=>f[1]-d[1]).slice(0,5),c=l.reduce((d,[,f])=>d+f,0);return l.forEach(([d,f])=>{n.push({value:d,confidence:Math.round(f/c*100),source:`${a.length} campanhas similares`})}),n}getCausalAnalysis(t,r){if(!this.isReady())return{targetMetric:t,shapleyValues:{},confounders:[],interventionEffects:[],featureImportance:[]};const n={};return r.bu&&(n.BU=r.bu),r.segmento&&(n.Segmento=r.segmento),r.canal&&(n.Canal=r.canal),r.jornada&&(n.Jornada=r.jornada),r.perfilCredito&&(n.Perfil_Credito=r.perfilCredito),r.oferta&&(n.Oferta=r.oferta),r.parceiro&&(n.Parceiro=r.parceiro),r.etapaAquisicao&&(n.Etapa_Aquisicao=r.etapaAquisicao),MNe(this.processedActivities,t,n)}getDatasetStats(){if(!this.isReady())return{totalActivities:0,dateRange:{from:new Date,to:new Date},buDistribution:{},segmentoDistribution:{}};const r=this.processedActivities.map(n=>n.dispatchDate).sort((n,a)=>n.getTime()-a.getTime());return{totalActivities:this.processedActivities.length,dateRange:{from:r[0]||new Date,to:r[r.length-1]||new Date},buDistribution:oD(this.processedActivities,"BU"),segmentoDistribution:oD(this.processedActivities,"Segmento")}}createEmptyProjection(t){return{field:t,projectedValue:0,confidence:0,interval:{min:0,max:0},method:"fallback",explanation:{summary:"Orquestrador nao inicializado ou sem dados.",causalFactors:[],correlationFactors:[],timeDecay:"N/A",sampleSize:0,dataQuality:"low",matchLevel:"fallback",matchPercentage:0},similarCampaigns:[],metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}createEmptyAllProjections(){const t=["volume","taxaConversao","baseAcionavel","cac","taxaEntrega","taxaAbertura","propostas","aprovados","cartoesGerados"],r={};return t.forEach(n=>{r[n]=this.createEmptyProjection(n)}),{projections:r,overallConfidence:0,totalSampleSize:0,computedAt:new Date().toISOString()}}}let eb=null;function QNe(e){return eb||(eb=new JNe(e)),eb}function K9(e){return!!(e.bu&&e.segmento&&e.canal&&e.baseVolume&&Number(e.baseVolume)>0)}function ePe(e){if(!K9(e))return"insufficient";const r=[e.oferta,e.jornada,e.perfilCredito,e.parceiro,e.produto].filter(Boolean).length;return r>=3?"excellent":r>=1?"good":"partial"}const G9=w.createContext(null),wd=()=>{const e=w.useContext(G9);if(!e)throw new Error("useDispatchForm deve ser usado dentro de DispatchFormProvider");return e},dD={bu:"",segmento:"",jornada:"",activityName:"",canal:"",parceiro:"",subgrupo:"",dataInicio:"",dataFim:"",horarioDisparo:"10:00",safra:"",ordemDisparo:1,produto:"Classic",perfilCredito:"",etapaAquisicao:"",oferta:"",promocional:"",oferta2:"",promocional2:"",baseVolume:"",custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:"Rascunho"},tPe=({children:e,editingActivity:t=null,activeSegmento:r})=>{const[n,a]=w.useState(dD),[s,i]=w.useState({}),[o,l]=w.useState(!1),[c,d]=w.useState({}),[f,h]=w.useState("insufficient"),p=vt(y=>y.activities),m=vt(y=>y.frameworkData)||[],v=w.useMemo(()=>{const y=(R,B)=>{if(B&&typeof B=="string"&&B.trim()){const H=B.trim();R.set(H,(R.get(H)||0)+1)}},_=R=>Array.from(R.entries()).map(([B,H])=>({value:B,count:H,isSmart:!1})).sort((B,H)=>H.count-B.count),k=R=>R.raw||R,S=p,E=n.bu?S.filter(R=>k(R).BU===n.bu):S,C=n.segmento?E.filter(R=>k(R).Segmento===n.segmento):E,j=n.canal?C.filter(R=>{const B=k(R);return(B.Canal||B.canal)===n.canal}):C,T=n.oferta?C.filter(R=>k(R).Oferta===n.oferta):C,N=new Map;E.forEach(R=>y(N,k(R).Segmento));const A=new Map;C.forEach(R=>{const B=k(R);y(A,B.Jornada||B.jornada)});const P=new Map;C.forEach(R=>{const B=k(R);y(P,B.Canal||B.canal)});const V=new Map;j.forEach(R=>y(V,k(R).Parceiro));const z=new Map;C.forEach(R=>y(z,k(R).Subgrupos));const Z=new Map;C.forEach(R=>y(Z,k(R).Produto));const G=new Map;C.forEach(R=>y(G,k(R)["Perfil de Crdito"]));const Y=new Map;C.forEach(R=>y(Y,k(R)["Etapa de aquisio"]));const I=new Map;C.forEach(R=>y(I,k(R).Oferta));const te=new Map;T.forEach(R=>y(te,k(R).Promocional));const J=new Map;T.forEach(R=>y(J,k(R)["Oferta 2"]));const D=new Map;return T.forEach(R=>y(D,k(R)["Promocional 2"])),console.log("%c[Dynamic Options] Cascading Filter Stats","color: #8B5CF6; font-weight: bold;",{totalActivities:S.length,afterBU:E.length,afterCampanha:C.length,afterCanal:j.length,afterOferta:T.length,filters:{bu:n.bu||"(all)",campanha:n.segmento||"(all)",canal:n.canal||"(all)",oferta:n.oferta||"(all)"}}),{segmentos:_(N),perfisCredito:_(G),ofertas:_(I),ofertas2:_(J),promocionais:_(te),promocionais2:_(D),jornadas:_(A),parceiros:_(V),subgrupos:_(z),etapasAquisicao:_(Y),produtos:_(Z),canais:_(P)}},[p,n.bu,n.segmento,n.canal,n.oferta]),g=w.useMemo(()=>{const y=(N,A)=>{if(!N||N.length===0)return A;const P=new Map(A.map(Y=>[Y.value,Y.count])),V=N.map(Y=>({value:Y,count:P.get(Y)||0,isSmart:!0})),z=new Set(N),Z=A.filter(Y=>!z.has(Y.value));return[...V,...Z].filter(Y=>Y.count>0).sort((Y,I)=>I.count-Y.count)},_=n.bu?iNe[n.bu]:[],k=oNe[n.segmento]||{},S=k.parceiros||[],E=k.subgrupos||[],C=iD[n.oferta]||[],j=iD[n.oferta2]||[],T=Array.from(new Set(m.map(N=>N.Jornada||N.jornada).filter(Boolean)));return{...v,segmentos:y(_,v.segmentos),parceiros:y(S,v.parceiros),subgrupos:y(E,v.subgrupos),promocionais:y(C,v.promocionais),promocionais2:y(j,v.promocionais2),jornadas:y(T,v.jornadas)}},[v,n.bu,n.segmento,n.oferta,n.oferta2,m]),x=w.useCallback((y,_)=>{a(k=>({...k,[y]:_})),s[y]&&i(k=>{const S={...k};return delete S[y],S})},[s]);w.useEffect(()=>{t?a({bu:t.BU,segmento:t.Segmento,jornada:t.jornada,activityName:t["Activity name / Taxonomia"],canal:t.Canal||"",parceiro:t.Parceiro||"",subgrupo:t.Subgrupos||"",dataInicio:t["Data de Disparo"],dataFim:t["Data Fim"],horarioDisparo:t["Horrio de Disparo"]||"10:00",safra:t.Safra||"",ordemDisparo:t["Ordem de disparo"]||1,produto:t.Produto||"Classic",perfilCredito:t["Perfil de Crdito"]||"",etapaAquisicao:t["Etapa de aquisio"]||"",oferta:t.Oferta||"",promocional:t.Promocional||"",oferta2:t["Oferta 2"]||"",promocional2:t["Promocional 2"]||"",baseVolume:String(t["Base Total"]||""),custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:t.status}):(a({...dD,segmento:r}),i({}))},[t,r]),w.useEffect(()=>{if(n.dataInicio&&!t){const y=new Date(n.dataInicio);y.setDate(y.getDate()+2);const _=y.toISOString().split("T")[0];a(k=>({...k,dataFim:_}))}},[n.dataInicio,t]),w.useEffect(()=>{if(n.dataInicio){const y=lNe(n.dataInicio);a(_=>({..._,safra:y}))}},[n.dataInicio]),w.useEffect(()=>{if(n.jornada&&n.dataInicio&&!t){const y=cNe(n.jornada,n.dataInicio,p);a(_=>({..._,ordemDisparo:y}))}},[n.jornada,n.dataInicio,p,t]),w.useEffect(()=>{if(n.bu&&n.segmento&&n.jornada&&n.safra&&n.ordemDisparo&&!t){const y=typeof n.ordemDisparo=="number"?n.ordemDisparo:1,_=uNe(n.bu,n.segmento,n.jornada,y,n.safra);_&&!n.activityName&&a(k=>({...k,activityName:_}))}},[n.bu,n.segmento,n.jornada,n.safra,n.ordemDisparo,t,n.activityName]),w.useEffect(()=>{n.canal&&aD[n.canal]&&a(y=>({...y,custoUnitarioCanal:String(aD[n.canal].toFixed(3))}))},[n.canal]),w.useEffect(()=>{n.oferta&&sD[n.oferta]&&a(y=>({...y,custoUnitarioOferta:String(sD[n.oferta].toFixed(2))}))},[n.oferta]),w.useEffect(()=>{const y=Number(n.baseVolume)||0,_=Number(n.custoUnitarioOferta)||0,k=Number(n.custoUnitarioCanal)||0;if(y>0){const S=dNe(_,y),E=fNe(k,y),C=hNe(S,E);a(j=>({...j,custoTotalOferta:String(S.toFixed(2)),custoTotalCanal:String(E.toFixed(2)),custoTotalCampanha:String(C.toFixed(2))}))}},[n.baseVolume,n.custoUnitarioOferta,n.custoUnitarioCanal]),w.useEffect(()=>{var k,S,E,C,j,T,N,A,P,V,z,Z,G,Y,I,te,J,D,R,B,H;if(!K9(n)){const ee=[];n.bu||ee.push("BU"),n.segmento||ee.push("Segmento"),n.canal||ee.push("Canal"),(!n.baseVolume||Number(n.baseVolume)===0)&&ee.push("Volume"),console.log("%c[AI Projection] Aguardando campos mnimos","color: #F59E0B; font-weight: bold;",{faltam:ee.join(", "),mensagem:"Preencha BU, Segmento, Canal e Volume para gerar projees"}),d({}),h("insufficient");return}const y=ePe(n);h(y);const _=performance.now();if(n.bu&&p.length>0)try{const ee=p.filter(ke=>ke.raw!=null).map(ke=>({...ke.raw,"Data de Disparo":ke.raw["Data de Disparo"]||(ke.dataDisparo?new Date(ke.dataDisparo).toISOString().split("T")[0]:""),BU:ke.raw.BU||ke.bu,Segmento:ke.raw.Segmento||ke.segmento}));if(ee.length===0){console.warn("[DispatchContext] No valid activities with .raw data"),d({});return}const ue=QNe({temporalWindow:90,similarityWeights:{BU:.15,Segmento:.15,Canal:.12,Jornada:.1,Perfil_Credito:.1,Oferta:.08,Promocional:.05,Parceiro:.05,Subgrupo:.05,Etapa_Aquisicao:.05,Produto:.05,Temporal:.05},minSampleSize:5});ue.initialize(ee);const de={bu:n.bu,segmento:n.segmento||"",canal:n.canal||void 0,jornada:n.jornada||void 0,perfilCredito:n.perfilCredito||void 0,oferta:n.oferta||void 0,promocional:n.promocional||void 0,parceiro:n.parceiro||void 0,subgrupo:n.subgrupo||void 0,etapaAquisicao:n.etapaAquisicao||void 0,produto:n.produto||void 0,volume:n.baseVolume?Number(n.baseVolume):void 0};console.log("[Effect 9] Form Input Fields:",{bu:de.bu,segmento:de.segmento,canal:de.canal,jornada:de.jornada,perfilCredito:de.perfilCredito,oferta:de.oferta,volume:de.volume});const q=ue.projectAllFields(de),re=q.projections||{},le={};Object.entries(re).forEach(([ke,pe])=>{le[ke]=pe}),d(le);const M=performance.now();console.log("%c[AI Projection] RESULTADOS COMPLETOS","color: #00ff00; font-weight: bold; font-size: 12px;",{totalActivities:ue.getDatasetStats().totalActivities,sampleSize:q.totalSampleSize,overallConfidence:q.overallConfidence+"%",execTime:Math.round(M-_)+"ms",volume:{projected:(k=le.volume)==null?void 0:k.projectedValue,confidence:(S=le.volume)==null?void 0:S.confidence,method:(E=le.volume)==null?void 0:E.method},taxaConversao:{projected:((C=le.taxaConversao)==null?void 0:C.projectedValue)+"%",confidence:(j=le.taxaConversao)==null?void 0:j.confidence,method:(T=le.taxaConversao)==null?void 0:T.method,explanation:(A=(N=le.taxaConversao)==null?void 0:N.explanation)==null?void 0:A.summary},cac:{projected:"R$ "+((V=(P=le.cac)==null?void 0:P.projectedValue)==null?void 0:V.toFixed(2)),confidence:(z=le.cac)==null?void 0:z.confidence,method:(Z=le.cac)==null?void 0:Z.method},propostas:{projected:(G=le.propostas)==null?void 0:G.projectedValue,confidence:(Y=le.propostas)==null?void 0:Y.confidence,method:(I=le.propostas)==null?void 0:I.method},aprovados:{projected:(te=le.aprovados)==null?void 0:te.projectedValue,confidence:(J=le.aprovados)==null?void 0:J.confidence,method:(D=le.aprovados)==null?void 0:D.method},cartoes:{projected:(R=le.cartoesGerados)==null?void 0:R.projectedValue,confidence:(B=le.cartoesGerados)==null?void 0:B.confidence,method:(H=le.cartoesGerados)==null?void 0:H.method}})}catch(ee){console.error("[DispatchContext] AI Projection Error:",ee),d({}),h("insufficient")}else d({}),h("insufficient")},[n.bu,n.segmento,n.canal,n.jornada,n.perfilCredito,n.oferta,n.baseVolume,n.parceiro,n.subgrupo,n.etapaAquisicao,n.produto,p]),w.useEffect(()=>{if(n.oferta&&!t&&!n.promocional){const y=p.filter(_=>{const k=_.raw||_;return k.Oferta===n.oferta&&k.Promocional});if(y.length>0){const _=new Map;y.forEach(E=>{const j=(E.raw||E).Promocional;j&&_.set(j,(_.get(j)||0)+1)});let k="",S=0;_.forEach((E,C)=>{E>S&&(S=E,k=C)}),k&&(console.log("[DispatchForm] Auto-sugerindo Promocional:",k,`(${S}x usado)`),a(E=>({...E,promocional:k})))}}},[n.oferta,p,t,n.promocional]),w.useEffect(()=>{if(n.bu&&n.segmento&&n.oferta&&!t){const y=p.filter(_=>{const k=_.raw||_;return k.BU===n.bu&&k.Segmento===n.segmento&&k.Oferta===n.oferta});if(y.length>0){if(!n.oferta2){const _=new Map;y.forEach(E=>{const j=(E.raw||E)["Oferta 2"];j&&_.set(j,(_.get(j)||0)+1)});let k="",S=0;_.forEach((E,C)=>{E>S&&(S=E,k=C)}),k&&S>=2&&(console.log("[DispatchForm] Auto-sugerindo Oferta 2:",k),a(E=>({...E,oferta2:k})))}if(!n.promocional2){const _=new Map;y.forEach(E=>{const j=(E.raw||E)["Promocional 2"];j&&_.set(j,(_.get(j)||0)+1)});let k="",S=0;_.forEach((E,C)=>{E>S&&(S=E,k=C)}),k&&S>=2&&(console.log("[DispatchForm] Auto-sugerindo Promocional 2:",k),a(E=>({...E,promocional2:k})))}}}},[n.bu,n.segmento,n.oferta,p,t,n.oferta2,n.promocional2]),w.useEffect(()=>{console.log("[DispatchForm] Estado atual:",{bu:n.bu,segmento:n.segmento,jornada:n.jornada,canal:n.canal,oferta:n.oferta,promocional:n.promocional,oferta2:n.oferta2,promocional2:n.promocional2,baseVolume:n.baseVolume,custoUnitarioOferta:n.custoUnitarioOferta,custoUnitarioCanal:n.custoUnitarioCanal,custoTotalCampanha:n.custoTotalCampanha,projectionsKeys:Object.keys(c),activitiesCount:p.length})},[n,c,p]);const b=w.useMemo(()=>({formData:n,setFormData:a,handleChange:x,errors:s,setErrors:i,smartOptions:g,projections:c,projectionReadiness:f,loading:o,setLoading:l,editingActivity:t,activities:p}),[n,x,s,g,c,f,o,t,p]);return u.jsx(G9.Provider,{value:b,children:e})},hr=({label:e,required:t,tooltip:r})=>u.jsxs("label",{className:"flex items-center gap-0.5 text-[9px] font-bold text-slate-500 uppercase tracking-wider mb-0.5",children:[e,t&&u.jsx("span",{className:"text-blue-500",children:"*"}),r&&u.jsx("span",{title:r,className:"text-slate-600 hover:text-slate-400 cursor-help transition-colors",children:u.jsx(sa,{size:9})})]}),ko=({className:e="",error:t,...r})=>u.jsxs("div",{className:"relative",children:[u.jsx("input",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                placeholder:text-slate-600
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...r}),t&&u.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),rPe=({className:e="",error:t,children:r,...n})=>u.jsxs("div",{className:"relative",children:[u.jsx("select",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all appearance-none cursor-pointer
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...n,children:r}),u.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500",children:u.jsx("svg",{width:"8",height:"5",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:u.jsx("path",{d:"m1 1 4 4 4-4"})})}),t&&u.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),vy=({title:e,icon:t,children:r,headerClassName:n="text-slate-300",badge:a})=>u.jsxs("section",{className:"bg-slate-800/40 p-3 rounded-lg border border-slate-700/50 flex flex-col gap-2 hover:border-slate-600/50 transition-colors duration-300 h-full",children:[u.jsxs("div",{className:`flex items-center justify-between pb-1.5 border-b border-slate-700/50 ${n}`,children:[u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx("div",{className:"opacity-70 text-slate-400",children:t}),u.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:e})]}),a&&u.jsx("span",{className:"px-1 py-0.5 bg-slate-700/50 rounded text-[8px] text-slate-400 font-bold uppercase",children:a})]}),u.jsx("div",{className:"flex-1 flex flex-col",children:r})]}),fi=({label:e,value:t,prefix:r="",suffix:n="",isInt:a=!1,confidence:s,compact:i=!1})=>u.jsxs("div",{className:`
        bg-slate-900/50 border border-indigo-500/10 rounded
        ${i?"p-1.5":"p-2"}
        flex flex-col items-center justify-center text-center
    `,children:[u.jsx("span",{className:`uppercase font-bold text-indigo-400 ${i?"text-[7px]":"text-[8px]"}`,children:e}),u.jsx("div",{className:`font-bold text-indigo-200 ${i?"text-xs":"text-sm"}`,children:t!==void 0?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"text-[9px] text-indigo-500 mr-0.5",children:r}),a?Math.round(t).toLocaleString("pt-BR"):t.toFixed(2),u.jsx("span",{className:"text-[9px] text-indigo-500 ml-0.5",children:n})]}):u.jsx("span",{className:"text-slate-500",children:"-"})}),s!==void 0&&s>0&&u.jsx("div",{className:"w-full mt-1 h-1 bg-slate-800 rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-indigo-500/50 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s)}%`}})})]}),nPe=({label:e,value:t,className:r=""})=>u.jsxs("div",{className:`bg-slate-900/40 p-1.5 rounded border border-slate-700/50 ${r}`,children:[u.jsx(hr,{label:e}),u.jsx("div",{className:"text-[11px] text-slate-300 font-mono text-center",children:t||"-"})]}),za=({value:e,onChange:t,options:r,placeholder:n="Digite ou selecione...",error:a,className:s="",disabled:i=!1,allowClear:o=!0})=>{const[l,c]=w.useState(!1),[d,f]=w.useState(e),[h,p]=w.useState(-1),m=w.useRef(null),v=w.useRef(null),g=w.useRef(null);w.useEffect(()=>{f(e)},[e]);const x=w.useMemo(()=>{const S=d.toLowerCase().trim();let E=r;return S&&(E=r.filter(C=>C.value.toLowerCase().includes(S))),E.sort((C,j)=>{const T=C.value.toLowerCase(),N=j.value.toLowerCase();if(T===S&&N!==S)return-1;if(N===S&&T!==S)return 1;if(T.startsWith(S)&&!N.startsWith(S))return-1;if(N.startsWith(S)&&!T.startsWith(S))return 1;if(C.isSmart&&!j.isSmart)return-1;if(!C.isSmart&&j.isSmart)return 1;const A=C.count||0,P=j.count||0;return P!==A?P-A:T.localeCompare(N)})},[r,d]);w.useEffect(()=>{const S=E=>{g.current&&!g.current.contains(E.target)&&(c(!1),d!==e&&t(d))};return document.addEventListener("mousedown",S),()=>document.removeEventListener("mousedown",S)},[d,e,t]);const b=w.useCallback(S=>{const E=S.target.value;f(E),c(!0),p(-1)},[]),y=w.useCallback(S=>{var E;f(S.value),t(S.value),c(!1),p(-1),(E=m.current)==null||E.blur()},[t]),_=w.useCallback(S=>{var E;S.stopPropagation(),f(""),t(""),(E=m.current)==null||E.focus()},[t]),k=w.useCallback(S=>{if(!l&&(S.key==="ArrowDown"||S.key==="ArrowUp")){c(!0);return}switch(S.key){case"ArrowDown":S.preventDefault(),p(E=>E<x.length-1?E+1:0);break;case"ArrowUp":S.preventDefault(),p(E=>E>0?E-1:x.length-1);break;case"Enter":S.preventDefault(),h>=0&&x[h]?y(x[h]):d&&(t(d),c(!1));break;case"Escape":c(!1),p(-1);break;case"Tab":d!==e&&t(d),c(!1);break}},[l,h,x,y,d,e,t]);return w.useEffect(()=>{if(h>=0&&v.current){const S=v.current.children[h];S&&S.scrollIntoView({block:"nearest"})}},[h]),u.jsxs("div",{ref:g,className:"relative",children:[u.jsxs("div",{className:"relative flex items-center",children:[u.jsx("input",{ref:m,type:"text",value:d,onChange:b,onFocus:()=>c(!0),onKeyDown:k,disabled:i,placeholder:n,className:`
                        w-full px-2 py-1.5 pr-12
                        bg-slate-800/50 border rounded
                        text-[11px] font-medium text-slate-200
                        placeholder:text-slate-600
                        focus:outline-none focus:ring-1 focus:ring-blue-500/50
                        transition-all
                        ${a?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                        ${i?"opacity-50 cursor-not-allowed":""}
                        ${s}
                    `}),u.jsxs("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[o&&d&&!i&&u.jsx("button",{type:"button",onClick:_,className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:u.jsx(fa,{size:10})}),u.jsx("button",{type:"button",onClick:()=>!i&&c(!l),className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:u.jsx(ql,{size:12,className:`transition-transform ${l?"rotate-180":""}`})})]})]}),l&&x.length>0&&u.jsx("div",{ref:v,className:`absolute z-[100] w-full mt-0.5 py-0.5 max-h-40 overflow-auto
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800`,children:x.map((S,E)=>u.jsxs("div",{onClick:()=>y(S),className:`
                                px-2 py-1 text-[11px] cursor-pointer flex justify-between items-center
                                ${h===E?"bg-blue-600 text-white":"text-slate-200 hover:bg-slate-700"}
                                ${S.value===e?"font-semibold":""}
                            `,children:[u.jsx("span",{className:"truncate flex items-center gap-1",children:S.value}),S.count!==void 0&&S.count>0&&u.jsxs("span",{className:`
                                    text-[9px] ml-1 px-1 rounded
                                    ${h===E?"bg-blue-500 text-blue-100":"bg-slate-700 text-slate-400"}
                                `,children:[S.count,"x"]})]},S.value))}),l&&x.length===0&&d&&u.jsxs("div",{className:`absolute z-50 w-full mt-0.5 py-2 px-2
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               text-[10px] text-slate-400 text-center`,children:['Novo valor: "',d,'"',u.jsx("br",{}),u.jsx("span",{className:"text-[9px] text-slate-500",children:"Pressione Enter para confirmar"})]}),a&&u.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:a})]})},aPe=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=wd(),a=w.useMemo(()=>n.canais.length>0?n.canais:nNe.map(s=>({value:s,count:0})),[n.canais]);return u.jsx("div",{className:"w-full h-full",children:u.jsx(vy,{title:"Identificacao",icon:u.jsx(PK,{size:14}),badge:"1",children:u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"BU",required:!0,tooltip:"Business Unit - Unidade de negcio responsvel. B2C, B2B2C, Plurix ou Bem Barato"}),u.jsxs(rPe,{value:e.bu,onChange:s=>t("bu",s.target.value),error:r.bu,children:[u.jsx("option",{value:"",children:"..."}),u.jsx("option",{value:"B2C",children:"B2C"}),u.jsx("option",{value:"B2B2C",children:"B2B2C"}),u.jsx("option",{value:"Plurix",children:"Plurix"}),u.jsx("option",{value:"Bem Barato",children:"Bem Barato"})]})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"CAMPANHA",required:!0,tooltip:"Segmento/Campanha de marketing. Ex: Leads_Parceiros, CRM, Cartonistas. Sugere baseado no histrico."}),u.jsx(za,{value:e.segmento,onChange:s=>t("segmento",s),options:n.segmentos,placeholder:"Digite...",error:r.segmento})]})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"ActivityName",required:!0,tooltip:"Identificador nico do disparo no Salesforce. Auto-gerado: BU_CAMPANHA_JORNADA_ORDEM_SAFRA. Editvel."}),u.jsx(ko,{value:e.activityName,onChange:s=>t("activityName",s.target.value),placeholder:"auto: BU_CAMP_JORNADA_ORD_SAFRA",className:"font-mono text-[9px] bg-slate-950/30 border-slate-800 text-slate-300",error:r.activityName})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Jornada",required:!0,tooltip:"Fluxo de comunicao do cliente. Ex: DISPARO_AQUISICAO, RETENO, UPSELL. Sugere do histrico."}),u.jsx(za,{value:e.jornada,onChange:s=>t("jornada",s),options:n.jornadas,placeholder:"Digite ou selecione...",error:r.jornada})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Canal",required:!0,tooltip:"Meio de comunicao. E-mail (R$0,001), Push (R$0,001), SMS (R$0,064), WhatsApp (R$0,420)"}),u.jsx(za,{value:e.canal,onChange:s=>t("canal",s),options:a,placeholder:"Digite ou selecione...",error:r.canal})]}),u.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Parceiro",tooltip:"Origem/Parceiro da base de leads. Ex: Serasa, Acordo Certo, Bom_Pra_Credito"}),u.jsx(za,{value:e.parceiro,onChange:s=>t("parceiro",s),options:n.parceiros,placeholder:"Digite..."})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Subgrupo",tooltip:"Segmentao adicional dentro da campanha. Ex: Ativo, Inativo, Novos, Leais"}),u.jsx(za,{value:e.subgrupo,onChange:s=>t("subgrupo",s),options:n.subgrupos,placeholder:"Digite..."})]})]})})]})})})},sPe=()=>{const{formData:e,handleChange:t,errors:r}=wd();return u.jsx("div",{className:"w-full h-full",children:u.jsx(vy,{title:"Cronograma",icon:u.jsx(dc,{size:14}),badge:"2",children:u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Data Inicio",required:!0,tooltip:"Data de incio do disparo. Formato YYYY-MM-DD"}),u.jsx(ko,{type:"date",value:e.dataInicio,onChange:n=>t("dataInicio",n.target.value),error:r.dataInicio})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Data Fim",required:!0,tooltip:"Data de trmino do disparo. Auto-preenchido como Data Incio + 2 dias."}),u.jsx(ko,{type:"date",value:e.dataFim,onChange:n=>t("dataFim",n.target.value),error:r.dataFim})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Horario",tooltip:"Horrio previsto para o disparo. Padro: 10:00"}),u.jsx(ko,{type:"time",value:e.horarioDisparo,onChange:n=>t("horarioDisparo",n.target.value)})]}),u.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsx(nPe,{label:"Safra",value:e.safra}),u.jsxs("div",{children:[u.jsx(hr,{label:"Ordem",tooltip:"Nmero sequencial do disparo na mesma jornada/data. Auto-calculado mas EDITVEL. Ex: 1, 2, 3 ou 'Pontual'"}),u.jsx(ko,{value:e.ordemDisparo,onChange:n=>t("ordemDisparo",n.target.value),placeholder:"ex: 1 ou Pontual",className:"text-center font-bold text-blue-400"})]})]})})]})})})},iPe=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=wd(),a=w.useMemo(()=>n.produtos.length>0?n.produtos:aNe.map(c=>({value:c,count:0})),[n.produtos]),s=w.useMemo(()=>n.etapasAquisicao.length>0?n.etapasAquisicao:sNe.map(c=>({value:c,count:0})),[n.etapasAquisicao]),i=w.useMemo(()=>n.promocionais.length>0?n.promocionais:[{value:"N/A",count:0}],[n.promocionais]),o=w.useMemo(()=>n.ofertas2.length>0?n.ofertas2:[{value:"N/A",count:0}],[n.ofertas2]),l=w.useMemo(()=>n.promocionais2.length>0?n.promocionais2:[{value:"N/A",count:0}],[n.promocionais2]);return u.jsx("div",{className:"w-full h-full",children:u.jsx(vy,{title:"Produto & Oferta",icon:u.jsx(uK,{size:14}),badge:"3",children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Produto",required:!0,tooltip:"Tipo do carto a ser oferecido. Ex: Classic, Gold, Platinum"}),u.jsx(za,{value:e.produto,onChange:c=>t("produto",c),options:a,placeholder:"Digite ou selecione..."})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Perfil Credito",tooltip:"Classificao de risco do pblico-alvo. Ex: Whitelist, Alto_Limite, Baixo_Risco"}),u.jsx(za,{value:e.perfilCredito,onChange:c=>t("perfilCredito",c),options:n.perfisCredito,placeholder:"Digite..."})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Etapa Funil",tooltip:"Posio do lead no funil de converso. Aquisio (topo) ou Meio_de_Funil (j engajado)"}),u.jsx(za,{value:e.etapaAquisicao,onChange:c=>t("etapaAquisicao",c),options:s,placeholder:"Digite ou selecione..."})]}),u.jsxs("div",{className:"border-t border-slate-700/50 pt-2 space-y-2",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Oferta",required:!0,tooltip:"Estratgia principal de aquisio. Padro (sem custo), Vibe (R$2), Limite (R$1), Anuidade (R$76,50)"}),u.jsx(za,{value:e.oferta,onChange:c=>t("oferta",c),options:n.ofertas,placeholder:"Digite ou selecione...",error:r.oferta})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Promocional",tooltip:"Ttica promocional adicional. Ex: Em dobro, Upgrade, Black Friday. Preenchido auto baseado na Oferta."}),u.jsx(za,{value:e.promocional,onChange:c=>t("promocional",c),options:i,placeholder:"Digite..."})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Oferta 2",tooltip:"Oferta secundria opcional para A/B test ou combo. Sugerido baseado no histrico."}),u.jsx(za,{value:e.oferta2,onChange:c=>t("oferta2",c),options:o,placeholder:"Digite..."})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"Promo 2",tooltip:"Promocional secundrio opcional. Sugerido baseado no histrico de disparos similares."}),u.jsx(za,{value:e.promocional2,onChange:c=>t("promocional2",c),options:l,placeholder:"Digite..."})]})]})]})]})})})},oPe=()=>{var a,s;const{formData:e,handleChange:t,projections:r}=wd(),n=i=>(Number(i)||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return u.jsx("div",{className:"w-full h-full",children:u.jsx(vy,{title:"Investimento",icon:u.jsx(nd,{size:14}),badge:"4",children:u.jsxs("div",{className:"space-y-2.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"Volume Base",required:!0,tooltip:"Quantidade total de contatos que recebero o disparo"}),u.jsx(ko,{type:"number",value:e.baseVolume,onChange:i=>t("baseVolume",i.target.value),placeholder:"Ex: 50000",className:"text-base font-semibold text-slate-200"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[u.jsxs("div",{children:[u.jsx(hr,{label:"C.U. Oferta",tooltip:"Custo Unitrio por contato da Oferta selecionada. Ex: Vibe=R$2,00, Limite=R$1,00, Padro=R$0,00, Anuidade=R$76,50. Preenchido auto baseado na Oferta."}),u.jsx(ko,{type:"number",step:"0.01",value:e.custoUnitarioOferta,onChange:i=>t("custoUnitarioOferta",i.target.value),className:"bg-slate-900/50 text-[10px]",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx(hr,{label:"C.U. Canal",tooltip:"Custo Unitrio por disparo do Canal. E-mail/Push=R$0,001, SMS=R$0,064, WhatsApp=R$0,420. Preenchido automaticamente."}),u.jsx(ko,{type:"number",step:"0.001",value:e.custoUnitarioCanal,onChange:i=>t("custoUnitarioCanal",i.target.value),className:"bg-slate-900/50 text-[10px] text-slate-400",placeholder:"auto",readOnly:!0})]})]}),u.jsxs("div",{className:"mt-auto pt-3 space-y-2",children:[u.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center relative group",children:[u.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[u.jsx("span",{className:"text-[8px] uppercase text-slate-400 font-bold",children:"Total Campanha"}),u.jsx("span",{title:"Frmula: Volume  (C.U. Oferta + C.U. Canal). Representa o investimento total do disparo.",className:"text-slate-600 hover:text-slate-400 cursor-help transition-colors",children:u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[u.jsx("circle",{cx:"12",cy:"12",r:"10"}),u.jsx("path",{d:"M12 16v-4"}),u.jsx("path",{d:"M12 8h.01"})]})})]}),u.jsxs("span",{className:"text-base font-bold text-slate-200 block",children:["R$ ",n(e.custoTotalCampanha)]}),u.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-900 border border-slate-600 rounded text-[9px] text-slate-300 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:[e.baseVolume,"  (",e.custoUnitarioOferta||0," + ",e.custoUnitarioCanal||0,")"]})]}),u.jsxs("div",{className:"p-3 bg-indigo-950/30 border border-indigo-500/20 rounded-lg text-center",children:[u.jsx("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:u.jsx("span",{className:"text-[8px] uppercase text-indigo-400 font-bold",children:"CAC Projetado (IA)"})}),u.jsxs("span",{className:"text-base font-bold text-indigo-300 block",children:["R$ ",n(((a=r.cac)==null?void 0:a.projectedValue)||0)]}),u.jsxs("span",{className:"text-[8px] text-indigo-400/60",children:["Confiana: ",Math.round(((s=r.cac)==null?void 0:s.confidence)||0),"%"]})]})]})]})})})},lPe=()=>{var C;const{projections:e,formData:t,projectionReadiness:r}=wd(),a=(()=>{const j=[];if(t.bu||j.push("BU"),t.segmento||j.push("Campanha"),t.canal||j.push("Canal"),(!t.baseVolume||Number(t.baseVolume)===0)&&j.push("Volume"),j.length>0)return{text:`Preencha ${j.join(", ")} para gerar projees`,color:"text-amber-400",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/20",isWarning:!0};switch(r){case"partial":return{text:"Projees bsicas. Adicione Oferta e Jornada para melhorar",color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/20",isWarning:!1};case"good":return{text:"Projees com boa confiana",color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/20",isWarning:!1};case"excellent":return{text:"Projees de alta preciso",color:"text-emerald-400",bgColor:"bg-emerald-500/10",borderColor:"border-emerald-500/20",isWarning:!1};default:return null}})(),s=e.volume,i=e.taxaConversao,o=e.baseAcionavel,l=e.cac,c=e.propostas,d=e.aprovados,f=e.cartoesGerados,h=e.taxaEntrega,p=e.taxaAbertura,m=(s==null?void 0:s.projectedValue)||Number(t.baseVolume)||0,v=(i==null?void 0:i.projectedValue)||0,g=(o==null?void 0:o.projectedValue)||m*.78,x=(c==null?void 0:c.projectedValue)||m*(v/100),b=(d==null?void 0:d.projectedValue)||x*.65,y=(f==null?void 0:f.projectedValue)||b*.85,_=Number(t.custoTotalCampanha)||0,k=y>0?_/y:0,S=(l==null?void 0:l.projectedValue)||k,E=((C=i==null?void 0:i.explanation)==null?void 0:C.sampleSize)||0;return u.jsx("div",{className:"w-full h-full",children:u.jsxs("div",{className:"bg-indigo-950/20 p-3 rounded-lg border border-indigo-500/20 shadow-sm flex flex-col h-full hover:border-indigo-500/40 transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-indigo-500/20 mb-3",children:[u.jsxs("h3",{className:"text-[10px] font-bold text-indigo-400 flex items-center gap-1.5 uppercase tracking-wide",children:[u.jsx(Fn,{size:14}),"Projecao IA",u.jsx(AK,{size:10,className:"text-indigo-300/50"})]}),u.jsx("span",{className:"px-1 py-0.5 bg-indigo-500/10 rounded text-[8px] text-indigo-400 font-bold",children:"5"})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-1.5 flex-1",children:[u.jsx(fi,{label:"Volume",value:m>0?m:void 0,isInt:!0,confidence:s==null?void 0:s.confidence,compact:!0}),u.jsx(fi,{label:"Tx Conv",value:v>0?v:void 0,suffix:"%",confidence:i==null?void 0:i.confidence,compact:!0}),u.jsx(fi,{label:"Bs Acion.",value:g>0?g:void 0,isInt:!0,confidence:o==null?void 0:o.confidence,compact:!0}),u.jsx(fi,{label:"CAC",value:S>0?S:void 0,prefix:"R$",confidence:l==null?void 0:l.confidence,compact:!0}),u.jsx(fi,{label:"Tx Entreg",value:h==null?void 0:h.projectedValue,suffix:"%",confidence:h==null?void 0:h.confidence,compact:!0}),u.jsx(fi,{label:"Tx Abert",value:p==null?void 0:p.projectedValue,suffix:"%",confidence:p==null?void 0:p.confidence,compact:!0}),u.jsx(fi,{label:"Propostas",value:x>0?x:void 0,isInt:!0,confidence:c==null?void 0:c.confidence,compact:!0}),u.jsx(fi,{label:"Aprovados",value:b>0?b:void 0,isInt:!0,confidence:d==null?void 0:d.confidence,compact:!0}),u.jsx(fi,{label:"Cartoes",value:y>0?y:void 0,isInt:!0,confidence:f==null?void 0:f.confidence,compact:!0})]}),u.jsx("div",{className:"mt-3 text-[8px] text-center border-t border-indigo-500/10 pt-2",children:a!=null&&a.isWarning?u.jsx("div",{className:`px-2 py-1 rounded ${a.bgColor} border ${a.borderColor}`,children:u.jsxs("span",{className:`${a.color} font-bold`,children:[" ",a.text]})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{children:E>0?u.jsxs("span",{className:"text-indigo-400/50",children:["Baseado em ",u.jsx("span",{className:"font-bold text-indigo-400",children:E})," disparos similares"]}):u.jsx("span",{className:"text-indigo-400/50",children:"Processando projees..."})}),a&&u.jsx("div",{className:`mt-1.5 px-2 py-0.5 rounded ${a.bgColor} border ${a.borderColor}`,children:u.jsxs("span",{className:`${a.color} text-[7px] font-medium`,children:[" ",a.text]})})]})})]})})};class cPe{constructor(){os(this,"activities");os(this,"cache");this.activities=[],this.cache=new Map}initialize(t){this.activities=t||[],this.cache.clear()}analyzePerformance(t,r){const n=this.getCacheKey(t,r);if(this.cache.has(n))return this.cache.get(n);const a=this.filterActivities(t);if(a.length===0)return this.createEmptySnapshot(t,r);const s=this.extractTimeSeries(a,r,t.windowDays);if(s.length===0)return this.createEmptySnapshot(t,r);const i=s.map(p=>p.value),o=this.calculateStats(i),l=this.detectTrend(s),c=this.analyzeDayOfWeekPatterns(a,r,t.windowDays),d=this.analyzeHourOfDayPatterns(a,r,t.windowDays),f=this.assessDataQuality(a,i,o),h={metric:r,filters:t,timeseries:s,stats:o,trend:l,dayOfWeekPatterns:c,hourOfDayPatterns:d,dataQuality:f,computedAt:new Date().toISOString(),sampleSize:a.length};return this.cache.set(n,h),setTimeout(()=>this.cache.delete(n),5*60*1e3),h}compareAlternatives(t,r,n){const a=this.analyzePerformance(t,r),s=a.stats.median,i=[];for(const o of n){const l={...t,[o.field]:o.value},c=this.analyzePerformance(l,r),f=(c.stats.median-s)/s*100;i.push({change:`${o.field}: ${o.value}`,changedField:o.field,previousValue:t[o.field],newValue:o.value,performance:c,improvementPercent:f,confidence:this.calculateComparisonConfidence(a.sampleSize,c.sampleSize,a.stats.stdDev,c.stats.stdDev),sampleCount:c.sampleSize})}return i.sort((o,l)=>l.improvementPercent-o.improvementPercent),i}getTemporalMultipliers(t,r){const n={...t,windowDays:90,onlyCompleted:!0},a=this.filterActivities(n);return a.length<5?[]:this.analyzeDayOfWeekPatterns(a,r,90)}getOptimalTiming(t,r){const n={...t,windowDays:90,onlyCompleted:!0},a=this.filterActivities(n),s=this.analyzeDayOfWeekPatterns(a,r,90),i=this.analyzeHourOfDayPatterns(a,r,90);return{bestDayOfWeek:s.length>0?s.reduce((o,l)=>o.average>l.average?o:l):null,worstDayOfWeek:s.length>0?s.reduce((o,l)=>o.average<l.average?o:l):null,bestHour:i.length>0?i.reduce((o,l)=>o.average>l.average?o:l):null,worstHour:i.length>0?i.reduce((o,l)=>o.average<l.average?o:l):null}}filterActivities(t){let r=[...this.activities];t.onlyCompleted!==!1&&(r=r.filter(s=>s.status==="Realizado"));const n=new Date,a=new Date(n.getTime()-t.windowDays*24*60*60*1e3);return r=r.filter(s=>{const i=this.parseDate(s["Data de Disparo"]);return i?i>=a&&i<=n:!1}),t.bu&&(r=r.filter(s=>this.normalizeString(s.BU)===this.normalizeString(t.bu))),t.canal&&(r=r.filter(s=>this.normalizeString(s.Canal)===this.normalizeString(t.canal))),t.segmento&&(r=r.filter(s=>this.normalizeString(s.Segmento)===this.normalizeString(t.segmento))),t.jornada&&(r=r.filter(s=>this.normalizeString(s.jornada)===this.normalizeString(t.jornada))),t.perfilCredito&&(r=r.filter(s=>s["Perfil de Crdito"]&&this.normalizeString(s["Perfil de Crdito"])===this.normalizeString(t.perfilCredito))),t.oferta&&(r=r.filter(s=>s.Oferta&&this.normalizeString(s.Oferta)===this.normalizeString(t.oferta))),r}extractTimeSeries(t,r,n){const a=Pf[r],s=new Map;for(const o of t){const l=this.parseDate(o["Data de Disparo"]);if(!l)continue;const c=l.toISOString().split("T")[0],d=this.extractMetricValue(o,a);if(d===null)continue;const f=o["Base Total"]||1;s.has(c)||s.set(c,{values:[],ids:[],volumes:[]}),s.get(c).values.push(d),s.get(c).ids.push(o.id),s.get(c).volumes.push(f)}const i=[];for(const[o,{values:l,ids:c,volumes:d}]of s.entries()){const f=new Date(o),h=d.reduce((m,v)=>m+v,0),p=l.reduce((m,v,g)=>m+v*(d[g]/h),0);i.push({date:f,value:p,count:l.length,sourceId:c.length===1?c[0]:"aggregated",volume:h})}return i.sort((o,l)=>o.date.getTime()-l.date.getTime()),i}calculateStats(t){if(t.length===0)return this.createEmptyStats();const r=[...t].sort((_,k)=>_-k),n=t.length,a=t.reduce((_,k)=>_+k,0)/n,s=n%2===0?(r[n/2-1]+r[n/2])/2:r[Math.floor(n/2)],i=Math.floor(n*.25),o=Math.floor(n*.75),l=r[i],c=r[o],d=c-l,f=t.reduce((_,k)=>_+Math.pow(k-a,2),0)/n,h=Math.sqrt(f),p=l-1.5*d,m=c+1.5*d,v=t.filter(_=>_<p||_>m),g=t.filter(_=>_>=p&&_<=m),x=g.length===0?s:g.length%2===0?(g[g.length/2-1]+g[g.length/2])/2:g[Math.floor(g.length/2)],y=1.96*(h/Math.sqrt(n));return{mean:a,median:s,p25:l,p75:c,stdDev:h,confidenceInterval:{min:Math.max(0,a-y),max:a+y},min:r[0],max:r[n-1],iqr:d,outliers:v,medianWithoutOutliers:x,coefficientOfVariation:a!==0?h/a:0}}detectTrend(t){if(t.length<2)return this.createEmptyTrend();const r=t.length,n=t.map((_,k)=>k),a=t.map(_=>_.value),s=n.reduce((_,k)=>_+k,0)/r,i=a.reduce((_,k)=>_+k,0)/r,o=n.reduce((_,k,S)=>_+(k-s)*(a[S]-i),0),l=n.reduce((_,k)=>_+Math.pow(k-s,2),0),c=o/l,d=a.reduce((_,k,S)=>{const E=c*(S-s)+i;return _+Math.pow(k-E,2)},0),f=a.reduce((_,k)=>_+Math.pow(k-i,2),0),h=f===0?0:1-d/f,p=h>.3&&Math.abs(c)>i*.01;let m;p?m=c>0?"up":"down":m="stable";const v=Math.min(30,t.length),g=t[t.length-v].value,x=t[t.length-1].value,b=g!==0?(x-g)/g*100:0,y=c*30+t[t.length-1].value;return{slope:c,rSquared:h,isSignificant:p,direction:m,description:this.generateTrendDescription(c,h,i,p),change30days:b,projection30days:y>0?y:0}}generateTrendDescription(t,r,n,a){if(!a)return"Performance estvel (sem tendncia clara)";const i=t/n*100*30;return t>0?`Performance em alta: +${Math.abs(i).toFixed(1)}%/ms`:`Performance em queda: ${i.toFixed(1)}%/ms`}analyzeDayOfWeekPatterns(t,r,n){const a=Pf[r],s=[],i=new Map;for(let d=0;d<7;d++)i.set(d,[]);for(const d of t){const f=this.parseDate(d["Data de Disparo"]);if(!f)continue;const h=f.getDay(),p=this.extractMetricValue(d,a);p!==null&&i.get(h).push(p)}const o=Array.from(i.values()).flat(),l=o.reduce((d,f)=>d+f,0)/o.length,c=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];for(let d=0;d<7;d++){const f=i.get(d);if(f.length===0)continue;const h=f.reduce((v,g)=>v+g,0)/f.length,p=f.reduce((v,g)=>v+Math.pow(g-h,2),0)/f.length,m=Math.sqrt(p);s.push({dayOfWeek:d,dayName:c[d],average:h,multiplier:l!==0?h/l:1,sampleCount:f.length,stdDev:m,confidence:Math.min(100,40+Math.log(f.length)*15)})}return s}analyzeHourOfDayPatterns(t,r,n){const a=Pf[r],s=[],i=new Map;for(const c of t){const d=c["Horrio de Disparo"];if(!d)continue;const f=parseInt(d.split(":")[0],10);let h="";f>=6&&f<12?h="06h-12h":f>=12&&f<18?h="12h-18h":h="18h-06h";const p=this.extractMetricValue(c,a);p!==null&&(i.has(h)||i.set(h,{hour:f,values:[]}),i.get(h).values.push(p))}if(i.size===0)return[];const o=Array.from(i.values()).map(c=>c.values).flat(),l=o.reduce((c,d)=>c+d,0)/o.length;for(const[c,{hour:d,values:f}]of i.entries()){if(f.length===0)continue;const h=f.reduce((v,g)=>v+g,0)/f.length,p=f.reduce((v,g)=>v+Math.pow(g-h,2),0)/f.length,m=Math.sqrt(p);s.push({hour:d,timeSlot:c,average:h,multiplier:l!==0?h/l:1,sampleCount:f.length,stdDev:m,confidence:Math.min(100,40+Math.log(f.length)*15)})}return s.sort((c,d)=>c.hour-d.hour),s}assessDataQuality(t,r,n){const a=[];let s="high";t.length<5?(a.push("Poucas amostras (< 5)"),s="low"):t.length<15&&(a.push("Amostra limitada (< 15)"),s="medium");const i=r.length/t.length*100;i<.7&&(a.push(`Dados incompletos (${i.toFixed(0)}% preenchidos)`),s!=="low"&&(s="medium")),n.coefficientOfVariation>.5&&(a.push("Alta variabilidade (dados barulhentos)"),s!=="low"&&(s="medium")),n.outliers.length>0&&n.outliers.length/r.length>.2&&(a.push(`Muitos outliers (${n.outliers.length} detectados)`),s!=="low"&&(s="medium"));let o="Dados confiveis para tomada de deciso.";return s==="low"?o="Cuidado: dados limitados. Considere aguardar mais disparos similares.":s==="medium"&&(o="Dados moderadamente confiveis. Use como orientao, no como certeza."),{level:s,reasons:a,completeness:i,outlierCount:n.outliers.length,recommendation:o}}extractMetricValue(t,r){const n=t[r];if(n==null)return null;if(typeof n=="number")return n<0?null:n;if(typeof n=="string"){const a=n.replace(/[^0-9.,]/g,"").replace(",","."),s=parseFloat(a);return isNaN(s)||s<0?null:s}return null}parseDate(t){if(!t)return null;if(t.includes("/")){const[r,n,a]=t.split("/");return new Date(`${a}-${n}-${r}`)}return new Date(t)}normalizeString(t){return t.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}calculateComparisonConfidence(t,r,n,a){const s=Math.min(100,Math.min(t,r)/10*40),i=Math.min(100,100-Math.max(n,a)*100);return(s+i)/2}getCacheKey(t,r){return JSON.stringify({filters:t,metric:r})}createEmptySnapshot(t,r){return{metric:r,filters:t,timeseries:[],stats:this.createEmptyStats(),trend:this.createEmptyTrend(),dayOfWeekPatterns:[],hourOfDayPatterns:[],dataQuality:{level:"low",reasons:["Nenhum dado encontrado para estes filtros"],completeness:0,outlierCount:0,recommendation:"Ajuste os filtros ou aguarde mais disparos similares."},computedAt:new Date().toISOString(),sampleSize:0}}createEmptyStats(){return{mean:0,median:0,p25:0,p75:0,stdDev:0,confidenceInterval:{min:0,max:0},min:0,max:0,iqr:0,outliers:[],medianWithoutOutliers:0,coefficientOfVariation:0}}createEmptyTrend(){return{slope:0,rSquared:0,isSignificant:!1,direction:"stable",description:"Dados insuficientes para anlise de tendncia",change30days:0}}}class uPe{constructor(t){os(this,"analyzer");os(this,"activities");this.analyzer=t,this.activities=[]}initialize(t){this.activities=t||[]}generateAlternatives(t,r="taxaConversao",n=5){const a=[],s=this.generateTimingAlternative(t,r);s&&a.push(s);const i=this.generateChannelAlternative(t,r);i&&a.push(i);const o=this.generateOfferAlternative(t,r);o&&a.push(o);const l=this.generateJourneyAlternative(t,r);l&&a.push(l);const c=this.generateSegmentAlternative(t,r);return c&&a.push(c),a.sort((d,f)=>f.improvementPercent-d.improvementPercent),a.slice(0,n)}generateTimingAlternative(t,r){try{const n=this.setupToFilters(t),a=this.analyzer.analyzePerformance(n,r);if(a.sampleSize<3)return null;if(!a.dayOfWeekPatterns||a.dayOfWeekPatterns.length===0)return console.log("[AlternativeGenerator] Sem padres de dia da semana disponveis"),null;const s=a.dayOfWeekPatterns.reduce((f,h)=>h.average>f.average?h:f,a.dayOfWeekPatterns[0]);if(!s||s.multiplier<=1.02)return null;const i=t.dataDisparo?new Date(t.dataDisparo):new Date,l=(s.dayOfWeek-i.getDay()+7)%7,c=new Date(i);c.setDate(c.getDate()+(l===0?7:l));const d=(s.multiplier-1)*100;return{id:`timing-${s.dayName}`,type:"timing",title:` Mudar para ${s.dayName}`,description:`O padro histrico mostra que ${s.dayName} tem ${d.toFixed(0)}% melhor performance`,changedField:"dataDisparo",previousValue:t.dataDisparo,newValue:c.toISOString().split("T")[0],displayText:`${s.dayName} (${d.toFixed(0)}% melhor)`,improvementPercent:d,metric:"conversionRate",expectedMetricValue:a.stats.median*s.multiplier,confidence:Math.min(s.confidence,85),riskLevel:s.confidence<50?"high":s.confidence<70?"medium":"low",sampleCount:s.sampleCount,appliedChanges:{dataDisparo:c.toISOString().split("T")[0]},icon:"",badgeColor:"bg-blue-500/20 text-blue-400",reason:`${s.dayName} teve mdia de ${s.average.toFixed(2)}% em ${s.sampleCount} disparos similares`}}catch(n){return console.error("Erro ao gerar alternativa de timing:",n),null}}generateChannelAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["E-mail","SMS","WhatsApp","Push"],a=[];for(const c of n){if(c===t.canal)continue;const d=this.setupToFilters({...t,canal:c}),f=this.analyzer.analyzePerformance(d,r);f.sampleSize<3||a.push({channel:c,performance:f,comparison:null})}if(a.length===0)return null;a.sort((c,d)=>d.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=2?null:{id:`channel-${s.channel}`,type:"channel",title:` Trocar para ${s.channel}`,description:`${s.channel} tem ${l.toFixed(0)}% melhor taxa de converso`,changedField:"canal",previousValue:t.canal,newValue:s.channel,displayText:`${s.channel} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:Math.min(s.performance.dataQuality.level==="high"?85:65),riskLevel:s.performance.sampleSize<5?"high":s.performance.sampleSize<10?"medium":"low",sampleCount:s.performance.sampleSize,appliedChanges:{canal:s.channel},icon:"",badgeColor:"bg-purple-500/20 text-purple-400",reason:`${s.channel} teve mdia ${s.performance.stats.median.toFixed(2)}% vs ${o.stats.median.toFixed(2)}% com ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de canal:",n),null}}generateOfferAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["Padro","Limite","Vibe","Anuidade"],a=[];for(const c of n){if(c===t.oferta)continue;const d=this.setupToFilters({...t,oferta:c}),f=this.analyzer.analyzePerformance(d,r);f.sampleSize<3||a.push({offer:c,performance:f})}if(a.length===0)return null;a.sort((c,d)=>d.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=3?null:{id:`offer-${s.offer}`,type:"offer",title:` Upgrade para ${s.offer}`,description:`Oferta ${s.offer} tem ${l.toFixed(0)}% melhor taxa de aceitao`,changedField:"oferta",previousValue:t.oferta,newValue:s.offer,displayText:`${s.offer} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:75,riskLevel:s.performance.sampleSize<5?"high":"medium",sampleCount:s.performance.sampleSize,appliedChanges:{oferta:s.offer},icon:"",badgeColor:"bg-green-500/20 text-green-400",reason:`${s.offer} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de oferta:",n),null}}generateJourneyAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["Aquisio","Reteno","Upsell","Cross-sell"],a=[];for(const d of n){if(d===t.jornada)continue;const f=this.setupToFilters({...t,jornada:d}),h=this.analyzer.analyzePerformance(f,r);h.sampleSize<3||a.push({journey:d,performance:h})}if(a.length===0)return null;a.sort((d,f)=>f.performance.stats.median-d.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;if(l<=5)return null;const c={Aquisio:"",Reteno:"",Upsell:"","Cross-sell":""};return{id:`journey-${s.journey}`,type:"journey",title:`${c[s.journey]||""} Mudar para ${s.journey}`,description:`Jornada ${s.journey} tem ${l.toFixed(0)}% melhor converso`,changedField:"jornada",previousValue:t.jornada,newValue:s.journey,displayText:`${s.journey} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:70,riskLevel:s.performance.sampleSize<5?"high":"medium",sampleCount:s.performance.sampleSize,appliedChanges:{jornada:s.journey},icon:c[s.journey]||"",badgeColor:"bg-orange-500/20 text-orange-400",reason:`${s.journey} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de jornada:",n),null}}generateSegmentAlternative(t,r){try{if(!t.bu)return null;const n=new Set;for(const c of this.activities)c.BU===t.bu&&c.Segmento&&n.add(c.Segmento);const a=[];for(const c of n){if(c===t.segmento)continue;const d=this.setupToFilters({...t,segmento:c}),f=this.analyzer.analyzePerformance(d,r);f.sampleSize<3||a.push({segment:c,performance:f})}if(a.length===0)return null;a.sort((c,d)=>d.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=3?null:{id:`segment-${s.segment}`,type:"segment",title:` Mudar para Segmento ${s.segment}`,description:`Segmento ${s.segment} tem ${l.toFixed(0)}% melhor performance`,changedField:"segmento",previousValue:t.segmento,newValue:s.segment,displayText:`${s.segment} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:65,riskLevel:"medium",sampleCount:s.performance.sampleSize,appliedChanges:{segmento:s.segment},icon:"",badgeColor:"bg-pink-500/20 text-pink-400",reason:`${s.segment} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de segmento:",n),null}}setupToFilters(t){return{bu:t.bu,canal:t.canal,segmento:t.segmento,jornada:t.jornada,perfilCredito:t.perfilCredito,oferta:t.oferta,windowDays:90,onlyCompleted:!0}}}class dPe{generateInsights(t,r,n,a){const s=[],i=this.detectRisks(r,a,t);s.push(...i);const o=this.detectOpportunities(n,r);s.push(...o);const l=this.detectAnomalies(r,t);s.push(...l);const c=this.detectQuickWins(n);if(s.push(...c),i.length===0&&o.length===0){const d=this.generateValidation(r);s.push(...d)}return s.sort((d,f)=>{const h={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3},p=h[d.severity]-h[f.severity];return p!==0?p:d.priority-f.priority}),s}detectRisks(t,r,n){var s;const a=[];if(t.sampleSize<5&&a.push({id:"risk-insufficient-data",type:"DATA_WARNING",severity:"HIGH",title:" Dados Insuficientes",description:`Apenas ${t.sampleSize} disparos similares encontrados. Recomendaes podem ser imprecisas.`,technicalExplanation:"Com menos de 5 amostras, o intervalo de confiana  muito amplo. Considere aguardar mais disparos.",recommendedAction:"Aguarde mais dados ou ajuste os filtros para combinar com mais histrico.",confidence:30,evidence:[`Sample size: ${t.sampleSize}`,`Data quality: ${t.dataQuality.level}`],icon:"",badgeColor:"bg-yellow-500/20 text-yellow-400",priority:1}),r.isSignificant&&r.direction==="down"){const i=r.change30days;a.push({id:"risk-declining-performance",type:"RISK_ALERT",severity:Math.abs(i)>15?"CRITICAL":"HIGH",title:" Performance em Queda",description:`Taxa de converso caindo ${Math.abs(r.change30days).toFixed(1)}% nos ltimos 30 dias. Segmento pode estar saturado ou saturao de audience.`,technicalExplanation:`Regresso linear detectou slope significativo: ${r.slope.toFixed(4)}/dia. Projeo para 30 dias: ${(s=r.projection30days)==null?void 0:s.toFixed(2)}%.`,recommendedAction:i<-15?"Parar disparos neste segmento e considerar alternativas":"Mudar para segmento diferente ou atualizar oferta",confidence:Math.min(85,60+Math.abs(r.slope)*100),evidence:[`Tendncia: ${r.description}`,`Mudana 30d: ${i.toFixed(1)}%`,`R: ${r.rSquared.toFixed(2)}`],icon:"",badgeColor:"bg-red-500/20 text-red-400",priority:2})}return t.stats.coefficientOfVariation>.5&&a.push({id:"risk-high-variance",type:"ANOMALY",severity:"MEDIUM",title:" Alta Variabilidade",description:`Resultados muito inconsistentes (desvio: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%). Difcil prever resultados.`,technicalExplanation:`Coeficiente de variao: ${t.stats.coefficientOfVariation.toFixed(2)}. Indica dados muito barulhentos.`,recommendedAction:"Validar dados, verificar se h mistura de segmentos diferentes ou problemas de rastreamento.",confidence:70,evidence:[`Variability: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%`,`Std Dev: ${t.stats.stdDev.toFixed(2)}`,`Outliers: ${t.stats.outliers.length}`],icon:"",badgeColor:"bg-orange-500/20 text-orange-400",priority:3}),t.stats.outliers.length>t.sampleSize*.2&&a.push({id:"risk-outliers",type:"ANOMALY",severity:"MEDIUM",title:" Outliers Detectados",description:`${t.stats.outliers.length} valores atpicos encontrados. Resultados podem estar enviesados.`,recommendedAction:"Revisar manualmente disparos com valores extremos. Considerar usar Mediana ao invs de Mdia.",confidence:75,evidence:[`Outliers: ${t.stats.outliers.length}`,`Range: ${t.stats.min.toFixed(2)} - ${t.stats.max.toFixed(2)}`,`Median (sem outliers): ${t.stats.medianWithoutOutliers.toFixed(2)}`],icon:"",badgeColor:"bg-purple-500/20 text-purple-400",priority:4}),a}detectOpportunities(t,r){const n=[],a=t.filter(s=>s.improvementPercent>10);for(let s=0;s<Math.min(a.length,2);s++){const i=a[s];let o;i.improvementPercent>50?o="HIGH":i.improvementPercent>30?o="MEDIUM":o="LOW",n.push({id:`opportunity-${i.id}`,type:"OPPORTUNITY",severity:o,title:` ${i.title}`,description:i.description,technicalExplanation:`Alternativa testada em ${i.sampleCount} disparos similares com ${i.expectedMetricValue.toFixed(2)}% de taxa esperada.`,recommendedAction:`Considerar aplicar esta sugesto: ${i.displayText}`,relatedAlternative:i,confidence:i.confidence,evidence:[`Improvement: +${i.improvementPercent.toFixed(1)}%`,`Sample size: ${i.sampleCount}`,`Risk level: ${i.riskLevel}`,`Expected value: ${i.expectedMetricValue.toFixed(2)}%`],icon:"",badgeColor:"bg-green-500/20 text-green-400",priority:s+5})}return n}detectAnomalies(t,r){const n=[];return t.stats.median>50&&n.push({id:"anomaly-too-high",type:"ANOMALY",severity:"MEDIUM",title:" Taxa Anormalmente Alta",description:`Taxa de ${t.stats.median.toFixed(1)}%  muito alta. Verificar se rastreamento est correto.`,recommendedAction:"Revisar implementao do rastreamento. Possvel erro em contagem de cartes ou base.",confidence:60,evidence:[`Median: ${t.stats.median.toFixed(2)}%`,`Sample: ${t.sampleSize}`],icon:"",badgeColor:"bg-cyan-500/20 text-cyan-400",priority:10}),t.stats.median<.5&&t.sampleSize>=5&&n.push({id:"anomaly-too-low",type:"ANOMALY",severity:"MEDIUM",title:" Taxa Muito Baixa",description:`Taxa de ${t.stats.median.toFixed(3)}%  anormalmente baixa. Revisar segmentao ou pblico.`,recommendedAction:"Validar se segmento est realmente ativo. Considerar mudar para pblico diferente.",confidence:70,evidence:[`Median: ${t.stats.median.toFixed(4)}%`,`Sample: ${t.sampleSize}`],icon:"",badgeColor:"bg-red-500/20 text-red-400",priority:8}),n}detectQuickWins(t){const r=[],n=t.filter(a=>a.improvementPercent>15&&a.riskLevel==="low"&&a.confidence>70);for(let a=0;a<Math.min(n.length,2);a++){const s=n[a];r.push({id:`quick-win-${s.id}`,type:"QUICK_WIN",severity:"HIGH",title:` ${s.icon} ${s.displayText}`,description:`${s.title}: ${s.improvementPercent.toFixed(0)}% melhor com baixo risco (${s.sampleCount} casos similares).`,recommendedAction:`Aplicar agora: ${s.changedField} = ${s.newValue}`,relatedAlternative:s,confidence:s.confidence,evidence:[`Low risk: ${s.sampleCount} similar cases`,`High confidence: ${s.confidence}%`,"Easy to apply"],icon:"",badgeColor:"bg-lime-500/20 text-lime-400",priority:2+a})}return r}generateValidation(t){const r=[];return t.sampleSize>=10&&t.dataQuality.level==="high"&&r.push({id:"validation-good-setup",type:"VALIDATION",severity:"LOW",title:" Setup Consolidado",description:"Este setup tem histrico slido e performance consistente. Seguro para reproduzir.",recommendedAction:"Prosseguir com confiana. Este padro  bem estabelecido.",confidence:90,evidence:[`Sample size: ${t.sampleSize}`,`Data quality: ${t.dataQuality.level}`,`Median: ${t.stats.median.toFixed(2)}%`,`Variability: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%`],icon:"",badgeColor:"bg-green-500/20 text-green-400",priority:20}),r}getTopInsightByType(t,r){const n=t.filter(a=>a.type===r);return n.length===0?null:(n.sort((a,s)=>{const i={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3};return i[a.severity]-i[s.severity]}),n[0])}getCriticalInsights(t){return t.filter(r=>r.severity==="CRITICAL"||r.severity==="HIGH")}getOpportunityInsights(t){return t.filter(r=>r.type==="OPPORTUNITY"||r.type==="QUICK_WIN")}generateSummary(t){const r=t.filter(s=>s.severity==="CRITICAL"||s.severity==="HIGH"),n=t.filter(s=>s.type==="OPPORTUNITY"||s.type==="QUICK_WIN");let a="";return r.length>0&&(a+=` ${r.length} alerta(s) importante(s). `),n.length>0&&(a+=` ${n.length} oportunidade(s) de melhoria encontrada(s). `),r.length===0&&n.length===0&&(a=" Setup validado e pronto para disparo."),a}}const fPe="taxaConversao",hPe=500,pPe=5*60*1e3;function mPe(e,t){const[r,n]=w.useState(null),[a,s]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState(!1),[d,f]=w.useState(null),[h,p]=w.useState(fPe),[m,v]=w.useState(null),g=w.useRef(null),x=w.useRef(null),b=w.useRef(new Map);w.useEffect(()=>{if(console.log("[useDispatchInsights] Inicializando services...",{activitiesCount:(t==null?void 0:t.length)||0}),!t||t.length===0){console.log("[useDispatchInsights] Sem atividades disponveis"),f("Nenhuma atividade disponvel para anlise"),g.current=null;return}try{f(null);const k=new cPe;k.initialize(t);const S=new uPe(k);S.initialize(t);const E=new dPe;g.current={analyzer:k,altGen:S,insightGen:E},console.log("[useDispatchInsights] Services inicializados com sucesso")}catch(k){const S=k instanceof Error?k.message:"Erro ao inicializar anlise";console.error("[useDispatchInsights] Erro ao inicializar:",k),f(S),g.current=null}},[t]);const y=w.useCallback(async()=>{var E,C;if(!e||!g.current){n(null),s([]),o([]);return}const k=fD(e,h),S=b.current.get(k);if(S&&Date.now()-S.timestamp<pPe){const{perf:j,alts:T,inights:N}=S.data;n(j),s(T),o(N),v(new Date);return}try{c(!0),f(null);const{analyzer:j,altGen:T,insightGen:N}=g.current,A={bu:e.bu,canal:e.canal,segmento:e.segmento,jornada:e.jornada,perfilCredito:e.perfilCredito,oferta:e.oferta,windowDays:90,onlyCompleted:!0};console.log("[useDispatchInsights] Analisando performance com filtros:",A);const P=j.analyzePerformance(A,h);console.log("[useDispatchInsights] Performance analisada:",{sampleSize:P.sampleSize,timeseriesLength:((E=P.timeseries)==null?void 0:E.length)||0,dayOfWeekPatternsLength:((C=P.dayOfWeekPatterns)==null?void 0:C.length)||0}),console.log("[useDispatchInsights] Gerando alternativas...");const V=T.generateAlternatives(e,h,5);console.log("[useDispatchInsights] Alternativas geradas:",V.length),console.log("[useDispatchInsights] Gerando insights...");const z=N.generateInsights(e,P,V,P.trend);console.log("[useDispatchInsights] Insights gerados:",z.length),b.current.set(k,{data:{perf:P,alts:V,inights:z},timestamp:Date.now()}),n(P),s(V),o(z),v(new Date)}catch(j){const T=j instanceof Error?j.message:"Erro ao calcular insights";f(T),console.error("[useDispatchInsights] ERRO ao calcular insights:",j),console.error("[useDispatchInsights] Stack:",j instanceof Error?j.stack:"N/A")}finally{c(!1)}},[e,h]);w.useEffect(()=>{if(x.current&&clearTimeout(x.current),!(!e||!g.current)&&!(!e.bu||!e.canal))return x.current=setTimeout(()=>{y()},hPe),()=>{x.current&&clearTimeout(x.current)}},[e,h,y]);const _=w.useCallback(async()=>{const k=fD(e||{},h);b.current.delete(k),await y()},[e,h,y]);return w.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),{performance:r,alternatives:a,insights:i,isLoading:l,error:d,currentMetric:h,setCurrentMetric:p,refresh:_,lastCalculatedAt:m}}function fD(e,t){return JSON.stringify({bu:e.bu,canal:e.canal,segmento:e.segmento,jornada:e.jornada,perfilCredito:e.perfilCredito,oferta:e.oferta,metric:t})}function vPe({performance:e,metric:t,onMetricChange:r,height:n=350,showTrend:a=!0,showConfidenceInterval:s=!0,className:i=""}){const[o,l]=w.useState(null),c=w.useMemo(()=>e.timeseries.map((d,f)=>({date:d.date.toLocaleDateString("pt-BR"),dateObj:d.date,value:Math.round(d.value*100)/100,count:d.count,volume:d.volume,...a&&e.trend.isSignificant&&{trend:SPe(f,e)},...s&&{ciMin:Math.max(0,e.stats.confidenceInterval.min),ciMax:e.stats.confidenceInterval.max}})),[e,a,s]);return e.sampleSize===0?u.jsx(kPe,{message:"Sem dados para exibir"}):u.jsxs("div",{className:`performance-timeline-chart ${i}`,children:[u.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4 md:grid-cols-4",children:[u.jsx(em,{label:"Mdia",value:`${e.stats.mean.toFixed(2)}%`,icon:""}),u.jsx(em,{label:"Mediana",value:`${e.stats.median.toFixed(2)}%`,icon:""}),u.jsx(em,{label:"Desvio",value:`${e.stats.stdDev.toFixed(2)}%`,icon:""}),u.jsx(em,{label:"Amostras",value:e.sampleSize.toString(),icon:""})]}),u.jsx("div",{className:"mb-6 rounded-lg border border-slate-700 bg-slate-900 p-4",children:u.jsx(At,{width:"100%",height:n,children:u.jsxs(sy,{data:c,children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Nt,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"}}),u.jsx(lt,{stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"},label:{value:"Taxa (%)",angle:-90,position:"insideLeft",fill:"#94a3b8"}}),u.jsx(kt,{content:u.jsx(gPe,{})}),s&&u.jsx(ny,{type:"monotone",dataKey:"ciMax",fill:"rgba(59, 130, 246, 0.1)",stroke:"none",isAnimationActive:!1}),a&&e.trend.isSignificant&&u.jsx(Pr,{type:"linear",dataKey:"trend",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1,name:"Tendncia"}),u.jsx(Pr,{type:"monotone",dataKey:"value",stroke:hD(t),strokeWidth:2.5,dot:u.jsx(xPe,{}),activeDot:{r:6,fill:hD(t)},isAnimationActive:!0,name:"Taxa"}),u.jsx(ry,{y:e.stats.mean,stroke:"#64748b",strokeDasharray:"3 3",label:{value:`Mdia: ${e.stats.mean.toFixed(2)}%`,fill:"#94a3b8",fontSize:12}})]})})}),u.jsx(yPe,{trend:e.trend}),u.jsx(bPe,{dataQuality:e.dataQuality}),e.stats.outliers.length>0&&u.jsx(wPe,{outliers:e.stats.outliers}),r&&u.jsx(_Pe,{currentMetric:t,onMetricChange:r})]})}function em({label:e,value:t,icon:r}){return u.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-3",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-400",children:e}),u.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:r}),u.jsx("span",{className:"text-lg font-bold text-slate-100",children:t})]})]})}function gPe(){return u.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-900 p-3 shadow-lg",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-300",children:"Performance"}),u.jsx("div",{className:"mt-2 space-y-1",children:u.jsxs("div",{className:"text-sm text-slate-100",children:[u.jsx("span",{className:"font-semibold",children:"Taxa:"})," "]})})]})}function xPe(e){const{cx:t,cy:r,payload:n,value:a}=e;return n.count===1?u.jsx("circle",{cx:t,cy:r,r:4,fill:"#ef4444",stroke:"#fff",strokeWidth:1}):u.jsx("circle",{cx:t,cy:r,r:3,fill:"#3b82f6",stroke:"#fff",strokeWidth:1})}function yPe({trend:e}){if(!e.isSignificant)return u.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-700 bg-slate-800 p-4",children:[u.jsx(ad,{className:"h-6 w-6 text-slate-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-slate-200",children:"Performance Estvel"}),u.jsx("div",{className:"text-xs text-slate-400",children:"Sem tendncia clara nos dados"})]})]});const t=e.direction==="up";return u.jsxs("div",{className:`flex items-center gap-3 rounded-lg border p-4 ${t?"border-green-700 bg-green-900/20":"border-red-700 bg-red-900/20"}`,children:[t?u.jsx(Fn,{className:"h-6 w-6 text-green-400"}):u.jsx(id,{className:"h-6 w-6 text-red-400"}),u.jsxs("div",{children:[u.jsx("div",{className:`text-sm font-semibold ${t?"text-green-300":"text-red-300"}`,children:e.description}),u.jsxs("div",{className:"text-xs text-slate-400",children:["Mudana nos ltimos 30 dias: ",e.change30days>0?"+":"",e.change30days.toFixed(1),"% | R = ",e.rSquared.toFixed(2)]})]})]})}function bPe({dataQuality:e}){const t=r=>{switch(r){case"high":return"bg-green-900/20 border-green-700 text-green-300";case"medium":return"bg-yellow-900/20 border-yellow-700 text-yellow-300";case"low":return"bg-red-900/20 border-red-700 text-red-300";default:return"bg-slate-800 border-slate-700 text-slate-300"}};return u.jsxs("div",{className:`rounded-lg border p-4 ${t(e.level)}`,children:[u.jsx("div",{className:"text-sm font-semibold",children:"Qualidade dos Dados"}),u.jsx("ul",{className:"mt-2 space-y-1 text-xs",children:e.reasons.map((r,n)=>u.jsxs("li",{children:[" ",r]},n))}),u.jsxs("div",{className:"mt-2 text-xs font-semibold",children:[" ",e.recommendation]})]})}function wPe({outliers:e}){return u.jsxs("div",{className:"rounded-lg border border-yellow-700 bg-yellow-900/20 p-4",children:[u.jsxs("div",{className:"text-sm font-semibold text-yellow-300",children:[" ",e.length," Outlier(s) Detectado(s)"]}),u.jsxs("div",{className:"mt-2 text-xs text-yellow-200",children:["Valores atpicos encontrados: ",e.map(t=>t.toFixed(2)).join(", ")]}),u.jsx("div",{className:"mt-2 text-xs font-semibold text-yellow-300",children:"Dica: Usar MEDIANA ao invs de MDIA para maior confiabilidade"})]})}function _Pe({currentMetric:e,onMetricChange:t}){const r=[{value:"taxaConversao",label:"Taxa Converso",icon:""},{value:"cac",label:"CAC",icon:""},{value:"cartoesGerados",label:"Cartes",icon:""},{value:"taxaEntrega",label:"Taxa Entrega",icon:""},{value:"taxaAbertura",label:"Taxa Abertura",icon:""},{value:"propostas",label:"Propostas",icon:""},{value:"aprovados",label:"Aprovados",icon:""},{value:"baseAcionavel",label:"Base Acionvel",icon:""},{value:"volume",label:"Volume",icon:""}];return u.jsxs("div",{className:"mt-6",children:[u.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-300",children:"Alterar Mtrica:"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>u.jsxs("button",{onClick:()=>t(n.value),className:`rounded-lg px-3 py-1 text-xs font-semibold transition-all ${e===n.value?"border-blue-500 bg-blue-600 text-white":"border-slate-600 bg-slate-800 text-slate-300 hover:border-slate-500"} border`,children:[n.icon," ",n.label]},n.value))})]})}function kPe({message:e}){return u.jsx("div",{className:"flex h-64 items-center justify-center rounded-lg border border-dashed border-slate-600 bg-slate-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-3xl",children:""}),u.jsx("div",{className:"mt-2 text-sm text-slate-400",children:e})]})})}function SPe(e,t){if(!t.trend.isSignificant)return 0;const r=t.trend.slope;return t.stats.median+r*(e-t.timeseries.length/2)}function hD(e){return{taxaConversao:"#3b82f6",cac:"#ef4444",cartoesGerados:"#22c55e",taxaEntrega:"#8b5cf6",taxaAbertura:"#06b6d4",propostas:"#f59e0b",aprovados:"#14b8a6",baseAcionavel:"#ec4899",volume:"#6366f1"}[e]||"#3b82f6"}function EPe({currentValue:e,alternatives:t,metric:r,onSelectAlternative:n,minImprovementPercent:a=5,height:s=400,className:i=""}){const[o,l]=w.useState(null),[c,d]=w.useState(!1),f=w.useMemo(()=>{const h=[{id:"current",name:"Setup Atual",value:e,improvement:0,confidence:100,isCurrentSetup:!0,type:"current"}];for(const p of t)p.improvementPercent<a||c&&p.confidence<70||h.push({id:p.id,name:p.displayText,value:p.expectedMetricValue,improvement:p.improvementPercent,confidence:p.confidence,sampleCount:p.sampleCount,riskLevel:p.riskLevel,isCurrentSetup:!1,type:p.type,icon:p.icon,alternative:p});return h},[t,e,a,c]);return t.length===0?u.jsx(APe,{message:"Nenhuma alternativa com impacto significativo"}):u.jsxs("div",{className:`comparative-analysis-chart ${i}`,children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-100",children:"Anlise de Alternativas"}),u.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:h=>d(h.target.checked),className:"rounded"}),"Apenas alta confiana (>70%)"]})]}),u.jsx("div",{className:"mb-6 rounded-lg border border-slate-700 bg-slate-900 p-4",children:u.jsx(At,{width:"100%",height:s,children:u.jsxs(As,{data:f,layout:"vertical",margin:{top:5,right:30,left:250,bottom:5},children:[u.jsx(Ht,{strokeDasharray:"3 3",stroke:"#334155"}),u.jsx(Nt,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"},label:{value:`${r==="cac"?"CAC (R$)":"Taxa (%)"}`,position:"insideBottomRight",offset:-5,fill:"#94a3b8"}}),u.jsx(lt,{type:"category",dataKey:"name",stroke:"#94a3b8",style:{fontSize:"11px"},tick:{fill:"#94a3b8"},width:240}),u.jsx(kt,{content:u.jsx(TPe,{metric:r})}),u.jsx(br,{dataKey:"value",fill:"#3b82f6",radius:[0,8,8,0],children:f.map((h,p)=>u.jsx(rs,{fill:NPe(h),onClick:()=>{!h.isCurrentSetup&&h.alternative&&(l(h.id),n==null||n(h.alternative))},style:{cursor:h.isCurrentSetup?"default":"pointer",transition:"all 200ms ease",opacity:o===null||o===h.id?1:.6}},`cell-${p}`))})]})})}),u.jsx("div",{className:"space-y-3",children:f.map(h=>u.jsx(CPe,{data:h,isSelected:o===h.id,onClick:()=>{l(h.id),!h.isCurrentSetup&&h.alternative&&(n==null||n(h.alternative))}},h.id))}),!c&&f.length>1&&u.jsx(jPe,{topAlternative:f[1],onApply:()=>{f[1].alternative&&(n==null||n(f[1].alternative))}})]})}function CPe({data:e,isSelected:t,onClick:r}){if(e.isCurrentSetup)return u.jsx("div",{className:"rounded-lg border-2 border-blue-600 bg-blue-900/20 p-4",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:""}),u.jsx("div",{className:"font-semibold text-blue-300",children:e.name})]}),u.jsxs("div",{className:"mt-2 text-2xl font-bold text-blue-200",children:[e.value.toFixed(2),e.name.includes("%")?"%":"R$"]}),u.jsx("div",{className:"mt-1 text-xs text-blue-300",children:"Setup selecionado atualmente"})]}),u.jsx(tn,{className:"h-6 w-6 text-blue-400"})]})});const n=e.improvement,a=e.confidence,s=o=>o>50?"text-green-400":o>25?"text-emerald-400":o>10?"text-cyan-400":"text-slate-400",i=o=>o>80?"":o>60?"":"";return u.jsx("div",{onClick:r,className:`cursor-pointer rounded-lg border-2 p-4 transition-all ${t?"border-amber-500 bg-amber-900/30":"border-slate-700 bg-slate-800/50 hover:border-slate-600"}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-lg",children:e.icon||""}),u.jsx("div",{className:"font-semibold text-slate-100",children:e.name})]}),u.jsxs("div",{className:"mt-2 text-xl font-bold text-slate-100",children:[e.value.toFixed(2),e.name.includes("%")?"%":"R$"]}),u.jsxs("div",{className:`mt-1 text-sm font-semibold ${s(n)}`,children:[n>0?"+":"",n.toFixed(1),"% vs setup atual"]}),u.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-slate-400",children:[u.jsxs("span",{children:[i(a)," Confiana: ",a,"%"]}),u.jsxs("span",{children:[" ",e.sampleCount," casos similares"]}),u.jsxs("span",{children:["Risk:"," ",e.riskLevel==="low"?" BAIXO":e.riskLevel==="medium"?" MDIO":" ALTO"]})]})]}),u.jsx(Fn,{className:"h-5 w-5 text-slate-500"})]})})}function jPe({topAlternative:e,onApply:t}){return!e||e.isCurrentSetup?null:u.jsx("div",{className:"mt-6 rounded-lg border-2 border-green-600 bg-green-900/30 p-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-2xl",children:""}),u.jsxs("div",{children:[u.jsx("div",{className:"font-bold text-green-300",children:"TOP RECOMENDAO"}),u.jsx("div",{className:"mt-1 text-sm text-green-200",children:e.name})]})]}),u.jsxs("div",{className:"mt-3 text-xs text-green-300",children:[u.jsxs("div",{children:["Melhoria: ",u.jsxs("strong",{children:["+",e.improvement.toFixed(1),"%"]})]}),u.jsxs("div",{children:["Confiana: ",u.jsxs("strong",{children:[e.confidence,"%"]})]}),u.jsxs("div",{children:["Baseado em ",u.jsx("strong",{children:e.sampleCount})," disparos similares"]})]})]}),u.jsx("button",{onClick:t,className:"flex-shrink-0 rounded-lg bg-green-600 px-4 py-2 text-sm font-semibold text-white transition-all hover:bg-green-700",children:"Aplicar"})]})})}function TPe({metric:e}){return u.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-900 p-3 shadow-lg",children:[u.jsx("div",{className:"text-xs font-semibold text-slate-300",children:"Detalhes"}),u.jsx("div",{className:"mt-2 text-sm text-slate-100"})]})}function APe({message:e}){return u.jsx("div",{className:"flex h-48 items-center justify-center rounded-lg border border-dashed border-slate-600 bg-slate-900",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Ds,{className:"mx-auto h-8 w-8 text-slate-500"}),u.jsx("div",{className:"mt-2 text-sm text-slate-400",children:e})]})})}function NPe(e){return e.isCurrentSetup?"#3b82f6":e.improvement>30&&e.confidence>75?"#22c55e":e.improvement>15?"#f59e0b":"#8b5cf6"}function PPe({insightResult:e,onSelectAlternative:t,className:r=""}){const[n,a]=w.useState("timeline"),{performance:s,alternatives:i,isLoading:o,error:l,currentMetric:c,setCurrentMetric:d}=e;return u.jsxs("section",{className:`insights-section space-y-4 rounded-lg border border-slate-700 bg-slate-900 p-6 ${r}`,children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center rounded-lg bg-blue-600/20 p-2",children:u.jsx(Fn,{className:"h-5 w-5 text-blue-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-100",children:" AI-Powered Insights"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Anlise de performance e alternativas"})]})]}),o&&u.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[u.jsx(HH,{className:"h-4 w-4 animate-spin"}),"Analisando..."]})]}),l&&u.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-red-700 bg-red-900/20 p-3",children:[u.jsx(Ds,{className:"h-5 w-5 flex-shrink-0 text-red-400"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-semibold text-red-300",children:"Erro ao analisar"}),u.jsx("div",{className:"text-xs text-red-400",children:l})]})]}),u.jsxs("div",{className:"flex gap-2 border-b border-slate-700",children:[u.jsx(pD,{icon:"",label:"Performance Timeline",isActive:n==="timeline",onClick:()=>a("timeline")}),u.jsx(pD,{icon:"",label:"Comparative Analysis",isActive:n==="comparative",onClick:()=>a("comparative")})]}),o&&!s?u.jsx(MPe,{}):n==="timeline"?u.jsx(OPe,{performance:s,currentMetric:c,onMetricChange:d}):u.jsx(DPe,{currentValue:(s==null?void 0:s.stats.median)??0,alternatives:i,currentMetric:c,onSelectAlternative:t}),u.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-700 pt-4",children:[u.jsx("div",{className:"text-xs text-slate-500",children:s&&u.jsxs(u.Fragment,{children:[" ",s.sampleSize," disparos similares analisados",e.lastCalculatedAt&&u.jsxs("span",{className:"ml-2",children:[" Atualizado ",IPe(e.lastCalculatedAt)]})]})}),u.jsx("button",{onClick:e.refresh,disabled:o,className:"text-xs text-blue-400 transition hover:text-blue-300 disabled:opacity-50",children:" Atualizar"})]})]})}function pD({icon:e,label:t,isActive:r,onClick:n}){return u.jsxs("button",{onClick:n,className:`flex items-center gap-2 border-b-2 px-4 py-3 text-sm font-semibold transition-all ${r?"border-blue-500 text-blue-400":"border-transparent text-slate-500 hover:text-slate-400"}`,children:[u.jsx("span",{children:e}),t]})}function OPe({performance:e,currentMetric:t,onMetricChange:r}){return e?u.jsx("div",{className:"space-y-4",children:u.jsx(vPe,{performance:e,metric:t,onMetricChange:r,height:400,showTrend:!0,showConfidenceInterval:!0})}):u.jsx("div",{className:"flex h-64 items-center justify-center text-slate-500",children:"Preencha os campos para ver anlise de performance"})}function DPe({currentValue:e,alternatives:t,currentMetric:r,onSelectAlternative:n}){return t.length===0?u.jsx("div",{className:"flex h-64 items-center justify-center text-slate-500",children:"Nenhuma alternativa com impacto significativo encontrada"}):u.jsx("div",{className:"space-y-4",children:u.jsx(EPe,{currentValue:e,alternatives:t,metric:r,onSelectAlternative:n,minImprovementPercent:5,height:400})})}function MPe(){return u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"mb-4 grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>u.jsx("div",{className:"h-16 rounded-lg bg-slate-800"},e))}),u.jsx("div",{className:"h-80 rounded-lg bg-slate-800"})]})})}function IPe(e){const r=new Date().getTime()-e.getTime(),n=Math.floor(r/6e4);if(n<1)return"agora";if(n<60)return`${n}m atrs`;const a=Math.floor(n/60);return a<24?`${a}h atrs`:`${Math.floor(a/24)}d atrs`}const RPe=({onClose:e,onSuccess:t})=>{const{formData:r,errors:n,setErrors:a,loading:s,setLoading:i,editingActivity:o,setFormData:l}=wd(),c=vt(g=>g.removeActivity),d=vt(g=>g.activities),f=w.useMemo(()=>!r.bu||!r.canal?null:{bu:r.bu,canal:r.canal,segmento:r.segmento||"",jornada:r.jornada||"",perfilCredito:r.perfilCredito||"",oferta:r.oferta||"",dataDisparo:r.dataInicio||new Date().toISOString().split("T")[0],horarioDisparo:r.horarioDisparo||"10:00",baseTotal:parseInt(String(r.baseVolume||1e3),10)},[r]),h=mPe(f,d),p=g=>{l(x=>({...x,...g.appliedChanges})),console.log(` Sugesto aplicada: ${g.title}`)},m=async g=>{try{i(!0),a({});const x={bu:r.bu,jornada:r.jornada,activityName:r.activityName,dataInicio:r.dataInicio,dataFim:r.dataFim,horarioDisparo:r.horarioDisparo,canal:r.canal,safra:r.safra,ordemDisparo:r.ordemDisparo,perfilCredito:r.perfilCredito,oferta:r.oferta,promocional:r.promocional,oferta2:r.oferta2,promocional2:r.promocional2,parceiro:r.parceiro,subgrupo:r.subgrupo,etapaAquisicao:r.etapaAquisicao,produto:r.produto,baseVolume:r.baseVolume,custoUnitarioOferta:r.custoUnitarioOferta,custoTotalOferta:r.custoTotalOferta,custoUnitarioCanal:r.custoUnitarioCanal,custoTotalCanal:r.custoTotalCanal,custoTotalCampanha:r.custoTotalCampanha,status:g},b=O9.safeParse(x);if(!b.success){const _={};b.error.issues.forEach(k=>{const S=k.path[0];_[S]=k.message}),a(_),a(k=>({...k,form:"Verifique os campos obrigatorios em vermelho."}));return}let y;o?y=await Nf.updateActivity(o.id,{BU:b.data.bu,jornada:b.data.jornada,"Activity name / Taxonomia":b.data.activityName,"Data de Disparo":b.data.dataInicio,"Data Fim":b.data.dataFim,"Horrio de Disparo":b.data.horarioDisparo,Segmento:r.segmento,Canal:b.data.canal,"Perfil de Crdito":b.data.perfilCredito||null,Oferta:b.data.oferta||null,Promocional:b.data.promocional||null,"Oferta 2":b.data.oferta2||null,"Promocional 2":b.data.promocional2||null,Parceiro:b.data.parceiro||null,Subgrupos:b.data.subgrupo||null,"Etapa de aquisio":b.data.etapaAquisicao||null,Produto:b.data.produto||null,"Base Total":Number(r.baseVolume)||null,status:b.data.status}):y=await Nf.saveActivity(b.data,r.segmento),t(y),e()}catch(x){console.error("Erro ao salvar atividade:",x),a({form:`Erro ao salvar: ${(x==null?void 0:x.message)||"Erro desconhecido"}`})}finally{i(!1)}},v=async()=>{if(!(!o||!window.confirm("Tem certeza que deseja apagar esta atividade?")))try{i(!0),await Nf.deleteActivity(o.id),c(o.id),e()}catch(g){console.error("Erro ao apagar:",g),a({form:"Erro ao apagar atividade da base."})}finally{i(!1)}};return u.jsxs("div",{className:"relative w-[95vw] max-w-[1820px] h-[85vh] max-h-[920px] flex flex-col bg-[#0f172a] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-700/50 ring-1 ring-white/5",children:[u.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-[#0f172a] border-b border-slate-800 shrink-0",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`p-1.5 rounded-lg ${o?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"}`,children:o?u.jsx(hw,{size:18}):u.jsx(dc,{size:18})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-sm font-bold text-white tracking-tight",children:o?"Editar Disparo":"Novo Disparo"}),u.jsx("p",{className:"text-[10px] text-slate-400",children:o?"Edite os parametros da atividade":"Layout compacto - Desktop 1920x1080"})]})]}),u.jsx("button",{onClick:e,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(fa,{size:18})})]}),u.jsxs("div",{className:"flex-1 overflow-x-auto overflow-y-auto p-4",children:[n.form&&u.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg text-red-300 text-xs flex items-center gap-2",children:[u.jsx(Ds,{size:16}),n.form]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-4",children:[u.jsx(aPe,{}),u.jsx(sPe,{}),u.jsx(iPe,{}),u.jsx(oPe,{}),u.jsx(lPe,{})]}),f&&u.jsx(PPe,{insightResult:h,onSelectAlternative:p,className:"w-full"})]}),u.jsxs("div",{className:"px-5 py-3 bg-[#0f172a] border-t border-slate-800 flex justify-between items-center shrink-0 shadow-lg z-10",children:[u.jsx("div",{children:o&&u.jsxs("button",{onClick:v,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 px-3 py-2 rounded-lg text-xs font-medium transition-colors flex items-center gap-1.5",children:[u.jsx(Yl,{size:14}),u.jsx("span",{children:"Excluir"})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white font-medium text-xs transition-colors",children:"Cancelar"}),u.jsx("button",{onClick:()=>m("Rascunho"),disabled:s,className:"px-4 py-2 bg-slate-800 border border-slate-700 hover:bg-slate-700 text-slate-300 rounded-lg font-medium text-xs transition-all shadow-sm disabled:opacity-50",children:s?"...":"Salvar Rascunho"}),u.jsxs("button",{onClick:()=>m("Scheduled"),disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold text-xs shadow-lg shadow-blue-500/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:transform-none flex items-center gap-1.5",children:[u.jsx(hw,{size:14}),s?"Processando...":"Agendar Disparo"]})]})]})]})},FPe=({isOpen:e,onClose:t,onSuccess:r,editingActivity:n,activeSegmento:a})=>e?u.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2",children:[u.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),u.jsx(tPe,{editingActivity:n,activeSegmento:a,children:u.jsx(RPe,{onClose:t,onSuccess:r})})]}):null,LPe=({data:e,onActivityUpdate:t})=>{const[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(null),l=vt(b=>b.viewSettings),c=vt(b=>b.addActivity),d=l.filtrosGlobais,{availableSegmentos:f}=F0(e,d),h=d.segmentos[0]||f[0]||"Todos",p=b=>{n(b)},m=b=>{const y={...b.raw,id:b.raw.id||b.id,BU:b.bu,jornada:b.jornada,"Activity name / Taxonomia":b.id,"Data de Disparo":be(b.dataDisparo,"yyyy-MM-dd"),status:b.status||"Scheduled"};o(y),s(!0),n(null)},v=b=>Object.values(e).flat().filter(y=>S0(y.dataDisparo,b)),g=async b=>{const y=bC(b);c(y),t&&t(b.id,new Date(b["Data de Disparo"])),s(!1),o(null)},x=async b=>{try{const y=b.raw.id||b.raw.id;if(!y){console.error("Cannot confirm draft: missing database ID");return}await Nf.confirmDraft(y);const _={...b,status:"Scheduled"};c(_),n(null),setTimeout(()=>n(b.dataDisparo),100)}catch(y){console.error("Error confirming draft:",y)}};return u.jsxs(u.Fragment,{children:[u.jsx(rNe,{data:e,onActivityUpdate:t,onDayClick:p,onProgramDispatch:()=>{o(null),s(!0)}}),r&&u.jsx(Rh,{date:r,activities:v(r),onClose:()=>n(null),onEdit:m,onConfirmDraft:x}),u.jsx(FPe,{isOpen:a,onClose:()=>{s(!1),o(null)},onSuccess:g,editingActivity:i,activeSegmento:h})]})},$Pe=({initialStartDate:e,initialEndDate:t,initialCompareEnabled:r=!1,onApply:n,onCancel:a})=>{const[s,i]=w.useState(e),[o,l]=w.useState(t),[c,d]=w.useState(null),[f,h]=w.useState(r),[p,m]=w.useState(Mo(new Date)),v=[{label:"Esta semana",getValue:()=>[Ft(new Date,new Date().getDay()),new Date]},{label:"ltimos 14 dias",getValue:()=>[Ft(new Date,13),new Date]},{label:"ltimos 28 dias",getValue:()=>[Ft(new Date,27),new Date]},{label:"ltimos 90 dias",getValue:()=>[Ft(new Date,89),new Date]},{label:"Este ano",getValue:()=>[new Date(new Date().getFullYear(),0,1),new Date]},{label:"Este Ms",getValue:()=>[zr(new Date),new Date]}],g=k=>{!s||s&&o?(i(k),l(null)):uO(k,s)?(l(s),i(k)):l(k)},x=k=>{const[S,E]=k();i(S),l(E),m(E)},b=f&&s&&o?Ft(s,Gu(o,s)+1):null,y=f&&s&&o?Ft(o,Gu(o,s)+1):null,_=(k,S)=>{const E=Ga(zr(k)),C=_pe(Mo(k)),j=NE({start:E,end:C}),T=["D","S","T","Q","Q","S","S"];return u.jsxs("div",{className:"w-[320px] p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S==="left"?u.jsx("button",{onClick:()=>m(Xu(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:u.jsx(Y0,{size:20})}):u.jsx("div",{className:"w-8"}),u.jsx("span",{className:"font-semibold text-slate-200 capitalize",children:be(k,"MMMM yyyy",{locale:ns})}),S==="right"?u.jsx("button",{onClick:()=>m(jE(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:u.jsx(En,{size:20})}):u.jsx("div",{className:"w-8"})]}),u.jsx("div",{className:"grid grid-cols-7 mb-2",children:T.map((N,A)=>u.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:N},A))}),u.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:j.map((N,A)=>{const P=N.getMonth()===k.getMonth(),V=s&&S0(N,s),z=o&&S0(N,o),Z=s&&o&&Io(N,{start:s,end:o}),G=!o&&s&&c&&Io(N,{start:uO(N,s)?N:s,end:gme(N,s)?N:s}),Y=b&&y&&Io(N,{start:b,end:y});return u.jsx("button",{onClick:()=>g(N),onMouseEnter:()=>d(N),onMouseLeave:()=>d(null),className:`
                                    h-9 w-full flex items-center justify-center text-sm relative
                                    ${P?"text-slate-300":"text-slate-600"}
                                    ${V?"bg-blue-600 text-white rounded-l-full z-10":""}
                                    ${z?"bg-blue-600 text-white rounded-r-full z-10":""}
                                    ${(Z||G)&&!V&&!z?"bg-blue-600/20":""}
                                    ${Y&&!Z&&!V&&!z?"bg-orange-500/20 text-orange-300":""}
                                    ${V&&z?"rounded-full":""}
                                    hover:bg-blue-600/50 hover:text-white transition-colors
                                `,children:be(N,"d")},A)})})]})};return u.jsxs("div",{className:"flex h-[450px]",children:[u.jsx("div",{className:"w-48 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col gap-2",children:v.map((k,S)=>u.jsx("button",{onClick:()=>x(k.getValue),className:"text-left px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:k.label},S))}),u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsxs("div",{className:"flex-1 flex divide-x divide-slate-800",children:[u.jsx("div",{className:"relative",children:_(Xu(p,1),"left")}),u.jsx("div",{className:"relative",children:_(p,"right")})]}),u.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-between items-center bg-slate-900/50",children:[u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f,onChange:k=>h(k.target.checked),className:"rounded border-slate-600 bg-slate-800 text-blue-600 focus:ring-blue-500/20"}),"Comparar com perodo anterior"]})}),u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-slate-200",children:"Cancelar"}),u.jsx("button",{onClick:()=>n(s,o||s,f),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Aplicar"})]})]})]})]})},BPe=()=>{const{startDate:e,endDate:t,setPeriod:r,compareEnabled:n,toggleCompare:a}=mc(),[s,i]=w.useState(!1),o=w.useRef(null);w.useEffect(()=>{const c=d=>{o.current&&!o.current.contains(d.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const l=(c,d,f)=>{r(c,d),a(f),i(!1)};return u.jsxs("div",{className:"relative",ref:o,children:[u.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-lg border shadow-sm transition-all ${s?"bg-slate-900 border-white text-white":"bg-slate-900/90 border-slate-700 text-white hover:bg-slate-900"}`,children:[u.jsx(dc,{size:16,className:"text-slate-400"}),u.jsxs("span",{className:"text-sm font-medium",children:[be(e,"dd MMM, yyyy",{locale:ns})," - ",be(t,"dd MMM, yyyy",{locale:ns})]}),u.jsx(ql,{size:14,className:`text-slate-500 transition-transform ${s?"rotate-180":""}`})]}),s&&u.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:u.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl shadow-black/50 overflow-hidden w-[800px]",children:u.jsx($Pe,{initialStartDate:e,initialEndDate:t,initialCompareEnabled:n,onApply:l,onCancel:()=>i(!1)})})})]})},zPe=({title:e,children:t})=>u.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-white/10 bg-[#1A2238] sticky top-0 z-20 shadow-lg",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-100 drop-shadow-sm",children:e}),u.jsx("div",{className:"mt-1",children:u.jsx(BPe,{})})]}),u.jsx("div",{className:"flex items-center gap-3",children:t})]}),q9=w.createContext(void 0),UPe=({children:e})=>{const{paidMediaData:t,setPaidMediaData:r}=vt(),n=t,a=r,[s,i]=w.useState({from:zr(new Date),to:qu(new Date)}),[o,l]=w.useState("this-month"),[c,d]=w.useState(["meta","google"]),[f,h]=w.useState(["marca","b2c"]),[p,m]=w.useState([]),[v,g]=w.useState(!0);w.useEffect(()=>{if(n.length>0){const C=n.map(A=>new Date(A.date).getTime()),j=Math.max(...C),T=new Date(j),N=Ft(T,30);i({from:Ki(N),to:Ki(T)}),l("custom"),m([])}},[n]);const x=w.useMemo(()=>n.filter(C=>{const j=new Date(C.date);return!(!(j>=s.from&&j<=s.to)||!c.includes(C.channel)||C.objective&&!f.includes(C.objective)||p.length>0&&!p.includes(C.campaign))}),[n,s,c,f,p]),b=w.useMemo(()=>{if(!v)return[];const C=s.to.getTime()-s.from.getTime(),j=new Date(s.from.getTime()-24*60*60*1e3),T=new Date(j.getTime()-C);return n.filter(N=>{const A=new Date(N.date);return!(!(A>=T&&A<=j)||!c.includes(N.channel)||N.objective&&!f.includes(N.objective)||p.length>0&&!p.includes(N.campaign))})},[n,s,c,f,p,v]),y=w.useMemo(()=>{const C=new Set;return n.forEach(j=>{const T=new Date(j.date);T>=s.from&&T<=s.to&&C.add(j.campaign)}),Array.from(C).sort()},[n,s]),_=(C,j)=>{i(C),j&&l(j)},k=C=>{d(j=>j.includes(C)?j.filter(T=>T!==C):[...j,C])},S=C=>{h(j=>j.includes(C)?j.filter(T=>T!==C):[...j,C])},E=C=>{m(j=>j.includes(C)?j.filter(T=>T!==C):[...j,C])};return u.jsx(q9.Provider,{value:{rawData:n,filteredData:x,previousPeriodData:b,setRawData:a,filters:{dateRange:s,timeRangeOption:o,selectedChannels:c,selectedObjectives:f,selectedCampaigns:p,isCompareEnabled:v},setFilters:{setDateRange:_,toggleChannel:k,toggleObjective:S,toggleCampaign:E,setSelectedCampaigns:m,setIsCompareEnabled:g},availableCampaigns:y},children:e})},sl=()=>{const e=w.useContext(q9);if(e===void 0)throw new Error("useFilters must be used within a FilterProvider");return e},VPe=({onDataLoaded:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!1),[s,i]=w.useState(null),o=async h=>{i(null),a(!0);try{const p=await dC(h);if(p.length===0)throw new Error("Nenhum dado vlido encontrado nas abas esperadas.");e(p)}catch(p){console.error(p),i(p instanceof Error?p.message:"Erro ao processar arquivo.")}finally{a(!1)}},l=w.useCallback(h=>{h.preventDefault(),r(!1),h.dataTransfer.files&&h.dataTransfer.files[0]&&o(h.dataTransfer.files[0])},[]),c=w.useCallback(h=>{h.preventDefault(),r(!0)},[]),d=w.useCallback(h=>{h.preventDefault(),r(!1)},[]),f=h=>{h.target.files&&h.target.files[0]&&o(h.target.files[0])};return u.jsxs("div",{className:`
        w-full max-w-2xl mx-auto p-8 border-2 border-dashed rounded-xl transition-all duration-200
        flex flex-col items-center justify-center text-center cursor-pointer
        ${t?"border-primary bg-primary/5 scale-[1.02]":"border-slate-300 hover:border-primary hover:bg-slate-50"}
      `,onDrop:l,onDragOver:c,onDragLeave:d,onClick:()=>{var h;return(h=document.getElementById("fileInput"))==null?void 0:h.click()},children:[u.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".xlsx, .xls",onChange:f}),n?u.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[u.jsx(Os,{className:"w-12 h-12 text-primary mb-4 animate-spin"}),u.jsx("p",{className:"text-slate-500 font-medium",children:"Processando dados..."})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`p-4 rounded-full mb-4 ${s?"bg-red-100":"bg-slate-100"}`,children:s?u.jsx(Ds,{className:"w-8 h-8 text-red-500"}):u.jsx(Gg,{className:"w-8 h-8 text-slate-500"})}),u.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:s?"Erro na Importao":"Carregar planilha de dados"}),u.jsx("p",{className:"text-sm text-slate-500 max-w-md",children:s?u.jsx("span",{className:"text-red-500",children:s}):"Arraste seu arquivo XLSX aqui ou clique para selecionar. Certifique-se de que as 4 abas corretas existem."})]})]})},WPe=()=>{const{filters:e,setFilters:t,availableCampaigns:r}=sl(),n=a=>{const s=a.target.value,i=new Date;let o=i,l=i;switch(s){case"7d":l=i,o=Ft(l,7);break;case"14d":l=i,o=Ft(l,14);break;case"30d":l=i,o=Ft(l,30);break;case"90d":l=i,o=Ft(l,90);break;case"this-month":o=zr(i),l=qu(i);break;case"last-month":o=zr(Ft(zr(i),1)),l=qu(Ft(zr(i),1));break;case"custom":o=e.dateRange.from,l=e.dateRange.to;break}t.setDateRange({from:o,to:l},s)};return u.jsxs("div",{className:"absolute top-[calc(100%-1px)] left-0 w-full bg-white border-b border-slate-200 shadow-lg py-3 px-6 flex flex-wrap items-center gap-4 transition-all duration-300 ease-in-out transform -translate-y-full opacity-0 invisible group-hover:translate-y-0 group-hover:opacity-100 group-hover:visible z-40",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50/50 hover:bg-white transition-colors",children:[u.jsx(dc,{className:"w-3.5 h-3.5 text-slate-500"}),u.jsxs("select",{value:e.timeRangeOption,onChange:n,className:"bg-transparent border-none text-xs font-semibold text-slate-700 focus:ring-0 cursor-pointer outline-none p-0 pr-2",children:[u.jsx("option",{value:"this-month",children:"Ms Atual"}),u.jsx("option",{value:"last-month",children:"Ms Passado"}),u.jsx("option",{value:"7d",children:"ltimos 7 dias"}),u.jsx("option",{value:"14d",children:"ltimos 14 dias"}),u.jsx("option",{value:"30d",children:"ltimos 30 dias"}),u.jsx("option",{value:"90d",children:"ltimos 90 dias"}),u.jsx("option",{value:"custom",children:"Personalizado"})]}),u.jsxs("span",{className:"text-xs text-slate-400 border-l border-slate-200 pl-2",children:[be(e.dateRange.from,"dd/MM")," - ",be(e.dateRange.to,"dd/MM")]})]}),u.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(SK,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Mdia:"})]}),u.jsx("div",{className:"flex items-center gap-2",children:["meta","google"].map(a=>u.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedChannels.includes(a)?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[u.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedChannels.includes(a),onChange:()=>t.toggleChannel(a)}),a==="meta"?"Meta Ads":"Google Ads"]},a))})]}),u.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[u.jsx(Xi,{className:"w-3.5 h-3.5"}),u.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Objetivo:"})]}),u.jsx("div",{className:"flex items-center gap-2",children:["marca","b2c"].map(a=>u.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedObjectives.includes(a)?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[u.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedObjectives.includes(a),onChange:()=>t.toggleObjective(a)}),a==="marca"?"Branding":"Performance (B2C)"]},a))})]}),u.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),u.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-[200px] max-w-md",children:u.jsxs("div",{className:"relative w-full",children:[u.jsx(Z0,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),u.jsxs("select",{className:"w-full bg-white border border-slate-200 text-xs font-medium text-slate-700 rounded-md py-1.5 pl-8 pr-8 focus:ring-1 focus:ring-blue-500 outline-none appearance-none hover:border-slate-300 transition-colors",value:e.selectedCampaigns.length===1?e.selectedCampaigns[0]:"",onChange:a=>{a.target.value===""?t.setSelectedCampaigns([]):t.setSelectedCampaigns([a.target.value])},children:[u.jsxs("option",{value:"",children:["Todas as Campanhas (",r.length,")"]}),r.map(a=>u.jsx("option",{value:a,children:a},a))]}),u.jsx(ql,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400 pointer-events-none"})]})}),u.jsxs("label",{className:`
                flex items-center gap-2 cursor-pointer ml-auto border rounded-md px-3 py-1.5 transition-all
                ${e.isCompareEnabled?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}
            `,children:[u.jsx("input",{type:"checkbox",checked:e.isCompareEnabled,onChange:()=>t.setIsCompareEnabled(!e.isCompareEnabled),className:"rounded text-indigo-600 focus:ring-indigo-500 w-3.5 h-3.5"}),u.jsx("span",{className:`text-xs font-medium ${e.isCompareEnabled?"text-indigo-700":"text-slate-600"}`,children:"Comparar perodo anterior"})]})]})},gy="media_paga_budgets",xy=()=>{const e=localStorage.getItem(gy);return e?JSON.parse(e):[]},HPe=e=>{const t=xy(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(gy,JSON.stringify(t)),r},KPe=(e,t)=>{const r=xy(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(gy,JSON.stringify(r)))},GPe=e=>{const t=xy().filter(r=>r.id!==e);localStorage.setItem(gy,JSON.stringify(t))},Y9=()=>{const[e,t]=w.useState([]),r=()=>{t(xy())};return w.useEffect(()=>{r()},[]),{budgets:e,add:i=>{HPe(i),r()},update:(i,o)=>{KPe(i,o),r()},remove:i=>{GPe(i),r()},refresh:r}},tm=({title:e,value:t,trendValue:r,trendLabel:n="vs perodo anterior",trendInverse:a=!1,contextValue:s,status:i,icon:o})=>{const l=r!==void 0&&r>0,c=r===0||r===void 0;let d="text-slate-500",f=ad;!c&&r!==void 0&&(l?(f=BW,d=a?"text-red-500":"text-green-500"):(f=MW,d=a?"text-green-500":"text-red-500"));const h=i==="success"?tn:i==="warning"?yu:GI,p=i==="success"?"text-green-500":i==="warning"?"text-yellow-500":"text-red-500";return u.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e}),o&&u.jsx("div",{className:"text-slate-300 opacity-80 scale-90",children:o})]}),u.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 tracking-tight mb-3",children:t}),u.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[r!==void 0&&u.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[u.jsxs("span",{className:`flex items-center ${d}`,children:[u.jsx(f,{className:"w-3.5 h-3.5"}),Math.abs(r).toFixed(1),"%"]}),u.jsx("span",{className:"text-slate-400",children:n})]}),(s||i)&&u.jsxs("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t border-slate-50",children:[s&&u.jsx("span",{className:"text-slate-500 font-medium",children:s}),s&&i&&u.jsx("span",{className:"text-slate-300",children:"|"}),i&&u.jsxs("div",{className:`flex items-center gap-1 ${p}`,children:[u.jsx("span",{children:"Status:"}),u.jsx(h,{className:"w-3.5 h-3.5"})]})]})]}),u.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-full ${i==="error"?"bg-red-500":i==="warning"?"bg-amber-400":"bg-orange-500"}`})]})},qPe=({data:e=[]})=>{const t=w.useMemo(()=>{const i=e.filter(c=>c.channel==="meta"),o=e.filter(c=>c.channel==="google"),l=c=>{const d=c.reduce((g,x)=>g+x.spend,0),f=c.reduce((g,x)=>g+x.impressions,0),h=c.reduce((g,x)=>g+x.clicks,0),p=c.reduce((g,x)=>g+x.conversions,0),m=f?d/f*1e3:0,v=p?d/p:0;return{spend:d,imp:f,clicks:h,conv:p,cpm:m,cpa:v}};return{meta:l(i),google:l(o)}},[e]),r=(i,o,l,c,d=!1,f="")=>{if(o===0&&l===0)return null;const h=d?o<l:o>l,p=d?l<o:l>o;let m="Manter",v=0;if(o>0&&l>0){const g=Math.max(o,l),x=Math.min(o,l);v=(g-x)/x*100,h?m=`Meta ${v.toFixed(0)}% melhor`:p&&(m=`Google ${v.toFixed(0)}% melhor`),d?m=`${h?"Meta":"Google"} ${v.toFixed(0)}% mais eficiente`:m=`${h?"Meta":"Google"} ${v.toFixed(0)}% maior volume`}return u.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors group",children:[u.jsx("td",{className:"py-4 px-4 font-medium text-slate-600 bg-white group-hover:bg-orange-50/50",children:i}),u.jsxs("td",{className:"py-4 px-4 text-right border-l border-r border-slate-100 bg-[#1877F2]/5 text-slate-700",children:[u.jsxs("div",{className:"font-semibold",children:[c(o),u.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),h&&u.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),u.jsxs("td",{className:"py-4 px-4 text-right border-r border-slate-100 bg-[#ea4335]/5 text-slate-700",children:[u.jsxs("div",{className:"font-semibold",children:[c(l),u.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),p&&u.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),u.jsx("td",{className:"py-4 px-4 text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs font-medium text-slate-500",children:[m,u.jsx(ck,{size:14,className:"text-orange-400"})]})})]})},n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(i),a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(i),s=i=>new Intl.NumberFormat("pt-BR").format(i);return u.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-6 pb-4 border-b border-orange-100 flex justify-between items-center bg-orange-50/30",children:u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlise de Canais"}),u.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Comparativo direto de performance"})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"bg-orange-50 text-slate-500 uppercase text-xs tracking-wider",children:[u.jsx("th",{className:"py-3 px-4 text-left font-bold w-1/5",children:"Mtrica"}),u.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#1877F2] bg-blue-50 border-b-2 border-[#1877F2]/20",children:"Meta Ads"}),u.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#ea4335] bg-red-50 border-b-2 border-[#ea4335]/20",children:"Google Ads"}),u.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/3",children:"Ao / Insight"})]})}),u.jsxs("tbody",{children:[r("Investimento",t.meta.spend,t.google.spend,n,!1),r("CPM (Custo Mil)",t.meta.cpm,t.google.cpm,n,!0),r("Converses",t.meta.conv,t.google.conv,s,!1),r("CPA (Custo Conv.)",t.meta.cpa,t.google.cpa,a,!0)]})]})})]})},YPe=({current:e,previous:t,show:r})=>{if(!r)return u.jsx("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-8 flex items-center justify-center text-slate-500",children:u.jsx("p",{children:'Habilite "Comparar anterior" para ver a anlise de perodo.'})});const n=(l,c,d,f="number",h=!1,p=0)=>{const m=d===0?0:(c-d)/d*100,v=m>0,g=m===0;let x="text-slate-500";g||(v?x=h?"text-red-400":"text-green-400":x=h?"text-green-400":"text-red-400");const b=y=>f==="currency"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:p,minimumFractionDigits:p}).format(y):f==="percent"?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:p,maximumFractionDigits:p}).format(y)+"%":new Intl.NumberFormat("pt-BR",{maximumFractionDigits:p}).format(y);return u.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors px-2 rounded-lg",children:[u.jsx("span",{className:"text-sm font-medium text-slate-600",children:l}),u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-slate-400",children:"Anterior"}),u.jsx("p",{className:"text-sm font-medium text-slate-500",children:b(d)})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs text-slate-400",children:"Atual"}),u.jsx("p",{className:"text-sm font-bold text-slate-800",children:b(c)})]}),u.jsxs("div",{className:`w-16 text-right font-bold text-sm ${x}`,children:[m>0&&"+",m.toFixed(1),"%"]})]})]})},a=e.conversions>0?e.spend/e.conversions:0,s=t.conversions>0?t.spend/t.conversions:0,i=e.impressions>0?e.clicks/e.impressions*100:0,o=t.impressions>0?t.clicks/t.impressions*100:0;return u.jsxs("div",{className:"bg-white rounded-xl p-6 border border-orange-100 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:"Comparativo de Perodo"}),u.jsxs("div",{className:"space-y-1",children:[n("Investimento",e.spend,t.spend,"currency",!0,0),n("Impresses",e.impressions,t.impressions),n("Cliques",e.clicks,t.clicks),n("Converses",e.conversions,t.conversions),u.jsx("div",{className:"my-2 border-t border-dashed border-slate-200"}),n("CPA",a,s,"currency",!0,2),n("CTR",i,o,"percent",!1,2)]})]})},XPe=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],ZPe=({data:e})=>{const t=Wa.useMemo(()=>{const o=Array(7).fill(null).map(()=>({spend:[],cpa:[],roi:[],conversions:[],revenue:[]}));return e.forEach(l=>{const c=OE(new Date(l.date));if(o[c].spend.push(l.spend),l.conversions>0){const d=l.spend/l.conversions;o[c].cpa.push(d)}o[c].conversions.push(l.conversions)}),o.map(l=>{const c=l.spend.reduce((v,g)=>v+g,0),d=l.spend.length?c/l.spend.length:0,f=l.cpa.reduce((v,g)=>v+g,0),h=l.cpa.length?f/l.cpa.length:0,p=l.conversions.reduce((v,g)=>v+g,0),m=l.conversions.length?p/l.conversions.length:0;return{avgSpend:d,avgCpa:h,avgConv:m,count:l.spend.length}})},[e]),r={spend:t.reduce((o,l)=>o+l.avgSpend,0)/7,cpa:t.reduce((o,l)=>o+l.avgCpa,0)/7,conv:t.reduce((o,l)=>o+l.avgConv,0)/7},n=(o,l,c)=>{if(o===0)return"bad";const d=(o-l)/l;return c==="higherIsGood"?d>.1?"good":d<-.1?"bad":"warning":d<-.1?"good":d>.1?"bad":"warning"},a=o=>`R$ ${o.toFixed(0)}`,s=o=>`R$ ${o.toFixed(2)}`,i=o=>o.toFixed(0);return u.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:" Mapa de Calor Semanal (Mdias)"}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{className:"text-left font-medium text-slate-500 py-2",children:"Mtrica"}),XPe.map((o,l)=>u.jsx("th",{className:"text-center font-bold text-slate-600 py-2 w-24",children:o},o))]})}),u.jsxs("tbody",{children:[u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Investimento"}),t.map((o,l)=>u.jsx("td",{className:"text-center py-2",children:u.jsx(tb,{status:n(o.avgSpend,r.spend,"lowerIsGood"),type:"good",label:a(o.avgSpend)})},l))]}),u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"CPA (Custo/Conv)"}),t.map((o,l)=>u.jsx("td",{className:"text-center py-2",children:u.jsx(tb,{status:n(o.avgCpa,r.cpa,"lowerIsGood"),label:s(o.avgCpa)})},l))]}),u.jsxs("tr",{className:"border-t border-slate-100",children:[u.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Converses"}),t.map((o,l)=>u.jsx("td",{className:"text-center py-2",children:u.jsx(tb,{status:n(o.avgConv,r.conv,"higherIsGood"),label:i(o.avgConv)})},l))]})]})]})}),u.jsx("p",{className:"text-xs text-slate-400 mt-3 text-center",children:"*Cores baseadas na variao vs mdia do perodo selecionado."})]})},tb=({status:e,label:t})=>{let r="bg-slate-100 text-slate-500 border-slate-200";return e==="good"&&(r="bg-green-50 text-green-700 border-green-200"),e==="warning"&&(r="bg-amber-50 text-amber-700 border-amber-200"),e==="bad"&&(r="bg-red-50 text-red-700 border-red-200"),u.jsx("div",{className:`mx-auto w-24 py-1.5 rounded-lg border text-xs font-bold ${r} transition-all hover:scale-105 cursor-pointer whitespace-nowrap shadow-sm`,children:t})},mD=e=>({spend:e.reduce((t,r)=>t+r.spend,0),impressions:e.reduce((t,r)=>t+r.impressions,0),clicks:e.reduce((t,r)=>t+r.clicks,0),conversions:e.reduce((t,r)=>t+r.conversions,0)}),JPe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(e),rb=e=>new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e),QPe=()=>{const{filteredData:e,rawData:t,filters:r,previousPeriodData:n}=sl(),{budgets:a}=Y9(),s=w.useMemo(()=>mD(e),[e]);new Date().toISOString().slice(0,7);const i=r.dateRange.to.toISOString().slice(0,7),o=a.filter(x=>x.month===i).reduce((x,b)=>x+b.value,0),l=o>0?s.spend/o*100:0,c=new Date(r.dateRange.to.getFullYear(),r.dateRange.to.getMonth()+1,0).getDate(),f=r.dateRange.to.getDate()/c*100;let h="success";o>0&&(l>f+20?h="error":l>f+5&&(h="warning"));const p=w.useMemo(()=>mD(n),[n]),m=(x,b)=>b===0?0:(x-b)/b*100,v={spend:m(s.spend,p.spend),impressions:m(s.impressions,p.impressions),clicks:m(s.clicks,p.clicks),conversions:m(s.conversions,p.conversions)},g=r.isCompareEnabled;return u.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(tm,{title:"Investimento",value:JPe(s.spend),trendValue:g?v.spend:void 0,trendLabel:"vs perodo anterior",trendInverse:!0,contextValue:o>0?`${l.toFixed(0)}% do orado`:void 0,status:h,icon:u.jsx(nd,{size:20})}),u.jsx(tm,{title:"Impresses",value:rb(s.impressions),trendValue:g?v.impressions:void 0,icon:u.jsx(kH,{size:20})}),u.jsx(tm,{title:"Cliques",value:rb(s.clicks),trendValue:g?v.clicks:void 0,icon:u.jsx(iK,{size:20})}),u.jsx(tm,{title:"Converses",value:rb(s.conversions),trendValue:g?v.conversions:void 0,icon:u.jsx(Xi,{size:20}),status:"success"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(YPe,{current:s,previous:p,show:g}),u.jsx(qPe,{data:e})]}),u.jsx("div",{className:"w-full",children:u.jsx(ZPe,{data:e})})]})},vD=(e,t,r=new Date)=>{const n=e.filter(x=>E0(new Date(x.date),r));if(n.length===0)return{metric:String(t),current:0,projected:0,trend:"stable",confidence:0,remainingDays:0,pace:0};const a=DE(r),s=Math.max(...n.map(x=>sg(new Date(x.date)))),i=n.reduce((x,b)=>x+(b[t]||0),0),l=[...n].sort((x,b)=>new Date(x.date).getTime()-new Date(b.date).getTime()).slice(-7);let c=0,d=0;l.length>0&&(c=l.reduce((b,y)=>b+(y[t]||0),0)/l.length),n.length>0&&(d=i/n.length);const f=n.length>=3?c:d,h=a-s,p=f*h,m=i+p;let v="stable";if(d>0){const x=(c-d)/d;x>.05?v="up":x<-.05&&(v="down")}let g=Math.round(n.length/a*100);return n.length>7&&(g=Math.min(g+20,95)),g=Math.min(g,100),{metric:String(t),current:i,projected:m,trend:v,confidence:g,remainingDays:h,pace:f}},yy="media_paga_targets",by=()=>{const e=localStorage.getItem(yy);return e?JSON.parse(e):[]},eOe=e=>{const t=by(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(yy,JSON.stringify(t)),r},tOe=(e,t)=>{const r=by(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(yy,JSON.stringify(r)))},rOe=e=>{const t=by().filter(r=>r.id!==e);localStorage.setItem(yy,JSON.stringify(t))},X9=()=>{const[e,t]=w.useState([]),r=()=>{t(by())};return w.useEffect(()=>{r()},[]),{targets:e,add:i=>{eOe(i),r()},update:(i,o)=>{tOe(i,o),r()},remove:i=>{rOe(i),r()},refresh:r}},nb=({result:e,label:t,isCurrency:r,targetValue:n,inverse:a=!1})=>{const s=h=>r?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(h):new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(h);let i=ad,o="text-slate-500",l="Estvel";e.trend==="up"&&(i=Fn,o=a?"text-red-500":"text-green-500",l="Ritmo Acelerado"),e.trend==="down"&&(i=id,o=a?"text-green-500":"text-red-500",l="Ritmo em Queda");let c=null,d="text-slate-400";const f=n?e.projected/n*100:0;if(n&&n>0){let h="",p=tn;a?e.projected<=n?(d="text-green-600 bg-green-50 border-green-200",p=tn,h="Dentro da Meta"):(d="text-red-600 bg-red-50 border-red-200",p=yu,h="Acima da Meta"):t==="Investimento"?e.projected>n*1.1?(d="text-red-600 bg-red-50 border-red-200",p=yu,h="Estouro Previsto"):e.projected<n*.9?(d="text-yellow-600 bg-yellow-50 border-yellow-200",p=yu,h="Subutilizado"):(d="text-green-600 bg-green-50 border-green-200",p=tn,h="No Caminho Ideal"):e.projected>=n?(d="text-green-600 bg-green-50 border-green-200",p=tn,h="Meta Alcanvel"):(d="text-red-600 bg-red-50 border-red-200",p=lK,h="Risco de Falha"),c=u.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold mt-3 px-2 py-1.5 rounded-md border ${d}`,children:[u.jsx(p,{size:14}),u.jsx("span",{children:h}),u.jsxs("span",{className:"opacity-60 font-normal ml-auto text-xs",children:[f.toFixed(0),"%"]})]})}else c=u.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium mt-3 px-2 py-1.5 rounded-md border border-slate-100 bg-slate-50 text-slate-400",children:[u.jsx(NW,{size:14}),u.jsx("span",{children:"Sem meta definida"})]});return u.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 flex flex-col shadow-sm hover:shadow-md transition-shadow",children:[u.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mb-1",children:t}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("div",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",title:"Projeo Mensal",children:s(e.projected)}),u.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-sm font-medium text-slate-500",children:[u.jsx("span",{className:"opacity-70",children:"Atual:"}),u.jsx("span",{className:"text-slate-700",children:s(e.current)})]})]}),u.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50",children:[u.jsxs("div",{className:"flex items-center justify-between text-xs",children:[u.jsxs("div",{className:`flex items-center gap-1 ${o} font-bold`,children:[u.jsx(i,{className:"w-4 h-4"}),u.jsx("span",{children:l})]}),u.jsxs("span",{className:"text-slate-400 font-medium",children:[e.confidence,"% confiana"]})]}),c]})]})},nOe=({data:e})=>{const t=new Date,{targets:r}=X9(),n=m=>{var v;return(v=r.find(g=>g.metric===m))==null?void 0:v.value},a=vD(e,"spend",t),s=vD(e,"conversions",t),i=s.current>0?a.current/s.current:0,o=s.projected>0?a.projected/s.projected:0,l=o<i?"down":o>i?"up":"stable",c=Math.round((a.confidence+s.confidence)/2),d={metric:"cpa",current:i,projected:o,trend:l,confidence:c,remainingDays:a.remainingDays,pace:0},f=t.getDate(),p=new Date(t.getFullYear(),t.getMonth()+1,0).getDate()-f;return u.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-xl border border-slate-200/60 p-1 mb-8",children:[u.jsxs("div",{className:"px-5 py-3 flex justify-between items-center",children:[u.jsx("h3",{className:"text-base font-bold text-slate-700 flex items-center gap-2",children:"Projeo para o final do ms"}),u.jsxs("div",{className:"text-xs font-semibold text-slate-500 bg-white px-3 py-1 rounded-full border border-slate-100 shadow-sm",children:[p," dias restantes"]})]}),u.jsxs("div",{className:"p-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsx(nb,{result:a,label:"Investimento",isCurrency:!0,targetValue:n("investimento")}),u.jsx(nb,{result:s,label:"Converses",targetValue:n("conversoes")}),u.jsx(nb,{result:d,label:"CPA Mdio",isCurrency:!0,targetValue:n("cpa"),inverse:!0})]}),u.jsx("div",{className:"px-6 py-2 text-[10px] text-center text-slate-400 font-medium",children:"*Projeo baseada na mdia mvel dos ltimos 7 dias."})]})},aOe=({onSave:e,onClose:t})=>{const[r,n]=w.useState({month:be(new Date,"MM/yyyy"),metric:"conversions",value:0}),a=s=>{s.preventDefault(),!(!r.value||!r.month||!r.metric)&&(e(r),t())};return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Definir Meta Mensal"}),u.jsx("button",{onClick:t,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:u.jsx(fa,{size:20,className:"text-slate-500"})})]}),u.jsxs("form",{onSubmit:a,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),u.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:r.month,onChange:s=>n({...r,month:s.target.value}),placeholder:"MM/AAAA",required:!0})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtrica"}),u.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:r.metric,onChange:s=>n({...r,metric:s.target.value}),children:[u.jsx("option",{value:"spend",children:"Investimento"}),u.jsx("option",{value:"conversions",children:"Converses"}),u.jsx("option",{value:"impressions",children:"Impresses"}),u.jsx("option",{value:"clicks",children:"Cliques"}),u.jsx("option",{value:"cpm",children:"CPM"}),u.jsx("option",{value:"cpc",children:"CPC"}),u.jsx("option",{value:"ctr",children:"CTR"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor Meta"}),u.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:r.value||"",onChange:s=>n({...r,value:parseFloat(s.target.value)}),required:!0,step:"0.01"})]}),u.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[u.jsx(sd,{size:20}),"Salvar Meta"]})]})]})})},Gd=[{key:"spend",label:"Investimento",color:"#3b82f6",isCurrency:!0,axis:"left"},{key:"conversions",label:"Converses",color:"#8b5cf6",isCurrency:!1,axis:"left"},{key:"impressions",label:"Impresses",color:"#06b6d4",isCurrency:!1,axis:"left"},{key:"clicks",label:"Cliques",color:"#f59e0b",isCurrency:!1,axis:"left"},{key:"cpm",label:"CPM",color:"#ec4899",isCurrency:!0,axis:"right"},{key:"cpc",label:"CPC",color:"#10b981",isCurrency:!0,axis:"right"},{key:"ctr",label:"CTR",color:"#6366f1",isCurrency:!1,suffix:"%",axis:"right"},{key:"convRate",label:"Taxa de Conv.",color:"#ef4444",isCurrency:!1,suffix:"%",axis:"right"},{key:"cta",label:"Custo por Resultado",color:"#8b5cf6",isCurrency:!0,axis:"right"}],sOe=({granularity:e,setGranularity:t,useCustomDate:r,setUseCustomDate:n,customDateRange:a,setCustomDateRange:s})=>{const{rawData:i,filters:o}=sl(),[l,c]=w.useState(["spend","conversions"]),d=w.useMemo(()=>{if(!i||i.length===0)return[];let m=i.filter(x=>{const b=new Date(x.date);if(o.selectedChannels.length>0&&!o.selectedChannels.includes(x.channel)||o.selectedObjectives.length>0&&!o.selectedObjectives.includes(x.objective)||o.selectedCampaigns.length>0&&!o.selectedCampaigns.includes(x.campaign))return!1;const y=r?{start:Ki(nn(a.from)),end:qu(nn(a.to))}:{start:Ki(o.dateRange.from),end:qu(o.dateRange.to)};return Io(b,y)});const v=new Map;return m.forEach(x=>{const b=new Date(x.date);let y="",_="",k=0;if(e==="day")y=be(b,"yyyy-MM-dd"),_=be(b,"dd/MM"),k=b.getTime();else if(e==="week"){const E=Ga(b,{weekStartsOn:1});y=be(E,"yyyy-MM-dd"),_=`Semana ${be(E,"dd/MM")}`,k=E.getTime()}else if(e==="month"){const E=zr(b);y=be(E,"yyyy-MM"),_=be(E,"MMM/yy"),k=E.getTime()}v.has(y)||v.set(y,{timeKey:y,label:_,sortTime:k,spend:0,impressions:0,clicks:0,conversions:0});const S=v.get(y);S.spend+=x.spend,S.impressions+=x.impressions,S.clicks+=x.clicks,S.conversions+=x.conversions}),Array.from(v.values()).map(x=>({...x,day:x.label,cpm:x.impressions?x.spend/x.impressions*1e3:0,cpc:x.clicks?x.spend/x.clicks:0,ctr:x.impressions?x.clicks/x.impressions*100:0,convRate:x.clicks?x.conversions/x.clicks*100:0,cta:x.conversions?x.spend/x.conversions:0})).sort((x,b)=>x.sortTime-b.sortTime)},[i,o,r,a,e]),f=m=>{l.includes(m)?c(v=>v.filter(g=>g!==m)):l.length<4&&c(v=>[...v,m])},h=l.some(m=>{var v;return((v=Gd.find(g=>g.key===m))==null?void 0:v.axis)==="right"}),p=l.some(m=>{var v;return((v=Gd.find(g=>g.key===m))==null?void 0:v.axis)==="left"});return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 p-6 shadow-sm mt-8 animate-fade-in",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[u.jsx(Z0,{size:18,className:"text-blue-500"}),"Anlise Personalizada"]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Compare at 4 mtricas diferentes no mesmo perodo"})]}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-100",children:[u.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 cursor-pointer mr-2 hover:text-slate-900 transition",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:m=>n(m.target.checked),className:"rounded text-blue-500 focus:ring-blue-500/20 bg-white border-slate-300"}),"Perodo Personalizado"]}),r&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"date",value:a.from,onChange:m=>s({...a,from:m.target.value}),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"}),u.jsx("span",{className:"text-slate-400",children:"-"}),u.jsx("input",{type:"date",value:a.to,onChange:m=>s({...a,to:m.target.value}),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),u.jsx("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-100",children:["day","week","month"].map(m=>u.jsx("button",{onClick:()=>t(m),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${e===m?"bg-white text-slate-700 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:m==="day"?"Dia":m==="week"?"Semana":"Ms"},m))})]}),u.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Gd.map(m=>u.jsx("button",{onClick:()=>f(m.key),className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-all border ${l.includes(m.key)?"bg-blue-50 border-blue-200 text-blue-600":"bg-slate-50 border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,style:{borderColor:l.includes(m.key)?m.color:void 0,color:l.includes(m.key)?m.color:void 0,backgroundColor:l.includes(m.key)?`${m.color}10`:void 0},children:m.label},m.key))}),u.jsx("div",{className:"h-[350px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:d,margin:{top:5,right:30,left:20,bottom:5},children:[u.jsx(Ht,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),u.jsx(Nt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},dy:10}),u.jsx(lt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m,hide:!p}),u.jsx(lt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},hide:!h}),u.jsx(kt,{contentStyle:{backgroundColor:"#ffffff",borderColor:"#E2E8F0",color:"#1E293B",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",marginBottom:"0.5rem",fontWeight:"bold"},formatter:(m,v)=>{const g=Gd.find(x=>x.label===v);return g?g.isCurrency?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m):g.suffix?`${m.toFixed(2)}${g.suffix}`:new Intl.NumberFormat("pt-BR").format(m):m}}),u.jsx(Nn,{wrapperStyle:{paddingTop:"20px"}}),l.map(m=>{const v=Gd.find(g=>g.key===m);return v?u.jsx(Pr,{yAxisId:v.axis,type:"monotone",dataKey:m,name:v.label,stroke:v.color,strokeWidth:3,dot:!1,activeDot:{r:6,strokeWidth:0}},m):null})]})})})]})},rm=({data:e,dataKey:t,color:r,title:n,isCurrency:a,granularity:s})=>{const i=s!=="day";return u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[u.jsx("h4",{className:"text-md font-bold text-slate-700 mb-4",children:n}),u.jsx("div",{className:"h-[250px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(sy,{data:e,children:[u.jsx(Ht,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),u.jsx(Nt,{dataKey:"day",tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),u.jsx(lt,{tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,tickFormatter:o=>a?new Intl.NumberFormat("pt-BR",{notation:"compact",style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR",{notation:"compact"}).format(o)}),u.jsx(kt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#F1F5F9"},formatter:o=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR").format(o)}),i?u.jsx(br,{dataKey:t,fill:r,name:"Atual",radius:[4,4,0,0],maxBarSize:60}):u.jsx(ny,{type:"monotone",dataKey:t,stroke:r,fill:r,fillOpacity:.1,name:"Atual",strokeWidth:2})]})})})]})},iOe=()=>{const{filteredData:e,filters:t,rawData:r}=sl(),{add:n}=X9(),[a,s]=w.useState(!1),[i,o]=w.useState(!0),[l,c]=w.useState({from:be(zr(new Date),"yyyy-MM-dd"),to:be(new Date,"yyyy-MM-dd")}),[d,f]=w.useState("day"),h=w.useMemo(()=>{const p=i?nn(l.from):t.dateRange.from,m=i?nn(l.to):t.dateRange.to;if(!r)return[];const v=r.filter(b=>{const y=new Date(b.date);return!(y<Ki(p)||y>qu(m)||t.selectedChannels.length&&!t.selectedChannels.includes(b.channel)||t.selectedObjectives.length&&!t.selectedObjectives.includes(b.objective)||t.selectedCampaigns.length&&!t.selectedCampaigns.includes(b.campaign))}),g=new Map;return v.forEach(b=>{const y=new Date(b.date);let _="",k=new Date,S="";if(d==="day")_=be(y,"yyyy-MM-dd"),k=y,S=be(y,"dd/MM");else if(d==="week"){const C=Ga(y,{weekStartsOn:1});_=be(C,"yyyy-MM-dd"),k=C,S=`Semana ${be(C,"dd/MM")}`}else if(d==="month"){const C=zr(y);_=be(C,"yyyy-MM"),k=C,S=be(C,"MMM/yy")}g.has(_)||g.set(_,{day:S,date:k,spend:0,impressions:0,conversions:0});const E=g.get(_);E.spend+=b.spend,E.impressions+=b.impressions,E.conversions+=b.conversions}),Array.from(g.values()).map(b=>({...b,cpm:b.impressions?b.spend/b.impressions*1e3:0})).sort((b,y)=>b.date.getTime()-y.date.getTime())},[r,t,i,l,d]);return u.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[u.jsxs("div",{className:"flex justify-between items-end gap-4",children:[u.jsx("div",{className:"flex-1",children:u.jsx(nOe,{data:e})}),u.jsxs("button",{onClick:()=>s(!0),className:"mb-8 flex items-center gap-2 text-primary font-bold hover:underline bg-white px-4 py-3 rounded-lg border border-slate-100 shadow-sm transition-transform active:scale-95 whitespace-nowrap",children:[u.jsx(Xi,{size:18}),"Definir Metas"]})]}),u.jsx(sOe,{granularity:d,setGranularity:f,useCustomDate:i,setUseCustomDate:o,customDateRange:l,setCustomDateRange:c}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsx(rm,{data:h,dataKey:"spend",color:"#84cc16",title:`Investimento ${d==="day"?"Dirio":d==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:d}),u.jsx(rm,{data:h,dataKey:"impressions",color:"#0ea5e9",title:`Impresses ${d==="day"?"Dirias":d==="week"?"Semanais":"Mensais"}`,granularity:d}),u.jsx(rm,{data:h,dataKey:"cpm",color:"#f97316",title:`CPM ${d==="day"?"Dirio":d==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:d}),u.jsx(rm,{data:h,dataKey:"conversions",color:"#8b5cf6",title:`Converses ${d==="day"?"Dirias":d==="week"?"Semanais":"Mensais"}`,granularity:d})]}),a&&u.jsx(aOe,{onSave:n,onClose:()=>s(!1)})]})},oOe=({campaign:e,data:t,onClose:r})=>{const n=w.useMemo(()=>e?t.filter(s=>s.campaign===e).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime()):[],[e,t]),a=w.useMemo(()=>{const s=n.reduce((m,v)=>m+v.spend,0),i=n.reduce((m,v)=>m+v.impressions,0),o=n.reduce((m,v)=>m+v.clicks,0),l=n.reduce((m,v)=>m+v.conversions,0),c=i?s/i*1e3:0,d=o?s/o:0,f=i?o/i*100:0,h=l?s/l:0,p=o?l/o*100:0;return{totalSpend:s,totalImp:i,totalClicks:o,totalConv:l,cpm:c,cpc:d,ctr:f,cpa:h,convRate:p}},[n]);return e?u.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:[u.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:r}),u.jsxs("div",{className:"relative w-full max-w-2xl bg-white h-full shadow-2xl pointer-events-auto overflow-y-auto animate-slide-in-right",children:[u.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur z-10 p-6 border-b border-slate-100 flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Detalhes da Campanha"}),u.jsx("h2",{className:"text-xl font-bold text-slate-800 leading-tight",children:e})]}),u.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:u.jsx(fa,{size:24})})]}),u.jsxs("div",{className:"p-6 space-y-8",children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 bg-lime-50 rounded-xl border border-lime-100",children:[u.jsxs("div",{className:"flex items-center gap-2 text-lime-700 mb-2",children:[u.jsx(nd,{size:16}),u.jsx("span",{className:"text-xs font-bold uppercase",children:"Valor"})]}),u.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.totalSpend)})]}),u.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl border border-sky-100",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sky-700 mb-2",children:[u.jsx(Xi,{size:16}),u.jsx("span",{className:"text-xs font-bold uppercase",children:"Conv."})]}),u.jsx("div",{className:"text-lg font-bold text-slate-800",children:a.totalConv})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[u.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:u.jsx("span",{className:"text-xs font-bold uppercase",children:"CPA"})}),u.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpa)})]}),u.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[u.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:u.jsx("span",{className:"text-xs font-bold uppercase",children:"ROAS"})}),u.jsx("div",{className:"text-lg font-bold text-slate-800",children:"-"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(Fn,{size:16,className:"text-primary"}),"Evoluo Diria"]}),u.jsx("div",{className:"h-[250px] w-full bg-white rounded-xl border border-slate-100 p-4 shadow-sm",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(Ai,{data:n,children:[u.jsx(Ht,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nt,{dataKey:"date",tickFormatter:s=>be(nn(s),"dd/MM"),tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),u.jsx(lt,{yAxisId:"left",orientation:"left",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:s=>`R$${s}`}),u.jsx(lt,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),u.jsx(kt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"0.5rem"},labelFormatter:s=>be(nn(s),"dd MMM, yyyy")}),u.jsx(Pr,{yAxisId:"left",type:"monotone",dataKey:"spend",stroke:"#84cc16",strokeWidth:2,dot:!1,name:"Investimento"}),u.jsx(Pr,{yAxisId:"right",type:"monotone",dataKey:"conversions",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Converses"})]})})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Mtricas Secundrias"}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[u.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPM"}),u.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpm)})]}),u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[u.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CTR"}),u.jsxs("div",{className:"font-semibold text-slate-600",children:[a.ctr.toFixed(2),"%"]})]}),u.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[u.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPC"}),u.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpc)})]})]})]})]})]})]}):null},lOe=({data:e})=>{const[t,r]=w.useState("spend"),[n,a]=w.useState("desc"),[s,i]=w.useState(""),[o,l]=w.useState(null),c=w.useMemo(()=>{const y=new Map;e.forEach(C=>{const j=y.get(C.campaign)||{campaign:C.campaign,channel:C.channel,objective:C.objective,spend:0,impressions:0,clicks:0,conversions:0,dataPoints:[]};j.spend+=C.spend,j.impressions+=C.impressions,j.clicks+=C.clicks,j.conversions+=C.conversions,j.dataPoints.push(C),y.set(C.campaign,j)});const _=Array.from(y.values()).map(C=>({...C,cpm:C.impressions?C.spend/C.impressions*1e3:0,ctr:C.impressions?C.clicks/C.impressions*100:0,cpc:C.clicks?C.spend/C.clicks:0,cpa:C.conversions?C.spend/C.conversions:0})),k=_.reduce((C,j)=>C+j.spend,0),S=_.reduce((C,j)=>C+j.conversions,0),E=S?k/S:0;return _.map(C=>{let j="good";C.cpa===0&&C.spend>100?j="critical":C.cpa>0&&(C.cpa<E*.8?j="excellent":C.cpa>E*1.5?j="critical":C.cpa>E*1.2&&(j="warning"));let T="maintain";j==="excellent"&&(T="scale"),j==="warning"&&(T="optimize"),j==="critical"&&(T="pause");const N=C.dataPoints.sort((P,V)=>new Date(P.date).getTime()-new Date(V.date).getTime());let A="flat";if(N.length>=2){const P=Math.ceil(N.length/3),V=N.slice(0,P),z=N.slice(-P),Z=V.reduce((D,R)=>D+R.spend,0),G=V.reduce((D,R)=>D+R.conversions,0)||1,Y=z.reduce((D,R)=>D+R.spend,0),I=z.reduce((D,R)=>D+R.conversions,0)||1,te=Z/G,J=Y/I;J>te*1.05?A="up":J<te*.95&&(A="down")}return{...C,status:j,action:T,trend:A}})},[e]),d=w.useMemo(()=>{let y=c;if(s){const _=s.toLowerCase();y=y.filter(k=>k.campaign.toLowerCase().includes(_))}return y.sort((_,k)=>{const S=_[t],E=k[t];return S<E?n==="asc"?-1:1:S>E?n==="asc"?1:-1:0}),y},[c,s,t,n]),f=y=>{t===y?a(n==="asc"?"desc":"asc"):(r(y),a("desc"))},h=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),p=y=>new Intl.NumberFormat("pt-BR").format(y),[m,v]=w.useState({spend:!0,impressions:!1,clicks:!1,conversions:!0,ctr:!1,cpm:!1,cpc:!1,cpa:!0,status:!0,trend:!0}),[g,x]=w.useState(!1),b=y=>{v(_=>({..._,[y]:!_[y]}))};return u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden flex flex-col",children:[u.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsxs("div",{className:"relative flex-1 max-w-sm",children:[u.jsx(t0,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),u.jsx("input",{type:"text",placeholder:"Buscar campanha...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all",value:s,onChange:y=>i(y.target.value)})]}),u.jsxs("div",{className:"text-sm text-slate-500 whitespace-nowrap",children:[d.length," campanhas"]})]}),u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 transition-colors",children:[u.jsx(Z0,{size:16}),"Colunas"]}),g&&u.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-100 p-2 z-10 animate-fade-in-down",children:[u.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Mtricas"}),Object.keys(m).map(y=>u.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:m[y],onChange:()=>b(y),className:"rounded text-primary focus:ring-primary/30"}),u.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y==="spend"?"Investimento":y==="impressions"?"Impresses":y==="clicks"?"Cliques":y==="conversions"?"Converses":y==="cpa"?"CPA":y==="status"?"Status":y==="action"?"Recomendao":y==="trend"?"Tend. CPA":y.toUpperCase()})]},y))]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-semibold",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>f("campaign"),children:u.jsxs("div",{className:"flex items-center gap-1",children:["Campanha ",u.jsx(va,{size:12})]})}),m.status&&u.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Status"}),m.trend&&u.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Tend. CPA"}),m.spend&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("spend"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Invest. ",u.jsx(va,{size:12})]})}),m.impressions&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("impressions"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Impr. ",u.jsx(va,{size:12})]})}),m.clicks&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("clicks"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Cliques ",u.jsx(va,{size:12})]})}),m.conversions&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("conversions"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Conv. ",u.jsx(va,{size:12})]})}),m.ctr&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("ctr"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CTR ",u.jsx(va,{size:12})]})}),m.cpm&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpm"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPM ",u.jsx(va,{size:12})]})}),m.cpc&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpc"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPC ",u.jsx(va,{size:12})]})}),m.cpa&&u.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpa"),children:u.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPA ",u.jsx(va,{size:12})]})})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:d.map(y=>u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer group",onClick:()=>l(y.campaign),children:[u.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`w-2 h-2 rounded-full ${y.channel==="meta"?"bg-[#1877F2]":"bg-[#4285F4]"}`}),y.campaign]})}),m.status&&u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                                ${y.status==="excellent"?"bg-emerald-100 text-emerald-800":y.status==="good"?"bg-green-100 text-green-800":y.status==="warning"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:y.status==="excellent"?"Excelente":y.status==="good"?"Bom":y.status==="warning"?"Ateno":"Crtico"})}),m.trend&&u.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:u.jsxs("div",{className:"flex items-center justify-center gap-1",children:[y.trend==="up"&&u.jsx(Fn,{size:14,className:"text-red-500"}),y.trend==="down"&&u.jsx(id,{size:14,className:"text-emerald-500"}),y.trend==="flat"&&u.jsx(ad,{size:14,className:"text-slate-400"})]})}),m.spend&&u.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:h(y.spend)}),m.impressions&&u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.impressions)}),m.clicks&&u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.clicks)}),m.conversions&&u.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:p(y.conversions)}),m.ctr&&u.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[y.ctr.toFixed(2),"%"]}),m.cpm&&u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpm)}),m.cpc&&u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpc)}),m.cpa&&u.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-700",children:h(y.cpa)})]},y.campaign))})]})}),d.length===0&&u.jsx("div",{className:"p-8 text-center text-slate-400",children:"Nenhuma campanha encontrada."})]}),o&&u.jsx(oOe,{campaign:o,data:e,onClose:()=>l(null)})]})},cOe=()=>{const{filteredData:e}=sl();return u.jsx("div",{className:"animate-fade-in",children:u.jsx(lOe,{data:e})})},uOe=({budget:e,actualSpend:t,onEdit:r,onDelete:n})=>{const a=t/e.value*100,s=new Date,i=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),o=s.getDate(),l=o/i*100;let c="ok";const d=l>0?a/l:0;a>=100?c="failed":d>1.1?c="risk":d<.85&&(c="ok");const h=(o>0?t/o:0)*i,p=h/e.value*100;p>105&&(c="risk"),a>=100&&(c="failed");const m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(v);return u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-shadow relative overflow-hidden group",children:[u.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`}),u.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:e.channel==="meta"?"Meta Ads":"Google Ads"}),u.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium tracking-wide bg-slate-100 inline-block px-1.5 py-0.5 rounded mt-1",children:e.objective==="b2c"?"Converso":"Branding"})]}),u.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx("button",{onClick:()=>r(e),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-primary",children:u.jsx(fk,{size:16})}),u.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-500",children:u.jsx(Yl,{size:16})})]})]}),u.jsxs("div",{className:"pl-3 space-y-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[u.jsxs("span",{className:"text-slate-500",children:["Gasto: ",u.jsx("strong",{className:"text-slate-700",children:m(t)})]}),u.jsxs("span",{className:"text-slate-500",children:["Meta: ",u.jsx("strong",{className:"text-slate-700",children:m(e.value)})]})]}),u.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full rounded-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a,100)}%`}})}),u.jsxs("div",{className:"flex justify-between mt-1",children:[u.jsxs("span",{className:"text-xs text-slate-400",children:[a.toFixed(1),"% utilizado"]}),u.jsx("span",{className:"text-xs text-slate-400",children:c==="risk"?"Risco de estouro":c==="failed"?"Esgotado":"Dentro da meta"})]})]}),u.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-xs text-slate-600 flex justify-between items-center",children:[u.jsxs("span",{children:["Ritmo ideal: ",u.jsx("strong",{children:m((e.value-t)/(i-o))}),"/dia"]}),c==="risk"&&u.jsx(yu,{className:"w-4 h-4 text-yellow-500"}),c==="failed"&&u.jsx(GI,{className:"w-4 h-4 text-red-500"}),c==="ok"&&u.jsx(tn,{className:"w-4 h-4 text-green-500"})]}),c!=="failed"&&u.jsxs("div",{className:"text-xs text-slate-400 text-center",children:["Projeo final: ",m(h)," (",p.toFixed(0),"%)"]})]})]})},dOe=({existingBudget:e,onSave:t,onUpdate:r,onClose:n})=>{const[a,s]=w.useState({month:(e==null?void 0:e.month)||be(new Date,"MM/yyyy"),channel:(e==null?void 0:e.channel)||"meta",objective:(e==null?void 0:e.objective)||"marca",value:(e==null?void 0:e.value)||0,notes:(e==null?void 0:e.notes)||""}),i=o=>{o.preventDefault(),!(!a.value||!a.month)&&(e?r(e.id,a):t(a),n())};return u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h3",{className:"text-xl font-bold text-slate-800",children:e?"Editar Oramento":"Novo Oramento"}),u.jsx("button",{onClick:n,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:u.jsx(fa,{size:20,className:"text-slate-500"})})]}),u.jsxs("form",{onSubmit:i,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),u.jsx("input",{type:"text",placeholder:"MM/AAAA",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:a.month,onChange:o=>s({...a,month:o.target.value}),required:!0}),u.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ex: 05/2026"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Canal"}),u.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.channel,onChange:o=>s({...a,channel:o.target.value}),children:[u.jsx("option",{value:"meta",children:"Meta Ads"}),u.jsx("option",{value:"google",children:"Google Ads"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Objetivo"}),u.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.objective,onChange:o=>s({...a,objective:o.target.value}),children:[u.jsx("option",{value:"marca",children:"Branding"}),u.jsx("option",{value:"b2c",children:"Converso"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor do Oramento (R$)"}),u.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:a.value||"",onChange:o=>s({...a,value:parseFloat(o.target.value)}),required:!0,min:"0",step:"0.01"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),u.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none",value:a.notes||"",onChange:o=>s({...a,notes:o.target.value})})]}),u.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[u.jsx(sd,{size:20}),e?"Salvar Alteraes":"Criar Oramento"]})]})]})})},fOe=()=>{const{budgets:e,add:t,update:r,remove:n}=Y9(),{rawData:a,filters:s}=sl(),[i,o]=w.useState(!1),[l,c]=w.useState(void 0),d=s.dateRange.to||new Date,f=be(d,"MM/yyyy"),h=w.useMemo(()=>{const S=zr(d),E=Mo(d),C=NE({start:S,end:E}),j=a.filter(T=>E0(new Date(T.date),d));return C.map(T=>{const N=be(T,"yyyy-MM-dd"),A=be(T,"dd"),P=D1(T),V=j.filter(Z=>String(Z.date).startsWith(N)&&Z.channel==="meta").reduce((Z,G)=>Z+G.spend,0),z=j.filter(Z=>String(Z.date).startsWith(N)&&Z.channel==="google").reduce((Z,G)=>Z+G.spend,0);return{day:A,date:T,meta:P?0:V,google:P?0:z,total:P?0:V+z}})},[a,d]),p=w.useMemo(()=>e.filter(S=>S.month===f).reduce((S,E)=>S+E.value,0),[e,f]),m=h.reduce((S,E)=>S+E.total,0),v=sg(d),g=DE(d),x=v>0?m/v*g:0,b=p-m;let y="ontrack";p>0&&(x>p*1.05?y="overspending":x<p*.95&&(y="underspending"));const _=w.useMemo(()=>{const S=p/g;let E=0,C=0;return h.map(j=>(E+=S,D1(j.date)||(C+=j.total),{...j,cumulativeBudget:E,cumulativeSpend:D1(j.date)?null:C}))},[h,p,g]),k=S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S);return u.jsxs("div",{className:"animate-fade-in space-y-8",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Gesto de Oramento - ",be(d,"MMMM/yyyy")]}),u.jsx("p",{className:"text-slate-500",children:"Acompanhe seus gastos dirios vs planejado."})]}),u.jsxs("button",{onClick:()=>{c(void 0),o(!0)},className:"bg-primary text-slate-900 font-bold py-2.5 px-5 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-sm",children:[u.jsx(hk,{size:20}),"Adicionar Oramento"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:u.jsx(JI,{size:48,className:"text-slate-700"})}),u.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Oramento Planejado"}),u.jsx("h3",{className:"text-2xl font-extrabold text-slate-800",children:k(p)}),u.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Soma dos oramentos ativos"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Gasto Realizado"}),u.jsx("h3",{className:"text-2xl font-extrabold text-blue-600",children:k(m)}),u.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-medium text-slate-500",children:[p>0?(m/p*100).toFixed(1):0,"% do total"]})]}),u.jsxs("div",{className:`bg-white p-6 rounded-xl border border-slate-100 shadow-sm
                    ${y==="overspending"?"border-red-100 bg-red-50/50":""}
                `,children:[u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Projeo de Fechamento"}),u.jsx("h3",{className:`text-2xl font-extrabold ${y==="overspending"?"text-red-500":"text-slate-700"}`,children:k(x)})]}),y==="overspending"?u.jsx(Fn,{className:"text-red-500",size:24}):y==="underspending"?u.jsx(id,{className:"text-amber-500",size:24}):u.jsx(tn,{className:"text-emerald-500",size:24})]}),u.jsx("div",{className:"mt-4 text-xs font-medium text-slate-500",children:y==="overspending"?"Ritmo Acelerado (Risco)":y==="underspending"?"Ritmo Lento (Sobra)":"No Ritmo Ideal"})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[u.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Saldo Restante"}),u.jsx("h3",{className:"text-2xl font-extrabold text-emerald-600",children:k(b)}),u.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Disponvel at o fim do ms"})]})]}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm h-[400px]",children:[u.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[u.jsx(Fn,{size:18,className:"text-primary"}),"Evoluo Diria de Investimento"]}),u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(sy,{data:_,margin:{top:20,right:30,left:20,bottom:5},children:[u.jsx(Ht,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),u.jsx(lt,{yAxisId:"left",axisLine:!1,tickLine:!1,tickFormatter:S=>S>=1e3?`${(S/1e3).toFixed(0)}k`:String(S),tick:{fill:"#94a3b8",fontSize:12}}),u.jsx(lt,{yAxisId:"right",orientation:"right",hide:!0}),u.jsx(kt,{formatter:S=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(S),cursor:{fill:"#f8fafc"}}),u.jsx(Nn,{wrapperStyle:{paddingTop:"20px"}}),u.jsx(br,{yAxisId:"left",dataKey:"meta",name:"Meta Ads",stackId:"a",fill:"#3b82f6",radius:[0,0,4,4],barSize:20}),u.jsx(br,{yAxisId:"left",dataKey:"google",name:"Google Ads",stackId:"a",fill:"#f59e0b",radius:[4,4,0,0],barSize:20}),p>0&&u.jsx(ry,{yAxisId:"left",y:p/g,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"top",value:"Meta Diria Ideal",fill:"#ef4444",fontSize:10}})]})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"font-bold text-slate-700 text-lg",children:"Oramentos Configurados"}),e.length===0?u.jsxs("div",{className:"text-center py-12 bg-slate-50 border border-dashed border-slate-200 rounded-xl",children:[u.jsx("p",{className:"text-slate-400 mb-4",children:"Nenhum oramento configurado para este ms."}),u.jsx("button",{onClick:()=>o(!0),className:"text-primary font-bold hover:underline",children:"Configurar Oramento"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...e].filter(S=>S.month===f).map(S=>u.jsx(uOe,{budget:S,actualSpend:a.filter(E=>E0(new Date(E.date),d)&&E.channel===S.channel&&E.objective===S.objective).reduce((E,C)=>E+C.spend,0),onEdit:E=>{c(E),o(!0)},onDelete:n},S.id))})]}),i&&u.jsx(dOe,{onClose:()=>o(!1),existingBudget:l,onSave:S=>{t(S),o(!1)},onUpdate:(S,E)=>{r(S,E),o(!1)}})]})},hOe=()=>{const{filteredData:e}=sl(),[t,r]=w.useState("cpa"),[n,a]=w.useState({key:"date",direction:"asc"}),s=w.useMemo(()=>{const h=new Map;return e.forEach(m=>{const v=String(m.date).substring(0,10);h.has(v)||h.set(v,{date:m.date,spend:0,impressions:0,clicks:0,conversions:0,revenue:0});const g=h.get(v);g.spend+=m.spend,g.impressions+=m.impressions,g.clicks+=m.clicks,g.conversions+=m.conversions}),Array.from(h.values()).map(m=>({...m,cpa:m.conversions?m.spend/m.conversions:0,ctr:m.impressions?m.clicks/m.impressions*100:0,cpm:m.impressions?m.spend/m.impressions*1e3:0,cpc:m.clicks?m.spend/m.clicks:0,roas:m.spend?(m.revenue||0)/m.spend:0})).sort((m,v)=>{const g=n.key==="date"?new Date(m.date).getTime():m[n.key],x=n.key==="date"?new Date(v.date).getTime():v[n.key];return g<x?n.direction==="asc"?-1:1:g>x?n.direction==="asc"?1:-1:0})},[e,n]),i=h=>{a(p=>({key:h,direction:p.key===h&&p.direction==="asc"?"desc":"asc"}))},o=w.useMemo(()=>{const p=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"].map(m=>({name:m,spend:0,conversions:0,clicks:0,count:0}));return s.forEach(m=>{const v=OE(new Date(m.date));p[v].spend+=m.spend,p[v].conversions+=m.conversions,p[v].clicks+=m.clicks,p[v].count+=1}),p.map(m=>({...m,avgCpa:m.conversions?m.spend/m.conversions:0,avgSpend:m.count?m.spend/m.count:0}))},[s]),l=s.map(h=>h.cpa).filter(h=>h>0),c=l.reduce((h,p)=>h+p,0)/(l.length||1),d=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),f=h=>new Intl.NumberFormat("pt-BR").format(h);return e.length===0?u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-slate-100 shadow-sm animate-fade-in",children:[u.jsx("div",{className:"bg-slate-50 p-4 rounded-full mb-4",children:u.jsx(xT,{className:"w-8 h-8 text-slate-400"})}),u.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-1",children:"Sem dados para este perodo"}),u.jsx("p",{className:"text-slate-500 text-sm",children:"Tente ajustar os filtros de data ou canais."})]}):u.jsxs("div",{className:"animate-fade-in space-y-8",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Anlise Diria"}),u.jsx("p",{className:"text-slate-500",children:"Identifique padres e anomalias dia a dia."})]})}),u.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[u.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[u.jsx(Qf,{size:18,className:"text-primary"}),"Performance por Dia da Semana (Mdia)"]}),u.jsx("div",{className:"h-[300px] w-full",children:u.jsx(At,{width:"100%",height:"100%",children:u.jsxs(As,{data:o,children:[u.jsx(Ht,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),u.jsx(Nt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),u.jsx(lt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tickFormatter:h=>`R$${h}`}),u.jsx(lt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),u.jsx(kt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(h,p)=>p==="CPA Mdio"||p==="Investimento Mdio"?d(h):h}),u.jsx(br,{yAxisId:"right",dataKey:"avgSpend",name:"Investimento Mdio",fill:"#3b82f6",radius:[4,4,0,0],opacity:.3}),u.jsx(br,{yAxisId:"left",dataKey:"avgCpa",name:"CPA Mdio",fill:"#f59e0b",radius:[4,4,0,0],barSize:40,children:o.map((h,p)=>u.jsx(rs,{fill:h.avgCpa>c*1.2?"#ef4444":"#10b981"},`cell-${p}`))})]})})}),u.jsxs("div",{className:"mt-4 flex gap-4 text-xs text-slate-500 justify-center",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," CPA Saudvel"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})," CPA Alto"]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-30"})," Volume de Investimento"]})]})]}),u.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[u.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:u.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[u.jsx(xT,{size:18,className:"text-primary"}),"Detalhamento Dirio"]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"w-full text-sm text-left",children:[u.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-100",children:u.jsxs("tr",{children:[[{key:"date",label:"Data",align:"left"},{key:"spend",label:"Inv.",align:"right"},{key:"impressions",label:"Impr.",align:"right"},{key:"clicks",label:"Cliques",align:"right"},{key:"conversions",label:"Conv.",align:"right"},{key:"ctr",label:"CTR",align:"right"},{key:"cpm",label:"CPM",align:"right"},{key:"cpc",label:"CPC",align:"right"},{key:"cpa",label:"CPA",align:"right"}].map(h=>u.jsx("th",{className:`px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors group text-${h.align}`,onClick:()=>i(h.key),children:u.jsxs("div",{className:`flex items-center gap-1 ${h.align==="right"?"justify-end":""}`,children:[h.label,u.jsx(va,{size:12,className:`text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity ${n.key===h.key?"opacity-100 text-blue-500":""}`})]})},h.key)),u.jsx("th",{className:"px-6 py-3 text-center",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map((h,p)=>u.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[u.jsx("td",{className:"px-6 py-3 font-medium text-slate-700 whitespace-nowrap",children:be(new Date(h.date),"dd 'de' MMM, EEEE",{locale:ns})}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:d(h.spend)}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.impressions)}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.clicks)}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600 font-bold",children:f(h.conversions)}),u.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[h.ctr.toFixed(2),"%"]}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:d(h.cpm)}),u.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:d(h.cpc)}),u.jsx("td",{className:`px-6 py-3 text-right font-bold ${h.cpa>c*1.2?"text-red-500":h.cpa<c*.8?"text-emerald-500":"text-slate-600"}`,children:d(h.cpa)}),u.jsx("td",{className:"px-6 py-3 text-center",children:h.cpa===0&&h.spend>50?u.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold",children:"Crtico"}):h.cpa>c*1.3?u.jsx("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-xs font-bold",children:"Ateno"}):h.cpa<c*.8&&h.conversions>0?u.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded text-xs font-bold",children:"timo"}):u.jsx("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded text-xs",children:"Normal"})})]},p))})]})})]})]})},pOe=({onBack:e})=>{const{rawData:t,setRawData:r}=sl(),[n,a]=w.useState("overview"),[s,i]=w.useState(!0);if(w.useEffect(()=>{(async()=>{if(t.length>0){i(!1);return}try{console.log("Verificando dados na nuvem...");const c=await _s.listFiles("media");if(c&&c.length>0){const d=c[0],f=await _s.getDownloadUrl("media/"+d.name),p=await(await fetch(f)).blob(),m=new File([p],d.name,{type:p.type}),v=await dC(m);v&&v.length>0&&r(v)}}catch(c){console.error("Erro ao sincronizar dados:",c)}finally{i(!1)}})()},[]),s)return u.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:u.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mb-4",children:u.jsx(Os,{className:"w-8 h-8 text-blue-400 animate-spin"})}),u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sincronizando Dados..."}),u.jsx("p",{className:"text-slate-400 text-sm",children:"Buscando informaes salvas na nuvem."})]})});if(t.length===0)return u.jsxs("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:[u.jsx("div",{className:"absolute top-4 left-4",children:u.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors px-4 py-2 rounded-lg hover:bg-slate-200",children:[u.jsx(mT,{size:20}),"Voltar ao GaaS"]})}),u.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[u.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2 tracking-tight",children:"Dashboard de Mdia Paga"}),u.jsx("p",{className:"text-slate-500 text-lg",children:"Importe seus dados do Meta Ads e Google Ads para comear."})]}),u.jsx("div",{className:"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in",children:u.jsx(VPe,{onDataLoaded:r})}),u.jsx("p",{className:"mt-8 text-slate-400 text-sm",children:"Verso 1.0  Processamento Local e Seguro"})]});const o=[{id:"overview",label:"Overview",icon:YI},{id:"monthly",label:"Anlise Mensal",icon:Qf},{id:"daily",label:"Anlise Diria",icon:dc},{id:"campaigns",label:"Campanhas",icon:UH},{id:"budget",label:"Oramentos",icon:JI}];return u.jsxs("div",{className:"min-h-screen w-full bg-[#FFF7ED] text-slate-900 flex flex-col absolute top-0 left-0 z-50",children:[u.jsxs("header",{className:"bg-white/80 backdrop-blur-xl border-b border-orange-100 sticky top-0 z-[60] group",children:[u.jsxs("div",{className:"px-6 h-16 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[e&&u.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-50 rounded-lg text-slate-400 hover:text-orange-600 transition-colors mr-2",title:"Voltar ao GaaS",children:u.jsx(mT,{size:20})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"bg-orange-500/10 p-2 rounded-lg",children:u.jsx(Qf,{className:"w-6 h-6 text-orange-500"})}),u.jsxs("h1",{className:"font-bold text-xl text-slate-800 tracking-tight",children:["Media ",u.jsx("span",{className:"text-orange-500 font-extrabold",children:"Analytics"})]})]})]}),u.jsx("nav",{className:"flex items-center gap-1 bg-slate-50/50 p-1 rounded-lg border border-orange-100/50",children:o.map(l=>{const c=l.icon,d=n===l.id;return u.jsxs("button",{onClick:()=>a(l.id),className:`
                    flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200
                    ${d?"bg-white text-orange-600 shadow-sm border border-orange-100":"text-slate-500 hover:text-orange-600 hover:bg-orange-50"}
                  `,children:[u.jsx(c,{size:16}),l.label]},l.id)})}),u.jsxs("button",{onClick:()=>r([]),className:"text-sm font-medium text-slate-400 hover:text-red-500 flex items-center gap-1 transition-colors px-3 py-1.5 hover:bg-red-50 rounded-lg",children:[u.jsx(e0,{size:16}),"Novo Arquivo"]})]}),u.jsx(WPe,{})]}),u.jsxs("main",{className:"flex-1 container mx-auto px-6 py-8 pb-32 max-w-[1600px] animate-fade-in",children:[n==="overview"&&u.jsx(QPe,{}),n==="monthly"&&u.jsx(iOe,{}),n==="daily"&&u.jsx(hOe,{}),n==="campaigns"&&u.jsx(cOe,{}),n==="budget"&&u.jsx(fOe,{})]})]})};function mOe({onBack:e}){return u.jsx(UPe,{children:u.jsx(pOe,{onBack:e})})}const kC=w.createContext({});function SC(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const Z9=typeof window<"u",J9=Z9?w.useLayoutEffect:w.useEffect,wy=w.createContext(null);function EC(e,t){e.indexOf(t)===-1&&e.push(t)}function CC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ai=(e,t,r)=>r>t?t:r<e?e:r;let jC=()=>{};const qi={},Q9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function ez(e){return typeof e=="object"&&e!==null}const tz=e=>/^0[^.\s]+$/u.test(e);function TC(e){let t;return()=>(t===void 0&&(t=e()),t)}const Xa=e=>e,vOe=(e,t)=>r=>t(e(r)),Wh=(...e)=>e.reduce(vOe),L0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class AC{constructor(){this.subscriptions=[]}add(t){return EC(this.subscriptions,t),()=>CC(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Di=e=>e*1e3,qa=e=>e/1e3;function rz(e,t){return t?e*(1e3/t):0}const nz=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,gOe=1e-7,xOe=12;function yOe(e,t,r,n,a){let s,i,o=0;do i=t+(r-t)/2,s=nz(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>gOe&&++o<xOe);return i}function Hh(e,t,r,n){if(e===t&&r===n)return Xa;const a=s=>yOe(s,0,1,e,r);return s=>s===0||s===1?s:nz(a(s),t,n)}const az=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sz=e=>t=>1-e(1-t),iz=Hh(.33,1.53,.69,.99),NC=sz(iz),oz=az(NC),lz=e=>(e*=2)<1?.5*NC(e):.5*(2-Math.pow(2,-10*(e-1))),PC=e=>1-Math.sin(Math.acos(e)),cz=sz(PC),uz=az(PC),bOe=Hh(.42,0,1,1),wOe=Hh(0,0,.58,1),dz=Hh(.42,0,.58,1),_Oe=e=>Array.isArray(e)&&typeof e[0]!="number",fz=e=>Array.isArray(e)&&typeof e[0]=="number",kOe={linear:Xa,easeIn:bOe,easeInOut:dz,easeOut:wOe,circIn:PC,circInOut:uz,circOut:cz,backIn:NC,backInOut:oz,backOut:iz,anticipate:lz},SOe=e=>typeof e=="string",gD=e=>{if(fz(e)){jC(e.length===4);const[t,r,n,a]=e;return Hh(t,r,n,a)}else if(SOe(e))return kOe[e];return e},nm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EOe(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){i.has(d)&&(c.schedule(d),e()),d(o)}const c={schedule:(d,f=!1,h=!1)=>{const m=h&&a?r:n;return f&&i.add(d),m.has(d)||m.add(d),d},cancel:d=>{n.delete(d),i.delete(d)},process:d=>{if(o=d,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,s&&(s=!1,c.process(d))}};return c}const COe=40;function hz(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=nm.reduce((y,_)=>(y[_]=EOe(s),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:f,preRender:h,render:p,postRender:m}=i,v=()=>{const y=qi.useManualTiming?a.timestamp:performance.now();r=!1,qi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,COe),1)),a.timestamp=y,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),d.process(a),f.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},g=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:nm.reduce((y,_)=>{const k=i[_];return y[_]=(S,E=!1,C=!1)=>(r||g(),k.schedule(S,E,C)),y},{}),cancel:y=>{for(let _=0;_<nm.length;_++)i[nm[_]].cancel(y)},state:a,steps:i}}const{schedule:$t,cancel:Ko,state:pn,steps:ab}=hz(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xa,!0);let jm;function jOe(){jm=void 0}const Gn={now:()=>(jm===void 0&&Gn.set(pn.isProcessing||qi.useManualTiming?pn.timestamp:performance.now()),jm),set:e=>{jm=e,queueMicrotask(jOe)}},pz=e=>t=>typeof t=="string"&&t.startsWith(e),mz=pz("--"),TOe=pz("var(--"),OC=e=>TOe(e)?AOe.test(e.split("/*")[0].trim()):!1,AOe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function xD(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const _d={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},$0={..._d,transform:e=>ai(0,1,e)},am={..._d,default:1},Of=e=>Math.round(e*1e5)/1e5,DC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function NOe(e){return e==null}const POe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MC=(e,t)=>r=>!!(typeof r=="string"&&POe.test(r)&&r.startsWith(e)||t&&!NOe(r)&&Object.prototype.hasOwnProperty.call(r,t)),vz=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,o]=n.match(DC);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},OOe=e=>ai(0,255,e),sb={..._d,transform:e=>Math.round(OOe(e))},Pl={test:MC("rgb","red"),parse:vz("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+sb.transform(e)+", "+sb.transform(t)+", "+sb.transform(r)+", "+Of($0.transform(n))+")"};function DOe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const H2={test:MC("#"),parse:DOe,transform:Pl.transform},Kh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),io=Kh("deg"),Zs=Kh("%"),De=Kh("px"),MOe=Kh("vh"),IOe=Kh("vw"),yD={...Zs,parse:e=>Zs.parse(e)/100,transform:e=>Zs.transform(e*100)},cu={test:MC("hsl","hue"),parse:vz("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Zs.transform(Of(t))+", "+Zs.transform(Of(r))+", "+Of($0.transform(n))+")"},Tr={test:e=>Pl.test(e)||H2.test(e)||cu.test(e),parse:e=>Pl.test(e)?Pl.parse(e):cu.test(e)?cu.parse(e):H2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Pl.transform(e):cu.transform(e),getAnimatableNone:e=>{const t=Tr.parse(e);return t.alpha=0,Tr.transform(t)}},ROe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function FOe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(DC))==null?void 0:t.length)||0)+(((r=e.match(ROe))==null?void 0:r.length)||0)>0}const gz="number",xz="color",LOe="var",$Oe="var(",bD="${}",BOe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function B0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(BOe,l=>(Tr.test(l)?(n.color.push(s),a.push(xz),r.push(Tr.parse(l))):l.startsWith($Oe)?(n.var.push(s),a.push(LOe),r.push(l)):(n.number.push(s),a.push(gz),r.push(parseFloat(l))),++s,bD)).split(bD);return{values:r,split:o,indexes:n,types:a}}function yz(e){return B0(e).values}function bz(e){const{split:t,types:r}=B0(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const o=r[i];o===gz?s+=Of(a[i]):o===xz?s+=Tr.transform(a[i]):s+=a[i]}return s}}const zOe=e=>typeof e=="number"?0:Tr.test(e)?Tr.getAnimatableNone(e):e;function UOe(e){const t=yz(e);return bz(e)(t.map(zOe))}const Go={test:FOe,parse:yz,createTransformer:bz,getAnimatableNone:UOe};function ib(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function VOe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=ib(l,o,e+1/3),s=ib(l,o,e),i=ib(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function _g(e,t){return r=>r>0?t:e}const tr=(e,t,r)=>e+(t-e)*r,ob=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},WOe=[H2,Pl,cu],HOe=e=>WOe.find(t=>t.test(e));function wD(e){const t=HOe(e);if(!t)return!1;let r=t.parse(e);return t===cu&&(r=VOe(r)),r}const _D=(e,t)=>{const r=wD(e),n=wD(t);if(!r||!n)return _g(e,t);const a={...r};return s=>(a.red=ob(r.red,n.red,s),a.green=ob(r.green,n.green,s),a.blue=ob(r.blue,n.blue,s),a.alpha=tr(r.alpha,n.alpha,s),Pl.transform(a))},K2=new Set(["none","hidden"]);function KOe(e,t){return K2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function GOe(e,t){return r=>tr(e,t,r)}function IC(e){return typeof e=="number"?GOe:typeof e=="string"?OC(e)?_g:Tr.test(e)?_D:XOe:Array.isArray(e)?wz:typeof e=="object"?Tr.test(e)?_D:qOe:_g}function wz(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>IC(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function qOe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=IC(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function YOe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],o=e.values[i]??0;r[a]=o,n[s]++}return r}const XOe=(e,t)=>{const r=Go.createTransformer(t),n=B0(e),a=B0(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?K2.has(e)&&!a.values.length||K2.has(t)&&!n.values.length?KOe(e,t):Wh(wz(YOe(n,a),a.values),r):_g(e,t)};function _z(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?tr(e,t,r):IC(e)(e,t)}const ZOe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>$t.update(t,r),stop:()=>Ko(t),now:()=>pn.isProcessing?pn.timestamp:Gn.now()}},kz=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},kg=2e4;function RC(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<kg;)t+=r,n=e.next(t);return t>=kg?1/0:t}function JOe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(RC(n),kg);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:qa(a)}}const QOe=5;function Sz(e,t,r){const n=Math.max(t-QOe,0);return rz(r-e(n),t-n)}const cr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lb=.001;function e4e({duration:e=cr.duration,bounce:t=cr.bounce,velocity:r=cr.velocity,mass:n=cr.mass}){let a,s,i=1-t;i=ai(cr.minDamping,cr.maxDamping,i),e=ai(cr.minDuration,cr.maxDuration,qa(e)),i<1?(a=c=>{const d=c*i,f=d*e,h=d-r,p=G2(c,i),m=Math.exp(-f);return lb-h/p*m},s=c=>{const f=c*i*e,h=f*r+r,p=Math.pow(i,2)*Math.pow(c,2)*e,m=Math.exp(-f),v=G2(Math.pow(c,2),i);return(-a(c)+lb>0?-1:1)*((h-p)*m)/v}):(a=c=>{const d=Math.exp(-c*e),f=(c-r)*e+1;return-lb+d*f},s=c=>{const d=Math.exp(-c*e),f=(r-c)*(e*e);return d*f});const o=5/e,l=r4e(a,s,o);if(e=Di(e),isNaN(l))return{stiffness:cr.stiffness,damping:cr.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const t4e=12;function r4e(e,t,r){let n=r;for(let a=1;a<t4e;a++)n=n-e(n)/t(n);return n}function G2(e,t){return e*Math.sqrt(1-t*t)}const n4e=["duration","bounce"],a4e=["stiffness","damping","mass"];function kD(e,t){return t.some(r=>e[r]!==void 0)}function s4e(e){let t={velocity:cr.velocity,stiffness:cr.stiffness,damping:cr.damping,mass:cr.mass,isResolvedFromDuration:!1,...e};if(!kD(e,a4e)&&kD(e,n4e))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*ai(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:cr.mass,stiffness:a,damping:s}}else{const r=e4e(e);t={...t,...r,mass:cr.mass},t.isResolvedFromDuration=!0}return t}function Sg(e=cr.visualDuration,t=cr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:f,velocity:h,isResolvedFromDuration:p}=s4e({...r,velocity:-qa(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*d)),g=i-s,x=qa(Math.sqrt(l/d)),b=Math.abs(g)<5;n||(n=b?cr.restSpeed.granular:cr.restSpeed.default),a||(a=b?cr.restDelta.granular:cr.restDelta.default);let y;if(v<1){const k=G2(x,v);y=S=>{const E=Math.exp(-v*x*S);return i-E*((m+v*x*g)/k*Math.sin(k*S)+g*Math.cos(k*S))}}else if(v===1)y=k=>i-Math.exp(-x*k)*(g+(m+x*g)*k);else{const k=x*Math.sqrt(v*v-1);y=S=>{const E=Math.exp(-v*x*S),C=Math.min(k*S,300);return i-E*((m+v*x*g)*Math.sinh(C)+k*g*Math.cosh(C))/k}}const _={calculatedDuration:p&&f||null,next:k=>{const S=y(k);if(p)o.done=k>=f;else{let E=k===0?m:0;v<1&&(E=k===0?Di(m):Sz(y,k,S));const C=Math.abs(E)<=n,j=Math.abs(i-S)<=a;o.done=C&&j}return o.value=o.done?i:S,o},toString:()=>{const k=Math.min(RC(_),kg),S=kz(E=>_.next(k*E).value,k,30);return k+"ms "+S},toTransition:()=>{}};return _}Sg.applyToOptions=e=>{const t=JOe(e,100,Sg);return e.ease=t.ease,e.duration=Di(t.duration),e.type="keyframes",e};function q2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,m=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let v=r*t;const g=f+v,x=i===void 0?g:i(g);x!==g&&(v=x-f);const b=C=>-v*Math.exp(-C/n),y=C=>x+b(C),_=C=>{const j=b(C),T=y(C);h.done=Math.abs(j)<=c,h.value=h.done?x:T};let k,S;const E=C=>{p(h.value)&&(k=C,S=Sg({keyframes:[h.value,m(h.value)],velocity:Sz(y,C,h.value),damping:a,stiffness:s,restDelta:c,restSpeed:d}))};return E(0),{calculatedDuration:null,next:C=>{let j=!1;return!S&&k===void 0&&(j=!0,_(C),E(C)),k!==void 0&&C>=k?S.next(C-k):(!j&&_(C),h)}}}function i4e(e,t,r){const n=[],a=r||qi.mix||_z,s=e.length-1;for(let i=0;i<s;i++){let o=a(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Xa:t;o=Wh(l,o)}n.push(o)}return n}function o4e(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(jC(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=i4e(t,n,a),l=o.length,c=d=>{if(i&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=L0(e[f],e[f+1],d);return o[f](h)};return r?d=>c(ai(e[0],e[s-1],d)):c}function l4e(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=L0(0,t,n);e.push(tr(r,1,a))}}function c4e(e){const t=[0];return l4e(t,e.length-1),t}function u4e(e,t){return e.map(r=>r*t)}function d4e(e,t){return e.map(()=>t||dz).splice(0,e.length-1)}function Df({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=_Oe(n)?n.map(gD):gD(n),s={done:!1,value:t[0]},i=u4e(r&&r.length===t.length?r:c4e(t),e),o=o4e(i,t,{ease:Array.isArray(a)?a:d4e(t,a)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const f4e=e=>e!==null;function FC(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(f4e),o=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const h4e={decay:q2,inertia:q2,tween:Df,keyframes:Df,spring:Sg};function Ez(e){typeof e.type=="string"&&(e.type=h4e[e.type])}class LC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const p4e=e=>e/100;class $C extends LC{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Ez(t);const{type:r=Df,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:o}=t;const l=r||Df;l!==Df&&typeof o[0]!="number"&&(this.mixKeyframes=Wh(p4e,_z(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=RC(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:v,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,_=n;if(f){const C=Math.min(this.currentTime,a)/o;let j=Math.floor(C),T=C%1;!T&&C>=1&&(T=1),T===1&&j--,j=Math.min(j,f+1),!!(j%2)&&(h==="reverse"?(T=1-T,p&&(T-=p/o)):h==="mirror"&&(_=i)),y=ai(0,1,T)*o}const k=b?{done:!1,value:d[0]}:_.next(y);s&&(k.value=s(k.value));let{done:S}=k;!b&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&m!==q2&&(k.value=FC(d,this.options,g,this.speed)),v&&v(k.value),E&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return qa(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qa(t)}get time(){return qa(this.currentTime)}set time(t){var r;t=Di(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=qa(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=ZOe,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function m4e(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Ol=e=>e*180/Math.PI,Y2=e=>{const t=Ol(Math.atan2(e[1],e[0]));return X2(t)},v4e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Y2,rotateZ:Y2,skewX:e=>Ol(Math.atan(e[1])),skewY:e=>Ol(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},X2=e=>(e=e%360,e<0&&(e+=360),e),SD=Y2,ED=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),CD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),g4e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ED,scaleY:CD,scale:e=>(ED(e)+CD(e))/2,rotateX:e=>X2(Ol(Math.atan2(e[6],e[5]))),rotateY:e=>X2(Ol(Math.atan2(-e[2],e[0]))),rotateZ:SD,rotate:SD,skewX:e=>Ol(Math.atan(e[4])),skewY:e=>Ol(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Z2(e){return e.includes("scale")?1:0}function J2(e,t){if(!e||e==="none")return Z2(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=g4e,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=v4e,a=o}if(!a)return Z2(t);const s=n[t],i=a[1].split(",").map(y4e);return typeof s=="function"?s(i):i[s]}const x4e=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return J2(r,t)};function y4e(e){return parseFloat(e.trim())}const kd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Sd=new Set(kd),jD=e=>e===_d||e===De,b4e=new Set(["x","y","z"]),w4e=kd.filter(e=>!b4e.has(e));function _4e(e){const t=[];return w4e.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const So={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>J2(t,"x"),y:(e,{transform:t})=>J2(t,"y")};So.translateX=So.x;So.translateY=So.y;const Ul=new Set;let Q2=!1,e_=!1,t_=!1;function Cz(){if(e_){const e=Array.from(Ul).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=_4e(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var o;(o=n.getValue(s))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}e_=!1,Q2=!1,Ul.forEach(e=>e.complete(t_)),Ul.clear()}function jz(){Ul.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(e_=!0)})}function k4e(){t_=!0,jz(),Cz(),t_=!1}class BC{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Ul.add(this),Q2||(Q2=!0,$t.read(jz),$t.resolveKeyframes(Cz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}m4e(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ul.delete(this)}cancel(){this.state==="scheduled"&&(Ul.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const S4e=e=>e.startsWith("--");function E4e(e,t,r){S4e(t)?e.style.setProperty(t,r):e.style[t]=r}const C4e=TC(()=>window.ScrollTimeline!==void 0),j4e={};function T4e(e,t){const r=TC(e);return()=>j4e[t]??r()}const Tz=T4e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),of=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,TD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:of([0,.65,.55,1]),circOut:of([.55,0,1,.45]),backIn:of([.31,.01,.66,-.59]),backOut:of([.33,1.53,.69,.99])};function Az(e,t){if(e)return typeof e=="function"?Tz()?kz(e,t):"ease-out":fz(e)?of(e):Array.isArray(e)?e.map(r=>Az(r,t)||TD.easeOut):TD[e]}function A4e(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[t]:r};l&&(d.offset=l);const f=Az(o,a);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(d,h)}function Nz(e){return typeof e=="function"&&"applyToOptions"in e}function N4e({type:e,...t}){return Nz(e)&&Tz()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class P4e extends LC{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,jC(typeof t.type!="string");const c=N4e(t);this.animation=A4e(r,n,a,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=FC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):E4e(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return qa(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+qa(t)}get time(){return qa(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Di(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&C4e()?(this.animation.timeline=t,Xa):r(this)}}const Pz={anticipate:lz,backInOut:oz,circInOut:uz};function O4e(e){return e in Pz}function D4e(e){typeof e.ease=="string"&&O4e(e.ease)&&(e.ease=Pz[e.ease])}const cb=10;class M4e extends P4e{constructor(t){D4e(t),Ez(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new $C({...i,autoplay:!1}),l=Math.max(cb,Gn.now()-this.startTime),c=ai(0,cb,l-cb);r.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const AD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Go.test(e)||e==="0")&&!e.startsWith("url("));function I4e(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function R4e(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=AD(a,t),o=AD(s,t);return!i||!o?!1:I4e(e)||(r==="spring"||Nz(r))&&n}function r_(e){e.duration=0,e.type="keyframes"}const F4e=new Set(["opacity","clipPath","filter","transform"]),L4e=TC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $4e(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return L4e()&&r&&F4e.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const B4e=40;class z4e extends LC{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:l,motionValue:c,element:d,...f}){var m;super(),this.stop=()=>{var v,g;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Gn.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:l,motionValue:c,element:d,...f},p=(d==null?void 0:d.KeyframeResolver)||BC;this.keyframeResolver=new p(o,(v,g,x)=>this.onKeyframesResolved(v,g,h,!x),l,c,d),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){var g,x;this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:l,isHandoff:c,onUpdate:d}=n;this.resolvedAt=Gn.now(),R4e(t,s,i,o)||((qi.instantAnimations||!l)&&(d==null||d(FC(t,n,r))),t[0]=t[t.length-1],r_(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>B4e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&$4e(h),m=(x=(g=h.motionValue)==null?void 0:g.owner)==null?void 0:x.current,v=p?new M4e({...h,element:m}):new $C(h);v.finished.then(()=>{this.notifyFinished()}).catch(Xa),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),k4e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function Oz(e,t,r,n=0,a=1){const s=Array.from(e).sort((c,d)=>c.sortNodePosition(d)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:o-s*n}const U4e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function V4e(e){const t=U4e.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function Dz(e,t,r=1){const[n,a]=V4e(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return Q9(i)?parseFloat(i):i}return OC(a)?Dz(a,t,r+1):a}const W4e={type:"spring",stiffness:500,damping:25,restSpeed:10},H4e=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),K4e={type:"keyframes",duration:.8},G4e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q4e=(e,{keyframes:t})=>t.length>2?K4e:Sd.has(e)?e.startsWith("scale")?H4e(t[1]):W4e:G4e,Y4e=e=>e!==null;function X4e(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(Y4e),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}function zC(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function Z4e({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const UC=(e,t,r,n={},a,s)=>i=>{const o=zC(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Di(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};Z4e(o)||Object.assign(d,q4e(e,d)),d.duration&&(d.duration=Di(d.duration)),d.repeatDelay&&(d.repeatDelay=Di(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(r_(d),d.delay===0&&(f=!0)),(qi.instantAnimations||qi.skipAnimations)&&(f=!0,r_(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=X4e(d.keyframes,o);if(h!==void 0){$t.update(()=>{d.onUpdate(h),d.onComplete()});return}}return o.isSync?new $C(d):new z4e(d)};function ND(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function VC(e,t,r,n){if(typeof t=="function"){const[a,s]=ND(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=ND(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function Au(e,t,r){const n=e.getProps();return VC(n,t,r!==void 0?r:n.custom,e)}const Mz=new Set(["width","height","top","left","right","bottom",...kd]),PD=30,J4e=e=>!isNaN(parseFloat(e));class Q4e{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=J4e(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new AC);const n=this.events[t].add(r);return t==="change"?()=>{n(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,PD);return rz(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qu(e,t){return new Q4e(e,t)}const n_=e=>Array.isArray(e);function eDe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Qu(r))}function tDe(e){return n_(e)?e[e.length-1]||0:e}function rDe(e,t){const r=Au(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const o=tDe(s[i]);eDe(e,i,o)}}const Dn=e=>!!(e&&e.getVelocity);function nDe(e){return!!(Dn(e)&&e.add)}function a_(e,t){const r=e.getValue("willChange");if(nDe(r))return r.add(t);if(!r&&qi.WillChange){const n=new qi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function WC(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const aDe="framerAppearId",Iz="data-"+WC(aDe);function Rz(e){return e.props[Iz]}function sDe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Fz(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;const l=s==null?void 0:s.reduceMotion;n&&(s=n);const c=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const h=e.getValue(f,e.latestValues[f]??null),p=o[f];if(p===void 0||d&&sDe(d,f))continue;const m={delay:r,...zC(s||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=Rz(e);if(y){const _=window.MotionHandoffAnimation(y,f,$t);_!==null&&(m.startTime=_,g=!0)}}a_(e,f);const x=l??e.shouldReduceMotion;h.start(UC(f,h,p,x&&Mz.has(f)?{type:!1}:m,e,g));const b=h.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{$t.update(()=>{i&&rDe(e,i)})}),c}function s_(e,t,r={}){var l;const n=Au(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(Fz(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=a;return iDe(e,t,c,d,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,d]=o==="beforeChildren"?[s,i]:[i,s];return c().then(()=>d())}else return Promise.all([s(),i(r.delay)])}function iDe(e,t,r=0,n=0,a=0,s=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(s_(l,t,{...i,delay:r+(typeof n=="function"?0:n)+Oz(e.variantChildren,l,n,a,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function oDe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>s_(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=s_(e,t,r);else{const a=typeof t=="function"?Au(e,t,r.custom):t;n=Promise.all(Fz(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const lDe={test:e=>e==="auto",parse:e=>e},Lz=e=>t=>t.test(e),$z=[_d,De,Zs,io,IOe,MOe,lDe],OD=e=>$z.find(Lz(e));function cDe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||tz(e):!0}const uDe=new Set(["brightness","contrast","saturate","opacity"]);function dDe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(DC)||[];if(!n)return e;const a=r.replace(n,"");let s=uDe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const fDe=/\b([a-z-]*)\(.*?\)/gu,i_={...Go,getAnimatableNone:e=>{const t=e.match(fDe);return t?t.map(dDe).join(" "):e}},DD={..._d,transform:Math.round},hDe={rotate:io,rotateX:io,rotateY:io,rotateZ:io,scale:am,scaleX:am,scaleY:am,scaleZ:am,skew:io,skewX:io,skewY:io,distance:De,translateX:De,translateY:De,translateZ:De,x:De,y:De,z:De,perspective:De,transformPerspective:De,opacity:$0,originX:yD,originY:yD,originZ:De},HC={borderWidth:De,borderTopWidth:De,borderRightWidth:De,borderBottomWidth:De,borderLeftWidth:De,borderRadius:De,borderTopLeftRadius:De,borderTopRightRadius:De,borderBottomRightRadius:De,borderBottomLeftRadius:De,width:De,maxWidth:De,height:De,maxHeight:De,top:De,right:De,bottom:De,left:De,inset:De,insetBlock:De,insetBlockStart:De,insetBlockEnd:De,insetInline:De,insetInlineStart:De,insetInlineEnd:De,padding:De,paddingTop:De,paddingRight:De,paddingBottom:De,paddingLeft:De,paddingBlock:De,paddingBlockStart:De,paddingBlockEnd:De,paddingInline:De,paddingInlineStart:De,paddingInlineEnd:De,margin:De,marginTop:De,marginRight:De,marginBottom:De,marginLeft:De,marginBlock:De,marginBlockStart:De,marginBlockEnd:De,marginInline:De,marginInlineStart:De,marginInlineEnd:De,fontSize:De,backgroundPositionX:De,backgroundPositionY:De,...hDe,zIndex:DD,fillOpacity:$0,strokeOpacity:$0,numOctaves:DD},pDe={...HC,color:Tr,backgroundColor:Tr,outlineColor:Tr,fill:Tr,stroke:Tr,borderColor:Tr,borderTopColor:Tr,borderRightColor:Tr,borderBottomColor:Tr,borderLeftColor:Tr,filter:i_,WebkitFilter:i_},Bz=e=>pDe[e];function zz(e,t){let r=Bz(e);return r!==i_&&(r=Go),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const mDe=new Set(["auto","none","0"]);function vDe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!mDe.has(s)&&B0(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=zz(r,a)}class gDe extends BC{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let f=t[d];if(typeof f=="string"&&(f=f.trim(),OC(f))){const h=Dz(f,r.current);h!==void 0&&(t[d]=h),d===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!Mz.has(n)||t.length!==2)return;const[a,s]=t,i=OD(a),o=OD(s),l=xD(a),c=xD(s);if(l!==c&&So[n]){this.needsMeasurement=!0;return}if(i!==o)if(jD(i)&&jD(o))for(let d=0;d<t.length;d++){const f=t[d];typeof f=="string"&&(t[d]=parseFloat(f))}else So[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||cDe(t[a]))&&n.push(a);n.length&&vDe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=So[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=So[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function xDe(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const Uz=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function o_(e){return ez(e)&&"offsetHeight"in e}const{schedule:KC}=hz(queueMicrotask,!1),hs={x:!1,y:!1};function Vz(){return hs.x||hs.y}function yDe(e){return e==="x"||e==="y"?hs[e]?null:(hs[e]=!0,()=>{hs[e]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}function Wz(e,t){const r=xDe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function MD(e){return!(e.pointerType==="touch"||Vz())}function bDe(e,t,r={}){const[n,a,s]=Wz(e,r),i=o=>{if(!MD(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const d=f=>{MD(f)&&(c(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),s}const Hz=(e,t)=>t?e===t?!0:Hz(e,t.parentElement):!1,GC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,wDe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kz(e){return wDe.has(e.tagName)||e.isContentEditable===!0}const Tm=new WeakSet;function ID(e){return t=>{t.key==="Enter"&&e(t)}}function ub(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const _De=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=ID(()=>{if(Tm.has(r))return;ub(r,"down");const a=ID(()=>{ub(r,"up")}),s=()=>ub(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function RD(e){return GC(e)&&!Vz()}function kDe(e,t,r={}){const[n,a,s]=Wz(e,r),i=o=>{const l=o.currentTarget;if(!RD(o))return;Tm.add(l);const c=t(l,o),d=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Tm.has(l)&&Tm.delete(l),RD(p)&&typeof c=="function"&&c(p,{success:m})},f=p=>{d(p,l===window||l===document||r.useGlobalTarget||Hz(l,p.target))},h=p=>{d(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),o_(o)&&(o.addEventListener("focus",c=>_De(c,a)),!Kz(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function Gz(e){return ez(e)&&"ownerSVGElement"in e}function SDe(e){return Gz(e)&&e.tagName==="svg"}const EDe=[...$z,Tr,Go],CDe=e=>EDe.find(Lz(e)),FD=()=>({translate:0,scale:1,origin:0,originPoint:0}),uu=()=>({x:FD(),y:FD()}),LD=()=>({min:0,max:0}),Rr=()=>({x:LD(),y:LD()}),l_={current:null},qz={current:!1},jDe=typeof window<"u";function TDe(){if(qz.current=!0,!!jDe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>l_.current=e.matches;e.addEventListener("change",t),t()}else l_.current=!1}const ADe=new WeakMap;function _y(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function z0(e){return typeof e=="string"||Array.isArray(e)}const qC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YC=["initial",...qC];function ky(e){return _y(e.animate)||YC.some(t=>z0(e[t]))}function Yz(e){return!!(ky(e)||e.variants)}function NDe(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Dn(a))e.addValue(n,a);else if(Dn(s))e.addValue(n,Qu(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Qu(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const $D=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Eg={};function Xz(e){Eg=e}function PDe(){return Eg}class ODe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,$t.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ky(r),this.isVariantNode=Yz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Dn(p)&&p.set(l[h])}}mount(t){var r;this.current=t,ADe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(qz.current||TDe(),this.shouldReduceMotion=l_.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ko(this.notifyUpdate),Ko(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Sd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&$t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Eg){const r=Eg[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<$D.length;n++){const a=$D[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=NDe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Qu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Q9(n)||tz(n))?n=parseFloat(n):!CDe(n)&&Go.test(r)&&(n=zz(t,r)),this.setBaseTarget(t,Dn(n)?n.get():n)),Dn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=VC(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Dn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new AC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){KC.render(this.render)}}class Zz extends ODe{constructor(){super(...arguments),this.KeyframeResolver=gDe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Dn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class il{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jz({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function DDe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MDe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function db(e){return e===void 0||e===1}function c_({scale:e,scaleX:t,scaleY:r}){return!db(e)||!db(t)||!db(r)}function yl(e){return c_(e)||Qz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Qz(e){return BD(e.x)||BD(e.y)}function BD(e){return e&&e!=="0%"}function Cg(e,t,r){const n=e-r,a=t*n;return r+a}function zD(e,t,r,n,a){return a!==void 0&&(e=Cg(e,a,n)),Cg(e,r,n)+t}function u_(e,t=0,r=1,n,a){e.min=zD(e.min,t,r,n,a),e.max=zD(e.max,t,r,n,a)}function e7(e,{x:t,y:r}){u_(e.x,t.translate,t.scale,t.originPoint),u_(e.y,r.translate,r.scale,r.originPoint)}const UD=.999999999999,VD=1.0000000000001;function IDe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fu(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,e7(e,i)),n&&yl(s.latestValues)&&fu(e,s.latestValues))}t.x<VD&&t.x>UD&&(t.x=1),t.y<VD&&t.y>UD&&(t.y=1)}function du(e,t){e.min=e.min+t,e.max=e.max+t}function WD(e,t,r,n,a=.5){const s=tr(e.min,e.max,a);u_(e,t,r,s,n)}function fu(e,t){WD(e.x,t.x,t.scaleX,t.scale,t.originX),WD(e.y,t.y,t.scaleY,t.scale,t.originY)}function t7(e,t){return Jz(MDe(e.getBoundingClientRect(),t))}function RDe(e,t,r){const n=t7(e,r),{scroll:a}=t;return a&&(du(n.x,a.offset.x),du(n.y,a.offset.y)),n}const FDe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LDe=kd.length;function $De(e,t,r){let n="",a=!0;for(let s=0;s<LDe;s++){const i=kd[s],o=e[i];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(i.startsWith("scale")?1:0);else{const c=parseFloat(o);l=i.startsWith("scale")?c===1:c===0}if(!l||r){const c=Uz(o,HC[i]);if(!l){a=!1;const d=FDe[i]||i;n+=`${d}(${c}) `}r&&(t[i]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function XC(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const c=t[l];if(Sd.has(l)){i=!0;continue}else if(mz(l)){a[l]=c;continue}else{const d=Uz(c,HC[l]);l.startsWith("origin")?(o=!0,s[l]=d):n[l]=d}}if(t.transform||(i||r?n.transform=$De(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;n.transformOrigin=`${l} ${c} ${d}`}}function r7(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function HD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const qd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(De.test(e))e=parseFloat(e);else return e;const r=HD(e,t.target.x),n=HD(e,t.target.y);return`${r}% ${n}%`}},BDe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Go.parse(e);if(a.length>5)return n;const s=Go.createTransformer(e),i=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const c=tr(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),s(a)}},d_={borderRadius:{...qd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qd,borderTopRightRadius:qd,borderBottomLeftRadius:qd,borderBottomRightRadius:qd,boxShadow:BDe};function n7(e,{layout:t,layoutId:r}){return Sd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!d_[e]||e==="opacity")}function ZC(e,t,r){var i;const n=e.style,a=t==null?void 0:t.style,s={};if(!n)return s;for(const o in n)(Dn(n[o])||a&&Dn(a[o])||n7(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function zDe(e){return window.getComputedStyle(e)}class UDe extends Zz{constructor(){super(...arguments),this.type="html",this.renderInstance=r7}readValueFromInstance(t,r){var n;if(Sd.has(r))return(n=this.projection)!=null&&n.isProjecting?Z2(r):x4e(t,r);{const a=zDe(t),s=(mz(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return t7(t,r)}build(t,r,n){XC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return ZC(t,r,n)}}const VDe={offset:"stroke-dashoffset",array:"stroke-dasharray"},WDe={offset:"strokeDashoffset",array:"strokeDasharray"};function HDe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?VDe:WDe;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const KDe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function a7(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...o},l,c,d){if(XC(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox);for(const p of KDe)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&HDe(f,a,s,i,!1)}const s7=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),i7=e=>typeof e=="string"&&e.toLowerCase()==="svg";function GDe(e,t,r,n){r7(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(s7.has(a)?a:WC(a),t.attrs[a])}function o7(e,t,r){const n=ZC(e,t,r);for(const a in e)if(Dn(e[a])||Dn(t[a])){const s=kd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}class qDe extends Zz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Sd.has(r)){const n=Bz(r);return n&&n.default||0}return r=s7.has(r)?r:WC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return o7(t,r,n)}build(t,r,n){a7(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){GDe(t,r,n,a)}mount(t){this.isSVGTag=i7(t.tagName),super.mount(t)}}const YDe=YC.length;function l7(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?l7(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<YDe;r++){const n=YC[r],a=e.props[n];(z0(a)||a===!1)&&(t[n]=a)}return t}function c7(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const XDe=[...qC].reverse(),ZDe=qC.length;function JDe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>oDe(e,r,n)))}function QDe(e){let t=JDe(e),r=KD(),n=!0;const a=l=>(c,d)=>{var h;const f=Au(e,d,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,d=l7(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let g=0;g<ZDe;g++){const x=XDe[g],b=r[x],y=c[x]!==void 0?c[x]:d[x],_=z0(y),k=x===l?b.isActive:null;k===!1&&(m=g);let S=y===d[x]&&y!==c[x]&&_;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),b.protectedKeys={...p},!b.isActive&&k===null||!y&&!b.prevProp||_y(y)||typeof y=="boolean")continue;const E=e3e(b.prevProp,y);let C=E||x===l&&b.isActive&&!S&&_||g>m&&_,j=!1;const T=Array.isArray(y)?y:[y];let N=T.reduce(a(x),{});k===!1&&(N={});const{prevResolvedValues:A={}}=b,P={...A,...N},V=G=>{C=!0,h.has(G)&&(j=!0,h.delete(G)),b.needsAnimating[G]=!0;const Y=e.getValue(G);Y&&(Y.liveStyle=!1)};for(const G in P){const Y=N[G],I=A[G];if(p.hasOwnProperty(G))continue;let te=!1;n_(Y)&&n_(I)?te=!c7(Y,I):te=Y!==I,te?Y!=null?V(G):h.add(G):Y!==void 0&&h.has(G)?V(G):b.protectedKeys[G]=!0}b.prevProp=y,b.prevResolvedValues=N,b.isActive&&(p={...p,...N}),n&&e.blockInitialAnimation&&(C=!1);const z=S&&E;C&&(!z||j)&&f.push(...T.map(G=>{const Y={type:x};if(typeof G=="string"&&n&&!z&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,te=Au(I,G);if(I.enteringChildren&&te){const{delayChildren:J}=te.transition||{};Y.delay=Oz(I.enteringChildren,e,J)}}return{animation:G,options:Y}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const x=Au(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(g.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),g[x]=b??null}),f.push({animation:g})}let v=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const d=i(l);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:i,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=KD()}}}function e3e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!c7(t,e):!1}function dl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KD(){return{animate:dl(!0),whileInView:dl(),whileHover:dl(),whileTap:dl(),whileDrag:dl(),whileFocus:dl(),exit:dl()}}function GD(e,t){e.min=t.min,e.max=t.max}function ds(e,t){GD(e.x,t.x),GD(e.y,t.y)}function qD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const u7=1e-4,t3e=1-u7,r3e=1+u7,d7=.01,n3e=0-d7,a3e=0+d7;function qn(e){return e.max-e.min}function s3e(e,t,r){return Math.abs(e-t)<=r}function YD(e,t,r,n=.5){e.origin=n,e.originPoint=tr(t.min,t.max,e.origin),e.scale=qn(r)/qn(t),e.translate=tr(r.min,r.max,e.origin)-e.originPoint,(e.scale>=t3e&&e.scale<=r3e||isNaN(e.scale))&&(e.scale=1),(e.translate>=n3e&&e.translate<=a3e||isNaN(e.translate))&&(e.translate=0)}function Mf(e,t,r,n){YD(e.x,t.x,r.x,n?n.originX:void 0),YD(e.y,t.y,r.y,n?n.originY:void 0)}function XD(e,t,r){e.min=r.min+t.min,e.max=e.min+qn(t)}function i3e(e,t,r){XD(e.x,t.x,r.x),XD(e.y,t.y,r.y)}function ZD(e,t,r){e.min=t.min-r.min,e.max=e.min+qn(t)}function jg(e,t,r){ZD(e.x,t.x,r.x),ZD(e.y,t.y,r.y)}function JD(e,t,r,n,a){return e-=t,e=Cg(e,1/r,n),a!==void 0&&(e=Cg(e,1/a,n)),e}function o3e(e,t=0,r=1,n=.5,a,s=e,i=e){if(Zs.test(t)&&(t=parseFloat(t),t=tr(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=tr(s.min,s.max,n);e===s&&(o-=t),e.min=JD(e.min,t,r,o,a),e.max=JD(e.max,t,r,o,a)}function QD(e,t,[r,n,a],s,i){o3e(e,t[r],t[n],t[a],t.scale,s,i)}const l3e=["x","scaleX","originX"],c3e=["y","scaleY","originY"];function e3(e,t,r,n){QD(e.x,t,l3e,r?r.x:void 0,n?n.x:void 0),QD(e.y,t,c3e,r?r.y:void 0,n?n.y:void 0)}function t3(e){return e.translate===0&&e.scale===1}function f7(e){return t3(e.x)&&t3(e.y)}function r3(e,t){return e.min===t.min&&e.max===t.max}function u3e(e,t){return r3(e.x,t.x)&&r3(e.y,t.y)}function n3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function h7(e,t){return n3(e.x,t.x)&&n3(e.y,t.y)}function a3(e){return qn(e.x)/qn(e.y)}function s3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function $a(e){return[e("x"),e("y")]}function d3e(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const p7=["TopLeft","TopRight","BottomLeft","BottomRight"],f3e=p7.length,i3=e=>typeof e=="string"?parseFloat(e):e,o3=e=>typeof e=="number"||De.test(e);function h3e(e,t,r,n,a,s){a?(e.opacity=tr(0,r.opacity??1,p3e(n)),e.opacityExit=tr(t.opacity??1,0,m3e(n))):s&&(e.opacity=tr(t.opacity??1,r.opacity??1,n));for(let i=0;i<f3e;i++){const o=`border${p7[i]}Radius`;let l=l3(t,o),c=l3(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||o3(l)===o3(c)?(e[o]=Math.max(tr(i3(l),i3(c),n),0),(Zs.test(c)||Zs.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=tr(t.rotate||0,r.rotate||0,n))}function l3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p3e=m7(0,.5,cz),m3e=m7(.5,.95,Xa);function m7(e,t,r){return n=>n<e?0:n>t?1:r(L0(e,t,n))}function v3e(e,t,r){const n=Dn(e)?e:Qu(e);return n.start(UC("",n,t,r)),n.animation}function U0(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const g3e=(e,t)=>e.depth-t.depth;class x3e{constructor(){this.children=[],this.isDirty=!1}add(t){EC(this.children,t),this.isDirty=!0}remove(t){CC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(g3e),this.isDirty=!1,this.children.forEach(t)}}function y3e(e,t){const r=Gn.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Ko(n),e(s-t))};return $t.setup(n,!0),()=>Ko(n)}function Am(e){return Dn(e)?e.get():e}class b3e{constructor(){this.members=[]}add(t){EC(this.members,t),t.scheduleRender()}remove(t){if(CC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,s=t.options.layoutDependency;a!==void 0&&s!==void 0&&a===s||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Nm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fb=["","X","Y","Z"],w3e=1e3;let _3e=0;function hb(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function v7(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Rz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",$t,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&v7(n)}function g7({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=_3e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(E3e),this.nodes.forEach(A3e),this.nodes.forEach(N3e),this.nodes.forEach(C3e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new x3e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new AC),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=Gz(i)&&!SDe(i),this.instance=i;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;$t.read(()=>{f=window.innerWidth}),e(i,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,d&&d(),d=y3e(h,250),Nm.hasAnimatedSinceResize&&(Nm.hasAnimatedSinceResize=!1,this.nodes.forEach(d3)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||I3e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),x=!this.targetLayout||!h7(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...zC(m,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,b)}else f||d3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(P3e),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&v7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(c3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(u3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(T3e),this.nodes.forEach(k3e),this.nodes.forEach(S3e)):this.nodes.forEach(u3),this.clearAllSnapshots();const o=Gn.now();pn.delta=ai(0,1e3/60,o-pn.timestamp),pn.timestamp=o,pn.isProcessing=!0,ab.update.process(pn),ab.preRender.process(pn),ab.render.process(pn),pn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,KC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j3e),this.sharedNodes.forEach(O3e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!qn(this.snapshot.measuredBox.x)&&!qn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Rr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!f7(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||yl(this.latestValues)||d)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),R3e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return Rr();const o=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(F3e))){const{scroll:d}=this.root;d&&(du(o.x,d.offset.x),du(o.y,d.offset.y))}return o}removeElementScroll(i){var l;const o=Rr();if(ds(o,i),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ds(o,i),du(o.x,f.offset.x),du(o.y,f.offset.y))}return o}applyTransform(i,o=!1){const l=Rr();ds(l,i);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&fu(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),yl(d.latestValues)&&fu(l,d.latestValues)}return yl(this.latestValues)&&fu(l,this.latestValues),l}removeTransform(i){const o=Rr();ds(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!yl(c.latestValues))continue;c_(c.latestValues)&&c.updateSnapshot();const d=Rr(),f=c.measurePageBox();ds(d,f),e3(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return yl(this.latestValues)&&e3(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=pn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Rr(),this.targetWithTransforms=Rr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),i3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ds(this.target,this.layout.layoutBox),e7(this.target,this.targetDelta)):ds(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||c_(this.parent.latestValues)||Qz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,o,l){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rr(),this.relativeTargetOrigin=Rr(),jg(this.relativeTargetOrigin,o,l),ds(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===pn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;ds(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;IDe(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Rr());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qD(this.prevProjectionDelta.x,this.projectionDelta.x),qD(this.prevProjectionDelta.y,this.projectionDelta.y)),Mf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!s3(this.projectionDelta.x,this.prevProjectionDelta.x)||!s3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uu(),this.projectionDelta=uu(),this.projectionDeltaWithTransform=uu()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=uu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Rr(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,g=this.getStack(),x=!g||g.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(M3e));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const k=_/1e3;f3(f.x,i.x,k),f3(f.y,i.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D3e(this.relativeTarget,this.relativeTargetOrigin,h,k),y&&u3e(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Rr()),ds(y,this.relativeTarget)),v&&(this.animationValues=d,h3e(d,c,this.latestValues,k,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{Nm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qu(0)),this.currentAnimation=v3e(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),i.onUpdate&&i.onUpdate(d)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(w3e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&x7(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Rr();const f=qn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=qn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}ds(o,l),fu(o,d),Mf(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new b3e),this.sharedNodes.get(i).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&hb("z",i,c,this.animationValues);for(let d=0;d<fb.length;d++)hb(`rotate${fb[d]}`,i,c,this.animationValues),hb(`skew${fb[d]}`,i,c,this.animationValues);i.render();for(const d in c)i.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=Am(o==null?void 0:o.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=Am(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!yl(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=d3e(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),i.transform=f;const{x:h,y:p}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?i.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:i.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in d_){if(d[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:x}=d_[m],b=f==="none"?d[m]:v(d[m],c);if(g){const y=g.length;for(let _=0;_<y;_++)i[g[_]]=b}else x?this.options.visualElement.renderState.vars[m]=b:i[m]=b}this.options.layoutId&&(i.pointerEvents=c===this?Am(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(c3),this.root.sharedNodes.clear()}}}function k3e(e){e.updateLayout()}function S3e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?$a(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=qn(h);h.min=n[f].min,h.max=h.min+p}):x7(s,t.layoutBox,n)&&$a(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=qn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=uu();Mf(o,n,t.layoutBox);const l=uu();i?Mf(l,e.applyTransform(a,!0),t.measuredBox):Mf(l,n,t.layoutBox);const c=!f7(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Rr();jg(m,t.layoutBox,h.layoutBox);const v=Rr();jg(v,n,p.layoutBox),h7(m,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function E3e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function C3e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function j3e(e){e.clearSnapshot()}function c3(e){e.clearMeasurements()}function u3(e){e.isLayoutDirty=!1}function T3e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function d3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function A3e(e){e.resolveTargetDelta()}function N3e(e){e.calcProjection()}function P3e(e){e.resetSkewAndRotation()}function O3e(e){e.removeLeadSnapshot()}function f3(e,t,r){e.translate=tr(t.translate,0,r),e.scale=tr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function h3(e,t,r,n){e.min=tr(t.min,r.min,n),e.max=tr(t.max,r.max,n)}function D3e(e,t,r,n){h3(e.x,t.x,r.x,n),h3(e.y,t.y,r.y,n)}function M3e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const I3e={duration:.45,ease:[.4,0,.1,1]},p3=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),m3=p3("applewebkit/")&&!p3("chrome/")?Math.round:Xa;function v3(e){e.min=m3(e.min),e.max=m3(e.max)}function R3e(e){v3(e.x),v3(e.y)}function x7(e,t,r){return e==="position"||e==="preserve-aspect"&&!s3e(a3(t),a3(r),.2)}function F3e(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const L3e=g7({attachResizeListener:(e,t)=>U0(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),pb={current:void 0},y7=g7({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!pb.current){const e=new L3e({});e.mount(window),e.setOptions({layoutScroll:!0}),pb.current=e}return pb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),JC=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function g3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $3e(...e){return t=>{let r=!1;const n=e.map(a=>{const s=g3(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():g3(e[a],null)}}}}function B3e(...e){return w.useCallback($3e(...e),e)}class z3e extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=o_(n)&&n.offsetWidth||0,s=o_(n)&&n.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function U3e({children:e,isPresent:t,anchorX:r,anchorY:n,root:a}){var f;const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=w.useContext(JC),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),d=B3e(i,c);return w.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:v,right:g,bottom:x}=o.current;if(t||!i.current||!h||!p)return;const b=r==="left"?`left: ${v}`:`right: ${g}`,y=n==="bottom"?`bottom: ${x}`:`top: ${m}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");l&&(_.nonce=l);const k=a??document.head;return k.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            ${y}px !important;
          }
        `),()=>{k.contains(_)&&k.removeChild(_)}},[t]),u.jsx(z3e,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:d})})}const V3e=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:o,anchorY:l,root:c})=>{const d=SC(W3e),f=w.useId();let h=!0,p=w.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:m=>{d.set(m,!0);for(const v of d.values())if(!v)return;n&&n()},register:m=>(d.set(m,!1),()=>d.delete(m))}),[r,d,n]);return s&&h&&(p={...p}),w.useMemo(()=>{d.forEach((m,v)=>d.set(v,!1))},[r]),w.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),i==="popLayout"&&(e=u.jsx(U3e,{isPresent:r,anchorX:o,anchorY:l,root:c,children:e})),u.jsx(wy.Provider,{value:p,children:e})};function W3e(){return new Map}function b7(e=!0){const t=w.useContext(wy);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=w.useId();w.useEffect(()=>{if(e)return a(s)},[e]);const i=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const sm=e=>e.key||"";function x3(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const H3e=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[d,f]=b7(i),h=w.useMemo(()=>x3(e),[e]),p=i&&!d?[]:h.map(sm),m=w.useRef(!0),v=w.useRef(h),g=SC(()=>new Map),x=w.useRef(new Set),[b,y]=w.useState(h),[_,k]=w.useState(h);J9(()=>{m.current=!1,v.current=h;for(let C=0;C<_.length;C++){const j=sm(_[C]);p.includes(j)?(g.delete(j),x.current.delete(j)):g.get(j)!==!0&&g.set(j,!1)}},[_,p.length,p.join("-")]);const S=[];if(h!==b){let C=[...h];for(let j=0;j<_.length;j++){const T=_[j],N=sm(T);p.includes(N)||(C.splice(j,0,T),S.push(T))}return s==="wait"&&S.length&&(C=S),k(x3(C)),y(h),null}const{forceRender:E}=w.useContext(kC);return u.jsx(u.Fragment,{children:_.map(C=>{const j=sm(C),T=i&&!d?!1:h===_||p.includes(j),N=()=>{if(x.current.has(j))return;if(x.current.add(j),g.has(j))g.set(j,!0);else return;let A=!0;g.forEach(P=>{P||(A=!1)}),A&&(E==null||E(),k(v.current),i&&(f==null||f()),n&&n())};return u.jsx(V3e,{isPresent:T,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:T?void 0:N,anchorX:o,anchorY:l,children:C},j)})})},w7=w.createContext({strict:!1}),y3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let b3=!1;function K3e(){if(b3)return;const e={};for(const t in y3)e[t]={isEnabled:r=>y3[t].some(n=>!!r[n])};Xz(e),b3=!0}function _7(){return K3e(),PDe()}function G3e(e){const t=_7();for(const r in e)t[r]={...t[r],...e[r]};Xz(t)}const q3e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q3e.has(e)}let k7=e=>!Tg(e);function Y3e(e){typeof e=="function"&&(k7=t=>t.startsWith("on")?!Tg(t):e(t))}try{Y3e(require("@emotion/is-prop-valid").default)}catch{}function X3e(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(k7(a)||r===!0&&Tg(a)||!t&&!Tg(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const Sy=w.createContext({});function Z3e(e,t){if(ky(e)){const{initial:r,animate:n}=e;return{initial:r===!1||z0(r)?r:void 0,animate:z0(n)?n:void 0}}return e.inherit!==!1?t:{}}function J3e(e){const{initial:t,animate:r}=Z3e(e,w.useContext(Sy));return w.useMemo(()=>({initial:t,animate:r}),[w3(t),w3(r)])}function w3(e){return Array.isArray(e)?e.join(" "):e}const QC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function S7(e,t,r){for(const n in t)!Dn(t[n])&&!n7(n,r)&&(e[n]=t[n])}function Q3e({transformTemplate:e},t){return w.useMemo(()=>{const r=QC();return XC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function eMe(e,t){const r=e.style||{},n={};return S7(n,r,e),Object.assign(n,Q3e(e,t)),n}function tMe(e,t){const r={},n=eMe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const E7=()=>({...QC(),attrs:{}});function rMe(e,t,r,n){const a=w.useMemo(()=>{const s=E7();return a7(s,t,i7(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};S7(s,e.style,e),a.style={...s,...a.style}}return a}const nMe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ej(e){return typeof e!="string"||e.includes("-")?!1:!!(nMe.indexOf(e)>-1||/[A-Z]/u.test(e))}function aMe(e,t,r,{latestValues:n},a,s=!1,i){const l=(i??ej(e)?rMe:tMe)(t,n,a,e),c=X3e(t,typeof e=="string",s),d=e!==w.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=w.useMemo(()=>Dn(f)?f.get():f,[f]);return w.createElement(e,{...d,children:h})}function sMe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:iMe(r,n,a,e),renderState:t()}}function iMe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=Am(s[h]);let{initial:i,animate:o}=e;const l=ky(e),c=Yz(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||i===!1;const f=d?o:i;if(f&&typeof f!="boolean"&&!_y(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=VC(e,h[p]);if(m){const{transitionEnd:v,transition:g,...x}=m;for(const b in x){let y=x[b];if(Array.isArray(y)){const _=d?y.length-1:0;y=y[_]}y!==null&&(a[b]=y)}for(const b in v)a[b]=v[b]}}}return a}const C7=e=>(t,r)=>{const n=w.useContext(Sy),a=w.useContext(wy),s=()=>sMe(e,t,n,a);return r?s():SC(s)},oMe=C7({scrapeMotionValuesFromProps:ZC,createRenderState:QC}),lMe=C7({scrapeMotionValuesFromProps:o7,createRenderState:E7}),cMe=Symbol.for("motionComponentSymbol");function uMe(e,t,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const a=w.useRef(null);return w.useCallback(s=>{var o;s&&((o=e.onMount)==null||o.call(e,s)),t&&(s?t.mount(s):t.unmount());const i=n.current;if(typeof i=="function")if(s){const l=i(s);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):i(s);else i&&(i.current=s)},[t])}const j7=w.createContext({});function lf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dMe(e,t,r,n,a,s){var x,b;const{visualElement:i}=w.useContext(Sy),o=w.useContext(w7),l=w.useContext(wy),c=w.useContext(JC).reducedMotion,d=w.useRef(null),f=w.useRef(!1);n=n||o.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),f.current&&d.current&&(d.current.manuallyAnimateOnMount=!0));const h=d.current,p=w.useContext(j7);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&fMe(d.current,r,a,p);const m=w.useRef(!1);w.useInsertionEffect(()=>{h&&m.current&&h.update(r,l)});const v=r[Iz],g=w.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return J9(()=>{f.current=!0,h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,v)}),g.current=!1),h.enteringChildren=void 0)}),h}function fMe(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:T7(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||o&&lf(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:c})}function T7(e){if(e)return e.options.allowProjection!==!1?e.projection:T7(e.parent)}function mb(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&G3e(n);const s=r?r==="svg":ej(e),i=s?lMe:oMe;function o(c,d){let f;const h={...w.useContext(JC),...c,layoutId:hMe(c)},{isStatic:p}=h,m=J3e(c),v=i(c,p);if(!p&&Z9){pMe();const g=mMe(h);f=g.MeasureLayout,m.visualElement=dMe(e,v,h,a,g.ProjectionNode,s)}return u.jsxs(Sy.Provider,{value:m,children:[f&&m.visualElement?u.jsx(f,{visualElement:m.visualElement,...h}):null,aMe(e,c,uMe(v,m.visualElement,d),v,p,t,s)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(o);return l[cMe]=e,l}function hMe({layoutId:e}){const t=w.useContext(kC).id;return t&&e!==void 0?t+"-"+e:e}function pMe(e,t){w.useContext(w7).strict}function mMe(e){const t=_7(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function vMe(e,t){if(typeof Proxy>"u")return mb;const r=new Map,n=(s,i)=>mb(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,mb(i,void 0,e,t)),r.get(i))})}const gMe=(e,t)=>t.isSVG??ej(e)?new qDe(t):new UDe(t,{allowProjection:e!==w.Fragment});class xMe extends il{constructor(t){super(t),t.animationState||(t.animationState=QDe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_y(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yMe=0;class bMe extends il{constructor(){super(...arguments),this.id=yMe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wMe={animation:{Feature:xMe},exit:{Feature:bMe}};function Gh(e){return{point:{x:e.pageX,y:e.pageY}}}const _Me=e=>t=>GC(t)&&e(t,Gh(t));function If(e,t,r,n){return U0(e,t,_Me(r),n)}const A7=({current:e})=>e?e.ownerDocument.defaultView:null,_3=(e,t)=>Math.abs(e-t);function kMe(e,t){const r=_3(e.x,t.x),n=_3(e.y,t.y);return Math.sqrt(r**2+n**2)}const k3=new Set(["auto","scroll"]);class N7{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=gb(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=kMe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:x}=pn;this.history.push({...g,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=vb(m,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=gb(p.type==="pointercancel"?this.lastMoveEventInfo:vb(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),g&&g(p,b)},!GC(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=Gh(t),c=vb(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=pn;this.history=[{...d,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,gb(c,this.history)),this.removeListeners=Wh(If(this.contextWindow,"pointermove",this.handlePointerMove),If(this.contextWindow,"pointerup",this.handlePointerUp),If(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(k3.has(n.overflowX)||k3.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:a.x-r.x,y:a.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,a),$t.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ko(this.updatePoint)}}function vb(e,t){return t?{point:t(e.point)}:e}function S3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function gb({point:e},t){return{point:e,delta:S3(e,P7(t)),offset:S3(e,SMe(t)),velocity:EMe(t,.1)}}function SMe(e){return e[0]}function P7(e){return e[e.length-1]}function EMe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=P7(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Di(t)));)r--;if(!n)return{x:0,y:0};const s=qa(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function CMe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?tr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?tr(r,e,n.max):Math.min(e,r)),e}function E3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function jMe(e,{top:t,left:r,bottom:n,right:a}){return{x:E3(e.x,r,a),y:E3(e.y,t,n)}}function C3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function TMe(e,t){return{x:C3(e.x,t.x),y:C3(e.y,t.y)}}function AMe(e,t){let r=.5;const n=qn(e),a=qn(t);return a>n?r=L0(t.min,t.max-n,e.min):n>a&&(r=L0(e.min,e.max-a,t.min)),ai(0,1,r)}function NMe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const f_=.35;function PMe(e=f_){return e===!1?e=0:e===!0&&(e=f_),{x:j3(e,"left","right"),y:j3(e,"top","bottom")}}function j3(e,t,r){return{min:T3(e,t),max:T3(e,r)}}function T3(e,t){return typeof e=="number"?e:e[t]||0}const OMe=new WeakMap;class DMe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(Gh(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=yDe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),$a(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Zs.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[x];_&&(b=qn(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&$t.postRender(()=>v(f,h)),a_(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=MMe(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>$a(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new N7(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:A7(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&$t.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!im(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=CMe(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&lf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=jMe(n.layoutBox,t):this.constraints=!1,this.elastic=PMe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&$a(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=NMe(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!lf(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=RDe(n,a.root,this.visualElement.getTransformPagePoint());let i=TMe(a.layout.layoutBox,s);if(r){const o=r(DDe(i));this.hasMutatedConstraints=!!o,o&&(i=Jz(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=$a(d=>{if(!im(d,r,this.currentDirection))return;let f=l&&l[d]||{};i&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return a_(this.visualElement,t),n.start(UC(t,n,0,r,this.visualElement,!1))}stopAnimation(){$a(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){$a(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){$a(r=>{const{drag:n}=this.getProps();if(!im(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r],l=s.get()||0;s.set(t[r]-tr(i,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!lf(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};$a(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=AMe({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),$a(i=>{if(!im(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];o.set(tr(l,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;OMe.set(this.visualElement,this);const t=this.visualElement.current,r=If(t,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps(),f=l.target,h=f!==t&&Kz(f);c&&d&&!h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();lf(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),$t.read(n);const i=U0(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&($a(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=f_,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function im(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function MMe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class IMe extends il{constructor(t){super(t),this.removeGroupControls=Xa,this.removeListeners=Xa,this.controls=new DMe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xa}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const A3=e=>(t,r)=>{e&&$t.postRender(()=>e(t,r))};class RMe extends il{constructor(){super(...arguments),this.removePointerDownListener=Xa}onPointerDown(t){this.session=new N7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:A3(t),onStart:A3(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&$t.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=If(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let xb=!1;class FMe extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),xb&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Nm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,t.layoutDependency!==r&&i.setOptions({...i.options,layoutDependency:r}),xb=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||$t.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),KC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;xb=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O7(e){const[t,r]=b7(),n=w.useContext(kC);return u.jsx(FMe,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(j7),isPresent:t,safeToRemove:r})}const LMe={pan:{Feature:RMe},drag:{Feature:IMe,ProjectionNode:y7,MeasureLayout:O7}};function N3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&$t.postRender(()=>s(t,Gh(t)))}class $Me extends il{mount(){const{current:t}=this.node;t&&(this.unmount=bDe(t,(r,n)=>(N3(this.node,n,"Start"),a=>N3(this.node,a,"End"))))}unmount(){}}class BMe extends il{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wh(U0(this.node.current,"focus",()=>this.onFocus()),U0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function P3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&$t.postRender(()=>s(t,Gh(t)))}class zMe extends il{mount(){const{current:t}=this.node;t&&(this.unmount=kDe(t,(r,n)=>(P3(this.node,n,"Start"),(a,{success:s})=>P3(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const h_=new WeakMap,yb=new WeakMap,UMe=e=>{const t=h_.get(e.target);t&&t(e)},VMe=e=>{e.forEach(UMe)};function WMe({root:e,...t}){const r=e||document;yb.has(r)||yb.set(r,{});const n=yb.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(VMe,{root:e,...t})),n[a]}function HMe(e,t,r){const n=WMe(t);return h_.set(e,r),n.observe(e),()=>{h_.delete(e),n.unobserve(e)}}const KMe={some:0,all:1};class GMe extends il{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:KMe[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=c?d:f;h&&h(l)};return HMe(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(qMe(t,r))&&this.startObserver()}unmount(){}}function qMe({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const YMe={inView:{Feature:GMe},tap:{Feature:zMe},focus:{Feature:BMe},hover:{Feature:$Me}},XMe={layout:{ProjectionNode:y7,MeasureLayout:O7}},ZMe={...wMe,...YMe,...LMe,...XMe},JMe=vMe(ZMe,gMe),hi=({children:e,className:t=""})=>u.jsx(JMe.div,{initial:{opacity:0,y:10,filter:"blur(5px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(5px)"},transition:{duration:.3,ease:"easeOut"},className:`w-full h-full ${t}`,children:e});function QMe(){const{user:e,loading:t}=gk(),{viewSettings:r,updateActivity:n,setTab:a}=vt(),s=r.filtrosGlobais,i=r.abaAtual,{startDate:o,endDate:l}=mc(),{selectedBUs:c}=Fh(),{data:d,loading:f,error:h,totalActivities:p,processCSV:m,loadSimulatedData:v}=iy(),g=w.useMemo(()=>({...s,dataInicio:be(o,"yyyy-MM-dd"),dataFim:be(l,"yyyy-MM-dd"),bu:c}),[s,o,l,c]),y=!(i==="framework")&&!(i==="midia-paga"),{filteredData:_,availableCanais:k,availableJornadas:S,availableSegmentos:E,availableParceiros:C,countByCanal:j,countByJornada:T,countBySegmento:N,countByParceiro:A}=F0(y?d:{},g),{filteredData:P}=nD(_,g),V=w.useMemo(()=>{const J=Math.abs(l.getTime()-o.getTime()),D=Math.ceil(J/(1e3*60*60*24)),R=new Date(o);R.setDate(R.getDate()-1);const B=new Date(R);return B.setDate(B.getDate()-D),{...g,dataInicio:be(B,"yyyy-MM-dd"),dataFim:be(R,"yyyy-MM-dd")}},[g,o,l]),z=w.useMemo(()=>({...g,dataInicio:"",dataFim:""}),[g]),{filteredData:Z}=F0(i==="launch"?d:{},z),{filteredData:G}=nD(y?_:{},V),Y=YAe(P),I=Object.keys(d).length>0,te=J=>{switch(J){case"launch":return"Launch Planner";case"jornada":return"Jornada & Disparos";case"resultados":return"Resultados";case"orientador":return"Orientador";case"framework":return"Explorador de Disparos";case"explorador":return"Explorador de Disparos";case"diario":return"Dirio de Bordo";case"configuracoes":return"Configuraes";case"midia-paga":return"Media Analytics";default:return"Dashboard"}};return t?u.jsx("div",{className:"h-screen w-full bg-slate-950 text-slate-500 flex items-center justify-center",children:"Carregando..."}):e?i==="midia-paga"?u.jsx(mOe,{onBack:()=>a("launch")}):u.jsxs(JAe,{children:[I&&u.jsx(zPe,{title:te(i),children:u.jsx("div",{className:"flex ml-auto",children:u.jsx(QK,{availableCanais:k,availableJornadas:S,availableSegmentos:E,availableParceiros:C,countByCanal:j,countByJornada:T,countBySegmento:N,countByParceiro:A})})}),u.jsxs("div",{className:"flex-1 pb-10",children:[f&&!I&&u.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:u.jsx(yT,{size:32,className:"text-blue-400"})}),u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Verificando dados..."}),u.jsx("p",{className:"text-slate-400",children:"Carregando informaes do banco de dados"})]})}),!f&&!I&&u.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:u.jsxs("div",{className:"max-w-md w-full bg-slate-800/50 p-8 rounded-2xl border border-slate-700 text-center",children:[u.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(yT,{size:32,className:"text-blue-400"})}),u.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Bem-vindo ao GaaS"}),u.jsx("p",{className:"text-slate-400 mb-8",children:"Faa upload do seu arquivo de dados para comear a anlise."}),u.jsx(UK,{onFileSelect:m,onLoadSimulatedData:v,loading:f,error:h,totalActivities:p})]})}),I&&u.jsx(H3e,{mode:"wait",children:u.jsxs("div",{className:"h-full",children:[i==="launch"&&u.jsx(hi,{children:u.jsx(LPe,{data:Z,onActivityUpdate:(J,D)=>n(J,{dataDisparo:D})})}),i==="resultados"&&u.jsx(hi,{children:u.jsx(Mve,{resultados:Y,data:P,selectedBU:c.length===1?c[0]:void 0})}),i==="jornada"&&u.jsx(hi,{children:u.jsx(fge,{data:P,previousData:G,selectedBU:c.length===1?c[0]:void 0,selectedCanais:g.canais,selectedSegmentos:g.segmentos,selectedParceiros:g.parceiros})}),i==="diario"&&u.jsx(hi,{children:u.jsx(_ge,{})}),i==="explorador"&&u.jsx(hi,{children:u.jsx(qAe,{onNavigateToFramework:J=>{a("framework"),(J!=null&&J.bu||J!=null&&J.segmento||J!=null&&J.jornada)&&(J.bu&&J.bu,J.segmento&&J.segmento,J.jornada&&J.jornada)}})}),i==="framework"&&u.jsx(hi,{children:u.jsx(Nge,{})}),i==="orientador"&&u.jsx(hi,{children:u.jsx(Ige,{})}),i==="originacao-b2c"&&u.jsx(hi,{children:u.jsx(fAe,{})}),i==="configuracoes"&&u.jsx(hi,{children:u.jsx(aAe,{})}),!["launch","resultados","jornada","diario","framework","explorador","orientador","configuracoes","originacao-b2c","midia-paga"].includes(i)&&u.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:u.jsxs("p",{children:["Aba desconhecida: ",i,". Redirecionando..."]})})]},i)})]})]}):u.jsx(RY,{})}bb.createRoot(document.getElementById("root")).render(u.jsx(Wa.StrictMode,{children:u.jsx(kge,{children:u.jsx(Oge,{children:u.jsx(IY,{children:u.jsx(QMe,{})})})})}));
