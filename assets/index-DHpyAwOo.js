var r7=Object.defineProperty;var n7=(e,t,r)=>t in e?r7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ly=(e,t,r)=>n7(e,typeof t!="symbol"?t+"":t,r);function a7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var s7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Js(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var XD={exports:{}},xg={},ZD={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0=Symbol.for("react.element"),i7=Symbol.for("react.portal"),o7=Symbol.for("react.fragment"),l7=Symbol.for("react.strict_mode"),c7=Symbol.for("react.profiler"),u7=Symbol.for("react.provider"),d7=Symbol.for("react.context"),f7=Symbol.for("react.forward_ref"),h7=Symbol.for("react.suspense"),p7=Symbol.for("react.memo"),m7=Symbol.for("react.lazy"),$C=Symbol.iterator;function v7(e){return e===null||typeof e!="object"?null:(e=$C&&e[$C]||e["@@iterator"],typeof e=="function"?e:null)}var JD={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QD=Object.assign,e3={};function Wu(e,t,r){this.props=e,this.context=t,this.refs=e3,this.updater=r||JD}Wu.prototype.isReactComponent={};Wu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function t3(){}t3.prototype=Wu.prototype;function V_(e,t,r){this.props=e,this.context=t,this.refs=e3,this.updater=r||JD}var W_=V_.prototype=new t3;W_.constructor=V_;QD(W_,Wu.prototype);W_.isPureReactComponent=!0;var BC=Array.isArray,r3=Object.prototype.hasOwnProperty,H_={current:null},n3={key:!0,ref:!0,__self:!0,__source:!0};function a3(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)r3.call(t,n)&&!n3.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:j0,type:e,key:s,ref:i,props:a,_owner:H_.current}}function g7(e,t){return{$$typeof:j0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function K_(e){return typeof e=="object"&&e!==null&&e.$$typeof===j0}function x7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zC=/\/+/g;function cy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?x7(""+e.key):t.toString(36)}function Xp(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case j0:case i7:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+cy(i,0):n,BC(a)?(r="",e!=null&&(r=e.replace(zC,"$&/")+"/"),Xp(a,t,r,"",function(c){return c})):a!=null&&(K_(a)&&(a=g7(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(zC,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",BC(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+cy(s,o);i+=Xp(s,t,r,l,a)}else if(l=v7(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+cy(s,o++),i+=Xp(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Bh(e,t,r){if(e==null)return e;var n=[],a=0;return Xp(e,n,"","",function(s){return t.call(r,s,a++)}),n}function y7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xn={current:null},Zp={transition:null},b7={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:Zp,ReactCurrentOwner:H_};function s3(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Bh,forEach:function(e,t,r){Bh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Bh(e,function(){t++}),t},toArray:function(e){return Bh(e,function(t){return t})||[]},only:function(e){if(!K_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=Wu;We.Fragment=o7;We.Profiler=c7;We.PureComponent=V_;We.StrictMode=l7;We.Suspense=h7;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b7;We.act=s3;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=QD({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=H_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)r3.call(t,l)&&!n3.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:j0,type:e.type,key:a,ref:s,props:n,_owner:i}};We.createContext=function(e){return e={$$typeof:d7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:u7,_context:e},e.Consumer=e};We.createElement=a3;We.createFactory=function(e){var t=a3.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:f7,render:e}};We.isValidElement=K_;We.lazy=function(e){return{$$typeof:m7,_payload:{_status:-1,_result:e},_init:y7}};We.memo=function(e,t){return{$$typeof:p7,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=Zp.transition;Zp.transition={};try{e()}finally{Zp.transition=t}};We.unstable_act=s3;We.useCallback=function(e,t){return Xn.current.useCallback(e,t)};We.useContext=function(e){return Xn.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Xn.current.useDeferredValue(e)};We.useEffect=function(e,t){return Xn.current.useEffect(e,t)};We.useId=function(){return Xn.current.useId()};We.useImperativeHandle=function(e,t,r){return Xn.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Xn.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Xn.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Xn.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Xn.current.useReducer(e,t,r)};We.useRef=function(e){return Xn.current.useRef(e)};We.useState=function(e){return Xn.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Xn.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Xn.current.useTransition()};We.version="18.3.1";ZD.exports=We;var w=ZD.exports;const Rs=Js(w),w7=a7({__proto__:null,default:Rs},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _7=w,k7=Symbol.for("react.element"),S7=Symbol.for("react.fragment"),E7=Object.prototype.hasOwnProperty,C7=_7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T7={key:!0,ref:!0,__self:!0,__source:!0};function i3(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)E7.call(t,n)&&!T7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:k7,type:e,key:s,ref:i,props:a,_owner:C7.current}}xg.Fragment=S7;xg.jsx=i3;xg.jsxs=i3;XD.exports=xg;var d=XD.exports,X1={},o3={exports:{}},Aa={},l3={exports:{}},c3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,I){var J=X.length;X.push(I);e:for(;0<J;){var Z=J-1>>>1,M=X[Z];if(0<a(M,I))X[Z]=I,X[J]=M,J=Z;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var I=X[0],J=X.pop();if(J!==I){X[0]=J;e:for(var Z=0,M=X.length,z=M>>>1;Z<z;){var G=2*(Z+1)-1,H=X[G],Q=G+1,oe=X[Q];if(0>a(H,J))Q<M&&0>a(oe,H)?(X[Z]=oe,X[Q]=J,Z=Q):(X[Z]=H,X[G]=J,Z=G);else if(Q<M&&0>a(oe,J))X[Z]=oe,X[Q]=J,Z=Q;else break e}}return I}function a(X,I){var J=X.sortIndex-I.sortIndex;return J!==0?J:X.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(X){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=X)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function _(X){if(v=!1,y(X),!m)if(r(l)!==null)m=!0,q(S);else{var I=r(c);I!==null&&K(_,I.startTime-X)}}function S(X,I){m=!1,v&&(v=!1,x(C),C=-1),p=!0;var J=h;try{for(y(I),f=r(l);f!==null&&(!(f.expirationTime>I)||X&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var M=Z(f.expirationTime<=I);I=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),y(I)}else n(l);f=r(l)}if(f!==null)var z=!0;else{var G=r(c);G!==null&&K(_,G.startTime-I),z=!1}return z}finally{f=null,h=J,p=!1}}var k=!1,E=null,C=-1,T=5,j=-1;function P(){return!(e.unstable_now()-j<T)}function A(){if(E!==null){var X=e.unstable_now();j=X;var I=!0;try{I=E(!0,X)}finally{I?N():(k=!1,E=null)}}else k=!1}var N;if(typeof b=="function")N=function(){b(A)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,B=F.port2;F.port1.onmessage=A,N=function(){B.postMessage(null)}}else N=function(){g(A,0)};function q(X){E=X,k||(k=!0,N())}function K(X,I){C=g(function(){X(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,q(S))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var J=h;h=I;try{return X()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,I){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var J=h;h=X;try{return I()}finally{h=J}},e.unstable_scheduleCallback=function(X,I,J){var Z=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,X={id:u++,callback:I,priorityLevel:X,startTime:J,expirationTime:M,sortIndex:-1},J>Z?(X.sortIndex=J,t(c,X),r(l)===null&&X===r(c)&&(v?(x(C),C=-1):v=!0,K(_,J-Z))):(X.sortIndex=M,t(l,X),m||p||(m=!0,q(S))),X},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(X){var I=h;return function(){var J=h;h=I;try{return X.apply(this,arguments)}finally{h=J}}}})(c3);l3.exports=c3;var A7=l3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7=w,ka=A7;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u3=new Set,_f={};function nc(e,t){_u(e,t),_u(e+"Capture",t)}function _u(e,t){for(_f[e]=t,e=0;e<t.length;e++)u3.add(t[e])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z1=Object.prototype.hasOwnProperty,P7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UC={},VC={};function N7(e){return Z1.call(VC,e)?!0:Z1.call(UC,e)?!1:P7.test(e)?VC[e]=!0:(UC[e]=!0,!1)}function O7(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function D7(e,t,r,n){if(t===null||typeof t>"u"||O7(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zn(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mn[e]=new Zn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mn[t]=new Zn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mn[e]=new Zn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mn[e]=new Zn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mn[e]=new Zn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mn[e]=new Zn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mn[e]=new Zn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mn[e]=new Zn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mn[e]=new Zn(e,5,!1,e.toLowerCase(),null,!1,!1)});var G_=/[\-:]([a-z])/g;function q_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(G_,q_);mn[t]=new Zn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(G_,q_);mn[t]=new Zn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(G_,q_);mn[t]=new Zn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Zn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mn[e]=new Zn(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y_(e,t,r,n){var a=mn.hasOwnProperty(t)?mn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(D7(t,r,a,n)&&(r=null),n||a===null?N7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ui=j7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zh=Symbol.for("react.element"),Fc=Symbol.for("react.portal"),Lc=Symbol.for("react.fragment"),X_=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),d3=Symbol.for("react.provider"),f3=Symbol.for("react.context"),Z_=Symbol.for("react.forward_ref"),Q1=Symbol.for("react.suspense"),eb=Symbol.for("react.suspense_list"),J_=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),h3=Symbol.for("react.offscreen"),WC=Symbol.iterator;function vd(e){return e===null||typeof e!="object"?null:(e=WC&&e[WC]||e["@@iterator"],typeof e=="function"?e:null)}var Xt=Object.assign,uy;function Fd(e){if(uy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);uy=t&&t[1]||""}return`
`+uy+e}var dy=!1;function fy(e,t){if(!e||dy)return"";dy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{dy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fd(e):""}function M7(e){switch(e.tag){case 5:return Fd(e.type);case 16:return Fd("Lazy");case 13:return Fd("Suspense");case 19:return Fd("SuspenseList");case 0:case 2:case 15:return e=fy(e.type,!1),e;case 11:return e=fy(e.type.render,!1),e;case 1:return e=fy(e.type,!0),e;default:return""}}function tb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lc:return"Fragment";case Fc:return"Portal";case J1:return"Profiler";case X_:return"StrictMode";case Q1:return"Suspense";case eb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case f3:return(e.displayName||"Context")+".Consumer";case d3:return(e._context.displayName||"Context")+".Provider";case Z_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J_:return t=e.displayName||null,t!==null?t:tb(e.type)||"Memo";case ro:t=e._payload,e=e._init;try{return tb(e(t))}catch{}}return null}function I7(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tb(t);case 8:return t===X_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function No(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function p3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function R7(e){var t=p3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Uh(e){e._valueTracker||(e._valueTracker=R7(e))}function m3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=p3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rb(e,t){var r=t.checked;return Xt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function HC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=No(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function v3(e,t){t=t.checked,t!=null&&Y_(e,"checked",t,!1)}function nb(e,t){v3(e,t);var r=No(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ab(e,t.type,r):t.hasOwnProperty("defaultValue")&&ab(e,t.type,No(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function ab(e,t,r){(t!=="number"||bm(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ld=Array.isArray;function su(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+No(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function sb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Xt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function GC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(Ld(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:No(r)}}function g3(e,t){var r=No(t.value),n=No(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function x3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ib(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?x3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Vh,y3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Vh=Vh||document.createElement("div"),Vh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Vh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function kf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},F7=["Webkit","ms","Moz","O"];Object.keys(Xd).forEach(function(e){F7.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xd[t]=Xd[e]})});function b3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xd.hasOwnProperty(e)&&Xd[e]?(""+t).trim():t+"px"}function w3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=b3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var L7=Xt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ob(e,t){if(t){if(L7[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function lb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cb=null;function Q_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ub=null,iu=null,ou=null;function YC(e){if(e=O0(e)){if(typeof ub!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=kg(t),ub(e.stateNode,e.type,t))}}function _3(e){iu?ou?ou.push(e):ou=[e]:iu=e}function k3(){if(iu){var e=iu,t=ou;if(ou=iu=null,YC(e),t)for(e=0;e<t.length;e++)YC(t[e])}}function S3(e,t){return e(t)}function E3(){}var hy=!1;function C3(e,t,r){if(hy)return e(t,r);hy=!0;try{return S3(e,t,r)}finally{hy=!1,(iu!==null||ou!==null)&&(E3(),k3())}}function Sf(e,t){var r=e.stateNode;if(r===null)return null;var n=kg(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var db=!1;if(Ci)try{var gd={};Object.defineProperty(gd,"passive",{get:function(){db=!0}}),window.addEventListener("test",gd,gd),window.removeEventListener("test",gd,gd)}catch{db=!1}function $7(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var Zd=!1,wm=null,_m=!1,fb=null,B7={onError:function(e){Zd=!0,wm=e}};function z7(e,t,r,n,a,s,i,o,l){Zd=!1,wm=null,$7.apply(B7,arguments)}function U7(e,t,r,n,a,s,i,o,l){if(z7.apply(this,arguments),Zd){if(Zd){var c=wm;Zd=!1,wm=null}else throw Error(pe(198));_m||(_m=!0,fb=c)}}function ac(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function T3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function XC(e){if(ac(e)!==e)throw Error(pe(188))}function V7(e){var t=e.alternate;if(!t){if(t=ac(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return XC(a),e;if(s===n)return XC(a),t;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function A3(e){return e=V7(e),e!==null?j3(e):null}function j3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j3(e);if(t!==null)return t;e=e.sibling}return null}var P3=ka.unstable_scheduleCallback,ZC=ka.unstable_cancelCallback,W7=ka.unstable_shouldYield,H7=ka.unstable_requestPaint,hr=ka.unstable_now,K7=ka.unstable_getCurrentPriorityLevel,e2=ka.unstable_ImmediatePriority,N3=ka.unstable_UserBlockingPriority,km=ka.unstable_NormalPriority,G7=ka.unstable_LowPriority,O3=ka.unstable_IdlePriority,yg=null,$s=null;function q7(e){if($s&&typeof $s.onCommitFiberRoot=="function")try{$s.onCommitFiberRoot(yg,e,void 0,(e.current.flags&128)===128)}catch{}}var xs=Math.clz32?Math.clz32:Z7,Y7=Math.log,X7=Math.LN2;function Z7(e){return e>>>=0,e===0?32:31-(Y7(e)/X7|0)|0}var Wh=64,Hh=4194304;function $d(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=$d(o):(s&=i,s!==0&&(n=$d(s)))}else i=r&~a,i!==0?n=$d(i):s!==0&&(n=$d(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xs(t),a=1<<r,n|=e[r],t&=~a;return n}function J7(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Q7(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-xs(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=J7(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function hb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function D3(){var e=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),e}function py(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function P0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xs(t),e[t]=r}function eU(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-xs(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function t2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ft=0;function M3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var I3,r2,R3,F3,L3,pb=!1,Kh=[],bo=null,wo=null,_o=null,Ef=new Map,Cf=new Map,oo=[],tU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JC(e,t){switch(e){case"focusin":case"focusout":bo=null;break;case"dragenter":case"dragleave":wo=null;break;case"mouseover":case"mouseout":_o=null;break;case"pointerover":case"pointerout":Ef.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cf.delete(t.pointerId)}}function xd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=O0(t),t!==null&&r2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function rU(e,t,r,n,a){switch(t){case"focusin":return bo=xd(bo,e,t,r,n,a),!0;case"dragenter":return wo=xd(wo,e,t,r,n,a),!0;case"mouseover":return _o=xd(_o,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Ef.set(s,xd(Ef.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Cf.set(s,xd(Cf.get(s)||null,e,t,r,n,a)),!0}return!1}function $3(e){var t=gl(e.target);if(t!==null){var r=ac(t);if(r!==null){if(t=r.tag,t===13){if(t=T3(r),t!==null){e.blockedOn=t,L3(e.priority,function(){R3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);cb=n,r.target.dispatchEvent(n),cb=null}else return t=O0(r),t!==null&&r2(t),e.blockedOn=r,!1;t.shift()}return!0}function QC(e,t,r){Jp(e)&&r.delete(t)}function nU(){pb=!1,bo!==null&&Jp(bo)&&(bo=null),wo!==null&&Jp(wo)&&(wo=null),_o!==null&&Jp(_o)&&(_o=null),Ef.forEach(QC),Cf.forEach(QC)}function yd(e,t){e.blockedOn===t&&(e.blockedOn=null,pb||(pb=!0,ka.unstable_scheduleCallback(ka.unstable_NormalPriority,nU)))}function Tf(e){function t(a){return yd(a,e)}if(0<Kh.length){yd(Kh[0],e);for(var r=1;r<Kh.length;r++){var n=Kh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bo!==null&&yd(bo,e),wo!==null&&yd(wo,e),_o!==null&&yd(_o,e),Ef.forEach(t),Cf.forEach(t),r=0;r<oo.length;r++)n=oo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<oo.length&&(r=oo[0],r.blockedOn===null);)$3(r),r.blockedOn===null&&oo.shift()}var lu=Ui.ReactCurrentBatchConfig,Em=!0;function aU(e,t,r,n){var a=ft,s=lu.transition;lu.transition=null;try{ft=1,n2(e,t,r,n)}finally{ft=a,lu.transition=s}}function sU(e,t,r,n){var a=ft,s=lu.transition;lu.transition=null;try{ft=4,n2(e,t,r,n)}finally{ft=a,lu.transition=s}}function n2(e,t,r,n){if(Em){var a=mb(e,t,r,n);if(a===null)Sy(e,t,n,Cm,r),JC(e,n);else if(rU(a,e,t,r,n))n.stopPropagation();else if(JC(e,n),t&4&&-1<tU.indexOf(e)){for(;a!==null;){var s=O0(a);if(s!==null&&I3(s),s=mb(e,t,r,n),s===null&&Sy(e,t,n,Cm,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Sy(e,t,n,null,r)}}var Cm=null;function mb(e,t,r,n){if(Cm=null,e=Q_(n),e=gl(e),e!==null)if(t=ac(e),t===null)e=null;else if(r=t.tag,r===13){if(e=T3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cm=e,null}function B3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K7()){case e2:return 1;case N3:return 4;case km:case G7:return 16;case O3:return 536870912;default:return 16}default:return 16}}var ho=null,a2=null,Qp=null;function z3(){if(Qp)return Qp;var e,t=a2,r=t.length,n,a="value"in ho?ho.value:ho.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return Qp=a.slice(e,1<n?1-n:void 0)}function em(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Gh(){return!0}function eT(){return!1}function ja(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gh:eT,this.isPropagationStopped=eT,this}return Xt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gh)},persist:function(){},isPersistent:Gh}),t}var Hu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},s2=ja(Hu),N0=Xt({},Hu,{view:0,detail:0}),iU=ja(N0),my,vy,bd,bg=Xt({},N0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bd&&(bd&&e.type==="mousemove"?(my=e.screenX-bd.screenX,vy=e.screenY-bd.screenY):vy=my=0,bd=e),my)},movementY:function(e){return"movementY"in e?e.movementY:vy}}),tT=ja(bg),oU=Xt({},bg,{dataTransfer:0}),lU=ja(oU),cU=Xt({},N0,{relatedTarget:0}),gy=ja(cU),uU=Xt({},Hu,{animationName:0,elapsedTime:0,pseudoElement:0}),dU=ja(uU),fU=Xt({},Hu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hU=ja(fU),pU=Xt({},Hu,{data:0}),rT=ja(pU),mU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gU[e])?!!t[e]:!1}function i2(){return xU}var yU=Xt({},N0,{key:function(e){if(e.key){var t=mU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=em(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i2,charCode:function(e){return e.type==="keypress"?em(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?em(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bU=ja(yU),wU=Xt({},bg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nT=ja(wU),_U=Xt({},N0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i2}),kU=ja(_U),SU=Xt({},Hu,{propertyName:0,elapsedTime:0,pseudoElement:0}),EU=ja(SU),CU=Xt({},bg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),TU=ja(CU),AU=[9,13,27,32],o2=Ci&&"CompositionEvent"in window,Jd=null;Ci&&"documentMode"in document&&(Jd=document.documentMode);var jU=Ci&&"TextEvent"in window&&!Jd,U3=Ci&&(!o2||Jd&&8<Jd&&11>=Jd),aT=" ",sT=!1;function V3(e,t){switch(e){case"keyup":return AU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $c=!1;function PU(e,t){switch(e){case"compositionend":return W3(t);case"keypress":return t.which!==32?null:(sT=!0,aT);case"textInput":return e=t.data,e===aT&&sT?null:e;default:return null}}function NU(e,t){if($c)return e==="compositionend"||!o2&&V3(e,t)?(e=z3(),Qp=a2=ho=null,$c=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return U3&&t.locale!=="ko"?null:t.data;default:return null}}var OU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OU[e.type]:t==="textarea"}function H3(e,t,r,n){_3(n),t=Tm(t,"onChange"),0<t.length&&(r=new s2("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Qd=null,Af=null;function DU(e){rM(e,0)}function wg(e){var t=Uc(e);if(m3(t))return e}function MU(e,t){if(e==="change")return t}var K3=!1;if(Ci){var xy;if(Ci){var yy="oninput"in document;if(!yy){var oT=document.createElement("div");oT.setAttribute("oninput","return;"),yy=typeof oT.oninput=="function"}xy=yy}else xy=!1;K3=xy&&(!document.documentMode||9<document.documentMode)}function lT(){Qd&&(Qd.detachEvent("onpropertychange",G3),Af=Qd=null)}function G3(e){if(e.propertyName==="value"&&wg(Af)){var t=[];H3(t,Af,e,Q_(e)),C3(DU,t)}}function IU(e,t,r){e==="focusin"?(lT(),Qd=t,Af=r,Qd.attachEvent("onpropertychange",G3)):e==="focusout"&&lT()}function RU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wg(Af)}function FU(e,t){if(e==="click")return wg(t)}function LU(e,t){if(e==="input"||e==="change")return wg(t)}function $U(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _s=typeof Object.is=="function"?Object.is:$U;function jf(e,t){if(_s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Z1.call(t,a)||!_s(e[a],t[a]))return!1}return!0}function cT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uT(e,t){var r=cT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cT(r)}}function q3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?q3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Y3(){for(var e=window,t=bm();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bm(e.document)}return t}function l2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function BU(e){var t=Y3(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&q3(r.ownerDocument.documentElement,r)){if(n!==null&&l2(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=uT(r,s);var i=uT(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zU=Ci&&"documentMode"in document&&11>=document.documentMode,Bc=null,vb=null,ef=null,gb=!1;function dT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gb||Bc==null||Bc!==bm(n)||(n=Bc,"selectionStart"in n&&l2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ef&&jf(ef,n)||(ef=n,n=Tm(vb,"onSelect"),0<n.length&&(t=new s2("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Bc)))}function qh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zc={animationend:qh("Animation","AnimationEnd"),animationiteration:qh("Animation","AnimationIteration"),animationstart:qh("Animation","AnimationStart"),transitionend:qh("Transition","TransitionEnd")},by={},X3={};Ci&&(X3=document.createElement("div").style,"AnimationEvent"in window||(delete zc.animationend.animation,delete zc.animationiteration.animation,delete zc.animationstart.animation),"TransitionEvent"in window||delete zc.transitionend.transition);function _g(e){if(by[e])return by[e];if(!zc[e])return e;var t=zc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in X3)return by[e]=t[r];return e}var Z3=_g("animationend"),J3=_g("animationiteration"),Q3=_g("animationstart"),eM=_g("transitionend"),tM=new Map,fT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Uo(e,t){tM.set(e,t),nc(t,[e])}for(var wy=0;wy<fT.length;wy++){var _y=fT[wy],UU=_y.toLowerCase(),VU=_y[0].toUpperCase()+_y.slice(1);Uo(UU,"on"+VU)}Uo(Z3,"onAnimationEnd");Uo(J3,"onAnimationIteration");Uo(Q3,"onAnimationStart");Uo("dblclick","onDoubleClick");Uo("focusin","onFocus");Uo("focusout","onBlur");Uo(eM,"onTransitionEnd");_u("onMouseEnter",["mouseout","mouseover"]);_u("onMouseLeave",["mouseout","mouseover"]);_u("onPointerEnter",["pointerout","pointerover"]);_u("onPointerLeave",["pointerout","pointerover"]);nc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nc("onBeforeInput",["compositionend","keypress","textInput","paste"]);nc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function hT(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,U7(n,t,void 0,e),e.currentTarget=null}function rM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;hT(a,o,c),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;hT(a,o,c),s=l}}}if(_m)throw e=fb,_m=!1,fb=null,e}function Tt(e,t){var r=t[_b];r===void 0&&(r=t[_b]=new Set);var n=e+"__bubble";r.has(n)||(nM(t,e,2,!1),r.add(n))}function ky(e,t,r){var n=0;t&&(n|=4),nM(r,e,n,t)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Pf(e){if(!e[Yh]){e[Yh]=!0,u3.forEach(function(r){r!=="selectionchange"&&(WU.has(r)||ky(r,!1,e),ky(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yh]||(t[Yh]=!0,ky("selectionchange",!1,t))}}function nM(e,t,r,n){switch(B3(t)){case 1:var a=aU;break;case 4:a=sU;break;default:a=n2}r=a.bind(null,t,r,e),a=void 0,!db||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Sy(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=gl(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}C3(function(){var c=s,u=Q_(r),f=[];e:{var h=tM.get(e);if(h!==void 0){var p=s2,m=e;switch(e){case"keypress":if(em(r)===0)break e;case"keydown":case"keyup":p=bU;break;case"focusin":m="focus",p=gy;break;case"focusout":m="blur",p=gy;break;case"beforeblur":case"afterblur":p=gy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=tT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=lU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kU;break;case Z3:case J3:case Q3:p=dU;break;case eM:p=EU;break;case"scroll":p=iU;break;case"wheel":p=TU;break;case"copy":case"cut":case"paste":p=hU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nT}var v=(t&4)!==0,g=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,y;b!==null;){y=b;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=Sf(b,x),_!=null&&v.push(Nf(b,_,y)))),g)break;b=b.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==cb&&(m=r.relatedTarget||r.fromElement)&&(gl(m)||m[Ti]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?gl(m):null,m!==null&&(g=ac(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=tT,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=nT,_="onPointerLeave",x="onPointerEnter",b="pointer"),g=p==null?h:Uc(p),y=m==null?h:Uc(m),h=new v(_,b+"leave",p,r,u),h.target=g,h.relatedTarget=y,_=null,gl(u)===c&&(v=new v(x,b+"enter",m,r,u),v.target=y,v.relatedTarget=g,_=v),g=_,p&&m)t:{for(v=p,x=m,b=0,y=v;y;y=xc(y))b++;for(y=0,_=x;_;_=xc(_))y++;for(;0<b-y;)v=xc(v),b--;for(;0<y-b;)x=xc(x),y--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=xc(v),x=xc(x)}v=null}else v=null;p!==null&&pT(f,h,p,v,!1),m!==null&&g!==null&&pT(f,g,m,v,!0)}}e:{if(h=c?Uc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=MU;else if(iT(h))if(K3)S=LU;else{S=RU;var k=IU}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=FU);if(S&&(S=S(e,c))){H3(f,S,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&ab(h,"number",h.value)}switch(k=c?Uc(c):window,e){case"focusin":(iT(k)||k.contentEditable==="true")&&(Bc=k,vb=c,ef=null);break;case"focusout":ef=vb=Bc=null;break;case"mousedown":gb=!0;break;case"contextmenu":case"mouseup":case"dragend":gb=!1,dT(f,r,u);break;case"selectionchange":if(zU)break;case"keydown":case"keyup":dT(f,r,u)}var E;if(o2)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else $c?V3(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(U3&&r.locale!=="ko"&&($c||C!=="onCompositionStart"?C==="onCompositionEnd"&&$c&&(E=z3()):(ho=u,a2="value"in ho?ho.value:ho.textContent,$c=!0)),k=Tm(c,C),0<k.length&&(C=new rT(C,e,null,r,u),f.push({event:C,listeners:k}),E?C.data=E:(E=W3(r),E!==null&&(C.data=E)))),(E=jU?PU(e,r):NU(e,r))&&(c=Tm(c,"onBeforeInput"),0<c.length&&(u=new rT("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}rM(f,t)})}function Nf(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Tm(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Sf(e,r),s!=null&&n.unshift(Nf(e,s,a)),s=Sf(e,t),s!=null&&n.push(Nf(e,s,a))),e=e.return}return n}function xc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pT(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Sf(r,s),l!=null&&i.unshift(Nf(r,l,o))):a||(l=Sf(r,s),l!=null&&i.push(Nf(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var HU=/\r\n?/g,KU=/\u0000|\uFFFD/g;function mT(e){return(typeof e=="string"?e:""+e).replace(HU,`
`).replace(KU,"")}function Xh(e,t,r){if(t=mT(t),mT(e)!==t&&r)throw Error(pe(425))}function Am(){}var xb=null,yb=null;function bb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wb=typeof setTimeout=="function"?setTimeout:void 0,GU=typeof clearTimeout=="function"?clearTimeout:void 0,vT=typeof Promise=="function"?Promise:void 0,qU=typeof queueMicrotask=="function"?queueMicrotask:typeof vT<"u"?function(e){return vT.resolve(null).then(e).catch(YU)}:wb;function YU(e){setTimeout(function(){throw e})}function Ey(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Tf(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Tf(t)}function ko(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ku=Math.random().toString(36).slice(2),Ns="__reactFiber$"+Ku,Of="__reactProps$"+Ku,Ti="__reactContainer$"+Ku,_b="__reactEvents$"+Ku,XU="__reactListeners$"+Ku,ZU="__reactHandles$"+Ku;function gl(e){var t=e[Ns];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ti]||r[Ns]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gT(e);e!==null;){if(r=e[Ns])return r;e=gT(e)}return t}e=r,r=e.parentNode}return null}function O0(e){return e=e[Ns]||e[Ti],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Uc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function kg(e){return e[Of]||null}var kb=[],Vc=-1;function Vo(e){return{current:e}}function Pt(e){0>Vc||(e.current=kb[Vc],kb[Vc]=null,Vc--)}function _t(e,t){Vc++,kb[Vc]=e.current,e.current=t}var Oo={},Dn=Vo(Oo),ia=Vo(!1),Ll=Oo;function ku(e,t){var r=e.type.contextTypes;if(!r)return Oo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function oa(e){return e=e.childContextTypes,e!=null}function jm(){Pt(ia),Pt(Dn)}function xT(e,t,r){if(Dn.current!==Oo)throw Error(pe(168));_t(Dn,t),_t(ia,r)}function aM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pe(108,I7(e)||"Unknown",a));return Xt({},r,n)}function Pm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,Ll=Dn.current,_t(Dn,e),_t(ia,ia.current),!0}function yT(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=aM(e,t,Ll),n.__reactInternalMemoizedMergedChildContext=e,Pt(ia),Pt(Dn),_t(Dn,e)):Pt(ia),_t(ia,r)}var li=null,Sg=!1,Cy=!1;function sM(e){li===null?li=[e]:li.push(e)}function JU(e){Sg=!0,sM(e)}function Wo(){if(!Cy&&li!==null){Cy=!0;var e=0,t=ft;try{var r=li;for(ft=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}li=null,Sg=!1}catch(a){throw li!==null&&(li=li.slice(e+1)),P3(e2,Wo),a}finally{ft=t,Cy=!1}}return null}var Wc=[],Hc=0,Nm=null,Om=0,$a=[],Ba=0,$l=null,fi=1,hi="";function il(e,t){Wc[Hc++]=Om,Wc[Hc++]=Nm,Nm=e,Om=t}function iM(e,t,r){$a[Ba++]=fi,$a[Ba++]=hi,$a[Ba++]=$l,$l=e;var n=fi;e=hi;var a=32-xs(n)-1;n&=~(1<<a),r+=1;var s=32-xs(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,fi=1<<32-xs(t)+a|r<<a|n,hi=s+e}else fi=1<<s|r<<a|n,hi=e}function c2(e){e.return!==null&&(il(e,1),iM(e,1,0))}function u2(e){for(;e===Nm;)Nm=Wc[--Hc],Wc[Hc]=null,Om=Wc[--Hc],Wc[Hc]=null;for(;e===$l;)$l=$a[--Ba],$a[Ba]=null,hi=$a[--Ba],$a[Ba]=null,fi=$a[--Ba],$a[Ba]=null}var wa=null,ya=null,Rt=!1,us=null;function oM(e,t){var r=za(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wa=e,ya=ko(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wa=e,ya=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$l!==null?{id:fi,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=za(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wa=e,ya=null,!0):!1;default:return!1}}function Sb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Eb(e){if(Rt){var t=ya;if(t){var r=t;if(!bT(e,t)){if(Sb(e))throw Error(pe(418));t=ko(r.nextSibling);var n=wa;t&&bT(e,t)?oM(n,r):(e.flags=e.flags&-4097|2,Rt=!1,wa=e)}}else{if(Sb(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Rt=!1,wa=e}}}function wT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wa=e}function Zh(e){if(e!==wa)return!1;if(!Rt)return wT(e),Rt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bb(e.type,e.memoizedProps)),t&&(t=ya)){if(Sb(e))throw lM(),Error(pe(418));for(;t;)oM(e,t),t=ko(t.nextSibling)}if(wT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ya=ko(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ya=null}}else ya=wa?ko(e.stateNode.nextSibling):null;return!0}function lM(){for(var e=ya;e;)e=ko(e.nextSibling)}function Su(){ya=wa=null,Rt=!1}function d2(e){us===null?us=[e]:us.push(e)}var QU=Ui.ReactCurrentBatchConfig;function wd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function Jh(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _T(e){var t=e._init;return t(e._payload)}function cM(e){function t(x,b){if(e){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=To(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,y,_){return b===null||b.tag!==6?(b=Dy(y,x.mode,_),b.return=x,b):(b=a(b,y),b.return=x,b)}function l(x,b,y,_){var S=y.type;return S===Lc?u(x,b,y.props.children,_,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ro&&_T(S)===b.type)?(_=a(b,y.props),_.ref=wd(x,b,y),_.return=x,_):(_=om(y.type,y.key,y.props,null,x.mode,_),_.ref=wd(x,b,y),_.return=x,_)}function c(x,b,y,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=My(y,x.mode,_),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function u(x,b,y,_,S){return b===null||b.tag!==7?(b=jl(y,x.mode,_,S),b.return=x,b):(b=a(b,y),b.return=x,b)}function f(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Dy(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zh:return y=om(b.type,b.key,b.props,null,x.mode,y),y.ref=wd(x,null,b),y.return=x,y;case Fc:return b=My(b,x.mode,y),b.return=x,b;case ro:var _=b._init;return f(x,_(b._payload),y)}if(Ld(b)||vd(b))return b=jl(b,x.mode,y,null),b.return=x,b;Jh(x,b)}return null}function h(x,b,y,_){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:o(x,b,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case zh:return y.key===S?l(x,b,y,_):null;case Fc:return y.key===S?c(x,b,y,_):null;case ro:return S=y._init,h(x,b,S(y._payload),_)}if(Ld(y)||vd(y))return S!==null?null:u(x,b,y,_,null);Jh(x,y)}return null}function p(x,b,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zh:return x=x.get(_.key===null?y:_.key)||null,l(b,x,_,S);case Fc:return x=x.get(_.key===null?y:_.key)||null,c(b,x,_,S);case ro:var k=_._init;return p(x,b,y,k(_._payload),S)}if(Ld(_)||vd(_))return x=x.get(y)||null,u(b,x,_,S,null);Jh(b,_)}return null}function m(x,b,y,_){for(var S=null,k=null,E=b,C=b=0,T=null;E!==null&&C<y.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var j=h(x,E,y[C],_);if(j===null){E===null&&(E=T);break}e&&E&&j.alternate===null&&t(x,E),b=s(j,b,C),k===null?S=j:k.sibling=j,k=j,E=T}if(C===y.length)return r(x,E),Rt&&il(x,C),S;if(E===null){for(;C<y.length;C++)E=f(x,y[C],_),E!==null&&(b=s(E,b,C),k===null?S=E:k.sibling=E,k=E);return Rt&&il(x,C),S}for(E=n(x,E);C<y.length;C++)T=p(E,x,C,y[C],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),b=s(T,b,C),k===null?S=T:k.sibling=T,k=T);return e&&E.forEach(function(P){return t(x,P)}),Rt&&il(x,C),S}function v(x,b,y,_){var S=vd(y);if(typeof S!="function")throw Error(pe(150));if(y=S.call(y),y==null)throw Error(pe(151));for(var k=S=null,E=b,C=b=0,T=null,j=y.next();E!==null&&!j.done;C++,j=y.next()){E.index>C?(T=E,E=null):T=E.sibling;var P=h(x,E,j.value,_);if(P===null){E===null&&(E=T);break}e&&E&&P.alternate===null&&t(x,E),b=s(P,b,C),k===null?S=P:k.sibling=P,k=P,E=T}if(j.done)return r(x,E),Rt&&il(x,C),S;if(E===null){for(;!j.done;C++,j=y.next())j=f(x,j.value,_),j!==null&&(b=s(j,b,C),k===null?S=j:k.sibling=j,k=j);return Rt&&il(x,C),S}for(E=n(x,E);!j.done;C++,j=y.next())j=p(E,x,C,j.value,_),j!==null&&(e&&j.alternate!==null&&E.delete(j.key===null?C:j.key),b=s(j,b,C),k===null?S=j:k.sibling=j,k=j);return e&&E.forEach(function(A){return t(x,A)}),Rt&&il(x,C),S}function g(x,b,y,_){if(typeof y=="object"&&y!==null&&y.type===Lc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case zh:e:{for(var S=y.key,k=b;k!==null;){if(k.key===S){if(S=y.type,S===Lc){if(k.tag===7){r(x,k.sibling),b=a(k,y.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ro&&_T(S)===k.type){r(x,k.sibling),b=a(k,y.props),b.ref=wd(x,k,y),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}y.type===Lc?(b=jl(y.props.children,x.mode,_,y.key),b.return=x,x=b):(_=om(y.type,y.key,y.props,null,x.mode,_),_.ref=wd(x,b,y),_.return=x,x=_)}return i(x);case Fc:e:{for(k=y.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=My(y,x.mode,_),b.return=x,x=b}return i(x);case ro:return k=y._init,g(x,b,k(y._payload),_)}if(Ld(y))return m(x,b,y,_);if(vd(y))return v(x,b,y,_);Jh(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,y),b.return=x,x=b):(r(x,b),b=Dy(y,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return g}var Eu=cM(!0),uM=cM(!1),Dm=Vo(null),Mm=null,Kc=null,f2=null;function h2(){f2=Kc=Mm=null}function p2(e){var t=Dm.current;Pt(Dm),e._currentValue=t}function Cb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function cu(e,t){Mm=e,f2=Kc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(aa=!0),e.firstContext=null)}function Ka(e){var t=e._currentValue;if(f2!==e)if(e={context:e,memoizedValue:t,next:null},Kc===null){if(Mm===null)throw Error(pe(308));Kc=e,Mm.dependencies={lanes:0,firstContext:e}}else Kc=Kc.next=e;return t}var xl=null;function m2(e){xl===null?xl=[e]:xl.push(e)}function dM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,m2(t)):(r.next=a.next,a.next=r),t.interleaved=r,Ai(e,n)}function Ai(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var no=!1;function v2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function gi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function So(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Ai(e,r)}return a=n.interleaved,a===null?(t.next=t,m2(n)):(t.next=a.next,a.next=t),n.interleaved=t,Ai(e,r)}function tm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,t2(e,r)}}function kT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Im(e,t,r,n){var a=e.updateQueue;no=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,u=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Xt({},f,h);break e;case 2:no=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);zl|=i,e.lanes=i,e.memoizedState=f}}function ST(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var D0={},Bs=Vo(D0),Df=Vo(D0),Mf=Vo(D0);function yl(e){if(e===D0)throw Error(pe(174));return e}function g2(e,t){switch(_t(Mf,t),_t(Df,e),_t(Bs,D0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ib(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ib(t,e)}Pt(Bs),_t(Bs,t)}function Cu(){Pt(Bs),Pt(Df),Pt(Mf)}function hM(e){yl(Mf.current);var t=yl(Bs.current),r=ib(t,e.type);t!==r&&(_t(Df,e),_t(Bs,r))}function x2(e){Df.current===e&&(Pt(Bs),Pt(Df))}var Wt=Vo(0);function Rm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ty=[];function y2(){for(var e=0;e<Ty.length;e++)Ty[e]._workInProgressVersionPrimary=null;Ty.length=0}var rm=Ui.ReactCurrentDispatcher,Ay=Ui.ReactCurrentBatchConfig,Bl=0,Yt=null,Dr=null,Yr=null,Fm=!1,tf=!1,If=0,eV=0;function bn(){throw Error(pe(321))}function b2(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!_s(e[r],t[r]))return!1;return!0}function w2(e,t,r,n,a,s){if(Bl=s,Yt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rm.current=e===null||e.memoizedState===null?aV:sV,e=r(n,a),tf){s=0;do{if(tf=!1,If=0,25<=s)throw Error(pe(301));s+=1,Yr=Dr=null,t.updateQueue=null,rm.current=iV,e=r(n,a)}while(tf)}if(rm.current=Lm,t=Dr!==null&&Dr.next!==null,Bl=0,Yr=Dr=Yt=null,Fm=!1,t)throw Error(pe(300));return e}function _2(){var e=If!==0;return If=0,e}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?Yt.memoizedState=Yr=e:Yr=Yr.next=e,Yr}function Ga(){if(Dr===null){var e=Yt.alternate;e=e!==null?e.memoizedState:null}else e=Dr.next;var t=Yr===null?Yt.memoizedState:Yr.next;if(t!==null)Yr=t,Dr=e;else{if(e===null)throw Error(pe(310));Dr=e,e={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Yr===null?Yt.memoizedState=Yr=e:Yr=Yr.next=e}return Yr}function Rf(e,t){return typeof t=="function"?t(e):t}function jy(e){var t=Ga(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=Dr,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var u=c.lane;if((Bl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,Yt.lanes|=u,zl|=u}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=o,_s(n,t.memoizedState)||(aa=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Yt.lanes|=s,zl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Py(e){var t=Ga(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);_s(s,t.memoizedState)||(aa=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function pM(){}function mM(e,t){var r=Yt,n=Ga(),a=t(),s=!_s(n.memoizedState,a);if(s&&(n.memoizedState=a,aa=!0),n=n.queue,k2(xM.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Yr!==null&&Yr.memoizedState.tag&1){if(r.flags|=2048,Ff(9,gM.bind(null,r,n,a,t),void 0,null),en===null)throw Error(pe(349));Bl&30||vM(r,t,a)}return a}function vM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function gM(e,t,r,n){t.value=r,t.getSnapshot=n,yM(t)&&bM(e)}function xM(e,t,r){return r(function(){yM(t)&&bM(e)})}function yM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_s(e,r)}catch{return!0}}function bM(e){var t=Ai(e,1);t!==null&&ys(t,e,1,-1)}function ET(e){var t=js();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rf,lastRenderedState:e},t.queue=e,e=e.dispatch=nV.bind(null,Yt,e),[t.memoizedState,e]}function Ff(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Yt.updateQueue,t===null?(t={lastEffect:null,stores:null},Yt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function wM(){return Ga().memoizedState}function nm(e,t,r,n){var a=js();Yt.flags|=e,a.memoizedState=Ff(1|t,r,void 0,n===void 0?null:n)}function Eg(e,t,r,n){var a=Ga();n=n===void 0?null:n;var s=void 0;if(Dr!==null){var i=Dr.memoizedState;if(s=i.destroy,n!==null&&b2(n,i.deps)){a.memoizedState=Ff(t,r,s,n);return}}Yt.flags|=e,a.memoizedState=Ff(1|t,r,s,n)}function CT(e,t){return nm(8390656,8,e,t)}function k2(e,t){return Eg(2048,8,e,t)}function _M(e,t){return Eg(4,2,e,t)}function kM(e,t){return Eg(4,4,e,t)}function SM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function EM(e,t,r){return r=r!=null?r.concat([e]):null,Eg(4,4,SM.bind(null,t,e),r)}function S2(){}function CM(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b2(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function TM(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&b2(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function AM(e,t,r){return Bl&21?(_s(r,t)||(r=D3(),Yt.lanes|=r,zl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,aa=!0),e.memoizedState=r)}function tV(e,t){var r=ft;ft=r!==0&&4>r?r:4,e(!0);var n=Ay.transition;Ay.transition={};try{e(!1),t()}finally{ft=r,Ay.transition=n}}function jM(){return Ga().memoizedState}function rV(e,t,r){var n=Co(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},PM(e))NM(t,r);else if(r=dM(e,t,r,n),r!==null){var a=Hn();ys(r,e,n,a),OM(r,t,n)}}function nV(e,t,r){var n=Co(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(PM(e))NM(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,_s(o,i)){var l=t.interleaved;l===null?(a.next=a,m2(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=dM(e,t,a,n),r!==null&&(a=Hn(),ys(r,e,n,a),OM(r,t,n))}}function PM(e){var t=e.alternate;return e===Yt||t!==null&&t===Yt}function NM(e,t){tf=Fm=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function OM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,t2(e,r)}}var Lm={readContext:Ka,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},aV={readContext:Ka,useCallback:function(e,t){return js().memoizedState=[e,t===void 0?null:t],e},useContext:Ka,useEffect:CT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nm(4194308,4,SM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nm(4194308,4,e,t)},useInsertionEffect:function(e,t){return nm(4,2,e,t)},useMemo:function(e,t){var r=js();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=js();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rV.bind(null,Yt,e),[n.memoizedState,e]},useRef:function(e){var t=js();return e={current:e},t.memoizedState=e},useState:ET,useDebugValue:S2,useDeferredValue:function(e){return js().memoizedState=e},useTransition:function(){var e=ET(!1),t=e[0];return e=tV.bind(null,e[1]),js().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Yt,a=js();if(Rt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),en===null)throw Error(pe(349));Bl&30||vM(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,CT(xM.bind(null,n,s,e),[e]),n.flags|=2048,Ff(9,gM.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=js(),t=en.identifierPrefix;if(Rt){var r=hi,n=fi;r=(n&~(1<<32-xs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=If++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=eV++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sV={readContext:Ka,useCallback:CM,useContext:Ka,useEffect:k2,useImperativeHandle:EM,useInsertionEffect:_M,useLayoutEffect:kM,useMemo:TM,useReducer:jy,useRef:wM,useState:function(){return jy(Rf)},useDebugValue:S2,useDeferredValue:function(e){var t=Ga();return AM(t,Dr.memoizedState,e)},useTransition:function(){var e=jy(Rf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:pM,useSyncExternalStore:mM,useId:jM,unstable_isNewReconciler:!1},iV={readContext:Ka,useCallback:CM,useContext:Ka,useEffect:k2,useImperativeHandle:EM,useInsertionEffect:_M,useLayoutEffect:kM,useMemo:TM,useReducer:Py,useRef:wM,useState:function(){return Py(Rf)},useDebugValue:S2,useDeferredValue:function(e){var t=Ga();return Dr===null?t.memoizedState=e:AM(t,Dr.memoizedState,e)},useTransition:function(){var e=Py(Rf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:pM,useSyncExternalStore:mM,useId:jM,unstable_isNewReconciler:!1};function os(e,t){if(e&&e.defaultProps){t=Xt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Tb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Xt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cg={isMounted:function(e){return(e=e._reactInternals)?ac(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=Co(e),s=gi(n,a);s.payload=t,r!=null&&(s.callback=r),t=So(e,s,a),t!==null&&(ys(t,e,a,n),tm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hn(),a=Co(e),s=gi(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=So(e,s,a),t!==null&&(ys(t,e,a,n),tm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hn(),n=Co(e),a=gi(r,n);a.tag=2,t!=null&&(a.callback=t),t=So(e,a,n),t!==null&&(ys(t,e,n,r),tm(t,e,n))}};function TT(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!jf(r,n)||!jf(a,s):!0}function DM(e,t,r){var n=!1,a=Oo,s=t.contextType;return typeof s=="object"&&s!==null?s=Ka(s):(a=oa(t)?Ll:Dn.current,n=t.contextTypes,s=(n=n!=null)?ku(e,a):Oo),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cg,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function AT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cg.enqueueReplaceState(t,t.state,null)}function Ab(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},v2(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ka(s):(s=oa(t)?Ll:Dn.current,a.context=ku(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Tb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Cg.enqueueReplaceState(a,a.state,null),Im(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Tu(e,t){try{var r="",n=t;do r+=M7(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ny(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function jb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oV=typeof WeakMap=="function"?WeakMap:Map;function MM(e,t,r){r=gi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bm||(Bm=!0,$b=n),jb(e,t)},r}function IM(e,t,r){r=gi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){jb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){jb(e,t),typeof n!="function"&&(Eo===null?Eo=new Set([this]):Eo.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function jT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=wV.bind(null,e,t,r),t.then(e,e))}function PT(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function NT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=gi(-1,1),t.tag=2,So(r,t,1))),r.lanes|=1),e)}var lV=Ui.ReactCurrentOwner,aa=!1;function Fn(e,t,r,n){t.child=e===null?uM(t,null,r,n):Eu(t,e.child,r,n)}function OT(e,t,r,n,a){r=r.render;var s=t.ref;return cu(t,a),n=w2(e,t,r,n,s,a),r=_2(),e!==null&&!aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a)):(Rt&&r&&c2(t),t.flags|=1,Fn(e,t,n,a),t.child)}function DT(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!O2(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,RM(e,t,s,n,a)):(e=om(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:jf,r(i,n)&&e.ref===t.ref)return ji(e,t,a)}return t.flags|=1,e=To(s,n),e.ref=t.ref,e.return=t,t.child=e}function RM(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(jf(s,n)&&e.ref===t.ref)if(aa=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(aa=!0);else return t.lanes=e.lanes,ji(e,t,a)}return Pb(e,t,r,n,a)}function FM(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(qc,pa),pa|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(qc,pa),pa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_t(qc,pa),pa|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_t(qc,pa),pa|=n;return Fn(e,t,a,r),t.child}function LM(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Pb(e,t,r,n,a){var s=oa(r)?Ll:Dn.current;return s=ku(t,s),cu(t,a),r=w2(e,t,r,n,s,a),n=_2(),e!==null&&!aa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ji(e,t,a)):(Rt&&n&&c2(t),t.flags|=1,Fn(e,t,r,a),t.child)}function MT(e,t,r,n,a){if(oa(r)){var s=!0;Pm(t)}else s=!1;if(cu(t,a),t.stateNode===null)am(e,t),DM(t,r,n),Ab(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ka(c):(c=oa(r)?Ll:Dn.current,c=ku(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&AT(t,i,n,c),no=!1;var h=t.memoizedState;i.state=h,Im(t,n,i,a),l=t.memoizedState,o!==n||h!==l||ia.current||no?(typeof u=="function"&&(Tb(t,r,u,n),l=t.memoizedState),(o=no||TT(t,r,o,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,fM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:os(t.type,o),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ka(l):(l=oa(r)?Ll:Dn.current,l=ku(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&AT(t,i,n,l),no=!1,h=t.memoizedState,i.state=h,Im(t,n,i,a);var m=t.memoizedState;o!==f||h!==m||ia.current||no?(typeof p=="function"&&(Tb(t,r,p,n),m=t.memoizedState),(c=no||TT(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Nb(e,t,r,n,s,a)}function Nb(e,t,r,n,a,s){LM(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&yT(t,r,!1),ji(e,t,s);n=t.stateNode,lV.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Eu(t,e.child,null,s),t.child=Eu(t,null,o,s)):Fn(e,t,o,s),t.memoizedState=n.state,a&&yT(t,r,!0),t.child}function $M(e){var t=e.stateNode;t.pendingContext?xT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xT(e,t.context,!1),g2(e,t.containerInfo)}function IT(e,t,r,n,a){return Su(),d2(a),t.flags|=256,Fn(e,t,r,n),t.child}var Ob={dehydrated:null,treeContext:null,retryLane:0};function Db(e){return{baseLanes:e,cachePool:null,transitions:null}}function BM(e,t,r){var n=t.pendingProps,a=Wt.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_t(Wt,a&1),e===null)return Eb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=jg(i,n,0,null),e=jl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Db(r),t.memoizedState=Ob,e):E2(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return cV(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=To(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=To(o,s):(s=jl(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Db(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Ob,n}return s=e.child,e=s.sibling,n=To(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function E2(e,t){return t=jg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qh(e,t,r,n){return n!==null&&d2(n),Eu(t,e.child,null,r),e=E2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cV(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Ny(Error(pe(422))),Qh(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=jg({mode:"visible",children:n.children},a,0,null),s=jl(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Eu(t,e.child,null,i),t.child.memoizedState=Db(i),t.memoizedState=Ob,s);if(!(t.mode&1))return Qh(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(pe(419)),n=Ny(s,n,void 0),Qh(e,t,i,n)}if(o=(i&e.childLanes)!==0,aa||o){if(n=en,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Ai(e,a),ys(n,e,a,-1))}return N2(),n=Ny(Error(pe(421))),Qh(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=_V.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ya=ko(a.nextSibling),wa=t,Rt=!0,us=null,e!==null&&($a[Ba++]=fi,$a[Ba++]=hi,$a[Ba++]=$l,fi=e.id,hi=e.overflow,$l=t),t=E2(t,n.children),t.flags|=4096,t)}function RT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Cb(e.return,t,r)}function Oy(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function zM(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Fn(e,t,n.children,r),n=Wt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&RT(e,r,t);else if(e.tag===19)RT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(Wt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Rm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Oy(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Rm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Oy(t,!0,r,null,s);break;case"together":Oy(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function am(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ji(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),zl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=To(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=To(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uV(e,t,r){switch(t.tag){case 3:$M(t),Su();break;case 5:hM(t);break;case 1:oa(t.type)&&Pm(t);break;case 4:g2(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_t(Dm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(Wt,Wt.current&1),t.flags|=128,null):r&t.child.childLanes?BM(e,t,r):(_t(Wt,Wt.current&1),e=ji(e,t,r),e!==null?e.sibling:null);_t(Wt,Wt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return zM(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(Wt,Wt.current),n)break;return null;case 22:case 23:return t.lanes=0,FM(e,t,r)}return ji(e,t,r)}var UM,Mb,VM,WM;UM=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Mb=function(){};VM=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yl(Bs.current);var s=null;switch(r){case"input":a=rb(e,a),n=rb(e,n),s=[];break;case"select":a=Xt({},a,{value:void 0}),n=Xt({},n,{value:void 0}),s=[];break;case"textarea":a=sb(e,a),n=sb(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Am)}ob(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_f.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_f.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};WM=function(e,t,r,n){r!==n&&(t.flags|=4)};function _d(e,t){if(!Rt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dV(e,t,r){var n=t.pendingProps;switch(u2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return oa(t.type)&&jm(),wn(t),null;case 3:return n=t.stateNode,Cu(),Pt(ia),Pt(Dn),y2(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Zh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,us!==null&&(Ub(us),us=null))),Mb(e,t),wn(t),null;case 5:x2(t);var a=yl(Mf.current);if(r=t.type,e!==null&&t.stateNode!=null)VM(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return wn(t),null}if(e=yl(Bs.current),Zh(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ns]=t,n[Of]=s,e=(t.mode&1)!==0,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(a=0;a<Bd.length;a++)Tt(Bd[a],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":HC(n,s),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Tt("invalid",n);break;case"textarea":GC(n,s),Tt("invalid",n)}ob(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Xh(n.textContent,o,e),a=["children",""+o]):_f.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Tt("scroll",n)}switch(r){case"input":Uh(n),KC(n,s,!0);break;case"textarea":Uh(n),qC(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Am)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=x3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ns]=t,e[Of]=n,UM(e,t,!1,!1),t.stateNode=e;e:{switch(i=lb(r,n),r){case"dialog":Tt("cancel",e),Tt("close",e),a=n;break;case"iframe":case"object":case"embed":Tt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Bd.length;a++)Tt(Bd[a],e);a=n;break;case"source":Tt("error",e),a=n;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),a=n;break;case"details":Tt("toggle",e),a=n;break;case"input":HC(e,n),a=rb(e,n),Tt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Xt({},n,{value:void 0}),Tt("invalid",e);break;case"textarea":GC(e,n),a=sb(e,n),Tt("invalid",e);break;default:a=n}ob(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?w3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&y3(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&kf(e,l):typeof l=="number"&&kf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(_f.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tt("scroll",e):l!=null&&Y_(e,s,l,i))}switch(r){case"input":Uh(e),KC(e,n,!1);break;case"textarea":Uh(e),qC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+No(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?su(e,!!n.multiple,s,!1):n.defaultValue!=null&&su(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Am)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)WM(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=yl(Mf.current),yl(Bs.current),Zh(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ns]=t,(s=n.nodeValue!==r)&&(e=wa,e!==null))switch(e.tag){case 3:Xh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xh(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ns]=t,t.stateNode=n}return wn(t),null;case 13:if(Pt(Wt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Rt&&ya!==null&&t.mode&1&&!(t.flags&128))lM(),Su(),t.flags|=98560,s=!1;else if(s=Zh(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Ns]=t}else Su(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),s=!1}else us!==null&&(Ub(us),us=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Wt.current&1?Rr===0&&(Rr=3):N2())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return Cu(),Mb(e,t),e===null&&Pf(t.stateNode.containerInfo),wn(t),null;case 10:return p2(t.type._context),wn(t),null;case 17:return oa(t.type)&&jm(),wn(t),null;case 19:if(Pt(Wt),s=t.memoizedState,s===null)return wn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)_d(s,!1);else{if(Rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Rm(e),i!==null){for(t.flags|=128,_d(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(Wt,Wt.current&1|2),t.child}e=e.sibling}s.tail!==null&&hr()>Au&&(t.flags|=128,n=!0,_d(s,!1),t.lanes=4194304)}else{if(!n)if(e=Rm(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),_d(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Rt)return wn(t),null}else 2*hr()-s.renderingStartTime>Au&&r!==1073741824&&(t.flags|=128,n=!0,_d(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=hr(),t.sibling=null,r=Wt.current,_t(Wt,n?r&1|2:r&1),t):(wn(t),null);case 22:case 23:return P2(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pa&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function fV(e,t){switch(u2(t),t.tag){case 1:return oa(t.type)&&jm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cu(),Pt(ia),Pt(Dn),y2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return x2(t),null;case 13:if(Pt(Wt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Su()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pt(Wt),null;case 4:return Cu(),null;case 10:return p2(t.type._context),null;case 22:case 23:return P2(),null;case 24:return null;default:return null}}var ep=!1,En=!1,hV=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Gc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){nr(e,t,n)}else r.current=null}function Ib(e,t,r){try{r()}catch(n){nr(e,t,n)}}var FT=!1;function pV(e,t){if(xb=Em,e=Y3(),l2(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=i),h===s&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yb={focusedElem:e,selectionRange:r},Em=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:os(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(_){nr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return m=FT,FT=!1,m}function rf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Ib(t,r,s)}a=a.next}while(a!==n)}}function Tg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function HM(e){var t=e.alternate;t!==null&&(e.alternate=null,HM(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ns],delete t[Of],delete t[_b],delete t[XU],delete t[ZU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KM(e){return e.tag===5||e.tag===3||e.tag===4}function LT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KM(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Am));else if(n!==4&&(e=e.child,e!==null))for(Fb(e,t,r),e=e.sibling;e!==null;)Fb(e,t,r),e=e.sibling}function Lb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Lb(e,t,r),e=e.sibling;e!==null;)Lb(e,t,r),e=e.sibling}var ln=null,ls=!1;function Zi(e,t,r){for(r=r.child;r!==null;)GM(e,t,r),r=r.sibling}function GM(e,t,r){if($s&&typeof $s.onCommitFiberUnmount=="function")try{$s.onCommitFiberUnmount(yg,r)}catch{}switch(r.tag){case 5:En||Gc(r,t);case 6:var n=ln,a=ls;ln=null,Zi(e,t,r),ln=n,ls=a,ln!==null&&(ls?(e=ln,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ln.removeChild(r.stateNode));break;case 18:ln!==null&&(ls?(e=ln,r=r.stateNode,e.nodeType===8?Ey(e.parentNode,r):e.nodeType===1&&Ey(e,r),Tf(e)):Ey(ln,r.stateNode));break;case 4:n=ln,a=ls,ln=r.stateNode.containerInfo,ls=!0,Zi(e,t,r),ln=n,ls=a;break;case 0:case 11:case 14:case 15:if(!En&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Ib(r,t,i),a=a.next}while(a!==n)}Zi(e,t,r);break;case 1:if(!En&&(Gc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){nr(r,t,o)}Zi(e,t,r);break;case 21:Zi(e,t,r);break;case 22:r.mode&1?(En=(n=En)||r.memoizedState!==null,Zi(e,t,r),En=n):Zi(e,t,r);break;default:Zi(e,t,r)}}function $T(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hV),t.forEach(function(n){var a=kV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function ts(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:ln=o.stateNode,ls=!1;break e;case 3:ln=o.stateNode.containerInfo,ls=!0;break e;case 4:ln=o.stateNode.containerInfo,ls=!0;break e}o=o.return}if(ln===null)throw Error(pe(160));GM(s,i,a),ln=null,ls=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){nr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qM(t,e),t=t.sibling}function qM(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),Cs(e),n&4){try{rf(3,e,e.return),Tg(3,e)}catch(v){nr(e,e.return,v)}try{rf(5,e,e.return)}catch(v){nr(e,e.return,v)}}break;case 1:ts(t,e),Cs(e),n&512&&r!==null&&Gc(r,r.return);break;case 5:if(ts(t,e),Cs(e),n&512&&r!==null&&Gc(r,r.return),e.flags&32){var a=e.stateNode;try{kf(a,"")}catch(v){nr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&v3(a,s),lb(o,i);var c=lb(o,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?w3(a,f):u==="dangerouslySetInnerHTML"?y3(a,f):u==="children"?kf(a,f):Y_(a,u,f,c)}switch(o){case"input":nb(a,s);break;case"textarea":g3(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?su(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?su(a,!!s.multiple,s.defaultValue,!0):su(a,!!s.multiple,s.multiple?[]:"",!1))}a[Of]=s}catch(v){nr(e,e.return,v)}}break;case 6:if(ts(t,e),Cs(e),n&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){nr(e,e.return,v)}}break;case 3:if(ts(t,e),Cs(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tf(t.containerInfo)}catch(v){nr(e,e.return,v)}break;case 4:ts(t,e),Cs(e);break;case 13:ts(t,e),Cs(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(A2=hr())),n&4&&$T(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(En=(c=En)||u,ts(t,e),En=c):ts(t,e),Cs(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Te=e,u=e.child;u!==null;){for(f=Te=u;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:rf(4,h,h.return);break;case 1:Gc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){nr(n,r,v)}}break;case 5:Gc(h,h.return);break;case 22:if(h.memoizedState!==null){zT(f);continue}}p!==null?(p.return=h,Te=p):zT(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=b3("display",i))}catch(v){nr(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){nr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ts(t,e),Cs(e),n&4&&$T(e);break;case 21:break;default:ts(t,e),Cs(e)}}function Cs(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(KM(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(kf(a,""),n.flags&=-33);var s=LT(e);Lb(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=LT(e);Fb(e,o,i);break;default:throw Error(pe(161))}}catch(l){nr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mV(e,t,r){Te=e,YM(e)}function YM(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var a=Te,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||ep;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||En;o=ep;var c=En;if(ep=i,(En=l)&&!c)for(Te=a;Te!==null;)i=Te,l=i.child,i.tag===22&&i.memoizedState!==null?UT(a):l!==null?(l.return=i,Te=l):UT(a);for(;s!==null;)Te=s,YM(s),s=s.sibling;Te=a,ep=o,En=c}BT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Te=s):BT(e)}}function BT(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:En||Tg(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!En)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:os(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ST(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ST(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Tf(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}En||t.flags&512&&Rb(t)}catch(h){nr(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function zT(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function UT(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tg(4,t)}catch(l){nr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){nr(t,a,l)}}var s=t.return;try{Rb(t)}catch(l){nr(t,s,l)}break;case 5:var i=t.return;try{Rb(t)}catch(l){nr(t,i,l)}}}catch(l){nr(t,t.return,l)}if(t===e){Te=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Te=o;break}Te=t.return}}var vV=Math.ceil,$m=Ui.ReactCurrentDispatcher,C2=Ui.ReactCurrentOwner,Wa=Ui.ReactCurrentBatchConfig,Je=0,en=null,Cr=null,fn=0,pa=0,qc=Vo(0),Rr=0,Lf=null,zl=0,Ag=0,T2=0,nf=null,ra=null,A2=0,Au=1/0,ii=null,Bm=!1,$b=null,Eo=null,tp=!1,po=null,zm=0,af=0,Bb=null,sm=-1,im=0;function Hn(){return Je&6?hr():sm!==-1?sm:sm=hr()}function Co(e){return e.mode&1?Je&2&&fn!==0?fn&-fn:QU.transition!==null?(im===0&&(im=D3()),im):(e=ft,e!==0||(e=window.event,e=e===void 0?16:B3(e.type)),e):1}function ys(e,t,r,n){if(50<af)throw af=0,Bb=null,Error(pe(185));P0(e,r,n),(!(Je&2)||e!==en)&&(e===en&&(!(Je&2)&&(Ag|=r),Rr===4&&lo(e,fn)),la(e,n),r===1&&Je===0&&!(t.mode&1)&&(Au=hr()+500,Sg&&Wo()))}function la(e,t){var r=e.callbackNode;Q7(e,t);var n=Sm(e,e===en?fn:0);if(n===0)r!==null&&ZC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZC(r),t===1)e.tag===0?JU(VT.bind(null,e)):sM(VT.bind(null,e)),qU(function(){!(Je&6)&&Wo()}),r=null;else{switch(M3(n)){case 1:r=e2;break;case 4:r=N3;break;case 16:r=km;break;case 536870912:r=O3;break;default:r=km}r=nI(r,XM.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function XM(e,t){if(sm=-1,im=0,Je&6)throw Error(pe(327));var r=e.callbackNode;if(uu()&&e.callbackNode!==r)return null;var n=Sm(e,e===en?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Um(e,n);else{t=n;var a=Je;Je|=2;var s=JM();(en!==e||fn!==t)&&(ii=null,Au=hr()+500,Al(e,t));do try{yV();break}catch(o){ZM(e,o)}while(!0);h2(),$m.current=s,Je=a,Cr!==null?t=0:(en=null,fn=0,t=Rr)}if(t!==0){if(t===2&&(a=hb(e),a!==0&&(n=a,t=zb(e,a))),t===1)throw r=Lf,Al(e,0),lo(e,n),la(e,hr()),r;if(t===6)lo(e,n);else{if(a=e.current.alternate,!(n&30)&&!gV(a)&&(t=Um(e,n),t===2&&(s=hb(e),s!==0&&(n=s,t=zb(e,s))),t===1))throw r=Lf,Al(e,0),lo(e,n),la(e,hr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:ol(e,ra,ii);break;case 3:if(lo(e,n),(n&130023424)===n&&(t=A2+500-hr(),10<t)){if(Sm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Hn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=wb(ol.bind(null,e,ra,ii),t);break}ol(e,ra,ii);break;case 4:if(lo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-xs(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*vV(n/1960))-n,10<n){e.timeoutHandle=wb(ol.bind(null,e,ra,ii),n);break}ol(e,ra,ii);break;case 5:ol(e,ra,ii);break;default:throw Error(pe(329))}}}return la(e,hr()),e.callbackNode===r?XM.bind(null,e):null}function zb(e,t){var r=nf;return e.current.memoizedState.isDehydrated&&(Al(e,t).flags|=256),e=Um(e,t),e!==2&&(t=ra,ra=r,t!==null&&Ub(t)),e}function Ub(e){ra===null?ra=e:ra.push.apply(ra,e)}function gV(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!_s(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lo(e,t){for(t&=~T2,t&=~Ag,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xs(t),n=1<<r;e[r]=-1,t&=~n}}function VT(e){if(Je&6)throw Error(pe(327));uu();var t=Sm(e,0);if(!(t&1))return la(e,hr()),null;var r=Um(e,t);if(e.tag!==0&&r===2){var n=hb(e);n!==0&&(t=n,r=zb(e,n))}if(r===1)throw r=Lf,Al(e,0),lo(e,t),la(e,hr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ol(e,ra,ii),la(e,hr()),null}function j2(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(Au=hr()+500,Sg&&Wo())}}function Ul(e){po!==null&&po.tag===0&&!(Je&6)&&uu();var t=Je;Je|=1;var r=Wa.transition,n=ft;try{if(Wa.transition=null,ft=1,e)return e()}finally{ft=n,Wa.transition=r,Je=t,!(Je&6)&&Wo()}}function P2(){pa=qc.current,Pt(qc)}function Al(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GU(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(u2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jm();break;case 3:Cu(),Pt(ia),Pt(Dn),y2();break;case 5:x2(n);break;case 4:Cu();break;case 13:Pt(Wt);break;case 19:Pt(Wt);break;case 10:p2(n.type._context);break;case 22:case 23:P2()}r=r.return}if(en=e,Cr=e=To(e.current,null),fn=pa=t,Rr=0,Lf=null,T2=Ag=zl=0,ra=nf=null,xl!==null){for(t=0;t<xl.length;t++)if(r=xl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}xl=null}return e}function ZM(e,t){do{var r=Cr;try{if(h2(),rm.current=Lm,Fm){for(var n=Yt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Fm=!1}if(Bl=0,Yr=Dr=Yt=null,tf=!1,If=0,C2.current=null,r===null||r.return===null){Rr=1,Lf=t,Cr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=fn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=PT(i);if(p!==null){p.flags&=-257,NT(p,i,o,s,t),p.mode&1&&jT(s,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){jT(s,c,t),N2();break e}l=Error(pe(426))}}else if(Rt&&o.mode&1){var g=PT(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),NT(g,i,o,s,t),d2(Tu(l,o));break e}}s=l=Tu(l,o),Rr!==4&&(Rr=2),nf===null?nf=[s]:nf.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=MM(s,l,t);kT(s,x);break e;case 1:o=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Eo===null||!Eo.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=IM(s,o,t);kT(s,_);break e}}s=s.return}while(s!==null)}eI(r)}catch(S){t=S,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(!0)}function JM(){var e=$m.current;return $m.current=Lm,e===null?Lm:e}function N2(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),en===null||!(zl&268435455)&&!(Ag&268435455)||lo(en,fn)}function Um(e,t){var r=Je;Je|=2;var n=JM();(en!==e||fn!==t)&&(ii=null,Al(e,t));do try{xV();break}catch(a){ZM(e,a)}while(!0);if(h2(),Je=r,$m.current=n,Cr!==null)throw Error(pe(261));return en=null,fn=0,Rr}function xV(){for(;Cr!==null;)QM(Cr)}function yV(){for(;Cr!==null&&!W7();)QM(Cr)}function QM(e){var t=rI(e.alternate,e,pa);e.memoizedProps=e.pendingProps,t===null?eI(e):Cr=t,C2.current=null}function eI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fV(r,t),r!==null){r.flags&=32767,Cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Rr=6,Cr=null;return}}else if(r=dV(r,t,pa),r!==null){Cr=r;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Rr===0&&(Rr=5)}function ol(e,t,r){var n=ft,a=Wa.transition;try{Wa.transition=null,ft=1,bV(e,t,r,n)}finally{Wa.transition=a,ft=n}return null}function bV(e,t,r,n){do uu();while(po!==null);if(Je&6)throw Error(pe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(eU(e,s),e===en&&(Cr=en=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tp||(tp=!0,nI(km,function(){return uu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var i=ft;ft=1;var o=Je;Je|=4,C2.current=null,pV(e,r),qM(r,e),BU(yb),Em=!!xb,yb=xb=null,e.current=r,mV(r),H7(),Je=o,ft=i,Wa.transition=s}else e.current=r;if(tp&&(tp=!1,po=e,zm=a),s=e.pendingLanes,s===0&&(Eo=null),q7(r.stateNode),la(e,hr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bm)throw Bm=!1,e=$b,$b=null,e;return zm&1&&e.tag!==0&&uu(),s=e.pendingLanes,s&1?e===Bb?af++:(af=0,Bb=e):af=0,Wo(),null}function uu(){if(po!==null){var e=M3(zm),t=Wa.transition,r=ft;try{if(Wa.transition=null,ft=16>e?16:e,po===null)var n=!1;else{if(e=po,po=null,zm=0,Je&6)throw Error(pe(331));var a=Je;for(Je|=4,Te=e.current;Te!==null;){var s=Te,i=s.child;if(Te.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:rf(8,u,s)}var f=u.child;if(f!==null)f.return=u,Te=f;else for(;Te!==null;){u=Te;var h=u.sibling,p=u.return;if(HM(u),u===c){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Te=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Te=i;else e:for(;Te!==null;){if(s=Te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:rf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Te=x;break e}Te=s.return}}var b=e.current;for(Te=b;Te!==null;){i=Te;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Te=y;else e:for(i=b;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Tg(9,o)}}catch(S){nr(o,o.return,S)}if(o===i){Te=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Te=_;break e}Te=o.return}}if(Je=a,Wo(),$s&&typeof $s.onPostCommitFiberRoot=="function")try{$s.onPostCommitFiberRoot(yg,e)}catch{}n=!0}return n}finally{ft=r,Wa.transition=t}}return!1}function WT(e,t,r){t=Tu(r,t),t=MM(e,t,1),e=So(e,t,1),t=Hn(),e!==null&&(P0(e,1,t),la(e,t))}function nr(e,t,r){if(e.tag===3)WT(e,e,r);else for(;t!==null;){if(t.tag===3){WT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Eo===null||!Eo.has(n))){e=Tu(r,e),e=IM(t,e,1),t=So(t,e,1),e=Hn(),t!==null&&(P0(t,1,e),la(t,e));break}}t=t.return}}function wV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hn(),e.pingedLanes|=e.suspendedLanes&r,en===e&&(fn&r)===r&&(Rr===4||Rr===3&&(fn&130023424)===fn&&500>hr()-A2?Al(e,0):T2|=r),la(e,t)}function tI(e,t){t===0&&(e.mode&1?(t=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):t=1);var r=Hn();e=Ai(e,t),e!==null&&(P0(e,t,r),la(e,r))}function _V(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),tI(e,r)}function kV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),tI(e,r)}var rI;rI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ia.current)aa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return aa=!1,uV(e,t,r);aa=!!(e.flags&131072)}else aa=!1,Rt&&t.flags&1048576&&iM(t,Om,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;am(e,t),e=t.pendingProps;var a=ku(t,Dn.current);cu(t,r),a=w2(null,t,n,e,a,r);var s=_2();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,oa(n)?(s=!0,Pm(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,v2(t),a.updater=Cg,t.stateNode=a,a._reactInternals=t,Ab(t,n,e,r),t=Nb(null,t,n,!0,s,r)):(t.tag=0,Rt&&s&&c2(t),Fn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(am(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=EV(n),e=os(n,e),a){case 0:t=Pb(null,t,n,e,r);break e;case 1:t=MT(null,t,n,e,r);break e;case 11:t=OT(null,t,n,e,r);break e;case 14:t=DT(null,t,n,os(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),Pb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),MT(e,t,n,a,r);case 3:e:{if($M(t),e===null)throw Error(pe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,fM(e,t),Im(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Tu(Error(pe(423)),t),t=IT(e,t,n,r,a);break e}else if(n!==a){a=Tu(Error(pe(424)),t),t=IT(e,t,n,r,a);break e}else for(ya=ko(t.stateNode.containerInfo.firstChild),wa=t,Rt=!0,us=null,r=uM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Su(),n===a){t=ji(e,t,r);break e}Fn(e,t,n,r)}t=t.child}return t;case 5:return hM(t),e===null&&Eb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,bb(n,a)?i=null:s!==null&&bb(n,s)&&(t.flags|=32),LM(e,t),Fn(e,t,i,r),t.child;case 6:return e===null&&Eb(t),null;case 13:return BM(e,t,r);case 4:return g2(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Eu(t,null,n,r):Fn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),OT(e,t,n,a,r);case 7:return Fn(e,t,t.pendingProps,r),t.child;case 8:return Fn(e,t,t.pendingProps.children,r),t.child;case 12:return Fn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,_t(Dm,n._currentValue),n._currentValue=i,s!==null)if(_s(s.value,i)){if(s.children===a.children&&!ia.current){t=ji(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=gi(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Cb(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(pe(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Cb(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Fn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,cu(t,r),a=Ka(a),n=n(a),t.flags|=1,Fn(e,t,n,r),t.child;case 14:return n=t.type,a=os(n,t.pendingProps),a=os(n.type,a),DT(e,t,n,a,r);case 15:return RM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:os(n,a),am(e,t),t.tag=1,oa(n)?(e=!0,Pm(t)):e=!1,cu(t,r),DM(t,n,a),Ab(t,n,a,r),Nb(null,t,n,!0,e,r);case 19:return zM(e,t,r);case 22:return FM(e,t,r)}throw Error(pe(156,t.tag))};function nI(e,t){return P3(e,t)}function SV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,r,n){return new SV(e,t,r,n)}function O2(e){return e=e.prototype,!(!e||!e.isReactComponent)}function EV(e){if(typeof e=="function")return O2(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Z_)return 11;if(e===J_)return 14}return 2}function To(e,t){var r=e.alternate;return r===null?(r=za(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function om(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")O2(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Lc:return jl(r.children,a,s,t);case X_:i=8,a|=8;break;case J1:return e=za(12,r,t,a|2),e.elementType=J1,e.lanes=s,e;case Q1:return e=za(13,r,t,a),e.elementType=Q1,e.lanes=s,e;case eb:return e=za(19,r,t,a),e.elementType=eb,e.lanes=s,e;case h3:return jg(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case d3:i=10;break e;case f3:i=9;break e;case Z_:i=11;break e;case J_:i=14;break e;case ro:i=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=za(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function jl(e,t,r,n){return e=za(7,e,n,t),e.lanes=r,e}function jg(e,t,r,n){return e=za(22,e,n,t),e.elementType=h3,e.lanes=r,e.stateNode={isHidden:!1},e}function Dy(e,t,r){return e=za(6,e,null,t),e.lanes=r,e}function My(e,t,r){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function CV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=py(0),this.expirationTimes=py(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=py(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function D2(e,t,r,n,a,s,i,o,l){return e=new CV(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=za(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},v2(s),e}function TV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function aI(e){if(!e)return Oo;e=e._reactInternals;e:{if(ac(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(oa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(oa(r))return aM(e,r,t)}return t}function sI(e,t,r,n,a,s,i,o,l){return e=D2(r,n,!0,e,a,s,i,o,l),e.context=aI(null),r=e.current,n=Hn(),a=Co(r),s=gi(n,a),s.callback=t??null,So(r,s,a),e.current.lanes=a,P0(e,a,n),la(e,n),e}function Pg(e,t,r,n){var a=t.current,s=Hn(),i=Co(a);return r=aI(r),t.context===null?t.context=r:t.pendingContext=r,t=gi(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=So(a,t,i),e!==null&&(ys(e,a,i,s),tm(e,a,i)),i}function Vm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function HT(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function M2(e,t){HT(e,t),(e=e.alternate)&&HT(e,t)}function AV(){return null}var iI=typeof reportError=="function"?reportError:function(e){console.error(e)};function I2(e){this._internalRoot=e}Ng.prototype.render=I2.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Pg(e,t,null,null)};Ng.prototype.unmount=I2.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ul(function(){Pg(null,e,null,null)}),t[Ti]=null}};function Ng(e){this._internalRoot=e}Ng.prototype.unstable_scheduleHydration=function(e){if(e){var t=F3();e={blockedOn:null,target:e,priority:t};for(var r=0;r<oo.length&&t!==0&&t<oo[r].priority;r++);oo.splice(r,0,e),r===0&&$3(e)}};function R2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Og(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function KT(){}function jV(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=Vm(i);s.call(c)}}var i=sI(t,n,e,0,null,!1,!1,"",KT);return e._reactRootContainer=i,e[Ti]=i.current,Pf(e.nodeType===8?e.parentNode:e),Ul(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=Vm(l);o.call(c)}}var l=D2(e,0,!1,null,null,!1,!1,"",KT);return e._reactRootContainer=l,e[Ti]=l.current,Pf(e.nodeType===8?e.parentNode:e),Ul(function(){Pg(t,l,r,n)}),l}function Dg(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=Vm(i);o.call(l)}}Pg(t,i,e,a)}else i=jV(r,t,e,a,n);return Vm(i)}I3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$d(t.pendingLanes);r!==0&&(t2(t,r|1),la(t,hr()),!(Je&6)&&(Au=hr()+500,Wo()))}break;case 13:Ul(function(){var n=Ai(e,1);if(n!==null){var a=Hn();ys(n,e,1,a)}}),M2(e,1)}};r2=function(e){if(e.tag===13){var t=Ai(e,134217728);if(t!==null){var r=Hn();ys(t,e,134217728,r)}M2(e,134217728)}};R3=function(e){if(e.tag===13){var t=Co(e),r=Ai(e,t);if(r!==null){var n=Hn();ys(r,e,t,n)}M2(e,t)}};F3=function(){return ft};L3=function(e,t){var r=ft;try{return ft=e,t()}finally{ft=r}};ub=function(e,t,r){switch(t){case"input":if(nb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=kg(n);if(!a)throw Error(pe(90));m3(n),nb(n,a)}}}break;case"textarea":g3(e,r);break;case"select":t=r.value,t!=null&&su(e,!!r.multiple,t,!1)}};S3=j2;E3=Ul;var PV={usingClientEntryPoint:!1,Events:[O0,Uc,kg,_3,k3,j2]},kd={findFiberByHostInstance:gl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NV={bundleType:kd.bundleType,version:kd.version,rendererPackageName:kd.rendererPackageName,rendererConfig:kd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ui.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=A3(e),e===null?null:e.stateNode},findFiberByHostInstance:kd.findFiberByHostInstance||AV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{yg=rp.inject(NV),$s=rp}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PV;Aa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R2(t))throw Error(pe(200));return TV(e,t,null,r)};Aa.createRoot=function(e,t){if(!R2(e))throw Error(pe(299));var r=!1,n="",a=iI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=D2(e,1,!1,null,null,r,!1,n,a),e[Ti]=t.current,Pf(e.nodeType===8?e.parentNode:e),new I2(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=A3(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return Ul(e)};Aa.hydrate=function(e,t,r){if(!Og(t))throw Error(pe(200));return Dg(null,e,t,!0,r)};Aa.hydrateRoot=function(e,t,r){if(!R2(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=iI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=sI(t,null,e,1,r??null,a,!1,s,i),e[Ti]=t.current,Pf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ng(t)};Aa.render=function(e,t,r){if(!Og(t))throw Error(pe(200));return Dg(null,e,t,!1,r)};Aa.unmountComponentAtNode=function(e){if(!Og(e))throw Error(pe(40));return e._reactRootContainer?(Ul(function(){Dg(null,null,e,!1,function(){e._reactRootContainer=null,e[Ti]=null})}),!0):!1};Aa.unstable_batchedUpdates=j2;Aa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Og(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Dg(e,t,r,!1,n)};Aa.version="18.3.1-next-f1338f8080-20240426";function oI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oI)}catch(e){console.error(e)}}oI(),o3.exports=Aa;var M0=o3.exports,GT=M0;X1.createRoot=GT.createRoot,X1.hydrateRoot=GT.hydrateRoot;/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=e=>{const t=DV(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>w.createElement("svg",{ref:l,...MV,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lI("lucide",a),...!s&&!IV(o)&&{"aria-hidden":"true"},...o},[...i.map(([c,u])=>w.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(RV,{ref:s,iconNode:t,className:lI(`lucide-${OV(qT(e))}`,`lucide-${e}`,n),...a}));return r.displayName=qT(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],LV=xe("activity",FV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],BV=xe("archive",$V);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],UV=xe("arrow-down-right",zV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],F2=xe("arrow-down",VV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],YT=xe("arrow-left",WV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],L2=xe("arrow-right",HV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ha=xe("arrow-up-down",KV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],qV=xe("arrow-up-right",GV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],$2=xe("arrow-up",YV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],XT=xe("beaker",XV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],cI=xe("book-open",ZV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],bl=xe("calculator",JV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sc=xe("calendar",QV);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],B2=xe("chart-column",eW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],$f=xe("chart-no-axes-column",tW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],uI=xe("chart-pie",rW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],z2=xe("check",nW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Mg=xe("chevron-down",aW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],I0=xe("chevron-left",sW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],R0=xe("chevron-right",iW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Vi=xe("circle-alert",oW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],dn=xe("circle-check-big",lW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vb=xe("circle-check",cW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dW=xe("circle-question-mark",uW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],dI=xe("circle-x",fW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Wm=xe("clock",hW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Bf=xe("cloud-upload",pW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],vW=xe("credit-card",mW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],U2=xe("database",gW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gu=xe("dollar-sign",xW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],F0=xe("download",yW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],wW=xe("ellipsis",bW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kW=xe("eye",_W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Hm=xe("file-text",SW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],fI=xe("flask-conical",EW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L0=xe("funnel",CW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],ZT=xe("grid-3x3",TW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],jW=xe("heart-handshake",AW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],NW=xe("history",PW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],na=xe("info",OW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],hI=xe("layout-dashboard",DW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Km=xe("lightbulb",MW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],RW=xe("link",IW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],LW=xe("list",FW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vs=xe("loader-circle",$W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zW=xe("log-out",BW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],VW=xe("mail",UW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],HW=xe("map",WW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],JT=xe("menu",KW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],qW=xe("message-circle",GW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["path",{d:"M5 12h14",key:"1ays0h"}]],$0=xe("minus",YW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],ZW=xe("moon",XW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],QW=xe("mouse-pointer",JW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],tH=xe("octagon-alert",eH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],nH=xe("package",rH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],V2=xe("pen",aH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],W2=xe("plus",sH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oH=xe("refresh-cw",iH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],cH=xe("rotate-ccw",lH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qu=xe("save",uH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],H2=xe("search",dH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hH=xe("send",fH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mH=xe("settings",pH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],gH=xe("share-2",vH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QT=xe("shield-check",xH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],bH=xe("sparkles",yH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wH=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_H=xe("tag",wH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wi=xe("target",kH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Vl=xe("trash-2",SH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EH=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],B0=xe("trending-down",EH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Sa=xe("trending-up",CH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],du=xe("triangle-alert",TH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Ig=xe("upload",AH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pI=xe("user",jH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mI=xe("users",PH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NH=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],vI=xe("wallet",NH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Za=xe("x",OH),DH=({onFileSelect:e,onLoadSimulatedData:t,loading:r,error:n,totalActivities:a})=>{const s=w.useRef(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];u&&e(u)},o=c=>{c.preventDefault(),c.stopPropagation()},l=c=>{var f;c.preventDefault(),c.stopPropagation();const u=(f=c.dataTransfer.files)==null?void 0:f[0];u&&u.name.toLowerCase().endsWith(".csv")&&e(u)};return d.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-6",children:[d.jsxs("div",{onDragOver:o,onDrop:l,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:`
          border-2 border-dashed rounded-xl p-10 text-center cursor-pointer transition-all duration-300
          border-slate-700 hover:border-blue-400 hover:bg-slate-800/50
        `,children:[d.jsx("input",{ref:s,type:"file",accept:".csv",onChange:i,className:"hidden"}),d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"p-4 rounded-full bg-slate-800",children:d.jsx(Ig,{className:"w-8 h-8 text-slate-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-slate-200",children:"Arraste e solte seu CSV aqui"}),d.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"ou clique para selecionar do computador"})]})]})]}),t&&d.jsx("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-slate-800/50",children:d.jsxs("button",{onClick:t,disabled:r,className:"text-sm text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-slate-800/50",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Ativar Modo Teste (Dados Simulados)"})]})}),r&&d.jsxs("div",{className:"flex items-center justify-center gap-3 text-blue-400 bg-blue-400/10 p-4 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-medium",children:"Processando dados..."})]}),n&&d.jsxs("div",{className:"mt-4 p-3 bg-red-900 border border-red-700 rounded flex items-start gap-2",children:[d.jsx(Vi,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-300 font-medium",children:"Erro ao processar"}),d.jsx("p",{className:"text-red-400 text-sm whitespace-pre-wrap",children:n})]})]}),a!==void 0&&a>0&&!r&&!n&&d.jsxs("div",{className:"mt-4 p-3 bg-green-900 border border-green-700 rounded flex items-center gap-2",children:[d.jsx(dn,{className:"w-5 h-5 text-green-400"}),d.jsxs("span",{className:"text-green-300",children:[" ",a," atividades carregadas com sucesso"]})]})]})},eA=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},MH=e=>e?eA(e):eA,IH=e=>e;function RH(e,t=IH){const r=Rs.useSyncExternalStore(e.subscribe,Rs.useCallback(()=>t(e.getState()),[e,t]),Rs.useCallback(()=>t(e.getInitialState()),[e,t]));return Rs.useDebugValue(r),r}const FH=e=>{const t=MH(e),r=n=>RH(t,n);return Object.assign(r,t),r},K2=e=>FH;function gI(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const Wb=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Wb(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Wb(n)(r)}}}},LH=(e,t)=>(r,n,a)=>{let s={storage:gI(()=>localStorage),partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,a);const u=()=>{const v=s.partialize({...n()});return c.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,g)=>(f(v,g),u());const h=e((...v)=>(r(...v),u()),n,a);a.getInitialState=()=>h;let p;const m=()=>{var v,g;if(!c)return;i=!1,o.forEach(b=>{var y;return b((y=n())!=null?y:h)});const x=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(v=n())!=null?v:h))||void 0;return Wb(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const y=s.migrate(b.state,b.version);return y instanceof Promise?y.then(_=>[!0,_]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[_,S]=b;if(p=s.merge(S,(y=n())!=null?y:h),r(p,!0),_)return u()}).then(()=>{x==null||x(p,void 0),p=n(),i=!0,l.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),p||h},G2=LH;function Rg(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function $H(e,t){let r;const n=()=>{if(r)return r;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(t),r=Rg(a),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(a,s)=>n().then(i=>s(i.transaction(t,a).objectStore(t)))}let Iy;function q2(){return Iy||(Iy=$H("keyval-store","keyval")),Iy}function BH(e,t=q2()){return t("readonly",r=>Rg(r.get(e)))}function zH(e,t,r=q2()){return r("readwrite",n=>(n.put(t,e),Rg(n.transaction)))}function UH(e,t=q2()){return t("readwrite",r=>(r.delete(e),Rg(r.transaction)))}const VH={getItem:async e=>await BH(e)||null,setItem:async(e,t)=>{await zH(e,t)},removeItem:async e=>{await UH(e)}},tA={bu:[],canais:[],jornadas:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos",dataInicio:"",dataFim:""},vt=K2()(G2(e=>({frameworkData:[],activities:[],goals:[],journal:[],viewSettings:{periodo:{inicio:"",fim:""},abaAtual:"launch",filtrosGlobais:tA,modoTempoJornada:"diario",perspective:"crm"},setPerspective:t=>e(r=>({viewSettings:{...r.viewSettings,perspective:t}})),setFrameworkData:(t,r)=>e({frameworkData:t,activities:r}),setActivities:t=>e({activities:t}),setGoals:t=>e({goals:t}),addJournalEntry:t=>e(r=>({journal:[...r.journal,t]})),updateJournalEntry:(t,r)=>e(n=>({journal:n.journal.map(a=>a.id===t?{...a,...r}:a)})),updateActivity:(t,r)=>e(n=>({activities:n.activities.map(a=>a.id===t?{...a,...r}:a)})),addActivity:t=>e(r=>({activities:[...r.activities.filter(n=>n.id!==t.id),t]})),removeActivity:t=>e(r=>({activities:r.activities.filter(n=>n.id!==t)})),setGlobalFilters:t=>e(r=>({viewSettings:{...r.viewSettings,filtrosGlobais:{...r.viewSettings.filtrosGlobais,...t}}})),resetFilters:()=>e(t=>({viewSettings:{...t.viewSettings,filtrosGlobais:tA}})),setTab:t=>e(r=>({viewSettings:{...r.viewSettings,abaAtual:t}})),setPeriodo:(t,r)=>e(n=>({viewSettings:{...n.viewSettings,periodo:{inicio:t,fim:r}}})),b2cData:[],setB2CData:t=>e({b2cData:t}),paidMediaData:[],setPaidMediaData:t=>e({paidMediaData:t}),budgets:[],setBudgets:t=>e({budgets:t}),alertConfig:{share_crm_limiar:10,ativar_anomalias:!0},setAlertConfig:t=>e({alertConfig:t})}),{name:"app-storage",storage:gI(()=>VH),partialize:e=>({frameworkData:e.frameworkData,activities:e.activities,goals:e.goals,journal:e.journal,b2cData:e.b2cData,paidMediaData:e.paidMediaData,budgets:e.budgets,viewSettings:{...e.viewSettings,abaAtual:"launch",perspective:"crm"},alertConfig:e.alertConfig}),onRehydrateStorage:()=>e=>{e&&(e.activities&&e.activities.forEach(t=>{typeof t.dataDisparo=="string"&&(t.dataDisparo=new Date(t.dataDisparo))}),e.frameworkData&&e.frameworkData.forEach(t=>{t["Data de Disparo"]&&typeof t["Data de Disparo"]=="string"&&(t["Data de Disparo"]=new Date(t["Data de Disparo"]))}))}})),WH=({availableCanais:e=[],availableJornadas:t=[],availableSegmentos:r=[],availableParceiros:n=[],countByCanal:a={},countByJornada:s={},countBySegmento:i={},countByParceiro:o={}})=>{const{viewSettings:l,setGlobalFilters:c}=vt(),u=l.filtrosGlobais,f=(x,b)=>{const y=u[x],_=y.includes(b)?y.filter(S=>S!==b):[...y,b];c({[x]:_})},h=(x,b)=>{const y=u[x];if(b.every(S=>y.includes(S))){const S=y.filter(k=>!b.includes(k));c({[x]:S})}else{const S=b.filter(k=>!y.includes(k));c({[x]:[...y,...S]})}},p=(x,b)=>{const y=u[x];return b.length>0&&b.every(_=>y.includes(_))},m=()=>{c({canais:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos"})},v=u.canais.length>0||u.jornadas.length>0||u.segmentos.length>0||u.parceiros.length>0,g=({title:x,icon:b,items:y,field:_,counts:S,align:k="left"})=>{if(y.length===0)return null;const E=u[_].length,C=p(_,y),T=E>0;return d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition border shadow-sm ${T?"bg-slate-800 border-slate-700 text-white":"bg-slate-900/50 border-transparent hover:bg-slate-800 text-slate-300"}`,children:[d.jsx(b,{size:16,className:T?"text-blue-400":"text-slate-400"}),d.jsx("span",{className:"text-sm font-medium",children:x}),T&&d.jsx("span",{className:"bg-slate-700 text-slate-300 text-[10px] px-1.5 py-0.5 rounded-full ml-1 border border-slate-600",children:E}),d.jsx(Mg,{size:14,className:"opacity-50 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:`absolute top-full mt-2 w-64 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-2 z-50 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-200 transform origin-top-left ${k==="right"?"right-0 origin-top-right":"left-0 origin-top-left"}`,children:[d.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-2 border-b border-slate-800",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:x}),d.jsx("button",{onClick:()=>h(_,y),className:"text-[10px] text-blue-400 hover:text-blue-300 font-medium",children:C?"Desmarcar Todos":"Selecionar Todos"})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 custom-scrollbar",children:y.map(j=>d.jsxs("label",{onClick:P=>{P.preventDefault(),f(_,j)},className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded-lg transition group/item",children:[d.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition ${u[_].includes(j)?"bg-slate-600 border-slate-500":"border-slate-600 group-hover/item:border-slate-500"}`,children:u[_].includes(j)&&d.jsx(z2,{size:10,className:"text-white"})}),d.jsx("span",{className:"text-slate-300 text-sm truncate flex-1",children:j}),d.jsxs("span",{className:"text-slate-500 text-xs",children:["(",S[j]||0,")"]})]},j))})]})]})};return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(g,{title:"Canais",icon:qW,items:e,field:"canais",counts:a}),d.jsx(g,{title:"Jornadas",icon:HW,items:t,field:"jornadas",counts:s}),d.jsx(g,{title:"Segmentos",icon:mI,items:r,field:"segmentos",counts:i}),d.jsx(g,{title:"Parceiros",icon:jW,items:n,field:"parceiros",counts:o,align:"right"}),v&&d.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),v&&d.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition",children:[d.jsx(Za,{size:14}),"Limpar"]})]})};function Fg(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function HH(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(f){i(f)}}function l(u){try{c(n.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const KH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Y2 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GH extends Y2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rA extends Y2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class nA extends Y2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hb;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hb||(Hb={}));class qH{constructor(t,{headers:r={},customFetch:n,region:a=Hb.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=KH(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return HH(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let g=u;f&&(i=new AbortController,s=setTimeout(()=>i.abort(),f),u?(g=i.signal,u.addEventListener("abort",()=>i.abort())):g=i.signal);const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:g}).catch(S=>{throw new GH(S)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new rA(x);if(!x.ok)throw new nA(x);let y=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield x.json():y==="application/octet-stream"||y==="application/pdf"?_=yield x.blob():y==="text/event-stream"?_=x:y==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof nA||o instanceof rA?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var YH=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},XH=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let i=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await s.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const v=await s.text();try{i=JSON.parse(v),Array.isArray(i)&&s.status===404&&(o=[],i=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):i={message:v}}if(i&&r.isMaybeSingle&&(!(i==null||(m=i.details)===null||m===void 0)&&m.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&r.shouldThrowOnError)throw new YH(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(a=a.catch(s=>{var i;let o="";const l=s==null?void 0:s.cause;if(l){var c,u,f,h;const m=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${m}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},ZH=class extends XH{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const aA=new RegExp("[,()]");var Oc=class extends ZH{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&aA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&aA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},JH=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new Oc({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new Oc({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",u.join(","))}}return new Oc({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Oc({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Oc({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},QH=class xI{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new JH(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new xI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),f=n&&Object.values(r).some(u);f?(o="POST",c=r):n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(o="POST",c=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Oc({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class eK{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tK="2.93.1",rK=`realtime-js/${tK}`,nK="1.0.0",yI="2.0.0",sA=yI,Kb=1e4,aK=1e3,sK=100;var ao;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ao||(ao={}));var Pr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Pr||(Pr={}));var cs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(cs||(cs={}));var Gb;(function(e){e.websocket="websocket"})(Gb||(Gb={}));var pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pl||(pl={}));class iK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var a,s;const i=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,i.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,r),Array.from(l,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(i,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(c,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(f,x=>m.setUint8(v++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,o,l]=n;return r({join_ref:a,ref:s,topic:i,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+s));l=l+s;const f=n.decode(t.slice(l,l+i));l=l+i;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class bI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const iA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=oK(i,e,t,a),s),{}):{}},oK=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?wI(s,i):qb(i)},wI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dK(t,r)}switch(e){case bt.bool:return lK(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return cK(t);case bt.json:case bt.jsonb:return uK(t);case bt.timestamp:return fK(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return qb(t);default:return qb(t)}},qb=e=>e,lK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},dK=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>wI(t,o))}return e},fK=e=>typeof e=="string"?e.replace(" ","T"):e,_I=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ry{constructor(t,r,n={},a=Kb){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var oA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(oA||(oA={}));class sf{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=sf.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=sf.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=sf.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const f=s[c];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=u.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(o[c]=m),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,u,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(lA||(lA={}));var of;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(of||(of={}));var oi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class Yc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ry(this,cs.join,this.params,this.timeout),this.rejoinTimer=new bI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Pr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(cs.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new sf(this),this.broadcastEndpointURL=_I(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Pr.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[of.PRESENCE]&&this.bindings[of.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(oi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(oi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<g;b++){const y=v[b],{filter:{event:_,schema:S,table:k,filter:E}}=y,C=p&&p[b];if(C&&C.event===_&&Yc.isFilterValueEqual(C.schema,S)&&Yc.isFilterValueEqual(C.table,k)&&Yc.isFilterValueEqual(C.filter,E))x.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Pr.errored,t==null||t(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(oi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Pr.errored,t==null||t(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Pr.joined&&t===of.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(cs.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Ry(this,cs.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Pr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Ry(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>sK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=cs;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var m,v,g,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:g,commit_timestamp:x,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Pr.closed}_isJoined(){return this.state===Pr.joined}_isJoining(){return this.state===Pr.joining}_isLeaving(){return this.state===Pr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Yc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(cs.close,{},t)}_onError(t){this._on(cs.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Pr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=iA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=iA(t.columns,t.old_record)),r}}const Fy=()=>{},np={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},hK=[1e3,2e3,5e3,1e4],pK=1e4,mK=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kb,this.transport=null,this.heartbeatIntervalMs=np.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fy,this.ref=0,this.reconnectTimer=null,this.vsn=sA,this.logger=Fy,this.conn=null,this.sendBuffer=[],this.serializer=new iK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Gb.websocket}`,this.httpEndpoint=_I(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eK.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ao.connecting:return pl.Connecting;case ao.open:return pl.Open;case ao.closing:return pl.Closing;default:return pl.Closed}}isConnected(){return this.connectionState()===pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Yc(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(aK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},np.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ao.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ao.open||this.conn.readyState===ao.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(cs.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([mK],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:rK};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(cs.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new bI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},np.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,c,u,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Kb,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:np.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Fy,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:sA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>hK[m-1]||pK,this.vsn){case nK:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case yI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zf=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gK(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function xK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:i}){const o=gK(e.baseUrl,n,a),l=await xK(e.auth),c=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...i},body:s?JSON.stringify(s):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&u?JSON.parse(u):u;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new zf((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function ap(e){return e.join("")}var bK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ap(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ap(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ap(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ap(e.namespace)}`}),!0}catch(t){if(t instanceof zf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof zf&&r.status===409)return;throw r}}};function yc(e){return e.join("")}var wK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof zf&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof zf&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_K=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new bK(this.client,t),this.tableOps=new wK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Lg=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function $g(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var sp=class extends Lg{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},kI=class extends Lg{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const kK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yb=e=>{if(Array.isArray(e))return e.map(r=>Yb(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=Yb(n)}),t},EK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Uf(e){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uf(e)}function CK(e,t){if(Uf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TK(e){var t=CK(e,"string");return Uf(t)=="symbol"?t:t+""}function AK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cA(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const uA=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},jK=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new sp(uA(i),s,o,n))}).catch(()=>{if(n==="vectors"){const i=s+"";t(new sp(a.statusText||`HTTP ${s} error`,s,i,n))}else{const i=s+"";t(new sp(a.statusText||`HTTP ${s} error`,s,i,n))}});else{const i=s+"";t(new sp(a.statusText||`HTTP ${s} error`,s,i,n))}}else t(new kI(uA(e),e,n))},PK=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ie(Ie({},a),r):(SK(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ie(Ie({},a),r))};async function Sd(e,t,r,n,a,s,i){return new Promise((o,l)=>{e(r,PK(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(i==="vectors"){const u=c.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>jK(c,l,n,i))})}function NK(e="storage"){return{get:async(t,r,n,a)=>Sd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>Sd(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>Sd(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>Sd(t,"HEAD",r,Ie(Ie({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>Sd(t,"DELETE",r,a,s,n,e)}}const OK=NK("storage"),{get:Vf,post:Mt,put:Xb,head:DK,remove:X2}=OK;var Yu=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=kK(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($g(r))return{data:null,error:r};throw r}}},MK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($g(t))return{data:null,error:t};throw t}}};let SI;SI=Symbol.toStringTag;var IK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[SI]="BlobDownloadBuilder",this.promise=null}asStream(){return new MK(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if($g(t))return{data:null,error:t};throw t}}};const RK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},dA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var FK=class extends Yu{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const i=Ie(Ie({},dA),n);let o=Ie(Ie({},a.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=Ie(Ie({},o),n.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),f=await(e=="PUT"?Xb:Mt)(a.fetch,`${a.url}/object/${u}`,s,Ie({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),a.handleOperation(async()=>{let l;const c=Ie({upsert:dA.upsert},n),u=Ie(Ie({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await Xb(a.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Ie({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await Mt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new Lg("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Mt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Mt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await Mt(n.fetch,`${n.url}/object/sign/${a}`,Ie({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Mt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(i=>Ie(Ie({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${s}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),i=()=>Vf(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new IK(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Yb(await Vf(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await DK(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if($g(n)&&n instanceof kI){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await X2(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Ie(Ie(Ie({},RK),t),{},{prefix:e||""});return await Mt(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ie({},e);return await Mt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const LK="2.93.1",z0={"X-Client-Info":`storage-js/${LK}`};var $K=class extends Yu{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),i=Ie(Ie({},z0),t);super(s,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Vf(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Vf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Mt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Xb(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await X2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},BK=class extends Yu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},z0),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Vf(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await X2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!EK(e))throw new Lg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _K({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const i=a[s];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(a,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},zK=class extends Yu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},z0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Mt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Mt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},UK=class extends Yu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},z0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},VK=class extends Yu{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},z0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Mt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},WK=class extends VK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new HK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},HK=class extends zK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new KK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},KK=class extends UK{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},GK=class extends $K{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new FK(this.url,this.headers,e,this.fetch)}get vectors(){return new WK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new BK(this.url+"/iceberg",this.headers,this.fetch)}};const EI="2.93.1",Dc=30*1e3,Zb=3,Ly=Zb*Dc,qK="http://localhost:9999",YK="supabase.auth.token",XK={"X-Client-Info":`gotrue-js/${EI}`},Jb="X-Supabase-Api-Version",CI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JK=10*60*1e3;class Wf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class QK extends Wf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eG(e){return Pe(e)&&e.name==="AuthApiError"}class ml extends Wf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hi extends Wf{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class fa extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $y(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class bc extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ip extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class op extends Hi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tG(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class fA extends Hi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rG extends Hi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qb extends Hi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function By(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class hA extends Hi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ew extends Hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pA=` 	
\r=`.split(""),nG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<pA.length;t+=1)e[pA[t].charCodeAt(0)]=-2;for(let t=0;t<Gm.length;t+=1)e[Gm[t].charCodeAt(0)]=t;return e})();function mA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Gm[n]),t.queuedBits-=6}}function TI(e,t,r){const n=nG[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function vA(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{iG(i,n,r)};for(let i=0;i<e.length;i+=1)TI(e.charCodeAt(i),a,s);return t.join("")}function aG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function sG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}aG(n,t)}}function iG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function fu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)TI(e.charCodeAt(a),r,n);return new Uint8Array(t)}function oG(e){const t=[];return sG(e,r=>t.push(r)),new Uint8Array(t)}function wl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>mA(a,r,n)),mA(null,r,n),t.join("")}function lG(e){return Math.round(Date.now()/1e3)+e}function cG(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",nl={tested:!1,writable:!1},AI=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nl.tested)return nl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nl.tested=!0,nl.writable=!0}catch{nl.tested=!0,nl.writable=!1}return nl.writable};function uG(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const jI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),dG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Mc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},al=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(e,t)=>{await e.removeItem(t)};class Bg{constructor(){this.promise=new Bg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Bg.promiseConstructor=Promise;function lp(e){const t=e.split(".");if(t.length!==3)throw new ew("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!ZK.test(t[n]))throw new ew("JWT not in base64url format");return{header:JSON.parse(vA(t[0])),payload:JSON.parse(vA(t[1])),signature:fu(t[2]),raw:{header:t[0],payload:t[1]}}}async function fG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hG(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function pG(e){return("0"+e.toString(16)).substr(-2)}function mG(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,pG).join("")}async function vG(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function gG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vG(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wc(e,t,r=!1){const n=mG();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Mc(e,`${t}-code-verifier`,a);const s=await gG(n);return[s,n===s?"plain":"s256"]}const xG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yG(e){const t=e.headers.get(Jb);if(!t||!t.match(xG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _G=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _c(e){if(!_G.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function zy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function gA(e){return JSON.parse(JSON.stringify(e))}const ll=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SG=[502,503,504];async function xA(e){var t;if(!dG(e))throw new Qb(ll(e),0);if(SG.includes(e.status))throw new Qb(ll(e),e.status);let r;try{r=await e.json()}catch(s){throw new ml(ll(s),s)}let n;const a=yG(e);if(a&&a.getTime()>=CI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new hA(ll(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new fa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new hA(ll(r),e.status,r.weak_password.reasons);throw new QK(ll(r),e.status||500,n)}const EG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[Jb]||(s[Jb]=CI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await CG(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function CG(e,t,r,n,a,s){const i=EG(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new Qb(ll(l),0)}if(o.ok||await xA(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await xA(l)}}function ss(e){var t;let r=null;jG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function yA(e){const t=ss(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function co(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TG(e){return{data:e,error:null}}function AG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Fg(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function bA(e){return e}function jG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Uy=["global","local","others"];class PG{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=jI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Uy[0]){if(Uy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Uy.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:co})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Fg(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:AG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:co})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:bA});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){_c(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:co})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_c(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:co})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_c(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:co})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_c(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_c(t.userId),_c(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:bA});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Pe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function wA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const kc={debug:!!(globalThis&&AI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class PI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NG extends PI{}async function OG(e,t,r){kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),kc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw kc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NG(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function DG(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function MG(e){return parseInt(e,16)}function IG(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function RG(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=NI(e.address),m=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}x+=b}return`${g}
${x}`}class kr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class qm extends kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function FG({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(OI(i)){if(s.rp.id!==i)return new kr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function LG({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(OI(n)){if(r.rpId!==n)return new kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $G{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const BG=new $G;function zG(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Fg(e,["challenge","user","excludeCredentials"]),s=fu(t).buffer,i=Object.assign(Object.assign({},r),{id:fu(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:fu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function UG(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Fg(e,["challenge","allowCredentials"]),a=fu(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:fu(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function VG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:wl(new Uint8Array(e.response.attestationObject)),clientDataJSON:wl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WG(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:wl(new Uint8Array(a.authenticatorData)),clientDataJSON:wl(new Uint8Array(a.clientDataJSON)),signature:wl(new Uint8Array(a.signature)),userHandle:a.userHandle?wl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function _A(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function HG(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qm("Browser returned unexpected credential type",t)}:{data:null,error:new qm("Empty credential response",t)}}catch(t){return{data:null,error:FG({error:t,options:e})}}}async function KG(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new qm("Browser returned unexpected credential type",t)}:{data:null,error:new qm("Empty credential response",t)}}catch(t){return{data:null,error:LG({error:t,options:e})}}}const GG={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},qG={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ym(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=Ym(o,i):n[s]=Ym(i)}else n[s]=i}return n}function YG(e,t){return Ym(GG,e,t||{})}function XG(e,t){return Ym(qG,e,t||{})}class ZG{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??BG.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=YG(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:f}=await HG({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=XG(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:f}=await KG(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new ml("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Wf("rpId is required for WebAuthn authentication")};try{if(!_A())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new ml("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Wf("rpId is required for WebAuthn registration")};try{if(!_A())return{data:null,error:new ml("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new ml("Unexpected error in register",i)}}}}DG();const JG={url:qK,storageKey:YK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:XK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function kA(e,t,r){return await r()}const Sc={};class Hf{get jwks(){var t,r;return(r=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Sc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sc[this.storageKey]=Object.assign(Object.assign({},Sc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},JG),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Hf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&sn()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new PG({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jI(s.fetch),this.lock=s.lock||kA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=OG:this.lock=kA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ZG(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:AI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=wA(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${EI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sn()&&(r=uG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tG(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new ml("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:ss}),{data:i,error:o}=s;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await wc(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:ss})}else if("phone"in t){const{phone:u,password:f,options:h}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ss})}else throw new ip("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yA})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:yA})}else throw new ip("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new bc;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,c,u,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let y;if(sn())if(typeof g=="object")y=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=NI(S[0]);let E=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await y.request({method:"eth_chainId"});E=MG(T)}const C={domain:_.host,address:k,statement:x,uri:_.href,version:"1",chainId:E,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=RG(C),m=await y.request({method:"personal_sign",params:[IG(p),k]})}try{const{data:v,error:g}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ss});if(g)throw g;if(!v||!v.session||!v.user){const x=new bc;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Pe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,s,i,o,l,c,u,f,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:b,options:y}=t;let _;if(sn())if(typeof x=="object")_=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:g,error:x}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:wl(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ss});if(x)throw x;if(!g||!g.session||!g.user){const b=new bc;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await al(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new rG;const{data:s,error:i}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ss});if(await nn(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const o=new bc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ss}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new bc;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await wc(this.storage,this.storageKey));const{error:f}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new ip("You must provide either an email or phone number.")}catch(o){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:ss});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await wc(this.storage,this.storageKey));const c=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:TG});return!((s=c.data)===null||s===void 0)&&s.url&&sn()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new fa;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new ip("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ly:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await al(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=zy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=kG(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:co}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fa}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:co})})}catch(r){if(Pe(r))return $y(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new fa;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await wc(this.storage,this.storageKey));const{data:c,error:u}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:co});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fa;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=lp(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new fa;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sn())throw new op("No browser detected.");if(t.error||t.error_description||t.error_code)throw new op(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new fA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new op("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fA("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!i||!c)throw new op("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=Dc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:v,error:g}=await this._getUser(s);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!$y(s))return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(eG(o)&&(o.status===404||o.status===401||o.status===403)||$y(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=cG(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await wc(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:c,nonce:u}=t,f=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:ss}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new bc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hG(async a=>(a>0&&await fG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ss})),(a,s)=>{const i=200*Math.pow(2,a);return s&&By(s)&&Date.now()+i-n<Dc})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await al(this.storage,this.storageKey);if(a&&this.userStorage){let i=await al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Mc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:zy()}else if(a&&!a.user&&!a.user){const i=await al(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await nn(this.storage,this.storageKey+"-user"),await Mc(this.storage,this.storageKey,a)):a.user=zy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ly;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Ly}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),By(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new fa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Bg;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new fa;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Pe(s)){const i={data:null,error:s};return By(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Mc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=gA(a);await Mc(this.storage,this.storageKey,s)}else{const a=gA(r);await Mc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Dc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Dc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Dc}ms, refresh threshold is ${Zb} ticks`),a<=Zb&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof PI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await wc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?VG(t.webauthn.credential_response):WG(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zG(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:UG(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:p}=lp(t);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:g},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(Pe(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=lp(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new fa})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new fa});const i=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new fa});const i=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new fa})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fa})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+JK>a)return n;const{data:s,error:i}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=lp(n);r!=null&&r.allowExpired||bG(s.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const u=wG(a.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,oG(`${o}.${l}`)))throw new ew("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Hf.nextInstanceID={};const QG=Hf,eq="2.93.1";let zd="";typeof Deno<"u"?zd="deno":typeof document<"u"?zd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zd="react-native":zd="node";function tq(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function rq(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function nq(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function aq(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function sq(){const e={"X-Client-Info":`supabase-js-${zd}/${eq}`},t=tq();t&&(e["X-Supabase-Client-Platform"]=t);const r=rq();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=nq();n&&(e["X-Supabase-Client-Runtime"]=n);const a=aq();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const iq=sq(),oq={headers:iq},lq={schema:"public"},cq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uq={};function Kf(e){"@babel/helpers - typeof";return Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kf(e)}function dq(e,t){if(Kf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fq(e){var t=dq(e,"string");return Kf(t)=="symbol"?t:t+""}function hq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const pq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mq=()=>Headers,vq=(e,t,r)=>{const n=pq(r),a=mq();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,tr(tr({},i),{},{headers:c}))}};function gq(e){return e.endsWith("/")?e:e+"/"}function xq(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:tr(tr({},l),a),auth:tr(tr({},c),s),realtime:tr(tr({},u),i),storage:{},global:tr(tr(tr({},f),o),{},{headers:tr(tr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function yq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(gq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bq=class extends QG{constructor(e){super(e)}},wq=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=yq(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:lq,realtime:uq,auth:tr(tr({},cq),{},{storageKey:i}),global:oq},l=xq(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=vq(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(tr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new QH(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new GK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new qH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:i,lock:o,debug:l,throwOnError:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bq({url:this.authUrl.href,headers:tr(tr({},h),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:i,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new vK(this.realtimeUrl.href,tr(tr({},e),{},{params:tr(tr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const _q=(e,t,r)=>new wq(e,t,r);function kq(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}kq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sq="https://mipiwxadnpwtcgfcedym.supabase.co",Eq="sb_publishable_kOxFYyTTDbp9sHMhol9aDQ_SrGUsrmc",ct=_q(Sq,Eq),DI=w.createContext(void 0),Cq=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!0);w.useEffect(()=>{ct.auth.getSession().then(({data:{session:f}})=>{a(f),r((f==null?void 0:f.user)??null),i(!1)});const{data:{subscription:u}}=ct.auth.onAuthStateChange((f,h)=>{a(h),r((h==null?void 0:h.user)??null),i(!1)});return()=>u.unsubscribe()},[]);const o=async u=>{const{error:f}=await ct.auth.signInWithOtp({email:u,options:{emailRedirectTo:window.location.href}});if(f)throw f},l=async()=>{await ct.auth.signOut(),(t==null?void 0:t.id)==="dev-user"&&(r(null),a(null))},c=async()=>{const u={id:"dev-user",aud:"authenticated",role:"authenticated",email:"dev@local.host",email_confirmed_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),last_sign_in_at:new Date().toISOString(),app_metadata:{provider:"email",providers:["email"]},user_metadata:{},identities:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},f={access_token:"mock-token",token_type:"bearer",expires_in:3600,refresh_token:"mock-refresh",user:u};r(u),a(f)};return d.jsx(DI.Provider,{value:{user:t,session:n,loading:s,signInWithEmail:o,signOut:l,signInAsDev:c},children:e})},Z2=()=>{const e=w.useContext(DI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Tq=()=>{const{signInWithEmail:e,signInAsDev:t,loading:r}=Z2(),[n,a]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(null),f=async h=>{h.preventDefault(),i(!0),u(null);try{await e(n),l(!0)}catch(p){u(p.message||"Erro ao enviar email")}finally{i(!1)}};return r?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(Vs,{className:"animate-spin text-blue-500 w-8 h-8"})}):d.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900 p-4",children:d.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx("div",{className:"mb-10 flex flex-col items-center justify-center animate-fade-in select-none",children:d.jsxs("div",{className:"bg-black p-6 rounded-2xl border border-white/10 shadow-2xl flex flex-col items-center justify-center gap-1",children:[d.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent leading-none tracking-tight",children:"GaaS"}),d.jsx("span",{className:"text-sm font-bold text-white tracking-widest uppercase leading-tight opacity-90 pl-0.5",children:"AFINZ"})]})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Login Corporativo"}),d.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Acesse a rea segura para sincronizar dados e gerenciar arquivos na nuvem."}),o?d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 p-6 rounded-xl text-sm border border-emerald-500/20 animate-fade-in text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-emerald-300",children:[d.jsx(dn,{size:18}),d.jsx("span",{children:"Link Enviado!"})]}),d.jsx("p",{className:"mb-2",children:"Enviamos um link de acesso mgico para:"}),d.jsx("code",{className:"block bg-black/20 p-2 rounded text-emerald-200 mb-4 font-mono",children:n}),d.jsx("p",{className:"text-xs opacity-80",children:"Verifique sua caixa de entrada (e spam) e clique no link para entrar."})]}):d.jsxs("form",{onSubmit:f,className:"space-y-5",children:[d.jsxs("div",{className:"text-left group",children:[d.jsxs("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-2 tracking-wider ml-1",children:["Email ",d.jsx("span",{className:"opacity-50",children:"(@afinz.com.br)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(VW,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-blue-400 transition-colors"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-900/50 border border-slate-700 text-white pl-11 pr-4 py-3 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"seu.nome@afinz.com.br",value:n,onChange:h=>a(h.target.value)})]})]}),c&&d.jsxs("div",{className:"text-xs text-red-200 bg-red-500/20 p-3 rounded-lg flex items-center gap-2 border border-red-500/30",children:[d.jsx(Vi,{size:14}),c]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/25 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:s?d.jsx(Vs,{className:"animate-spin w-5 h-5"}):d.jsxs(d.Fragment,{children:["Receber Link de Acesso",d.jsx(L2,{size:18})]})})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:d.jsxs("button",{type:"button",onClick:()=>t(),className:"text-xs font-bold text-slate-500 hover:text-emerald-400 transition-colors uppercase tracking-widest flex items-center justify-center gap-2 mx-auto",children:[d.jsx(QT,{size:14}),"Entrar como Desenvolvedor (Bypass)"]})}),d.jsxs("p",{className:"mt-8 text-xs text-slate-500 flex items-center justify-center gap-1.5 opacity-60",children:[d.jsx(QT,{size:12}),"Ambiente Seguro & Criptografado"]})]})]})})};function MI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=MI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=MI(e))&&(n&&(n+=" "),n+=t);return n}var Aq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function J2(e){if(typeof e!="string")return!1;var t=Aq;return t.includes(e)}var jq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Pq=new Set(jq);function II(e){return typeof e!="string"?!1:Pq.has(e)}function RI(e){return typeof e=="string"&&e.startsWith("data-")}function Gn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(II(r)||RI(r))&&(t[r]=e[r]);return t}function Wl(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return Gn(t)}return typeof e=="object"&&!Array.isArray(e)?Gn(e):null}function vn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(II(r)||RI(r)||J2(r))&&(t[r]=e[r]);return t}function Nq(e){return e==null?null:w.isValidElement(e)?vn(e.props):typeof e=="object"&&!Array.isArray(e)?vn(e):null}var Oq=["children","width","height","viewBox","className","style","title","desc"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(null,arguments)}function Dq(e,t){if(e==null)return{};var r,n,a=Mq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q2=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,u=Dq(e,Oq),f=s||{width:n,height:a,x:0,y:0},h=Ze("recharts-surface",i);return w.createElement("svg",tw({},vn(u),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,l),w.createElement("desc",null,c),r)}),Iq=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(null,arguments)}function Rq(e,t){if(e==null)return{};var r,n,a=Fq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zt=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Rq(e,Iq),s=Ze("recharts-layer",n);return w.createElement("g",rw({className:s},vn(a),{ref:t}),r)}),FI=w.createContext(null),Lq=()=>w.useContext(FI);function wt(e){return function(){return e}}const LI=Math.cos,Xm=Math.sin,ks=Math.sqrt,Zm=Math.PI,zg=2*Zm,nw=Math.PI,aw=2*nw,cl=1e-6,$q=aw-cl;function $I(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Bq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return $I;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class zq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?$I:Bq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,c=a-r,u=i-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>cl)if(!(Math.abs(f*l-c*u)>cl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-o,v=l*l+c*c,g=p*p+m*m,x=Math.sqrt(v),b=Math.sqrt(h),y=s*Math.tan((nw-Math.acos((v+h-g)/(2*x*b)))/2),_=y/b,S=y/x;Math.abs(_-1)>cl&&this._append`L${t+_*u},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>u*m)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>cl||Math.abs(this._y1-u)>cl)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%aw+aw),h>$q?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>cl&&this._append`A${n},${n},0,${+(h>=nw)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function ek(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zq(t)}function tk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BI(e){this._context=e}BI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ug(e){return new BI(e)}function zI(e){return e[0]}function UI(e){return e[1]}function VI(e,t){var r=wt(!0),n=null,a=Ug,s=null,i=ek(o);e=typeof e=="function"?e:e===void 0?zI:wt(e),t=typeof t=="function"?t:t===void 0?UI:wt(t);function o(l){var c,u=(l=tk(l)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,l),+t(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function cp(e,t,r){var n=null,a=wt(!0),s=null,i=Ug,o=null,l=ek(c);e=typeof e=="function"?e:e===void 0?zI:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UI:wt(+r);function c(f){var h,p,m,v=(f=tk(f)).length,g,x=!1,b,y=new Array(v),_=new Array(v);for(s==null&&(o=i(b=l())),h=0;h<=v;++h){if(!(h<v&&a(g=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],_[m]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(g,h,f),_[h]=+t(g,h,f),o.point(n?+n(g,h,f):y[h],r?+r(g,h,f):_[h]))}if(b)return o=null,b+""||null}function u(){return VI().defined(a).curve(i).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:wt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),c):i},c.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),c):s},c}class WI{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Uq(e){return new WI(e,!0)}function Vq(e){return new WI(e,!1)}const rk={draw(e,t){const r=ks(t/Zm);e.moveTo(r,0),e.arc(0,0,r,0,zg)}},Wq={draw(e,t){const r=ks(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HI=ks(1/3),Hq=HI*2,Kq={draw(e,t){const r=ks(t/Hq),n=r*HI;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Gq={draw(e,t){const r=ks(t),n=-r/2;e.rect(n,n,r,r)}},qq=.8908130915292852,KI=Xm(Zm/10)/Xm(7*Zm/10),Yq=Xm(zg/10)*KI,Xq=-LI(zg/10)*KI,Zq={draw(e,t){const r=ks(t*qq),n=Yq*r,a=Xq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=zg*s/5,o=LI(i),l=Xm(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Vy=ks(3),Jq={draw(e,t){const r=-ks(t/(Vy*3));e.moveTo(0,r*2),e.lineTo(-Vy*r,-r),e.lineTo(Vy*r,-r),e.closePath()}},Pa=-.5,Na=ks(3)/2,sw=1/ks(12),Qq=(sw/2+1)*3,eY={draw(e,t){const r=ks(t/Qq),n=r/2,a=r*sw,s=n,i=r*sw+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(Pa*n-Na*a,Na*n+Pa*a),e.lineTo(Pa*s-Na*i,Na*s+Pa*i),e.lineTo(Pa*o-Na*l,Na*o+Pa*l),e.lineTo(Pa*n+Na*a,Pa*a-Na*n),e.lineTo(Pa*s+Na*i,Pa*i-Na*s),e.lineTo(Pa*o+Na*l,Pa*l-Na*o),e.closePath()}};function tY(e,t){let r=null,n=ek(a);e=typeof e=="function"?e:wt(e||rk),t=typeof t=="function"?t:wt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function Jm(){}function Qm(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function GI(e){this._context=e}GI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qm(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rY(e){return new GI(e)}function qI(e){this._context=e}qI.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nY(e){return new qI(e)}function YI(e){this._context=e}YI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qm(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aY(e){return new YI(e)}function XI(e){this._context=e}XI.prototype={areaStart:Jm,areaEnd:Jm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sY(e){return new XI(e)}function EA(e){return e<0?-1:1}function CA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(EA(s)+EA(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function TA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Wy(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function ev(e){this._context=e}ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wy(this,this._t0,TA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Wy(this,TA(this,r=CA(this,e,t)),r);break;default:Wy(this,this._t0,r=CA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function ZI(e){this._context=new JI(e)}(ZI.prototype=Object.create(ev.prototype)).point=function(e,t){ev.prototype.point.call(this,t,e)};function JI(e){this._context=e}JI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function iY(e){return new ev(e)}function oY(e){return new ZI(e)}function QI(e){this._context=e}QI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=AA(e),a=AA(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function AA(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function lY(e){return new QI(e)}function Vg(e,t){this._context=e,this._t=t}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function cY(e){return new Vg(e,.5)}function uY(e){return new Vg(e,0)}function dY(e){return new Vg(e,1)}function ju(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function iw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function fY(e,t){return e[t]}function hY(e){const t=[];return t.key=e,t}function pY(){var e=wt([]),t=iw,r=ju,n=fY;function a(s){var i=Array.from(e.apply(this,arguments),hY),o,l=i.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(i[o][c]=[0,+n(f,i[o].key,c,s)]).data=f;for(o=0,u=tk(t(i));o<l;++o)i[u[o]].index=o;return r(i,u),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?iw:typeof s=="function"?s:wt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??ju,a):r},a}function mY(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}ju(e,t)}}function vY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}ju(e,t)}}function gY(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var v=e[t[m]],g=v[n][1]||0,x=v[n-1][1]||0;p+=g-x}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,ju(e,t)}}var Wg={},e5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(e5);var nk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(nk);var Hg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Hg);var Kg={},t5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(t5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t5,r=Hg;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let o=0,l="",c="",u=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];c?f==="\\"&&o+1<i?(o++,l+=a[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,s.push(l),l=""):l+=f:f==="["?(u=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}e.toPath=n})(Kg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e5,r=nk,n=Hg,a=Kg;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?s(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return i(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function i(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=s})(Wg);var xY=Wg.get;const Hl=Js(xY);var Zr=e=>e===0?0:e>0?1:-1,ca=e=>typeof e=="number"&&e!=+e,Pi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!ca(e),qa=e=>_e(e)||typeof e=="string",yY=0,Gf=e=>{var t=++yY;return"".concat(e||"").concat(t)},Nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return n;var s;if(Pi(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return ca(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},r5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function it(e,t,r){return _e(e)&&_e(t)?e+r*(t-e):t}function n5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Hl(n,t))===r)}var Ot=e=>e===null||typeof e>"u",U0=e=>Ot(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function bY(e){return e!=null}function V0(){}var wY=["type","size","sizeType"];function ow(){return ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ow.apply(null,arguments)}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jA(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=kY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EY(e,t){if(e==null)return{};var r,n,a=CY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a5={symbolCircle:rk,symbolCross:Wq,symbolDiamond:Kq,symbolSquare:Gq,symbolStar:Zq,symbolTriangle:Jq,symbolWye:eY},TY=Math.PI/180,AY=e=>{var t="symbol".concat(U0(e));return a5[t]||rk},jY=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*TY;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PY=(e,t)=>{a5["symbol".concat(U0(e))]=t},ak=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=EY(e,wY),s=PA(PA({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var o=()=>{var h=AY(i),p=tY().type(h).size(jY(r,n,i)),m=p();if(m!==null)return m},{className:l,cx:c,cy:u}=s,f=vn(s);return _e(c)&&_e(u)&&_e(r)?w.createElement("path",ow({},f,{className:Ze("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};ak.registerSymbol=PY;var s5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,sk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{J2(a)&&(n[a]=s=>r[a](r,s))}),n},NY=(e,t,r)=>n=>(e(t,r,n),null),W0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];J2(a)&&typeof s=="function"&&(n||(n={}),n[a]=NY(s,t,r))}),n};function NA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NA(Object(r),!0).forEach(function(n){DY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DY(e,t,r){return(t=MY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MY(e){var t=IY(e,"string");return typeof t=="symbol"?t:t+""}function IY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jt(e,t){var r=OY({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}function tv(){return tv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tv.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RY(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(n){FY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FY(e,t,r){return(t=LY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LY(e){var t=$Y(e,"string");return typeof t=="symbol"?t:t+""}function $Y(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=32,BY={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function zY(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Ia/2,s=Ia/6,i=Ia/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Ia,y2:a,className:"recharts-legend-icon"})}if(l==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Ia,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=RY({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(ak,{fill:o,cx:a,cy:a,size:Ia,sizeType:"diameter",type:l})}function UY(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,o={x:0,y:0,width:Ia,height:Ia},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,p=Ze({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,v=h?h(u.value,u,f):u.value;return w.createElement("li",tv({className:p,style:l,key:"legend-item-".concat(f)},W0(e,u,f)),w.createElement(Q2,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},w.createElement(zY,{data:u,iconType:i,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v))})}var VY=e=>{var t=Jt(e,BY),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(UY,tv({},t,{payload:r})))},i5={},o5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t})(o5);var ik={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(ik);var l5={},Gg={},c5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(c5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=c5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Gg);var u5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(u5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gg,r=u5;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(l5);var d5={},f5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wg;function r(n){return function(a){return t.get(a,n)}}e.property=r})(f5);var h5={},ok={},p5={},lk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(lk);var ck={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(ck);var uk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lk,r=ck,n=uk;function a(u,f,h){return typeof h!="function"?a(u,f,()=>{}):s(u,f,function p(m,v,g,x,b,y){const _=h(m,v,g,x,b,y);return _!==void 0?!!_:s(m,v,p,y)},new Map)}function s(u,f,h,p){if(f===u)return!0;switch(typeof f){case"object":return i(u,f,h,p);case"function":return Object.keys(f).length>0?s(u,{...f},h,p):n.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.eq(u,f)}}function i(u,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(u,f,h,p);if(f instanceof Map)return o(u,f,h,p);if(f instanceof Set)return c(u,f,h,p);const m=Object.keys(f);if(u==null)return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===u;p==null||p.set(f,u);try{for(let v=0;v<m.length;v++){const g=m[v];if(!r.isPrimitive(u)&&!(g in u)||f[g]===void 0&&u[g]!==void 0||f[g]===null&&u[g]!==null||!h(u[g],f[g],g,u,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(u,f,h,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[m,v]of f.entries()){const g=u.get(m);if(h(g,v,m,u,f,p)===!1)return!1}return!0}function l(u,f,h,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const m=new Set;for(let v=0;v<f.length;v++){const g=f[v];let x=!1;for(let b=0;b<u.length;b++){if(m.has(b))continue;const y=u[b];let _=!1;if(h(y,g,v,u,f,p)&&(_=!0),_){m.add(b),x=!0;break}}if(!x)return!1}return!0}function c(u,f,h,p){return f.size===0?!0:u instanceof Set?l([...u],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=c})(p5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p5;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(ok);var m5={},dk={},v5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(v5);var fk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(fk);var hk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",g="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",y="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",j="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=T,e.float64ArrayTag=j,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=y,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=x})(hk);var g5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(g5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v5,r=fk,n=hk,a=ck,s=g5;function i(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,p=new Map,m=void 0){const v=m==null?void 0:m(u,f,h,p);if(v!==void 0)return v;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const g=new Array(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;p.set(u,g);for(const[x,b]of u)g.set(x,o(b,x,h,p,m));return g}if(u instanceof Set){const g=new Set;p.set(u,g);for(const x of u)g.add(o(x,void 0,h,p,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,g),l(g,u,h,p,m),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(typeof Blob<"u"&&u instanceof Blob){const g=new Blob([u],{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Error){const g=new u.constructor;return p.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,l(g,u,h,p,m),g}if(u instanceof Boolean){const g=new Boolean(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Number){const g=new Number(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof String){const g=new String(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(typeof u=="object"&&c(u)){const g=Object.create(Object.getPrototypeOf(u));return p.set(u,g),l(g,u,h,p,m),g}return u}function l(u,f,h=u,p,m){const v=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<v.length;g++){const x=v[g],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=o(f[x],x,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l})(dk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(m5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok,r=m5;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(h5);var x5={},y5={},b5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dk,r=hk;function n(a,s){return t.cloneDeepWith(a,(i,o,l,c)=>{const u=s==null?void 0:s(i,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(b5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b5;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(y5);var w5={},pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(pk);var _5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fk;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(_5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nk,r=pk,n=_5,a=Kg;function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=i;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(w5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ok,r=Hg,n=y5,a=Wg,s=w5;function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=i})(x5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ik,r=f5,n=h5,a=x5;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(d5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o5,r=ik,n=l5,a=d5;function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s})(i5);var WY=i5.uniqBy;const DA=Js(WY);function k5(e,t,r){return t===!0?DA(e,r):typeof t=="function"?DA(e,t):e}var S5={exports:{}},E5={},C5={exports:{}},T5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pu=w;function HY(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KY=typeof Object.is=="function"?Object.is:HY,GY=Pu.useState,qY=Pu.useEffect,YY=Pu.useLayoutEffect,XY=Pu.useDebugValue;function ZY(e,t){var r=t(),n=GY({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return YY(function(){a.value=r,a.getSnapshot=t,Hy(a)&&s({inst:a})},[e,r,t]),qY(function(){return Hy(a)&&s({inst:a}),e(function(){Hy(a)&&s({inst:a})})},[e]),XY(r),r}function Hy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!KY(e,r)}catch{return!0}}function JY(e,t){return t()}var QY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?JY:ZY;T5.useSyncExternalStore=Pu.useSyncExternalStore!==void 0?Pu.useSyncExternalStore:QY;C5.exports=T5;var eX=C5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg=w,tX=eX;function rX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nX=typeof Object.is=="function"?Object.is:rX,aX=tX.useSyncExternalStore,sX=qg.useRef,iX=qg.useEffect,oX=qg.useMemo,lX=qg.useDebugValue;E5.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=sX(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=oX(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,nX(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=aX(e,s[0],s[1]);return iX(function(){i.hasValue=!0,i.value=o},[o]),lX(o),o};S5.exports=E5;var cX=S5.exports,mk=w.createContext(null),uX=e=>e,xt=()=>{var e=w.useContext(mk);return e?e.store.dispatch:uX},lm=()=>{},dX=()=>lm,fX=(e,t)=>e===t;function Se(e){var t=w.useContext(mk);return cX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:dX,t?t.store.getState:lm,t?t.store.getState:lm,t?e:lm,fX)}function hX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function pX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function mX(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var MA=e=>Array.isArray(e)?e:[e];function vX(e){const t=Array.isArray(e[0])?e[0]:e;return mX(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function gX(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var xX=class{constructor(e){this.value=e}deref(){return this.value}},yX=typeof WeakRef<"u"?WeakRef:xX,bX=0,IA=1;function up(){return{s:bX,v:void 0,o:null,p:null}}function A5(e,t={}){let r=up();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=up(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=up(),v.set(m,o)):o=g}}const c=o;let u;if(o.s===IA)u=o.v;else if(u=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,s!==0&&s--),a=typeof u=="object"&&u!==null||typeof u=="function"?new yX(u):u}return c.s=IA,c.v=u,u}return i.clearCache=()=>{r=up(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function wX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),hX(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=A5,argsMemoizeOptions:m=[]}=u,v=MA(h),g=MA(m),x=vX(a),b=f(function(){return s++,c.apply(null,arguments)},...v),y=p(function(){i++;const S=gX(x,arguments);return o=b.apply(null,S),o},...g);return Object.assign(y,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ee=wX(A5),_X=Object.assign((e,t=ee)=>{pX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>_X}),j5={},P5={},N5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r})(N5);var O5={},vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(vk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(O5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5,r=O5,n=Kg;function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,m)=>{let v=p;for(let g=0;g<m.length&&v!=null;++g)v=v[m[g]];return v},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let v=0;v<f.length;v++){const g=t.compareValues(p.criteria[v],m.criteria[v],o[v]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=a})(P5);var D5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?i(u,l+1):a.push(u)}};return i(r,0),a}e.flatten=t})(D5);var gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk,r=Gg,n=lk,a=uk;function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s})(gk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P5,r=D5,n=gk;function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(j5);var kX=j5.sortBy;const Yg=Js(kX);var M5=e=>e.legend.settings,SX=e=>e.legend.size,EX=e=>e.legend.payload,CX=ee([EX,M5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Yg(n,r):n});function TX(){return Se(CX)}var dp=1;function I5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>dp||Math.abs(i.left-t.left)>dp||Math.abs(i.top-t.top)>dp||Math.abs(i.width-t.width)>dp)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function on(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var AX=typeof Symbol=="function"&&Symbol.observable||"@@observable",RA=AX,Ky=()=>Math.random().toString(36).substring(7).split("").join("."),jX={INIT:`@@redux/INIT${Ky()}`,REPLACE:`@@redux/REPLACE${Ky()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ky()}`},rv=jX;function xk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function R5(e,t,r){if(typeof e!="function")throw new Error(on(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(on(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(on(1));return r(R5)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function u(){if(l)throw new Error(on(3));return a}function f(g){if(typeof g!="function")throw new Error(on(4));if(l)throw new Error(on(5));let x=!0;c();const b=o++;return i.set(b,g),function(){if(x){if(l)throw new Error(on(6));x=!1,c(),i.delete(b),s=null}}}function h(g){if(!xk(g))throw new Error(on(7));if(typeof g.type>"u")throw new Error(on(8));if(typeof g.type!="string")throw new Error(on(17));if(l)throw new Error(on(9));try{l=!0,a=n(a,g)}finally{l=!1}return(s=i).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(on(10));n=g,h({type:rv.REPLACE})}function m(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(on(11));function b(){const _=x;_.next&&_.next(u())}return b(),{unsubscribe:g(b)}},[RA](){return this}}}return h({type:rv.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[RA]:m}}function PX(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:rv.INIT})>"u")throw new Error(on(12));if(typeof r(void 0,{type:rv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(on(13))})}function F5(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{PX(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=i[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(on(14));c[f]=m,l=l||m!==p}return l=l||n.length!==Object.keys(i).length,l?c:i}}function nv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function NX(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(on(15))};const i={getState:a.getState,dispatch:(l,...c)=>s(l,...c)},o=e.map(l=>l(i));return s=nv(...o)(a.dispatch),{...a,dispatch:s}}}function L5(e){return xk(e)&&"type"in e&&typeof e.type=="string"}var $5=Symbol.for("immer-nothing"),FA=Symbol.for("immer-draftable"),qn=Symbol.for("immer-state");function ds(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ba=Object,Nu=ba.getPrototypeOf,av="constructor",Xg="prototype",lw="configurable",sv="enumerable",cm="writable",qf="value",Ni=e=>!!e&&!!e[qn];function Ws(e){var t;return e?B5(e)||Zg(e)||!!e[FA]||!!((t=e[av])!=null&&t[FA])||Jg(e)||Qg(e):!1}var OX=ba[Xg][av].toString(),LA=new WeakMap;function B5(e){if(!e||!yk(e))return!1;const t=Nu(e);if(t===null||t===ba[Xg])return!0;const r=ba.hasOwnProperty.call(t,av)&&t[av];if(r===Object)return!0;if(!Ic(r))return!1;let n=LA.get(r);return n===void 0&&(n=Function.toString.call(r),LA.set(r,n)),n===OX}function H0(e,t,r=!0){K0(e)===0?(r?Reflect.ownKeys(e):ba.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function K0(e){const t=e[qn];return t?t.type_:Zg(e)?1:Jg(e)?2:Qg(e)?3:0}var $A=(e,t,r=K0(e))=>r===2?e.has(t):ba[Xg].hasOwnProperty.call(e,t),cw=(e,t,r=K0(e))=>r===2?e.get(t):e[t],iv=(e,t,r,n=K0(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function DX(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Zg=Array.isArray,Jg=e=>e instanceof Map,Qg=e=>e instanceof Set,yk=e=>typeof e=="object",Ic=e=>typeof e=="function",Gy=e=>typeof e=="boolean",ci=e=>e.copy_||e.base_,bk=e=>e.modified_?e.copy_:e.base_;function uw(e,t){if(Jg(e))return new Map(e);if(Qg(e))return new Set(e);if(Zg(e))return Array[Xg].slice.call(e);const r=B5(e);if(t===!0||t==="class_only"&&!r){const n=ba.getOwnPropertyDescriptors(e);delete n[qn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o[cm]===!1&&(o[cm]=!0,o[lw]=!0),(o.get||o.set)&&(n[i]={[lw]:!0,[cm]:!0,[sv]:o[sv],[qf]:e[i]})}return ba.create(Nu(e),n)}else{const n=Nu(e);if(n!==null&&r)return{...e};const a=ba.create(n);return ba.assign(a,e)}}function wk(e,t=!1){return ex(e)||Ni(e)||(K0(e)>1&&ba.defineProperties(e,{set:fp,add:fp,clear:fp,delete:fp}),ba.freeze(e),t&&H0(e,(r,n)=>{wk(n,!0)},!1)),e}function MX(){ds(2)}var fp={[qf]:MX};function ex(e){return e===null||!yk(e)?!0:ba.isFrozen(e)}var ov="MapSet",dw="Patches",z5={};function Ou(e){const t=z5[e];return t||ds(0,e),t}var IX=e=>!!z5[e],Yf,U5=()=>Yf,RX=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IX(ov)?Ou(ov):void 0});function BA(e,t){t&&(e.patchPlugin_=Ou(dw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function fw(e){hw(e),e.drafts_.forEach(FX),e.drafts_=null}function hw(e){e===Yf&&(Yf=e.parent_)}var zA=e=>Yf=RX(Yf,e);function FX(e){const t=e[qn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function UA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[qn].modified_&&(fw(t),ds(4)),Ws(e)&&(e=VA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[qn].base_,e,t)}else e=VA(t,r);return LX(t,e,!0),fw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==$5?e:void 0}function VA(e,t){if(ex(t))return t;const r=t[qn];if(!r)return _k(t,e.handledSet_,e);if(!tx(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);H5(r,e)}return r.copy_}function LX(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wk(t,r)}function V5(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var tx=(e,t)=>e.scope_===t,$X=[];function W5(e,t,r,n){const a=ci(e),s=e.type_;if(n!==void 0&&cw(a,n,s)===t){iv(a,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;H0(a,(l,c)=>{if(Ni(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const i=e.draftLocations_.get(t)??$X;for(const o of i)iv(a,o,r,s)}function BX(e,t,r){e.callbacks_.push(function(a){var o;const s=t;if(!s||!tx(s,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(s);const i=bk(s);W5(e,s.draft_??s,i,r),H5(s,a)})}function H5(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}V5(e)}}function zX(e,t,r){const{scope_:n}=e;if(Ni(r)){const a=r[qn];tx(a,n)&&a.callbacks_.push(function(){um(e);const i=bk(a);W5(e,r,i,t)})}else Ws(r)&&e.callbacks_.push(function(){const s=ci(e);cw(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&_k(cw(e.copy_,t,e.type_),n.handledSet_,n)})}function _k(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ni(e)||t.has(e)||!Ws(e)||ex(e)||(t.add(e),H0(e,(n,a)=>{if(Ni(a)){const s=a[qn];if(tx(s,r)){const i=bk(s);iv(e,n,i,e.type_),V5(s)}}else Ws(a)&&_k(a,t,r)})),e}function UX(e,t){const r=Zg(e),n={type_:r?1:0,scope_:t?t.scope_:U5(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=kk;r&&(a=[n],s=Xf);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}var kk={get(e,t){if(t===qn)return e;const r=ci(e);if(!$A(r,t,e.type_))return VX(e,r,t);const n=r[t];if(e.finalized_||!Ws(n))return n;if(n===qy(e.base_,t)){um(e);const a=e.type_===1?+t:t,s=mw(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in ci(e)},ownKeys(e){return Reflect.ownKeys(ci(e))},set(e,t,r){const n=K5(ci(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=qy(ci(e),t),s=a==null?void 0:a[qn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(DX(r,a)&&(r!==void 0||$A(e.base_,t,e.type_)))return!0;um(e),pw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),zX(e,t,r)),!0},deleteProperty(e,t){return um(e),qy(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),pw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ci(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[cm]:!0,[lw]:e.type_!==1||t!=="length",[sv]:n[sv],[qf]:r[t]}},defineProperty(){ds(11)},getPrototypeOf(e){return Nu(e.base_)},setPrototypeOf(){ds(12)}},Xf={};H0(kk,(e,t)=>{Xf[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});Xf.deleteProperty=function(e,t){return Xf.set.call(this,e,t,void 0)};Xf.set=function(e,t,r){return kk.set.call(this,e[0],t,r,e[0])};function qy(e,t){const r=e[qn];return(r?ci(r):e)[t]}function VX(e,t,r){var a;const n=K5(t,r);return n?qf in n?n[qf]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function K5(e,t){if(!(t in e))return;let r=Nu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Nu(r)}}function pw(e){e.modified_||(e.modified_=!0,e.parent_&&pw(e.parent_))}function um(e){e.copy_||(e.assigned_=new Map,e.copy_=uw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var WX=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Ic(r)&&!Ic(n)){const i=n;n=r;const o=this;return function(c=i,...u){return o.produce(c,f=>n.call(this,f,...u))}}Ic(n)||ds(6),a!==void 0&&!Ic(a)&&ds(7);let s;if(Ws(r)){const i=zA(this),o=mw(i,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?fw(i):hw(i)}return BA(i,a),UA(s,i)}else if(!r||!yk(r)){if(s=n(r),s===void 0&&(s=r),s===$5&&(s=void 0),this.autoFreeze_&&wk(s,!0),a){const i=[],o=[];Ou(dw).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:o}),a(i,o)}return s}else ds(1,r)},this.produceWithPatches=(r,n)=>{if(Ic(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let a,s;return[this.produce(r,n,(o,l)=>{a=o,s=l}),a,s]},Gy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Gy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Gy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ws(t)||ds(8),Ni(t)&&(t=bs(t));const r=zA(this),n=mw(r,t,void 0);return n[qn].isManual_=!0,hw(r),n}finishDraft(t,r){const n=t&&t[qn];(!n||!n.isManual_)&&ds(9);const{scope_:a}=n;return BA(a,r),UA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Ou(dw).applyPatches_;return Ni(t)?a(t,r):this.produce(t,s=>a(s,r))}};function mw(e,t,r,n){const[a,s]=Jg(t)?Ou(ov).proxyMap_(t,r):Qg(t)?Ou(ov).proxySet_(t,r):UX(t,r);return((r==null?void 0:r.scope_)??U5()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?BX(r,s,n):s.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),a}function bs(e){return Ni(e)||ds(10,e),G5(e)}function G5(e){if(!Ws(e)||ex(e))return e;const t=e[qn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=uw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=uw(e,!0);return H0(r,(a,s)=>{iv(r,a,G5(s))},n),t&&(t.finalized_=!1),r}var HX=new WX,q5=HX.produce;function Y5(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var KX=Y5(),GX=Y5,qX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nv:nv.apply(null,arguments)};function Ya(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(_a(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>L5(n)&&n.type===e,r}var X5=class Ud extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Ud.prototype)}static get[Symbol.species](){return Ud}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Ud(...t[0].concat(this)):new Ud(...t.concat(this))}};function WA(e){return Ws(e)?q5(e,()=>{}):e}function hp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function YX(e){return typeof e=="boolean"}var XX=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new X5;return r&&(YX(r)?i.push(KX):i.push(GX(r.extraArgument))),i},Z5="RTK_autoBatch",Dt=()=>e=>({payload:e,meta:{[Z5]:!0}}),HA=e=>t=>{setTimeout(t,e)},J5=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:HA(10):e.type==="callback"?e.queueNotification:HA(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[Z5]),s=!a,s&&(i||(i=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},ZX=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new X5(e);return n&&a.push(J5(typeof n=="object"?n:void 0)),a};function JX(e){const t=XX(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(xk(r))o=F5(r);else throw new Error(_a(1));let l;typeof n=="function"?l=n(t):l=t();let c=nv;a&&(c=qX({trace:!1,...typeof a=="object"&&a}));const u=NX(...l),f=ZX(u);let h=typeof i=="function"?i(f):f();const p=c(...h);return R5(o,s,p)}function Q5(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(_a(28));if(o in t)throw new Error(_a(29));return t[o]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function QX(e){return typeof e=="function"}function eZ(e,t){let[r,n,a]=Q5(t),s;if(QX(e))s=()=>WA(e());else{const o=WA(e);s=()=>o}function i(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(Ni(u)){const p=f(u,l);return p===void 0?u:p}else{if(Ws(u))return q5(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return i.getInitialState=s,i}var tZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",rZ=(e=21)=>{let t="",r=e;for(;r--;)t+=tZ[Math.random()*64|0];return t},nZ=Symbol.for("rtk-slice-createasyncthunk");function aZ(e,t){return`${e}/${t}`}function sZ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[nZ];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(_a(11));const o=(typeof a.reducers=="function"?a.reducers(oZ()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,S){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(_a(12));if(k in c.sliceCaseReducersByType)throw new Error(_a(13));return c.sliceCaseReducersByType[k]=S,u},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),u},exposeAction(_,S){return c.actionCreators[_]=S,u},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,u}};l.forEach(_=>{const S=o[_],k={reducerName:_,type:aZ(s,_),createNotation:typeof a.reducers=="function"};cZ(S)?dZ(k,S,u,t):lZ(k,S,u)});function f(){const[_={},S=[],k=void 0]=typeof a.extraReducers=="function"?Q5(a.extraReducers):[a.extraReducers],E={..._,...c.sliceCaseReducersByType};return eZ(a.initialState,C=>{for(let T in E)C.addCase(T,E[T]);for(let T of c.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of S)C.addMatcher(T.matcher,T.reducer);k&&C.addDefaultCase(k)})}const h=_=>_,p=new Map,m=new WeakMap;let v;function g(_,S){return v||(v=f()),v(_,S)}function x(){return v||(v=f()),v.getInitialState()}function b(_,S=!1){function k(C){let T=C[_];return typeof T>"u"&&S&&(T=hp(m,k,x)),T}function E(C=h){const T=hp(p,S,()=>new WeakMap);return hp(T,C,()=>{const j={};for(const[P,A]of Object.entries(a.selectors??{}))j[P]=iZ(A,C,()=>hp(m,C,x),S);return j})}return{reducerPath:_,getSelectors:E,get selectors(){return E(k)},selectSlice:k}}const y={name:s,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(_,{reducerPath:S,...k}={}){const E=S??i;return _.inject({reducerPath:E,reducer:g},k),{...y,...b(E,!0)}}};return y}}function iZ(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var ua=sZ();function oZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function lZ({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!uZ(n))throw new Error(_a(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Ya(e,i):Ya(e))}function cZ(e){return e._reducerDefinitionType==="asyncThunk"}function uZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function dZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(_a(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,s,u);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:i||pp,pending:o||pp,rejected:l||pp,settled:c||pp})}function pp(){}var fZ="task",eR="listener",tR="completed",Sk="cancelled",hZ=`task-${Sk}`,pZ=`task-${tR}`,vw=`${eR}-${Sk}`,mZ=`${eR}-${tR}`,rx=class{constructor(e){ly(this,"name","TaskAbortError");ly(this,"message");this.code=e,this.message=`${fZ} ${Sk} (reason: ${e})`}},Ek=(e,t)=>{if(typeof e!="function")throw new TypeError(_a(32))},lv=()=>{},rR=(e,t=lv)=>(e.catch(t),e),nR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Pl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Nl=e=>{if(e.aborted){const{reason:t}=e;throw new rx(t)}};function aR(e,t){let r=lv;return new Promise((n,a)=>{const s=()=>a(new rx(e.reason));if(e.aborted){s();return}r=nR(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=lv})}var vZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rx?"cancelled":"rejected",error:r}}finally{t==null||t()}},cv=e=>t=>rR(aR(e,t).then(r=>(Nl(e),r))),sR=e=>{const t=cv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hu}=Object,KA={},nx="listenerMiddleware",gZ=(e,t)=>{const r=n=>nR(e,()=>Pl(n,e.reason));return(n,a)=>{Ek(n);const s=new AbortController;r(s);const i=vZ(async()=>{Nl(e),Nl(s.signal);const o=await n({pause:cv(s.signal),delay:sR(s.signal),signal:s.signal});return Nl(s.signal),o},()=>Pl(s,pZ));return a!=null&&a.autoJoin&&t.push(i.catch(lv)),{result:cv(e)(i),cancel(){Pl(s,hZ)}}}},xZ=(e,t)=>{const r=async(n,a)=>{Nl(t);let s=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await aR(t,Promise.race(o));return Nl(t),l}finally{s()}};return(n,a)=>rR(r(n,a))},iR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Ya(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(_a(21));return Ek(s),{predicate:a,type:t,effect:s}},oR=hu(e=>{const{type:t,predicate:r,effect:n}=iR(e);return{id:rZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(_a(22))}}},{withTypes:()=>oR}),GA=(e,t)=>{const{type:r,effect:n,predicate:a}=iR(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},gw=e=>{e.pending.forEach(t=>{Pl(t,vw)})},yZ=(e,t)=>()=>{for(const r of t.keys())gw(r);e.clear()},qA=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},lR=hu(Ya(`${nx}/add`),{withTypes:()=>lR}),bZ=Ya(`${nx}/removeAll`),cR=hu(Ya(`${nx}/remove`),{withTypes:()=>cR}),wZ=(...e)=>{console.error(`${nx}/error`,...e)},G0=(e={})=>{const t=new Map,r=new Map,n=p=>{const m=r.get(p)??0;r.set(p,m+1)},a=p=>{const m=r.get(p)??1;m===1?r.delete(p):r.set(p,m-1)},{extra:s,onError:i=wZ}=e;Ek(i);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&gw(p)}),l=p=>{const m=GA(t,p)??oR(p);return o(m)};hu(l,{withTypes:()=>l});const c=p=>{const m=GA(t,p);return m&&(m.unsubscribe(),p.cancelActive&&gw(m)),!!m};hu(c,{withTypes:()=>c});const u=async(p,m,v,g)=>{const x=new AbortController,b=xZ(l,x.signal),y=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(m,hu({},v,{getOriginalState:g,condition:(_,S)=>b(_,S).then(Boolean),take:b,delay:sR(x.signal),pause:cv(x.signal),extra:s,signal:x.signal,fork:gZ(x.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,S,k)=>{_!==x&&(Pl(_,vw),k.delete(_))})},cancel:()=>{Pl(x,vw),p.pending.delete(x)},throwIfCancelled:()=>{Nl(x.signal)}})))}catch(_){_ instanceof rx||qA(i,_,{raisedBy:"effect"})}finally{await Promise.all(y),Pl(x,mZ),a(p),p.pending.delete(x)}},f=yZ(t,r);return{middleware:p=>m=>v=>{if(!L5(v))return m(v);if(lR.match(v))return l(v.payload);if(bZ.match(v)){f();return}if(cR.match(v))return c(v.payload);let g=p.getState();const x=()=>{if(g===KA)throw new Error(_a(23));return g};let b;try{if(b=m(v),t.size>0){const y=p.getState(),_=Array.from(t.values());for(const S of _){let k=!1;try{k=S.predicate(v,y,g)}catch(E){k=!1,qA(i,E,{raisedBy:"predicate"})}k&&u(S,v,p,x)}}}finally{g=KA}return b},startListening:l,stopListening:c,clearListeners:f}};function _a(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var _Z={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uR=ua({name:"chartLayout",initialState:_Z,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:kZ,setLayout:SZ,setChartSize:EZ,setScale:CZ}=uR.actions,TZ=uR.reducer;function dR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function YA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(r),!0).forEach(function(n){AZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AZ(e,t,r){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ut(e,t,r){return Ot(e)||Ot(t)?r:qa(t)?Hl(e,t,r):typeof t=="function"?t(e):r}var NZ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&_e(e[s]))return Xc(Xc({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&_e(e[i]))return Xc(Xc({},e),{},{[i]:e[i]+(a||0)})}return e},Qs=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",fR=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},hR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var m=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=a==="category"&&i.bandwidth?i.bandwidth()/m:0;if(v=p==="angleAxis"&&s&&s.length>=2?Zr(s[0]-s[1])*2*v:v,f||h){var g=(f||h||[]).map((x,b)=>{var y=n?n.indexOf(x):x;return{coordinate:i(y)+v,value:x,offset:v,index:b}});return g.filter(x=>!ca(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:i(x)+v,value:x,index:b,offset:v})):i.ticks&&u!=null?i.ticks(u).map((x,b)=>({coordinate:i(x)+v,value:x,offset:v,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+v,value:n?n[x]:x,index:b,offset:v}))},XA=1e-4,OZ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-XA,s=Math.max(n[0],n[1])+XA,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},DZ=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(a[0]=r),(!_e(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},MZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=ca(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},IZ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=ca(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},RZ={sign:MZ,expand:mY,none:ju,silhouette:vY,wiggle:gY,positive:IZ},FZ=(e,t,r)=>{var n=RZ[r],a=pY().keys(t).value((s,i)=>Number(ut(s,i,0))).order(iw).offset(n);return a(e)};function pR(e){return e==null?void 0:String(e)}function uv(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ot(a[t.dataKey])){var o=n5(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=ut(a,Ot(i)?t.dataKey:i);return Ot(l)?null:t.scale(l)}var ZA=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=ut(s,t.dataKey,t.scale.domain()[i]);return Ot(o)?null:t.scale(o)-a/2+n},LZ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},$Z=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},BZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],zZ=(e,t,r)=>{if(e!=null)return BZ(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,c)=>{var u=dR(c,t,r),f=$Z(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},JA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Do=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Yg(t,u=>u.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function ej(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Xc(Xc({},t),{},{dataKey:r,payload:n,value:a,name:s})}function Ho(e,t){if(e)return String(e);if(typeof t=="string")return t}var UZ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},VZ=(e,t)=>t==="centric"?e.angle:e.radius,Ki=e=>e.layout.width,Gi=e=>e.layout.height,WZ=e=>e.layout.scale,mR=e=>e.layout.margin,ax=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),sx=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),vR="data-recharts-item-index",gR="data-recharts-item-data-key",q0=60;function tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tj(Object(r),!0).forEach(function(n){HZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qZ=e=>e.brush.height;function YZ(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:q0;return r+a}return r},0)}function XZ(e){var t=sx(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:q0;return r+a}return r},0)}function ZZ(e){var t=ax(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function JZ(e){var t=ax(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var $r=ee([Ki,Gi,mR,qZ,YZ,XZ,ZZ,JZ,M5,SX],(e,t,r,n,a,s,i,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+o},h=mp(mp({},f),u),p=h.bottom;h.bottom+=n,h=NZ(h,l,c);var m=e-h.left-h.right,v=t-h.top-h.bottom;return mp(mp({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(v,0)})}),QZ=ee($r,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Ck=ee(Ki,Gi,(e,t)=>({x:0,y:0,width:e,height:t})),eJ=w.createContext(null),Br=()=>w.useContext(eJ)!=null,ix=e=>e.brush,ox=ee([ix,$r,mR],(e,t,r)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:_e(e.width)?e.width:t.width})),xR={},yR={},bR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{c&&u(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{m(),i=void 0,o=null},g=()=>{u()},x=function(...b){if(a!=null&&a.aborted)return;i=this,o=b;const y=h==null;p(),l&&y&&u()};return x.schedule=p,x.cancel=v,x.flush=g,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(bR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bR;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);i&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...v){u=n.apply(this,v),f=null},a,{edges:c}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(yR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yR;function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r})(xR);var tJ=xR.throttle;const rJ=Js(tJ);var dv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},wR=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=Pi(n)?e:Number(n),l=Pi(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&l!=null&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},nJ={width:0,height:0,overflow:"visible"},aJ={width:0,overflowX:"visible"},sJ={height:0,overflowY:"visible"},iJ={},oJ=e=>{var{width:t,height:r}=e,n=Pi(t),a=Pi(r);return n&&a?nJ:n?aJ:a?sJ:iJ};function lJ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function dt(e){return Number.isFinite(e)}function Hs(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rj(Object(r),!0).forEach(function(n){cJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cJ(e,t,r){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _R=w.createContext({width:-1,height:-1});function fJ(e){return Hs(e.width)&&Hs(e.height)}function kR(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return fJ(a)?w.createElement(_R.Provider,{value:a},t):null}var Tk=()=>w.useContext(_R),hJ=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,v=w.useRef(null),g=w.useRef();g.current=p,w.useImperativeHandle(t,()=>v.current);var[x,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),y=w.useCallback((C,T)=>{b(j=>{var P=Math.round(C),A=Math.round(T);return j.containerWidth===P&&j.containerHeight===A?j:{containerWidth:P,containerHeight:A}})},[]);w.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return V0;var C=A=>{var N,{width:F,height:B}=A[0].contentRect;y(F,B),(N=g.current)===null||N===void 0||N.call(g,F,B)};u>0&&(C=rJ(C,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(C),{width:j,height:P}=v.current.getBoundingClientRect();return y(j,P),T.observe(v.current),()=>{T.disconnect()}},[y,u]);var{containerWidth:_,containerHeight:S}=x;dv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:E}=wR(_,S,{width:a,height:s,aspect:r,maxHeight:l});return dv(k!=null&&k>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,a,s,i,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:Ze("recharts-responsive-container",h),style:nj(nj({},m),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:v},w.createElement("div",{style:oJ({width:a,height:s})},w.createElement(kR,{width:k,height:E},c)))}),or=w.forwardRef((e,t)=>{var r=Tk();if(Hs(r.width)&&Hs(r.height))return e.children;var{width:n,height:a}=lJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=wR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return _e(s)&&_e(i)?w.createElement(kR,{width:s,height:i},e.children):w.createElement(hJ,xw({},e,{width:n,height:a,ref:t}))});function SR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Y0=()=>{var e,t=Br(),r=Se(QZ),n=Se(ox),a=(e=Se(ix))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},pJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ER=()=>{var e;return(e=Se($r))!==null&&e!==void 0?e:pJ},Ak=()=>Se(Ki),jk=()=>Se(Gi),mJ=()=>Se(e=>e.layout.margin),He=e=>e.layout.layoutType,ic=()=>Se(He),vJ=()=>{var e=ic();if(e==="horizontal"||e==="vertical")return e},gJ=()=>{var e=ic();return e!==void 0},lx=e=>{var t=xt(),r=Br(),{width:n,height:a}=e,s=Tk(),i=n,o=a;return s&&(i=s.width>0?s.width:n,o=s.height>0?s.height:a),w.useEffect(()=>{!r&&Hs(i)&&Hs(o)&&t(EZ({width:i,height:o}))},[t,r,i,o]),null},CR=Symbol.for("immer-nothing"),aj=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function fs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Zf=Object.getPrototypeOf;function Du(e){return!!e&&!!e[Ea]}function Kl(e){var t;return e?TR(e)||Array.isArray(e)||!!e[aj]||!!((t=e.constructor)!=null&&t[aj])||X0(e)||ux(e):!1}var xJ=Object.prototype.constructor.toString(),sj=new WeakMap;function TR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=sj.get(r);return n===void 0&&(n=Function.toString.call(r),sj.set(r,n)),n===xJ}function fv(e,t,r=!0){cx(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cx(e){const t=e[Ea];return t?t.type_:Array.isArray(e)?1:X0(e)?2:ux(e)?3:0}function yw(e,t){return cx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function AR(e,t,r){const n=cx(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function yJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function X0(e){return e instanceof Map}function ux(e){return e instanceof Set}function ul(e){return e.copy_||e.base_}function bw(e,t){if(X0(e))return new Map(e);if(ux(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=TR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ea];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Zf(e),n)}else{const n=Zf(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Pk(e,t=!1){return dx(e)||Du(e)||!Kl(e)||(cx(e)>1&&Object.defineProperties(e,{set:vp,add:vp,clear:vp,delete:vp}),Object.freeze(e),t&&Object.values(e).forEach(r=>Pk(r,!0))),e}function bJ(){fs(2)}var vp={value:bJ};function dx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var wJ={};function Gl(e){const t=wJ[e];return t||fs(0,e),t}var Jf;function jR(){return Jf}function _J(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ij(e,t){t&&(Gl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ww(e){_w(e),e.drafts_.forEach(kJ),e.drafts_=null}function _w(e){e===Jf&&(Jf=e.parent_)}function oj(e){return Jf=_J(Jf,e)}function kJ(e){const t=e[Ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ea].modified_&&(ww(t),fs(4)),Kl(e)&&(e=hv(t,e),t.parent_||pv(t,e)),t.patches_&&Gl("Patches").generateReplacementPatches_(r[Ea].base_,e,t.patches_,t.inversePatches_)):e=hv(t,r,[]),ww(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==CR?e:void 0}function hv(e,t,r){if(dx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ea];if(!a)return fv(t,(s,i)=>cj(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return pv(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),fv(i,(l,c)=>cj(e,a,s,l,c,r,o),n),pv(e,s,!1),r&&e.patches_&&Gl("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function cj(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const o=dx(a);if(!(o&&!i)){if(Du(a)){const l=s&&t&&t.type_!==3&&!yw(t.assigned_,n)?s.concat(n):void 0,c=hv(e,a,l);if(AR(r,n,c),Du(c))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Kl(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;hv(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(X0(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&pv(e,a)}}}function pv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Pk(t,r)}function SJ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:jR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Nk;r&&(a=[n],s=Qf);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var Nk={get(e,t){if(t===Ea)return e;const r=ul(e);if(!yw(r,t))return EJ(e,r,t);const n=r[t];return e.finalized_||!Kl(n)?n:n===Yy(e.base_,t)?(Xy(e),e.copy_[t]=Sw(n,e)):n},has(e,t){return t in ul(e)},ownKeys(e){return Reflect.ownKeys(ul(e))},set(e,t,r){const n=PR(ul(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Yy(ul(e),t),s=a==null?void 0:a[Ea];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(yJ(r,a)&&(r!==void 0||yw(e.base_,t)))return!0;Xy(e),kw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Yy(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Xy(e),kw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ul(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){fs(11)},getPrototypeOf(e){return Zf(e.base_)},setPrototypeOf(){fs(12)}},Qf={};fv(Nk,(e,t)=>{Qf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Qf.deleteProperty=function(e,t){return Qf.set.call(this,e,t,void 0)};Qf.set=function(e,t,r){return Nk.set.call(this,e[0],t,r,e[0])};function Yy(e,t){const r=e[Ea];return(r?ul(r):e)[t]}function EJ(e,t,r){var a;const n=PR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function PR(e,t){if(!(t in e))return;let r=Zf(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Zf(r)}}function kw(e){e.modified_||(e.modified_=!0,e.parent_&&kw(e.parent_))}function Xy(e){e.copy_||(e.copy_=bw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var CJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...c){return i.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&fs(6),n!==void 0&&typeof n!="function"&&fs(7);let a;if(Kl(t)){const s=oj(this),i=Sw(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?ww(s):_w(s)}return ij(s,n),lj(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===CR&&(a=void 0),this.autoFreeze_&&Pk(a,!0),n){const s=[],i=[];Gl("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else fs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Kl(e)||fs(8),Du(e)&&(e=TJ(e));const t=oj(this),r=Sw(e,void 0);return r[Ea].isManual_=!0,_w(t),r}finishDraft(e,t){const r=e&&e[Ea];(!r||!r.isManual_)&&fs(9);const{scope_:n}=r;return ij(n,t),lj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Gl("Patches").applyPatches_;return Du(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Sw(e,t){const r=X0(e)?Gl("MapSet").proxyMap_(e,t):ux(e)?Gl("MapSet").proxySet_(e,t):SJ(e,t);return(t?t.scope_:jR()).drafts_.push(r),r}function TJ(e){return Du(e)||fs(10,e),NR(e)}function NR(e){if(!Kl(e)||dx(e))return e;const t=e[Ea];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=bw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=bw(e,!0);return fv(r,(a,s)=>{AR(r,a,NR(s))},n),t&&(t.finalized_=!1),r}var AJ=new CJ;AJ.produce;var jJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},OR=ua({name:"legend",initialState:jJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Dt()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bs(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Dt()},removeLegendPayload:{reducer(e,t){var r=bs(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Dt()}}}),{setLegendSize:uj,setLegendSettings:PJ,addLegendPayload:DR,replaceLegendPayload:MR,removeLegendPayload:IR}=OR.actions,NJ=OR.reducer,OJ=["contextPayload"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ew.apply(null,arguments)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RJ(e,t){if(e==null)return{};var r,n,a=FJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function FJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function LJ(e){return e.value}function $J(e){var{contextPayload:t}=e,r=RJ(e,OJ),n=k5(t,e.payloadUniqBy,LJ),a=Mu(Mu({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(VY,a)}function BJ(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-s.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Mu(Mu({},c),u)}function zJ(e){var t=xt();return w.useEffect(()=>{t(PJ(e))},[t,e]),null}function UJ(e){var t=xt();return w.useEffect(()=>(t(uj(e)),()=>{t(uj({width:0,height:0}))}),[t,e]),null}function VJ(e,t,r,n){return e==="vertical"&&_e(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var WJ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Tn(e){var t=Jt(e,WJ),r=TX(),n=Lq(),a=mJ(),{width:s,height:i,wrapperStyle:o,portal:l}=t,[c,u]=I5([r]),f=Ak(),h=jk();if(f==null||h==null)return null;var p=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),m=VJ(t.layout,i,s,p),v=l?o:Mu(Mu({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},BJ(o,t,a,f,h,c)),o),g=l??n;if(g==null||r==null)return null;var x=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},w.createElement(zJ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&w.createElement(UJ,{width:c.width,height:c.height}),w.createElement($J,Ew({},t,m,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return M0.createPortal(x,g)}Tn.displayName="Legend";function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cw.apply(null,arguments)}function fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fj(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=KJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qJ(e){return Array.isArray(e)&&qa(e[0])&&qa(e[1])?e.join(" ~ "):e}var YJ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var S={padding:0,margin:0},k=(o?Yg(s,o):s).map((E,C)=>{if(E.type==="none")return null;var T=E.formatter||i||qJ,{value:j,name:P}=E,A=j,N=P;if(T){var F=T(j,P,E,C,s);if(Array.isArray(F))[A,N]=F;else if(F!=null)A=F;else return null}var B=Zy({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:B},qa(N)?w.createElement("span",{className:"recharts-tooltip-item-name"},N):null,qa(N)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},A),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},m=Zy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=Zy({margin:0},a),g=!Ot(u),x=g?u:"",b=Ze("recharts-default-tooltip",l),y=Ze("recharts-tooltip-label",c);g&&f&&s!==void 0&&s!==null&&(x=f(u,s));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Cw({className:b,style:m},_),w.createElement("p",{className:y,style:v},w.isValidElement(x)?x:"".concat(x)),p())},Ed="recharts-tooltip-wrapper",XJ={visibility:"hidden"};function ZJ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ze(Ed,{["".concat(Ed,"-right")]:_e(r)&&t&&_e(t.x)&&r>=t.x,["".concat(Ed,"-left")]:_e(r)&&t&&_e(t.x)&&r<t.x,["".concat(Ed,"-bottom")]:_e(n)&&t&&_e(t.y)&&n>=t.y,["".concat(Ed,"-top")]:_e(n)&&t&&_e(t.y)&&n<t.y})}function hj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&_e(s[n]))return s[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?u:f;var h=l[n];if(h==null)return 0;if(i[n]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var v=f+o,g=h+c;return v>g?Math.max(u,h):Math.max(f,h)}function JJ(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function QJ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,c,u,f;return i.height>0&&i.width>0&&r?(u=hj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=hj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=JJ({translateX:u,translateY:f,useTranslate3d:o})):c=XJ,{cssProperties:c,cssClasses:ZJ({translateX:u,translateY:f,coordinate:r})}}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){Tw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tw(e,t,r){return(t=eQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eQ(e){var t=tQ(e,"string");return typeof t=="symbol"?t:t+""}function tQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rQ extends w.PureComponent{constructor(){super(...arguments),Tw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Tw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:y}=QJ({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),_=x?{}:gp(gp({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=gp(gp({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:g},s)}}var nQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ko={devToolsEnabled:!1,isSsr:nQ()},RR=()=>{var e;return(e=Se(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aw.apply(null,arguments)}function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){aQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aQ(e,t,r){return(t=sQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gj={curveBasisClosed:nY,curveBasisOpen:aY,curveBasis:rY,curveBumpX:Uq,curveBumpY:Vq,curveLinearClosed:sY,curveLinear:Ug,curveMonotoneX:iY,curveMonotoneY:oY,curveNatural:lY,curveStep:cY,curveStepAfter:dY,curveStepBefore:uY},mv=e=>dt(e.x)&&dt(e.y),xj=e=>e.base!=null&&mv(e.base)&&mv(e),Cd=e=>e.x,Td=e=>e.y,oQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(U0(e));return(r==="curveMonotone"||r==="curveBump")&&t?gj["".concat(r).concat(t==="vertical"?"Y":"X")]:gj[r]||Ug},lQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=oQ(t,a),o=s?r.filter(mv):r,l;if(Array.isArray(n)){var c=r.map((p,m)=>vj(vj({},p),{},{base:n[m]}));a==="vertical"?l=cp().y(Td).x1(Cd).x0(p=>p.base.x):l=cp().x(Cd).y1(Td).y0(p=>p.base.y);var u=l.defined(xj).curve(i),f=s?c.filter(xj):c;return u(f)}a==="vertical"&&_e(n)?l=cp().y(Td).x1(Cd).x0(n):_e(n)?l=cp().x(Cd).y1(Td).y0(n):l=VI().x(Cd).y(Td);var h=l.defined(mv).curve(i);return h(o)},pu=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?lQ(e):n;return w.createElement("path",Aw({},Gn(e),sk(e),{className:Ze("recharts-curve",t),d:s===null?void 0:s,ref:a}))},cQ=["x","y","top","left","width","height","className"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(null,arguments)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){dQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dQ(e,t,r){return(t=fQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fQ(e){var t=hQ(e,"string");return typeof t=="symbol"?t:t+""}function hQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pQ(e,t){if(e==null)return{};var r,n,a=mQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function mQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),gQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=pQ(e,cQ),c=uQ({x:t,y:r,top:n,left:a,width:s,height:i},l);return!_e(t)||!_e(r)||!_e(s)||!_e(i)||!_e(n)||!_e(a)?null:w.createElement("path",jw({},vn(c),{className:Ze("recharts-cross",o),d:vQ(t,r,s,i,n,a)}))};function xQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){yQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yQ(e,t,r){return(t=bQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Q=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),FR=(e,t,r)=>e.map(n=>"".concat(_Q(n)," ").concat(t,"ms ").concat(r)).join(","),kQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),e0=(e,t)=>Object.keys(t).reduce((r,n)=>wj(wj({},r),{},{[n]:e(n,t[n])}),{});function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vv=(e,t,r)=>e+(t-e)*r,Pw=e=>{var{from:t,to:r}=e;return t!==r},LR=(e,t,r)=>{var n=e0((a,s)=>{if(Pw(s)){var[i,o]=e(s.from,s.to,s.velocity);return Mr(Mr({},s),{},{from:i,velocity:o})}return s},t);return r<1?e0((a,s)=>Pw(s)?Mr(Mr({},s),{},{velocity:vv(s.velocity,n[a].velocity,r),from:vv(s.from,n[a].from,r)}):s,t):LR(e,n,r-1)};function TQ(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>Mr(Mr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>e0((h,p)=>p.from,o),c=()=>!Object.values(o).filter(Pw).length,u=null,f=h=>{i||(i=h);var p=h-i,m=p/r.dt;o=LR(r,o,m),a(Mr(Mr(Mr({},e),t),l())),i=h,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var h;(h=u)===null||h===void 0||h()})}function AQ(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,h)=>Mr(Mr({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,p=e0((v,g)=>vv(...g,r(h)),l);if(s(Mr(Mr(Mr({},e),t),p)),h<1)o=i.setTimeout(u);else{var m=e0((v,g)=>vv(...g,r(1)),l);s(Mr(Mr(Mr({},e),t),m))}};return()=>(o=i.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const jQ=(e,t,r,n,a,s)=>{var i=kQ(e,t);return r==null?()=>(a(Mr(Mr({},e),t)),()=>{}):r.isStepper===!0?TQ(e,t,r,i,a,s):AQ(e,t,r,n,i,a,s)};var gv=1e-4,$R=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],BR=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),kj=(e,t)=>r=>{var n=$R(e,t);return BR(n,r)},PQ=(e,t)=>r=>{var n=$R(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return BR(a,r)},NQ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},OQ=(e,t,r,n)=>{var a=kj(e,r),s=kj(t,n),i=PQ(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,h=0;h<8;++h){var p=a(f)-u,m=i(f);if(Math.abs(p-u)<gv||m<gv)return s(f);f=o(f-p/m)}return s(f)};return l.isStepper=!1,l},Sj=function(){return OQ(...NQ(...arguments))},DQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var c=-(i-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+i;return Math.abs(h-o)<gv&&Math.abs(f)<gv?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},MQ=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Sj(e);case"spring":return DQ();default:if(e.split("(")[0]==="cubic-bezier")return Sj(e)}return typeof e=="function"?e:null};function IQ(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,c),l);return}s(l),a=e.setTimeout(s.bind(null,c));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class RQ{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function FQ(){return IQ(new RQ)}var LQ=w.createContext(FQ);function $Q(e,t){var r=w.useContext(LQ);return w.useMemo(()=>t??r(e),[e,t,r])}var BQ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Ej={t:0},Jy={t:1};function Xu(e){var t=Jt(e,BQ),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=r==="auto"?!Ko.isSsr:r,f=$Q(t.animationId,t.animationManager),[h,p]=w.useState(u?Ej:Jy),m=w.useRef(null);return w.useEffect(()=>{u||p(Jy)},[u]),w.useEffect(()=>{if(!u||!n)return V0;var v=jQ(Ej,Jy,MQ(s),a,p,f.getTimeoutController()),g=()=>{m.current=v()};return f.start([l,i,g,a,o]),()=>{f.stop(),m.current&&m.current(),o()}},[u,n,a,s,i,l,o,f]),c(h.t)}function Zu(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Gf(t)),n=w.useRef(e);return n.current!==e&&(r.current=Gf(t),n.current=e),r.current}var zQ=["radius"],UQ=["radius"];function Cj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cj(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xv(){return xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xv.apply(null,arguments)}function Aj(e,t){if(e==null)return{};var r,n,a=KQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function KQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jj=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>s?s:a[f];c="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*u[1])),c+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*u[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);c="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},Pj={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zR=e=>{var t=Jt(e,Pj),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,g=w.useRef(o),x=w.useRef(l),b=w.useRef(s),y=w.useRef(i),_=w.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),S=Zu(_,"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var k=Ze("recharts-rectangle",u);if(!v){var E=vn(t),{radius:C}=E,T=Aj(E,zQ);return w.createElement("path",xv({},T,{radius:typeof c=="number"?c:void 0,className:k,d:jj(s,i,o,l,c)}))}var j=g.current,P=x.current,A=b.current,N=y.current,F="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),q=FR(["strokeDasharray"],h,typeof f=="string"?f:Pj.animationEasing);return w.createElement(Xu,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},K=>{var X=it(j,o,K),I=it(P,l,K),J=it(A,s,K),Z=it(N,i,K);r.current&&(g.current=X,x.current=I,b.current=J,y.current=Z);var M;m?K>0?M={transition:q,strokeDasharray:B}:M={strokeDasharray:F}:M={strokeDasharray:B};var z=vn(t),{radius:G}=z,H=Aj(z,UQ);return w.createElement("path",xv({},H,{radius:typeof c=="number"?c:void 0,className:k,d:jj(J,Z,X,I,c),ref:r,style:Tj(Tj({},M),t.style)}))})};function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=YQ(e,"string");return typeof t=="symbol"?t:t+""}function YQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yv=Math.PI/180,XQ=e=>e*180/Math.PI,Tr=(e,t,r,n)=>({x:e+Math.cos(-yv*n)*r,y:t+Math.sin(-yv*n)*r}),UR=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZQ=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},JQ=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=ZQ({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:XQ(l),angleInRadian:l}},QQ=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},eee=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},tee=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=JQ({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:c}=QQ(t),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?Oj(Oj({},t),{},{radius:a,angle:eee(u,t)}):null};function VR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=Tr(t,r,n,a),o=Tr(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Nw(){return Nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nw.apply(null,arguments)}var ree=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},xp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,u=Math.asin(o/c)/yv,f=l?a:a+s*u,h=Tr(t,r,c,f),p=Tr(t,r,n,f),m=l?a-s*u:a,v=Tr(t,r,c*Math.cos(u*yv),m);return{center:h,circleTangency:p,lineTangency:v,theta:u}},WR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=ree(s,i),l=s+o,c=Tr(t,r,a,s),u=Tr(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=Tr(t,r,n,s),p=Tr(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},nee=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Zr(c-l),{circleTangency:f,lineTangency:h,theta:p}=xp({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:v,theta:g}=xp({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-p-g;if(x<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:y,lineTangency:_,theta:S}=xp({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:k,lineTangency:E,theta:C}=xp({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-S-C;if(T<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},aee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},HR=e=>{var t=Jt(e,aee),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(s<a||c===u)return null;var h=Ze("recharts-sector",f),p=s-a,m=Nn(i,p,0,!0),v;return m>0&&Math.abs(c-u)<360?v=nee({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=WR({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u}),w.createElement("path",Nw({},vn(t),{className:h,d:v}))};function see(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(s5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=Tr(n,a,s,o),c=Tr(n,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return VR(t)}}var KR={},GR={},qR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vk;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qR;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(GR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk,r=GR;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=i;return l}e.range=n})(KR);var iee=KR.range;const YR=Js(iee);function Ao(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ok(e){let t,r,n;e.length!==2?(t=Ao,r=(o,l)=>Ao(e(o),l),n=(o,l)=>e(o)-l):(t=e===Ao||e===oee?e:lee,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function lee(){return 0}function XR(e){return e===null?NaN:+e}function*cee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const uee=Ok(Ao),Z0=uee.right;Ok(XR).center;class Dj extends Map{constructor(t,r=hee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Mj(this,t))}has(t){return super.has(Mj(this,t))}set(t,r){return super.set(dee(this,t),r)}delete(t){return super.delete(fee(this,t))}}function Mj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function dee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function fee({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function hee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function pee(e=Ao){if(e===Ao)return ZR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const mee=Math.sqrt(50),vee=Math.sqrt(10),gee=Math.sqrt(2);function bv(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=mee?10:s>=vee?5:s>=gee?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?bv(e,t,r*2):[o,l,c]}function Ow(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?bv(t,e,r):bv(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function Dw(e,t,r){return t=+t,e=+e,r=+r,bv(e,t,r)[2]}function Mw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Dw(t,e,r):Dw(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Ij(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Rj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ZR:pee(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));JR(e,t,p,m,a)}const s=e[t];let i=r,o=n;for(Ad(e,r,t),a(e[n],s)>0&&Ad(e,r,n);i<o;){for(Ad(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Ad(e,r,o):(++o,Ad(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ad(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function xee(e,t,r){if(e=Float64Array.from(cee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Rj(e);if(t>=1)return Ij(e);var n,a=(n-1)*t,s=Math.floor(a),i=Ij(JR(e,s).subarray(0,s+1)),o=Rj(e.subarray(s+1));return i+(o-i)*(a-s)}}function yee(e,t,r=XR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function bee(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function qi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Iw=Symbol("implicit");function Dk(){var e=new Dj,t=[],r=[],n=Iw;function a(s){let i=e.get(s);if(i===void 0){if(n!==Iw)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Dj;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Dk(t,r).unknown(n)},Ja.apply(a,arguments),a}function Mk(){var e=Dk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;s=(v-m)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),m+=(v-m-s*(h-l))*u,i=s*(1-l),o&&(m=Math.round(m),i=Math.round(i));var g=bee(h).map(function(x){return m+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Mk(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ja.apply(f(),arguments)}function QR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QR(t())},e}function wee(){return QR(Mk.apply(null,arguments).paddingInner(1))}function Ik(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function J0(){}var t0=.7,wv=1/t0,mu="\\s*([+-]?\\d+)\\s*",r0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ee=/^#([0-9a-f]{3,8})$/,kee=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),See=new RegExp(`^rgb\\(${zs},${zs},${zs}\\)$`),Eee=new RegExp(`^rgba\\(${mu},${mu},${mu},${r0}\\)$`),Cee=new RegExp(`^rgba\\(${zs},${zs},${zs},${r0}\\)$`),Tee=new RegExp(`^hsl\\(${r0},${zs},${zs}\\)$`),Aee=new RegExp(`^hsla\\(${r0},${zs},${zs},${r0}\\)$`),Fj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ik(J0,n0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Lj,formatHex:Lj,formatHex8:jee,formatHsl:Pee,formatRgb:$j,toString:$j});function Lj(){return this.rgb().formatHex()}function jee(){return this.rgb().formatHex8()}function Pee(){return tF(this).formatHsl()}function $j(){return this.rgb().formatRgb()}function n0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=_ee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Bj(t):r===3?new sa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?yp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?yp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kee.exec(e))?new sa(t[1],t[2],t[3],1):(t=See.exec(e))?new sa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Eee.exec(e))?yp(t[1],t[2],t[3],t[4]):(t=Cee.exec(e))?yp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Tee.exec(e))?Vj(t[1],t[2]/100,t[3]/100,1):(t=Aee.exec(e))?Vj(t[1],t[2]/100,t[3]/100,t[4]):Fj.hasOwnProperty(e)?Bj(Fj[e]):e==="transparent"?new sa(NaN,NaN,NaN,0):null}function Bj(e){return new sa(e>>16&255,e>>8&255,e&255,1)}function yp(e,t,r,n){return n<=0&&(e=t=r=NaN),new sa(e,t,r,n)}function Nee(e){return e instanceof J0||(e=n0(e)),e?(e=e.rgb(),new sa(e.r,e.g,e.b,e.opacity)):new sa}function Rw(e,t,r,n){return arguments.length===1?Nee(e):new sa(e,t,r,n??1)}function sa(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Ik(sa,Rw,eF(J0,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new sa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?t0:Math.pow(t0,e),new sa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sa(Ol(this.r),Ol(this.g),Ol(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zj,formatHex:zj,formatHex8:Oee,formatRgb:Uj,toString:Uj}));function zj(){return`#${_l(this.r)}${_l(this.g)}${_l(this.b)}`}function Oee(){return`#${_l(this.r)}${_l(this.g)}${_l(this.b)}${_l((isNaN(this.opacity)?1:this.opacity)*255)}`}function Uj(){const e=_v(this.opacity);return`${e===1?"rgb(":"rgba("}${Ol(this.r)}, ${Ol(this.g)}, ${Ol(this.b)}${e===1?")":`, ${e})`}`}function _v(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ol(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function _l(e){return e=Ol(e),(e<16?"0":"")+e.toString(16)}function Vj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new hs(e,t,r,n)}function tF(e){if(e instanceof hs)return new hs(e.h,e.s,e.l,e.opacity);if(e instanceof J0||(e=n0(e)),!e)return new hs;if(e instanceof hs)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new hs(i,o,l,e.opacity)}function Dee(e,t,r,n){return arguments.length===1?tF(e):new hs(e,t,r,n??1)}function hs(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Ik(hs,Dee,eF(J0,{brighter(e){return e=e==null?wv:Math.pow(wv,e),new hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?t0:Math.pow(t0,e),new hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new sa(Qy(e>=240?e-240:e+120,a,n),Qy(e,a,n),Qy(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new hs(Wj(this.h),bp(this.s),bp(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_v(this.opacity);return`${e===1?"hsl(":"hsla("}${Wj(this.h)}, ${bp(this.s)*100}%, ${bp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Wj(e){return e=(e||0)%360,e<0?e+360:e}function bp(e){return Math.max(0,Math.min(1,e||0))}function Qy(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Rk=e=>()=>e;function Mee(e,t){return function(r){return e+r*t}}function Iee(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Ree(e){return(e=+e)==1?rF:function(t,r){return r-t?Iee(t,r,e):Rk(isNaN(t)?r:t)}}function rF(e,t){var r=t-e;return r?Mee(e,r):Rk(isNaN(e)?t:e)}const Hj=function e(t){var r=Ree(t);function n(a,s){var i=r((a=Rw(a)).r,(s=Rw(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),c=rF(a.opacity,s.opacity);return function(u){return a.r=i(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function Fee(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function Lee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $ee(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=Ju(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function Bee(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function kv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function zee(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Ju(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var Fw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,e1=new RegExp(Fw.source,"g");function Uee(e){return function(){return e}}function Vee(e){return function(t){return e(t)+""}}function Wee(e,t){var r=Fw.lastIndex=e1.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=Fw.exec(e))&&(a=e1.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:kv(n,a)})),r=e1.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?Vee(l[0].x):Uee(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function Ju(e,t){var r=typeof t,n;return t==null||r==="boolean"?Rk(t):(r==="number"?kv:r==="string"?(n=n0(t))?(t=n,Hj):Wee:t instanceof n0?Hj:t instanceof Date?Bee:Lee(t)?Fee:Array.isArray(t)?$ee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?zee:kv)(e,t)}function Fk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Hee(e,t){t===void 0&&(t=e,e=Ju);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function Kee(e){return function(){return e}}function Sv(e){return+e}var Kj=[0,1];function zn(e){return e}function Lw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Kee(isNaN(t)?NaN:.5)}function Gee(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function qee(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Lw(a,n),s=r(i,s)):(n=Lw(n,a),s=r(s,i)),function(o){return s(n(o))}}function Yee(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Lw(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=Z0(e,o,1,n)-1;return s[l](a[l](o))}}function Q0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function fx(){var e=Kj,t=Kj,r=Ju,n,a,s,i=zn,o,l,c;function u(){var h=Math.min(e.length,t.length);return i!==zn&&(i=Gee(e[0],e[h-1])),o=h>2?Yee:qee,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=o(t,e.map(n),kv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Sv),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Fk,u()},f.clamp=function(h){return arguments.length?(i=h?!0:zn,u()):i!==zn},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,u()}}function Lk(){return fx()(zn,zn)}function Xee(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ev(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Iu(e){return e=Ev(Math.abs(e)),e?e[1]:NaN}function Zee(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function Jee(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var Qee=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function a0(e){if(!(t=Qee.exec(e)))throw new Error("invalid format: "+e);var t;return new $k({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}a0.prototype=$k.prototype;function $k(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}$k.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function ete(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var nF;function tte(e,t){var r=Ev(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(nF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Ev(e,Math.max(0,t+s-1))[0]}function Gj(e,t){var r=Ev(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const qj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xee,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Gj(e*100,t),r:Gj,s:tte,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Yj(e){return e}var Xj=Array.prototype.map,Zj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function rte(e){var t=e.grouping===void 0||e.thousands===void 0?Yj:Zee(Xj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Yj:Jee(Xj.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=a0(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,x=f.width,b=f.comma,y=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):qj[S]||(y===void 0&&(y=12),_=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?n:/[%p]/.test(S)?i:"",C=qj[S],T=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function j(P){var A=k,N=E,F,B,q;if(S==="c")N=C(P)+N,P="";else{P=+P;var K=P<0||1/P<0;if(P=isNaN(P)?l:C(Math.abs(P),y),_&&(P=ete(P)),K&&+P==0&&m!=="+"&&(K=!1),A=(K?m==="("?m:o:m==="-"||m==="("?"":m)+A,N=(S==="s"?Zj[8+nF/3]:"")+N+(K&&m==="("?")":""),T){for(F=-1,B=P.length;++F<B;)if(q=P.charCodeAt(F),48>q||q>57){N=(q===46?a+P.slice(F+1):P.slice(F))+N,P=P.slice(0,F);break}}}b&&!g&&(P=t(P,1/0));var X=A.length+P.length+N.length,I=X<x?new Array(x-X+1).join(h):"";switch(b&&g&&(P=t(I+P,I.length?x-N.length:1/0),I=""),p){case"<":P=A+P+N+I;break;case"=":P=A+I+P+N;break;case"^":P=I.slice(0,X=I.length>>1)+A+P+N+I.slice(X);break;default:P=I+A+P+N;break}return s(P)}return j.toString=function(){return f+""},j}function u(f,h){var p=c((f=a0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Iu(h)/3)))*3,v=Math.pow(10,-m),g=Zj[8+m/3];return function(x){return p(v*x)+g}}return{format:c,formatPrefix:u}}var wp,Bk,aF;nte({thousands:",",grouping:[3],currency:["$",""]});function nte(e){return wp=rte(e),Bk=wp.format,aF=wp.formatPrefix,wp}function ate(e){return Math.max(0,-Iu(Math.abs(e)))}function ste(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Iu(t)/3)))*3-Iu(Math.abs(e)))}function ite(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Iu(t)-Iu(e))+1}function sF(e,t,r,n){var a=Mw(e,t,r),s;switch(n=a0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=ste(a,i))&&(n.precision=s),aF(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=ite(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ate(a))&&(n.precision=s-(n.type==="%")*2);break}}return Bk(n)}function Go(e){var t=e.domain;return e.ticks=function(r){var n=t();return Ow(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return sF(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,c,u=10;for(o<i&&(c=i,i=o,o=c,c=a,a=s,s=c);u-- >0;){if(c=Dw(i,o,r),c===l)return n[a]=i,n[s]=o,t(n);if(c>0)i=Math.floor(i/c)*c,o=Math.ceil(o/c)*c;else if(c<0)i=Math.ceil(i*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function iF(){var e=Lk();return e.copy=function(){return Q0(e,iF())},Ja.apply(e,arguments),Go(e)}function oF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Sv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oF(e).unknown(t)},e=arguments.length?Array.from(e,Sv):[0,1],Go(r)}function lF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function Jj(e){return Math.log(e)}function Qj(e){return Math.exp(e)}function ote(e){return-Math.log(-e)}function lte(e){return-Math.exp(-e)}function cte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ute(e){return e===10?cte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function dte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function eP(e){return(t,r)=>-e(-t,r)}function zk(e){const t=e(Jj,Qj),r=t.domain;let n=10,a,s;function i(){return a=dte(n),s=ute(n),r()[0]<0?(a=eP(a),s=eP(s),e(ote,lte)):e(Jj,Qj),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const g=o==null?10:+o;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}x.length*2<g&&(x=Ow(c,u,g))}else x=Ow(h,p,Math.min(p-h,g)).map(s);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=a0(l)).precision==null&&(l.trim=!0),l=Bk(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/s(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(lF(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function cF(){const e=zk(fx()).domain([1,10]);return e.copy=()=>Q0(e,cF()).base(e.base()),Ja.apply(e,arguments),e}function tP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Uk(e){var t=1,r=e(tP(t),rP(t));return r.constant=function(n){return arguments.length?e(tP(t=+n),rP(t)):t},Go(r)}function uF(){var e=Uk(fx());return e.copy=function(){return Q0(e,uF()).constant(e.constant())},Ja.apply(e,arguments)}function nP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function fte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hte(e){return e<0?-e*e:e*e}function Vk(e){var t=e(zn,zn),r=1;function n(){return r===1?e(zn,zn):r===.5?e(fte,hte):e(nP(r),nP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Go(t)}function Wk(){var e=Vk(fx());return e.copy=function(){return Q0(e,Wk()).exponent(e.exponent())},Ja.apply(e,arguments),e}function pte(){return Wk.apply(null,arguments).exponent(.5)}function aP(e){return Math.sign(e)*e*e}function mte(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function dF(){var e=Lk(),t=[0,1],r=!1,n;function a(s){var i=mte(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(aP(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,Sv)).map(aP)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return dF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ja.apply(a,arguments),Go(a)}function fF(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=yee(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[Z0(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Ao),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return fF().domain(e).range(t).unknown(n)},Ja.apply(s,arguments)}function hF(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[Z0(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return hF().domain([e,t]).range(a).unknown(s)},Ja.apply(Go(i),arguments)}function pF(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[Z0(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return pF().domain(e).range(t).unknown(r)},Ja.apply(a,arguments)}const t1=new Date,r1=new Date;function zr(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<i);return l},a.filter=s=>zr(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(t1.setTime(+s),r1.setTime(+i),e(t1),e(r1),Math.floor(r(t1,r1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Cv=zr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cv);Cv.range;const pi=1e3,Ua=pi*60,mi=Ua*60,Oi=mi*24,Hk=Oi*7,sP=Oi*30,n1=Oi*365,kl=zr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pi)},(e,t)=>(t-e)/pi,e=>e.getUTCSeconds());kl.range;const Kk=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getMinutes());Kk.range;const Gk=zr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCMinutes());Gk.range;const qk=zr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pi-e.getMinutes()*Ua)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getHours());qk.range;const Yk=zr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mi)},(e,t)=>(t-e)/mi,e=>e.getUTCHours());Yk.range;const eh=zr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/Oi,e=>e.getDate()-1);eh.range;const hx=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>e.getUTCDate()-1);hx.range;const mF=zr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Oi,e=>Math.floor(e/Oi));mF.range;function oc(e){return zr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/Hk)}const px=oc(0),Tv=oc(1),vte=oc(2),gte=oc(3),Ru=oc(4),xte=oc(5),yte=oc(6);px.range;Tv.range;vte.range;gte.range;Ru.range;xte.range;yte.range;function lc(e){return zr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hk)}const mx=lc(0),Av=lc(1),bte=lc(2),wte=lc(3),Fu=lc(4),_te=lc(5),kte=lc(6);mx.range;Av.range;bte.range;wte.range;Fu.range;_te.range;kte.range;const Xk=zr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Xk.range;const Zk=zr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zk.range;const Di=zr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Di.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Di.range;const Mi=zr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Mi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Mi.range;function vF(e,t,r,n,a,s){const i=[[kl,1,pi],[kl,5,5*pi],[kl,15,15*pi],[kl,30,30*pi],[s,1,Ua],[s,5,5*Ua],[s,15,15*Ua],[s,30,30*Ua],[a,1,mi],[a,3,3*mi],[a,6,6*mi],[a,12,12*mi],[n,1,Oi],[n,2,2*Oi],[r,1,Hk],[t,1,sP],[t,3,3*sP],[e,1,n1]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Ok(([,,g])=>g).right(i,h);if(p===i.length)return e.every(Mw(c/n1,u/n1,f));if(p===0)return Cv.every(Math.max(Mw(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[o,l]}const[Ste,Ete]=vF(Mi,Zk,mx,mF,Yk,Gk),[Cte,Tte]=vF(Di,Xk,px,eh,qk,Kk);function a1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Ate(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Pd(a),u=Nd(a),f=Pd(s),h=Nd(s),p=Pd(i),m=Nd(i),v=Pd(o),g=Nd(o),x=Pd(l),b=Nd(l),y={a:K,A:X,b:I,B:J,c:null,d:dP,e:dP,f:Zte,g:ore,G:cre,H:qte,I:Yte,j:Xte,L:gF,m:Jte,M:Qte,p:Z,q:M,Q:pP,s:mP,S:ere,u:tre,U:rre,V:nre,w:are,W:sre,x:null,X:null,y:ire,Y:lre,Z:ure,"%":hP},_={a:z,A:G,b:H,B:Q,c:null,d:fP,e:fP,f:pre,g:Sre,G:Cre,H:dre,I:fre,j:hre,L:yF,m:mre,M:vre,p:oe,q:le,Q:pP,s:mP,S:gre,u:xre,U:yre,V:bre,w:wre,W:_re,x:null,X:null,y:kre,Y:Ere,Z:Tre,"%":hP},S={a:j,A:P,b:A,B:N,c:F,d:cP,e:cP,f:Wte,g:lP,G:oP,H:uP,I:uP,j:Bte,L:Vte,m:$te,M:zte,p:T,q:Lte,Q:Kte,s:Gte,S:Ute,u:Dte,U:Mte,V:Ite,w:Ote,W:Rte,x:B,X:q,y:lP,Y:oP,Z:Fte,"%":Hte};y.x=k(r,y),y.X=k(n,y),y.c=k(t,y),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(Y,te){return function(ue){var D=[],Ne=-1,me=0,ye=Y.length,fe,de,Oe;for(ue instanceof Date||(ue=new Date(+ue));++Ne<ye;)Y.charCodeAt(Ne)===37&&(D.push(Y.slice(me,Ne)),(de=iP[fe=Y.charAt(++Ne)])!=null?fe=Y.charAt(++Ne):de=fe==="e"?" ":"0",(Oe=te[fe])&&(fe=Oe(ue,de)),D.push(fe),me=Ne+1);return D.push(Y.slice(me,Ne)),D.join("")}}function E(Y,te){return function(ue){var D=jd(1900,void 0,1),Ne=C(D,Y,ue+="",0),me,ye;if(Ne!=ue.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(te&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(me=s1(jd(D.y,0,1)),ye=me.getUTCDay(),me=ye>4||ye===0?Av.ceil(me):Av(me),me=hx.offset(me,(D.V-1)*7),D.y=me.getUTCFullYear(),D.m=me.getUTCMonth(),D.d=me.getUTCDate()+(D.w+6)%7):(me=a1(jd(D.y,0,1)),ye=me.getDay(),me=ye>4||ye===0?Tv.ceil(me):Tv(me),me=eh.offset(me,(D.V-1)*7),D.y=me.getFullYear(),D.m=me.getMonth(),D.d=me.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),ye="Z"in D?s1(jd(D.y,0,1)).getUTCDay():a1(jd(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(ye+5)%7:D.w+D.U*7-(ye+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,s1(D)):a1(D)}}function C(Y,te,ue,D){for(var Ne=0,me=te.length,ye=ue.length,fe,de;Ne<me;){if(D>=ye)return-1;if(fe=te.charCodeAt(Ne++),fe===37){if(fe=te.charAt(Ne++),de=S[fe in iP?te.charAt(Ne++):fe],!de||(D=de(Y,ue,D))<0)return-1}else if(fe!=ue.charCodeAt(D++))return-1}return D}function T(Y,te,ue){var D=c.exec(te.slice(ue));return D?(Y.p=u.get(D[0].toLowerCase()),ue+D[0].length):-1}function j(Y,te,ue){var D=p.exec(te.slice(ue));return D?(Y.w=m.get(D[0].toLowerCase()),ue+D[0].length):-1}function P(Y,te,ue){var D=f.exec(te.slice(ue));return D?(Y.w=h.get(D[0].toLowerCase()),ue+D[0].length):-1}function A(Y,te,ue){var D=x.exec(te.slice(ue));return D?(Y.m=b.get(D[0].toLowerCase()),ue+D[0].length):-1}function N(Y,te,ue){var D=v.exec(te.slice(ue));return D?(Y.m=g.get(D[0].toLowerCase()),ue+D[0].length):-1}function F(Y,te,ue){return C(Y,t,te,ue)}function B(Y,te,ue){return C(Y,r,te,ue)}function q(Y,te,ue){return C(Y,n,te,ue)}function K(Y){return i[Y.getDay()]}function X(Y){return s[Y.getDay()]}function I(Y){return l[Y.getMonth()]}function J(Y){return o[Y.getMonth()]}function Z(Y){return a[+(Y.getHours()>=12)]}function M(Y){return 1+~~(Y.getMonth()/3)}function z(Y){return i[Y.getUTCDay()]}function G(Y){return s[Y.getUTCDay()]}function H(Y){return l[Y.getUTCMonth()]}function Q(Y){return o[Y.getUTCMonth()]}function oe(Y){return a[+(Y.getUTCHours()>=12)]}function le(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=k(Y+="",y);return te.toString=function(){return Y},te},parse:function(Y){var te=E(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=k(Y+="",_);return te.toString=function(){return Y},te},utcParse:function(Y){var te=E(Y+="",!0);return te.toString=function(){return Y},te}}}var iP={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,jte=/^%/,Pte=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function Nte(e){return e.replace(Pte,"\\$&")}function Pd(e){return new RegExp("^(?:"+e.map(Nte).join("|")+")","i")}function Nd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function Ote(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Dte(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Mte(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Ite(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Rte(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function oP(e,t,r){var n=rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function lP(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Fte(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Lte(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $te(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function cP(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Bte(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function uP(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function zte(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ute(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Vte(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Wte(e,t,r){var n=rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Hte(e,t,r){var n=jte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Kte(e,t,r){var n=rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Gte(e,t,r){var n=rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function dP(e,t){return rt(e.getDate(),t,2)}function qte(e,t){return rt(e.getHours(),t,2)}function Yte(e,t){return rt(e.getHours()%12||12,t,2)}function Xte(e,t){return rt(1+eh.count(Di(e),e),t,3)}function gF(e,t){return rt(e.getMilliseconds(),t,3)}function Zte(e,t){return gF(e,t)+"000"}function Jte(e,t){return rt(e.getMonth()+1,t,2)}function Qte(e,t){return rt(e.getMinutes(),t,2)}function ere(e,t){return rt(e.getSeconds(),t,2)}function tre(e){var t=e.getDay();return t===0?7:t}function rre(e,t){return rt(px.count(Di(e)-1,e),t,2)}function xF(e){var t=e.getDay();return t>=4||t===0?Ru(e):Ru.ceil(e)}function nre(e,t){return e=xF(e),rt(Ru.count(Di(e),e)+(Di(e).getDay()===4),t,2)}function are(e){return e.getDay()}function sre(e,t){return rt(Tv.count(Di(e)-1,e),t,2)}function ire(e,t){return rt(e.getFullYear()%100,t,2)}function ore(e,t){return e=xF(e),rt(e.getFullYear()%100,t,2)}function lre(e,t){return rt(e.getFullYear()%1e4,t,4)}function cre(e,t){var r=e.getDay();return e=r>=4||r===0?Ru(e):Ru.ceil(e),rt(e.getFullYear()%1e4,t,4)}function ure(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function fP(e,t){return rt(e.getUTCDate(),t,2)}function dre(e,t){return rt(e.getUTCHours(),t,2)}function fre(e,t){return rt(e.getUTCHours()%12||12,t,2)}function hre(e,t){return rt(1+hx.count(Mi(e),e),t,3)}function yF(e,t){return rt(e.getUTCMilliseconds(),t,3)}function pre(e,t){return yF(e,t)+"000"}function mre(e,t){return rt(e.getUTCMonth()+1,t,2)}function vre(e,t){return rt(e.getUTCMinutes(),t,2)}function gre(e,t){return rt(e.getUTCSeconds(),t,2)}function xre(e){var t=e.getUTCDay();return t===0?7:t}function yre(e,t){return rt(mx.count(Mi(e)-1,e),t,2)}function bF(e){var t=e.getUTCDay();return t>=4||t===0?Fu(e):Fu.ceil(e)}function bre(e,t){return e=bF(e),rt(Fu.count(Mi(e),e)+(Mi(e).getUTCDay()===4),t,2)}function wre(e){return e.getUTCDay()}function _re(e,t){return rt(Av.count(Mi(e)-1,e),t,2)}function kre(e,t){return rt(e.getUTCFullYear()%100,t,2)}function Sre(e,t){return e=bF(e),rt(e.getUTCFullYear()%100,t,2)}function Ere(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function Cre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Fu(e):Fu.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function Tre(){return"+0000"}function hP(){return"%"}function pP(e){return+e}function mP(e){return Math.floor(+e/1e3)}var Ec,wF,_F;Are({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Are(e){return Ec=Ate(e),wF=Ec.format,Ec.parse,_F=Ec.utcFormat,Ec.utcParse,Ec}function jre(e){return new Date(e)}function Pre(e){return e instanceof Date?+e:+new Date(+e)}function Jk(e,t,r,n,a,s,i,o,l,c){var u=Lk(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),_=c("%Y");function S(k){return(l(k)<k?p:o(k)<k?m:i(k)<k?v:s(k)<k?g:n(k)<k?a(k)<k?x:b:r(k)<k?y:_)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,Pre)):h().map(jre)},u.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?S:c(E)},u.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(lF(E,k)):u},u.copy=function(){return Q0(u,Jk(e,t,r,n,a,s,i,o,l,c))},u}function Nre(){return Ja.apply(Jk(Cte,Tte,Di,Xk,px,eh,qk,Kk,kl,wF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ore(){return Ja.apply(Jk(Ste,Ete,Mi,Zk,mx,hx,Yk,Gk,kl,_F).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function vx(){var e=0,t=1,r,n,a,s,i=zn,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(Ju),c.rangeRound=u(Fk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function qo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kF(){var e=Go(vx()(zn));return e.copy=function(){return qo(e,kF())},qi.apply(e,arguments)}function SF(){var e=zk(vx()).domain([1,10]);return e.copy=function(){return qo(e,SF()).base(e.base())},qi.apply(e,arguments)}function EF(){var e=Uk(vx());return e.copy=function(){return qo(e,EF()).constant(e.constant())},qi.apply(e,arguments)}function Qk(){var e=Vk(vx());return e.copy=function(){return qo(e,Qk()).exponent(e.exponent())},qi.apply(e,arguments)}function Dre(){return Qk.apply(null,arguments).exponent(.5)}function CF(){var e=[],t=zn;function r(n){if(n!=null&&!isNaN(n=+n))return t((Z0(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ao),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>xee(e,s/n))},r.copy=function(){return CF(t).domain(e)},qi.apply(r,arguments)}function gx(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,c=zn,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-s)*(n*v<n*s?o:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),s=u(t=+t),i=u(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var x,b,y;return arguments.length?([x,b,y]=g,c=Hee(v,[x,b,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(Ju),p.rangeRound=m(Fk),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),s=v(t),i=v(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function TF(){var e=Go(gx()(zn));return e.copy=function(){return qo(e,TF())},qi.apply(e,arguments)}function AF(){var e=zk(gx()).domain([.1,1,10]);return e.copy=function(){return qo(e,AF()).base(e.base())},qi.apply(e,arguments)}function jF(){var e=Uk(gx());return e.copy=function(){return qo(e,jF()).constant(e.constant())},qi.apply(e,arguments)}function eS(){var e=Vk(gx());return e.copy=function(){return qo(e,eS()).exponent(e.exponent())},qi.apply(e,arguments)}function Mre(){return eS.apply(null,arguments).exponent(.5)}const Vd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Mk,scaleDiverging:TF,scaleDivergingLog:AF,scaleDivergingPow:eS,scaleDivergingSqrt:Mre,scaleDivergingSymlog:jF,scaleIdentity:oF,scaleImplicit:Iw,scaleLinear:iF,scaleLog:cF,scaleOrdinal:Dk,scalePoint:wee,scalePow:Wk,scaleQuantile:fF,scaleQuantize:hF,scaleRadial:dF,scaleSequential:kF,scaleSequentialLog:SF,scaleSequentialPow:Qk,scaleSequentialQuantile:CF,scaleSequentialSqrt:Dre,scaleSequentialSymlog:EF,scaleSqrt:pte,scaleSymlog:uF,scaleThreshold:pF,scaleTime:Nre,scaleUtc:Ore,tickFormat:sF},Symbol.toStringTag,{value:"Module"}));var Yo=e=>e.chartData,tS=ee([Yo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),th=(e,t,r,n)=>n?tS(e):Yo(e);function Mo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(dt(t)&&dt(r))return!0}return!1}function vP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function PF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(dt(r))a=r;else if(typeof r=="function")return;if(dt(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Mo(i))return i}}function Ire(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Mo(n))return vP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(_e(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&JA.test(a)){var l=JA.exec(a);if(l==null||t==null)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(_e(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&QA.test(s)){var u=QA.exec(s);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(Mo(h))return t==null?h:vP(h,t,r)}}}var Qu=1e9,Rre={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nS,Ft=!0,Xa="[DecimalError] ",Dl=Xa+"Invalid argument: ",rS=Xa+"Exponent out of range: ",ed=Math.floor,dl=Math.pow,Fre=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ga,Gr=1e7,At=7,NF=9007199254740991,jv=ed(NF/At),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return xi(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return gt(xi(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Ar(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ga))throw Error(Xa+"NaN");if(r.s<1)throw Error(Xa+(r.s?"NaN":"-Infinity"));return r.eq(ga)?new n(0):(Ft=!1,t=xi(s0(r,s),s0(e,s),s),Ft=!0,gt(t,a))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MF(t,e):OF(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xa+"NaN");return r.s?(Ft=!1,t=xi(r,e,0,1).times(e),Ft=!0,r.minus(t)):gt(new n(r),a)};Ae.naturalExponential=Ae.exp=function(){return DF(this)};Ae.naturalLogarithm=Ae.ln=function(){return s0(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?OF(t,e):MF(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dl+e);if(t=Ar(a)+1,n=a.d.length-1,r=n*At+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Xa+"NaN")}for(e=Ar(o),Ft=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Fs(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=ed((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(xi(o,s,i+2)).times(.5),Fs(s.d).slice(0,i)===(t=Fs(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(gt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Ft=!0,gt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,a,s,i,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,i=l,l=c,c=i),s=[],i=l+c,n=i;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%Gr|0,t=o/Gr|0;s[a]=(s[a]+t)%Gr|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ft?gt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ks(e,0,Qu),t===void 0?t=n.rounding:Ks(t,0,8),gt(r,e+Ar(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ql(n,!0):(Ks(e,0,Qu),t===void 0?t=a.rounding:Ks(t,0,8),n=gt(new a(n),e+1,t),r=ql(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?ql(a):(Ks(e,0,Qu),t===void 0?t=s.rounding:Ks(t,0,8),n=gt(new s(a),e+Ar(a)+1,t),r=ql(n.abs(),!1,e+Ar(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Ar(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(ga);if(o=new l(o),!o.s){if(e.s<1)throw Error(Xa+"Infinity");return o}if(o.eq(ga))return o;if(n=l.precision,e.eq(ga))return gt(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=u<0?-u:u)<=NF){for(a=new l(ga),t=Math.ceil(n/At+4),Ft=!1;r%2&&(a=a.times(o),xP(a.d,t)),r=ed(r/2),r!==0;)o=o.times(o),xP(o.d,t);return Ft=!0,e.s<0?new l(ga).div(a):gt(a,n)}}else if(s<0)throw Error(Xa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Ft=!1,a=e.times(s0(o,n+c)),Ft=!0,a=DF(a),a.s=s,a};Ae.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Ar(a),n=ql(a,r<=s.toExpNeg||r>=s.toExpPos)):(Ks(e,1,Qu),t===void 0?t=s.rounding:Ks(t,0,8),a=gt(new s(a),e,t),r=Ar(a),n=ql(a,e<=r||r<=s.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ks(e,1,Qu),t===void 0?t=n.rounding:Ks(t,0,8)),gt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ar(e),r=e.constructor;return ql(e,t<=r.toExpNeg||t>=r.toExpPos)};function OF(e,t){var r,n,a,s,i,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Ft?gt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),i=Math.ceil(f/At),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/Gr|0,l[s]%=Gr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Ft?gt(t,f):t}function Ks(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Dl+e)}function Fs(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=At-n.length,r&&(s+=so(r)),s+=n;i=e[t],n=i+"",r=At-n.length,r&&(s+=so(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var xi=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%Gr|0,i=s/Gr|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*Gr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,c,u,f,h,p,m,v,g,x,b,y,_,S,k,E,C,T=n.constructor,j=n.s==a.s?1:-1,P=n.d,A=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Xa+"Division by zero");for(l=n.e-a.e,E=A.length,S=P.length,p=new T(j),m=p.d=[],c=0;A[c]==(P[c]||0);)++c;if(A[c]>(P[c]||0)&&--l,s==null?b=s=T.precision:i?b=s+(Ar(n)-Ar(a))+1:b=s,b<0)return new T(0);if(b=b/At+2|0,c=0,E==1)for(u=0,A=A[0],b++;(c<S||u)&&b--;c++)y=u*Gr+(P[c]||0),m[c]=y/A|0,u=y%A|0;else{for(u=Gr/(A[0]+1)|0,u>1&&(A=e(A,u),P=e(P,u),E=A.length,S=P.length),_=E,v=P.slice(0,E),g=v.length;g<E;)v[g++]=0;C=A.slice(),C.unshift(0),k=A[0],A[1]>=Gr/2&&++k;do u=0,o=t(A,v,E,g),o<0?(x=v[0],E!=g&&(x=x*Gr+(v[1]||0)),u=x/k|0,u>1?(u>=Gr&&(u=Gr-1),f=e(A,u),h=f.length,g=v.length,o=t(f,v,h,g),o==1&&(u--,r(f,E<h?C:A,h))):(u==0&&(o=u=1),f=A.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),o==-1&&(g=v.length,o=t(A,v,E,g),o<1&&(u++,r(v,E<g?C:A,g))),g=v.length):o===0&&(u++,v=[0]),m[c++]=u,o&&v[0]?v[g++]=P[_]||0:(v=[P[_]],g=1);while((_++<S||v[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,gt(p,i?s+Ar(p)+1:s)}}();function DF(e,t){var r,n,a,s,i,o,l=0,c=0,u=e.constructor,f=u.precision;if(Ar(e)>16)throw Error(rS+Ar(e));if(!e.s)return new u(ga);for(Ft=!1,o=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(dl(2,c))/Math.LN10*2+5|0,o+=n,r=a=s=new u(ga),u.precision=o;;){if(a=gt(a.times(e),o),r=r.times(++l),i=s.plus(xi(a,r,o)),Fs(i.d).slice(0,o)===Fs(s.d).slice(0,o)){for(;c--;)s=gt(s.times(s),o);return u.precision=f,t==null?(Ft=!0,gt(s,f)):s}s=i}}function Ar(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function i1(e,t,r){if(t>e.LN10.sd())throw Ft=!0,r&&(e.precision=r),Error(Xa+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function so(e){for(var t="";e--;)t+="0";return t}function s0(e,t){var r,n,a,s,i,o,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(Xa+(p.s?"NaN":"-Infinity"));if(p.eq(ga))return new v(0);if(t==null?(Ft=!1,c=g):c=t,p.eq(10))return t==null&&(Ft=!0),i1(v,c);if(c+=h,v.precision=c,r=Fs(m),n=r.charAt(0),s=Ar(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Fs(p.d),n=r.charAt(0),f++;s=Ar(p),n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return l=i1(v,c+2,g).times(s+""),p=s0(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=g,t==null?(Ft=!0,gt(p,g)):p;for(o=i=p=xi(p.minus(ga),p.plus(ga),c),u=gt(p.times(p),c),a=3;;){if(i=gt(i.times(u),c),l=o.plus(xi(i,new v(a),c)),Fs(l.d).slice(0,c)===Fs(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(i1(v,c+2,g).times(s+""))),o=xi(o,new v(f),c),v.precision=g,t==null?(Ft=!0,gt(o,g)):o;o=l,a+=2}}function gP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=ed(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=At;n<a;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ft&&(e.e>jv||e.e<-jv))throw Error(rS+r)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,r){var n,a,s,i,o,l,c,u,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=At,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/At),s=f.length,u>=s)return e;for(c=s=f[u],i=1;s>=10;s/=10)i++;n%=At,a=n-At+i}if(r!==void 0&&(s=dl(10,i-a-1),o=c/s%10|0,l=t<0||f[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/dl(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=Ar(e),f.length=1,t=t-s-1,f[0]=dl(10,(At-t%At)%At),e.e=ed(-t/At)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=dl(10,At-n),f[u]=a>0?(c/dl(10,i-a)%dl(10,a)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==Gr&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=Gr)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ft&&(e.e>jv||e.e<-jv))throw Error(rS+Ar(e));return e}function MF(e,t){var r,n,a,s,i,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ft?gt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/At),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=Gr-1;--l[s],l[a]+=Gr}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Ft?gt(t,p):t):new h(0)}function ql(e,t,r){var n,a=Ar(e),s=Fs(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+so(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+so(-a-1)+s,r&&(n=r-i)>0&&(s+=so(n))):a>=i?(s+=so(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+so(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=so(n))),e.s<0?"-"+s:s}function xP(e,t){if(e.length>t)return e.length=t,!0}function IF(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Dl+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return gP(i,s.toString())}else if(typeof s!="string")throw Error(Dl+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,Fre.test(s))gP(i,s);else throw Error(Dl+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=IF,a.config=a.set=Lre,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function Lre(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,r,n,a=["precision",1,Qu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(ed(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Dl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Dl+r+": "+n);return this}var nS=IF(Rre);ga=new nS(1);const lt=nS;var $re=e=>e,RF={},FF=e=>e===RF,yP=e=>function t(){return arguments.length===0||arguments.length===1&&FF(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},LF=(e,t)=>e===1?t:yP(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==RF).length;return s>=e?t(...n):LF(e-s,yP(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=n.map(u=>FF(u)?o.shift():u);return t(...c,...o)}))}),Bre=e=>LF(e.length,e),$w=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},zre=Bre((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Ure=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $re;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},Bw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function $F(e){var t;return e===0?t=1:t=Math.floor(new lt(e).abs().log(10).toNumber())+1,t}function BF(e,t,r){for(var n=new lt(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var zF=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},UF=(e,t,r)=>{if(e.lte(0))return new lt(0);var n=$F(e.toNumber()),a=new lt(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new lt(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new lt(l.toNumber()):new lt(Math.ceil(l.toNumber()))},Vre=(e,t,r)=>{var n=new lt(1),a=new lt(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new lt(10).pow($F(e)-1),a=new lt(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new lt(Math.floor(e)))}else e===0?a=new lt(Math.floor((t-1)/2)):r||(a=new lt(Math.floor(e)));var i=Math.floor((t-1)/2),o=Ure(zre(l=>a.add(new lt(l-i).mul(n)).toNumber()),$w);return o(0,t)},VF=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new lt(0),tickMin:new lt(0),tickMax:new lt(0)};var i=UF(new lt(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new lt(0):(o=new lt(t).add(r).div(2),o=o.sub(new lt(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new lt(r).sub(o).div(i).toNumber()),u=l+c+1;return u>n?VF(t,r,n,a,s+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:i,tickMin:o.sub(new lt(l).mul(i)),tickMax:o.add(new lt(c).mul(i))})},Wre=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=zF([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...$w(0,a-1).map(()=>1/0)]:[...$w(0,a-1).map(()=>-1/0),l];return r>n?Bw(c):c}if(o===l)return Vre(o,a,s);var{step:u,tickMin:f,tickMax:h}=VF(o,l,i,s,0),p=BF(f,h.add(new lt(.1).mul(u)),u);return r>n?Bw(p):p},Hre=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=zF([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var l=Math.max(r,2),c=UF(new lt(o).sub(i).div(l-1),s,0),u=[...BF(new lt(i),new lt(o),c),o];return s===!1&&(u=u.map(f=>Math.round(f))),n>a?Bw(u):u},WF=e=>e.rootProps.maxBarSize,Kre=e=>e.rootProps.barGap,HF=e=>e.rootProps.barCategoryGap,Gre=e=>e.rootProps.barSize,rh=e=>e.rootProps.stackOffset,KF=e=>e.rootProps.reverseStackOrder,aS=e=>e.options.chartName,sS=e=>e.rootProps.syncId,GF=e=>e.rootProps.syncMethod,iS=e=>e.options.eventEmitter,qre=e=>e.rootProps.baseValue,lr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ui={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ma={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},xx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Yre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:ui.reversed,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:ui.type,unit:void 0},Xre={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},Zre={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ui.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ui.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ui.scale,tick:ui.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Jre={allowDataOverflow:ma.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:"category",unit:void 0},oS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Zre:Yre,lS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Jre:Xre,yx=e=>e.polarOptions,cS=ee([Ki,Gi,$r],UR),qF=ee([yx,cS],(e,t)=>{if(e!=null)return Nn(e.innerRadius,t,0)}),YF=ee([yx,cS],(e,t)=>{if(e!=null)return Nn(e.outerRadius,t,t*.8)}),Qre=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},XF=ee([yx],Qre);ee([oS,XF],xx);var ZF=ee([cS,qF,YF],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([lS,ZF],xx);var JF=ee([He,yx,qF,YF,Ki,Gi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:Nn(i,a,a/2),cy:Nn(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),Lt=(e,t)=>t,nh=(e,t,r)=>r;function bx(e){return e==null?void 0:e.id}function QF(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=bx(o);c.forEach((f,h)=>{var p=s==null||a?h:String(ut(f,s,null)),m=ut(f,o.dataKey,0),v;i.has(p)?v=i.get(p):v={},Object.assign(v,{[u]:m}),i.set(p,v)})}}),Array.from(i.values())}function wx(e){return e.stackId!=null&&e.dataKey!=null}var _x=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function kx(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function ene(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Ur=e=>{var t=He(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},td=e=>e.tooltip.settings.axisId;function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){tne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tne(e,t,r){return(t=rne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rne(e){var t=nne(e,"string");return typeof t=="symbol"?t:t+""}function nne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zw=[0,"auto"],Hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},e6=(e,t)=>e.cartesianAxis.xAxis[t],ei=(e,t)=>{var r=e6(e,t);return r??Hr},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:q0},t6=(e,t)=>e.cartesianAxis.yAxis[t],ti=(e,t)=>{var r=t6(e,t);return r??Kr},ane={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},uS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??ane},Qt=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"zAxis":return uS(e,r);case"angleAxis":return oS(e,r);case"radiusAxis":return lS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sne=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ah=(e,t,r)=>{switch(t){case"xAxis":return ei(e,r);case"yAxis":return ti(e,r);case"angleAxis":return oS(e,r);case"radiusAxis":return lS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},r6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function dS(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var sh=e=>e.graphicalItems.cartesianItems,ine=ee([Lt,nh],dS),fS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),ih=ee([sh,Qt,ine],fS,{memoizeOptions:{resultEqualityCheck:kx}}),n6=ee([ih],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wx)),a6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),one=ee([ih],a6),hS=e=>e.map(t=>t.data).filter(Boolean).flat(1),lne=ee([ih],hS,{memoizeOptions:{resultEqualityCheck:kx}}),pS=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},mS=ee([lne,th],pS),vS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ut(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:ut(a,n)}))):e.map(n=>({value:n})),Sx=ee([mS,Qt,ih],vS);function s6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function dm(e){if(qa(e)||e instanceof Date){var t=Number(e);if(dt(t))return t}}function wP(e){if(Array.isArray(e)){var t=[dm(e[0]),dm(e[1])];return Mo(t)?t:void 0}var r=dm(e);if(r!=null)return[r,r]}function Ii(e){return e.map(dm).filter(bY)}function cne(e,t,r){return!r||typeof t!="number"||ca(t)?[]:r.length?Ii(r.flatMap(n=>{var a=ut(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!dt(s)||!dt(i)))return[t-s,t+i]})):[]}var Vr=e=>{var t=Ur(e),r=td(e);return ah(e,t,r)},oh=ee([Vr],e=>e==null?void 0:e.dataKey),une=ee([n6,th,Vr],QF),i6=(e,t,r,n)=>{var a={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=n?[...l].reverse():l,u=c.map(bx);return[o,{stackedData:FZ(e,u,r),graphicalItems:c}]}))},i0=ee([une,n6,rh,KF],i6),o6=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=zZ(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},dne=ee([Qt],e=>e.allowDataOverflow),gS=e=>{var t;if(e==null||!("domain"in e))return zw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ii(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:zw},xS=ee([Qt],gS),yS=ee([xS,dne],PF),fne=ee([i0,Yo,Lt,yS],o6,{memoizeOptions:{resultEqualityCheck:_x}}),Ex=e=>e.errorBars,hne=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>s6(r,n)),Nv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},bS=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,u,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(x=>s6(a,x)),h=ut(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),p=cne(o,h,f);if(p.length>=2){var m=Math.min(...p),v=Math.max(...p);(s==null||m<s)&&(s=m),(i==null||v>i)&&(i=v)}var g=wP(h);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),i=i==null?g[1]:Math.max(i,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=wP(ut(o,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),i=i==null?l[1]:Math.max(i,l[1]))}),dt(s)&&dt(i))return[s,i]},pne=ee([mS,Qt,one,Ex,Lt],bS,{memoizeOptions:{resultEqualityCheck:_x}});function mne(e){var{value:t}=e;if(qa(t)||t instanceof Date)return t}var vne=(e,t,r)=>{var n=e.map(mne).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&r5(n))?YR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},l6=e=>e.referenceElements.dots,rd=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),gne=ee([l6,Lt,nh],rd),c6=e=>e.referenceElements.areas,xne=ee([c6,Lt,nh],rd),u6=e=>e.referenceElements.lines,yne=ee([u6,Lt,nh],rd),d6=(e,t)=>{var r=Ii(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},bne=ee(gne,Lt,d6),f6=(e,t)=>{var r=Ii(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},wne=ee([xne,Lt],f6);function _ne(e){var t;if(e.x!=null)return Ii([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Ii(r)}function kne(e){var t;if(e.y!=null)return Ii([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Ii(r)}var h6=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?_ne(n):kne(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Sne=ee([yne,Lt],h6),Ene=ee(bne,Sne,wne,(e,t,r)=>Nv(e,r,t)),wS=(e,t,r,n,a,s,i,o)=>{if(r!=null)return r;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?Nv(n,s,a):Nv(s,a);return Ire(t,c,e.allowDataOverflow)},Cne=ee([Qt,xS,yS,fne,pne,Ene,He,Lt],wS,{memoizeOptions:{resultEqualityCheck:_x}}),Tne=[0,1],_S=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,c=Qs(t,s);if(c&&o==null){var u;return YR(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return l==="category"?vne(n,e,c):a==="expand"?Tne:i}},kS=ee([Qt,He,mS,Sx,rh,Lt,Cne],_S),p6=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(U0(s));return o in Vd?o:"point"}}},nd=ee([Qt,He,r6,aS,Lt],p6);function Ane(e){if(e!=null){if(e in Vd)return Vd[e]();var t="scale".concat(U0(e));if(t in Vd)return Vd[t]()}}function SS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Ane(t);if(a!=null){var s=a.domain(r).range(n);return OZ(s),s}}}var ES=(e,t,r)=>{var n=gS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Mo(e))return Wre(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Mo(e))return Hre(e,t.tickCount,t.allowDecimals)}},CS=ee([kS,ah,nd],ES),TS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Mo(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},jne=ee([Qt,kS,CS,Lt],TS),Pne=ee(Sx,Qt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ii(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),m6=ee(Pne,He,HF,$r,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!dt(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Nn(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),Nne=(e,t)=>{var r=ei(e,t);return r==null||typeof r.padding!="string"?0:m6(e,"xAxis",t,r.padding)},One=(e,t)=>{var r=ti(e,t);return r==null||typeof r.padding!="string"?0:m6(e,"yAxis",t,r.padding)},Dne=ee(ei,Nne,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),Mne=ee(ti,One,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),Ine=ee([$r,Dne,ox,ix,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Rne=ee([$r,He,Mne,ox,ix,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),lh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return Ine(e,r,n);case"yAxis":return Rne(e,r,n);case"zAxis":return(a=uS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return XF(e);case"radiusAxis":return ZF(e,r);default:return}},v6=ee([Qt,lh],xx),Io=ee([Qt,nd,jne,v6],SS);ee([ih,Ex,Lt],hne);function g6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cx=(e,t)=>t,Tx=(e,t,r)=>r,Fne=ee(ax,Cx,Tx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g6)),Lne=ee(sx,Cx,Tx,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(g6)),x6=(e,t)=>({width:e.width,height:t.height}),$ne=(e,t)=>{var r=typeof t.width=="number"?t.width:q0;return{width:r,height:e.height}},y6=ee($r,ei,x6),Bne=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},zne=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Une=ee(Gi,$r,Fne,Cx,Tx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=x6(t,o);i==null&&(i=Bne(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(c)*l.height,i+=(c?-1:1)*l.height}),s}),Vne=ee(Ki,$r,Lne,Cx,Tx,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=$ne(t,o);i==null&&(i=zne(t,n,e));var c=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(c)*l.width,i+=(c?-1:1)*l.width}),s}),Wne=(e,t)=>{var r=ei(e,t);if(r!=null)return Une(e,r.orientation,r.mirror)},Hne=ee([$r,ei,Wne,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Kne=(e,t)=>{var r=ti(e,t);if(r!=null)return Vne(e,r.orientation,r.mirror)},Gne=ee([$r,ti,Kne,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),b6=ee($r,ti,(e,t)=>{var r=typeof t.width=="number"?t.width:q0;return{width:r,height:e.height}}),_P=(e,t,r)=>{switch(t){case"xAxis":return y6(e,r).width;case"yAxis":return b6(e,r).height;default:return}},w6=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=Qs(e,n),l=t.map(c=>c.value);if(i&&o&&s==="category"&&a&&r5(l))return l}},AS=ee([He,Sx,Qt,Lt],w6),_6=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=Qs(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},jS=ee([He,Sx,ah,Lt],_6),kP=ee([He,sne,nd,Io,AS,jS,lh,CS,Lt],(e,t,r,n,a,s,i,o,l)=>{if(t!=null){var c=Qs(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}}),qne=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var c=Qs(e,l),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&s!=null&&s.length>=2?Zr(s[0]-s[1])*2*m:m;var v=f||a;if(v){var g=v.map((x,b)=>{var y=i?i.indexOf(x):x;return{index:b,coordinate:n(y)+m,value:x,offset:m}});return g.filter(x=>dt(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})).filter(x=>dt(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:i?i[x]:x,index:b,offset:m}))}},k6=ee([He,ah,nd,Io,CS,lh,AS,jS,Lt],qne),Yne=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=Qs(e,i),{tickCount:l}=t,c=0;return c=i==="angleAxis"&&(n==null?void 0:n.length)>=2?Zr(n[0]-n[1])*2*c:c,o&&s?s.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},Gs=ee([He,ah,Io,lh,AS,jS,Lt],Yne),qs=ee(Qt,Io,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})}),Xne=ee([Qt,nd,kS,v6],SS);ee((e,t,r)=>uS(e,r),Xne,(e,t)=>{if(!(e==null||t==null))return Pv(Pv({},e),{},{scale:t})});var Zne=ee([He,ax,sx],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),S6=e=>e.options.defaultTooltipEventType,E6=e=>e.options.validateTooltipEventTypes;function C6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function PS(e,t){var r=S6(e),n=E6(e);return C6(t,r,n)}function Jne(e){return Se(t=>PS(t,e))}var T6=(e,t)=>{var r,n=Number(t);if(!(ca(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Qne=e=>e.tooltip.settings,uo={active:!1,index:null,dataKey:void 0,coordinate:void 0},eae={itemInteraction:{click:uo,hover:uo},axisInteraction:{click:uo,hover:uo},keyboardInteraction:uo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},A6=ua({name:"tooltip",initialState:eae,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Dt()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bs(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Dt()},removeTooltipEntrySettings:{reducer(e,t){var r=bs(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Dt()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:tae,replaceTooltipEntrySettings:rae,removeTooltipEntrySettings:nae,setTooltipSettingsState:aae,setActiveMouseOverItemIndex:j6,mouseLeaveItem:sae,mouseLeaveChart:P6,setActiveClickItemIndex:iae,setMouseOverAxisIndex:N6,setMouseClickAxisIndex:oae,setSyncInteraction:Uw,setKeyboardInteraction:Vw}=A6.actions,lae=A6.reducer;function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _p(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){cae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cae(e,t,r){return(t=uae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uae(e){var t=dae(e,"string");return typeof t=="symbol"?t:t+""}function dae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fae(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function hae(e){return e.index!=null}var O6=(e,t,r,n)=>{if(t==null)return uo;var a=fae(e,t,r);if(a==null)return uo;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(hae(a)){if(s)return _p(_p({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return _p(_p({},uo),{},{coordinate:a.coordinate})};function pae(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function mae(e,t){var r=pae(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function vae(e,t,r){if(r==null||t==null)return!0;var n=ut(e,t);return n==null||!Mo(r)?!0:mae(n,r)}var NS=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!dt(s))return a;var i=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(i,Math.min(s,o)),c=t[l];return c==null||vae(c,r,n)?String(l):null},D6=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},M6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},ch=e=>e.options.tooltipPayloadSearcher,ad=e=>e.tooltip;function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function CP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){gae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gae(e,t,r){return(t=xae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xae(e){var t=yae(e,"string");return typeof t=="symbol"?t:t+""}function yae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bae(e,t){return e??t}var I6=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:v,settings:g}=p,x=bae(v,o),b=Array.isArray(x)?dR(x,c,u):x,y=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,_=g==null?void 0:g.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?S=n5(b,n,a):S=s(b,t,l,_),Array.isArray(S))S.forEach(E=>{var C=CP(CP({},g),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(ej({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:ut(E.payload,E.dataKey),name:E.name}))});else{var k;h.push(ej({tooltipEntrySettings:g,dataKey:y,payload:S,value:ut(S,y),name:(k=ut(S,_))!==null&&k!==void 0?k:g==null?void 0:g.name}))}return h},f)}},OS=ee([Vr,He,r6,aS,Ur],p6),wae=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),_ae=ee([Ur,td],dS),uh=ee([wae,Vr,_ae],fS,{memoizeOptions:{resultEqualityCheck:kx}}),kae=ee([uh],e=>e.filter(wx)),Sae=ee([uh],hS,{memoizeOptions:{resultEqualityCheck:kx}}),sd=ee([Sae,Yo],pS),Eae=ee([kae,Yo,Vr],QF),DS=ee([sd,Vr,uh],vS),R6=ee([Vr],gS),Cae=ee([Vr],e=>e.allowDataOverflow),F6=ee([R6,Cae],PF),Tae=ee([uh],e=>e.filter(wx)),Aae=ee([Eae,Tae,rh,KF],i6),jae=ee([Aae,Yo,Ur,F6],o6),Pae=ee([uh],a6),Nae=ee([sd,Vr,Pae,Ex,Ur],bS,{memoizeOptions:{resultEqualityCheck:_x}}),Oae=ee([l6,Ur,td],rd),Dae=ee([Oae,Ur],d6),Mae=ee([c6,Ur,td],rd),Iae=ee([Mae,Ur],f6),Rae=ee([u6,Ur,td],rd),Fae=ee([Rae,Ur],h6),Lae=ee([Dae,Fae,Iae],Nv),$ae=ee([Vr,R6,F6,jae,Nae,Lae,He,Ur],wS),dh=ee([Vr,He,sd,DS,rh,Ur,$ae],_S),Bae=ee([dh,Vr,OS],ES),zae=ee([Vr,dh,Bae,Ur],TS),L6=e=>{var t=Ur(e),r=td(e),n=!1;return lh(e,t,r,n)},$6=ee([Vr,L6],xx),B6=ee([Vr,OS,zae,$6],SS),Uae=ee([He,DS,Vr,Ur],w6),Vae=ee([He,DS,Vr,Ur],_6),Wae=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=Qs(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Zr(a[0]-a[1])*2*f:f,c&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},Yi=ee([He,Vr,OS,B6,L6,Uae,Vae,Ur],Wae),MS=ee([S6,E6,Qne],(e,t,r)=>C6(r.shared,e,t)),z6=e=>e.tooltip.settings.trigger,IS=e=>e.tooltip.settings.defaultIndex,Ax=ee([ad,MS,z6,IS],O6),Ro=ee([Ax,sd,oh,dh],NS),U6=ee([Yi,Ro],T6),V6=ee([Ax],e=>{if(e)return e.dataKey}),W6=ee([ad,MS,z6,IS],M6),Hae=ee([Ki,Gi,He,$r,Yi,IS,W6,ch],D6),Kae=ee([Ax,Hae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Gae=ee([Ax],e=>e.active),qae=ee([W6,Ro,Yo,oh,U6,ch,MS],I6),Yae=ee([qae],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Xae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xae(e,t,r){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zae(e){var t=Jae(e,"string");return typeof t=="symbol"?t:t+""}function Jae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qae=()=>Se(Vr),ese=()=>{var e=Qae(),t=Se(Yi),r=Se(B6);return Do(!e||!r?void 0:AP(AP({},e),{},{scale:r}),t)};function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){tse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tse(e,t,r){return(t=rse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ase=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},sse=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return Cc(Cc(Cc({},n),Tr(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return Cc(Cc(Cc({},n),Tr(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ise(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var H6=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Zr(u-c)!==Zr(f-u)){var p=[];if(Zr(f-u)===Zr(a[1]-a[0])){h=f;var m=u+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var v=f+a[1]-a[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,f),b=Math.max(c,f);if(e>(x+u)/2&&e<=(b+u)/2){({index:i}=r[l]);break}}}else if(t){for(var y=0;y<o;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}}return i},K6=()=>Se(aS),RS=(e,t)=>t,G6=(e,t,r)=>r,FS=(e,t,r,n)=>n,ose=ee(Yi,e=>Yg(e,t=>t.coordinate)),LS=ee([ad,RS,G6,FS],O6),$S=ee([LS,sd,oh,dh],NS),lse=(e,t,r)=>{if(t!=null){var n=ad(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},q6=ee([ad,RS,G6,FS],M6),Ov=ee([Ki,Gi,He,$r,Yi,FS,q6,ch],D6),cse=ee([LS,Ov],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),Y6=ee([Yi,$S],T6),use=ee([q6,$S,Yo,oh,Y6,ch,RS],I6),dse=ee([LS,$S],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),fse=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&ise(e,i)){var o=UZ(e,t),l=H6(o,s,a,r,n),c=ase(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},hse=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var o=tee(e,r);if(o){var l=VZ(o,t),c=H6(l,i,s,n,a),u=sse(t,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},pse=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?fse(e,t,n,a,s,i,o):hse(e,t,r,n,a,s,i)},mse=ee(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),vse=ee(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(lr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:ene}});function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){gse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gse(e,t,r){return(t=xse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xse(e){var t=yse(e,"string");return typeof t=="symbol"?t:t+""}function yse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bse={},wse={zIndexMap:Object.values(lr).reduce((e,t)=>NP(NP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),bse)},_se=new Set(Object.values(lr));function kse(e){return _se.has(e)}var X6=ua({name:"zIndex",initialState:wse,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Dt()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!kse(r)&&delete e.zIndexMap[r])},prepare:Dt()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:Dt()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:Dt()}}}),{registerZIndexPortal:Sse,unregisterZIndexPortal:Ese,registerZIndexPortalId:Cse,unregisterZIndexPortalId:Tse}=X6.actions,Ase=X6.reducer;function In(e){var{zIndex:t,children:r}=e,n=gJ(),a=n&&t!==void 0&&t!==0,s=Br(),i=xt();w.useLayoutEffect(()=>a?(i(Sse({zIndex:t})),()=>{i(Ese({zIndex:t}))}):V0,[i,t,a]);var o=Se(c=>mse(c,t,s));if(!a)return r;if(!o)return null;var l=document.getElementById(o);return l?M0.createPortal(r,l):null}function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ww.apply(null,arguments)}function OP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OP(Object(r),!0).forEach(function(n){jse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jse(e,t,r){return(t=Pse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pse(e){var t=Nse(e,"string");return typeof t=="symbol"?t:t+""}function Nse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ose(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function Dse(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,f=r,h=n,p=a;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var m,v,g;if(u==="ScatterChart")m=f,v=gQ,g=lr.cursorLine;else if(u==="BarChart")m=xQ(o,f,s,i),v=zR,g=lr.cursorRectangle;else if(o==="radial"&&s5(f)){var{cx:x,cy:b,radius:y,startAngle:_,endAngle:S}=VR(f);m={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:y,outerRadius:y},v=HR,g=lr.cursorLine}else m={points:see(o,f,s)},v=pu,g=lr.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,E=kp(kp(kp(kp({stroke:"#ccc",pointerEvents:"none"},s),m),Wl(l)),{},{payload:h,payloadIndex:p,className:Ze("recharts-tooltip-cursor",k)});return w.createElement(In,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},w.createElement(Ose,{cursor:l,cursorComp:v,cursorProps:E}))}function Mse(e){var t=ese(),r=ER(),n=ic(),a=K6();return t==null||r==null||n==null||a==null?null:w.createElement(Dse,Ww({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var Z6=w.createContext(null),Ise=()=>w.useContext(Z6),J6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,m),!0}for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var _=g.length,S;for(y=0;y<_;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),x){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,u);break;case 3:g[y].fn.call(g[y].context,u,f);break;case 4:g[y].fn.call(g[y].context,u,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];g[y].fn.apply(g[y].context,b)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,g=[],x=m.length;v<x;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(J6);var Rse=J6.exports;const Fse=Js(Rse);var o0=new Fse,Hw="recharts.syncEvent.tooltip",DP="recharts.syncEvent.brush";function fh(e,t){if(t){var r=Number.parseInt(t,10);if(!ca(r))return e==null?void 0:e[r]}}var Lse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Q6=ua({name:"options",initialState:Lse,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$se=Q6.reducer,{createEventEmitter:Bse}=Q6.actions;function zse(e){return e.tooltip.syncInteraction}var Use={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e8=ua({name:"chartData",initialState:Use,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:MP,setDataStartEndIndexes:Vse,setComputedData:Q4e}=e8.actions,Wse=e8.reducer,Hse=["x","y"];function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){Kse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kse(e,t,r){return(t=Gse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gse(e){var t=qse(e,"string");return typeof t=="symbol"?t:t+""}function qse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yse(e,t){if(e==null)return{};var r,n,a=Xse(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xse(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zse(){var e=Se(sS),t=Se(iS),r=xt(),n=Se(GF),a=Se(Yi),s=ic(),i=Y0(),o=Se(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return V0;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(i&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:m,y:v}=p,g=Yse(p,Hse),{x,y:b,width:y,height:_}=u.payload.sourceViewBox,S=Tc(Tc({},g),{},{x:i.x+(y?(m-x)/y:0)*i.width,y:i.y+(_?(v-b)/_:0)*i.height});r(Tc(Tc({},u),{},{payload:Tc(Tc({},u.payload),{},{coordinate:S})}))}else r(u);return}if(a!=null){var k;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(a,E);k=a[C]}else n==="value"&&(k=a.find(q=>String(q.value)===u.payload.label));var{coordinate:T}=u.payload;if(k==null||u.payload.active===!1||T==null||i==null){r(Uw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:j,y:P}=T,A=Math.min(j,i.x+i.width),N=Math.min(P,i.y+i.height),F={x:s==="horizontal"?k.coordinate:A,y:s==="horizontal"?N:k.coordinate},B=Uw({active:u.payload.active,coordinate:F,dataKey:u.payload.dataKey,index:String(k.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});r(B)}}};return o0.on(Hw,l),()=>{o0.off(Hw,l)}},[o,r,t,e,n,a,s,i])}function Jse(){var e=Se(sS),t=Se(iS),r=xt();w.useEffect(()=>{if(e==null)return V0;var n=(a,s,i)=>{t!==i&&e===a&&r(Vse(s))};return o0.on(DP,n),()=>{o0.off(DP,n)}},[r,t,e])}function Qse(){var e=xt();w.useEffect(()=>{e(Bse())},[e]),Zse(),Jse()}function eie(e,t,r,n,a,s){var i=Se(p=>lse(p,e,t)),o=Se(iS),l=Se(sS),c=Se(GF),u=Se(zse),f=u==null?void 0:u.active,h=Y0();w.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Uw({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});o0.emit(Hw,l,p,o)}},[f,r,i,a,n,o,l,c,s,h])}function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){tie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tie(e,t,r){return(t=rie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rie(e){var t=nie(e,"string");return typeof t=="symbol"?t:t+""}function nie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aie(e){return e.dataKey}function sie(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(YJ,t)}var LP=[],iie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ko.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ht(e){var t,r,n=Jt(e,iie),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:m,useTranslate3d:v,wrapperStyle:g,cursor:x,shared:b,trigger:y,defaultIndex:_,portal:S,axisId:k}=n,E=xt(),C=typeof _=="number"?String(_):_;w.useEffect(()=>{E(aae({shared:b,trigger:y,axisId:k,active:a,defaultIndex:C}))},[E,b,y,k,a,C]);var T=Y0(),j=RR(),P=Jne(b),{activeIndex:A,isActive:N}=(t=Se(oe=>dse(oe,P,y,C)))!==null&&t!==void 0?t:{},F=Se(oe=>use(oe,P,y,C)),B=Se(oe=>Y6(oe,P,y,C)),q=Se(oe=>cse(oe,P,y,C)),K=F,X=Ise(),I=(r=a??N)!==null&&r!==void 0?r:!1,[J,Z]=I5([K,I]),M=P==="axis"?B:void 0;eie(P,y,q,M,A,I);var z=S??X;if(z==null||T==null||P==null)return null;var G=K??LP;I||(G=LP),c&&G.length&&(G=k5(G.filter(oe=>oe.value!=null&&(oe.hide!==!0||n.includeHidden)),h,aie));var H=G.length>0,Q=w.createElement(rQ,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:u,active:I,coordinate:q,hasPayload:H,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:T,wrapperStyle:g,lastBoundingBox:J,innerRef:Z,hasPortalFromProps:!!S},sie(l,FP(FP({},n),{},{payload:G,label:M,active:I,activeIndex:A,coordinate:q,accessibilityLayer:j})));return w.createElement(w.Fragment,null,M0.createPortal(Q,z),I&&w.createElement(Mse,{cursor:x,tooltipEventType:P,coordinate:q,payload:G,index:A}))}var Ri=e=>null;Ri.displayName="Cell";function oie(e,t,r){return(t=lie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lie(e){var t=cie(e,"string");return typeof t=="symbol"?t:t+""}function cie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uie{constructor(t){oie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function die(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){fie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fie(e,t,r){return(t=hie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hie(e){var t=pie(e,"string");return typeof t=="symbol"?t:t+""}function pie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mie={cacheSize:2e3,enableCache:!0},t8=die({},mie),BP=new uie(t8.cacheSize),vie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},zP="recharts_measurement_span";function gie(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var UP=(e,t)=>{try{var r=document.getElementById(zP);r||(r=document.createElement("span"),r.setAttribute("id",zP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},lf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ko.isSsr)return{width:0,height:0};if(!t8.enableCache)return UP(t,r);var n=gie(t,r),a=BP.get(n);if(a)return a;var s=UP(t,r);return BP.set(n,s),s},VP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,yie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,r8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bie=Object.keys(r8),Zc="NaN";function wie(e,t){return e*r8[t]}class ea{static parse(t){var r,[,n,a]=(r=yie.exec(t))!==null&&r!==void 0?r:[];return new ea(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ca(t)&&(this.unit=""),r!==""&&!xie.test(r)&&(this.num=NaN,this.unit=""),bie.includes(r)&&(this.num=wie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ea(NaN,""):new ea(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ea(NaN,""):new ea(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ea(NaN,""):new ea(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ea(NaN,""):new ea(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ca(this.num)}}function n8(e){if(e.includes(Zc))return Zc;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=VP.exec(t))!==null&&r!==void 0?r:[],i=ea.parse(n??""),o=ea.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return Zc;t=t.replace(VP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=WP.exec(t))!==null&&c!==void 0?c:[],p=ea.parse(u??""),m=ea.parse(h??""),v=f==="+"?p.add(m):p.subtract(m);if(v.isNaN())return Zc;t=t.replace(WP,v.toString())}return t}var HP=/\(([^()]*)\)/;function _ie(e){for(var t=e,r;(r=HP.exec(t))!=null;){var[,n]=r;t=t.replace(HP,n8(n))}return t}function kie(e){var t=e.replace(/\s+/g,"");return t=_ie(t),t=n8(t),t}function Sie(e){try{return kie(e)}catch{return Zc}}function o1(e){var t=Sie(e.slice(5,-1));return t===Zc?"":t}var Eie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Cie=["dx","dy","angle","className","breakAll"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kw.apply(null,arguments)}function KP(e,t){if(e==null)return{};var r,n,a=Tie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a8=/[ \f\n\r\t\v\u2028\u2029]+/,s8=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Ot(t)||(r?a=t.toString().split(""):a=t.toString().split(a8));var s=a.map(o=>({word:o,width:lf(o,n).width})),i=r?0:lf("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Aie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var i8=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:o}=s,l=a[a.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(i),l.width+=o+r;else{var c={words:[i],width:o};a.push(c)}return a},[]),o8=e=>e.reduce((t,r)=>t.width>r.width?t:r),jie="",GP=(e,t,r,n,a,s,i,o)=>{var l=e.slice(0,t),c=s8({breakAll:r,style:n,children:l+jie});if(!c)return[!1,[]];var u=i8(c.wordsWithComputedWidth,s,i,o),f=u.length>a||o8(u).width>Number(s);return[f,u]},Pie=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=_e(s),u=String(i),f=i8(t,n,r,a);if(!c||a)return f;var h=f.length>s||o8(f).width>Number(n);if(!h)return f;for(var p=0,m=u.length-1,v=0,g;p<=m&&v<=u.length-1;){var x=Math.floor((p+m)/2),b=x-1,[y,_]=GP(u,b,l,o,s,n,r,a),[S]=GP(u,x,l,o,s,n,r,a);if(!y&&!S&&(p=x+1),y&&S&&(m=x-1),!y&&S){g=_;break}v++}return g||f},qP=e=>{var t=Ot(e)?[]:e.toString().split(a8);return[{words:t,width:void 0}]},Nie=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Ko.isSsr){var o,l,c=s8({breakAll:s,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return qP(n);return Pie({breakAll:s,children:n,maxLines:i,style:a},o,l,t,!!r)}return qP(n)},l8="#808080",Oie={angle:0,breakAll:!1,capHeight:"0.71em",fill:l8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},jx=w.forwardRef((e,t)=>{var r=Jt(e,Oie),{x:n,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,f=KP(r,Eie),h=w.useMemo(()=>Nie({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:v,className:g,breakAll:x}=f,b=KP(f,Cie);if(!qa(n)||!qa(a)||h.length===0)return null;var y=Number(n)+(_e(p)?p:0),_=Number(a)+(_e(m)?m:0);if(!dt(y)||!dt(_))return null;var S;switch(u){case"start":S=o1("calc(".concat(i,")"));break;case"middle":S=o1("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:S=o1("calc(".concat(h.length-1," * -").concat(s,")"));break}var k=[];if(l){var E=h[0].width,{width:C}=f;k.push("scale(".concat(_e(C)&&_e(E)?C/E:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(y,", ").concat(_,")")),k.length&&(b.transform=k.join(" ")),w.createElement("text",Kw({},vn(b),{ref:t,x:y,y:_,className:Ze("recharts-text",g),textAnchor:c,fill:o.includes("url")?l8:o}),h.map((T,j)=>{var P=T.words.join(x?"":" ");return w.createElement("tspan",{x:y,dy:j===0?S:s,key:"".concat(P,"-").concat(j)},P)}))});jx.displayName="Text";var Die=["labelRef"];function Mie(e,t){if(e==null)return{};var r,n,a=Iie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Iie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function YP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(r),!0).forEach(function(n){Rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rie(e,t,r){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}var c8=w.createContext(null),u8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:o}=e,l=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return w.createElement(c8.Provider,{value:l},o)},d8=()=>{var e=w.useContext(c8),t=Y0();return e||SR(t)},$ie=w.createContext(null),Bie=()=>{var e=w.useContext($ie),t=Se(JF);return e||t},zie=e=>{var{value:t,formatter:r}=e,n=Ot(e.children)?t:e.children;return typeof r=="function"?r(n):n},BS=e=>e!=null&&typeof e=="function",Uie=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},Vie=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=a,m=(c+u)/2,v=Uie(f,h),g=v>=0?1:-1,x,b;switch(t){case"insideStart":x=f+g*s,b=p;break;case"insideEnd":x=h-g*s,b=!p;break;case"end":x=h+g*s,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var y=Tr(o,l,m,x),_=Tr(o,l,m,x+(b?1:-1)*359),S="M".concat(y.x,",").concat(y.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),k=Ot(e.id)?Gf("recharts-radial-line-"):e.id;return w.createElement("text",di({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",i)}),w.createElement("defs",null,w.createElement("path",{id:k,d:S})),w.createElement("textPath",{xlinkHref:"#".concat(k)},r))},Wie=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=Tr(n,a,i+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:m}=Tr(n,a,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},Gw=e=>"cx"in e&&_e(e.cx),Hie=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!Gw(r)&&(s=r);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:u}=t,f=i,h=i+(l-c)/2,p=(f+h)/2,m=(l+c)/2,v=f+l/2,g=u>=0?1:-1,x=g*n,b=g>0?"end":"start",y=g>0?"start":"end",_=l>=0?1:-1,S=_*n,k=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var C={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return fr(fr({},C),s?{height:Math.max(o-s.y,0),width:l}:{})}if(a==="bottom"){var T={x:h+c/2,y:o+u+x,textAnchor:"middle",verticalAnchor:y};return fr(fr({},T),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(a==="left"){var j={x:p-S,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return fr(fr({},j),s?{width:Math.max(j.x-s.x,0),height:u}:{})}if(a==="right"){var P={x:p+m+S,y:o+u/2,textAnchor:E,verticalAnchor:"middle"};return fr(fr({},P),s?{width:Math.max(s.x+s.width-P.x,0),height:u}:{})}var A=s?{width:m,height:u}:{};return a==="insideLeft"?fr({x:p+S,y:o+u/2,textAnchor:E,verticalAnchor:"middle"},A):a==="insideRight"?fr({x:p+m-S,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},A):a==="insideTop"?fr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},A):a==="insideBottom"?fr({x:h+c/2,y:o+u-x,textAnchor:"middle",verticalAnchor:b},A):a==="insideTopLeft"?fr({x:f+S,y:o+x,textAnchor:E,verticalAnchor:y},A):a==="insideTopRight"?fr({x:f+l-S,y:o+x,textAnchor:k,verticalAnchor:y},A):a==="insideBottomLeft"?fr({x:h+S,y:o+u-x,textAnchor:E,verticalAnchor:b},A):a==="insideBottomRight"?fr({x:h+c-S,y:o+u-x,textAnchor:k,verticalAnchor:b},A):a&&typeof a=="object"&&(_e(a.x)||Pi(a.x))&&(_e(a.y)||Pi(a.y))?fr({x:i+Nn(a.x,m),y:o+Nn(a.y,u),textAnchor:"end",verticalAnchor:"end"},A):fr({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Kie={angle:0,offset:5,zIndex:lr.label,position:"middle",textBreakAll:!1};function io(e){var t=Jt(e,Kie),{viewBox:r,position:n,value:a,children:s,content:i,className:o="",textBreakAll:l,labelRef:c}=t,u=Bie(),f=d8(),h=n==="center"?f:u??f,p,m,v;if(r==null?p=h:Gw(r)?p=r:p=SR(r),!p||Ot(a)&&Ot(s)&&!w.isValidElement(i)&&typeof i!="function")return null;var g=fr(fr({},t),{},{viewBox:p});if(w.isValidElement(i)){var{labelRef:x}=g,b=Mie(g,Die);return w.cloneElement(i,b)}if(typeof i=="function"){if(m=w.createElement(i,g),w.isValidElement(m))return m}else m=zie(t);var y=vn(t);if(Gw(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return Vie(t,n,m,y,p);v=Wie(p,t.offset,t.position)}else v=Hie(t,p);return w.createElement(In,{zIndex:t.zIndex},w.createElement(jx,di({ref:c,className:Ze("recharts-label",o)},y,v,{textAnchor:Aie(y.textAnchor)?y.textAnchor:v.textAnchor,breakAll:l}),m))}io.displayName="Label";var Gie=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(io,di({key:"label-implicit"},n)):qa(e)?w.createElement(io,di({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===io?w.cloneElement(e,fr({key:"label-implicit"},n)):w.createElement(io,di({key:"label-implicit",content:e},n)):BS(e)?w.createElement(io,di({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(io,di({},e,{key:"label-implicit"},n)):null};function f8(e){var{label:t,labelRef:r}=e,n=d8();return Gie(t,n,r)||null}var h8={},p8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(p8);var m8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(m8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p8,r=m8,n=Gg;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(h8);var qie=h8.last;const Yie=Js(qie);var Xie=["valueAccessor"],Zie=["dataKey","clockWise","id","textBreakAll","zIndex"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function XP(e,t){if(e==null)return{};var r,n,a=Jie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Jie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qie=e=>Array.isArray(e.value)?Yie(e.value):e.value,v8=w.createContext(void 0),zS=v8.Provider,g8=w.createContext(void 0),eoe=g8.Provider;function toe(){return w.useContext(v8)}function roe(){return w.useContext(g8)}function fm(e){var{valueAccessor:t=Qie}=e,r=XP(e,Xie),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:o}=r,l=XP(r,Zie),c=toe(),u=roe(),f=c||u;return!f||!f.length?null:w.createElement(In,{zIndex:o??lr.label},w.createElement(Zt,{className:"recharts-label-list"},f.map((h,p)=>{var m,v=Ot(n)?t(h,p):ut(h&&h.payload,n),g=Ot(s)?{}:{id:"".concat(s,"-").concat(p)};return w.createElement(io,Dv({key:"label-".concat(p)},vn(h),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:i,viewBox:h.viewBox,index:p,zIndex:0}))})))}fm.displayName="LabelList";function Px(e){var{label:t}=e;return t?t===!0?w.createElement(fm,{key:"labelList-implicit"}):w.isValidElement(t)||BS(t)?w.createElement(fm,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(fm,Dv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qw.apply(null,arguments)}var x8=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ze("recharts-dot",a);return _e(t)&&_e(r)&&_e(n)?w.createElement("circle",qw({},Gn(e),sk(e),{className:s,cx:t,cy:r,r:n})):null},y8=e=>e.graphicalItems.polarItems,noe=ee([Lt,nh],dS),Nx=ee([y8,Qt,noe],fS),aoe=ee([Nx],hS),Ox=ee([aoe,tS],pS),soe=ee([Ox,Qt,Nx],vS);ee([Ox,Qt,Nx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=ut(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:ut(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var ZP=()=>{},ioe=ee([Ox,Qt,Nx,Ex,Lt],bS),ooe=ee([Qt,xS,yS,ZP,ioe,ZP,He,Lt],wS),b8=ee([Qt,He,Ox,soe,rh,Lt,ooe],_S),loe=ee([b8,Qt,nd],ES);ee([Qt,b8,loe,Lt],TS);var coe={radiusAxis:{},angleAxis:{}},w8=ua({name:"polarAxis",initialState:coe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:eDe,removeRadiusAxis:tDe,addAngleAxis:rDe,removeAngleAxis:nDe}=w8.actions,uoe=w8.reducer;function JP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JP(Object(r),!0).forEach(function(n){doe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function doe(e,t,r){return(t=foe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function foe(e){var t=hoe(e,"string");return typeof t=="symbol"?t:t+""}function hoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var poe=(e,t)=>t,US=ee([y8,poe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),moe=[],VS=(e,t,r)=>(r==null?void 0:r.length)===0?moe:r,_8=ee([tS,US,VS],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>QP(QP({},t.presentationProps),s.props))),a!=null)return a}}),voe=ee([_8,US,VS],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=ut(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Ho(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),goe=ee([_8,US,VS,$r],(e,t,r,n)=>{if(!(t==null||e==null))return Sle({offset:n,pieSettings:t,displayedData:e,cells:r})}),k8={exports:{}},yt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=60103,Mx=60106,hh=60107,ph=60108,mh=60114,vh=60109,gh=60110,xh=60112,yh=60113,WS=60120,bh=60115,wh=60116,S8=60121,E8=60122,C8=60117,T8=60129,A8=60131;if(typeof Symbol=="function"&&Symbol.for){var an=Symbol.for;Dx=an("react.element"),Mx=an("react.portal"),hh=an("react.fragment"),ph=an("react.strict_mode"),mh=an("react.profiler"),vh=an("react.provider"),gh=an("react.context"),xh=an("react.forward_ref"),yh=an("react.suspense"),WS=an("react.suspense_list"),bh=an("react.memo"),wh=an("react.lazy"),S8=an("react.block"),E8=an("react.server.block"),C8=an("react.fundamental"),T8=an("react.debug_trace_mode"),A8=an("react.legacy_hidden")}function Ss(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Dx:switch(e=e.type,e){case hh:case mh:case ph:case yh:case WS:return e;default:switch(e=e&&e.$$typeof,e){case gh:case xh:case wh:case bh:case vh:return e;default:return t}}case Mx:return t}}}var xoe=vh,yoe=Dx,boe=xh,woe=hh,_oe=wh,koe=bh,Soe=Mx,Eoe=mh,Coe=ph,Toe=yh;yt.ContextConsumer=gh;yt.ContextProvider=xoe;yt.Element=yoe;yt.ForwardRef=boe;yt.Fragment=woe;yt.Lazy=_oe;yt.Memo=koe;yt.Portal=Soe;yt.Profiler=Eoe;yt.StrictMode=Coe;yt.Suspense=Toe;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Ss(e)===gh};yt.isContextProvider=function(e){return Ss(e)===vh};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dx};yt.isForwardRef=function(e){return Ss(e)===xh};yt.isFragment=function(e){return Ss(e)===hh};yt.isLazy=function(e){return Ss(e)===wh};yt.isMemo=function(e){return Ss(e)===bh};yt.isPortal=function(e){return Ss(e)===Mx};yt.isProfiler=function(e){return Ss(e)===mh};yt.isStrictMode=function(e){return Ss(e)===ph};yt.isSuspense=function(e){return Ss(e)===yh};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hh||e===mh||e===T8||e===ph||e===yh||e===WS||e===A8||typeof e=="object"&&e!==null&&(e.$$typeof===wh||e.$$typeof===bh||e.$$typeof===vh||e.$$typeof===gh||e.$$typeof===xh||e.$$typeof===C8||e.$$typeof===S8||e[0]===E8)};yt.typeOf=Ss;k8.exports=yt;var Aoe=k8.exports,eN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",tN=null,l1=null,j8=e=>{if(e===tN&&Array.isArray(l1))return l1;var t=[];return w.Children.forEach(e,r=>{Ot(r)||(Aoe.isFragment(r)?t=t.concat(j8(r.props.children)):t.push(r))}),l1=t,tN=e,t};function HS(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>eN(a)):n=[eN(t)],j8(e).forEach(a=>{var s=Hl(a,"type.displayName")||Hl(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var KS=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,P8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(P8);var joe=P8.isPlainObject;const Poe=Js(joe);function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){Noe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Noe(e,t,r){return(t=Ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ooe(e){var t=Doe(e,"string");return typeof t=="symbol"?t:t+""}function Doe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Mv(){return Mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mv.apply(null,arguments)}var aN=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},Moe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ioe=e=>{var t=Jt(e,Moe),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=w.useRef(null),[p,m]=w.useState(-1),v=w.useRef(a),g=w.useRef(s),x=w.useRef(i),b=w.useRef(r),y=w.useRef(n),_=Zu(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var F=h.current.getTotalLength();F&&m(F)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var S=Ze("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",Mv({},vn(t),{className:S,d:aN(r,n,a,s,i)})));var k=v.current,E=g.current,C=x.current,T=b.current,j=y.current,P="0px ".concat(p===-1?1:p,"px"),A="".concat(p,"px 0px"),N=FR(["strokeDasharray"],c,l);return w.createElement(Xu,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},F=>{var B=it(k,a,F),q=it(E,s,F),K=it(C,i,F),X=it(T,r,F),I=it(j,n,F);h.current&&(v.current=B,g.current=q,x.current=K,b.current=X,y.current=I);var J=F>0?{transition:N,strokeDasharray:A}:{strokeDasharray:P};return w.createElement("path",Mv({},vn(t),{className:S,d:aN(X,I,B,q,K),ref:h,style:nN(nN({},J),t.style)}))})},Roe=["option","shapeType","propTransformer","activeClassName"];function Foe(e,t){if(e==null)return{};var r,n,a=Loe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Loe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){$oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $oe(e,t,r){return(t=Boe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Boe(e){var t=zoe(e,"string");return typeof t=="symbol"?t:t+""}function zoe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uoe(e,t){return Iv(Iv({},t),e)}function Voe(e,t){return e==="symbols"}function iN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(zR,r);case"trapezoid":return w.createElement(Ioe,r);case"sector":return w.createElement(HR,r);case"symbols":if(Voe(t))return w.createElement(ak,r);break;case"curve":return w.createElement(pu,r);default:return null}}function Woe(e){return w.isValidElement(e)?e.props:e}function GS(e){var{option:t,shapeType:r,propTransformer:n=Uoe,activeClassName:a="recharts-active-shape"}=e,s=Foe(e,Roe),i;if(w.isValidElement(t))i=w.cloneElement(t,Iv(Iv({},s),Woe(t)));else if(typeof t=="function")i=t(s);else if(Poe(t)&&typeof t!="boolean"){var o=n(t,s);i=w.createElement(iN,{shapeType:r,elementProps:o})}else{var l=s;i=w.createElement(iN,{shapeType:r,elementProps:l})}return s.isActive?w.createElement(Zt,{className:a},i):i}var qS=(e,t)=>{var r=xt();return(n,a)=>s=>{e==null||e(n,a,s),r(j6({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},YS=e=>{var t=xt();return(r,n)=>a=>{e==null||e(r,n,a),t(sae())}},XS=(e,t)=>{var r=xt();return(n,a)=>s=>{e==null||e(n,a,s),r(iae({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Ix(e){var{tooltipEntrySettings:t}=e,r=xt(),n=Br(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(tae(t)):a.current!==t&&r(rae({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(nae(a.current)),a.current=null)},[r]),null}function ZS(e){var{legendPayload:t}=e,r=xt(),n=Br(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(DR(t)):a.current!==t&&r(MR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(IR(a.current)),a.current=null)},[r]),null}function Hoe(e){var{legendPayload:t}=e,r=xt(),n=Se(He),a=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(DR(t)):a.current!==t&&r(MR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(IR(a.current)),a.current=null)},[r]),null}var c1,Koe=()=>{var[e]=w.useState(()=>Gf("uid-"));return e},Goe=(c1=w7.useId)!==null&&c1!==void 0?c1:Koe;function N8(e,t){var r=Goe();return t||(e?"".concat(e,"-").concat(r):r)}var qoe=w.createContext(void 0),Rx=e=>{var{id:t,type:r,children:n}=e,a=N8("recharts-".concat(r),t);return w.createElement(qoe.Provider,{value:a},n(a))},Yoe={cartesianItems:[],polarItems:[]},O8=ua({name:"graphicalItems",initialState:Yoe,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Dt()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=bs(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Dt()},removeCartesianGraphicalItem:{reducer(e,t){var r=bs(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Dt()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Dt()},removePolarGraphicalItem:{reducer(e,t){var r=bs(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Dt()}}}),{addCartesianGraphicalItem:Xoe,replaceCartesianGraphicalItem:Zoe,removeCartesianGraphicalItem:Joe,addPolarGraphicalItem:Qoe,removePolarGraphicalItem:ele}=O8.actions,tle=O8.reducer,rle=e=>{var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Xoe(e)):r.current!==e&&t(Zoe({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(Joe(r.current)),r.current=null)},[t]),null},JS=w.memo(rle);function nle(e){var t=xt();return w.useLayoutEffect(()=>(t(Qoe(e)),()=>{t(ele(e))}),[t,e]),null}var ale=["key"],sle=["onMouseEnter","onClick","onMouseLeave"],ile=["id"],ole=["id"];function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){lle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lle(e,t,r){return(t=cle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cle(e){var t=ule(e,"string");return typeof t=="symbol"?t:t+""}function ule(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fo(){return Fo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fo.apply(null,arguments)}function Fx(e,t){if(e==null)return{};var r,n,a=dle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fle(e){var t=w.useMemo(()=>HS(e.children,Ri),[e.children]),r=Se(n=>voe(n,e.id,t));return r==null?null:w.createElement(Hoe,{legendPayload:r})}var hle=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:Ho(o,t),hide:l,type:c,color:i,unit:""}};return w.createElement(Ix,{tooltipEntrySettings:u})}),ple=(e,t)=>e>t?"start":e<t?"end":"middle",mle=(e,t,r)=>Nn(typeof t=="function"?t(e):t,r,r*.8),vle=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=UR(s,i),l=a+Nn(e.cx,s,s/2),c=n+Nn(e.cy,i,i/2),u=Nn(e.innerRadius,o,0),f=mle(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},gle=(e,t)=>{var r=Zr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function xle(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var yle=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ze("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Fx(t,ale);return w.createElement(pu,Fo({},a,{type:"linear",className:r}))},ble=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=Ze("recharts-pie-label-text",xle(e));return w.createElement(jx,Fo({},t,{alignmentBaseline:"middle",className:a}),n)};function wle(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=Gn(r),l=Wl(a),c=Wl(s),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,v=Tr(h.cx,h.cy,h.outerRadius+u,m),g=ar(ar(ar(ar({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:ple(v.x,h.cx)},v),x=ar(ar(ar(ar({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[Tr(h.cx,h.cy,h.outerRadius,m),v],key:"line"});return w.createElement(In,{zIndex:lr.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},w.createElement(Zt,null,s&&yle(s,x),ble(a,g,ut(h,i))))});return w.createElement(Zt,{className:"recharts-pie-labels"},f)}function _le(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(Px,{label:a}):w.createElement(wle,{sectors:t,props:r,showLabels:n})}function kle(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s}=e,i=Se(Ro),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=Fx(a,sle),f=qS(o,a.dataKey),h=YS(c),p=XS(l,a.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,v)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=String(v)===i,x=i?n:null,b=r&&g?r:x,y=ar(ar({},m),{},{stroke:m.stroke,tabIndex:-1,[vR]:v,[gR]:a.dataKey});return w.createElement(Zt,Fo({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},W0(u,m,v),{onMouseEnter:f(m,v),onMouseLeave:h(m,v),onClick:p(m,v)}),w.createElement(GS,Fo({option:s??b,shapeType:"sector",isActive:g},y)))}))}function Sle(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),p=gle(o,l),m=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(k=>ut(k,c,0)!==0).length,x=(m>=360?g:g-1)*v,b=m-g*h-x,y=n.reduce((k,E)=>{var C=ut(E,c,0);return k+(_e(C)?C:0)},0),_;if(y>0){var S;_=n.map((k,E)=>{var C=ut(k,c,0),T=ut(k,u,E),j=vle(r,s,k),P=(_e(C)?C:0)/y,A,N=ar(ar({},k),a&&a[E]&&a[E].props);E?A=S.endAngle+Zr(p)*v*(C!==0?1:0):A=o;var F=A+Zr(p)*((C!==0?h:0)+P*b),B=(A+F)/2,q=(j.innerRadius+j.outerRadius)/2,K=[{name:T,value:C,payload:N,dataKey:c,type:f}],X=Tr(j.cx,j.cy,q,B);return S=ar(ar(ar(ar({},r.presentationProps),{},{percent:P,cornerRadius:typeof i=="string"?parseFloat(i):i,name:T,tooltipPayload:K,midAngle:B,middleRadius:q,tooltipPosition:X},N),j),{},{value:C,startAngle:A,endAngle:F,payload:N,paddingAngle:Zr(p)*v}),S})}return _}function Ele(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(eoe,{value:t?a:void 0},n)}function Cle(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=Zu(t,"recharts-pie-"),p=r.current,[m,v]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),x=w.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return w.createElement(Ele,{showLabels:!m,sectors:n},w.createElement(Xu,{animationId:h,begin:s,duration:i,isActive:a,easing:o,onAnimationStart:x,onAnimationEnd:g,key:h},b=>{var y=[],_=n&&n[0],S=_==null?void 0:_.startAngle;return n==null||n.forEach((k,E)=>{var C=p&&p[E],T=E>0?Hl(k,"paddingAngle",0):0;if(C){var j=it(C.endAngle-C.startAngle,k.endAngle-k.startAngle,b),P=ar(ar({},k),{},{startAngle:S+T,endAngle:S+j+T});y.push(P),S=P.endAngle}else{var{endAngle:A,startAngle:N}=k,F=it(0,A-N,b),B=ar(ar({},k),{},{startAngle:S+T,endAngle:S+F+T});y.push(B),S=B.endAngle}}),r.current=y,w.createElement(Zt,null,w.createElement(kle,{sectors:y,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),w.createElement(_le,{showLabels:!m,sectors:n,props:t}),t.children)}var Tle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ko.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:lr.area};function Ale(e){var{id:t}=e,r=Fx(e,ile),{hide:n,className:a,rootTabIndex:s}=e,i=w.useMemo(()=>HS(e.children,Ri),[e.children]),o=Se(u=>goe(u,t,i)),l=w.useRef(null),c=Ze("recharts-pie",a);return n||o==null?(l.current=null,w.createElement(Zt,{tabIndex:s,className:c})):w.createElement(In,{zIndex:e.zIndex},w.createElement(hle,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(Zt,{tabIndex:s,className:c},w.createElement(Cle,{props:ar(ar({},r),{},{sectors:o}),previousSectorsRef:l})))}function QS(e){var t=Jt(e,Tle),{id:r}=t,n=Fx(t,ole),a=Gn(n);return w.createElement(Rx,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(nle,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(fle,Fo({},n,{id:s})),w.createElement(Ale,Fo({},n,{id:s}))))}QS.displayName="Pie";var jle=["points"];function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function u1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){Ple(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ple(e,t,r){return(t=Nle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nle(e){var t=Ole(e,"string");return typeof t=="symbol"?t:t+""}function Ole(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rv(){return Rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rv.apply(null,arguments)}function Dle(e,t){if(e==null)return{};var r,n,a=Mle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ile(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ze(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,o=Dle(s,jle);return w.createElement(x8,Rv({},o,{className:a}))}function Rle(e,t){return e==null?!1:t?!0:e.length===1}function D8(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:o,clipPathId:l,zIndex:c=lr.scatter}=e;if(!Rle(t,r))return null;var u=KS(r),f=Nq(r),h=t.map((m,v)=>{var g,x,b=u1(u1(u1({r:3},i),f),{},{index:v,cx:(g=m.x)!==null&&g!==void 0?g:void 0,cy:(x=m.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:m.value,payload:m.payload,points:t});return w.createElement(Ile,{key:"dot-".concat(v),option:r,dotProps:b,className:a})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),w.createElement(In,{zIndex:c},w.createElement(Zt,Rv({className:n},p),h))}function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(n){Fle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fle(e,t,r){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lle(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ble={xAxis:{},yAxis:{},zAxis:{}},M8=ua({name:"cartesianAxis",initialState:Ble,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Dt()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Dt()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Dt()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Dt()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Dt()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Dt()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Dt()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Dt()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Dt()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=uN(uN({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:zle,replaceXAxis:Ule,removeXAxis:Vle,addYAxis:Wle,replaceYAxis:Hle,removeYAxis:Kle,addZAxis:aDe,replaceZAxis:sDe,removeZAxis:iDe,updateYAxisWidth:Gle}=M8.actions,qle=M8.reducer,Yle=ee([$r],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Xle=ee([Yle,Ki,Gi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Lx=()=>Se(Xle),Zle=()=>Se(Yae);function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function d1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){Jle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jle(e,t,r){return(t=Qle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qle(e){var t=ece(e,"string");return typeof t=="symbol"?t:t+""}function ece(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tce=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=d1(d1(d1({},o),Wl(a)),sk(a)),c;return w.isValidElement(a)?c=w.cloneElement(a,l):typeof a=="function"?c=a(l):c=w.createElement(x8,l),w.createElement(Zt,{className:"recharts-active-dot",clipPath:i},c)};function Yw(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=lr.activeDot}=e,o=Se(Ro),l=Zle();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return Ot(c)?null:w.createElement(In,{zIndex:i},w.createElement(tce,{point:c,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var rce="Invariant failed";function nce(e,t){throw new Error(rce)}var ace=["x","y"];function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xw.apply(null,arguments)}function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Od(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){sce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sce(e,t,r){return(t=ice(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ice(e){var t=oce(e,"string");return typeof t=="symbol"?t:t+""}function oce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lce(e,t){if(e==null)return{};var r,n,a=cce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uce(e,t){var{x:r,y:n}=e,a=lce(e,ace),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Od(Od(Od(Od(Od({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Fv(e){return w.createElement(GS,Xw({shapeType:"rectangle",propTransformer:uce,activeClassName:"recharts-active-bar"},e))}var dce=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(_e(t))return t;var s=_e(n)||Ot(n);return s?t(n,a):(s||nce(),r)}},fce={},I8=ua({name:"errorBars",initialState:fce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:oDe,replaceErrorBar:lDe,removeErrorBar:cDe}=I8.actions,hce=I8.reducer,pce=["children"];function mce(e,t){if(e==null)return{};var r,n,a=vce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},xce=w.createContext(gce);function R8(e){var{children:t}=e,r=mce(e,pce);return w.createElement(xce.Provider,{value:r},t)}function $x(e,t){var r,n,a=Se(c=>ei(c,e)),s=Se(c=>ti(c,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Hr.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Kr.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function eE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Lx(),{needClipX:s,needClipY:i,needClip:o}=$x(t,r);if(!o||!a)return null;var{x:l,y:c,width:u,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?l:l-u/2,y:i?c:c-f/2,width:s?u:u*2,height:i?f:f*2}))}function yce(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&dt(e.zIndex)?e.zIndex:t}var bce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=w;function wce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _ce=typeof Object.is=="function"?Object.is:wce,kce=_h.useSyncExternalStore,Sce=_h.useRef,Ece=_h.useEffect,Cce=_h.useMemo,Tce=_h.useDebugValue;bce.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=Sce(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Cce(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,_ce(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=kce(e,s[0],s[1]);return Ece(function(){i.hasValue=!0,i.value=o},[o]),Tce(o),o};function Ace(e){e()}function jce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Ace(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var hN={notify(){},get:()=>[]};function Pce(e,t){let r,n=hN,a=0,s=!1;function i(v){u();const g=n.subscribe(v);let x=!1;return()=>{x||(x=!0,g(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){a++,r||(r=e.subscribe(l),n=jce())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=hN)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,f())}const m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var Nce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oce=Nce(),Dce=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Mce=Dce(),Ice=()=>Oce||Mce?w.useLayoutEffect:w.useEffect,Rce=Ice();function pN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Fce(e,t){if(pN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!pN(e[r[a]],t[r[a]]))return!1;return!0}var f1=Symbol.for("react-redux-context"),h1=typeof globalThis<"u"?globalThis:{};function Lce(){if(!w.createContext)return{};const e=h1[f1]??(h1[f1]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var $ce=Lce();function Bce(e){const{children:t,context:r,serverState:n,store:a}=e,s=w.useMemo(()=>{const l=Pce(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);Rce(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||$ce;return w.createElement(o.Provider,{value:s},t)}var zce=Bce,Uce=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function Vce(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function kh(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(Uce.has(n)){if(e[n]==null&&t[n]==null)continue;if(!Fce(e[n],t[n]))return!1}else if(!Vce(e[n],t[n]))return!1;return!0}var Wce=["onMouseEnter","onMouseLeave","onClick"],Hce=["value","background","tooltipPosition"],Kce=["id"],Gce=["onMouseEnter","onClick","onMouseLeave"];function Fi(){return Fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fi.apply(null,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){qce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qce(e,t,r){return(t=Yce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yce(e){var t=Xce(e,"string");return typeof t=="symbol"?t:t+""}function Xce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(e,t){if(e==null)return{};var r,n,a=Zce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jce=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Ho(r,t),payload:e}]},Qce=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Ho(s,t),hide:i,type:l,color:a,unit:o}};return w.createElement(Ix,{tooltipEntrySettings:c})});function eue(e){var t=Se(Ro),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,c=Lv(s,Wce),u=qS(i,n),f=YS(o),h=XS(l,n);if(!a||r==null)return null;var p=Wl(a);return w.createElement(In,{zIndex:yce(a,lr.barBackground)},r.map((m,v)=>{var{value:g,background:x,tooltipPosition:b}=m,y=Lv(m,Hce);if(!x)return null;var _=u(m,v),S=f(m,v),k=h(m,v),E=$n($n($n($n($n({option:a,isActive:String(v)===t},y),{},{fill:"#eee"},x),p),W0(c,m,v)),{},{onMouseEnter:_,onMouseLeave:S,onClick:k,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(Fv,Fi({key:"background-bar-".concat(v)},E))}))}function tue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return $n($n({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return w.createElement(zS,{value:t?a:void 0},r)}function rue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=Se(Ro),l=Se(V6),c=r&&String(s)===o&&(l==null||i===l),u=c?r:t;return c?w.createElement(In,{zIndex:lr.activeBar},w.createElement(Fv,Fi({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))):w.createElement(Fv,Fi({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))}function nue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return w.createElement(Fv,Fi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function aue(e){var t,{data:r,props:n}=e,a=(t=Gn(n))!==null&&t!==void 0?t:{},{id:s}=a,i=Lv(a,Kce),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:f,onMouseLeave:h}=n,p=Lv(n,Gce),m=qS(u,l),v=YS(h),g=XS(f,l);return r?w.createElement(w.Fragment,null,r.map((x,b)=>w.createElement(Zt,Fi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},W0(p,x,b),{onMouseEnter:m(x,b),onMouseLeave:v(x,b),onClick:g(x,b)}),c?w.createElement(rue,{shape:o,activeBar:c,baseProps:i,entry:x,index:b,dataKey:l}):w.createElement(nue,{shape:o,baseProps:i,entry:x,index:b,dataKey:l})))):null}function sue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=Zu(t,"recharts-bar-"),[p,m]=w.useState(!1),v=!p,g=w.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=w.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return w.createElement(tue,{showLabels:v,rects:n},w.createElement(Xu,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:x,key:h},b=>{var y=b===1?n:n==null?void 0:n.map((_,S)=>{var k=f&&f[S];if(k)return $n($n({},_),{},{x:it(k.x,_.x,b),y:it(k.y,_.y,b),width:it(k.width,_.width,b),height:it(k.height,_.height,b)});if(a==="horizontal"){var E=it(0,_.height,b),C=it(_.stackedBarStart,_.y,b);return $n($n({},_),{},{y:C,height:E})}var T=it(0,_.width,b),j=it(_.stackedBarStart,_.x,b);return $n($n({},_),{},{width:T,x:j})});return b>0&&(r.current=y??null),y==null?null:w.createElement(Zt,null,w.createElement(aue,{props:t,data:y}))}),w.createElement(Px,{label:t.label}),t.children)}function iue(e){var t=w.useRef(null);return w.createElement(sue,{previousRectanglesRef:t,props:e})}var F8=0,oue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:ut(e,t)}};class lue extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Ze("recharts-bar",a),f=c;return w.createElement(Zt,{className:u,id:c},o&&w.createElement("defs",null,w.createElement(eE,{clipPathId:f,xAxisId:s,yAxisId:i})),w.createElement(Zt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(eue,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),w.createElement(iue,this.props)))}}var cue={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:F8,xAxisId:0,yAxisId:0,zIndex:lr.bar};function uue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=$x(t,r),h=ic(),p=Br(),m=HS(e.children,Ri),v=Se(b=>Lue(b,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var g,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?g=0:g=h==="vertical"?x.height/2:x.width/2,w.createElement(R8,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:oue,errorBarOffset:g},w.createElement(lue,Fi({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function due(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m,dataStartIndex:v}=e,g=t==="horizontal"?o:i,x=u?g.scale.domain():null,b=LZ({numericAxis:g}),y=g.scale(b);return f.map((_,S)=>{var k,E,C,T,j,P;u?k=DZ(u[S+v],x):(k=ut(_,r),Array.isArray(k)||(k=[b,k]));var A=dce(n,F8)(k[1],S);if(t==="horizontal"){var N,[F,B]=[o.scale(k[0]),o.scale(k[1])];E=ZA({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:_,index:S}),C=(N=B??F)!==null&&N!==void 0?N:void 0,T=a.size;var q=F-B;if(j=ca(q)?0:q,P={x:E,y:h.top,width:T,height:h.height},Math.abs(A)>0&&Math.abs(j)<Math.abs(A)){var K=Zr(j||A)*(Math.abs(A)-Math.abs(j));C-=K,j+=K}}else{var[X,I]=[i.scale(k[0]),i.scale(k[1])];if(E=X,C=ZA({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:_,index:S}),T=I-X,j=a.size,P={x:h.left,y:C,width:h.width,height:j},Math.abs(A)>0&&Math.abs(T)<Math.abs(A)){var J=Zr(T||A)*(Math.abs(A)-Math.abs(T));T+=J}}if(E==null||C==null||T==null||j==null)return null;var Z=$n($n({},_),{},{stackedBarStart:y,x:E,y:C,width:T,height:j,value:u?k:k[1],payload:_,background:P,tooltipPosition:{x:E+T/2,y:C+j/2},parentViewBox:m},p&&p[S]&&p[S].props);return Z}).filter(Boolean)}function fue(e){var t=Jt(e,cue),r=Br();return w.createElement(Rx,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(ZS,{legendPayload:Jce(t)}),w.createElement(Qce,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(JS,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:pR(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(In,{zIndex:t.zIndex},w.createElement(uue,Fi({},t,{id:n})))))}var Ir=w.memo(fue,kh);Ir.displayName="Bar";function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Sp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){hue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hue(e,t,r){return(t=pue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pue(e){var t=mue(e,"string");return typeof t=="symbol"?t:t+""}function mue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vue=(e,t)=>t,gue=(e,t,r)=>r,xue=(e,t,r,n)=>n,yue=(e,t,r,n,a)=>a,Sh=ee([sh,yue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),bue=ee([Sh],e=>e==null?void 0:e.maxBarSize),wue=(e,t,r,n,a,s)=>s,gN=(e,t,r)=>{var n=r??e;if(!Ot(n))return Nn(n,t,0)},_ue=ee([He,sh,vue,gue,xue],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),kue=(e,t,r,n)=>{var a=He(e);return a==="horizontal"?i0(e,"yAxis",r,n):i0(e,"xAxis",t,n)},Sue=(e,t,r)=>{var n=He(e);return n==="horizontal"?_P(e,"xAxis",t):_P(e,"yAxis",r)},Eue=(e,t,r)=>{var n={},a=e.filter(wx),s=e.filter(c=>c.stackId==null),i=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(i).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=gN(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=s.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=gN(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},Cue=ee([_ue,Gre,Sue],Eue),Tue=(e,t,r,n,a)=>{var s,i,o=Sh(e,t,r,n,a);if(o!=null){var l=He(e),c=WF(e),{maxBarSize:u}=o,f=Ot(u)?c:u,h,p;return l==="horizontal"?(h=qs(e,"xAxis",t,n),p=Gs(e,"xAxis",t,n)):(h=qs(e,"yAxis",r,n),p=Gs(e,"yAxis",r,n)),(s=(i=Do(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},L8=(e,t,r,n)=>{var a=He(e),s,i;return a==="horizontal"?(s=qs(e,"xAxis",t,n),i=Gs(e,"xAxis",t,n)):(s=qs(e,"yAxis",r,n),i=Gs(e,"yAxis",r,n)),Do(s,i)};function Aue(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Nn(e,r,0,!0),o,l=[];if(dt(n[0].barSize)){var c=!1,u=r/s,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&u>0&&(c=!0,u*=.9,f=s*u);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((x,b)=>{var y,_={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+i,size:c?u:(y=b.barSize)!==null&&y!==void 0?y:0}},S=[...x,_];return p=S[S.length-1].position,S},l)}else{var m=Nn(t,r,0,!0);r-2*m-(s-1)*i<=0&&(i=0);var v=(r-2*m-(s-1)*i)/s;v>1&&(v>>=0);var g=dt(a)?Math.min(v,a):v;o=n.reduce((x,b,y)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(v+i)*y+(v-g)/2,size:g}}],l)}return o}}var jue=(e,t,r,n,a,s,i)=>{var o=Ot(i)?t:i,l=Aue(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(c=>Sp(Sp({},c),{},{position:Sp(Sp({},c.position),{},{offset:c.position.offset-a/2})}))),l},Pue=ee([Cue,WF,Kre,HF,Tue,L8,bue],jue),Nue=(e,t,r,n)=>qs(e,"xAxis",t,n),Oue=(e,t,r,n)=>qs(e,"yAxis",r,n),Due=(e,t,r,n)=>Gs(e,"xAxis",t,n),Mue=(e,t,r,n)=>Gs(e,"yAxis",r,n),Iue=ee([Pue,Sh],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Rue=(e,t)=>{var r=bx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},Fue=ee([kue,Sh],Rue),Lue=ee([$r,Ck,Nue,Oue,Due,Mue,Iue,He,th,L8,Fue,Sh,wue],(e,t,r,n,a,s,i,o,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||i==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||c==null)){var{data:g}=f,x;if(g!=null&&g.length>0?x=g:x=p==null?void 0:p.slice(m,v+1),x!=null)return due({layout:o,barSettings:f,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:u,displayedData:x,offset:e,cells:h,dataStartIndex:m})}}),$8=e=>{var{chartData:t}=e,r=xt(),n=Br();return w.useEffect(()=>n?()=>{}:(r(MP(t)),()=>{r(MP(void 0))}),[t,r,n]),null},xN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},B8=ua({name:"brush",initialState:xN,reducers:{setBrushSettings(e,t){return t.payload==null?xN:t.payload}}}),{setBrushSettings:uDe}=B8.actions,$ue=B8.reducer;function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){z8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z8(e,t,r){return(t=Bue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bue(e){var t=zue(e,"string");return typeof t=="symbol"?t:t+""}function zue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uue=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},Vue=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return Uue({x:t,y:r},{x:n,y:a})};class Bx{static create(t){return new Bx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}z8(Bx,"EPS",1e-4);var Wue=e=>{var t=Object.keys(e).reduce((r,n)=>Ep(Ep({},r),{},{[n]:Bx.create(e[n])}),{});return Ep(Ep({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,o]=s;return[i,t[i].apply(o,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function Hue(e){return(e%180+180)%180}var Kue=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Hue(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},Gue={dots:[],areas:[],lines:[]},U8=ua({name:"referenceElements",initialState:Gue,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=bs(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=bs(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=bs(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:dDe,removeDot:fDe,addArea:hDe,removeArea:pDe,addLine:que,removeLine:Yue}=U8.actions,Xue=U8.reducer,V8=w.createContext(void 0),Zue=e=>{var{children:t}=e,[r]=w.useState("".concat(Gf("recharts"),"-clip")),n=Lx();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return w.createElement(V8.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:s,height:o,width:i}))),t)},Jue=()=>w.useContext(V8);function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){Que(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Que(e,t,r){return(t=ede(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ede(e){var t=tde(e,"string");return typeof t=="symbol"?t:t+""}function tde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}var rde=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!dt(t.x1)||!dt(t.y1)||!dt(t.x2)||!dt(t.y2))return null;r=w.createElement("line",$v({},t,{className:"recharts-reference-line-line"}))}return r},nde=(e,t,r,n,a,s)=>{var{x:i,width:o}=s,l=a.y.apply(e,{position:r});if(ca(l)||t==="discard"&&!a.y.isInRange(l))return null;var c=[{x:i+o,y:l},{x:i,y:l}];return n==="left"?c.reverse():c},ade=(e,t,r,n,a,s)=>{var{y:i,height:o}=s,l=a.x.apply(e,{position:r});if(ca(l)||t==="discard"&&!a.x.isInRange(l))return null;var c=[{x:l,y:i+o},{x:l,y:i}];return n==="top"?c.reverse():c},sde=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},ide=(e,t,r,n,a,s)=>{var{x:i,y:o,segment:l,ifOverflow:c}=s,u=qa(i),f=qa(o);return f?nde(o,c,r,a,e,t):u?ade(i,c,r,n,e,t):l!=null&&l.length===2?sde(l,c,r,e):null};function ode(e){var t=xt();return w.useEffect(()=>(t(que(e)),()=>{t(Yue(e))})),null}function lde(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=Br(),o=Jue(),l=Se(k=>ei(k,t)),c=Se(k=>ti(k,r)),u=Se(k=>Io(k,"xAxis",t,i)),f=Se(k=>Io(k,"yAxis",r,i)),h=Y0();if(!o||!h||l==null||c==null||u==null||f==null)return null;var p=Wue({x:u,y:f}),m=ide(p,h,e.position,l.orientation,c.orientation,e);if(!m)return null;var[{x:v,y:g},{x,y:b}]=m,y=s==="hidden"?"url(#".concat(o,")"):void 0,_=wN(wN({clipPath:y},vn(e)),{},{x1:v,y1:g,x2:x,y2:b}),S=Vue({x1:v,y1:g,x2:x,y2:b});return w.createElement(In,{zIndex:e.zIndex},w.createElement(Zt,{className:Ze("recharts-reference-line",a)},rde(n,_),w.createElement(u8,$v({},S,{lowerWidth:S.width,upperWidth:S.width}),w.createElement(f8,{label:e.label}),e.children)))}var cde={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:lr.line};function tE(e){var t=Jt(e,cde);return w.createElement(w.Fragment,null,w.createElement(ode,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),w.createElement(lde,t))}tE.displayName="ReferenceLine";function W8(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function ude(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return Kue(n,r)}function dde(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function Bv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function fde(e,t){return W8(e,t+1)}function hde(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:W8(n,c)};var v=l,g,x=()=>(g===void 0&&(g=r(m,v)),g),b=m.coordinate,y=l===0||Bv(e,b,x,u,o);y||(l=0,u=i,c+=1),y&&(u=b+e*(x()/2+a),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){pde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pde(e,t,r){return(t=mde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mde(e){var t=vde(e,"string");return typeof t=="symbol"?t:t+""}function vde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gde(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(h){var p=s[h],m,v=()=>(m===void 0&&(m=r(p,h)),m);if(h===i-1){var g=e*(p.coordinate+e*v()/2-l);s[h]=p=kn(kn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=kn(kn({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Bv(e,p.tickCoord,v,o,l);x&&(l=p.tickCoord-e*(v()/2+a),s[h]=kn(kn({},p),{},{isShow:!0}))}},u=i-1;u>=0;u--)c(u);return s}function xde(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);if(i[o-1]=u=kn(kn({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var p=Bv(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+a),i[o-1]=kn(kn({},u),{},{isShow:!0}))}}for(var m=s?o-1:o,v=function(b){var y=i[b],_,S=()=>(_===void 0&&(_=r(y,b)),_);if(b===0){var k=e*(y.coordinate-e*S()/2-l);i[b]=y=kn(kn({},y),{},{tickCoord:k<0?y.coordinate-k*e:y.coordinate})}else i[b]=y=kn(kn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var E=Bv(e,y.tickCoord,S,l,c);E&&(l=y.tickCoord+e*(S()/2+a),i[b]=kn(kn({},y),{},{isShow:!0}))}},g=0;g<m;g++)v(g);return i}function rE(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(_e(l)||Ko.isSsr){var h;return(h=fde(a,_e(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",v=u&&m==="width"?lf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(y,_)=>{var S=typeof c=="function"?c(y.value,_):y.value;return m==="width"?ude(lf(S,{fontSize:t,letterSpacing:r}),v,f):lf(S,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?Zr(a[1].coordinate-a[0].coordinate):1,b=dde(s,x,m);return l==="equidistantPreserveStart"?hde(x,b,g,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=xde(x,b,g,a,i,l==="preserveStartEnd"):p=gde(x,b,g,a,i),p.filter(y=>y.isShow))}var yde=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,c=i+l+o+(r?n:0);return Math.round(c)}return 0},bde=["axisLine","width","height","className","hide","ticks","axisType"];function wde(e,t){if(e==null)return{};var r,n,a=_de(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _de(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Yl(){return Yl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yl.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kde(e,t,r){return(t=Sde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sde(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yi={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:lr.axis};function Cde(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Er(Er(Er({},l),Gn(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);c=Er(Er({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);c=Er(Er({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Yl({},c,{className:Ze("recharts-cartesian-axis-line",Hl(o,"className"))}))}function Tde(e,t,r,n,a,s,i,o,l){var c,u,f,h,p,m,v=o?-1:1,g=e.tickSize||i,x=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-v*g,m=f-v*l,p=x;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-v*g,p=c-v*l,m=x;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+v*g,p=c+v*l,m=x;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+v*g,m=f+v*l,p=x;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function Ade(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function jde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pde(e){var{option:t,tickProps:r,value:n}=e,a,s=Ze(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Er(Er({},r),{},{className:s}));else if(typeof t=="function")a=t(Er(Er({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ze(i,t==null?void 0:t.className)),a=w.createElement(jx,Yl({},r,{className:i}),n)}return a}var Nde=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:h,y:p,width:m,height:v,tickSize:g,tickMargin:x,fontSize:b,letterSpacing:y,getTicksConfig:_,events:S,axisType:k}=e,E=rE(Er(Er({},_),{},{ticks:r}),b,y),C=Ade(u,f),T=jde(u,f),j=Gn(_),P=Wl(n),A={};typeof a=="object"&&(A=a);var N=Er(Er({},j),{},{fill:"none"},A),F=E.map(K=>Er({entry:K},Tde(K,h,p,m,v,u,g,f,x))),B=F.map(K=>{var{entry:X,line:I}=K;return w.createElement(Zt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},a&&w.createElement("line",Yl({},N,I,{className:Ze("recharts-cartesian-axis-tick-line",Hl(a,"className"))})))}),q=F.map((K,X)=>{var{entry:I,tick:J}=K,Z=Er(Er(Er(Er({textAnchor:C,verticalAnchor:T},j),{},{stroke:"none",fill:s},P),J),{},{index:X,payload:I,visibleTicksCount:E.length,tickFormatter:i,padding:l},c);return w.createElement(Zt,Yl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},W0(S,I,X)),n&&w.createElement(Pde,{option:n,tickProps:Z,value:"".concat(typeof i=="function"?i(I.value,X):I.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},q.length>0&&w.createElement(In,{zIndex:lr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},q)),B.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},B))}),Ode=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:o,axisType:l}=e,c=wde(e,bde),[u,f]=w.useState(""),[h,p]=w.useState(""),m=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return yde({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=x;var b=x[0];if(b){var y=window.getComputedStyle(b),_=y.fontSize,S=y.letterSpacing;(_!==u||S!==h)&&(f(_),p(S))}}},[u,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(In,{zIndex:e.zIndex},w.createElement(Zt,{className:Ze("recharts-cartesian-axis",s)},w.createElement(Cde,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:Gn(e)}),w.createElement(Nde,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(u8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(f8,{label:e.label,labelRef:e.labelRef}),e.children)))}),nE=w.forwardRef((e,t)=>{var r=Jt(e,yi);return w.createElement(Ode,Yl({},r,{ref:t}))});nE.displayName="CartesianAxis";var Dde=["x1","y1","x2","y2","key"],Mde=["offset"],Ide=["xAxisId","yAxisId"],Rde=["xAxisId","yAxisId"];function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Fde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fde(e,t,r){return(t=Lde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lde(e){var t=$de(e,"string");return typeof t=="symbol"?t:t+""}function $de(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sl(){return Sl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sl.apply(null,arguments)}function zv(e,t){if(e==null)return{};var r,n,a=Bde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zde=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function H8(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:o,y2:l,key:c}=r,u=zv(r,Dde),f=(a=Gn(u))!==null&&a!==void 0?a:{},{offset:h}=f,p=zv(f,Mde);n=w.createElement("line",Sl({},p,{x1:s,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function Ude(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=zv(e,Ide),l=a.map((c,u)=>{var f=Cn(Cn({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return w.createElement(H8,{key:"line-".concat(u),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Vde(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=zv(e,Rde),l=a.map((c,u)=>{var f=Cn(Cn({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return w.createElement(H8,{option:n,lineItemProps:f,key:"line-".concat(u)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Wde(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function Hde(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var Kde=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return fR(rE(Cn(Cn(Cn({},yi),r),{},{ticks:hR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},Gde=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return fR(rE(Cn(Cn(Cn({},yi),r),{},{ticks:hR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},qde={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:lr.grid};function pr(e){var t=Ak(),r=jk(),n=ER(),a=Cn(Cn({},Jt(e,qde)),{},{x:_e(e.x)?e.x:n.left,y:_e(e.y)?e.y:n.top,width:_e(e.width)?e.width:n.width,height:_e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,m=Br(),v=Se(T=>kP(T,"xAxis",s,m)),g=Se(T=>kP(T,"yAxis",i,m));if(!Hs(c)||!Hs(u)||!_e(o)||!_e(l))return null;var x=a.verticalCoordinatesGenerator||Kde,b=a.horizontalCoordinatesGenerator||Gde,{horizontalPoints:y,verticalPoints:_}=a;if((!y||!y.length)&&typeof b=="function"){var S=h&&h.length,k=b({yAxis:g?Cn(Cn({},g),{},{ticks:S?h:g.ticks}):void 0,width:t??c,height:r??u,offset:n},S?!0:f);dv(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(y=k)}if((!_||!_.length)&&typeof x=="function"){var E=p&&p.length,C=x({xAxis:v?Cn(Cn({},v),{},{ticks:E?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},E?!0:f);dv(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}return w.createElement(In,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(zde,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(Wde,Sl({},a,{horizontalPoints:y})),w.createElement(Hde,Sl({},a,{verticalPoints:_})),w.createElement(Ude,Sl({},a,{offset:n,horizontalPoints:y,xAxis:v,yAxis:g})),w.createElement(Vde,Sl({},a,{offset:n,verticalPoints:_,xAxis:v,yAxis:g}))))}pr.displayName="CartesianGrid";var K8=(e,t,r,n)=>qs(e,"xAxis",t,n),G8=(e,t,r,n)=>Gs(e,"xAxis",t,n),q8=(e,t,r,n)=>qs(e,"yAxis",r,n),Y8=(e,t,r,n)=>Gs(e,"yAxis",r,n),Yde=ee([He,K8,q8,G8,Y8],(e,t,r,n,a)=>Qs(e,"xAxis")?Do(t,n,!1):Do(r,a,!1)),Xde=(e,t,r,n,a)=>a;function Zde(e){return e.type==="line"}var Jde=ee([sh,Xde],(e,t)=>e.filter(Zde).find(r=>r.id===t)),Qde=ee([He,K8,q8,G8,Y8,Jde,Yde,th],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return yfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:p})}});function X8(e){var t=Wl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),o=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(o)||o<0)&&(o=n),{r:i,strokeWidth:o}}return{r,strokeWidth:n}}var efe=["id"],tfe=["type","layout","connectNulls","needClip","shape"],rfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function l0(){return l0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l0.apply(null,arguments)}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ps(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){nfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nfe(e,t,r){return(t=afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function afe(e){var t=sfe(e,"string");return typeof t=="symbol"?t:t+""}function sfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aE(e,t){if(e==null)return{};var r,n,a=ife(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ife(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ofe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:Ho(r,t),payload:e}]},lfe=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Ho(i,t),hide:o,type:c,color:n,unit:l}};return w.createElement(Ix,{tooltipEntrySettings:u})}),Z8=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function cfe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var ufe=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return Z8(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var u=o.length%2===0?[0,i]:[i];return[...cfe(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function dfe(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:o}=n,l=aE(n,efe),c=Gn(l);return w.createElement(D8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function ffe(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n==null?void 0:n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ps(Ps({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(zS,{value:t?a:void 0},r)}function CN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:l,needClip:c,shape:u}=s,f=aE(s,tfe),h=Ps(Ps({},vn(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:l,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(GS,l0({shapeType:"curve",option:u},h,{pathRef:r})),w.createElement(dfe,{points:n,clipPathId:t,props:s}))}function hfe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function pfe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:v,onAnimationStart:g}=r,x=a.current,b=Zu(i,"recharts-line-"),y=w.useRef(b),[_,S]=w.useState(!1),k=!_,E=w.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),C=w.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]),T=hfe(n.current),j=w.useRef(0);y.current!==b&&(j.current=s.current,y.current=b);var P=j.current;return w.createElement(ffe,{points:i,showLabels:k},r.children,w.createElement(Xu,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:C,key:b},A=>{var N=it(P,T+P,A),F=Math.min(N,T),B;if(l)if(o){var q="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));B=ufe(F,T,q)}else B=Z8(T,F);else B=o==null?void 0:String(o);if(A>0&&T>0&&(a.current=i,s.current=Math.max(s.current,F)),x){var K=x.length/i.length,X=A===1?i:i.map((I,J)=>{var Z=Math.floor(J*K);if(x[Z]){var M=x[Z];return Ps(Ps({},I),{},{x:it(M.x,I.x,A),y:it(M.y,I.y,A)})}return h?Ps(Ps({},I),{},{x:it(p*2,I.x,A),y:it(m/2,I.y,A)}):Ps(Ps({},I),{},{x:I.x,y:I.y})});return a.current=X,w.createElement(CN,{props:r,points:X,clipPathId:t,pathRef:n,strokeDasharray:B})}return w.createElement(CN,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:B})}),w.createElement(Px,{label:r.label}))}function mfe(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),s=w.useRef(null);return w.createElement(pfe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var vfe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:ut(e.payload,t)}};class gfe extends w.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:l,width:c,height:u,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var m=Ze("recharts-line",a),v=f,{r:g,strokeWidth:x}=X8(r),b=KS(r),y=g*2+x,_=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return w.createElement(In,{zIndex:p},w.createElement(Zt,{className:m},h&&w.createElement("defs",null,w.createElement(eE,{clipPathId:v,xAxisId:s,yAxisId:i}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(v)},w.createElement("rect",{x:l-y/2,y:o-y/2,width:c+y,height:u+y}))),w.createElement(R8,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:vfe,errorBarOffset:0},w.createElement(mfe,{props:this.props,clipPathId:v}))),w.createElement(Yw,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var J8={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:lr.line,type:"linear"};function xfe(e){var t=Jt(e,J8),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:m,id:v}=t,g=aE(t,rfe),{needClip:x}=$x(p,m),b=Lx(),y=ic(),_=Br(),S=Se(j=>Qde(j,p,m,_,v));if(y!=="horizontal"&&y!=="vertical"||S==null||b==null)return null;var{height:k,width:E,x:C,y:T}=b;return w.createElement(gfe,l0({},g,{id:v,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:m,points:S,layout:y,height:k,width:E,left:C,top:T,needClip:x}))}function yfe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=ut(c,i);if(t==="horizontal"){var h=uv({axis:r,ticks:a,bandSize:o,entry:c,index:u}),p=Ot(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var m=Ot(f)?null:r.scale(f),v=uv({axis:n,ticks:s,bandSize:o,entry:c,index:u});return m==null||v==null?null:{x:m,y:v,value:f,payload:c}}).filter(Boolean)}function bfe(e){var t=Jt(e,J8),r=Br();return w.createElement(Rx,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(ZS,{legendPayload:ofe(t)}),w.createElement(lfe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(JS,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(xfe,l0({},t,{id:n}))))}var Xr=w.memo(bfe,kh);Xr.displayName="Line";var Q8=(e,t,r,n)=>qs(e,"xAxis",t,n),eL=(e,t,r,n)=>Gs(e,"xAxis",t,n),tL=(e,t,r,n)=>qs(e,"yAxis",r,n),rL=(e,t,r,n)=>Gs(e,"yAxis",r,n),wfe=ee([He,Q8,tL,eL,rL],(e,t,r,n,a)=>Qs(e,"xAxis")?Do(t,n,!1):Do(r,a,!1)),_fe=(e,t,r,n,a)=>a,nL=ee([sh,_fe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),kfe=(e,t,r,n,a)=>{var s,i=nL(e,t,r,n,a);if(i!=null){var o=He(e),l=Qs(o,"xAxis"),c;if(l?c=i0(e,"yAxis",r,n):c=i0(e,"xAxis",t,n),c!=null){var{stackId:u}=i,f=bx(i);if(!(u==null||f==null)){var h=(s=c[u])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},Sfe=ee([He,Q8,tL,eL,rL,kfe,th,wfe,nL,qre],(e,t,r,n,a,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=i;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=u==null?void 0:u.slice(f,h+1),m!=null)return Vfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:c,bandSize:o})}}),Efe=["id"],Cfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(null,arguments)}function aL(e,t){if(e==null)return{};var r,n,a=Tfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Tfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){Afe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Afe(e,t,r){return(t=jfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jfe(e){var t=Pfe(e,"string");return typeof t=="symbol"?t:t+""}function Pfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uv(e,t){return e&&e!=="none"?e:t}var Nfe=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:Uv(n,a),value:Ho(r,t),payload:e}]},Ofe=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:Ho(i,t),hide:o,type:c,color:Uv(n,s),unit:l}};return w.createElement(Ix,{tooltipEntrySettings:u})});function Dfe(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:i}=n,o=Gn(n);return w.createElement(D8,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:i,baseProps:o,needClip:a,clipPathId:t})}function Mfe(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Jc(Jc({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(zS,{value:t?a:void 0},r)}function AN(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:i,type:o,stroke:l,connectNulls:c,isRange:u}=s,{id:f}=s,h=aL(s,Efe),p=Gn(h),m=vn(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(Zt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},w.createElement(pu,Ml({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:i,stroke:"none",className:"recharts-area-area"})),l!=="none"&&w.createElement(pu,Ml({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&w.createElement(pu,Ml({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:r}))),w.createElement(Dfe,{points:t,props:h,clipPathId:a}))}function Ife(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,i=n[n.length-1].y;if(!dt(s)||!dt(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.x||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),_e(l)?w.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function Rfe(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,i=n[n.length-1].x;if(!dt(s)||!dt(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.y||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),_e(l)?w.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function Ffe(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?w.createElement(Ife,{alpha:t,points:n,baseLine:a,strokeWidth:s}):w.createElement(Rfe,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function Lfe(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:i,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=w.useMemo(()=>({points:i,baseLine:o}),[i,o]),v=Zu(m,"recharts-area-"),g=vJ(),[x,b]=w.useState(!1),y=!x,_=w.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=w.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);if(g==null)return null;var k=a.current,E=s.current;return w.createElement(Mfe,{showLabels:y,points:i},n.children,w.createElement(Xu,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:S,key:v},C=>{if(k){var T=k.length/i.length,j=C===1?i:i.map((A,N)=>{var F=Math.floor(N*T);if(k[F]){var B=k[F];return Jc(Jc({},A),{},{x:it(B.x,A.x,C),y:it(B.y,A.y,C)})}return A}),P;return _e(o)?P=it(E,o,C):Ot(o)||ca(o)?P=it(E,0,C):P=o.map((A,N)=>{var F=Math.floor(N*T);if(Array.isArray(E)&&E[F]){var B=E[F];return Jc(Jc({},A),{},{x:it(B.x,A.x,C),y:it(B.y,A.y,C)})}return A}),C>0&&(a.current=j,s.current=P),w.createElement(AN,{points:j,baseLine:P,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=i,s.current=o),w.createElement(Zt,null,l&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(Ffe,{alpha:C,points:i,baseLine:o,layout:g,strokeWidth:n.strokeWidth}))),w.createElement(Zt,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(AN,{points:i,baseLine:o,needClip:t,clipPathId:r,props:n})))}),w.createElement(Px,{label:n.label}))}function $fe(e){var{needClip:t,clipPathId:r,props:n}=e,a=w.useRef(null),s=w.useRef();return w.createElement(Lfe,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class Bfe extends w.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:i,needClip:o,xAxisId:l,yAxisId:c,width:u,height:f,id:h,baseLine:p,zIndex:m}=this.props;if(t)return null;var v=Ze("recharts-area",a),g=h,{r:x,strokeWidth:b}=X8(r),y=KS(r),_=x*2+b,S=o?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return w.createElement(In,{zIndex:m},w.createElement(Zt,{className:v},o&&w.createElement("defs",null,w.createElement(eE,{clipPathId:g,xAxisId:l,yAxisId:c}),!y&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:i-_/2,y:s-_/2,width:u+_,height:f+_}))),w.createElement($fe,{needClip:o,clipPathId:g,props:this.props})),w.createElement(Yw,{points:n,mainColor:Uv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:S}),this.props.isRange&&Array.isArray(p)&&w.createElement(Yw,{points:p,mainColor:Uv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:S}))}}var sL={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:lr.area};function zfe(e){var t,r=Jt(e,sL),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:v,yAxisId:g}=r,x=aL(r,Cfe),b=ic(),y=K6(),{needClip:_}=$x(v,g),S=Br(),{points:k,isRange:E,baseLine:C}=(t=Se(F=>Sfe(F,v,g,S,e.id)))!==null&&t!==void 0?t:{},T=Lx();if(b!=="horizontal"&&b!=="vertical"||T==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:j,width:P,x:A,y:N}=T;return!k||!k.length?null:w.createElement(Bfe,Ml({},x,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,baseLine:C,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:j,hide:f,layout:b,isAnimationActive:h==="auto"?!Ko.isSsr:h,isRange:E,legendType:p,needClip:_,points:k,stroke:m,width:P,left:A,top:N,xAxisId:v,yAxisId:g}))}var Ufe=(e,t,r,n,a)=>{var s=r??t;if(_e(s))return s;var i=e==="horizontal"?a:n,o=i.scale.domain();if(i.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function Vfe(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:i,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=a&&a.length,v=Ufe(s,i,r,o,l),g=s==="horizontal",x=!1,b=c.map((_,S)=>{var k;m?k=a[u+S]:(k=ut(_,n),Array.isArray(k)?x=!0:k=[v,k]);var E=k[1]==null||m&&!t&&ut(_,n)==null;return g?{x:uv({axis:o,ticks:f,bandSize:p,entry:_,index:S}),y:E?null:l.scale(k[1]),value:k,payload:_}:{x:E?null:o.scale(k[1]),y:uv({axis:l,ticks:h,bandSize:p,entry:_,index:S}),value:k,payload:_}}),y;return m||x?y=b.map(_=>{var S=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:S!=null&&_.y!=null?l.scale(S):null,payload:_.payload}:{x:S!=null?o.scale(S):null,y:_.y,payload:_.payload}}):y=g?l.scale(v):o.scale(v),{points:b,baseLine:y,isRange:x}}function Wfe(e){var t=Jt(e,sL),r=Br();return w.createElement(Rx,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(ZS,{legendPayload:Nfe(t)}),w.createElement(Ofe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(JS,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:pR(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(zfe,Ml({},t,{id:n}))))}var sE=w.memo(Wfe,kh);sE.displayName="Area";var Hfe=["domain","range"],Kfe=["domain","range"];function jN(e,t){if(e==null)return{};var r,n,a=Gfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Gfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PN(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function iL(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=jN(e,Hfe),{domain:s,range:i}=t,o=jN(t,Kfe);return!PN(r,s)||!PN(n,i)?!1:kh(a,o)}var qfe=["dangerouslySetInnerHTML","ticks"],Yfe=["id"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zw.apply(null,arguments)}function NN(e,t){if(e==null)return{};var r,n,a=Xfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Xfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Zfe(e){var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(zle(e)):r.current!==e&&t(Ule({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(Vle(r.current)),r.current=null)},[t]),null}var Jfe=e=>{var{xAxisId:t,className:r}=e,n=Se(Ck),a=Br(),s="xAxis",i=Se(g=>Io(g,s,t,a)),o=Se(g=>k6(g,s,t,a)),l=Se(g=>y6(g,t)),c=Se(g=>Hne(g,t)),u=Se(g=>e6(g,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=NN(e,qfe),{id:m}=u,v=NN(u,Yfe);return w.createElement(nE,Zw({},p,v,{scale:i,x:c.x,y:c.y,width:l.width,height:l.height,className:Ze("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},Qfe={allowDataOverflow:Hr.allowDataOverflow,allowDecimals:Hr.allowDecimals,allowDuplicatedCategory:Hr.allowDuplicatedCategory,angle:Hr.angle,axisLine:yi.axisLine,height:Hr.height,hide:!1,includeHidden:Hr.includeHidden,interval:Hr.interval,minTickGap:Hr.minTickGap,mirror:Hr.mirror,orientation:Hr.orientation,padding:Hr.padding,reversed:Hr.reversed,scale:Hr.scale,tick:Hr.tick,tickCount:Hr.tickCount,tickLine:yi.tickLine,tickSize:yi.tickSize,type:Hr.type,xAxisId:0},e0e=e=>{var t=Jt(e,Qfe);return w.createElement(w.Fragment,null,w.createElement(Zfe,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(Jfe,t))},Kt=w.memo(e0e,iL);Kt.displayName="XAxis";var t0e=["dangerouslySetInnerHTML","ticks"],r0e=["id"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jw.apply(null,arguments)}function ON(e,t){if(e==null)return{};var r,n,a=n0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function n0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function a0e(e){var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(Wle(e)):r.current!==e&&t(Hle({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(Kle(r.current)),r.current=null)},[t]),null}var s0e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=w.useRef(null),i=w.useRef(null),o=Se(Ck),l=Br(),c=xt(),u="yAxis",f=Se(S=>Io(S,u,t,l)),h=Se(S=>b6(S,t)),p=Se(S=>Gne(S,t)),m=Se(S=>k6(S,u,t,l)),v=Se(S=>t6(S,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||BS(a)||w.isValidElement(a)||v==null)){var S=s.current;if(S){var k=S.getCalculatedWidth();Math.round(h.width)!==Math.round(k)&&c(Gle({id:t,width:k}))}}},[m,h,c,a,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=ON(e,t0e),{id:y}=v,_=ON(v,r0e);return w.createElement(nE,Jw({},b,_,{ref:s,labelRef:i,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ze("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:m,axisType:u}))},i0e={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,angle:Kr.angle,axisLine:yi.axisLine,hide:!1,includeHidden:Kr.includeHidden,interval:Kr.interval,minTickGap:Kr.minTickGap,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,tickLine:yi.tickLine,tickSize:yi.tickSize,type:Kr.type,width:Kr.width,yAxisId:0},o0e=e=>{var t=Jt(e,i0e);return w.createElement(w.Fragment,null,w.createElement(a0e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(s0e,t))},pt=w.memo(o0e,iL);pt.displayName="YAxis";var l0e=(e,t)=>t,iE=ee([l0e,He,JF,Ur,$6,Yi,ose,$r],pse),oE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},oL=Ya("mouseClick"),lL=G0();lL.startListening({actionCreator:oL,effect:(e,t)=>{var r=e.payload,n=iE(t.getState(),oE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(oae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Qw=Ya("mouseMove"),cL=G0(),Cp=null;cL.startListening({actionCreator:Qw,effect:(e,t)=>{var r=e.payload;Cp!==null&&cancelAnimationFrame(Cp);var n=oE(r);Cp=requestAnimationFrame(()=>{var a=t.getState(),s=PS(a,a.tooltip.settings.shared);if(s==="axis"){var i=iE(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(N6({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(P6())}Cp=null})}});var DN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},uL=ua({name:"rootProps",initialState:DN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:DN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),c0e=uL.reducer,{updateOptions:u0e}=uL.actions,dL=ua({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:d0e}=dL.actions,f0e=dL.reducer,fL=Ya("keyDown"),hL=Ya("focus"),lE=G0();lE.startListening({actionCreator:fL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=NS(a,sd(r),oh(r),dh(r)),o=i==null?-1:Number(i);if(!(!Number.isFinite(o)||o<0)){var l=Yi(r);if(s==="Enter"){var c=Ov(r,"axis","hover",String(a.index));t.dispatch(Vw({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=Zne(r),f=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var m=Ov(r,"axis","hover",String(p));t.dispatch(Vw({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}}});lE.startListening({actionCreator:hL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=Ov(r,"axis","hover",String(s));t.dispatch(Vw({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Da=Ya("externalEvent"),pL=G0(),p1=new Map;pL.startListening({actionCreator:Da,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=p1.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:Kae(o),activeDataKey:V6(o),activeIndex:Ro(o),activeLabel:U6(o),activeTooltipIndex:Ro(o),isTooltipActive:Gae(o)};r(l,n)}finally{p1.delete(a)}});p1.set(a,i)}}});var h0e=ee([ad],e=>e.tooltipItemPayloads),p0e=ee([h0e,ch,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),mL=Ya("touchMove"),vL=G0();vL.startListening({actionCreator:mL,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=PS(n,n.tooltip.settings.shared);if(a==="axis"){var s=iE(n,oE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(N6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(vR),u=(i=l.getAttribute(gR))!==null&&i!==void 0?i:void 0,f=p0e(t.getState(),c,u);t.dispatch(j6({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}}});var m0e=F5({brush:$ue,cartesianAxis:qle,chartData:Wse,errorBars:hce,graphicalItems:tle,layout:TZ,legend:NJ,options:$se,polarAxis:uoe,polarOptions:f0e,referenceElements:Xue,rootProps:c0e,tooltip:lae,zIndex:Ase}),v0e=function(t){return JX({reducer:m0e,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([lL.middleware,cL.middleware,lE.middleware,pL.middleware,vL.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(J5({type:"raf"}))},devTools:Ko.devToolsEnabled})};function gL(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Br(),s=w.useRef(null);if(a)return r;s.current==null&&(s.current=v0e(t));var i=mk;return w.createElement(zce,{context:i,store:s.current},r)}function g0e(e){var{layout:t,margin:r}=e,n=xt(),a=Br();return w.useEffect(()=>{a||(n(SZ(t)),n(kZ(r)))},[n,a,t,r]),null}var xL=w.memo(g0e,kh);function yL(e){var t=xt();return w.useEffect(()=>{t(u0e(e))},[t,e]),null}function MN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=N8("".concat(n).concat(t)),s=xt();return w.useLayoutEffect(()=>(s(Cse({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Tse({zIndex:t,isPanorama:r}))}),[s,t,a,r]),w.createElement("g",{id:a})}function IN(e){var{children:t,isPanorama:r}=e,n=Se(vse);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return w.createElement(w.Fragment,null,a.map(i=>w.createElement(MN,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>w.createElement(MN,{key:i,zIndex:i,isPanorama:r})))}var x0e=["children"];function y0e(e,t){if(e==null)return{};var r,n,a=b0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vv(){return Vv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vv.apply(null,arguments)}var w0e={width:"100%",height:"100%",display:"block"},_0e=w.forwardRef((e,t)=>{var r=Ak(),n=jk(),a=RR();if(!Hs(r)||!Hs(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,c,u;return i!=null&&(typeof i.tabIndex=="number"?c=i.tabIndex:c=a?0:void 0,typeof i.role=="string"?u=i.role:u=a?"application":void 0),w.createElement(Q2,Vv({},i,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:w0e,ref:t}),s)}),k0e=e=>{var{children:t}=e,r=Se(ox);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return w.createElement(Q2,{width:n,height:a,x:i,y:s},t)},RN=w.forwardRef((e,t)=>{var{children:r}=e,n=y0e(e,x0e),a=Br();return a?w.createElement(k0e,null,w.createElement(IN,{isPanorama:!0},r)):w.createElement(_0e,Vv({ref:t},n),w.createElement(IN,{isPanorama:!1},r))});function S0e(){var e=xt(),[t,r]=w.useState(null),n=Se(WZ);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;dt(s)&&s!==n&&e(CZ(s))}},[t,e,n]),r}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){C0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0e(e,t,r){return(t=T0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T0e(e){var t=A0e(e,"string");return typeof t=="symbol"?t:t+""}function A0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xl.apply(null,arguments)}var j0e=()=>(Qse(),null);function Wv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var P0e=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[s,i]=w.useState({containerWidth:Wv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Wv((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,u)=>{i(f=>{var h=Math.round(c),p=Math.round(u);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var h=m=>{var{width:v,height:g}=m[0].contentRect;o(v,g)},p=new ResizeObserver(h);p.observe(c),a.current=p}},[t,o]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(lx,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Xl({ref:l},e)))}),N0e=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=w.useState({containerWidth:Wv(r),containerHeight:Wv(n)}),i=w.useCallback((l,c)=>{s(u=>{var f=Math.round(l),h=Math.round(c);return u.containerWidth===f&&u.containerHeight===h?u:{containerWidth:f,containerHeight:h}})},[]),o=w.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();i(c,u)}},[t,i]);return w.createElement(w.Fragment,null,w.createElement(lx,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Xl({ref:o},e)))}),O0e=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(lx,{width:r,height:n}),w.createElement("div",Xl({ref:t},e)))}),D0e=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return Pi(r)||Pi(n)?w.createElement(N0e,Xl({},e,{ref:t})):w.createElement(O0e,Xl({},e,{ref:t}))});function M0e(e){return e===!0?P0e:D0e}var I0e=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:g,width:x,responsive:b,dispatchTouchEvents:y=!0}=e,_=w.useRef(null),S=xt(),[k,E]=w.useState(null),[C,T]=w.useState(null),j=S0e(),P=Tk(),A=(P==null?void 0:P.width)>0?P.width:x,N=(P==null?void 0:P.height)>0?P.height:a,F=w.useCallback(Y=>{j(Y),typeof t=="function"&&t(Y),E(Y),T(Y),Y!=null&&(_.current=Y)},[j,t,E,T]),B=w.useCallback(Y=>{S(oL(Y)),S(Da({handler:s,reactEvent:Y}))},[S,s]),q=w.useCallback(Y=>{S(Qw(Y)),S(Da({handler:c,reactEvent:Y}))},[S,c]),K=w.useCallback(Y=>{S(P6()),S(Da({handler:u,reactEvent:Y}))},[S,u]),X=w.useCallback(Y=>{S(Qw(Y)),S(Da({handler:f,reactEvent:Y}))},[S,f]),I=w.useCallback(()=>{S(hL())},[S]),J=w.useCallback(Y=>{S(fL(Y.key))},[S]),Z=w.useCallback(Y=>{S(Da({handler:i,reactEvent:Y}))},[S,i]),M=w.useCallback(Y=>{S(Da({handler:o,reactEvent:Y}))},[S,o]),z=w.useCallback(Y=>{S(Da({handler:l,reactEvent:Y}))},[S,l]),G=w.useCallback(Y=>{S(Da({handler:h,reactEvent:Y}))},[S,h]),H=w.useCallback(Y=>{S(Da({handler:v,reactEvent:Y}))},[S,v]),Q=w.useCallback(Y=>{y&&S(mL(Y)),S(Da({handler:m,reactEvent:Y}))},[S,y,m]),oe=w.useCallback(Y=>{S(Da({handler:p,reactEvent:Y}))},[S,p]),le=M0e(b);return w.createElement(Z6.Provider,{value:k},w.createElement(FI.Provider,{value:C},w.createElement(le,{width:A??(g==null?void 0:g.width),height:N??(g==null?void 0:g.height),className:Ze("recharts-wrapper",n),style:E0e({position:"relative",cursor:"default",width:A,height:N},g),onClick:B,onContextMenu:Z,onDoubleClick:M,onFocus:I,onKeyDown:J,onMouseDown:z,onMouseEnter:q,onMouseLeave:K,onMouseMove:X,onMouseUp:G,onTouchEnd:oe,onTouchMove:Q,onTouchStart:H,ref:F},w.createElement(j0e,null),r)))}),R0e=["width","height","responsive","children","className","style","compact","title","desc"];function F0e(e,t){if(e==null)return{};var r,n,a=L0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bL=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:o,compact:l,title:c,desc:u}=e,f=F0e(e,R0e),h=Gn(f);return l?w.createElement(w.Fragment,null,w.createElement(lx,{width:r,height:n}),w.createElement(RN,{otherAttributes:h,title:c,desc:u},s)):w.createElement(I0e,{className:i,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(RN,{otherAttributes:h,title:c,desc:u,ref:t},w.createElement(Zue,null,s)))});function e_(){return e_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e_.apply(null,arguments)}var $0e={top:5,right:5,bottom:5,left:5},B0e={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$0e,reverseStackOrder:!1,syncMethod:"index",responsive:!1},zx=w.forwardRef(function(t,r){var n,a=Jt(t.categoricalChartProps,B0e),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return w.createElement(gL,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},w.createElement($8,{chartData:c.data}),w.createElement(xL,{layout:a.layout,margin:a.margin}),w.createElement(yL,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(bL,e_({},a,{ref:r})))}),z0e=["axis"],bi=w.forwardRef((e,t)=>w.createElement(zx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:z0e,tooltipPayloadSearcher:fh,categoricalChartProps:e,ref:t})),U0e=["axis","item"],wi=w.forwardRef((e,t)=>w.createElement(zx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:U0e,tooltipPayloadSearcher:fh,categoricalChartProps:e,ref:t}));function V0e(e){var t=xt();return w.useEffect(()=>{t(d0e(e))},[t,e]),null}var W0e=["layout"];function t_(){return t_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t_.apply(null,arguments)}function H0e(e,t){if(e==null)return{};var r,n,a=K0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function K0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var G0e={top:5,right:5,bottom:5,left:5},q0e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:G0e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Y0e=w.forwardRef(function(t,r){var n,a=Jt(t.categoricalChartProps,q0e),{layout:s}=a,i=H0e(a,W0e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(gL,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},w.createElement($8,{chartData:a.data}),w.createElement(xL,{layout:s,margin:a.margin}),w.createElement(yL,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(V0e,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(bL,t_({},i,{ref:r})))}),X0e=["item"],Z0e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wL=w.forwardRef((e,t)=>{var r=Jt(e,Z0e);return w.createElement(Y0e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:X0e,tooltipPayloadSearcher:fh,categoricalChartProps:r,ref:t})}),J0e=["axis"],Q0e=w.forwardRef((e,t)=>w.createElement(zx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:J0e,tooltipPayloadSearcher:fh,categoricalChartProps:e,ref:t})),ehe=["axis"],cE=w.forwardRef((e,t)=>w.createElement(zx,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ehe,tooltipPayloadSearcher:fh,categoricalChartProps:e,ref:t}));const Ac=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#6366F1","#14B8A6"],the=({data:e})=>{const[t,r]=w.useState("cartoes"),[n,a]=w.useState("canal"),[s,i]=w.useState("pie"),[o,l]=w.useState("desc"),c=w.useMemo(()=>{const h={};Object.values(e).flat().forEach(m=>{let v="";switch(n){case"canal":v=m.canal;break;case"bu":v=m.bu;break;case"parceiro":v=m.parceiro;break;case"oferta":v=m.oferta||"Padrao";break;case"segmento":v=m.segmento;break;default:v="Outros"}v||(v="Outros"),h[v]||(h[v]={name:v,value:0,cost:0,cards:0});const g=m.kpis;switch(h[v].cost+=g.custoTotal||0,h[v].cards+=g.cartoes||0,t){case"cartoes":h[v].value+=g.cartoes||0;break;case"custo":h[v].value+=g.custoTotal||0;break;case"envios":h[v].value+=g.baseEnviada||0;break;case"aprovacoes":h[v].value+=g.aprovados||0;break}});let p=Object.values(h);switch(t==="cac"&&(p=p.map(m=>({...m,value:m.cards>0?parseFloat((m.cost/m.cards).toFixed(2)):0}))),o){case"desc":p.sort((m,v)=>v.value-m.value);break;case"asc":p.sort((m,v)=>m.value-v.value);break;case"alpha":p.sort((m,v)=>m.name.localeCompare(v.name));break}return p},[e,t,n,o]),u=h=>t==="custo"?`R$ ${(h/1e3).toFixed(1)}k`:t==="cac"?`R$ ${h.toFixed(2)}`:new Intl.NumberFormat("pt-BR").format(h),f=w.useMemo(()=>{if(t==="cac"){const h=c.reduce((m,v)=>m+v.cost,0),p=c.reduce((m,v)=>m+v.cards,0);return p>0?h/p:0}return c.reduce((h,p)=>h+p.value,0)},[c,t]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8",children:[d.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-3",children:[d.jsx(L0,{size:24,className:"text-blue-400"}),"Anlise de Distribuio"]}),d.jsxs("div",{className:"flex gap-2 bg-slate-900 rounded-lg p-1.5 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("pie"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="pie"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx(uI,{size:18}),"Pizza"]}),d.jsxs("button",{onClick:()=>i("bar"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="bar"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx(B2,{size:18}),"Barras"]})]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsxs("select",{value:t,onChange:h=>r(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[180px]",children:[d.jsx("option",{value:"cartoes",children:"Cartes Gerados"}),d.jsx("option",{value:"custo",children:"Custo Total"}),d.jsx("option",{value:"envios",children:"Base Enviada"}),d.jsx("option",{value:"aprovacoes",children:"Aprovaes"}),d.jsx("option",{value:"cac",children:"CAC Mdio"})]}),d.jsx("span",{className:"text-slate-400 text-base font-medium",children:"por"}),d.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[150px]",children:[d.jsx("option",{value:"canal",children:"Canal"}),d.jsx("option",{value:"bu",children:"BU"}),d.jsx("option",{value:"parceiro",children:"Parceiro"}),d.jsx("option",{value:"oferta",children:"Oferta"}),d.jsx("option",{value:"segmento",children:"Segmento"})]}),d.jsx("span",{className:"text-slate-600 text-base",children:""}),d.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[170px]",children:[d.jsx("option",{value:"desc",children:"Maior  Menor"}),d.jsx("option",{value:"asc",children:"Menor  Maior"}),d.jsx("option",{value:"alpha",children:"Alfabtica"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-10 items-start",children:[d.jsx("div",{className:"col-span-2 h-[500px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:s==="pie"?d.jsx(wL,{children:d.jsx(QS,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,paddingAngle:2,stroke:"#0f172a",strokeWidth:2,labelLine:!1,label:({percent:h=0,name:p})=>`${p}: ${(h*100).toFixed(1)}%`,children:c.map((h,p)=>d.jsx(Ri,{fill:Ac[p%Ac.length]},`cell-${p}`))})}):d.jsxs(wi,{data:c,layout:"vertical",margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(Kt,{type:"number",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1}),d.jsx(pt,{type:"category",dataKey:"name",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1,width:90}),d.jsx(Ht,{formatter:h=>u(h),contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9",fontSize:"14px",padding:"12px",borderRadius:"8px"},itemStyle:{color:"#f1f5f9"}}),d.jsx(Ir,{dataKey:"value",radius:[0,8,8,0],barSize:40,children:c.map((h,p)=>d.jsx(Ri,{fill:Ac[p%Ac.length]},`cell-${p}`))})]})})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700 text-center shadow-lg",children:[d.jsx("p",{className:"text-base text-slate-400 mb-3 font-medium",children:t==="cac"?"CAC Mdio Global":"Total Geral"}),d.jsx("p",{className:"text-5xl font-bold text-white mb-2",children:u(f)})]}),d.jsx("div",{className:"space-y-3 max-h-[380px] overflow-y-auto pr-3 custom-scrollbar",children:c.map((h,p)=>d.jsxs("div",{className:"flex items-center justify-between text-base p-3 hover:bg-slate-700/40 rounded-lg transition bg-slate-900/30 border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 rounded-full shadow-md",style:{backgroundColor:Ac[p%Ac.length]}}),d.jsx("span",{className:"text-slate-200 font-medium",children:h.name})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"font-bold text-slate-100 text-lg",children:u(h.value)}),t!=="cac"&&f>0&&d.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:[(h.value/f*100).toFixed(1),"%"]})]})]},p))})]})]})]})},rhe=({goal:e,currentCartoes:t,currentAprovacoes:r,currentCAC:n})=>{var o,l;const a=e.cartoes_meta?Math.min(t/e.cartoes_meta*100,100):0,s=e.aprovacoes_meta?Math.min(r/e.aprovacoes_meta*100,100):0,i=!e.cac_max||n<=e.cac_max;return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-blue-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(vW,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Cartes Gerados"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${a>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[a.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((o=e.cartoes_meta)==null?void 0:o.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-emerald-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(dn,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Aprovaes"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${s>=100,"bg-emerald-500/20 text-emerald-400"}`,children:[s.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:r.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((l=e.aprovacoes_meta)==null?void 0:l.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${s}%`}})})]}),d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-4 relative overflow-hidden group transition-all ${i?"border-slate-700 hover:border-emerald-500/50":"border-red-900/50 hover:border-red-500/50"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(Gu,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"CAC Mdio"}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:i?"Dentro da Meta":"Acima da Meta"})]}),d.jsxs("div",{className:`text-2xl font-bold mb-1 ${i?"text-emerald-400":"text-red-400"}`,children:["R$ ",n.toFixed(2)]}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta Mx: ",e.cac_max?`R$ ${e.cac_max.toFixed(2)}`:"-"]}),d.jsxs("div",{className:"relative h-1.5 bg-slate-700 rounded-full overflow-hidden",children:[e.cac_max&&d.jsx("div",{className:"absolute h-full w-0.5 bg-white z-10",style:{left:`${Math.min(e.cac_max/(e.cac_max*1.5)*100,100)}%`}}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${i?"bg-emerald-500":"bg-red-500"}`,style:{width:`${e.cac_max?Math.min(n/(e.cac_max*1.5)*100,100):0}%`}})]})]})]})})},nhe=({isOpen:e,onClose:t,onSave:r,initialGoal:n,currentMonthLabel:a})=>{const[s,i]=w.useState("B2C"),[o,l]=w.useState({B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}});w.useEffect(()=>{if(e){const f={B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}};n.bus&&Object.entries(n.bus).forEach(([h,p])=>{var m,v,g;f[h]&&(f[h]={cartoes:((m=p.cartoes)==null?void 0:m.toString())||"",aprovacoes:((v=p.aprovacoes)==null?void 0:v.toString())||"",cac:((g=p.cac)==null?void 0:g.toString())||""})}),l(f)}},[e,n]);const c=w.useMemo(()=>{let f=0,h=0,p=0,m=0;return Object.values(o).forEach(v=>{f+=Number(v.cartoes)||0,h+=Number(v.aprovacoes)||0,Number(v.cac)>0&&(p+=Number(v.cac),m++)}),{cartoes:f,aprovacoes:h,cacMedio:m>0?p/m:0}},[o]);if(!e)return null;const u=f=>{f.preventDefault();const h={};Object.entries(o).forEach(([p,m])=>{h[p]={cartoes:Number(m.cartoes)||0,aprovacoes:Number(m.aprovacoes)||0,cac:Number(m.cac)||0}}),r({mes:n.mes,cartoes_meta:c.cartoes,aprovacoes_meta:c.aprovacoes,cac_max:c.cacMedio,bus:h}),t()};return d.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-2xl w-full max-w-2xl border border-white/10 flex flex-col md:flex-row overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2 mb-6",children:[d.jsx(Wi,{className:"text-blue-400",size:20}),"Metas"]}),d.jsx("div",{className:"space-y-2 flex-1",children:["B2C","B2B2C","Plurix"].map(f=>d.jsxs("button",{type:"button",onClick:()=>i(f),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition flex items-center justify-between group ${s===f?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[f,s===f&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"})]},f))}),d.jsxs("div",{className:"mt-6 bg-slate-800/50 rounded-lg p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[d.jsx(bl,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Consolidado"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Cartes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Aprovaes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.aprovacoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"CAC Mdio"}),d.jsxs("span",{className:"text-emerald-400 font-mono",children:["R$ ",c.cacMedio.toFixed(2)]})]})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-slate-800/50",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-100 font-bold",children:["Configurao: ",s]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Defina as metas para o ms de ",a]})]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200 transition",children:d.jsx(Za,{size:20})})]}),d.jsx("form",{onSubmit:u,className:"p-6 space-y-6 flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Cartes Gerados"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].cartoes,onChange:f=>l({...o,[s]:{...o[s],cartoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Aprovaes"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].aprovacoes,onChange:f=>l({...o,[s]:{...o[s],aprovacoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"CAC Mximo Aceitvel"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",value:o[s].cac,onChange:f=>l({...o,[s]:{...o[s],cac:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 pl-10 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0.00"})]})]})]})}),d.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900/30 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded-lg transition",children:"Cancelar"}),d.jsxs("button",{onClick:u,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center gap-2 transition shadow-lg shadow-blue-900/20 font-medium",children:[d.jsx(qu,{size:18}),"Salvar Todas as Metas"]})]})]})]})})};function Li(e){"@babel/helpers - typeof";return Li=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Li(e)}function gr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Be(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ze(e){Be(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Li(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Hv(e,t){Be(2,arguments);var r=ze(e),n=gr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function uE(e,t){Be(2,arguments);var r=ze(e),n=gr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function ahe(e,t){Be(2,arguments);var r=ze(e).getTime(),n=gr(t);return new Date(r+n)}var she={};function Xo(){return she}function Zo(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Xo(),f=gr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(e),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function Kv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function $i(e){Be(1,arguments);var t=ze(e);return t.setHours(0,0,0,0),t}var ihe=864e5;function ohe(e,t){Be(2,arguments);var r=$i(e),n=$i(t),a=r.getTime()-Kv(r),s=n.getTime()-Kv(n);return Math.round((a-s)/ihe)}var dE=6e4,fE=36e5,lhe=1e3;function c0(e,t){Be(2,arguments);var r=$i(e),n=$i(t);return r.getTime()===n.getTime()}function che(e){return Be(1,arguments),e instanceof Date||Li(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function _L(e){if(Be(1,arguments),!che(e)&&typeof e!="number")return!1;var t=ze(e);return!isNaN(Number(t))}function LN(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function u0(e,t){Be(2,arguments);var r=ze(e),n=ze(t),a=LN(r,n),s=Math.abs(ohe(r,n));r.setDate(r.getDate()-a*s);var i=+(LN(r,n)===-a),o=a*(s-i);return o===0?0:o}function Lu(e){Be(1,arguments);var t=ze(e);return t.setHours(23,59,59,999),t}function Il(e){Be(1,arguments);var t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function hE(e,t){var r;Be(1,arguments);var n=e||{},a=ze(n.start),s=ze(n.end),i=s.getTime();if(!(a.getTime()<=i))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)o.push(ze(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function Jr(e){Be(1,arguments);var t=ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function uhe(e,t){var r,n,a,s,i,o;Be(1,arguments);var l=Xo(),c=gr((r=(n=(a=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(i=l.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=ze(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function kL(e,t){Be(2,arguments);var r=gr(t);return ahe(e,-r)}var dhe=864e5;function fhe(e){Be(1,arguments);var t=ze(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/dhe)+1}function $u(e){Be(1,arguments);var t=1,r=ze(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function SL(e){Be(1,arguments);var t=ze(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=$u(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var i=$u(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function hhe(e){Be(1,arguments);var t=SL(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=$u(r);return n}var phe=6048e5;function EL(e){Be(1,arguments);var t=ze(e),r=$u(t).getTime()-hhe(t).getTime();return Math.round(r/phe)+1}function Zl(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Xo(),f=gr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function pE(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=ze(e),f=u.getUTCFullYear(),h=Xo(),p=gr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var v=Zl(m,t),g=new Date(0);g.setUTCFullYear(f,0,p),g.setUTCHours(0,0,0,0);var x=Zl(g,t);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function mhe(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Xo(),f=gr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=pE(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=Zl(p,t);return m}var vhe=6048e5;function CL(e,t){Be(1,arguments);var r=ze(e),n=Zl(r,t).getTime()-mhe(r,t).getTime();return Math.round(n/vhe)+1}function ot(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Ji={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return ot(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):ot(n+1,2)},d:function(t,r){return ot(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return ot(t.getUTCHours()%12||12,r.length)},H:function(t,r){return ot(t.getUTCHours(),r.length)},m:function(t,r){return ot(t.getUTCMinutes(),r.length)},s:function(t,r){return ot(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return ot(s,r.length)}},jc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ghe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Ji.y(t,r)},Y:function(t,r,n,a){var s=pE(t,a),i=s>0?s:1-s;if(r==="YY"){var o=i%100;return ot(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):ot(i,r.length)},R:function(t,r){var n=SL(t);return ot(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return ot(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return ot(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return ot(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Ji.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return ot(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=CL(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):ot(s,r.length)},I:function(t,r,n){var a=EL(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):ot(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Ji.d(t,r)},D:function(t,r,n){var a=fhe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):ot(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return ot(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return ot(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return ot(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=jc.noon:a===0?s=jc.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=jc.evening:a>=12?s=jc.afternoon:a>=4?s=jc.morning:s=jc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ji.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Ji.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):ot(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ji.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Ji.s(t,r)},S:function(t,r){return Ji.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return BN(i);case"XXXX":case"XX":return fl(i);case"XXXXX":case"XXX":default:return fl(i,":")}},x:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"x":return BN(i);case"xxxx":case"xx":return fl(i);case"xxxxx":case"xxx":default:return fl(i,":")}},O:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+$N(i,":");case"OOOO":default:return"GMT"+fl(i,":")}},z:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+$N(i,":");case"zzzz":default:return"GMT"+fl(i,":")}},t:function(t,r,n,a){var s=a._originalDate||t,i=Math.floor(s.getTime()/1e3);return ot(i,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,i=s.getTime();return ot(i,r.length)}};function $N(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var i=t;return r+String(a)+i+ot(s,2)}function BN(e,t){if(e%60===0){var r=e>0?"-":"+";return r+ot(Math.abs(e)/60,2)}return fl(e,t)}function fl(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=ot(Math.floor(a/60),2),i=ot(a%60,2);return n+s+r+i}var zN=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},TL=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},xhe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return zN(t,r);var i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",zN(a,r)).replace("{{time}}",TL(s,r))},r_={p:TL,P:xhe},yhe=["D","DD"],bhe=["YY","YYYY"];function AL(e){return yhe.indexOf(e)!==-1}function jL(e){return bhe.indexOf(e)!==-1}function Gv(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var whe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_he=function(t,r,n){var a,s=whe[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function vu(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var khe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},She={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ehe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Che={date:vu({formats:khe,defaultWidth:"full"}),time:vu({formats:She,defaultWidth:"full"}),dateTime:vu({formats:Ehe,defaultWidth:"full"})},The={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ahe=function(t,r,n,a){return The[t]};function Os(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):s;a=e.formattingValues[i]||e.formattingValues[s]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var jhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Phe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nhe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ohe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Mhe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ihe=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rhe={ordinalNumber:Ihe,era:Os({values:jhe,defaultWidth:"wide"}),quarter:Os({values:Phe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Os({values:Nhe,defaultWidth:"wide"}),day:Os({values:Ohe,defaultWidth:"wide"}),dayPeriod:Os({values:Dhe,defaultWidth:"wide",formattingValues:Mhe,defaultFormattingWidth:"wide"})};function Ds(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?Lhe(o,function(f){return f.test(i)}):Fhe(o,function(f){return f.test(i)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(i.length);return{value:c,rest:u}}}function Fhe(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function Lhe(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function PL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var $he=/^(\d+)(th|st|nd|rd)?/i,Bhe=/\d+/i,zhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Uhe={any:[/^b/i,/^(a|c)/i]},Vhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Whe={any:[/1/i,/2/i,/3/i,/4/i]},Hhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Khe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ghe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},qhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yhe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zhe={ordinalNumber:PL({matchPattern:$he,parsePattern:Bhe,valueCallback:function(t){return parseInt(t,10)}}),era:Ds({matchPatterns:zhe,defaultMatchWidth:"wide",parsePatterns:Uhe,defaultParseWidth:"any"}),quarter:Ds({matchPatterns:Vhe,defaultMatchWidth:"wide",parsePatterns:Whe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ds({matchPatterns:Hhe,defaultMatchWidth:"wide",parsePatterns:Khe,defaultParseWidth:"any"}),day:Ds({matchPatterns:Ghe,defaultMatchWidth:"wide",parsePatterns:qhe,defaultParseWidth:"any"}),dayPeriod:Ds({matchPatterns:Yhe,defaultMatchWidth:"any",parsePatterns:Xhe,defaultParseWidth:"any"})},NL={code:"en-US",formatDistance:_he,formatLong:Che,formatRelative:Ahe,localize:Rhe,match:Zhe,options:{weekStartsOn:0,firstWeekContainsDate:1}},Jhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Qhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,epe=/^'([^]*?)'?$/,tpe=/''/g,rpe=/[a-zA-Z]/;function ke(e,t,r){var n,a,s,i,o,l,c,u,f,h,p,m,v,g,x,b,y,_;Be(2,arguments);var S=String(t),k=Xo(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:k.locale)!==null&&n!==void 0?n:NL,C=gr((s=(i=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:k.firstWeekContainsDate)!==null&&i!==void 0?i:(f=k.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=gr((p=(m=(v=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:k.weekStartsOn)!==null&&m!==void 0?m:(y=k.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var j=ze(e);if(!_L(j))throw new RangeError("Invalid time value");var P=Kv(j),A=kL(j,P),N={firstWeekContainsDate:C,weekStartsOn:T,locale:E,_originalDate:j},F=S.match(Qhe).map(function(B){var q=B[0];if(q==="p"||q==="P"){var K=r_[q];return K(B,E.formatLong)}return B}).join("").match(Jhe).map(function(B){if(B==="''")return"'";var q=B[0];if(q==="'")return npe(B);var K=ghe[q];if(K)return!(r!=null&&r.useAdditionalWeekYearTokens)&&jL(B)&&Gv(B,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&AL(B)&&Gv(B,t,String(e)),K(A,B,E.localize,N);if(q.match(rpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return B}).join("");return F}function npe(e){var t=e.match(epe);return t?t[1].replace(tpe,"'"):e}function ape(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function qv(e){Be(1,arguments);var t=ze(e),r=t.getDate();return r}function mE(e){Be(1,arguments);var t=ze(e),r=t.getDay();return r}function vE(e){Be(1,arguments);var t=ze(e),r=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function spe(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getTime()>n.getTime()}function UN(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getTime()<n.getTime()}function m1(e){return Be(1,arguments),ze(e).getTime()>Date.now()}function VN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ipe(e,t){if(e){if(typeof e=="string")return VN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?VN(e,t):void 0}}function WN(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=ipe(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return i=c.done,c},e:function(c){o=!0,s=c},f:function(){try{i||r.return==null||r.return()}finally{if(o)throw s}}}}function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n_(e,t){return n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},n_(e,t)}function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n_(e,t)}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Yv(e)}function OL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OL=function(){return!!e})()}function ope(e,t){if(t&&(Li(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function tt(e){var t=OL();return function(){var r,n=Yv(e);if(t){var a=Yv(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return ope(this,r)}}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lpe(e,t){if(Li(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Li(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DL(e){var t=lpe(e,"string");return Li(t)=="symbol"?t:t+""}function cpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DL(n.key),n)}}function qe(e,t,r){return t&&cpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(e,t,r){return(t=DL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var upe=10,ML=function(){function e(){Ge(this,e),we(this,"priority",void 0),we(this,"subPriority",0)}return qe(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),dpe=function(e){et(r,e);var t=tt(r);function r(n,a,s,i,o){var l;return Ge(this,r),l=t.call(this),l.value=n,l.validateValue=a,l.setValue=s,l.priority=i,o&&(l.subPriority=o),l}return qe(r,[{key:"validate",value:function(a,s){return this.validateValue(a,this.value,s)}},{key:"set",value:function(a,s,i){return this.setValue(a,s,this.value,i)}}]),r}(ML),fpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",upe),we(Ce(n),"subPriority",-1),n}return qe(r,[{key:"set",value:function(a,s){if(s.timestampIsSet)return a;var i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}}]),r}(ML),nt=function(){function e(){Ge(this,e),we(this,"incompatibleTokens",void 0),we(this,"priority",void 0),we(this,"subPriority",void 0)}return qe(e,[{key:"run",value:function(r,n,a,s){var i=this.parse(r,n,a,s);return i?{setter:new dpe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}(),hpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",140),we(Ce(n),"incompatibleTokens",["R","u","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})||i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"})}}},{key:"set",value:function(a,s,i){return s.era=i,a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),mr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ms={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Gt(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Is(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*fE+s*dE+i*lhe),rest:t.slice(r[0].length)}}function IL(e){return Gt(mr.anyDigitsSigned,e)}function cr(e,t){switch(e){case 1:return Gt(mr.singleDigit,t);case 2:return Gt(mr.twoDigits,t);case 3:return Gt(mr.threeDigits,t);case 4:return Gt(mr.fourDigits,t);default:return Gt(new RegExp("^\\d{1,"+e+"}"),t)}}function Xv(e,t){switch(e){case 1:return Gt(mr.singleDigitSigned,t);case 2:return Gt(mr.twoDigitsSigned,t);case 3:return Gt(mr.threeDigitsSigned,t);case 4:return Gt(mr.fourDigitsSigned,t);default:return Gt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function gE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function RL(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var s=n+50,i=Math.floor(s/100)*100,o=e>=s%100;a=e+i-(o?100:0)}return r?a:1-a}function FL(e){return e%400===0||e%4===0&&e%100!==0}var ppe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return vr(cr(4,a),o);case"yo":return vr(i.ordinalNumber(a,{unit:"year"}),o);default:return vr(cr(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i){var o=a.getUTCFullYear();if(i.isTwoDigitYear){var l=RL(i.year,o);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var c=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),mpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return vr(cr(4,a),o);case"Yo":return vr(i.ordinalNumber(a,{unit:"year"}),o);default:return vr(cr(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i,o){var l=pE(a,o);if(i.isTwoDigitYear){var c=RL(i.year,l);return a.setUTCFullYear(c,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Zl(a,o)}var u=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(u,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),Zl(a,o)}}]),r}(nt),vpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){return Xv(s==="R"?4:s.length,a)}},{key:"set",value:function(a,s,i){var o=new Date(0);return o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0),$u(o)}}]),r}(nt),gpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){return Xv(s==="u"?4:s.length,a)}},{key:"set",value:function(a,s,i){return a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),xpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",120),we(Ce(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"Q":case"QQ":return cr(s.length,a);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})||i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),ype=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",120),we(Ce(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"q":case"qq":return cr(s.length,a);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})||i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),bpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),we(Ce(n),"priority",110),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"M":return vr(Gt(mr.month,a),o);case"MM":return vr(cr(2,a),o);case"Mo":return vr(i.ordinalNumber(a,{unit:"month"}),o);case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})||i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),wpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",110),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"L":return vr(Gt(mr.month,a),o);case"LL":return vr(cr(2,a),o);case"Lo":return vr(i.ordinalNumber(a,{unit:"month"}),o);case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})||i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function _pe(e,t,r){Be(2,arguments);var n=ze(e),a=gr(t),s=CL(n,r)-a;return n.setUTCDate(n.getUTCDate()-s*7),n}var kpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",100),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"w":return Gt(mr.week,a);case"wo":return i.ordinalNumber(a,{unit:"week"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i,o){return Zl(_pe(a,i,o),o)}}]),r}(nt);function Spe(e,t){Be(2,arguments);var r=ze(e),n=gr(t),a=EL(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}var Epe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",100),we(Ce(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"I":return Gt(mr.week,a);case"Io":return i.ordinalNumber(a,{unit:"week"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i){return $u(Spe(a,i))}}]),r}(nt),Cpe=[31,28,31,30,31,30,31,31,30,31,30,31],Tpe=[31,29,31,30,31,30,31,31,30,31,30,31],Ape=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"subPriority",1),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"d":return Gt(mr.date,a);case"do":return i.ordinalNumber(a,{unit:"date"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=FL(i),l=a.getUTCMonth();return o?s>=1&&s<=Tpe[l]:s>=1&&s<=Cpe[l]}},{key:"set",value:function(a,s,i){return a.setUTCDate(i),a.setUTCHours(0,0,0,0),a}}]),r}(nt),jpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"subpriority",1),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"D":case"DD":return Gt(mr.dayOfYear,a);case"Do":return i.ordinalNumber(a,{unit:"date"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=FL(i);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(a,s,i){return a.setUTCMonth(0,i),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function xE(e,t,r){var n,a,s,i,o,l,c,u;Be(2,arguments);var f=Xo(),h=gr((n=(a=(s=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(o=r.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&a!==void 0?a:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(e),m=gr(t),v=p.getUTCDay(),g=m%7,x=(g+7)%7,b=(x<h?7:0)+m-v;return p.setUTCDate(p.getUTCDate()+b),p}var Ppe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=xE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Npe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return vr(cr(s.length,a),l);case"eo":return vr(i.ordinalNumber(a,{unit:"day"}),l);case"eee":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeeee":return i.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=xE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Ope=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return vr(cr(s.length,a),l);case"co":return vr(i.ordinalNumber(a,{unit:"day"}),l);case"ccc":return i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"ccccc":return i.day(a,{width:"narrow",context:"standalone"});case"cccccc":return i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(a,{width:"wide",context:"standalone"})||i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=xE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function Dpe(e,t){Be(2,arguments);var r=gr(t);r%7===0&&(r=r-7);var n=1,a=ze(e),s=a.getUTCDay(),i=r%7,o=(i+7)%7,l=(o<n?7:0)+r-s;return a.setUTCDate(a.getUTCDate()+l),a}var Mpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c===0?7:c};switch(s){case"i":case"ii":return cr(s.length,a);case"io":return i.ordinalNumber(a,{unit:"day"});case"iii":return vr(i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiii":return vr(i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vr(i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vr(i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(a,s){return s>=1&&s<=7}},{key:"set",value:function(a,s,i){return a=Dpe(a,i),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Ipe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(gE(i),0,0,0),a}}]),r}(nt),Rpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(gE(i),0,0,0),a}}]),r}(nt),Fpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["a","b","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(gE(i),0,0,0),a}}]),r}(nt),Lpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["H","K","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"h":return Gt(mr.hour12h,a);case"ho":return i.ordinalNumber(a,{unit:"hour"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=12}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):!o&&i===12?a.setUTCHours(0,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(nt),$pe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"H":return Gt(mr.hour23h,a);case"Ho":return i.ordinalNumber(a,{unit:"hour"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=23}},{key:"set",value:function(a,s,i){return a.setUTCHours(i,0,0,0),a}}]),r}(nt),Bpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["h","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"K":return Gt(mr.hour11h,a);case"Ko":return i.ordinalNumber(a,{unit:"hour"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(nt),zpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"k":return Gt(mr.hour24h,a);case"ko":return i.ordinalNumber(a,{unit:"hour"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=24}},{key:"set",value:function(a,s,i){var o=i<=24?i%24:i;return a.setUTCHours(o,0,0,0),a}}]),r}(nt),Upe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",60),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"m":return Gt(mr.minute,a);case"mo":return i.ordinalNumber(a,{unit:"minute"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCMinutes(i,0,0),a}}]),r}(nt),Vpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",50),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"s":return Gt(mr.second,a);case"so":return i.ordinalNumber(a,{unit:"second"});default:return cr(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCSeconds(i,0),a}}]),r}(nt),Wpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",30),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){var i=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return vr(cr(s.length,a),i)}},{key:"set",value:function(a,s,i){return a.setUTCMilliseconds(i),a}}]),r}(nt),Hpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",10),we(Ce(n),"incompatibleTokens",["t","T","x"]),n}return qe(r,[{key:"parse",value:function(a,s){switch(s){case"X":return Is(Ms.basicOptionalMinutes,a);case"XX":return Is(Ms.basic,a);case"XXXX":return Is(Ms.basicOptionalSeconds,a);case"XXXXX":return Is(Ms.extendedOptionalSeconds,a);case"XXX":default:return Is(Ms.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(nt),Kpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",10),we(Ce(n),"incompatibleTokens",["t","T","X"]),n}return qe(r,[{key:"parse",value:function(a,s){switch(s){case"x":return Is(Ms.basicOptionalMinutes,a);case"xx":return Is(Ms.basic,a);case"xxxx":return Is(Ms.basicOptionalSeconds,a);case"xxxxx":return Is(Ms.extendedOptionalSeconds,a);case"xxx":default:return Is(Ms.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(nt),Gpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",40),we(Ce(n),"incompatibleTokens","*"),n}return qe(r,[{key:"parse",value:function(a){return IL(a)}},{key:"set",value:function(a,s,i){return[new Date(i*1e3),{timestampIsSet:!0}]}}]),r}(nt),qpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",20),we(Ce(n),"incompatibleTokens","*"),n}return qe(r,[{key:"parse",value:function(a){return IL(a)}},{key:"set",value:function(a,s,i){return[new Date(i),{timestampIsSet:!0}]}}]),r}(nt),Ype={G:new hpe,y:new ppe,Y:new mpe,R:new vpe,u:new gpe,Q:new xpe,q:new ype,M:new bpe,L:new wpe,w:new kpe,I:new Epe,d:new Ape,D:new jpe,E:new Ppe,e:new Npe,c:new Ope,i:new Mpe,a:new Ipe,b:new Rpe,B:new Fpe,h:new Lpe,H:new $pe,K:new Bpe,k:new zpe,m:new Upe,s:new Vpe,S:new Wpe,X:new Hpe,x:new Kpe,t:new Gpe,T:new qpe},Xpe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Jpe=/^'([^]*?)'?$/,Qpe=/''/g,eme=/\S/,tme=/[a-zA-Z]/;function rme(e,t,r,n){var a,s,i,o,l,c,u,f,h,p,m,v,g,x;Be(3,arguments);var b=String(e),y=String(t),_=Xo(),S=(a=(s=void 0)!==null&&s!==void 0?s:_.locale)!==null&&a!==void 0?a:NL;if(!S.match)throw new RangeError("locale must contain match property");var k=gr((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:_.firstWeekContainsDate)!==null&&o!==void 0?o:(u=_.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=gr((h=(p=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:_.weekStartsOn)!==null&&p!==void 0?p:(g=_.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(y==="")return b===""?ze(r):new Date(NaN);var C={firstWeekContainsDate:k,weekStartsOn:E,locale:S},T=[new fpe],j=y.match(Zpe).map(function(G){var H=G[0];if(H in r_){var Q=r_[H];return Q(G,S.formatLong)}return G}).join("").match(Xpe),P=[],A=WN(j),N;try{var F=function(){var H=N.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&jL(H)&&Gv(H,y,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&AL(H)&&Gv(H,y,e);var Q=H[0],oe=Ype[Q];if(oe){var le=oe.incompatibleTokens;if(Array.isArray(le)){var Y=P.find(function(ue){return le.includes(ue.token)||ue.token===Q});if(Y)throw new RangeError("The format string mustn't contain `".concat(Y.fullToken,"` and `").concat(H,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&P.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));P.push({token:Q,fullToken:H});var te=oe.run(b,H,S.match,C);if(!te)return{v:new Date(NaN)};T.push(te.setter),b=te.rest}else{if(Q.match(tme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(H==="''"?H="'":Q==="'"&&(H=nme(H)),b.indexOf(H)===0)b=b.slice(H.length);else return{v:new Date(NaN)}}};for(A.s();!(N=A.n()).done;){var B=F();if(Li(B)==="object")return B.v}}catch(G){A.e(G)}finally{A.f()}if(b.length>0&&eme.test(b))return new Date(NaN);var q=T.map(function(G){return G.priority}).sort(function(G,H){return H-G}).filter(function(G,H,Q){return Q.indexOf(G)===H}).map(function(G){return T.filter(function(H){return H.priority===G}).sort(function(H,Q){return Q.subPriority-H.subPriority})}).map(function(G){return G[0]}),K=ze(r);if(isNaN(K.getTime()))return new Date(NaN);var X=kL(K,Kv(K)),I={},J=WN(q),Z;try{for(J.s();!(Z=J.n()).done;){var M=Z.value;if(!M.validate(X,C))return new Date(NaN);var z=M.set(X,I,C);Array.isArray(z)?(X=z[0],ape(I,z[1])):X=z}}catch(G){J.e(G)}finally{J.f()}return X}function nme(e){return e.match(Jpe)[1].replace(Qpe,"'")}function d0(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function jo(e,t){Be(2,arguments);var r=ze(e).getTime(),n=ze(t.start).getTime(),a=ze(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function jt(e,t){Be(2,arguments);var r=gr(t);return Hv(e,-r)}function Qr(e,t){var r;Be(1,arguments);var n=gr((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=ome(e),s;if(a.date){var i=lme(a.date,n);s=cme(i.restDateString,i.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,c;if(a.time&&(l=ume(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=dme(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var Tp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ame=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,sme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ime=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ome(e){var t={},r=e.split(Tp.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Tp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Tp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Tp.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function lme(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function cme(e,t){if(t===null)return new Date(NaN);var r=e.match(ame);if(!r)return new Date(NaN);var n=!!r[4],a=Dd(r[1]),s=Dd(r[2])-1,i=Dd(r[3]),o=Dd(r[4]),l=Dd(r[5])-1;if(n)return vme(t,o,l)?fme(t,o,l):new Date(NaN);var c=new Date(0);return!pme(t,s,i)||!mme(t,a)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(a,i)),c)}function Dd(e){return e?parseInt(e):1}function ume(e){var t=e.match(sme);if(!t)return NaN;var r=v1(t[1]),n=v1(t[2]),a=v1(t[3]);return gme(r,n,a)?r*fE+n*dE+a*1e3:NaN}function v1(e){return e&&parseFloat(e.replace(",","."))||0}function dme(e){if(e==="Z")return 0;var t=e.match(ime);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return xme(n,a)?r*(n*fE+a*dE):NaN}function fme(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var hme=[31,null,31,30,31,30,31,31,30,31,30,31];function LL(e){return e%400===0||e%4===0&&e%100!==0}function pme(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(hme[t]||(LL(e)?29:28))}function mme(e,t){return t>=1&&t<=(LL(e)?366:365)}function vme(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function gme(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function xme(e,t){return t>=0&&t<=59}function Bu(e,t){Be(2,arguments);var r=gr(t);return uE(e,-r)}const hm=e=>{if(typeof e=="string"){const s=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(s)return`${s[1]}-${s[2]}-${s[3]}`}const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"UNKNOWN";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},Eh=e=>{if(!e)return null;try{if(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))&&!e.includes("/")&&!e.includes("-")){const i=Number(e),l=Math.floor(i-25569)*86400,c=new Date(l*1e3),u=i-Math.floor(i)+1e-7,f=Math.floor(86400*u),h=f%60,p=Math.floor(f/60)%60,m=Math.floor(f/(60*60));return new Date(c.getFullYear(),c.getMonth(),c.getDate(),m,p,h)}const t=e.toString().trim();if(t.includes("/")){const i=t.split("/");if(i.length===3){const o=parseInt(i[0],10),l=parseInt(i[1],10);let c=parseInt(i[2],10);c<100&&(c+=2e3);let u=o,f=l,h=new Date(c,f-1,u);if(h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u||(u=l,f=o,h=new Date(c,f-1,u),h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u))return h}}if(t.includes("-")){const i=t.split("-");if(i.length>=3&&!isNaN(parseInt(i[1]))){const o=parseInt(i[0],10),l=parseInt(i[1],10),c=i[2].split("T")[0].split(" ")[0],u=parseInt(c,10);if(!isNaN(o)&&!isNaN(l)&&!isNaN(u))return new Date(o,l-1,u)}}const r={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},n=t.toLowerCase().match(/(\d{1,2})[\s\-\/de]+([a-z]+)[\s\-\/de]+(\d{2,4})/);if(n){const i=parseInt(n[1],10),o=n[2],l=Object.keys(r).find(u=>o.includes(u)||u.includes(o));let c=parseInt(n[3],10);if(c<100&&(c+=2e3),l!==void 0){const u=r[l];return new Date(c,u,i)}}let a=t;a.endsWith("Z")&&(a=a.slice(0,-1));const s=new Date(a);return isNaN(s.getTime())?null:s}catch{return null}},yme=({data:e,currentGoal:t,selectedBU:r,onPointClick:n})=>{var y;const[a,s]=w.useState(0),i=new Date,o=t.mes,l=Qr(`${o}-01`),c=vE(l),u=d0(i,l),f=w.useMemo(()=>{if(!u)return c;const _=Object.keys(e).filter(k=>k.startsWith(o)).sort();if(_.length>0){const k=Qr(_[_.length-1]);return qv(k)}const S=qv(i);return Math.min(S,c)},[e,o,u,c,i]),h=u?f:c,p=c-h,m=w.useMemo(()=>{let _=0,S=0,k=0;return Object.entries(e).forEach(([E,C])=>{E.startsWith(o)&&C.forEach(T=>{r&&T.bu!==r||(_+=T.kpis.cartoes||0,S+=T.kpis.aprovados||0,k+=T.kpis.custoTotal||0)})}),{cartoes:_,aprovacoes:S,custo:k,cac:_>0?k/_:0}},[e,o,r]),v=w.useMemo(()=>{const _=h>0?m.cartoes/h:0,S=h>0?m.aprovacoes/h:0,k=m.cartoes+_*p,E=m.aprovacoes+S*p,C=k*(1+a/100);return{cartoes:Math.round(k),aprovacoes:Math.round(E),simulatedCartoes:Math.round(C),rateCartoes:_}},[m,h,p,a]),g=w.useMemo(()=>{const _=t.cartoes_meta||0,S=Math.max(0,_-m.cartoes);return{daily:p>0?Math.ceil(S/p):0,gap:S}},[t,m,p]),x=w.useMemo(()=>{const _=[],S=(t.cartoes_meta||0)/c;let k=0,E=0,C=0;const T=Object.keys(e).slice(0,3);console.log(" Projections Debug:",{currentMonthStr:o,sampleDataKeys:T,firstDayGenerated:hm(`${o}-01`),hasDataForFirstDay:!!e[hm(`${o}-01`)]});for(let j=1;j<=c;j++){const P=`${o}-${String(j).padStart(2,"0")}`,A=hm(P);let N=0;j<=h?((e[A]||[]).forEach(B=>{r&&B.bu!==r||(N+=B.kpis.cartoes||0)}),k+=N,E=k):E+=v.rateCartoes*(1+a/100),C+=S,_.push({day:j,label:`${j}/${o.split("-")[1]}`,realizado:j<=h?k:null,projetado:Math.round(E),meta:Math.round(C)})}return _},[e,o,c,h,t,v.rateCartoes,a,r]),b=_=>{if(_&&_.activePayload&&_.activePayload[0]&&n){const k=_.activePayload[0].payload.day,E=Qr(`${o}-${String(k).padStart(2,"0")}`);n(E)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(Sa,{size:20,className:"text-blue-400"}),"Projeo do Ms"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Projeo de Fechamento"}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:v.cartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsxs("span",{className:"text-slate-500",children:["Meta: ",(t.cartoes_meta||0).toLocaleString("pt-BR")]}),v.cartoes>=(t.cartoes_meta||0)?d.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1",children:[d.jsx(Sa,{size:12})," Atingir"]}):d.jsxs("span",{className:"text-red-400 font-bold flex items-center gap-1",children:[d.jsx(B0,{size:12})," Abaixo"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsxs("span",{className:"text-slate-400",children:["Realizado (",h," dias)"]}),d.jsx("span",{className:"text-slate-200 font-mono",children:m.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Ritmo Atual (dia)"}),d.jsx("span",{className:"text-slate-200 font-mono",children:Math.round(v.rateCartoes).toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Gap para Meta"}),d.jsx("span",{className:"text-red-400 font-mono font-bold",children:g.gap.toLocaleString("pt-BR")})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(bl,{size:20,className:"text-amber-400"}),"Quanto Preciso Fazer?"]}),d.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px]",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Para bater a meta, voc precisa de:"}),d.jsx("div",{className:"text-5xl font-bold text-amber-400 mb-2",children:g.daily.toLocaleString("pt-BR")}),d.jsx("div",{className:"text-sm text-slate-300",children:"cartes / dia"})]}),d.jsxs("div",{className:"w-full bg-slate-900/50 rounded p-3 text-xs text-center text-slate-400",children:["Restam ",d.jsx("span",{className:"text-white font-bold",children:p})," dias teis comerciais (aprox)"]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(Wi,{size:20,className:"text-purple-400"}),"Simulador de Cenrios"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impacto de Nova Campanha (% Converso)"}),d.jsx("input",{type:"range",min:"-20",max:"50",step:"5",value:a,onChange:_=>s(Number(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[d.jsx("span",{children:"-20%"}),d.jsxs("span",{className:"text-purple-400 font-bold",children:["+",a,"%"]}),d.jsx("span",{children:"+50%"})]})]}),d.jsxs("div",{className:"bg-purple-900/20 border border-purple-900/50 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-purple-300 mb-1",children:"Resultado Simulado"}),d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:v.simulatedCartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:`text-sm font-bold ${v.simulatedCartoes>v.cartoes?"text-green-400":"text-slate-400"}`,children:[v.simulatedCartoes>v.cartoes?"+":"",(v.simulatedCartoes-v.cartoes).toLocaleString("pt-BR")]})]})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-6",children:"Evoluo: Realizado vs. Projetado vs. Meta"}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:x,margin:{top:5,right:30,left:20,bottom:5},onClick:b,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Kt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(pt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Ht,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Xr,{type:"monotone",dataKey:"realizado",name:"Realizado",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6",strokeWidth:0}}),d.jsx(Xr,{type:"monotone",dataKey:"projetado",name:"Projeo",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(Xr,{type:"monotone",dataKey:"meta",name:"Meta Ideal",stroke:"#ef4444",strokeWidth:2,dot:!1}),u&&d.jsx(tE,{x:(y=x[h-1])==null?void 0:y.label,stroke:"#fbbf24",strokeDasharray:"3 3",label:"Hoje"})]})})})]})]})},bme=K2()(G2((e,t)=>({metas:[],setMeta:r=>{const n=`${r.mes}-${r.bu}`,a=new Date().toISOString();e(s=>{const i=s.metas.findIndex(o=>o.mes===r.mes&&o.bu===r.bu);if(i>=0){const o=[...s.metas];return o[i]={...o[i],...r,updated_at:a},{metas:o}}else return{metas:[...s.metas,{id:n,...r,created_at:a,updated_at:a}]}})},getMeta:(r,n)=>t().metas.find(a=>a.mes===r&&a.bu===n),getMetasMes:r=>t().metas.filter(n=>n.mes===r),deleteMeta:r=>{e(n=>({metas:n.metas.filter(a=>a.id!==r)}))},getMetaConsolidada:r=>{const n=t().metas.filter(a=>a.mes===r);return n.length===0?{cartoes_meta:0,pedidos_meta:0,cac_max_medio:0}:{cartoes_meta:n.reduce((a,s)=>a+s.cartoes_meta,0),pedidos_meta:n.reduce((a,s)=>a+s.pedidos_meta,0),cac_max_medio:n.reduce((a,s)=>a+s.cac_max,0)/n.length}}}),{name:"growth-brain-metas",version:1})),wme=()=>{const{getMetasMes:e,setMeta:t}=bme();return{getGoal:a=>{const s=e(a),i={mes:a,cartoes_meta:0,aprovacoes_meta:0,cac_max:0,bus:{}};if(s.length===0)return i;let o=0,l=0,c=0;return s.forEach(u=>{o+=u.cartoes_meta,l+=u.pedidos_meta,c+=u.cac_max,i.bus||(i.bus={}),i.bus[u.bu]={cartoes:u.cartoes_meta,aprovacoes:u.pedidos_meta,cac:u.cac_max}}),i.cartoes_meta=o,i.aprovacoes_meta=l,i.cac_max=s.length>0?c/s.length:0,i},saveGoal:a=>{a.bus?Object.entries(a.bus).forEach(([s,i])=>{t({mes:a.mes,bu:s,cartoes_meta:i.cartoes,pedidos_meta:i.aprovacoes,cac_max:i.cac})}):console.warn("saveGoal called without BU breakdown. This might result in data loss in the new store.")}}},Ch=({date:e,activities:t,anomalyFilters:r=[],onClose:n,onEdit:a,onConfirmDraft:s,titleOverride:i})=>{if(!e&&!i)return null;const o=t.filter(l=>{if(r.length===0)return!0;const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),u=c.includes("aguardando")||c.includes("confirmar"),f=String(l.raw["Disparado?"]||"").toLowerCase().trim(),h=["sim","s","yes","y","enviado","ok","true","1"].includes(f),p=h&&(l.kpis.baseEnviada||0)===0,m=h&&(l.kpis.baseEntregue||0)===0,v=h&&(l.kpis.taxaAbertura||0)===0;return!!(r.includes("pending")&&u||r.includes("no_sent")&&p||r.includes("no_delivered")&&m||r.includes("no_open")&&v)});return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:i||`Detalhes do Dia: ${e==null?void 0:e.toLocaleDateString("pt-BR")}`}),d.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[o.length," atividades registradas ",r.length>0&&"(Filtrado)"]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:o.map(l=>{const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),u=c.includes("aguardando")||c.includes("confirmar"),h=(l.raw.status||l.raw.Status||"Realizado")==="Rascunho",m=h?"border-slate-700/50":{B2C:"border-blue-500/50 bg-blue-500/5",B2B2C:"border-purple-500/50 bg-purple-500/5",Plurix:"border-green-500/50 bg-green-500/5"}[l.bu]||"border-slate-700/50";return d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-3 transition ${m}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-100 mb-1",children:l.id}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:l.bu}),d.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 rounded",children:l.canal}),u&&d.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"Pendente"}),h&&d.jsx("span",{className:"px-2 py-0.5 bg-slate-500/20 text-slate-400 rounded",children:"Rascunho"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[h&&s&&d.jsx("button",{onClick:()=>s(l),className:"p-1.5 hover:bg-green-900/30 rounded transition text-green-500 hover:text-green-400 border border-green-500/30",title:"Confirmar disparo",children:d.jsx(z2,{size:14})}),a&&d.jsx("button",{onClick:()=>a(l),className:"p-1.5 hover:bg-slate-700 rounded transition text-slate-400 hover:text-blue-400",title:"Editar disparo",children:d.jsx(V2,{size:14})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Enviado ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Entregue ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Cartes ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:l.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Converso ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[l.kpis.taxaConversao?(l.kpis.taxaConversao*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Custo ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.custoTotal||0)})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["CAC ",d.jsx(na,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.cac||0)})]})]})]},l.id)})}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},_me=({resultados:e,data:t,selectedBU:r})=>{var k;const[n,a]=w.useState(!1),{getGoal:s,saveGoal:i}=wme(),[o,l]=w.useState(!1),[c,u]=w.useState([]),[f,h]=w.useState(null),p=E=>{const C=t[E]||[],[T,j,P]=E.split("-").map(Number);h(new Date(T,j-1,P)),u(C),l(!0)},m=((k=Object.keys(t).sort().pop())==null?void 0:k.substring(0,7))||new Date().toISOString().substring(0,7),v=s(m),g=w.useMemo(()=>r&&v.bus&&v.bus[r]?{mes:v.mes,cartoes_meta:v.bus[r].cartoes,aprovacoes_meta:v.bus[r].aprovacoes,cac_max:v.bus[r].cac}:v,[v,r]),b=Object.values(e).sort((E,C)=>C.totalCartoes-E.totalCartoes).reduce((E,C)=>E+C.totalCartoes,0);let y=0,_=0;Object.values(t).flat().forEach(E=>{y+=E.kpis.aprovados||0,_+=E.kpis.custoTotal||0});const S=b>0?_/b:0;return Object.keys(e).length===0?d.jsx("div",{className:"text-center py-12 text-slate-400",children:"Nenhum resultado registrado"}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(the,{data:t}),d.jsx(yme,{data:t,currentGoal:g,selectedBU:r,onPointClick:E=>{const C=ke(E,"yyyy-MM-dd");p(C)}}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Wi,{size:20,className:"text-blue-400"}),"Meta vs. Realizado ",d.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",r||"Global",")"]})]}),d.jsx("button",{onClick:()=>a(!0),className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"Definir Metas"})]}),d.jsx(rhe,{goal:g,currentCartoes:b,currentAprovacoes:y,currentCAC:S,scope:r||"Global"})]})}),d.jsx(nhe,{isOpen:n,onClose:()=>a(!1),onSave:i,initialGoal:v,currentMonthLabel:m}),o&&d.jsx(Ch,{date:f,activities:c,onClose:()=>l(!1)})]})};var kme={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},Sme=function(t,r,n){var a,s=kme[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},Eme={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Cme={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Tme={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ame={date:vu({formats:Eme,defaultWidth:"full"}),time:vu({formats:Cme,defaultWidth:"full"}),dateTime:vu({formats:Tme,defaultWidth:"full"})},jme={lastWeek:function(t){var r=t.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},Pme=function(t,r,n,a){var s=jme[t];return typeof s=="function"?s(r):s},Nme={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Ome={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},Dme={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},Mme={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},Ime={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Rme={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Fme=function(t,r){var n=Number(t);return(r==null?void 0:r.unit)==="week"?n+"":n+""},Lme={ordinalNumber:Fme,era:Os({values:Nme,defaultWidth:"wide"}),quarter:Os({values:Ome,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Os({values:Dme,defaultWidth:"wide"}),day:Os({values:Mme,defaultWidth:"wide"}),dayPeriod:Os({values:Ime,defaultWidth:"wide",formattingValues:Rme,defaultFormattingWidth:"wide"})},$me=/^(\d+)[o]?/i,Bme=/\d+/i,zme={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Ume={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Vme={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Wme={any:[/1/i,/2/i,/3/i,/4/i]},Hme={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Kme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},Gme={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},qme={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Yme={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},Xme={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Zme={ordinalNumber:PL({matchPattern:$me,parsePattern:Bme,valueCallback:function(t){return parseInt(t,10)}}),era:Ds({matchPatterns:zme,defaultMatchWidth:"wide",parsePatterns:Ume,defaultParseWidth:"any"}),quarter:Ds({matchPatterns:Vme,defaultMatchWidth:"wide",parsePatterns:Wme,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ds({matchPatterns:Hme,defaultMatchWidth:"wide",parsePatterns:Kme,defaultParseWidth:"any"}),day:Ds({matchPatterns:Gme,defaultMatchWidth:"wide",parsePatterns:qme,defaultParseWidth:"any"}),dayPeriod:Ds({matchPatterns:Yme,defaultMatchWidth:"any",parsePatterns:Xme,defaultParseWidth:"any"})},Ys={code:"pt-BR",formatDistance:Sme,formatLong:Ame,formatRelative:Pme,localize:Lme,match:Zme,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Jme=({data:e,mode:t,anomalyFilters:r=[],onPointClick:n})=>{const[a,s]=w.useState("daily"),[i,o]=w.useState({cartoes:!0,aprovados:!0,propostas:!0}),l=w.useMemo(()=>{const h={};return Object.entries(e).forEach(([p,m])=>{let v=p,g=ke(Qr(p),"dd/MM",{locale:Ys});if(a==="weekly"){const x=Qr(p),b=Zo(x,{weekStartsOn:0});v=ke(b,"yyyy-MM-dd"),g=`Semana ${ke(b,"dd/MM")}`}h[v]||(h[v]={date:v,label:g,cartoes:0,aprovados:0,propostas:0,anomalies:0,timestamp:Qr(v).getTime()}),m.forEach(x=>{if(t==="performance")h[v].cartoes+=x.kpis.cartoes||0,h[v].aprovados+=x.kpis.aprovados||0,h[v].propostas+=x.kpis.propostas||0;else{const b=String(x.raw["Cartes Gerados"]||"").toLowerCase().trim(),y=b.includes("aguardando")||b.includes("confirmar"),_=String(x.raw["Disparado?"]||"").toLowerCase().trim(),S=["sim","s","yes","y","enviado","ok","true","1"].includes(_),k=S&&(x.kpis.baseEnviada||0)===0,E=S&&(x.kpis.baseEntregue||0)===0,C=S&&(x.kpis.taxaAbertura||0)===0;let T=!1;r.length===0?T=y||k||E||C:(r.includes("pending")&&y&&(T=!0),r.includes("no_sent")&&k&&(T=!0),r.includes("no_delivered")&&E&&(T=!0),r.includes("no_open")&&C&&(T=!0)),T&&(h[v].anomalies+=1)}})}),Object.values(h).sort((p,m)=>p.timestamp-m.timestamp)},[e,a,t,r]),c=h=>{const{dataKey:p}=h;o(m=>({...m,[p]:!m[p]}))},u=h=>{if(h&&typeof h.activeIndex=="string"){const p=parseInt(h.activeIndex,10);!isNaN(p)&&l[p]&&n(Qr(l[p].date))}},f=({active:h,payload:p,label:m})=>h&&p&&p.length?d.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded shadow-lg",children:[d.jsx("p",{className:"text-slate-200 font-bold mb-2",children:m}),p.map(v=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),d.jsxs("span",{className:"text-slate-400 capitalize",children:[v.name,":"]}),d.jsx("span",{className:"text-slate-200 font-mono font-bold",children:v.value.toLocaleString("pt-BR")})]},v.name)),d.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Clique para ver detalhes"})]}):null;return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100",children:t==="performance"?"Evoluo de Performance":"Evoluo de Anomalias"}),d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsx("button",{onClick:()=>s("daily"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="daily"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>s("weekly"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="weekly"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Semanal"})]})]}),d.jsx("div",{className:"h-[400px] w-full cursor-pointer",children:d.jsx(or,{width:"100%",height:"100%",children:t==="performance"?d.jsxs(bi,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Kt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(pt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:h=>h.toLocaleString("pt-BR")}),d.jsx(Ht,{content:d.jsx(f,{})}),d.jsx(Tn,{onClick:c,wrapperStyle:{paddingTop:"20px"}}),d.jsx(Xr,{type:"monotone",dataKey:"propostas",name:"Propostas",stroke:"#8b5cf6",strokeWidth:2,dot:{r:4,fill:"#8b5cf6",strokeWidth:0},activeDot:{r:6},hide:!i.propostas}),d.jsx(Xr,{type:"monotone",dataKey:"aprovados",name:"Aprovados",stroke:"#10b981",strokeWidth:2,dot:{r:4,fill:"#10b981",strokeWidth:0},activeDot:{r:6},hide:!i.aprovados}),d.jsx(Xr,{type:"monotone",dataKey:"cartoes",name:"Cartes",stroke:"#3b82f6",strokeWidth:2,dot:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:6},hide:!i.cartoes})]}):d.jsxs(wi,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Kt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(pt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Ht,{content:d.jsx(f,{})}),d.jsx(Ir,{dataKey:"anomalies",name:"Anomalias",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})},Ls=({content:e,side:t="top",size:r=14,children:n})=>{const a=w.useRef(null),[s,i]=w.useState(!1),[o,l]=w.useState(null);return w.useEffect(()=>{if(!s||!a.current)return;const c=a.current.getBoundingClientRect(),u=8;let f=c.top,h=c.left;switch(t){case"right":f=c.top+c.height/2,h=c.right+u;break;case"bottom":f=c.bottom+u,h=c.left+c.width/2;break;case"left":f=c.top+c.height/2,h=c.left-u;break;case"top":default:f=c.top-u,h=c.left+c.width/2}const p=window.innerWidth,m=window.innerHeight;h=Math.max(8,Math.min(p-8,h)),f=Math.max(8,Math.min(m-8,f)),l({top:f,left:h})},[s,t]),d.jsxs("span",{ref:a,className:"inline-flex items-center align-middle select-none",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[n||d.jsx(na,{size:r,className:"text-slate-400 hover:text-slate-300 transition-colors cursor-default"}),s&&o&&M0.createPortal(d.jsx("div",{className:"fixed z-50 opacity-0 animate-[fadeIn_120ms_ease-out_forwards]",style:{top:o.top,left:o.left,transform:t==="top"||t==="bottom"?"translateX(-50%)":"translateY(-50%)"},children:d.jsx("div",{className:"max-w-xs text-xs text-slate-300 bg-slate-900/90 border border-slate-700 rounded-md shadow-xl px-3 py-2 whitespace-pre-line",children:e})}),document.body),d.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }"})]})},Qme=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[],onDayClick:s})=>{const[i,o]=w.useState("conversao"),[l,c]=w.useState("daily"),u=p=>{var m;if(s&&l==="daily"){const v=((m=p.payload)==null?void 0:m.date)||p.date;v&&s(v)}},f=w.useMemo(()=>{const p={};return Object.keys(e).sort().forEach(g=>{const x=e[g].filter(S=>!(t&&S.bu!==t||r.length>0&&!r.includes(S.canal)||n.length>0&&!n.includes(S.segmento)||a.length>0&&!a.includes(S.parceiro)));if(x.length===0)return;let b=g,y=ke(Qr(g),"dd/MM",{locale:Ys}),_=Qr(g).getTime();if(l==="weekly"){const S=Qr(g),k=Zo(S,{weekStartsOn:0});b=ke(k,"yyyy-MM-dd"),y=`Sem ${ke(k,"dd/MM")}`,_=k.getTime()}p[b]||(p[b]={date:b,label:y,timestamp:_,baseEnviada:0,baseEntregue:0,propostas:0,cartoes:0,custo:0,count:0}),x.forEach(S=>{p[b].baseEnviada+=S.kpis.baseEnviada||0,p[b].baseEntregue+=S.kpis.baseEntregue||0,p[b].propostas+=S.kpis.propostas||0,p[b].cartoes+=S.kpis.cartoes||0,p[b].custo+=S.kpis.custoTotal||0,p[b].count+=1})}),Object.values(p).map(g=>{let x=0;switch(i){case"conversao":x=g.baseEnviada>0?g.cartoes/g.baseEnviada*100:0;break;case"cac":x=g.cartoes>0?g.custo/g.cartoes:0;break;case"entrega":x=g.baseEnviada>0?g.baseEntregue/g.baseEnviada*100:0;break;case"abertura":x=g.baseEntregue>0?g.propostas/g.baseEntregue*100:0;break}return{...g,value:Number(x.toFixed(2))}}).sort((g,x)=>g.timestamp-x.timestamp)},[e,t,r,n,a,l,i]),h=w.useMemo(()=>{if(f.length===0)return{avg:0,max:0,maxDate:"",min:0,minDate:""};const p=f.map(_=>_.value),m=Math.max(...p),v=Math.min(...p),x=p.reduce((_,S)=>_+S,0)/p.length,b=f.find(_=>_.value===m),y=f.find(_=>_.value===v);return{avg:x.toFixed(2),max:m.toFixed(2),maxDate:(b==null?void 0:b.label)||"",min:v.toFixed(2),minDate:(y==null?void 0:y.label)||""}},[f]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[" Anlise Temporal",d.jsx(Ls,{content:"Evoluo das mtricas ao longo do tempo com comparao e agrupamento."})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Mtrica"}),d.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs rounded px-2 py-1.5",children:[d.jsx("option",{value:"conversao",children:"Taxa de Converso"}),d.jsx("option",{value:"cac",children:"CAC"}),d.jsx("option",{value:"entrega",children:"Taxa de Entrega"}),d.jsx("option",{value:"abertura",children:"Taxa de Abertura"})]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Agrupamento"}),d.jsxs("div",{className:"flex bg-slate-900 rounded p-0.5 border border-slate-700",children:[d.jsx("button",{onClick:()=>c("daily"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="daily"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>c("weekly"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="weekly"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Semanal"})]})]})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:f,margin:{top:10,right:30,left:0,bottom:0},children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Kt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(pt,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(Ht,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155"},formatter:p=>[`${p.toFixed(2)}${i==="cac"?"":"%"}`,i==="cac"?"CAC":"Taxa"]}),d.jsx(Tn,{}),d.jsx(Xr,{type:"monotone",dataKey:"value",name:"Atual",stroke:"#3b82f6",strokeWidth:3,dot:l==="daily"?{r:5,fill:"#3b82f6",strokeWidth:0,cursor:"pointer"}:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:7},onClick:p=>u(p)})]})})}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 flex gap-6 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mdia:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.avg,i==="cac"?"":"%"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mx:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.max,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.maxDate,")"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mn:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.min,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.minDate,")"]})]})]})]})},eve=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[]})=>{const[s,i]=w.useState("performance"),[o,l]=w.useState(null),[c,u]=w.useState([]),f=p=>{u(m=>m.includes(p)?m.filter(v=>v!==p):[...m,p])},h=w.useMemo(()=>{if(!o)return[];const p=ke(o,"yyyy-MM-dd");return(e[p]||[]).filter(v=>!(t&&v.bu!==t||r.length>0&&!r.includes(v.canal)||n.length>0&&!n.includes(v.segmento)||a.length>0&&!a.includes(v.parceiro)))},[e,o,t,r,n,a]);return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx(Ch,{date:o,activities:h,anomalyFilters:c,onClose:()=>l(null)}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-slate-100 mb-2 flex items-center gap-2",children:["Jornada & Disparos",d.jsx(Ls,{content:"Viso geral do funil de converso, do disparo at emisso, com identificao automtica de gargalos e anomalias."})]}),d.jsx("p",{className:"text-sm text-slate-400",children:"Anlise profunda de converso e identificao de gargalos"}),d.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Total Activities: ",Object.values(e).reduce((p,m)=>p+m.length,0)]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[s==="anomalies"&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700 gap-1",children:[[{id:"pending",label:"Pendente"},{id:"no_sent",label:"Sem Envio"},{id:"no_delivered",label:"Sem Entrega"},{id:"no_open",label:"Sem Abertura"}].map(p=>d.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-medium rounded transition ${c.includes(p.id)?"bg-amber-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:p.label},p.id)),c.length>0&&d.jsx("button",{onClick:()=>u([]),className:"px-2 py-1 text-xs font-medium text-slate-500 hover:text-slate-300 border-l border-slate-700 ml-1 pl-2",children:"Limpar"})]}),d.jsx(Ls,{content:"Filtre as anomalias por tipo para focar em problemas especficos."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("performance"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="performance"?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx($f,{size:16}),"Performance"]}),d.jsxs("button",{onClick:()=>i("anomalies"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="anomalies"?"bg-red-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx(du,{size:16}),"Anomalias"]})]}),d.jsx(Ls,{content:"Alterne entre viso de performance e investigao de anomalias.",side:"left"})]})]})]}),d.jsx(Jme,{data:e,mode:s,anomalyFilters:c,onPointClick:l}),d.jsx(Qme,{data:e,selectedBU:t,selectedCanais:r,selectedSegmentos:n,selectedParceiros:a,onDayClick:p=>{const m=new Date(`${p}T00:00:00`);l(m)}})]})},$L=K2()(G2((e,t)=>({entries:[],addEntry:r=>e(n=>({entries:[...n.entries,{...r,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]})),updateEntry:(r,n)=>e(a=>({entries:a.entries.map(s=>s.id===r?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteEntry:r=>e(n=>({entries:n.entries.filter(a=>a.id!==r)})),getEntriesByDate:r=>t().entries.filter(n=>n.date===r),getEntriesByDateRange:(r,n)=>t().entries.filter(a=>a.date>=r&&a.date<=n),getEntriesByBU:r=>t().entries.filter(n=>n.bu===r),getExperimentos:()=>t().entries.filter(r=>r.isTesteAB),clearEntries:()=>e({entries:[]}),importEntries:r=>e(n=>{const a=new Set(n.entries.map(i=>i.id)),s=r.filter(i=>!a.has(i.id));return{entries:[...n.entries,...s]}})}),{name:"growth_brain_diary_store"})),tve="modulepreload",rve=function(e){return"/GaaS-Framework-Afinz/"+e},HN={},BL=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=rve(l),l in HN)return;HN[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":tve,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},nve=()=>{const e=[],t=[],r=new Date,n=Jr(Bu(r,2)),a=Hv(r,60),s=["Email","SMS","Push","WhatsApp"],i=["Ativos","Churn","Novos","Alto Valor","Inativos"],o=["B2C","B2B2C","Plurix"],l=u0(a,n)+1;console.log(` Gerando dados simulados: ${l} dias de ${n.toLocaleDateString()} a ${a.toLocaleDateString()}`);for(let c=0;c<l;c++){const u=Hv(n,c);if(Math.random()>.8&&(u.getDay()===0||u.getDay()===6))continue;const f=Math.floor(Math.random()*6)+3;for(let h=0;h<f;h++){const p=s[Math.floor(Math.random()*s.length)],m=i[Math.floor(Math.random()*i.length)],v=o[h%o.length],g=Math.floor(Math.random()*5e4)+5e3,x=Math.floor(g*(.85+Math.random()*.14)),b=Math.floor(x*(.9+Math.random()*.09)),y=Math.random()*.25+.15,_=Math.floor(b*y),S=Math.random()*.15+.02,k=Math.floor(_*S),E=Math.random()*.08+.01,C=Math.floor(k*E),T=.05+Math.random()*.1,j=x*T,P=u.toLocaleDateString("pt-BR"),A=c*100+h,N=`Campanha ${v} ${p} ${A}`,F={"Activity name / Taxonomia":N,"Data de Disparo":P,"Data Fim":P,BU:v,Canal:p,Segmento:m,Jornada:"Jornada Simulada",Parceiro:"Simulado",Safra:u.toLocaleDateString("pt-BR",{year:"2-digit",month:"2-digit"}),Oferta:"Oferta Simulada","Ordem de disparo":h+1,"Base Total":g,"Base Acionvel":x,"Taxa de Entrega":b/x,Propostas:k,"Taxa de Proposta":k/b,Aprovados:Math.floor(C*.8),"Taxa de Aprovao":.8,"Cartes Gerados":C,"Taxa de Finalizao":1,"Taxa de Converso":E,"Taxa de Abertura":y,CAC:C>0?j/C:0,"Custo Total Campanha":j,"Disparado?":"Sim",SIGLA:"SIG","SIGLA.1":"SIG1","SIGLA.2":"SIG2",Subgrupos:"Geral","Etapa de aquisio":"Converso","Perfil de Crdito":"A",Produto:"Carto",Promocional:"No","Oferta 2":"","Promocional 2":"","Custo Unitrio Oferta":0,"Custo Total da Oferta":0,"Custo unitrio do canal":T,"Custo total canal":j,"Taxa de Clique":S,"% Otimizao de base":0};t.push(F);const B={id:N,dataDisparo:new Date(u),canal:p,segmento:m,bu:v,kpis:{baseEnviada:x,baseEntregue:b,taxaEntrega:x>0?b/x*100:0,taxaAbertura:y*100,taxaConversao:E*100,custoTotal:j,cartoes:C,aprovados:Math.floor(C*.8),propostas:k,taxaPropostas:b>0?k/b*100:0,taxaAprovacao:80,emissoes:C,taxaFinalizacao:100,cac:C>0?j/C:0},parceiro:"Simulado",jornada:"Jornada Simulada",raw:F};e.push(B)}}return console.log(` Dados simulados gerados: ${e.length} atividades`),{rows:t,activities:e}},Ap="app-data",ms={async listFiles(e){const{data:t,error:r}=await ct.storage.from(Ap).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return t},async uploadFile(e,t){const r=new Date().getTime(),n=t.name.split(".").pop(),a=t.name.replace(`.${n}`,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),s=`${e}/${a}-${r}.${n}`,{data:i,error:o}=await ct.storage.from(Ap).upload(s,t,{cacheControl:"3600",upsert:!1});if(o)throw o;return i},async getDownloadUrl(e){const{data:t,error:r}=await ct.storage.from(Ap).createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},async deleteFile(e){const{error:t}=await ct.storage.from(Ap).remove([e]);if(t)throw t}};function a_(e){return new Worker("/GaaS-Framework-Afinz/assets/csvWorker-iCEzBsj0.js",{name:e==null?void 0:e.name})}const Ux=()=>{const{setFrameworkData:e,activities:t}=vt(),[r,n]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState([]),l=w.useRef(!1),c=t.length,u=w.useMemo(()=>{const p={};return t.forEach(m=>{const v=hm(m.dataDisparo);p[v]||(p[v]=[]),p[v].push(m)}),p},[t]),f=w.useCallback(p=>new Promise((m,v)=>{console.log(" Iniciando processamento do CSV (Worker):",p.name),n(!0),s(null),o([]);const g=new a_,x=new FileReader;x.onload=b=>{var S;const _={type:"PARSE_FRAMEWORK_CSV",fileContent:(S=b.target)==null?void 0:S.result};g.postMessage(_)},x.onerror=()=>{const b="Erro ao ler arquivo.";s(b),n(!1),g.terminate(),v(new Error(b))},g.onmessage=b=>{const{type:y}=b.data;if(y==="SUCCESS"){const _=b.data.data;console.log(` Worker Finalizado: ${_.activities.length} atividades`);const S=_.activities.map(k=>{const E=(typeof k.dataDisparo=="string"?Eh(k.dataDisparo):k.dataDisparo)||new Date(k.dataDisparo);return E instanceof Date&&!isNaN(E.getTime())&&E.getHours()===21&&(E.setDate(E.getDate()+1),E.setHours(0)),{...k,dataDisparo:E}});_.warnings&&_.warnings.length>0&&(console.warn("Import Warnings:",_.warnings),alert(` ATENO: ${_.warnings.length} linhas foram ignoradas!
Provvel erro de data/formato.

Erros:
${_.warnings.slice(0,3).join(`
`)}`)),e(_.rows,S),n(!1),m(S)}else if(y==="ERROR"){const _=b.data.error;s(_),n(!1),v(new Error(_))}g.terminate()},g.onerror=b=>{const y="Erro no Worker: "+b.message;s(y),n(!1),g.terminate(),v(new Error(y))},x.readAsText(p)}),[e]);w.useEffect(()=>{if(l.current)return;(async()=>{l.current=!0,vt.persist&&!vt.persist.hasHydrated()&&(console.log(" Aguardando hidratao do storage..."),await new Promise(b=>{vt.persist.onFinishHydration(()=>{b()})}),console.log(" Storage hidratado."));const{activities:m,b2cData:v,setB2CData:g,setPaidMediaData:x}=vt.getState();m.length>0&&n(!1);try{console.log(" Conectando ao Supabase para buscar dados..."),BL(()=>Promise.resolve().then(()=>QB),void 0).then(async({dataService:b})=>{const[y,_,S,k]=await Promise.all([b.fetchActivities(),b.fetchB2CMetrics(),b.fetchPaidMedia(),b.fetchGoals()]);console.log(` Dados Carregados: ${y.length} Atividades, ${_.length} B2C, ${S.length} Media, ${k.length} Metas.`);const{activities:E,setActivities:C}=vt.getState();y.length>0?(C(y),console.log(" Store atualizado com atividades do Supabase (Mantendo Framework Data intacto)")):E.length===0?console.log(" Supabase vazio e Store vazio."):console.log(" Supabase vazio, mantendo atividades locais.");let T=_;if(_.length===0)try{const j=await ms.listFiles("b2c");if(j&&j.length>0){console.log(" Fallback B2C: Found in Storage:",j[0].name);const P=await ms.getDownloadUrl("b2c/"+j[0].name),F=await(await(await fetch(P)).blob()).text();T=await new Promise(B=>{const q=new a_;q.postMessage({type:"PARSE_B2C_CSV",fileContent:F}),q.onmessage=K=>{K.data.type==="SUCCESS"||K.data.type==="SUCCESS_B2C"?B(K.data.data||[]):B([]),q.terminate()},q.onerror=()=>{B([]),q.terminate()}}),console.log(` Fallback Loaded: ${T.length} B2C rows.`)}}catch(j){console.warn("Fallback B2C failed:",j)}g(T),x(S),vt.getState().setGoals(k),n(!1)}).catch(b=>{console.error("Erro ao importar dataService:",b),s("Fail to load data service"),n(!1)})}catch(b){console.error(" Falha no Carregamento SQL:",b),s("Erro de conexo com Banco de Dados."),n(!1)}})()},[e]);const h=w.useCallback(()=>{try{n(!0);const{rows:p,activities:m}=nve();e(p,m),n(!1)}catch(p){s("Erro ao gerar dados: "+p.message),n(!1)}},[e]);return{data:u,loading:r,error:a,totalActivities:c,processCSV:f,loadSimulatedData:h,debugHeaders:i}};function ave(){const{data:e}=Ux();return w.useMemo(()=>{const t=new Set,r=new Set,n=new Set,a=new Set,s=new Set,i=new Set;return Object.values(e).forEach(o=>{o.forEach(l=>{l.bu&&t.add(l.bu),l.canal&&r.add(l.canal),l.segmento&&n.add(l.segmento),l.parceiro&&a.add(l.parceiro),l.oferta&&s.add(l.oferta),l.id&&i.add(l.id)})}),t.size===0&&["B2C","B2B2C","Plurix"].forEach(o=>t.add(o)),{bus:Array.from(t).sort(),canais:Array.from(r).sort(),segmentos:Array.from(n).sort(),parceiros:Array.from(a).sort(),ofertas:Array.from(s).sort(),campanhas:Array.from(i).sort()}},[e])}const KN=({label:e,options:t,selected:r,onChange:n,colorMap:a})=>{const s=i=>{r.includes(i)?n(r.filter(o=>o!==i)):n([...r,i])};return d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 uppercase tracking-wider",children:e}),d.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-900/30 rounded-lg border border-slate-700/50 min-h-[60px]",children:t.length===0?d.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma opo disponvel"}):t.map(i=>{const o=r.includes(i),l=a==null?void 0:a[i];let c="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-all cursor-pointer select-none border";return o?c+=" bg-blue-600 border-blue-500 text-white shadow-md shadow-blue-900/20":c+=" bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-slate-200 hover:border-slate-600",d.jsxs("div",{onClick:()=>s(i),className:c,children:[i,o&&d.jsx(z2,{size:12,className:"stroke-[3]"})]},i)})})]})},sve={B2C:"bg-blue-500/20 text-blue-100 border-blue-500/50",B2B2C:"bg-emerald-500/20 text-emerald-100 border-emerald-500/50",Plurix:"bg-purple-500/20 text-purple-100 border-purple-500/50"},ive={B2C:"bg-blue-600 text-blue-50",B2B2C:"bg-emerald-600 text-emerald-50",Plurix:"bg-purple-600 text-purple-50"},g1={hipotese:{label:"Hiptese",icon:dW,color:"text-amber-400 bg-amber-400/10"},rodando:{label:"Rodando",icon:Wm,color:"text-blue-400 bg-blue-400/10"},concluido:{label:"Concludo",icon:dn,color:"text-emerald-400 bg-emerald-400/10"},aprendizado:{label:"Aprendizado",icon:Km,color:"text-purple-400 bg-purple-400/10"}},jp={date:new Date().toISOString().split("T")[0],bu:"B2C",title:"",description:"",segmentos:[],parceiros:[],canais:[],campanhasRelacionadas:[],isTesteAB:!1,statusExperimento:"hipotese",hipotese:"",conclusao:""},ove=()=>{var A;const{entries:e,addEntry:t,updateEntry:r,deleteEntry:n,clearEntries:a,importEntries:s}=$L(),{segmentos:i,parceiros:o}=ave(),{viewSettings:l}=vt(),c=l.filtrosGlobais,[u,f]=w.useState(jp),[h,p]=w.useState(null),[m,v]=w.useState(null),g=(N,F="info")=>{v({message:N,type:F}),setTimeout(()=>v(null),3e3)},x=N=>{if(N.preventDefault(),!u.title.trim()){g("Anotao no pode estar vazia","error");return}t(u),f(jp),g("Anotao adicionada com sucesso","success")},b=N=>{p(N.id),f({date:N.date,bu:N.bu,title:N.title,description:N.description||"",segmentos:N.segmentos,parceiros:N.parceiros,canais:N.canais||[],campanhasRelacionadas:N.campanhasRelacionadas||[],isTesteAB:N.isTesteAB,statusExperimento:N.statusExperimento||"hipotese",hipotese:N.hipotese||"",conclusao:N.conclusao||""})},y=()=>{if(h){if(!u.title.trim()){g("Anotao no pode estar vazia","error");return}r(h,u),p(null),f(jp),g("Anotao atualizada com sucesso","success")}},_=()=>{p(null),f(jp)},S=N=>{window.confirm("Tem certeza? Esta ao  irreversvel")&&(n(N),g("Anotao removida","success"))},k=()=>{window.confirm("Tem certeza que deseja apagar TODAS as anotaes? Esta ao  irreversvel")&&(a(),g("Todas as anotaes foram removidas","success"))},E=()=>{const N=["Data","BU","Ttulo","Descrio","Segmentos","Parceiros","Teste AB","Status","Hiptese","Concluso"],F=e.map(Z=>[Z.date,Z.bu,`"${Z.title.replace(/"/g,'""')}"`,`"${(Z.description||"").replace(/"/g,'""')}"`,Z.segmentos.join("; "),Z.parceiros.join("; "),Z.isTesteAB?"Sim":"No",Z.statusExperimento||"",`"${(Z.hipotese||"").replace(/"/g,'""')}"`,`"${(Z.conclusao||"").replace(/"/g,'""')}"`]),B=[N.join(","),...F.map(Z=>Z.join(","))].join(`
`),q=new Blob([B],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(q),X=document.createElement("a"),J=new Date().toISOString().split("T")[0];X.href=K,X.download=`diario_bordo_${J}.csv`,X.click(),URL.revokeObjectURL(K),g("Dirio exportado como CSV com sucesso","success")},C=N=>{var q;const F=(q=N.target.files)==null?void 0:q[0];if(!F)return;const B=new FileReader;B.onload=K=>{var X;try{const I=(X=K.target)==null?void 0:X.result;if(F.name.endsWith(".csv"))g("Importao de CSV ainda no suportada completamente. Use JSON.","info");else{const J=JSON.parse(I),M=(Array.isArray(J)?J:J.entries||J.anotacoes||[]).map(z=>({id:z.id||crypto.randomUUID(),createdAt:z.createdAt||z.criadoEm||new Date().toISOString(),updatedAt:z.updatedAt||z.atualizadoEm||new Date().toISOString(),date:z.date||z.data,bu:z.bu,title:z.title||z.anotacao,description:z.description||"",segmentos:z.segmentos||[],parceiros:z.parceiros||[],canais:z.canais||[],campanhasRelacionadas:z.campanhasRelacionadas||[],isTesteAB:z.isTesteAB||z.testeAB||!1,statusExperimento:z.statusExperimento,hipotese:z.hipotese,conclusao:z.conclusao})).filter(z=>z.date&&z.title);s(M),g(`${M.length} anotaes importadas com sucesso`,"success")}}catch{g("Erro ao importar arquivo","error")}},B.readAsText(F)},T=N=>{if(!N)return"";const[F,B,q]=N.split("-");return new Date(parseInt(F),parseInt(B)-1,parseInt(q)).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})},P=[...e.filter(N=>!(c.bu.length>0&&!c.bu.includes(N.bu)||c.segmentos.length>0&&!N.segmentos.some(B=>c.segmentos.includes(B))||c.parceiros.length>0&&!N.parceiros.some(B=>c.parceiros.includes(B))))].sort((N,F)=>F.date.localeCompare(N.date));return d.jsxs("div",{className:"flex flex-col flex-1 min-h-0 bg-gradient-to-br from-slate-900 to-slate-800 p-4 gap-4 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Dirio de Bordo"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-600/80 hover:bg-emerald-600 text-emerald-50 rounded text-xs font-medium cursor-pointer transition",children:[d.jsx(Ig,{size:14}),"Importar JSON",d.jsx("input",{type:"file",accept:".json",onChange:C,className:"hidden"})]}),d.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-orange-600/80 hover:bg-orange-600 text-orange-50 rounded text-xs font-medium transition",title:"Exportar como CSV",children:[d.jsx(F0,{size:14}),"Exportar"]}),d.jsxs("button",{onClick:k,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-600/80 hover:bg-red-600 text-red-50 rounded text-xs font-medium transition",title:"Apagar todas as anotaes",children:[d.jsx(Vl,{size:14}),"Apagar Tudo"]})]})]}),d.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 shrink-0 overflow-y-auto max-h-[400px]",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Data"}),d.jsx("input",{type:"date",value:u.date,onChange:N=>f({...u,date:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"BU"}),d.jsxs("select",{value:u.bu,onChange:N=>f({...u,bu:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-700 px-3 py-1.5 rounded border border-slate-600 w-full hover:bg-slate-600 transition",children:[d.jsx("input",{type:"checkbox",checked:u.isTesteAB,onChange:N=>f({...u,isTesteAB:N.target.checked}),className:"rounded border-slate-500 text-blue-500 focus:ring-blue-500 bg-slate-800"}),d.jsxs("span",{className:"text-xs font-semibold text-slate-200 flex items-center gap-1",children:[d.jsx(XT,{size:14,className:u.isTesteAB?"text-blue-400":"text-slate-400"})," Teste A/B?"]})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Anotao Principal"}),d.jsx("textarea",{value:u.title,onChange:N=>f({...u,title:N.target.value}),placeholder:"Descreva o evento ou observao...",className:"w-full px-2 py-2 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none",style:{minHeight:"60px"}})]}),u.isTesteAB&&d.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded p-3 space-y-3 animate-in fade-in slide-in-from-top-2",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Status do Experimento"}),d.jsxs("select",{value:u.statusExperimento,onChange:N=>f({...u,statusExperimento:N.target.value}),className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"hipotese",children:" Hiptese"}),d.jsx("option",{value:"rodando",children:" Rodando"}),d.jsx("option",{value:"concluido",children:" Concludo"}),d.jsx("option",{value:"aprendizado",children:" Aprendizado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Campanhas Relacionadas"}),d.jsx("input",{type:"text",value:(A=u.campanhasRelacionadas)==null?void 0:A.join(", "),onChange:N=>f({...u,campanhasRelacionadas:N.target.value.split(",").map(F=>F.trim()).filter(Boolean)}),placeholder:"Ex: Campanha X, Campanha Y",className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:u.hipotese,onChange:N=>f({...u,hipotese:N.target.value}),placeholder:"O que esperamos que acontea?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Concluso / Resultados"}),d.jsx("textarea",{value:u.conclusao,onChange:N=>f({...u,conclusao:N.target.value}),placeholder:"O que aprendemos?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(KN,{label:"Segmentos",options:i,selected:u.segmentos,onChange:N=>f({...u,segmentos:N})}),d.jsx(KN,{label:"Parceiros",options:o,selected:u.parceiros,onChange:N=>f({...u,parceiros:N})})]}),d.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[h&&d.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-slate-50 rounded text-sm font-semibold transition",children:"Cancelar"}),d.jsxs("button",{onClick:h?y:x,className:`px-6 py-2 rounded text-sm font-semibold transition flex items-center justify-center gap-2 shadow-lg ${h?"bg-green-600 hover:bg-green-700 text-green-50 shadow-green-900/20":"bg-blue-600 hover:bg-blue-700 text-blue-50 shadow-blue-900/20"}`,children:[h?d.jsx(dn,{size:16}):d.jsx(W2,{size:16}),h?"Salvar Alteraes":"Adicionar Registro"]})]})]})}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-3 pr-2",children:P.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-slate-400",children:[d.jsx("p",{className:"text-xs",children:" Nenhuma anotao ainda"}),d.jsx("p",{className:"text-xs italic mt-1",children:"Comece adicionando uma acima"})]}):P.map(N=>d.jsx("div",{className:`${sve[N.bu]} border rounded-lg overflow-hidden transition hover:shadow-lg relative group`,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-slate-200",children:T(N.date)}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${ive[N.bu]}`,children:N.bu}),N.isTesteAB&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30",children:[d.jsx(XT,{size:12}),"Teste A/B"]}),N.isTesteAB&&N.statusExperimento&&d.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border border-white/10 ${g1[N.statusExperimento].color}`,children:[Rs.createElement(g1[N.statusExperimento].icon,{size:12}),g1[N.statusExperimento].label]})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>b(N),className:"p-1.5 hover:bg-white/10 rounded transition text-slate-300 hover:text-white",title:"Editar",children:d.jsx(V2,{size:14})}),d.jsx("button",{onClick:()=>S(N.id),className:"p-1.5 hover:bg-red-500/20 rounded transition text-slate-300 hover:text-red-400",title:"Deletar",children:d.jsx(Vl,{size:14})})]})]}),d.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap text-slate-200 mb-3",children:N.title}),N.description&&d.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap text-slate-400 mb-3 border-l-2 border-slate-600 pl-2",children:N.description}),N.isTesteAB&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 mb-3 bg-black/20 p-3 rounded border border-white/5",children:[N.hipotese&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Hiptese"}),d.jsx("p",{className:"text-xs text-slate-300",children:N.hipotese})]}),N.conclusao&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Concluso"}),d.jsx("p",{className:"text-xs text-slate-300",children:N.conclusao})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 pt-2 border-t border-white/5",children:[N.campanhasRelacionadas&&N.campanhasRelacionadas.length>0&&d.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mr-2",children:[d.jsx(RW,{size:12}),N.campanhasRelacionadas.join(", ")]}),N.segmentos&&N.segmentos.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",N.segmentos.join(", ")]}),N.parceiros&&N.parceiros.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",N.parceiros.join(", ")]})]})]})},N.id))}),m&&d.jsx("div",{className:`fixed bottom-4 right-4 px-4 py-2 rounded text-xs font-medium transition-all shadow-lg z-50 ${m.type==="success"?"bg-emerald-600 text-emerald-50":m.type==="error"?"bg-red-600 text-red-50":"bg-blue-600 text-blue-50"}`,children:m.message})]})},lve=({initialMetrics:e,onCalculate:t})=>{const[r,n]=w.useState({visitors:(e==null?void 0:e.controle.disparos)||0,conversions:(e==null?void 0:e.controle.conversoes)||0}),[a,s]=w.useState({visitors:(e==null?void 0:e.variante.disparos)||0,conversions:(e==null?void 0:e.variante.conversoes)||0}),[i,o]=w.useState(null);w.useEffect(()=>{e&&(n({visitors:e.controle.disparos,conversions:e.controle.conversoes}),s({visitors:e.variante.disparos,conversions:e.variante.conversoes}))},[e]);const l=()=>{const c=Number(r.visitors),u=Number(r.conversions),f=Number(a.visitors),h=Number(a.conversions);if(c===0||f===0){o(null);return}const p=u/c,m=h/f,v=Math.sqrt(p*(1-p)/c+m*(1-m)/f),g=Math.abs((p-m)/v);let x=0;g>=2.576?x=99:g>=1.96?x=95:g>=1.645?x=90:x=Math.round((1-Math.exp(-.7*g*g))*100);const b=x>=90,y=p>m?"control":"variant";o({confidence:x,isSignificant:b,winner:b?y:null}),t&&t({controle:{disparos:c,conversoes:u},variante:{disparos:f,conversoes:h}})};return d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[d.jsx(bl,{size:16,className:"text-blue-400"}),"Calculadora de Significncia"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Controle (A)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:r.visitors,onChange:c=>n({...r,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:r.conversions,onChange:c=>n({...r,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",r.visitors>0?(r.conversions/r.visitors*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Variante (B)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:a.visitors,onChange:c=>s({...a,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:a.conversions,onChange:c=>s({...a,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",a.visitors>0?(a.conversions/a.visitors*100).toFixed(2):0,"%"]})]})]}),d.jsx("button",{onClick:l,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition mb-4",children:"Calcular"}),i&&d.jsxs("div",{className:`p-3 rounded-lg border ${i.isSignificant?"bg-emerald-900/20 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.isSignificant?d.jsx(dn,{size:16,className:"text-emerald-400"}):d.jsx(Vi,{size:16,className:"text-slate-400"}),d.jsx("span",{className:`font-bold ${i.isSignificant?"text-emerald-400":"text-slate-300"}`,children:i.isSignificant?"Resultado Significativo!":"Inconclusivo"})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Confiana estatstica: ",d.jsxs("span",{className:"text-slate-200 font-bold",children:[i.confidence,"%"]})]}),i.isSignificant&&d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Vencedor: ",d.jsx("span",{className:"text-emerald-400 font-bold uppercase",children:i.winner==="control"?"Controle (A)":"Variante (B)"})]})]})]})},GN=[{id:"hipotese",label:"Hiptese",color:"border-amber-500/50"},{id:"rodando",label:"Rodando",color:"border-blue-500/50"},{id:"concluido",label:"Concludo",color:"border-emerald-500/50"},{id:"aprendizado",label:"Aprendizado",color:"border-purple-500/50"}],cve=()=>{const{getExperimentos:e,updateEntry:t,addEntry:r}=$L(),n=e(),[a,s]=w.useState(null),i=(l,c)=>{t(l,{statusExperimento:c})},o=()=>{r({date:new Date().toISOString().split("T")[0],bu:"B2C",title:"Novo Experimento",description:"",segmentos:[],parceiros:[],isTesteAB:!0,statusExperimento:"hipotese",hipotese:"",conclusao:""})};return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(fI,{className:"text-purple-400"}),"Gestor de Experimentos"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Gerencie seus testes A/B e valide hipteses."})]}),d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition",children:[d.jsx(W2,{size:18}),"Novo Experimento"]})]}),d.jsx("div",{className:"flex-1 grid grid-cols-4 gap-4 overflow-hidden min-h-0",children:GN.map(l=>d.jsxs("div",{className:"flex flex-col bg-slate-900/50 rounded-xl border border-slate-800 h-full overflow-hidden",children:[d.jsxs("div",{className:`p-3 border-b border-slate-800 flex items-center justify-between border-t-2 ${l.color}`,children:[d.jsx("span",{className:"font-bold text-slate-300 text-sm uppercase",children:l.label}),d.jsx("span",{className:"text-xs bg-slate-800 px-2 py-0.5 rounded-full text-slate-400",children:n.filter(c=>c.statusExperimento===l.id).length})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:n.filter(c=>c.statusExperimento===l.id).map(c=>d.jsxs("div",{onClick:()=>s(c),className:"bg-slate-800 p-3 rounded-lg border border-slate-700 hover:border-blue-500/50 cursor-pointer transition group relative",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${c.bu==="B2C"?"bg-blue-900/30 border-blue-800 text-blue-300":c.bu==="B2B2C"?"bg-emerald-900/30 border-emerald-800 text-emerald-300":"bg-purple-900/30 border-purple-800 text-purple-300"}`,children:c.bu}),d.jsx("span",{className:"text-[10px] text-slate-500",children:c.date})]}),d.jsx("h4",{className:"text-sm font-medium text-slate-200 mb-1 line-clamp-2",children:c.title}),c.hipotese&&d.jsxs("p",{className:"text-xs text-slate-400 line-clamp-2 mb-2 italic",children:['"',c.hipotese,'"']}),d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:l.id!=="aprendizado"&&d.jsx("button",{onClick:u=>{u.stopPropagation();const f=l.id==="hipotese"?"rodando":l.id==="rodando"?"concluido":"aprendizado";i(c.id,f)},className:"p-1 bg-slate-700 hover:bg-blue-600 rounded text-slate-300 hover:text-white",title:"Avanar",children:d.jsx(L2,{size:12})})})]},c.id))})]},l.id))}),a&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl rounded-2xl border border-slate-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("input",{type:"text",value:a.title,onChange:l=>t(a.id,{title:l.target.value}),className:"bg-transparent text-xl font-bold text-white border-none focus:ring-0 p-0 w-full",placeholder:"Nome do Experimento"}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("select",{value:a.bu,onChange:l=>t(a.id,{bu:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]}),d.jsx("select",{value:a.statusExperimento,onChange:l=>t(a.id,{statusExperimento:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:GN.map(l=>d.jsx("option",{value:l.id,children:l.label},l.id))})]})]}),d.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:d.jsx(wW,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:a.hipotese||"",onChange:l=>t(a.id,{hipotese:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"Se fizermos X, esperamos Y..."})]}),d.jsxs("div",{className:"bg-slate-950/50 rounded-xl p-4 border border-slate-800",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"font-bold text-slate-200",children:"Dados & Resultados"})}),d.jsx(lve,{initialMetrics:a.metrics,onCalculate:l=>t(a.id,{metrics:l})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Concluso / Aprendizado"}),d.jsx("textarea",{value:a.conclusao||"",onChange:l=>t(a.id,{conclusao:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"O que aprendemos com este teste?"})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end",children:d.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Salvar e Fechar"})})]})})]})},uve=()=>{const[e,t]=w.useState("diario");return d.jsxs("div",{className:"flex flex-col h-full bg-[#0F172A]",children:[d.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900/50 px-6 pt-4",children:[d.jsxs("button",{onClick:()=>t("diario"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="diario"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(cI,{size:18}),d.jsx("span",{className:"font-medium",children:"Dirio de Bordo"})]}),d.jsxs("button",{onClick:()=>t("experimentos"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="experimentos"?"border-purple-500 text-purple-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(fI,{size:18}),d.jsx("span",{className:"font-medium",children:"Gestor de Experimentos"})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e==="diario"?d.jsx(ove,{}):d.jsx(cve,{})})]})};var zL={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(s7,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var j=S(T);j.chunkSize=parseInt(j.chunkSize),T.step||T.chunk||(j.chunkSize=null),this._handle=new v(j),(this._handle.streamer=this)._config=j}).call(this,C),this.parseChunk=function(T,j){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let N=this._config.newline;N||(A=this._config.quoteChar||'"',N=this._handle.guessLineEndings(T,A)),T=[...T.split(N).slice(P)].join(N)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(A=this._config.beforeFirstChunk(T))!==void 0&&(T=A),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+T,A=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=A.meta.cursor,P=(this._finished||(this._partialLine=P.substring(T-this._baseIndex),this._baseIndex=T),A&&A.data&&(this._rowCount+=A.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:A,workerId:c.WORKER_ID,finished:P});else if(E(this._config.chunk)&&!j){if(this._config.chunk(A,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=A=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(A.data),this._completeResults.errors=this._completeResults.errors.concat(A.errors),this._completeResults.meta=A.meta),this._completed||!P||!E(this._config.complete)||A&&A.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||A&&A.meta.paused||this._nextChunk(),A}this._halted=!0},this._sendError=function(T){E(this._config.error)?this._config.error(T):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function f(C){var T;(C=C||{}).chunkSize||(C.chunkSize=c.RemoteChunkSize),u.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(j){this._input=j,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=k(this._chunkLoaded,this),T.onerror=k(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var j,P=this._config.downloadRequestHeaders;for(j in P)T.setRequestHeader(j,P[j])}var A;this._config.chunkSize&&(A=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+A));try{T.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(j=>(j=j.getResponseHeader("Content-Range"))!==null?parseInt(j.substring(j.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(j){j=T.statusText||j,this._sendError(new Error(j))}}function h(C){(C=C||{}).chunkSize||(C.chunkSize=c.LocalChunkSize),u.call(this,C);var T,j,P=typeof FileReader<"u";this.stream=function(A){this._input=A,j=A.slice||A.webkitSlice||A.mozSlice,P?((T=new FileReader).onload=k(this._chunkLoaded,this),T.onerror=k(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var A=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),A=j.call(A,this._start,N)),T.readAsText(A,this._config.encoding));P||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(A){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(A.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(C){var T;u.call(this,C=C||{}),this.stream=function(j){return T=j,this._nextChunk()},this._nextChunk=function(){var j,P;if(!this._finished)return j=this._config.chunkSize,T=j?(P=T.substring(0,j),T.substring(j)):(P=T,""),this._finished=!T,this.parseChunk(P)}}function m(C){u.call(this,C=C||{});var T=[],j=!0,P=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(A){this._input=A,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):j=!0},this._streamData=k(function(A){try{T.push(typeof A=="string"?A:A.toString(this._config.encoding)),j&&(j=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(N){this._streamError(N)}},this),this._streamError=k(function(A){this._streamCleanUp(),this._sendError(A)},this),this._streamEnd=k(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var T,j,P,A,N=Math.pow(2,53),F=-N,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,X=0,I=0,J=!1,Z=!1,M=[],z={data:[],errors:[],meta:{}};function G(le){return C.skipEmptyLines==="greedy"?le.join("").trim()==="":le.length===1&&le[0].length===0}function H(){if(z&&P&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),P=!1),C.skipEmptyLines&&(z.data=z.data.filter(function(D){return!G(D)})),Q()){let D=function(Ne,me){E(C.transformHeader)&&(Ne=C.transformHeader(Ne,me)),M.push(Ne)};var ue=D;if(z)if(Array.isArray(z.data[0])){for(var le=0;Q()&&le<z.data.length;le++)z.data[le].forEach(D);z.data.splice(0,1)}else z.data.forEach(D)}function Y(D,Ne){for(var me=C.header?{}:[],ye=0;ye<D.length;ye++){var fe=ye,de=D[ye],de=((Oe,Ve)=>(at=>(C.dynamicTypingFunction&&C.dynamicTyping[at]===void 0&&(C.dynamicTyping[at]=C.dynamicTypingFunction(at)),(C.dynamicTyping[at]||C.dynamicTyping)===!0))(Oe)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((at=>{if(B.test(at)&&(at=parseFloat(at),F<at&&at<N))return 1})(Ve)?parseFloat(Ve):q.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(fe=C.header?ye>=M.length?"__parsed_extra":M[ye]:fe,de=C.transform?C.transform(de,fe):de);fe==="__parsed_extra"?(me[fe]=me[fe]||[],me[fe].push(de)):me[fe]=de}return C.header&&(ye>M.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+ye,I+Ne):ye<M.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+ye,I+Ne)),me}var te;z&&(C.header||C.dynamicTyping||C.transform)&&(te=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Y),te=z.data.length):z.data=Y(z.data,0),C.header&&z.meta&&(z.meta.fields=M),I+=te)}function Q(){return C.header&&M.length===0}function oe(le,Y,te,ue){le={type:le,code:Y,message:te},ue!==void 0&&(le.row=ue),z.errors.push(le)}E(C.step)&&(A=C.step,C.step=function(le){z=le,Q()?H():(H(),z.data.length!==0&&(X+=le.data.length,C.preview&&X>C.preview?j.abort():(z.data=z.data[0],A(z,K))))}),this.parse=function(le,Y,te){var ue=C.quoteChar||'"',ue=(C.newline||(C.newline=this.guessLineEndings(le,ue)),P=!1,C.delimiter?E(C.delimiter)&&(C.delimiter=C.delimiter(le),z.meta.delimiter=C.delimiter):((ue=((D,Ne,me,ye,fe)=>{var de,Oe,Ve,at;fe=fe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var gn=0;gn<fe.length;gn++){for(var xn,Jn=fe[gn],st=0,xr=0,mt=0,yr=(Ve=void 0,new x({comments:ye,delimiter:Jn,newline:Ne,preview:10}).parse(D)),Et=0;Et<yr.data.length;Et++)me&&G(yr.data[Et])?mt++:(xn=yr.data[Et].length,xr+=xn,Ve===void 0?Ve=xn:0<xn&&(st+=Math.abs(xn-Ve),Ve=xn));0<yr.data.length&&(xr/=yr.data.length-mt),(Oe===void 0||st<=Oe)&&(at===void 0||at<xr)&&1.99<xr&&(Oe=st,de=Jn,at=xr)}return{successful:!!(C.delimiter=de),bestDelimiter:de}})(le,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=ue.bestDelimiter:(P=!0,C.delimiter=c.DefaultDelimiter),z.meta.delimiter=C.delimiter),S(C));return C.preview&&C.header&&ue.preview++,T=le,j=new x(ue),z=j.parse(T,Y,te),H(),J?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,j.abort(),T=E(C.chunk)?"":T.substring(j.getCharIndex())},this.resume=function(){K.streamer._halted?(J=!1,K.streamer.parseChunk(T,!0)):setTimeout(K.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,j.abort(),z.meta.aborted=!0,E(C.complete)&&C.complete(z),T=""},this.guessLineEndings=function(D,ue){D=D.substring(0,1048576);var ue=new RegExp(g(ue)+"([^]*?)"+g(ue),"gm"),te=(D=D.replace(ue,"")).split("\r"),ue=D.split(`
`),D=1<ue.length&&ue[0].length<te[0].length;if(te.length===1||D)return`
`;for(var Ne=0,me=0;me<te.length;me++)te[me][0]===`
`&&Ne++;return Ne>=te.length/2?`\r
`:"\r"}}function g(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(C){var T=(C=C||{}).delimiter,j=C.newline,P=C.comments,A=C.step,N=C.preview,F=C.fastMode,B=null,q=!1,K=C.quoteChar==null?'"':C.quoteChar,X=K;if(C.escapeChar!==void 0&&(X=C.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),P===T)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<c.BAD_DELIMITERS.indexOf(P))&&(P=!1),j!==`
`&&j!=="\r"&&j!==`\r
`&&(j=`
`);var I=0,J=!1;this.parse=function(Z,M,z){if(typeof Z!="string")throw new Error("Input must be a string");var G=Z.length,H=T.length,Q=j.length,oe=P.length,le=E(A),Y=[],te=[],ue=[],D=I=0;if(!Z)return st();if(F||F!==!1&&Z.indexOf(K)===-1){for(var Ne=Z.split(j),me=0;me<Ne.length;me++){if(ue=Ne[me],I+=ue.length,me!==Ne.length-1)I+=j.length;else if(z)return st();if(!P||ue.substring(0,oe)!==P){if(le){if(Y=[],at(ue.split(T)),xr(),J)return st()}else at(ue.split(T));if(N&&N<=me)return Y=Y.slice(0,N),st(!0)}}return st()}for(var ye=Z.indexOf(T,I),fe=Z.indexOf(j,I),de=new RegExp(g(X)+g(K),"g"),Oe=Z.indexOf(K,I);;)if(Z[I]===K)for(Oe=I,I++;;){if((Oe=Z.indexOf(K,Oe+1))===-1)return z||te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Y.length,index:I}),xn();if(Oe===G-1)return xn(Z.substring(I,Oe).replace(de,K));if(K===X&&Z[Oe+1]===X)Oe++;else if(K===X||Oe===0||Z[Oe-1]!==X){ye!==-1&&ye<Oe+1&&(ye=Z.indexOf(T,Oe+1));var Ve=gn((fe=fe!==-1&&fe<Oe+1?Z.indexOf(j,Oe+1):fe)===-1?ye:Math.min(ye,fe));if(Z.substr(Oe+1+Ve,H)===T){ue.push(Z.substring(I,Oe).replace(de,K)),Z[I=Oe+1+Ve+H]!==K&&(Oe=Z.indexOf(K,I)),ye=Z.indexOf(T,I),fe=Z.indexOf(j,I);break}if(Ve=gn(fe),Z.substring(Oe+1+Ve,Oe+1+Ve+Q)===j){if(ue.push(Z.substring(I,Oe).replace(de,K)),Jn(Oe+1+Ve+Q),ye=Z.indexOf(T,I),Oe=Z.indexOf(K,I),le&&(xr(),J))return st();if(N&&Y.length>=N)return st(!0);break}te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Y.length,index:I}),Oe++}}else if(P&&ue.length===0&&Z.substring(I,I+oe)===P){if(fe===-1)return st();I=fe+Q,fe=Z.indexOf(j,I),ye=Z.indexOf(T,I)}else if(ye!==-1&&(ye<fe||fe===-1))ue.push(Z.substring(I,ye)),I=ye+H,ye=Z.indexOf(T,I);else{if(fe===-1)break;if(ue.push(Z.substring(I,fe)),Jn(fe+Q),le&&(xr(),J))return st();if(N&&Y.length>=N)return st(!0)}return xn();function at(mt){Y.push(mt),D=I}function gn(mt){var yr=0;return yr=mt!==-1&&(mt=Z.substring(Oe+1,mt))&&mt.trim()===""?mt.length:yr}function xn(mt){return z||(mt===void 0&&(mt=Z.substring(I)),ue.push(mt),I=G,at(ue),le&&xr()),st()}function Jn(mt){I=mt,at(ue),ue=[],fe=Z.indexOf(j,I)}function st(mt){if(C.header&&!M&&Y.length&&!q){var yr=Y[0],Et=Object.create(null),Qn=new Set(yr);let Ue=!1;for(let ht=0;ht<yr.length;ht++){let Bt=yr[ht];if(Et[Bt=E(C.transformHeader)?C.transformHeader(Bt,ht):Bt]){let Ct,Es=Et[Bt];for(;Ct=Bt+"_"+Es,Es++,Qn.has(Ct););Qn.add(Ct),yr[ht]=Ct,Et[Bt]++,Ue=!0,(B=B===null?{}:B)[Ct]=Bt}else Et[Bt]=1,yr[ht]=Bt;Qn.add(Bt)}Ue&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:Y,errors:te,meta:{delimiter:T,linebreak:j,aborted:J,truncated:!!mt,cursor:D+(M||0),renamedHeaders:B}}}function xr(){A(st()),Y=[],te=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return I}}function b(C){var T=C.data,j=o[T.workerId],P=!1;if(T.error)j.userError(T.error,T.file);else if(T.results&&T.results.data){var A={abort:function(){P=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(E(j.userStep)){for(var N=0;N<T.results.data.length&&(j.userStep({data:T.results.data[N],errors:T.results.errors,meta:T.results.meta},A),!P);N++);delete T.results}else E(j.userChunk)&&(j.userChunk(T.results,A,T.file),delete T.results)}T.finished&&!P&&y(T.workerId,T.results)}function y(C,T){var j=o[C];E(j.userComplete)&&j.userComplete(T),j.terminate(),delete o[C]}function _(){throw new Error("Not implemented.")}function S(C){if(typeof C!="object"||C===null)return C;var T,j=Array.isArray(C)?[]:{};for(T in C)j[T]=S(C[T]);return j}function k(C,T){return function(){C.apply(T,arguments)}}function E(C){return typeof C=="function"}return c.parse=function(C,T){var j=(T=T||{}).dynamicTyping||!1;if(E(j)&&(T.dynamicTypingFunction=j,j={}),T.dynamicTyping=j,T.transform=!!E(T.transform)&&T.transform,!T.worker||!c.WORKERS_SUPPORTED)return j=null,c.NODE_STREAM_INPUT,typeof C=="string"?(C=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(C),j=new(T.download?f:p)(T)):C.readable===!0&&E(C.read)&&E(C.on)?j=new m(T):(n.File&&C instanceof File||C instanceof Object)&&(j=new h(T)),j.stream(C);(j=(()=>{var P;return!!c.WORKERS_SUPPORTED&&(P=(()=>{var A=n.URL||n.webkitURL||null,N=r.toString();return c.BLOB_URL||(c.BLOB_URL=A.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(P=new n.Worker(P)).onmessage=b,P.id=l++,o[P.id]=P)})()).userStep=T.step,j.userChunk=T.chunk,j.userComplete=T.complete,j.userError=T.error,T.step=E(T.step),T.chunk=E(T.chunk),T.complete=E(T.complete),T.error=E(T.error),delete T.worker,j.postMessage({input:C,config:T,workerId:j.id})},c.unparse=function(C,T){var j=!1,P=!0,A=",",N=`\r
`,F='"',B=F+F,q=!1,K=null,X=!1,I=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(M){return T.delimiter.indexOf(M)!==-1}).length||(A=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(j=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(q=T.skipEmptyLines),typeof T.newline=="string"&&(N=T.newline),typeof T.quoteChar=="string"&&(F=T.quoteChar),typeof T.header=="boolean"&&(P=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");K=T.columns}T.escapeChar!==void 0&&(B=T.escapeChar+F),T.escapeFormulae instanceof RegExp?X=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(F),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return J(null,C,q);if(typeof C[0]=="object")return J(K||Object.keys(C[0]),C,q)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||K),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),J(C.fields||[],C.data||[],q);throw new Error("Unable to serialize unrecognized input");function J(M,z,G){var H="",Q=(typeof M=="string"&&(M=JSON.parse(M)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(M)&&0<M.length),oe=!Array.isArray(z[0]);if(Q&&P){for(var le=0;le<M.length;le++)0<le&&(H+=A),H+=Z(M[le],le);0<z.length&&(H+=N)}for(var Y=0;Y<z.length;Y++){var te=(Q?M:z[Y]).length,ue=!1,D=Q?Object.keys(z[Y]).length===0:z[Y].length===0;if(G&&!Q&&(ue=G==="greedy"?z[Y].join("").trim()==="":z[Y].length===1&&z[Y][0].length===0),G==="greedy"&&Q){for(var Ne=[],me=0;me<te;me++){var ye=oe?M[me]:me;Ne.push(z[Y][ye])}ue=Ne.join("").trim()===""}if(!ue){for(var fe=0;fe<te;fe++){0<fe&&!D&&(H+=A);var de=Q&&oe?M[fe]:fe;H+=Z(z[Y][de],fe)}Y<z.length-1&&(!G||0<te&&!D)&&(H+=N)}}return H}function Z(M,z){var G,H;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(H=!1,X&&typeof M=="string"&&X.test(M)&&(M="'"+M,H=!0),G=M.toString().replace(I,B),(H=H||j===!0||typeof j=="function"&&j(M,z)||Array.isArray(j)&&j[z]||((Q,oe)=>{for(var le=0;le<oe.length;le++)if(-1<Q.indexOf(oe[le]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(A)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?F+G+F:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=x,c.ParserHandle=v,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(C){var T=C.config||{},j=[];return this.each(function(N){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var F=0;F<this.files.length;F++)j.push({file:this.files[F],inputElem:this,instanceConfig:a.extend({},T)})}),P(),this;function P(){if(j.length===0)E(C.complete)&&C.complete();else{var N,F,B,q,K=j[0];if(E(C.before)){var X=C.before(K.file,K.inputElem);if(typeof X=="object"){if(X.action==="abort")return N="AbortError",F=K.file,B=K.inputElem,q=X.reason,void(E(C.error)&&C.error({name:N},F,B,q));if(X.action==="skip")return void A();typeof X.config=="object"&&(K.instanceConfig=a.extend(K.instanceConfig,X.config))}else if(X==="skip")return void A()}var I=K.instanceConfig.complete;K.instanceConfig.complete=function(J){E(I)&&I(J,K.file,K.inputElem),A()},c.parse(K.file,K.instanceConfig)}}function A(){j.splice(0,1),P()}}),i&&(n.onmessage=function(C){C=C.data,c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=c.parse(C.input,C.config))&&n.postMessage({workerId:c.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(zL);var dve=zL.exports;const UL=Js(dve),qN="growth_brain_versions",YN=10,fve=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState(0);w.useEffect(()=>{try{const f=localStorage.getItem(qN);if(f){const h=JSON.parse(f);t(h.versions||[]),n(h.currentVersionId||null)}i()}catch(f){console.error("Failed to load versions from localStorage",f)}},[]),w.useEffect(()=>{if(e.length>0||r)try{const h=JSON.stringify({currentVersionId:r,versions:e});localStorage.setItem(qN,h),i()}catch(f){console.error("Failed to save versions to localStorage",f),alert("Erro ao salvar no armazenamento local. O limite pode ter sido atingido.")}},[e,r]);const i=()=>{let f=0;for(const h in localStorage)localStorage.hasOwnProperty(h)&&(f+=localStorage[h].length*2/1024/1024);s(f)},o=w.useCallback((f,h,p,m=0)=>{if(e.length>=YN)throw new Error(`Limite de ${YN} verses atingido. Exclua verses antigas.`);const v={id:crypto.randomUUID(),name:f,description:p,createdAt:new Date().toISOString(),createdBy:"User",rowCount:h.length,editCount:m,data:h};return t(g=>[v,...g]),n(v.id),v},[e]),l=w.useCallback(f=>{const h=e.find(p=>p.id===f);if(!h)throw new Error("Verso no encontrada");return n(f),h.data},[e]),c=w.useCallback(f=>{if(f===r)throw new Error("No  possvel excluir a verso atual ativa.");t(h=>h.filter(p=>p.id!==f))},[r]),u=w.useCallback(f=>{const h=e.find(x=>x.id===f);if(!h)return;const p=UL.unparse(h.data,{delimiter:";",quotes:!0}),m=new Blob([p],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),g=document.createElement("a");g.href=v,g.setAttribute("download",`${h.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.csv`),document.body.appendChild(g),g.click(),document.body.removeChild(g)},[e]);return{versions:e,currentVersion:e.find(f=>f.id===r),currentVersionId:r,storageUsage:a,saveNewVersion:o,restoreVersion:l,deleteVersion:c,exportVersion:u}},hve=({isOpen:e,onClose:t,onSave:r,pendingEditsCount:n})=>{const[a,s]=w.useState(""),[i,o]=w.useState("");if(!e)return null;const l=c=>{c.preventDefault(),a.trim()&&(r(a,i),s(""),o(""),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(qu,{className:"text-emerald-400",size:20}),"Salvar Nova Verso"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700 text-sm text-slate-300",children:["Esta verso incluir ",d.jsxs("strong",{children:[n," alteraes"]})," pendentes."]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Nome da Verso"}),d.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"Ex: Ajuste de Metas Nov",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none",autoFocus:!0,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Descrio (Opcional)"}),d.jsx("textarea",{value:i,onChange:c=>o(c.target.value),placeholder:"O que mudou nesta verso?",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none h-24 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded transition",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded font-medium transition",children:"Salvar Verso"})]})]})]})})},pve=({isOpen:e,onClose:t,versions:r,currentVersionId:n,onRestore:a,onDelete:s,onExport:i,storageUsage:o})=>e?d.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"w-96 bg-slate-900 border-l border-slate-700 h-full flex flex-col shadow-2xl animate-in slide-in-from-right duration-200",children:[d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Wm,{className:"text-blue-400",size:20}),"Histrico de Verses"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:[d.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[d.jsx("span",{children:"Armazenamento Local"}),d.jsxs("span",{children:[o.toFixed(2)," MB / ~5 MB"]})]}),d.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${o>4?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(o/5*100,100)}%`}})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?d.jsx("div",{className:"text-center text-slate-500 py-8",children:d.jsx("p",{children:"Nenhuma verso salva."})}):r.map(l=>{const c=l.id===n;return d.jsxs("div",{className:`border rounded-lg p-4 transition ${c?"bg-blue-900/20 border-blue-500/50":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${c?"text-blue-400":"text-slate-200"}`,children:l.name}),d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[d.jsx(Wm,{size:12}),ke(Qr(l.createdAt),"dd 'de' MMM 's' HH:mm",{locale:Ys})]})]}),c&&d.jsxs("span",{className:"bg-blue-900/50 text-blue-400 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[d.jsx(dn,{size:12})," Atual"]})]}),l.description&&d.jsxs("p",{className:"text-sm text-slate-400 mb-3 italic border-l-2 border-slate-700 pl-2",children:['"',l.description,'"']}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[d.jsxs("span",{children:[l.rowCount," linhas"]}),d.jsxs("span",{children:[l.editCount," edies"]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700/50",children:[d.jsxs("button",{onClick:()=>i(l.id),className:"text-slate-400 hover:text-slate-200 flex items-center gap-1 text-xs transition",title:"Baixar CSV",children:[d.jsx(F0,{size:14})," CSV"]}),d.jsx("div",{className:"flex items-center gap-2",children:!c&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>a(l.id),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-xs transition font-medium",children:[d.jsx(cH,{size:14})," Restaurar"]}),d.jsx("button",{onClick:()=>s(l.id),className:"text-red-400 hover:text-red-300 flex items-center gap-1 text-xs transition",title:"Excluir",children:d.jsx(Vl,{size:14})})]})})]})]},l.id)})})]})}):null,mve=()=>{const{frameworkData:e,setFrameworkData:t,activities:r,viewSettings:n}=vt(),[a,s]=w.useState(""),[i,o]=w.useState({}),[l,c]=w.useState({key:null,direction:"asc"}),[u,f]=w.useState(!1),[h,p]=w.useState(!1),{versions:m,currentVersion:v,saveNewVersion:g,restoreVersion:x,deleteVersion:b,exportVersion:y,storageUsage:_}=fve();w.useEffect(()=>{e.length>0&&m.length===0&&g("Original - Importado",e,"Verso inicial criada automaticamente ao importar CSV.")},[e.length,m.length,g,e]);const S=w.useMemo(()=>e.length===0?[]:Object.keys(e[0]),[e]),k=F=>{c(B=>B.key===F?B.direction==="asc"?{key:F,direction:"desc"}:{key:null,direction:"asc"}:{key:F,direction:"asc"})},E=w.useMemo(()=>{let F=e.map((q,K)=>({...q,_originalIndex:K}));const B=n.filtrosGlobais;if(F=F.filter(q=>!(B.bu.length>0&&!B.bu.includes(q.BU)||B.canais.length>0&&!B.canais.includes(q.Canal)||B.segmentos.length>0&&!B.segmentos.includes(q.Segmento)||B.parceiros.length>0&&!B.parceiros.includes(q.Parceiro))),a){const q=a.toLowerCase();F=F.filter(K=>Object.values(K).some(X=>String(X).toLowerCase().includes(q)))}return l.key&&F.sort((q,K)=>{var H,Q;const X=l.key,I=((H=i[q._originalIndex])==null?void 0:H[X])??q[X],J=((Q=i[K._originalIndex])==null?void 0:Q[X])??K[X];if(I===J)return 0;const Z=Number(String(I).replace(",",".").replace(/[^0-9.-]+/g,"")),M=Number(String(J).replace(",",".").replace(/[^0-9.-]+/g,""));if(!isNaN(Z)&&!isNaN(M)&&String(I).trim()!==""&&String(J).trim()!=="")return l.direction==="asc"?Z-M:M-Z;const z=String(I).toLowerCase(),G=String(J).toLowerCase();return z<G?l.direction==="asc"?-1:1:z>G?l.direction==="asc"?1:-1:0}),F},[e,a,l,i,n.filtrosGlobais]),C=(F,B,q)=>{o(K=>({...K,[F]:{...K[F],[B]:q}}))},T=(F,B)=>{F.key==="Enter"&&B.blur(),F.key==="Escape"&&B.blur()},j=()=>{const F=e.map((B,q)=>i[q]?{...B,...i[q]}:B);t(F,r),o({})},P=(F,B)=>{const q=e.map((K,X)=>i[X]?{...K,...i[X]}:K);try{g(F,q,B,Object.keys(i).length),t(q,r),o({}),alert("Verso salva com sucesso!")}catch(K){alert(K.message)}},A=F=>{if(!(Object.keys(i).length>0&&!confirm("Voc tem edies no salvas. Restaurar uma verso anterior ir descart-las. Continuar?")))try{const B=x(F);t(B,r),o({}),p(!1)}catch(B){alert(B.message)}},N=()=>{const F=e.map((I,J)=>i[J]?{...I,...i[J]}:I),B=UL.unparse(F,{delimiter:";",quotes:!0}),q=new Blob([B],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(q),X=document.createElement("a");X.href=K,X.setAttribute("download","campanhas_editado.csv"),document.body.appendChild(X),X.click(),document.body.removeChild(X)};return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(Vi,{size:48,className:"mb-4 opacity-50"}),d.jsx("p",{children:"Nenhum dado carregado. Faa upload do CSV na tela inicial."})]}):d.jsxs("div",{className:"flex flex-col h-full bg-slate-900 relative",children:[d.jsx(hve,{isOpen:u,onClose:()=>f(!1),onSave:P,pendingEditsCount:Object.keys(i).length}),d.jsx(pve,{isOpen:h,onClose:()=>p(!1),versions:m,currentVersionId:(v==null?void 0:v.id)||null,onRestore:A,onDelete:b,onExport:y,storageUsage:_}),d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between gap-4 bg-slate-800/50",children:[d.jsxs("div",{className:"relative flex-1 max-w-md group",children:[d.jsx(H2,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 group-focus-within:text-blue-400 transition"}),d.jsx("input",{type:"text",placeholder:"Buscar em todas as colunas...",value:a,onChange:F=>s(F.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-10 py-2 text-sm text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition"}),a&&d.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:14})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[v&&d.jsxs("div",{className:"hidden md:flex items-center gap-2 mr-4 text-xs text-slate-400 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700",children:[d.jsx(BV,{size:12}),d.jsx("span",{className:"max-w-[150px] truncate",children:v.name})]}),d.jsx("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg text-sm font-medium transition",title:"Histrico de Verses",children:d.jsx(NW,{size:18})}),Object.keys(i).length>0&&d.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[d.jsxs("span",{className:"text-amber-400 text-xs font-medium bg-amber-900/30 px-2 py-1 rounded border border-amber-500/30",children:[Object.keys(i).length," alteraes"]}),d.jsx("button",{onClick:j,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",title:"Aplicar na memria (sem criar nova verso)",children:"Aplicar"})]}),d.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition shadow-lg shadow-emerald-900/20",children:[d.jsx(qu,{size:16}),"Salvar Verso"]}),d.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",children:[d.jsx(F0,{size:16}),"Exportar"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto relative",children:[d.jsxs("table",{className:"w-full border-collapse text-sm text-left relative",children:[d.jsx("thead",{className:"bg-slate-800 text-slate-400 sticky top-0 z-20 shadow-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 border-b border-slate-600 font-medium w-12 text-center sticky left-0 z-30 bg-slate-800 border-r border-slate-600 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]",children:"#"}),S.map(F=>d.jsx("th",{onClick:()=>k(F),className:"p-3 border-b border-slate-700 font-medium whitespace-nowrap min-w-[150px] cursor-pointer hover:bg-slate-700 hover:text-slate-200 transition select-none group",children:d.jsxs("div",{className:"flex items-center gap-2",children:[F,d.jsx("span",{className:"text-slate-600 group-hover:text-slate-400",children:l.key===F?l.direction==="asc"?d.jsx($2,{size:14,className:"text-blue-400"}):d.jsx(F2,{size:14,className:"text-blue-400"}):d.jsx(ha,{size:14,className:"opacity-0 group-hover:opacity-100 transition"})})]})},F))]})}),d.jsx("tbody",{className:"divide-y divide-slate-800",children:E.map((F,B)=>{const q=F._originalIndex;return d.jsxs("tr",{className:`transition group ${B%2===0?"bg-slate-800":"bg-slate-800/50"} hover:bg-slate-700`,children:[d.jsx("td",{className:`p-2 text-slate-400 text-xs text-center border-r border-slate-600 sticky left-0 z-10 ${B%2===0?"bg-slate-800":"bg-slate-800/50"} group-hover:bg-slate-700 transition shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]`,children:B+1}),S.map(K=>{var J,Z;const X=((J=i[q])==null?void 0:J[K])??F[K],I=((Z=i[q])==null?void 0:Z[K])!==void 0;return d.jsx("td",{className:`p-0 border-r border-slate-700/50 relative ${I?"bg-amber-900/20":""}`,children:d.jsx("input",{type:"text",value:X,onChange:M=>C(q,K,M.target.value),onKeyDown:M=>T(M,M.currentTarget),className:`w-full h-full p-3 bg-transparent border-none outline-none text-slate-300 focus:bg-slate-800 focus:ring-1 focus:ring-inset focus:ring-blue-500 transition ${I?"text-amber-200 font-medium":""}`})},K)})]},q)})})]}),E.length===0&&d.jsxs("div",{className:"p-8 text-center text-slate-500",children:['Nenhum resultado encontrado para "',a,'"']})]}),d.jsxs("div",{className:"bg-slate-800 border-t border-slate-700 p-2 px-4 text-xs text-slate-400 flex justify-between items-center",children:[d.jsxs("span",{children:["Total: ",d.jsx("strong",{children:e.length})," linhas"]}),d.jsxs("span",{children:["Mostrando: ",d.jsx("strong",{children:E.length})," linhas"]})]})]})},vve=e=>w.useMemo(()=>{const r=new Map;e.forEach(a=>{const s=a.bu.trim(),i=a.raw["Oferta 2"]||"Padrao",o=a.raw["Promocional 2"]||"N/A",l=`${s}|${a.canal}|${a.oferta||"Sem Oferta"}|${a.segmento}|${a.promocional||"N/A"}|${i}|${o}`;r.has(l)||r.set(l,[]),r.get(l).push(a)});const n=[];return r.forEach((a,s)=>{const[i,o,l,c,u,f,h]=s.split("|"),p={bu:i,canal:o,oferta:l,segmento:c,promocional:u!=="N/A"?u:void 0,oferta2:f,promocional2:h!=="N/A"?h:void 0};let m=0,v=0,g=0,x=0,b=0;a.forEach(F=>{F.kpis.cac!==null&&F.kpis.cac>0&&(m+=F.kpis.cac,x++),F.kpis.taxaConversao!==null&&(v+=F.kpis.taxaConversao,b++),F.kpis.cartoes!==null&&(g+=F.kpis.cartoes)});const y=x>0?m/x:0,_=b>0?v/b:0,S=a.length,k=a.length>0?new Date(Math.max(...a.map(F=>F.dataDisparo.getTime()))):null,E={avgCAC:y,avgConversion:_,totalVolume:S,totalCards:g,successRate:0,lastExecuted:k};let C=0;x>0&&(C=Math.max(0,Math.min(100,100-y/2)));const T=Math.max(0,Math.min(100,_/.05*100)),j=Math.min(100,S/10*100),P=C*.4+T*.4+j*.2,A={cacScore:C,conversionScore:T,volumeScore:j,finalScore:P},N=[];x>0?y<60?N.push({type:"positive",text:"CAC Excelente (< R$ 60)"}):y>150&&N.push({type:"negative",text:"CAC Alto (> R$ 150)"}):N.push({type:"neutral",text:"Sem dados de CAC"}),_>.03?N.push({type:"positive",text:"Alta Converso (> 3%)"}):_<.005&&b>0&&N.push({type:"negative",text:"Baixa Converso (< 0.5%)"}),S<3&&N.push({type:"neutral",text:"Volume baixo (pouca confiana)"}),S>10&&N.push({type:"positive",text:"Volume alto (alta confiana)"}),n.push({id:s,combo:p,metrics:E,score:A,insights:N,sampleActivities:a.sort((F,B)=>B.dataDisparo.getTime()-F.dataDisparo.getTime())})}),n.sort((a,s)=>s.score.finalScore-a.score.finalScore)},[e]),VL=w.createContext(void 0),XN="growth-brain-bu-selection",gve=({children:e})=>{const[t,r]=w.useState(()=>{const o=localStorage.getItem(XN);return o?JSON.parse(o):["B2C","B2B2C","Plurix"]});w.useEffect(()=>{localStorage.setItem(XN,JSON.stringify(t))},[t]);const n=o=>{r(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a=()=>{r(["B2C","B2B2C","Plurix"])},s=()=>{r([])},i=o=>t.includes(o);return d.jsx(VL.Provider,{value:{selectedBUs:t,toggleBU:n,selectAll:a,deselectAll:s,isBUSelected:i},children:e})},Th=()=>{const e=w.useContext(VL);if(e===void 0)throw new Error("useBU must be used within a BUProvider");return e},xve=({recommendation:e,onClick:t})=>{const{combo:r,score:n,metrics:a,insights:s}=e,i=f=>f>=80?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":f>=60?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":f>=40?"text-orange-400 border-orange-500/50 bg-orange-500/10":"text-red-400 border-red-500/50 bg-red-500/10",o=f=>{const h=f.toLowerCase();return h.includes("email")||h.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":h.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":h.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":h.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"},c=(f=>{if(!f)return{text:"Nunca executado",color:"text-blue-400"};const h=Math.abs(new Date().getTime()-f.getTime()),p=Math.ceil(h/(1e3*60*60*24));return p<7?{text:`h ${p} dias`,color:"text-slate-500"}:p<14?{text:`h ${p} dias`,color:"text-yellow-500"}:{text:`h ${p} dias`,color:"text-emerald-500"}})(a.lastExecuted),u=i(n.finalScore);return d.jsxs("div",{onClick:t,className:`bg-slate-800/50 border rounded-lg p-4 transition cursor-pointer group relative overflow-hidden hover:shadow-lg ${u.replace("text-","border-").split(" ")[1]}`,children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full -mr-10 -mt-10 transition-opacity opacity-0 group-hover:opacity-100 pointer-events-none"}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${o(r.canal)}`,children:r.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:r.segmento}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-pink-500/10 text-pink-300 px-1.5 py-0.5 rounded border border-pink-500/20",children:r.promocional})]}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-cyan-500/10 text-cyan-300 px-1.5 py-0.5 rounded border border-cyan-500/20",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-300 px-1.5 py-0.5 rounded border border-indigo-500/20",children:r.promocional2})]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-100 line-clamp-2",title:r.oferta,children:r.oferta})]}),d.jsx("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 ${u}`,children:d.jsx("span",{className:"text-sm font-bold",children:Math.round(n.finalScore)})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[d.jsx(Ls,{content:"Custo de Aquisio Mdio das campanhas",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Gu,{size:10})," CAC"]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.avgCAC>0?`R$ ${a.avgCAC.toFixed(0)}`:"-"})]})}),d.jsx(Ls,{content:"Taxa de Converso Mdia (Aprovados / Entregues)",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Sa,{size:10})," Conv."]}),d.jsxs("div",{className:"text-xs font-semibold text-slate-200",children:[(a.avgConversion*100).toFixed(1),"%"]})]})}),d.jsx(Ls,{content:"Nmero total de execues desta combinao",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(mI,{size:10})," Vol."]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.totalVolume})]})}),d.jsx(Ls,{content:"Data da ltima execuo registrada",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Wm,{size:10})," ltima"]}),d.jsx("div",{className:`text-[10px] font-semibold ${c.color} leading-tight`,children:c.text})]})})]}),d.jsx("div",{className:"space-y-1",children:s.slice(0,2).map((f,h)=>d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] px-2 py-1 rounded ${f.type==="positive"?"bg-emerald-500/10 text-emerald-300":f.type==="negative"?"bg-red-500/10 text-red-300":"bg-slate-700/50 text-slate-400"}`,children:[f.type==="positive"?d.jsx(Sa,{size:10}):f.type==="negative"?d.jsx(B0,{size:10}):d.jsx($0,{size:10}),f.text]},h))})]})},x1=5,yve=({recommendation:e,onClose:t})=>{const{combo:r,sampleActivities:n,metrics:a}=e,[s,i]=w.useState(1),o=w.useMemo(()=>[...n].sort((h,p)=>p.dataDisparo.getTime()-h.dataDisparo.getTime()),[n]),l=Math.ceil(o.length/x1),c=o.slice((s-1)*x1,s*x1),u=w.useMemo(()=>[...n].sort((h,p)=>h.dataDisparo.getTime()-p.dataDisparo.getTime()).map(h=>({date:h.dataDisparo.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),cartoes:h.kpis.cartoes||0,cac:h.kpis.cac||0,conversao:(h.kpis.taxaConversao||0)*100})),[n]),f=()=>{const h=["Data","Activity Name","BU","Cartes","Converso (%)","CAC (R$)","Custo Total (R$)"],p=o.map(b=>[b.dataDisparo.toLocaleDateString("pt-BR"),`"${b.id}"`,b.bu,b.kpis.cartoes||0,((b.kpis.taxaConversao||0)*100).toFixed(2).replace(".",","),(b.kpis.cac||0).toFixed(2).replace(".",","),(b.kpis.custoTotal||0).toFixed(2).replace(".",",")]),m=[h.join(";"),...p.map(b=>b.join(";"))].join(`
`),v=new Blob([m],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(v),x=document.createElement("a");x.setAttribute("href",g),x.setAttribute("download",`historico_${r.canal}_${r.segmento}.csv`),document.body.appendChild(x),x.click(),document.body.removeChild(x)};return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Histrico de Execues"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1 flex-wrap",children:[d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.canal}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.segmento}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-slate-300 font-medium",children:r.oferta}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-pink-500/10 text-pink-300 px-2 py-0.5 rounded border border-pink-500/20 font-medium",children:r.promocional})]}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-cyan-500/10 text-cyan-300 px-2 py-0.5 rounded border border-cyan-500/20 font-medium",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-indigo-500/10 text-indigo-300 px-2 py-0.5 rounded border border-indigo-500/20 font-medium",children:r.promocional2})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-xs font-medium transition",children:[d.jsx(F0,{size:14})," Exportar CSV"]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Execues"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalVolume})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"CAC Mdio"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:["R$ ",a.avgCAC.toFixed(2)]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Converso Mdia"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[(a.avgConversion*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Cartes"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalCards})]})]}),d.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700/30",children:[d.jsx("h3",{className:"text-xs font-bold text-slate-400 mb-4 uppercase tracking-wider",children:"Tendncia de Cartes (ltimas Execues)"}),d.jsx("div",{className:"h-32 w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(Q0e,{data:u,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorCartoes",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"date",stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1}),d.jsx(pt,{stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1,width:30}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",fontSize:"12px"},itemStyle:{color:"#e2e8f0"}}),d.jsx(sE,{type:"monotone",dataKey:"cartoes",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCartoes)"})]})})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300",children:"Lista de Execues"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Pgina ",s," de ",l]})]}),d.jsx("div",{className:"space-y-3",children:c.map(h=>{const p=m=>{const v=m.toLowerCase();return v.includes("email")||v.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":v.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":v.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":v.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-slate-600 transition",children:[d.jsx("div",{className:"flex justify-between items-start mb-2",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${p(h.canal)}`,children:h.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.bu}),h.segmento&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.segmento})]}),h.jornada&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-purple-300",children:h.jornada})]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-auto flex items-center gap-1",children:[d.jsx(sc,{size:10}),h.dataDisparo.toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-1",title:h.id,children:h.id})]})}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Enviado"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Entregue"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Cartes"}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:h.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Converso"}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[h.kpis.taxaConversao?(h.kpis.taxaConversao*100).toFixed(2):0,"%"]})]})]})]},h.id)})}),l>1&&d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[d.jsx("button",{onClick:()=>i(h=>Math.max(1,h-1)),disabled:s===1,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(I0,{size:20})}),d.jsxs("span",{className:"text-xs text-slate-400",children:[s," / ",l]}),d.jsx("button",{onClick:()=>i(h=>Math.min(l,h+1)),disabled:s===l,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(R0,{size:20})})]})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},WL=w.createContext(void 0),bve=({children:e})=>{const[t,r]=w.useState(()=>Jr(new Date)),[n,a]=w.useState(()=>Il(new Date)),[s,i]=w.useState("thisMonth"),[o,l]=w.useState(!1),[c,u]=w.useState(null);w.useEffect(()=>{console.log("PeriodProvider mounted. Force-setting preset to 'thisMonth'."),h("thisMonth")},[]);const f=(m,v,g="custom")=>{console.log("setPeriod called:",{start:m,end:v,newPreset:g}),r(m),a(v),i(g)},h=m=>{const v=new Date;let g=v,x=v;switch(m){case"today":g=v,x=v;break;case"yesterday":g=jt(v,1),x=jt(v,1);break;case"thisWeek":g=jt(v,v.getDay());break;case"last7":g=jt(v,6);break;case"last14":g=jt(v,13);break;case"last28":g=jt(v,27);break;case"last30":g=jt(v,29);break;case"last90":g=jt(v,89);break;case"thisMonth":g=Jr(v),x=Il(v);break;case"lastMonth":g=Jr(Bu(v,1)),x=Il(Bu(v,1));break;case"thisYear":g=new Date(v.getFullYear(),0,1);break;case"custom":return}r(g),a(x),i(m)},p=m=>{l(m),m&&!c?u("previousPeriod"):m||u(null)};return d.jsx(WL.Provider,{value:{startDate:t,endDate:n,preset:s,compareEnabled:o,compareMode:c,setPeriod:f,setPreset:h,toggleCompare:p},children:e})},Ah=()=>{const e=w.useContext(WL);if(e===void 0)throw new Error("usePeriod must be used within a PeriodProvider");return e},wve=()=>{const{activities:e,viewSettings:t}=vt(),{selectedBUs:r}=Th(),{startDate:n,endDate:a}=Ah(),s=w.useMemo(()=>e.filter(p=>jo(p.dataDisparo,{start:n,end:a})),[e,n,a]),i=vve(s),[o,l]=w.useState(null),[c,u]=w.useState("score"),f=w.useMemo(()=>{const p=t.filtrosGlobais;return s.filter(m=>{const v=r.length===0||r.includes(m.bu),g=p.canais.length===0||p.canais.includes(m.canal),x=p.segmentos.length===0||p.segmentos.includes(m.segmento),b=p.jornadas.length===0||p.jornadas.includes(m.jornada),y=p.parceiros.length===0||p.parceiros.includes(m.parceiro);return v&&g&&x&&b&&y}).length},[s,t.filtrosGlobais,r]),h=w.useMemo(()=>{const p=t.filtrosGlobais;return i.filter(v=>{const g=r.length===0||r.includes(v.combo.bu),x=p.canais.length===0||p.canais.includes(v.combo.canal),b=p.segmentos.length===0||p.segmentos.includes(v.combo.segmento),y=p.jornadas.length===0||v.sampleActivities.some(S=>p.jornadas.includes(S.jornada)),_=p.parceiros.length===0||v.sampleActivities.some(S=>p.parceiros.includes(S.parceiro));return g&&x&&b&&y&&_}).sort((v,g)=>{var x,b;switch(c){case"score":return g.score.finalScore-v.score.finalScore;case"cac":const y=v.metrics.avgCAC>0?v.metrics.avgCAC:999999,_=g.metrics.avgCAC>0?g.metrics.avgCAC:999999;return y-_;case"conversion":return g.metrics.avgConversion-v.metrics.avgConversion;case"volume":return g.metrics.totalVolume-v.metrics.totalVolume;case"recency":const S=((x=v.metrics.lastExecuted)==null?void 0:x.getTime())||0;return(((b=g.metrics.lastExecuted)==null?void 0:b.getTime())||0)-S;default:return 0}})},[i,t.filtrosGlobais,c,r]);return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Km,{className:"text-amber-400"}),"Orientador Estratgico"]}),d.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Recomendaes baseadas no histrico de ",f," campanhas."]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 p-1 rounded-lg border border-slate-800",children:[d.jsxs("span",{className:"text-xs text-slate-500 px-2 flex items-center gap-1",children:[d.jsx(ha,{size:12})," Ordenar:"]}),[{id:"score",label:"Score"},{id:"cac",label:"Menor CAC"},{id:"conversion",label:"Maior Conv."},{id:"volume",label:"Volume"},{id:"recency",label:"Recente"}].map(p=>d.jsxs("button",{onClick:()=>u(p.id),className:`px-3 py-1 text-xs font-medium rounded transition flex items-center gap-1 ${c===p.id?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[p.label,p.id==="score"&&d.jsx(Ls,{content:d.jsxs("div",{className:"w-48",children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-300 mb-2 border-b border-slate-700 pb-1",children:"Clculo do Score"}),d.jsxs("div",{className:"space-y-1 text-[10px] text-slate-400",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" CAC"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Converso"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Volume"}),d.jsx("span",{className:"text-slate-200",children:"20%"})]})]}),d.jsx("p",{className:"text-[9px] text-slate-500 mt-2 italic",children:"Score 100 = melhor combinao do perodo (Normalizado)"})]}),children:d.jsx(na,{size:12,className:c==="score"?"text-blue-200":"text-slate-500"})})]},p.id))]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-900 px-3 py-1.5 rounded border border-slate-800",children:[d.jsx(L0,{size:12}),"Filtros Globais Ativos"]})]})]}),h.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-slate-500",children:[d.jsx(Km,{size:48,className:"mb-4 opacity-20"}),d.jsx("p",{children:"Nenhuma recomendao encontrada com os filtros atuais."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto pb-4",children:h.map(p=>d.jsx(xve,{recommendation:p,onClick:()=>l(p)},p.id))}),o&&d.jsx(yve,{recommendation:o,onClose:()=>l(null)})]})},yE=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(null);return{parseB2CCSV:w.useCallback(s=>(t(!0),n(null),new Promise((i,o)=>{const l=new a_,c=new FileReader;c.onload=u=>{var p;const h={type:"PARSE_B2C_CSV",fileContent:(p=u.target)==null?void 0:p.result};l.postMessage(h)},c.onerror=u=>{n("Erro ao ler arquivo."),t(!1),l.terminate(),o(u)},l.onmessage=u=>{const{type:f}=u.data;if(f==="SUCCESS"||f==="SUCCESS_B2C"){const h=u.data.data,p=u.data.warnings||[];i({data:h,warnings:p})}else{const h=u.data.error||"Unknown Worker Error";n(h),o(new Error(h))}t(!1),l.terminate()},l.onerror=u=>{n("Erro no Worker: "+u.message),t(!1),l.terminate(),o(u)},c.readAsText(s)})),[]),isLoading:e,error:r}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var HL=1252,_ve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],bE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},wE=function(e){_ve.indexOf(e)!=-1&&(HL=bE[0]=e)};function kve(){wE(1252)}var vs=function(e){wE(e)};function KL(){vs(1200),kve()}function ZN(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function Sve(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function GL(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Wd=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?Sve(e.slice(2)):t==254&&r==255?GL(e.slice(2)):t==65279?e.slice(1):e},Pp=function(t){return String.fromCharCode(t)},JN=function(t){return String.fromCharCode(t)},f0,mo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function QN(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),s=r>>2,n=e.charCodeAt(c++),i=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=mo.charAt(s)+mo.charAt(i)+mo.charAt(o)+mo.charAt(l);return t}function Ca(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=mo.indexOf(e.charAt(c++)),i=mo.indexOf(e.charAt(c++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=mo.indexOf(e.charAt(c++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=mo.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Ke=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),cc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Lo(e){return Ke?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function eO(e){return Ke?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ps=function(t){return Ke?cc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function uc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function _E(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return _E(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var fo=Ke?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:cc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Eve(e){for(var t=[],r=0,n=e.length+250,a=Lo(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Lo(65535),n=65530)}return t.push(a.slice(0,r)),fo(t)}var Kn=/\u0000/g,Hd=/[\u0001-\u0006]/g;function gu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function gs(e,t){var r=""+e;return r.length>=t?r:sr("0",t-r.length)+r}function kE(e,t){var r=""+e;return r.length>=t?r:sr(" ",t-r.length)+r}function Zv(e,t){var r=""+e;return r.length>=t?r:r+sr(" ",t-r.length)}function Cve(e,t){var r=""+Math.round(e);return r.length>=t?r:sr("0",t-r.length)+r}function Tve(e,t){var r=""+e;return r.length>=t?r:sr("0",t-r.length)+r}var tO=Math.pow(2,32);function Pc(e,t){if(e>tO||e<-tO)return Cve(e,t);var r=Math.round(e);return Tve(r,t)}function Jv(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var rO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],y1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Ave(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Fe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},nO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},jve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qv(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*i+s,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=i)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function vo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=Ive(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var qL=new Date(1899,11,31,0,0,0),Pve=qL.getTime(),Nve=new Date(1900,2,1,0,0,0);function YL(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=Nve&&(r+=24*60*60*1e3),(r-(Pve+(e.getTimezoneOffset()-qL.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function SE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function Ove(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function Dve(e){var t=e<0?12:11,r=SE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function Mve(e){var t=SE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function h0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=Dve(e):t===10?r=e.toFixed(10).substr(0,12):r=Mve(e),SE(Ove(r.toUpperCase()))}function Jl(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):h0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ta(14,YL(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function Ive(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Rve(e,t,r,n){var a="",s=0,i=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return y1[r.m-1][1];case 5:return y1[r.m-1][0];default:return y1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return rO[r.q][0];default:return rO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?gs(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=gs(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?gs(l,c):"";return u}function go(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var XL=/%/g;function Fve(e,t,r){var n=t.replace(XL,""),a=t.length-n.length;return _i(e,n,r*Math.pow(10,2*a))+sr("%",a)}function Lve(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return _i(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZL(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZL(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JL=/# (\?+)( ?)\/( ?)(\d+)/;function $ve(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?sr(" ",e[1].length+1+e[4].length):kE(i,e[1].length)+e[2]+"/"+e[3]+gs(o,e[4].length))}function Bve(e,t,r){return r+(t===0?"":""+t)+sr(" ",e[1].length+2+e[4].length)}var QL=/^#*0*\.([0#]+)/,e$=/\).*[0#]/,t$=/\(###\) ###\\?-####/;function Ln(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function aO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function sO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function zve(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Uve(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ma(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ma("n",n,r):"("+Ma("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Lve(e,t,r);if(t.indexOf("%")!==-1)return Fve(e,t,r);if(t.indexOf("E")!==-1)return ZL(t,r);if(t.charCodeAt(0)===36)return"$"+Ma(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Pc(l,t.length);if(t.match(/^[#?]+$/))return a=Pc(r,0),a==="0"&&(a=""),a.length>t.length?a:Ln(t.substr(0,t.length-a.length))+a;if(s=t.match(JL))return $ve(s,l,c);if(t.match(/^#+0+$/))return c+Pc(l,t.length-t.indexOf("0"));if(s=t.match(QL))return a=aO(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ln(s[1])).replace(/\.$/,"."+Ln(s[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+sr("0",Ln(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+aO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+go(Pc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ma(e,t,-r):go(""+(Math.floor(r)+zve(r,s[1].length)))+"."+gs(sO(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ma(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=gu(Ma(e,t.replace(/[\\-]/g,""),r)),i=0,gu(gu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(t$))return a=Ma(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Qv(l,Math.pow(10,i)-1,!1),a=""+c,u=_i("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Zv(o[2],i),u.length<s[4].length&&(u=Ln(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Qv(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?kE(o[1],i)+s[2]+"/"+s[3]+Zv(o[2],i):sr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Pc(r,0),t.length<=a.length?a:Ln(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ln(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=sO(r,s[1].length),r<0?"-"+Ma(e,t,-r):go(Uve(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?gs(0,3-m.length):"")+m})+"."+gs(i,s[1].length);switch(t){case"###,##0.00":return Ma(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=go(Pc(l,0));return p!=="0"?c+p:"";case"###,###.00":return Ma(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ma(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Vve(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return _i(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Wve(e,t,r){var n=t.replace(XL,""),a=t.length-n.length;return _i(e,n,r*Math.pow(10,2*a))+sr("%",a)}function r$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+r$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function As(e,t,r){if(e.charCodeAt(0)===40&&!t.match(e$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?As("n",n,r):"("+As("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Vve(e,t,r);if(t.indexOf("%")!==-1)return Wve(e,t,r);if(t.indexOf("E")!==-1)return r$(t,r);if(t.charCodeAt(0)===36)return"$"+As(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+gs(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ln(t.substr(0,t.length-a.length))+a;if(s=t.match(JL))return Bve(s,l,c);if(t.match(/^#+0+$/))return c+gs(l,t.length-t.indexOf("0"));if(s=t.match(QL))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ln(s[1])).replace(/\.$/,"."+Ln(s[1])),a=a.replace(/\.(\d*)$/,function(m,v){return"."+v+sr("0",Ln(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+go(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+As(e,t,-r):go(""+r)+"."+sr("0",s[1].length);if(s=t.match(/^#,#*,#0/))return As(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=gu(As(e,t.replace(/[\\-]/g,""),r)),i=0,gu(gu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(t$))return a=As(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=Qv(l,Math.pow(10,i)-1,!1),a=""+c,u=_i("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=Zv(o[2],i),u.length<s[4].length&&(u=Ln(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=Qv(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?kE(o[1],i)+s[2]+"/"+s[3]+Zv(o[2],i):sr(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ln(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return Ln(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+As(e,t,-r):go(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?gs(0,3-m.length):"")+m})+"."+gs(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=go(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return As(e,t.slice(0,t.lastIndexOf(".")),r)+Ln(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function _i(e,t,r){return(r|0)===r?As(e,t,r):Ma(e,t,r)}function Hve(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var n$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function dc(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Jv(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(n$))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Kve(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",c,u,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!Jv(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=vo(t,r,e.charAt(i+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=vo(t,r),c==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=vo(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",i+=5,h="h"):(v.t="t",++i),c==null&&v.t==="T")return"";a[a.length]=v,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(n$)){if(c==null&&(c=vo(t,r),c==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",dc(e)||(a[a.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,x=0,b;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=Rve(a[i].t.charCodeAt(0),a[i].v,c,x),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=Jl(t,r);break}var S="",k,E;if(y.length>0){y.charCodeAt(0)==40?(k=t<0&&y.charCodeAt(0)===45?-t:t,E=_i("n",y,k)):(k=t<0&&n>1?-t:t,E=_i("n",y,k),k<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var T=a.length;if(C===a.length&&E.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=E.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=E.substr(0,_+1),_=-1),a[i].t="t",T=i);_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v)}else if(C!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(u+1);u>=0;--u)_>=0&&(a[i].v.charAt(u)==="0"||a[i].v.charAt(u)==="#")&&(S=E.charAt(_--)+S);a[i].v=S,a[i].t="t",T=i}for(_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v),_=E.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,u);u<a[i].v.length;++u)_<E.length&&(S+=E.charAt(_++));a[i].v=S,a[i].t="t",T=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=_i(a[i].t,a[i].v,k),a[i].t="t");var j="";for(i=0;i!==a.length;++i)a[i]!=null&&(j+=a[i].v);return j}var iO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function oO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Gve(e,t){var r=Hve(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(iO),o=r[1].match(iO);return oO(t,i)?[n,r[0]]:oO(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function Ta(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Fe)[e],n==null&&(n=r.table&&r.table[nO[e]]||Fe[nO[e]]),n==null&&(n=jve[e]||"General");break}if(Jv(n,0))return Jl(t,r);t instanceof Date&&(t=YL(t,r.date1904));var a=Gve(n,t);if(Jv(a[1]))return Jl(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Kve(a[1],t,r,a[0])}function ki(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Fe[r]==null){t<0&&(t=r);continue}if(Fe[r]==e){t=r;break}}t<0&&(t=391)}return Fe[t]=e,t}function qve(e){for(var t=0;t!=392;++t)e[t]!==void 0&&ki(e[t],t)}function a$(){Fe=Ave()}var s$={format:Ta,load:ki,_table:Fe,load_table:qve,parse_date_code:vo,is_date:dc,get_table:function(){return s$._table=Fe}},Yve={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},i$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Xve(e){var t=typeof e=="number"?Fe[e]:e;return t=t.replace(i$,"(\\d+)"),new RegExp("^"+t+"$")}function Zve(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(i$)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&s==-1?u:c+"T"+u}var Jve=function(){var e={};e.version="1.2.0";function t(){for(var E=0,C=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[T]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(E){var C=0,T=0,j=0,P=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(j=0;j!=256;++j)P[j]=E[j];for(j=0;j!=256;++j)for(T=E[j],C=256+j;C<4096;C+=256)T=P[C]=T>>>8^E[T&255];var A=[];for(j=1;j!=16;++j)A[j-1]=typeof Int32Array<"u"?P.subarray(j*256,j*256+256):P.slice(j*256,j*256+256);return A}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],m=a[9],v=a[10],g=a[11],x=a[12],b=a[13],y=a[14];function _(E,C){for(var T=C^-1,j=0,P=E.length;j<P;)T=T>>>8^r[(T^E.charCodeAt(j++))&255];return~T}function S(E,C){for(var T=C^-1,j=E.length-15,P=0;P<j;)T=y[E[P++]^T&255]^b[E[P++]^T>>8&255]^x[E[P++]^T>>16&255]^g[E[P++]^T>>>24]^v[E[P++]]^m[E[P++]]^p[E[P++]]^h[E[P++]]^f[E[P++]]^u[E[P++]]^c[E[P++]]^l[E[P++]]^o[E[P++]]^i[E[P++]]^s[E[P++]]^r[E[P++]];for(j+=15;P<j;)T=T>>>8^r[(T^E[P++])&255];return~T}function k(E,C){for(var T=C^-1,j=0,P=E.length,A=0,N=0;j<P;)A=E.charCodeAt(j++),A<128?T=T>>>8^r[(T^A)&255]:A<2048?(T=T>>>8^r[(T^(192|A>>6&31))&255],T=T>>>8^r[(T^(128|A&63))&255]):A>=55296&&A<57344?(A=(A&1023)+64,N=E.charCodeAt(j++)&1023,T=T>>>8^r[(T^(240|A>>8&7))&255],T=T>>>8^r[(T^(128|A>>2&63))&255],T=T>>>8^r[(T^(128|N>>6&15|(A&3)<<4))&255],T=T>>>8^r[(T^(128|N&63))&255]):(T=T>>>8^r[(T^(224|A>>12&15))&255],T=T>>>8^r[(T^(128|A>>6&63))&255],T=T>>>8^r[(T^(128|A&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Ye=function(){var t={};t.version="1.2.1";function r(O,U){for(var R=O.split("/"),L=U.split("/"),V=0,W=0,ne=Math.min(R.length,L.length);V<ne;++V){if(W=R[V].length-L[V].length)return W;if(R[V]!=L[V])return R[V]<L[V]?-1:1}return R.length-L.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(0,U+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(U+1)}function s(O,U){typeof U=="string"&&(U=new Date(U));var R=U.getHours();R=R<<6|U.getMinutes(),R=R<<5|U.getSeconds()>>>1,O.write_shift(2,R);var L=U.getFullYear()-1980;L=L<<4|U.getMonth()+1,L=L<<5|U.getDate(),O.write_shift(2,L)}function i(O){var U=O.read_shift(2)&65535,R=O.read_shift(2)&65535,L=new Date,V=R&31;R>>>=5;var W=R&15;R>>>=4,L.setMilliseconds(0),L.setFullYear(R+1980),L.setMonth(W-1),L.setDate(V);var ne=U&31;U>>>=5;var ie=U&63;return U>>>=6,L.setHours(U),L.setMinutes(ie),L.setSeconds(ne<<1),L}function o(O){un(O,0);for(var U={},R=0;O.l<=O.length-4;){var L=O.read_shift(2),V=O.read_shift(2),W=O.l+V,ne={};switch(L){case 21589:R=O.read_shift(1),R&1&&(ne.mtime=O.read_shift(4)),V>5&&(R&2&&(ne.atime=O.read_shift(4)),R&4&&(ne.ctime=O.read_shift(4))),ne.mtime&&(ne.mt=new Date(ne.mtime*1e3));break}O.l=W,U[L]=ne}return U}var l;function c(){return l||(l={})}function u(O,U){if(O[0]==80&&O[1]==75)return LC(O,U);if((O[0]|32)==109&&(O[1]|32)==105)return Xz(O,U);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var R=3,L=512,V=0,W=0,ne=0,ie=0,re=0,ae=[],se=O.slice(0,512);un(se,0);var he=f(se);switch(R=he[0],R){case 3:L=512;break;case 4:L=4096;break;case 0:if(he[1]==0)return LC(O,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+R)}L!==512&&(se=O.slice(0,L),un(se,28));var ge=O.slice(0,L);h(se,R);var Ee=se.read_shift(4,"i");if(R===3&&Ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ee);se.l+=4,ne=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),ie=se.read_shift(4,"i"),V=se.read_shift(4,"i"),re=se.read_shift(4,"i"),W=se.read_shift(4,"i");for(var ve=-1,be=0;be<109&&(ve=se.read_shift(4,"i"),!(ve<0));++be)ae[be]=ve;var $e=p(O,L);g(re,W,$e,L,ae);var zt=b($e,ne,ae,L);zt[ne].name="!Directory",V>0&&ie!==N&&(zt[ie].name="!MiniFAT"),zt[ae[0]].name="!FAT",zt.fat_addrs=ae,zt.ssz=L;var Ut={},yn=[],hd=[],pd=[];y(ne,zt,$e,yn,V,Ut,hd,ie),m(hd,pd,yn),yn.shift();var md={FileIndex:hd,FullPaths:pd};return U&&U.raw&&(md.raw={header:ge,sectors:$e}),md}function f(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(F,"Header Signature: "),O.l+=16;var U=O.read_shift(2,"u");return[O.read_shift(2,"u"),U]}function h(O,U){var R=9;switch(O.l+=2,R=O.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+R);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+R);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+R)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,U){for(var R=Math.ceil(O.length/U)-1,L=[],V=1;V<R;++V)L[V-1]=O.slice(V*U,(V+1)*U);return L[R-1]=O.slice(R*U),L}function m(O,U,R){for(var L=0,V=0,W=0,ne=0,ie=0,re=R.length,ae=[],se=[];L<re;++L)ae[L]=se[L]=L,U[L]=R[L];for(;ie<se.length;++ie)L=se[ie],V=O[L].L,W=O[L].R,ne=O[L].C,ae[L]===L&&(V!==-1&&ae[V]!==V&&(ae[L]=ae[V]),W!==-1&&ae[W]!==W&&(ae[L]=ae[W])),ne!==-1&&(ae[ne]=L),V!==-1&&L!=ae[L]&&(ae[V]=ae[L],se.lastIndexOf(V)<ie&&se.push(V)),W!==-1&&L!=ae[L]&&(ae[W]=ae[L],se.lastIndexOf(W)<ie&&se.push(W));for(L=1;L<re;++L)ae[L]===L&&(W!==-1&&ae[W]!==W?ae[L]=ae[W]:V!==-1&&ae[V]!==V&&(ae[L]=ae[V]));for(L=1;L<re;++L)if(O[L].type!==0){if(ie=L,ie!=ae[ie])do ie=ae[ie],U[L]=U[ie]+"/"+U[L];while(ie!==0&&ae[ie]!==-1&&ie!=ae[ie]);ae[L]=-1}for(U[0]+="/",L=1;L<re;++L)O[L].type!==2&&(U[L]+="/")}function v(O,U,R){for(var L=O.start,V=O.size,W=[],ne=L;R&&V>0&&ne>=0;)W.push(U.slice(ne*A,ne*A+A)),V-=A,ne=vl(R,ne*4);return W.length===0?Or(0):fo(W).slice(0,O.size)}function g(O,U,R,L,V){var W=N;if(O===N){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var ne=R[O],ie=(L>>>2)-1;if(!ne)return;for(var re=0;re<ie&&(W=vl(ne,re*4))!==N;++re)V.push(W);g(vl(ne,L-4),U-1,R,L,V)}}function x(O,U,R,L,V){var W=[],ne=[];V||(V=[]);var ie=L-1,re=0,ae=0;for(re=U;re>=0;){V[re]=!0,W[W.length]=re,ne.push(O[re]);var se=R[Math.floor(re*4/L)];if(ae=re*4&ie,L<4+ae)throw new Error("FAT boundary crossed: "+re+" 4 "+L);if(!O[se])break;re=vl(O[se],ae)}return{nodes:W,data:gO([ne])}}function b(O,U,R,L){var V=O.length,W=[],ne=[],ie=[],re=[],ae=L-1,se=0,he=0,ge=0,Ee=0;for(se=0;se<V;++se)if(ie=[],ge=se+U,ge>=V&&(ge-=V),!ne[ge]){re=[];var ve=[];for(he=ge;he>=0;){ve[he]=!0,ne[he]=!0,ie[ie.length]=he,re.push(O[he]);var be=R[Math.floor(he*4/L)];if(Ee=he*4&ae,L<4+Ee)throw new Error("FAT boundary crossed: "+he+" 4 "+L);if(!O[be]||(he=vl(O[be],Ee),ve[he]))break}W[ge]={nodes:ie,data:gO([re])}}return W}function y(O,U,R,L,V,W,ne,ie){for(var re=0,ae=L.length?2:0,se=U[O].data,he=0,ge=0,Ee;he<se.length;he+=128){var ve=se.slice(he,he+128);un(ve,64),ge=ve.read_shift(2),Ee=jE(ve,0,ge-ae),L.push(Ee);var be={name:Ee,type:ve.read_shift(1),color:ve.read_shift(1),L:ve.read_shift(4,"i"),R:ve.read_shift(4,"i"),C:ve.read_shift(4,"i"),clsid:ve.read_shift(16),state:ve.read_shift(4,"i"),start:0,size:0},$e=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);$e!==0&&(be.ct=_(ve,ve.l-8));var zt=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);zt!==0&&(be.mt=_(ve,ve.l-8)),be.start=ve.read_shift(4,"i"),be.size=ve.read_shift(4,"i"),be.size<0&&be.start<0&&(be.size=be.type=0,be.start=N,be.name=""),be.type===5?(re=be.start,V>0&&re!==N&&(U[re].name="!StreamData")):be.size>=4096?(be.storage="fat",U[be.start]===void 0&&(U[be.start]=x(R,be.start,U.fat_addrs,U.ssz)),U[be.start].name=be.name,be.content=U[be.start].data.slice(0,be.size)):(be.storage="minifat",be.size<0?be.size=0:re!==N&&be.start!==N&&U[re]&&(be.content=v(be,U[re].data,(U[ie]||{}).data))),be.content&&un(be.content,0),W[Ee]=be,ne.push(be)}}function _(O,U){return new Date((va(O,U+4)/1e7*Math.pow(2,32)+va(O,U)/1e7-11644473600)*1e3)}function S(O,U){return c(),u(l.readFileSync(O),U)}function k(O,U){var R=U&&U.type;switch(R||Ke&&Buffer.isBuffer(O)&&(R="buffer"),R||"base64"){case"file":return S(O,U);case"base64":return u(ps(Ca(O)),U);case"binary":return u(ps(O),U)}return u(O,U)}function E(O,U){var R=U||{},L=R.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=L+"/",O.FileIndex[0]={name:L,type:5}),R.CLSID&&(O.FileIndex[0].clsid=R.CLSID),C(O)}function C(O){var U="Sh33tJ5";if(!Ye.find(O,"/"+U)){var R=Or(4);R[0]=55,R[1]=R[3]=50,R[2]=54,O.FileIndex.push({name:U,type:2,content:R,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+U),T(O)}}function T(O,U){E(O);for(var R=!1,L=!1,V=O.FullPaths.length-1;V>=0;--V){var W=O.FileIndex[V];switch(W.type){case 0:L?R=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(W.R*W.L*W.C)&&(R=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(R=!0);break;default:R=!0;break}}if(!(!R&&!U)){var ne=new Date(1987,1,19),ie=0,re=Object.create?Object.create(null):{},ae=[];for(V=0;V<O.FullPaths.length;++V)re[O.FullPaths[V]]=!0,O.FileIndex[V].type!==0&&ae.push([O.FullPaths[V],O.FileIndex[V]]);for(V=0;V<ae.length;++V){var se=n(ae[V][0]);L=re[se],L||(ae.push([se,{name:a(se).replace("/",""),type:1,clsid:q,ct:ne,mt:ne,content:null}]),re[se]=!0)}for(ae.sort(function(Ee,ve){return r(Ee[0],ve[0])}),O.FullPaths=[],O.FileIndex=[],V=0;V<ae.length;++V)O.FullPaths[V]=ae[V][0],O.FileIndex[V]=ae[V][1];for(V=0;V<ae.length;++V){var he=O.FileIndex[V],ge=O.FullPaths[V];if(he.name=a(ge).replace("/",""),he.L=he.R=he.C=-(he.color=1),he.size=he.content?he.content.length:0,he.start=0,he.clsid=he.clsid||q,V===0)he.C=ae.length>1?1:-1,he.size=0,he.type=5;else if(ge.slice(-1)=="/"){for(ie=V+1;ie<ae.length&&n(O.FullPaths[ie])!=ge;++ie);for(he.C=ie>=ae.length?-1:ie,ie=V+1;ie<ae.length&&n(O.FullPaths[ie])!=n(ge);++ie);he.R=ie>=ae.length?-1:ie,he.type=1}else n(O.FullPaths[V+1]||"")==n(ge)&&(he.R=V+1),he.type=2}}}function j(O,U){var R=U||{};if(R.fileType=="mad")return Zz(O,R);switch(T(O),R.fileType){case"zip":return Wz(O,R)}var L=function(Ee){for(var ve=0,be=0,$e=0;$e<Ee.FileIndex.length;++$e){var zt=Ee.FileIndex[$e];if(zt.content){var Ut=zt.content.length;Ut>0&&(Ut<4096?ve+=Ut+63>>6:be+=Ut+511>>9)}}for(var yn=Ee.FullPaths.length+3>>2,hd=ve+7>>3,pd=ve+127>>7,md=hd+be+yn+pd,rl=md+127>>7,oy=rl<=109?0:Math.ceil((rl-109)/127);md+rl+oy+127>>7>rl;)oy=++rl<=109?0:Math.ceil((rl-109)/127);var ai=[1,oy,rl,pd,yn,be,ve,0];return Ee.FileIndex[0].size=ve<<6,ai[7]=(Ee.FileIndex[0].start=ai[0]+ai[1]+ai[2]+ai[3]+ai[4]+ai[5])+(ai[6]+7>>3),ai}(O),V=Or(L[7]<<9),W=0,ne=0;{for(W=0;W<8;++W)V.write_shift(1,B[W]);for(W=0;W<8;++W)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),W=0;W<3;++W)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,L[2]),V.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:N),V.write_shift(4,L[3]),V.write_shift(-4,L[1]?L[0]-1:N),V.write_shift(4,L[1]),W=0;W<109;++W)V.write_shift(-4,W<L[2]?L[1]+W:-1)}if(L[1])for(ne=0;ne<L[1];++ne){for(;W<236+ne*127;++W)V.write_shift(-4,W<L[2]?L[1]+W:-1);V.write_shift(-4,ne===L[1]-1?N:ne+1)}var ie=function(Ee){for(ne+=Ee;W<ne-1;++W)V.write_shift(-4,W+1);Ee&&(++W,V.write_shift(-4,N))};for(ne=W=0,ne+=L[1];W<ne;++W)V.write_shift(-4,K.DIFSECT);for(ne+=L[2];W<ne;++W)V.write_shift(-4,K.FATSECT);ie(L[3]),ie(L[4]);for(var re=0,ae=0,se=O.FileIndex[0];re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(ae<4096)&&(se.start=ne,ie(ae+511>>9)));for(ie(L[6]+7>>3);V.l&511;)V.write_shift(-4,K.ENDOFCHAIN);for(ne=W=0,re=0;re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(!ae||ae>=4096)&&(se.start=ne,ie(ae+63>>6)));for(;V.l&511;)V.write_shift(-4,K.ENDOFCHAIN);for(W=0;W<L[4]<<2;++W){var he=O.FullPaths[W];if(!he||he.length===0){for(re=0;re<17;++re)V.write_shift(4,0);for(re=0;re<3;++re)V.write_shift(4,-1);for(re=0;re<12;++re)V.write_shift(4,0);continue}se=O.FileIndex[W],W===0&&(se.start=se.size?se.start-1:N);var ge=W===0&&R.root||se.name;if(ae=2*(ge.length+1),V.write_shift(64,ge,"utf16le"),V.write_shift(2,ae),V.write_shift(1,se.type),V.write_shift(1,se.color),V.write_shift(-4,se.L),V.write_shift(-4,se.R),V.write_shift(-4,se.C),se.clsid)V.write_shift(16,se.clsid,"hex");else for(re=0;re<4;++re)V.write_shift(4,0);V.write_shift(4,se.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,se.start),V.write_shift(4,se.size),V.write_shift(4,0)}for(W=1;W<O.FileIndex.length;++W)if(se=O.FileIndex[W],se.size>=4096)if(V.l=se.start+1<<9,Ke&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+511&-512;else{for(re=0;re<se.size;++re)V.write_shift(1,se.content[re]);for(;re&511;++re)V.write_shift(1,0)}for(W=1;W<O.FileIndex.length;++W)if(se=O.FileIndex[W],se.size>0&&se.size<4096)if(Ke&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+63&-64;else{for(re=0;re<se.size;++re)V.write_shift(1,se.content[re]);for(;re&63;++re)V.write_shift(1,0)}if(Ke)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function P(O,U){var R=O.FullPaths.map(function(re){return re.toUpperCase()}),L=R.map(function(re){var ae=re.split("/");return ae[ae.length-(re.slice(-1)=="/"?2:1)]}),V=!1;U.charCodeAt(0)===47?(V=!0,U=R[0].slice(0,-1)+U):V=U.indexOf("/")!==-1;var W=U.toUpperCase(),ne=V===!0?R.indexOf(W):L.indexOf(W);if(ne!==-1)return O.FileIndex[ne];var ie=!W.match(Hd);for(W=W.replace(Kn,""),ie&&(W=W.replace(Hd,"!")),ne=0;ne<R.length;++ne)if((ie?R[ne].replace(Hd,"!"):R[ne]).replace(Kn,"")==W||(ie?L[ne].replace(Hd,"!"):L[ne]).replace(Kn,"")==W)return O.FileIndex[ne];return null}var A=64,N=-2,F="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:N,FREESECT:-1,HEADER_SIGNATURE:F,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(O,U,R){c();var L=j(O,R);l.writeFileSync(U,L)}function I(O){for(var U=new Array(O.length),R=0;R<O.length;++R)U[R]=String.fromCharCode(O[R]);return U.join("")}function J(O,U){var R=j(O,U);switch(U&&U.type||"buffer"){case"file":return c(),l.writeFileSync(U.filename,R),R;case"binary":return typeof R=="string"?R:I(R);case"base64":return QN(typeof R=="string"?R:I(R));case"buffer":if(Ke)return Buffer.isBuffer(R)?R:cc(R);case"array":return typeof R=="string"?ps(R):R}return R}var Z;function M(O){try{var U=O.InflateRaw,R=new U;if(R._processChunk(new Uint8Array([3,0]),R._finishFlushFlag),R.bytesRead)Z=O;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function z(O,U){if(!Z)return RC(O,U);var R=Z.InflateRaw,L=new R,V=L._processChunk(O.slice(O.l),L._finishFlushFlag);return O.l+=L.bytesRead,V}function G(O){return Z?Z.deflateRawSync(O):Ue(O)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(O){var U=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(U>>16|U>>8|U)&255}for(var Y=typeof Uint8Array<"u",te=Y?new Uint8Array(256):[],ue=0;ue<256;++ue)te[ue]=le(ue);function D(O,U){var R=te[O&255];return U<=8?R>>>8-U:(R=R<<8|te[O>>8&255],U<=16?R>>>16-U:(R=R<<8|te[O>>16&255],R>>>24-U))}function Ne(O,U){var R=U&7,L=U>>>3;return(O[L]|(R<=6?0:O[L+1]<<8))>>>R&3}function me(O,U){var R=U&7,L=U>>>3;return(O[L]|(R<=5?0:O[L+1]<<8))>>>R&7}function ye(O,U){var R=U&7,L=U>>>3;return(O[L]|(R<=4?0:O[L+1]<<8))>>>R&15}function fe(O,U){var R=U&7,L=U>>>3;return(O[L]|(R<=3?0:O[L+1]<<8))>>>R&31}function de(O,U){var R=U&7,L=U>>>3;return(O[L]|(R<=1?0:O[L+1]<<8))>>>R&127}function Oe(O,U,R){var L=U&7,V=U>>>3,W=(1<<R)-1,ne=O[V]>>>L;return R<8-L||(ne|=O[V+1]<<8-L,R<16-L)||(ne|=O[V+2]<<16-L,R<24-L)||(ne|=O[V+3]<<24-L),ne&W}function Ve(O,U,R){var L=U&7,V=U>>>3;return L<=5?O[V]|=(R&7)<<L:(O[V]|=R<<L&255,O[V+1]=(R&7)>>8-L),U+3}function at(O,U,R){var L=U&7,V=U>>>3;return R=(R&1)<<L,O[V]|=R,U+1}function gn(O,U,R){var L=U&7,V=U>>>3;return R<<=L,O[V]|=R&255,R>>>=8,O[V+1]=R,U+8}function xn(O,U,R){var L=U&7,V=U>>>3;return R<<=L,O[V]|=R&255,R>>>=8,O[V+1]=R&255,O[V+2]=R>>>8,U+16}function Jn(O,U){var R=O.length,L=2*R>U?2*R:U+5,V=0;if(R>=U)return O;if(Ke){var W=eO(L);if(O.copy)O.copy(W);else for(;V<O.length;++V)W[V]=O[V];return W}else if(Y){var ne=new Uint8Array(L);if(ne.set)ne.set(O);else for(;V<R;++V)ne[V]=O[V];return ne}return O.length=L,O}function st(O){for(var U=new Array(O),R=0;R<O;++R)U[R]=0;return U}function xr(O,U,R){var L=1,V=0,W=0,ne=0,ie=0,re=O.length,ae=Y?new Uint16Array(32):st(32);for(W=0;W<32;++W)ae[W]=0;for(W=re;W<R;++W)O[W]=0;re=O.length;var se=Y?new Uint16Array(re):st(re);for(W=0;W<re;++W)ae[V=O[W]]++,L<V&&(L=V),se[W]=0;for(ae[0]=0,W=1;W<=L;++W)ae[W+16]=ie=ie+ae[W-1]<<1;for(W=0;W<re;++W)ie=O[W],ie!=0&&(se[W]=ae[ie+16]++);var he=0;for(W=0;W<re;++W)if(he=O[W],he!=0)for(ie=D(se[W],L)>>L-he,ne=(1<<L+4-he)-1;ne>=0;--ne)U[ie|ne<<he]=he&15|W<<4;return L}var mt=Y?new Uint16Array(512):st(512),yr=Y?new Uint16Array(32):st(32);if(!Y){for(var Et=0;Et<512;++Et)mt[Et]=0;for(Et=0;Et<32;++Et)yr[Et]=0}(function(){for(var O=[],U=0;U<32;U++)O.push(5);xr(O,yr,32);var R=[];for(U=0;U<=143;U++)R.push(8);for(;U<=255;U++)R.push(9);for(;U<=279;U++)R.push(7);for(;U<=287;U++)R.push(8);xr(R,mt,288)})();var Qn=function(){for(var U=Y?new Uint8Array(32768):[],R=0,L=0;R<oe.length-1;++R)for(;L<oe[R+1];++L)U[L]=R;for(;L<32768;++L)U[L]=29;var V=Y?new Uint8Array(259):[];for(R=0,L=0;R<Q.length-1;++R)for(;L<Q[R+1];++L)V[L]=R;function W(ie,re){for(var ae=0;ae<ie.length;){var se=Math.min(65535,ie.length-ae),he=ae+se==ie.length;for(re.write_shift(1,+he),re.write_shift(2,se),re.write_shift(2,~se&65535);se-- >0;)re[re.l++]=ie[ae++]}return re.l}function ne(ie,re){for(var ae=0,se=0,he=Y?new Uint16Array(32768):[];se<ie.length;){var ge=Math.min(65535,ie.length-se);if(ge<10){for(ae=Ve(re,ae,+(se+ge==ie.length)),ae&7&&(ae+=8-(ae&7)),re.l=ae/8|0,re.write_shift(2,ge),re.write_shift(2,~ge&65535);ge-- >0;)re[re.l++]=ie[se++];ae=re.l*8;continue}ae=Ve(re,ae,+(se+ge==ie.length)+2);for(var Ee=0;ge-- >0;){var ve=ie[se];Ee=(Ee<<5^ve)&32767;var be=-1,$e=0;if((be=he[Ee])&&(be|=se&-32768,be>se&&(be-=32768),be<se))for(;ie[be+$e]==ie[se+$e]&&$e<250;)++$e;if($e>2){ve=V[$e],ve<=22?ae=gn(re,ae,te[ve+1]>>1)-1:(gn(re,ae,3),ae+=5,gn(re,ae,te[ve-23]>>5),ae+=3);var zt=ve<8?0:ve-4>>2;zt>0&&(xn(re,ae,$e-Q[ve]),ae+=zt),ve=U[se-be],ae=gn(re,ae,te[ve]>>3),ae-=3;var Ut=ve<4?0:ve-2>>1;Ut>0&&(xn(re,ae,se-be-oe[ve]),ae+=Ut);for(var yn=0;yn<$e;++yn)he[Ee]=se&32767,Ee=(Ee<<5^ie[se])&32767,++se;ge-=$e-1}else ve<=143?ve=ve+48:ae=at(re,ae,1),ae=gn(re,ae,te[ve]),he[Ee]=se&32767,++se}ae=gn(re,ae,0)-1}return re.l=(ae+7)/8|0,re.l}return function(re,ae){return re.length<8?W(re,ae):ne(re,ae)}}();function Ue(O){var U=Or(50+Math.floor(O.length*1.1)),R=Qn(O,U);return U.slice(0,R)}var ht=Y?new Uint16Array(32768):st(32768),Bt=Y?new Uint16Array(32768):st(32768),Ct=Y?new Uint16Array(128):st(128),Es=1,IC=1;function zz(O,U){var R=fe(O,U)+257;U+=5;var L=fe(O,U)+1;U+=5;var V=ye(O,U)+4;U+=4;for(var W=0,ne=Y?new Uint8Array(19):st(19),ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ae=Y?new Uint8Array(8):st(8),se=Y?new Uint8Array(8):st(8),he=ne.length,ge=0;ge<V;++ge)ne[H[ge]]=W=me(O,U),re<W&&(re=W),ae[W]++,U+=3;var Ee=0;for(ae[0]=0,ge=1;ge<=re;++ge)se[ge]=Ee=Ee+ae[ge-1]<<1;for(ge=0;ge<he;++ge)(Ee=ne[ge])!=0&&(ie[ge]=se[Ee]++);var ve=0;for(ge=0;ge<he;++ge)if(ve=ne[ge],ve!=0){Ee=te[ie[ge]]>>8-ve;for(var be=(1<<7-ve)-1;be>=0;--be)Ct[Ee|be<<ve]=ve&7|ge<<3}var $e=[];for(re=1;$e.length<R+L;)switch(Ee=Ct[de(O,U)],U+=Ee&7,Ee>>>=3){case 16:for(W=3+Ne(O,U),U+=2,Ee=$e[$e.length-1];W-- >0;)$e.push(Ee);break;case 17:for(W=3+me(O,U),U+=3;W-- >0;)$e.push(0);break;case 18:for(W=11+de(O,U),U+=7;W-- >0;)$e.push(0);break;default:$e.push(Ee),re<Ee&&(re=Ee);break}var zt=$e.slice(0,R),Ut=$e.slice(R);for(ge=R;ge<286;++ge)zt[ge]=0;for(ge=L;ge<30;++ge)Ut[ge]=0;return Es=xr(zt,ht,286),IC=xr(Ut,Bt,30),U}function Uz(O,U){if(O[0]==3&&!(O[1]&3))return[Lo(U),2];for(var R=0,L=0,V=eO(U||1<<18),W=0,ne=V.length>>>0,ie=0,re=0;!(L&1);){if(L=me(O,R),R+=3,L>>>1)L>>1==1?(ie=9,re=5):(R=zz(O,R),ie=Es,re=IC);else{R&7&&(R+=8-(R&7));var ae=O[R>>>3]|O[(R>>>3)+1]<<8;if(R+=32,ae>0)for(!U&&ne<W+ae&&(V=Jn(V,W+ae),ne=V.length);ae-- >0;)V[W++]=O[R>>>3],R+=8;continue}for(;;){!U&&ne<W+32767&&(V=Jn(V,W+32767),ne=V.length);var se=Oe(O,R,ie),he=L>>>1==1?mt[se]:ht[se];if(R+=he&15,he>>>=4,!(he>>>8&255))V[W++]=he;else{if(he==256)break;he-=257;var ge=he<8?0:he-4>>2;ge>5&&(ge=0);var Ee=W+Q[he];ge>0&&(Ee+=Oe(O,R,ge),R+=ge),se=Oe(O,R,re),he=L>>>1==1?yr[se]:Bt[se],R+=he&15,he>>>=4;var ve=he<4?0:he-2>>1,be=oe[he];for(ve>0&&(be+=Oe(O,R,ve),R+=ve),!U&&ne<Ee&&(V=Jn(V,Ee+100),ne=V.length);W<Ee;)V[W]=V[W-be],++W}}}return U?[V,R+7>>>3]:[V.slice(0,W),R+7>>>3]}function RC(O,U){var R=O.slice(O.l||0),L=Uz(R,U);return O.l+=L[1],L[0]}function FC(O,U){if(O)typeof console<"u"&&console.error(U);else throw new Error(U)}function LC(O,U){var R=O;un(R,0);var L=[],V=[],W={FileIndex:L,FullPaths:V};E(W,{root:U.root});for(var ne=R.length-4;(R[ne]!=80||R[ne+1]!=75||R[ne+2]!=5||R[ne+3]!=6)&&ne>=0;)--ne;R.l=ne+4,R.l+=4;var ie=R.read_shift(2);R.l+=6;var re=R.read_shift(4);for(R.l=re,ne=0;ne<ie;++ne){R.l+=20;var ae=R.read_shift(4),se=R.read_shift(4),he=R.read_shift(2),ge=R.read_shift(2),Ee=R.read_shift(2);R.l+=8;var ve=R.read_shift(4),be=o(R.slice(R.l+he,R.l+he+ge));R.l+=he+ge+Ee;var $e=R.l;R.l=ve+4,Vz(R,ae,se,W,be),R.l=$e}return W}function Vz(O,U,R,L,V){O.l+=2;var W=O.read_shift(2),ne=O.read_shift(2),ie=i(O);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var re=O.read_shift(4),ae=O.read_shift(4),se=O.read_shift(4),he=O.read_shift(2),ge=O.read_shift(2),Ee="",ve=0;ve<he;++ve)Ee+=String.fromCharCode(O[O.l++]);if(ge){var be=o(O.slice(O.l,O.l+ge));(be[21589]||{}).mt&&(ie=be[21589].mt),((V||{})[21589]||{}).mt&&(ie=V[21589].mt)}O.l+=ge;var $e=O.slice(O.l,O.l+ae);switch(ne){case 8:$e=z(O,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ne)}var zt=!1;W&8&&(re=O.read_shift(4),re==134695760&&(re=O.read_shift(4),zt=!0),ae=O.read_shift(4),se=O.read_shift(4)),ae!=U&&FC(zt,"Bad compressed size: "+U+" != "+ae),se!=R&&FC(zt,"Bad uncompressed size: "+R+" != "+se),iy(L,Ee,$e,{unsafe:!0,mt:ie})}function Wz(O,U){var R=U||{},L=[],V=[],W=Or(1),ne=R.compression?8:0,ie=0,re=0,ae=0,se=0,he=0,ge=O.FullPaths[0],Ee=ge,ve=O.FileIndex[0],be=[],$e=0;for(re=1;re<O.FullPaths.length;++re)if(Ee=O.FullPaths[re].slice(ge.length),ve=O.FileIndex[re],!(!ve.size||!ve.content||Ee=="Sh33tJ5")){var zt=se,Ut=Or(Ee.length);for(ae=0;ae<Ee.length;++ae)Ut.write_shift(1,Ee.charCodeAt(ae)&127);Ut=Ut.slice(0,Ut.l),be[he]=Jve.buf(ve.content,0);var yn=ve.content;ne==8&&(yn=G(yn)),W=Or(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,ie),W.write_shift(2,ne),ve.mt?s(W,ve.mt):W.write_shift(4,0),W.write_shift(-4,be[he]),W.write_shift(4,yn.length),W.write_shift(4,ve.content.length),W.write_shift(2,Ut.length),W.write_shift(2,0),se+=W.length,L.push(W),se+=Ut.length,L.push(Ut),se+=yn.length,L.push(yn),W=Or(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,ie),W.write_shift(2,ne),W.write_shift(4,0),W.write_shift(-4,be[he]),W.write_shift(4,yn.length),W.write_shift(4,ve.content.length),W.write_shift(2,Ut.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,zt),$e+=W.l,V.push(W),$e+=Ut.length,V.push(Ut),++he}return W=Or(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,he),W.write_shift(2,he),W.write_shift(4,$e),W.write_shift(4,se),W.write_shift(2,0),fo([fo(L),fo(V),W])}var $h={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Hz(O,U){if(O.ctype)return O.ctype;var R=O.name||"",L=R.match(/\.([^\.]+)$/);return L&&$h[L[1]]||U&&(L=(R=U).match(/[\.\\]([^\.\\])+$/),L&&$h[L[1]])?$h[L[1]]:"application/octet-stream"}function Kz(O){for(var U=QN(O),R=[],L=0;L<U.length;L+=76)R.push(U.slice(L,L+76));return R.join(`\r
`)+`\r
`}function Gz(O){var U=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ae){var se=ae.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var R=[],L=U.split(`\r
`),V=0;V<L.length;++V){var W=L[V];if(W.length==0){R.push("");continue}for(var ne=0;ne<W.length;){var ie=76,re=W.slice(ne,ne+ie);re.charAt(ie-1)=="="?ie--:re.charAt(ie-2)=="="?ie-=2:re.charAt(ie-3)=="="&&(ie-=3),re=W.slice(ne,ne+ie),ne+=ie,ne<W.length&&(re+="="),R.push(re)}}return R.join(`\r
`)}function qz(O){for(var U=[],R=0;R<O.length;++R){for(var L=O[R];R<=O.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+O[++R];U.push(L)}for(var V=0;V<U.length;++V)U[V]=U[V].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return ps(U.join(`\r
`))}function Yz(O,U,R){for(var L="",V="",W="",ne,ie=0;ie<10;++ie){var re=U[ie];if(!re||re.match(/^\s*$/))break;var ae=re.match(/^(.*?):\s*([^\s].*)$/);if(ae)switch(ae[1].toLowerCase()){case"content-location":L=ae[2].trim();break;case"content-type":W=ae[2].trim();break;case"content-transfer-encoding":V=ae[2].trim();break}}switch(++ie,V.toLowerCase()){case"base64":ne=ps(Ca(U.slice(ie).join("")));break;case"quoted-printable":ne=qz(U.slice(ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var se=iy(O,L.slice(R.length),ne,{unsafe:!0});W&&(se.ctype=W)}function Xz(O,U){if(I(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var R=U&&U.root||"",L=(Ke&&Buffer.isBuffer(O)?O.toString("binary"):I(O)).split(`\r
`),V=0,W="";for(V=0;V<L.length;++V)if(W=L[V],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),R||(R=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,R.length)!=R))for(;R.length>0&&(R=R.slice(0,R.length-1),R=R.slice(0,R.lastIndexOf("/")+1),W.slice(0,R.length)!=R););var ne=(L[1]||"").match(/boundary="(.*?)"/);if(!ne)throw new Error("MAD cannot find boundary");var ie="--"+(ne[1]||""),re=[],ae=[],se={FileIndex:re,FullPaths:ae};E(se);var he,ge=0;for(V=0;V<L.length;++V){var Ee=L[V];Ee!==ie&&Ee!==ie+"--"||(ge++&&Yz(se,L.slice(he,V),R),he=V)}return se}function Zz(O,U){var R=U||{},L=R.boundary||"SheetJS";L="------="+L;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],W=O.FullPaths[0],ne=W,ie=O.FileIndex[0],re=1;re<O.FullPaths.length;++re)if(ne=O.FullPaths[re].slice(W.length),ie=O.FileIndex[re],!(!ie.size||!ie.content||ne=="Sh33tJ5")){ne=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var ae=ie.content,se=Ke&&Buffer.isBuffer(ae)?ae.toString("binary"):I(ae),he=0,ge=Math.min(1024,se.length),Ee=0,ve=0;ve<=ge;++ve)(Ee=se.charCodeAt(ve))>=32&&Ee<128&&++he;var be=he>=ge*4/5;V.push(L),V.push("Content-Location: "+(R.root||"file:///C:/SheetJS/")+ne),V.push("Content-Transfer-Encoding: "+(be?"quoted-printable":"base64")),V.push("Content-Type: "+Hz(ie,ne)),V.push(""),V.push(be?Gz(se):Kz(se))}return V.push(L+`--\r
`),V.join(`\r
`)}function Jz(O){var U={};return E(U,O),U}function iy(O,U,R,L){var V=L&&L.unsafe;V||E(O);var W=!V&&Ye.find(O,U);if(!W){var ne=O.FullPaths[0];U.slice(0,ne.length)==ne?ne=U:(ne.slice(-1)!="/"&&(ne+="/"),ne=(ne+U).replace("//","/")),W={name:a(U),type:2},O.FileIndex.push(W),O.FullPaths.push(ne),V||Ye.utils.cfb_gc(O)}return W.content=R,W.size=R?R.length:0,L&&(L.CLSID&&(W.clsid=L.CLSID),L.mt&&(W.mt=L.mt),L.ct&&(W.ct=L.ct)),W}function Qz(O,U){E(O);var R=Ye.find(O,U);if(R){for(var L=0;L<O.FileIndex.length;++L)if(O.FileIndex[L]==R)return O.FileIndex.splice(L,1),O.FullPaths.splice(L,1),!0}return!1}function e7(O,U,R){E(O);var L=Ye.find(O,U);if(L){for(var V=0;V<O.FileIndex.length;++V)if(O.FileIndex[V]==L)return O.FileIndex[V].name=a(R),O.FullPaths[V]=R,!0}return!1}function t7(O){T(O,!0)}return t.find=P,t.read=k,t.parse=u,t.write=J,t.writeFile=X,t.utils={cfb_new:Jz,cfb_add:iy,cfb_del:Qz,cfb_mov:e7,cfb_gc:t7,ReadShift:cf,CheckField:A$,prep_blob:un,bconcat:fo,use_zlib:M,_deflateRaw:Ue,_inflateRaw:RC,consts:K},t}();function Qve(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Xs(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function EE(e){for(var t=[],r=Xs(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var eg=new Date(1899,11,30,0,0,0);function Yn(e,t){var r=e.getTime(),n=eg.getTime()+(e.getTimezoneOffset()-eg.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var o$=new Date,ege=eg.getTime()+(o$.getTimezoneOffset()-eg.getTimezoneOffset())*6e4,lO=o$.getTimezoneOffset();function Vx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+ege),t.getTimezoneOffset()!==lO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-lO)*6e4),t}function tge(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var cO=new Date("2017-02-19T19:06:09.000Z"),l$=isNaN(cO.getFullYear())?new Date("2/19/17"):cO,rge=l$.getFullYear()==2017;function tn(e,t){var r=new Date(e);if(rge)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(l$.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function Ql(e,t){if(Ke&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Gd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Gd(GL(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Gd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Gd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function hn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=hn(e[r]));return t}function sr(e,t){for(var r="";r.length<t;)r+=e;return r}function ws(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var nge=["january","february","march","april","may","june","july","august","september","october","november","december"];function zu(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&nge.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var age=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function c$(e){return e?e.content&&e.type?Ql(e.content,!0):e.data?Wd(e.data):e.asNodeBuffer&&Ke?Wd(e.asNodeBuffer().toString("binary")):e.asBinary?Wd(e.asBinary()):e._data&&e._data.getContent?Wd(Ql(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function u$(e){if(!e)return null;if(e.data)return ZN(e.data);if(e.asNodeBuffer&&Ke)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?ZN(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function sge(e){return e&&e.name.slice(-4)===".bin"?u$(e):c$(e)}function Fa(e,t){for(var r=e.FullPaths||Xs(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function CE(e,t){var r=Fa(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function wr(e,t,r){if(!r)return sge(CE(e,t));if(!t)return null;try{return wr(e,t)}catch{return null}}function xa(e,t,r){if(!r)return c$(CE(e,t));if(!t)return null;try{return xa(e,t)}catch{return null}}function ige(e,t,r){return u$(CE(e,t))}function uO(e){for(var t=e.FullPaths||Xs(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function oge(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ke?n=cc(r):n=Eve(r),Ye.utils.cfb_add(e,t,n)}Ye.utils.cfb_add(e,t,r)}else e.file(t,r)}function d$(e,t){switch(t.type){case"base64":return Ye.read(e,{type:"base64"});case"binary":return Ye.read(e,{type:"binary"});case"buffer":case"array":return Ye.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Kd(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var f$=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,lge=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,dO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,cge=/<[^>]*>/g,Rn=f$.match(dO)?dO:cge,uge=/<\w*:/,dge=/<(\/?)\w+:/;function Re(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(lge),o=0,l="",c=0,u="",f="",h=1;if(i)for(c=0;c!=i.length;++c){for(f=i[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function ri(e){return e.replace(dge,"<$1")}var h$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},fge=EE(h$),Qe=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return h$[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),hge=/[&<>'"]/g,pge=/[\u0000-\u001f]/g;function TE(e){var t=e+"";return t.replace(hge,function(r){return fge[r]}).replace(/\n/g,"<br/>").replace(pge,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var fO=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function It(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function b1(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function hO(e){var t=Lo(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function pO(e){return cc(e,"binary").toString("utf8")}var Np="foo bar baz",kt=Ke&&(pO(Np)==b1(Np)&&pO||hO(Np)==b1(Np)&&hO)||b1,Gd=Ke?function(e){return cc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},p0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),p$=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),mge=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),vge=/<\/?(?:vt:)?variant>/g,gge=/<(?:vt:)([^>]*)>([\s\S]*)</;function mO(e,t){var r=Re(e),n=e.match(mge(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(vge,"").match(gge);i&&a.push({v:kt(i[2]),t:i[1]})}),a}var xge=/(^\s|\s$|\n)/;function yge(e){return Xs(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function bge(e,t,r){return"<"+e+(r!=null?yge(r):"")+(t!=null?(t.match(xge)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function AE(e){if(Ke&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return kt(uc(_E(e)));throw new Error("Bad input format: expected Buffer or string")}var m0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,wge={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},_ge=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function kge(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function Sge(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var vO=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},gO=Ke?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:cc(t)})):vO(e)}:vO,xO=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(vi(e,a)));return n.join("").replace(Kn,"")},jE=Ke?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Kn,""):xO(e,t,r)}:xO,yO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},m$=Ke?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):yO(e,t,r)}:yO,bO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Rc(e,a)));return n.join("")},jh=Ke?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):bO(t,r,n)}:bO,v$=function(e,t){var r=va(e,t);return r>0?jh(e,t+4,t+4+r-1):""},g$=v$,x$=function(e,t){var r=va(e,t);return r>0?jh(e,t+4,t+4+r-1):""},y$=x$,b$=function(e,t){var r=2*va(e,t);return r>0?jh(e,t+4,t+4+r-1):""},w$=b$,_$=function(t,r){var n=va(t,r);return n>0?jE(t,r+4,r+4+n):""},k$=_$,S$=function(e,t){var r=va(e,t);return r>0?jh(e,t+4,t+4+r):""},E$=S$,C$=function(e,t){return kge(e,t)},tg=C$,T$=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ke&&(g$=function(t,r){if(!Buffer.isBuffer(t))return v$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},y$=function(t,r){if(!Buffer.isBuffer(t))return x$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},w$=function(t,r){if(!Buffer.isBuffer(t))return b$(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},k$=function(t,r){if(!Buffer.isBuffer(t))return _$(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},E$=function(t,r){if(!Buffer.isBuffer(t))return S$(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},tg=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):C$(t,r)},T$=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Rc=function(e,t){return e[t]},vi=function(e,t){return e[t+1]*256+e[t]},Ege=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},va=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},vl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Cge=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function cf(e,t){var r="",n,a,s=[],i,o,l,c;switch(t){case"dbcs":if(c=this.l,Ke&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(vi(this,c)),c+=2;e*=2;break;case"utf8":r=jh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=jE(this,this.l,this.l+e);break;case"wstr":return cf.call(this,e,"dbcs");case"lpstr-ansi":r=g$(this,this.l),e=4+va(this,this.l);break;case"lpstr-cp":r=y$(this,this.l),e=4+va(this,this.l);break;case"lpwstr":r=w$(this,this.l),e=4+2*va(this,this.l);break;case"lpp4":e=4+va(this,this.l),r=k$(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+va(this,this.l),r=E$(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=Rc(this,this.l+e++))!==0;)s.push(Pp(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=vi(this,this.l+e))!==0;)s.push(Pp(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=Rc(this,c),this.l=c+1,o=cf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Pp(vi(this,c))),c+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=Rc(this,c),this.l=c+1,o=cf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Pp(Rc(this,c))),c+=1}r=s.join("");break;default:switch(e){case 1:return n=Rc(this,this.l),this.l++,n;case 2:return n=(t==="i"?Ege:vi)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?vl:Cge)(this,this.l),this.l+=4,n):(a=va(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=tg(this,this.l):a=tg([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=m$(this,this.l,e);break}}return this.l+=e,r}var Tge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Age=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},jge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function Pge(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)jge(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Tge(this,t,this.l);break;case 8:if(n=8,r==="f"){Sge(this,t,this.l);break}case 16:break;case-4:n=4,Age(this,t,this.l);break}return this.l+=n,this}function A$(e,t){var r=m$(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function un(e,t){e.l=t,e.read_shift=cf,e.chk=A$,e.write_shift=Pge}function Mn(e,t){e.l+=t}function Or(e){var t=Lo(e);return un(t,0),t}function Xi(e,t,r){if(e){var n,a,s;un(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=og[o]||og[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var u=c.f&&c.f(e,s,r);if(e.l=l,t(u,c,o))return}}}function s_(){var e=[],t=Ke?256:2048,r=function(c){var u=Or(c);return un(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},i=function(){return a(),fo(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function uf(e,t,r){var n=hn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function wO(e,t,r){var n=hn(e);return n.s=uf(n.s,t.s,r),n.e=uf(n.e,t.s,r),n}function df(e,t){if(e.cRel&&e.c<0)for(e=hn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Le(e);return!e.cRel&&e.cRel!=null&&(r=Dge(r)),!e.rRel&&e.rRel!=null&&(r=Nge(r)),r}function w1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Fr(e.s.c)+":"+(e.e.cRel?"":"$")+Fr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+pn(e.s.r)+":"+(e.e.rRel?"":"$")+pn(e.e.r):df(e.s,t.biff)+":"+df(e.e,t.biff)}function PE(e){return parseInt(Oge(e),10)-1}function pn(e){return""+(e+1)}function Nge(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function Oge(e){return e.replace(/\$(\d+)$/,"$1")}function NE(e){for(var t=Mge(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Fr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Dge(e){return e.replace(/^([A-Z])/,"$$$1")}function Mge(e){return e.replace(/^\$([A-Z])/,"$1")}function Ige(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Un(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Le(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function id(e){var t=e.indexOf(":");return t==-1?{s:Un(e),e:Un(e)}:{s:Un(e.slice(0,t)),e:Un(e.slice(t+1))}}function Xe(e,t){return typeof t>"u"||typeof t=="number"?Xe(e.s,e.e):(typeof e!="string"&&(e=Le(e)),typeof t!="string"&&(t=Le(t)),e==t?e:e+":"+t)}function ur(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function _O(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ta(e.z,r?Yn(t):t)}catch{}try{return e.w=Ta((e.XF||{}).numFmtId||(r?14:0),r?Yn(t):t)}catch{return""+t}}function Bi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?pc[e.v]||e.v:t==null?_O(e,e.v):_O(e,t))}function Jo(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function j$(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Un(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=ur(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),i==-1&&(c.e.r=i=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=i+f,v=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Fe[14],n.cellDates?(p.t="d",p.w=Ta(p.z,Yn(p.v))):(p.t="n",p.v=Yn(p.v),p.w=Ta(p.z,p.v))):p.t="s";if(a)s[m]||(s[m]=[]),s[m][v]&&s[m][v].z&&(p.z=s[m][v].z),s[m][v]=p;else{var g=Le({c:v,r:m});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return c.s.c<1e7&&(s["!ref"]=Xe(c)),s}function od(e,t){return j$(null,e,t)}function Rge(e){return e.read_shift(4,"i")}function On(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Fge(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function OE(e,t){var r=e.l,n=e.read_shift(1),a=On(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(Fge(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var Lge=OE;function Qa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function fc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var $ge=On;function DE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Bge=On,i_=DE;function ME(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?tg([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):vl(t,0)>>2;return r?a/100:a}function P$(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var hc=P$;function An(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function zge(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Rl[a];c&&(t.rgb=g0(c));break;case 2:t.rgb=g0([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function Uge(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function N$(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Vge(e){return N$(e,1)}function Wge(e){return N$(e,2)}var IE=2,ta=3,Op=11,kO=12,rg=19,Dp=64,Hge=65,Kge=71,Gge=4108,qge=4126,qr=80,O$=81,Yge=[qr,O$],Xge={1:{n:"CodePage",t:IE},2:{n:"Category",t:qr},3:{n:"PresentationFormat",t:qr},4:{n:"ByteCount",t:ta},5:{n:"LineCount",t:ta},6:{n:"ParagraphCount",t:ta},7:{n:"SlideCount",t:ta},8:{n:"NoteCount",t:ta},9:{n:"HiddenCount",t:ta},10:{n:"MultimediaClipCount",t:ta},11:{n:"ScaleCrop",t:Op},12:{n:"HeadingPairs",t:Gge},13:{n:"TitlesOfParts",t:qge},14:{n:"Manager",t:qr},15:{n:"Company",t:qr},16:{n:"LinksUpToDate",t:Op},17:{n:"CharacterCount",t:ta},19:{n:"SharedDoc",t:Op},22:{n:"HyperlinksChanged",t:Op},23:{n:"AppVersion",t:ta,p:"version"},24:{n:"DigSig",t:Hge},26:{n:"ContentType",t:qr},27:{n:"ContentStatus",t:qr},28:{n:"Language",t:qr},29:{n:"Version",t:qr},255:{},2147483648:{n:"Locale",t:rg},2147483651:{n:"Behavior",t:rg},1919054434:{}},Zge={1:{n:"CodePage",t:IE},2:{n:"Title",t:qr},3:{n:"Subject",t:qr},4:{n:"Author",t:qr},5:{n:"Keywords",t:qr},6:{n:"Comments",t:qr},7:{n:"Template",t:qr},8:{n:"LastAuthor",t:qr},9:{n:"RevNumber",t:qr},10:{n:"EditTime",t:Dp},11:{n:"LastPrinted",t:Dp},12:{n:"CreatedDate",t:Dp},13:{n:"ModifiedDate",t:Dp},14:{n:"PageCount",t:ta},15:{n:"WordCount",t:ta},16:{n:"CharCount",t:ta},17:{n:"Thumbnail",t:Kge},18:{n:"Application",t:qr},19:{n:"DocSecurity",t:ta},255:{},2147483648:{n:"Locale",t:rg},2147483651:{n:"Behavior",t:rg},1919054434:{}},SO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Jge=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Qge(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var exe=Qge([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Rl=hn(exe),pc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},D$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},EO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function txe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function rxe(e){var t=txe();if(!e||!e.match)return t;var r={};if((e.match(Rn)||[]).forEach(function(n){var a=Re(n);switch(a[0].replace(uge,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[EO[a.ContentType]]!==void 0&&t[EO[a.ContentType]].push(a.PartName);break}}),t.xmlns!==wge.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var Qc={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function o_(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function ff(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Rn)||[]).forEach(function(a){var s=Re(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Kd(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var nxe="application/vnd.oasis.opendocument.spreadsheet";function axe(e,t){for(var r=AE(e),n,a;n=m0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Re(n[0],!1),a.path=="/"&&a.type!==nxe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var hf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],sxe=function(){for(var e=new Array(hf.length),t=0;t<hf.length;++t){var r=hf[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function M$(e){var t={};e=kt(e);for(var r=0;r<hf.length;++r){var n=hf[r],a=e.match(sxe[r]);a!=null&&a.length>0&&(t[n[1]]=Qe(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=tn(t[n[1]]))}return t}var ixe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function I$(e,t,r,n){var a=[];if(typeof e=="string")a=mO(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(u){return{v:u}}));var i=typeof t=="string"?mO(t,n).map(function(u){return u.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function oxe(e,t,r){var n={};return t||(t={}),e=kt(e),ixe.forEach(function(a){var s=(e.match(p0(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Qe(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&I$(n.HeadingPairs,n.TitlesOfParts,t,r),t}var lxe=/<[^>]+>[^<]*/g;function cxe(e,t){var r={},n="",a=e.match(lxe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Re(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qe(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Qe(u);break;case"bool":r[n]=It(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=tn(u);break;case"cy":case"error":r[n]=Qe(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var uxe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},_1;function dxe(e,t,r){_1||(_1=EE(uxe)),t=_1[t]||t,e[t]=r}function RE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function R$(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function F$(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function L$(e,t,r){return t===31?F$(e):R$(e,t,r)}function l_(e,t,r){return L$(e,t,r===!1?0:4)}function fxe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return L$(e,t,0)}function hxe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Kn,""),e.l-a&2&&(e.l+=2)}return r}function pxe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Kn,"");return r}function mxe(e){var t=e.l,r=ng(e,O$);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ng(e,ta);return[r,n]}function vxe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(mxe(e));return r}function CO(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Kn,"").replace(Hd,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function $$(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function gxe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ng(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==kO&&n!==t&&Yge.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===kO?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return R$(e,n,4).replace(Kn,"");case 31:return F$(e);case 64:return RE(e);case 65:return $$(e);case 71:return gxe(e);case 80:return l_(e,n,!s.raw).replace(Kn,"");case 81:return fxe(e,n).replace(Kn,"");case 4108:return vxe(e);case 4126:case 4127:return n==4127?hxe(e):pxe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function TO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var u=e.read_shift(4),f=e.read_shift(4);s[i]=[u,f+r]}s.sort(function(b,y){return b[1]-y[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[s[i][0]];if(h[m.n]=ng(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:vs(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(s[i][0]===1){if(o=h.CodePage=ng(e,IE),vs(o),l!==-1){var v=e.l;e.l=s[l][1],c=CO(e,o),e.l=v}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}c=CO(e,o)}else{var g=c[s[i][0]],x;switch(e[e.l]){case 65:e.l+=4,x=$$(e);break;case 30:e.l+=4,x=l_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=l_(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=dr(e,4);break;case 64:e.l+=4,x=tn(RE(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=x}}return e.l=r+n,h}function AO(e,t,r){var n=e.content;if(!n)return{};un(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ye.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=TO(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=TO(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[s,i],h}function Qi(e,t){return e.read_shift(t),null}function xxe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function dr(e,t){return e.read_shift(t)===1}function _r(e){return e.read_shift(2,"u")}function B$(e,t){return xxe(e,t,_r)}function yxe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Ph(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function bxe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function ec(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Nh(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):ec(e,n,r)}function mc(e,t,r){if(r.biff>5)return Nh(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function wxe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function _xe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Kn,"");return n&&(e.l+=24),a}function kxe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Kn,"");return r+i}function Sxe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return _xe(e);case"0303000000000000c000000000000046":return kxe(e);default:throw new Error("Unsupported Moniker "+r)}}function Mp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Kn,""):"";return r}function Exe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c="",u,f;a&16&&(s=Mp(e,r-e.l)),a&128&&(i=Mp(e,r-e.l)),(a&257)===257&&(o=Mp(e,r-e.l)),(a&257)===1&&(l=Sxe(e,r-e.l)),a&8&&(c=Mp(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=RE(e)),e.l=r;var h=i||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function z$(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function U$(e,t){var r=z$(e);return r[3]=0,r}function ni(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Cxe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Txe(e,t,r){return t===0?"":mc(e,t,r)}function Axe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function V$(e){var t=e.read_shift(2),r=ME(e);return[t,r]}function jxe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Ph(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Wx(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function W$(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var Pxe=W$;function H$(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function Nxe(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function Oxe(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function _n(e){e.l+=2,e.l+=e.read_shift(2)}var Dxe={0:_n,4:_n,5:_n,6:_n,7:Oxe,8:_n,9:_n,10:_n,11:_n,12:_n,13:Nxe,14:_n,15:_n,16:_n,17:_n,18:_n,19:_n,20:_n,21:H$};function Mxe(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(Dxe[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Ip(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function Ixe(e,t){return t===0||e.read_shift(2),1200}function Rxe(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=mc(e,0,r);return e.read_shift(t+n-e.l),a}function Fxe(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Lxe(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Ph(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function $xe(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(bxe(e));return s.Count=n,s.Unique=a,s}function Bxe(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function zxe(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Uxe(e){var t=Cxe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Vxe(e){return e.read_shift(2),e.read_shift(4)}function jO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function Wxe(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:c}}function Hxe(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Kxe(){}function Gxe(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Ph(e,0,r),n}function qxe(e){var t=ni(e);return t.isst=e.read_shift(4),t}function Yxe(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=ni(e);r.biff==2&&e.l++;var s=Nh(e,n-e.l,r);return a.val=s,a}function Xxe(e,t,r){var n=e.read_shift(2),a=mc(e,0,r);return[n,a]}var Zxe=mc;function PO(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function Jxe(e){var t=e.read_shift(2),r=e.read_shift(2),n=V$(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Qxe(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(V$(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function eye(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function tye(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Jge[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function rye(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=tye(e,t,n.fStyle,r),n}function nye(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function NO(e,t,r){var n=ni(e);(r.biff==2||t==9)&&++e.l;var a=yxe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function aye(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ni(e),a=An(e);return n.val=a,n}var OO=Txe;function sye(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=ec(e,s),o=[];n>e.l;)o.push(Nh(e));return[s,a,i,o]}function DO(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=jxe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var iye=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function MO(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=ec(e,i,r);a&32&&(c=iye[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:zwe(e,u,r,o);return{chKey:s,Name:c,itab:l,rgce:f}}function K$(e,t,r){if(r.biff<8)return oye(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Axe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function oye(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Ph(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function lye(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=ec(e,n,r),i=ec(e,a,r);return[s,i]}function cye(e,t,r){var n=W$(e);e.l++;var a=e.read_shift(1);return t-=8,[Uwe(e,t,r),a,n]}function IO(e,t,r){var n=Pxe(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,$we(e,t,r)]}function uye(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function dye(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=mc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function fye(e,t,r){return dye(e,t,r)}function hye(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Wx(e));return r}function pye(e,t,r){if(r&&r.biff<8)return vye(e,t,r);var n=H$(e),a=Mxe(e,t-22,n[1]);return{cmo:n,ft:a}}var mye={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function vye(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push((mye[n]||Mn)(e,t,r)),{cmo:[a,n,s],ft:i}}function gye(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=wxe(e,6,r);var o=e.read_shift(2);e.read_shift(2),_r(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=ec(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function xye(e,t){var r=Wx(e);e.l+=16;var n=Exe(e,t-24);return[r,n]}function yye(e,t){e.read_shift(2);var r=Wx(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Kn,""),[r,n]}function bye(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=SO[r]||r,r=e.read_shift(2),t[1]=SO[r]||r,t}function wye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(U$(e));return r}function _ye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(U$(e));return r}function kye(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function G$(e,t,r){if(!r.cellStyles)return Mn(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function Sye(e,t){var r={};return t<32||(e.l+=16,r.header=An(e),r.footer=An(e),e.l+=2),r}function Eye(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Cye=ni,Tye=B$,Aye=Nh;function jye(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function Pye(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ni(e);++e.l;var a=mc(e,t-7,r);return n.t="str",n.val=a,n}function Nye(e){var t=ni(e);++e.l;var r=An(e);return t.t="n",t.val=r,t}function Oye(e){var t=ni(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function Dye(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function Mye(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function Iye(e,t,r){var n=e.l+t,a=ni(e),s=e.read_shift(2),i=ec(e,s,r);return e.l=n,a.t="str",a.val=i,a}var Rye=[2,3,48,49,131,139,140,245],RO=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=EE({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Lo(1);switch(l.type){case"base64":u=ps(Ca(o));break;case"binary":u=ps(o);break;case"buffer":case"array":u=o;break}un(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=u.read_shift(2));var x=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var y=[],_={},S=Math.min(u.length,f==2?521:g-10-(p?264:0)),k=m?32:11;u.l<S&&u[u.l]!=13;)switch(_={},_.name=f0.utils.decode(b,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,_.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),f==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&y.push(_),f!=2&&(u.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var E=0,C=0;for(c[0]=[],C=0;C!=y.length;++C)c[0][C]=y[C].name;for(;v-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++E]=[],C=0,C=0;C!=y.length;++C){var T=u.slice(u.l,u.l+y[C].len);u.l+=y[C].len,un(T,0);var j=f0.utils.decode(b,T);switch(y[C].type){case"C":j.trim().length&&(c[E][C]=j.replace(/\s+$/,""));break;case"D":j.length===8?c[E][C]=new Date(+j.slice(0,4),+j.slice(4,6)-1,+j.slice(6,8)):c[E][C]=j;break;case"F":c[E][C]=parseFloat(j.trim());break;case"+":case"I":c[E][C]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(j.trim().toUpperCase()){case"Y":case"T":c[E][C]=!0;break;case"N":case"F":c[E][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+j+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][C]="##MEMO##"+(m?parseInt(j.trim(),10):T.read_shift(4));break;case"N":j=j.replace(/\u0000/g,"").trim(),j&&j!="."&&(c[E][C]=+j||0);break;case"@":c[E][C]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[E][C]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[E][C]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][C]=-T.read_shift(-8,"f");break;case"B":if(p&&y[C].len==8){c[E][C]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=od(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Jo(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var c=l||{};if(+c.codepage>=0&&vs(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=s_(),f=m_(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],v=0,g=0,x=0,b=1;for(v=0;v<h.length;++v){if(((m[v]||{}).DBF||{}).name){h[v]=m[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(g=0;g<1024;++g)if(h.indexOf(h[v]+"_"+g)==-1){h[v]+="_"+g;break}}}}var y=ur(o["!ref"]),_=[],S=[],k=[];for(v=0;v<=y.e.c-y.s.c;++v){var E="",C="",T=0,j=[];for(g=0;g<p.length;++g)p[g][v]!=null&&j.push(p[g][v]);if(j.length==0||h[v]==null){_[v]="?";continue}for(g=0;g<j.length;++g){switch(typeof j[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=j[g]instanceof Date?"D":"C";break;default:C="C"}T=Math.max(T,String(j[g]).length),E=E&&E!=C?"C":C}T>250&&(T=250),C=((m[v]||{}).DBF||{}).type,C=="C"&&m[v].DBF.len>T&&(T=m[v].DBF.len),E=="B"&&C=="N"&&(E="N",k[v]=m[v].DBF.dec,T=m[v].DBF.len),S[v]=E=="C"||C=="N"?T:s[E]||0,b+=S[v],_[v]=E}var P=u.next(32);for(P.write_shift(4,318902576),P.write_shift(4,p.length),P.write_shift(2,296+32*x),P.write_shift(2,b),v=0;v<4;++v)P.write_shift(4,0);for(P.write_shift(4,0|(+t[HL]||3)<<8),v=0,g=0;v<h.length;++v)if(h[v]!=null){var A=u.next(32),N=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);A.write_shift(1,N,"sbcs"),A.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),A.write_shift(4,g),A.write_shift(1,S[v]||s[_[v]]||0),A.write_shift(1,k[v]||0),A.write_shift(1,2),A.write_shift(4,0),A.write_shift(1,0),A.write_shift(4,0),A.write_shift(4,0),g+=S[v]||s[_[v]]||0}var F=u.next(264);for(F.write_shift(4,13),v=0;v<65;++v)F.write_shift(4,0);for(v=0;v<p.length;++v){var B=u.next(b);for(B.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":B.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":B.write_shift(8,p[v][g]||0,"f");break;case"N":var q="0";for(typeof p[v][g]=="number"&&(q=p[v][g].toFixed(k[g]||0)),x=0;x<S[g]-q.length;++x)B.write_shift(1,32);B.write_shift(1,q,"sbcs");break;case"D":p[v][g]?(B.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var K=String(p[v][g]!=null?p[v][g]:"").slice(0,S[g]);for(B.write_shift(1,K,"sbcs"),x=0;x<S[g]-K.length;++x)B.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),Fye=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Xs(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?JN(m):m},n=function(h,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?h:JN(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(Ca(h),p);case"binary":return s(h,p);case"buffer":return s(Ke&&Buffer.isBuffer(h)?h.toString("binary"):uc(h),p);case"array":return s(Ql(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var m=h.split(/[\n\r]+/),v=-1,g=-1,x=0,b=0,y=[],_=[],S=null,k={},E=[],C=[],T=[],j=0,P;for(+p.codepage>=0&&vs(+p.codepage);x!==m.length;++x){j=0;var A=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),N=A.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),F=N[0],B;if(A.length>0)switch(F){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":N[1].charAt(0)=="P"&&_.push(A.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,K=!1,X=!1,I=!1,J=-1,Z=-1;for(b=1;b<N.length;++b)switch(N[b].charAt(0)){case"A":break;case"X":g=parseInt(N[b].slice(1))-1,K=!0;break;case"Y":for(v=parseInt(N[b].slice(1))-1,K||(g=0),P=y.length;P<=v;++P)y[P]=[];break;case"K":B=N[b].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(ws(B))?isNaN(zu(B).getDate())||(B=tn(B)):(B=ws(B),S!==null&&dc(S)&&(B=Vx(B))),q=!0;break;case"E":I=!0;var M=xu(N[b].slice(1),{r:v,c:g});y[v][g]=[y[v][g],M];break;case"S":X=!0,y[v][g]=[y[v][g],"S5S"];break;case"G":break;case"R":J=parseInt(N[b].slice(1))-1;break;case"C":Z=parseInt(N[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}if(q&&(y[v][g]&&y[v][g].length==2?y[v][g][0]=B:y[v][g]=B,S=null),X){if(I)throw new Error("SYLK shared formula cannot have own formula");var z=J>-1&&y[J][Z];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");y[v][g][1]=nB(z[1],{r:v-J,c:g-Z})}break;case"F":var G=0;for(b=1;b<N.length;++b)switch(N[b].charAt(0)){case"X":g=parseInt(N[b].slice(1))-1,++G;break;case"Y":for(v=parseInt(N[b].slice(1))-1,P=y.length;P<=v;++P)y[P]=[];break;case"M":j=parseInt(N[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(N[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=N[b].slice(1).split(" "),P=parseInt(T[0],10);P<=parseInt(T[1],10);++P)j=parseInt(T[2],10),C[P-1]=j===0?{hidden:!0}:{wch:j},Uu(C[P-1]);break;case"C":g=parseInt(N[b].slice(1))-1,C[g]||(C[g]={});break;case"R":v=parseInt(N[b].slice(1))-1,E[v]||(E[v]={}),j>0?(E[v].hpt=j,E[v].hpx=x0(j)):j===0&&(E[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}G<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+A)}}return E.length>0&&(k["!rows"]=E),C.length>0&&(k["!cols"]=C),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,k]}function i(h,p){var m=a(h,p),v=m[0],g=m[1],x=od(v,p);return Xs(g).forEach(function(b){x[b]=g[b]}),x}function o(h,p){return Jo(i(h,p),p)}function l(h,p,m,v){var g="C;Y"+(m+1)+";X"+(v+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+kbe(h.f,{r:m,c:v}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(h,p){p.forEach(function(m,v){var g="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=sg(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=ig(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,p){p.forEach(function(m,v){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*eB(m.hpx)+";"),g.length>2&&h.push(g+"R"+(v+1))})}function f(h,p){var m=["ID;PWXL;N;E"],v=[],g=ur(h["!ref"]),x,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var S=g.s.c;S<=g.e.c;++S){var k=Le({r:_,c:S});x=b?(h[_]||[])[S]:h[k],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,_,S))}return m.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),Lye=function(){function e(s,i){switch(i.type){case"base64":return t(Ca(s),i);case"binary":return t(s,i);case"buffer":return t(Ke&&Buffer.isBuffer(s)?s.toString("binary"):uc(s),i);case"array":return t(Ql(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],m=h[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(ws(m))?isNaN(zu(m).getDate())?f[l][c]=m:f[l][c]=tn(m):f[l][c]=ws(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return od(e(s,i),i)}function n(s,i){return Jo(r(s,i),i)}var a=function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=ur(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){i(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var v=Le({r:p,c:m});if(f=h?(l[p]||[])[m]:l[v],!f){i(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(c,1,0,"="+f.f):i(c,1,0,""):i(c,0,g,"V");break;case"b":i(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ta(f.z||Fe[14],Yn(tn(f.v)))),i(c,0,f.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var x=`\r
`,b=c.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),$ye=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,v=-1,g=0,x=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=Un(b[1]);if(x.length<=y.r)for(m=x.length;m<=y.r;++m)x[m]||(x[m]=[]);switch(m=y.r,v=y.c,b[2]){case"t":x[m][v]=e(b[3]);break;case"v":x[m][v]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[m][v]=!!+b[4];break;default:x[m][v]=+b[4];break}b[2]=="vtf"&&(x[m][v]=[x[m][v],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return od(r(f,h),h)}function a(f,h){return Jo(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,v="",g=id(f["!ref"]),x=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(v=Le({r:b,c:y}),m=x?(f[b]||[])[y]:f[v],!(!m||m.v==null||m.t==="z")){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=Yn(tn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||Ta(m.z||Fe[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,i,o,i,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),v0=function(){function e(u,f,h,p,m){m.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(ws(u))?isNaN(zu(u).getDate())?f[h][p]=u:f[h][p]=tn(u):f[h][p]=ws(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var m=u.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var g=10,x=0,b=0;b<=v;++b)x=m[b].indexOf(" "),x==-1?x=m[b].length:x++,g=Math.max(g,x);for(b=0;b<=v;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,m=0;p<u.length;++p)(m=u.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[m.pop()[1]]||44}function s(u,f){var h=f||{},p="",m=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var g=0,x=0,b=0,y=0,_=0,S=p.charCodeAt(0),k=!1,E=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?Xve(h.dateNF):null;function j(){var P=u.slice(y,_),A={};if(P.charAt(0)=='"'&&P.charAt(P.length-1)=='"'&&(P=P.slice(1,-1).replace(/""/g,'"')),P.length===0)A.t="z";else if(h.raw)A.t="s",A.v=P;else if(P.trim().length===0)A.t="s",A.v=P;else if(P.charCodeAt(0)==61)P.charCodeAt(1)==34&&P.charCodeAt(P.length-1)==34?(A.t="s",A.v=P.slice(2,-1).replace(/""/g,'"')):Ebe(P)?(A.t="n",A.f=P.slice(1)):(A.t="s",A.v=P);else if(P=="TRUE")A.t="b",A.v=!0;else if(P=="FALSE")A.t="b",A.v=!1;else if(!isNaN(b=ws(P)))A.t="n",h.cellText!==!1&&(A.w=P),A.v=b;else if(!isNaN(zu(P).getDate())||T&&P.match(T)){A.z=h.dateNF||Fe[14];var N=0;T&&P.match(T)&&(P=Zve(P,h.dateNF,P.match(T)||[]),N=1),h.cellDates?(A.t="d",A.v=tn(P,N)):(A.t="n",A.v=Yn(tn(P,N))),h.cellText!==!1&&(A.w=Ta(A.z,A.v instanceof Date?Yn(A.v):A.v)),h.cellNF||delete A.z}else A.t="s",A.v=P;if(A.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][x]=A):m[Le({c:x,r:g})]=A),y=_+1,C=u.charCodeAt(y),v.e.c<x&&(v.e.c=x),v.e.r<g&&(v.e.r=g),E==S)++x;else if(x=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<u.length;++_)switch(E=u.charCodeAt(_)){case 34:C===34&&(k=!k);break;case S:case 10:case 13:if(!k&&j())break e;break}return _-y>0&&j(),m["!ref"]=Xe(v),m}function i(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):od(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:WE(u,f);switch(f.type){case"base64":h=Ca(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof f0<"u"||(h=Ke&&Buffer.isBuffer(u)?u.toString("binary"):uc(u));break;case"array":h=Ql(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=kt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=kt(h):f.type=="binary"&&typeof f0<"u",h.slice(0,19)=="socialcalc:version:"?$ye.to_sheet(f.type=="string"?h:kt(h),f):i(h,f)}function l(u,f){return Jo(o(u,f),f)}function c(u){for(var f=[],h=ur(u["!ref"]),p,m=Array.isArray(u),v=h.s.r;v<=h.e.r;++v){for(var g=[],x=h.s.c;x<=h.e.c;++x){var b=Le({r:v,c:x});if(p=m?(u[v]||[])[x]:u[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(Bi(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(x===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function Bye(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=Fye.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return v0.to_workbook(e,t)}}var pf=function(){function e(M,z,G){if(M){un(M,M.l||0);for(var H=G.Enum||J;M.l<M.length;){var Q=M.read_shift(2),oe=H[Q]||H[65535],le=M.read_shift(2),Y=M.l+le,te=oe.f&&oe.f(M,le,G);if(M.l=Y,z(te,oe,Q))return}}}function t(M,z){switch(z.type){case"base64":return r(ps(Ca(M)),z);case"binary":return r(ps(M),z);case"buffer":case"array":return r(M,z)}throw"Unsupported type "+z.type}function r(M,z){if(!M)return M;var G=z||{},H=G.dense?[]:{},Q="Sheet1",oe="",le=0,Y={},te=[],ue=[],D={s:{r:0,c:0},e:{r:0,c:0}},Ne=G.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)G.Enum=J,e(M,function(de,Oe,Ve){switch(Ve){case 0:G.vers=de,de>=4096&&(G.qpro=!0);break;case 6:D=de;break;case 204:de&&(oe=de);break;case 222:oe=de;break;case 15:case 51:G.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=G.dateNF||Fe[14],G.cellDates&&(de[1].t="d",de[1].v=Vx(de[1].v))),G.qpro&&de[3]>le&&(H["!ref"]=Xe(D),Y[Q]=H,te.push(Q),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=de[3],Q=oe||"Sheet"+(le+1),oe="");var at=G.dense?(H[de[0].r]||[])[de[0].c]:H[Le(de[0])];if(at){at.t=de[1].t,at.v=de[1].v,de[1].z!=null&&(at.z=de[1].z),de[1].f!=null&&(at.f=de[1].f);break}G.dense?(H[de[0].r]||(H[de[0].r]=[]),H[de[0].r][de[0].c]=de[1]):H[Le(de[0])]=de[1];break}},G);else if(M[2]==26||M[2]==14)G.Enum=Z,M[2]==14&&(G.qpro=!0,M.l=0),e(M,function(de,Oe,Ve){switch(Ve){case 204:Q=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>le&&(H["!ref"]=Xe(D),Y[Q]=H,te.push(Q),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=de[3],Q="Sheet"+(le+1)),Ne>0&&de[0].r>=Ne)break;G.dense?(H[de[0].r]||(H[de[0].r]=[]),H[de[0].r][de[0].c]=de[1]):H[Le(de[0])]=de[1],D.e.c<de[0].c&&(D.e.c=de[0].c),D.e.r<de[0].r&&(D.e.r=de[0].r);break;case 27:de[14e3]&&(ue[de[14e3][0]]=de[14e3][1]);break;case 1537:ue[de[0]]=de[1],de[0]==le&&(Q=de[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(H["!ref"]=Xe(D),Y[oe||Q]=H,te.push(oe||Q),!ue.length)return{SheetNames:te,Sheets:Y};for(var me={},ye=[],fe=0;fe<ue.length;++fe)Y[te[fe]]?(ye.push(ue[fe]||te[fe]),me[ue[fe]]=Y[ue[fe]]||Y[te[fe]]):(ye.push(ue[fe]),me[ue[fe]]={"!ref":"A1"});return{SheetNames:ye,Sheets:me}}function n(M,z){var G=z||{};if(+G.codepage>=0&&vs(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var H=s_(),Q=ur(M["!ref"]),oe=Array.isArray(M),le=[];ns(H,0,s(1030)),ns(H,6,l(Q));for(var Y=Math.min(Q.e.r,8191),te=Q.s.r;te<=Y;++te)for(var ue=pn(te),D=Q.s.c;D<=Q.e.c;++D){te===Q.s.r&&(le[D]=Fr(D));var Ne=le[D]+ue,me=oe?(M[te]||[])[D]:M[Ne];if(!(!me||me.t=="z"))if(me.t=="n")(me.v|0)==me.v&&me.v>=-32768&&me.v<=32767?ns(H,13,p(te,D,me.v)):ns(H,14,v(te,D,me.v));else{var ye=Bi(me);ns(H,15,f(te,D,ye.slice(0,239)))}}return ns(H,1),H.end()}function a(M,z){var G=z||{};if(+G.codepage>=0&&vs(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var H=s_();ns(H,0,i(M));for(var Q=0,oe=0;Q<M.SheetNames.length;++Q)(M.Sheets[M.SheetNames[Q]]||{})["!ref"]&&ns(H,27,I(M.SheetNames[Q],oe++));var le=0;for(Q=0;Q<M.SheetNames.length;++Q){var Y=M.Sheets[M.SheetNames[Q]];if(!(!Y||!Y["!ref"])){for(var te=ur(Y["!ref"]),ue=Array.isArray(Y),D=[],Ne=Math.min(te.e.r,8191),me=te.s.r;me<=Ne;++me)for(var ye=pn(me),fe=te.s.c;fe<=te.e.c;++fe){me===te.s.r&&(D[fe]=Fr(fe));var de=D[fe]+ye,Oe=ue?(Y[me]||[])[fe]:Y[de];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")ns(H,23,j(me,fe,le,Oe.v));else{var Ve=Bi(Oe);ns(H,22,E(me,fe,le,Ve.slice(0,239)))}}++le}}return ns(H,1),H.end()}function s(M){var z=Or(2);return z.write_shift(2,M),z}function i(M){var z=Or(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var G=0,H=0,Q=0,oe=0;oe<M.SheetNames.length;++oe){var le=M.SheetNames[oe],Y=M.Sheets[le];if(!(!Y||!Y["!ref"])){++Q;var te=id(Y["!ref"]);G<te.e.r&&(G=te.e.r),H<te.e.c&&(H=te.e.c)}}return G>8191&&(G=8191),z.write_shift(2,G),z.write_shift(1,Q),z.write_shift(1,H),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(M,z,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&G.qpro?(H.s.c=M.read_shift(1),M.l++,H.s.r=M.read_shift(2),H.e.c=M.read_shift(1),M.l++,H.e.r=M.read_shift(2),H):(H.s.c=M.read_shift(2),H.s.r=M.read_shift(2),z==12&&G.qpro&&(M.l+=2),H.e.c=M.read_shift(2),H.e.r=M.read_shift(2),z==12&&G.qpro&&(M.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(M){var z=Or(8);return z.write_shift(2,M.s.c),z.write_shift(2,M.s.r),z.write_shift(2,M.e.c),z.write_shift(2,M.e.r),z}function c(M,z,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(H[0].c=M.read_shift(1),H[3]=M.read_shift(1),H[0].r=M.read_shift(2),M.l+=2):(H[2]=M.read_shift(1),H[0].c=M.read_shift(2),H[0].r=M.read_shift(2)),H}function u(M,z,G){var H=M.l+z,Q=c(M,z,G);if(Q[1].t="s",G.vers==20768){M.l++;var oe=M.read_shift(1);return Q[1].v=M.read_shift(oe,"utf8"),Q}return G.qpro&&M.l++,Q[1].v=M.read_shift(H-M.l,"cstr"),Q}function f(M,z,G){var H=Or(7+G.length);H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(1,39);for(var Q=0;Q<H.length;++Q){var oe=G.charCodeAt(Q);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function h(M,z,G){var H=c(M,z,G);return H[1].v=M.read_shift(2,"i"),H}function p(M,z,G){var H=Or(7);return H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(2,G,"i"),H}function m(M,z,G){var H=c(M,z,G);return H[1].v=M.read_shift(8,"f"),H}function v(M,z,G){var H=Or(13);return H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(8,G,"f"),H}function g(M,z,G){var H=M.l+z,Q=c(M,z,G);if(Q[1].v=M.read_shift(8,"f"),G.qpro)M.l=H;else{var oe=M.read_shift(2);_(M.slice(M.l,M.l+oe),Q),M.l+=oe}return Q}function x(M,z,G){var H=z&32768;return z&=-32769,z=(H?M:0)+(z>=8192?z-16384:z),(H?"":"$")+(G?Fr(z):pn(z))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(M,z){un(M,0);for(var G=[],H=0,Q="",oe="",le="",Y="";M.l<M.length;){var te=M[M.l++];switch(te){case 0:G.push(M.read_shift(8,"f"));break;case 1:oe=x(z[0].c,M.read_shift(2),!0),Q=x(z[0].r,M.read_shift(2),!1),G.push(oe+Q);break;case 2:{var ue=x(z[0].c,M.read_shift(2),!0),D=x(z[0].r,M.read_shift(2),!1);oe=x(z[0].c,M.read_shift(2),!0),Q=x(z[0].r,M.read_shift(2),!1),G.push(ue+D+":"+oe+Q)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(M.read_shift(2));break;case 6:{for(var Ne="";te=M[M.l++];)Ne+=String.fromCharCode(te);G.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Y=G.pop(),le=G.pop(),G.push(["AND","OR"][te-20]+"("+le+","+Y+")");break;default:if(te<32&&y[te])Y=G.pop(),le=G.pop(),G.push(le+y[te]+Y);else if(b[te]){if(H=b[te][1],H==69&&(H=M[M.l++]),H>G.length){console.error("WK1 bad formula parse 0x"+te.toString(16)+":|"+G.join("|")+"|");return}var me=G.slice(-H);G.length-=H,G.push(b[te][0]+"("+me.join(",")+")")}else return te<=7?console.error("WK1 invalid opcode "+te.toString(16)):te<=24?console.error("WK1 unsupported op "+te.toString(16)):te<=30?console.error("WK1 invalid opcode "+te.toString(16)):te<=115?console.error("WK1 unsupported function opcode "+te.toString(16)):console.error("WK1 unrecognized opcode "+te.toString(16))}}G.length==1?z[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(M){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=M.read_shift(2),z[3]=M[M.l++],z[0].c=M[M.l++],z}function k(M,z){var G=S(M);return G[1].t="s",G[1].v=M.read_shift(z-4,"cstr"),G}function E(M,z,G,H){var Q=Or(6+H.length);Q.write_shift(2,M),Q.write_shift(1,G),Q.write_shift(1,z),Q.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var le=H.charCodeAt(oe);Q.write_shift(1,le>=128?95:le)}return Q.write_shift(1,0),Q}function C(M,z){var G=S(M);G[1].v=M.read_shift(2);var H=G[1].v>>1;if(G[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return G[1].v=H,G}function T(M,z){var G=S(M),H=M.read_shift(4),Q=M.read_shift(4),oe=M.read_shift(2);if(oe==65535)return H===0&&Q===3221225472?(G[1].t="e",G[1].v=15):H===0&&Q===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var le=oe&32768;return oe=(oe&32767)-16446,G[1].v=(1-le*2)*(Q*Math.pow(2,oe+32)+H*Math.pow(2,oe)),G}function j(M,z,G,H){var Q=Or(14);if(Q.write_shift(2,M),Q.write_shift(1,G),Q.write_shift(1,z),H==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,le=0,Y=0,te=0;return H<0&&(oe=1,H=-H),le=Math.log2(H)|0,H/=Math.pow(2,le-31),te=H>>>0,te&2147483648||(H/=2,++le,te=H>>>0),H-=te,te|=2147483648,te>>>=0,H*=Math.pow(2,32),Y=H>>>0,Q.write_shift(4,Y),Q.write_shift(4,te),le+=16383+(oe?32768:0),Q.write_shift(2,le),Q}function P(M,z){var G=T(M);return M.l+=z-14,G}function A(M,z){var G=S(M),H=M.read_shift(4);return G[1].v=H>>6,G}function N(M,z){var G=S(M),H=M.read_shift(8,"f");return G[1].v=H,G}function F(M,z){var G=N(M);return M.l+=z-10,G}function B(M,z){return M[M.l+z-1]==0?M.read_shift(z,"cstr"):""}function q(M,z){var G=M[M.l++];G>z-1&&(G=z-1);for(var H="";H.length<G;)H+=String.fromCharCode(M[M.l++]);return H}function K(M,z,G){if(!(!G.qpro||z<21)){var H=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var Q=M.read_shift(z-21,"cstr");return[H,Q]}}function X(M,z){for(var G={},H=M.l+z;M.l<H;){var Q=M.read_shift(2);if(Q==14e3){for(G[Q]=[0,""],G[Q][0]=M.read_shift(2);M[M.l];)G[Q][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return G}function I(M,z){var G=Or(5+M.length);G.write_shift(2,14e3),G.write_shift(2,z);for(var H=0;H<M.length;++H){var Q=M.charCodeAt(H);G[G.l++]=Q>127?95:Q}return G[G.l++]=0,G}var J={0:{n:"BOF",f:_r},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:P},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:A},38:{n:"??"},39:{n:"NUMBER27",f:N},40:{n:"FORMULA28",f:F},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function zye(e){var t={},r=e.match(Rn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Re(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=bE[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var Uye=function(){var e=p0("t"),t=p0("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Qe(i[1])},l=s.match(t);return l&&(o.s=zye(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),Vye=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),Wye=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Hye=/<(?:\w+:)?r>/,Kye=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function FE(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qe(kt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=kt(e),r&&(n.h=TE(n.t))):e.match(Hye)&&(n.r=kt(e),n.t=Qe(kt((e.replace(Kye,"").match(Wye)||[]).join("").replace(Rn,""))),r&&(n.h=Vye(Uye(n.r)))),n):{t:""}}var Gye=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,qye=/<(?:\w+:)?(?:si|sstItem)>/g,Yye=/<\/(?:\w+:)?(?:si|sstItem)>/;function Xye(e,t){var r=[],n="";if(!e)return r;var a=e.match(Gye);if(a){n=a[2].replace(qye,"").split(Yye);for(var s=0;s!=n.length;++s){var i=FE(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Re(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function Zye(e){return[e.read_shift(4),e.read_shift(4)]}function Jye(e,t){var r=[],n=!1;return Xi(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function q$(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function Si(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function Qye(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=Si(e,4),t.U=Si(e,4),t.W=Si(e,4),t}function e1e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function t1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e1e(e));return t}function r1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function n1e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=Si(e,4),t.U=Si(e,4),t.W=Si(e,4),t}function a1e(e){var t=n1e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Y$(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function X$(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function s1e(e){var t=Si(e);switch(t.Minor){case 2:return[t.Minor,i1e(e)];case 3:return[t.Minor,o1e()];case 4:return[t.Minor,l1e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function i1e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Y$(e,r),a=X$(e,e.length-e.l);return{t:"Std",h:n,v:a}}function o1e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function l1e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Rn,function(s){var i=Re(s);switch(ri(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function c1e(e,t){var r={},n=r.EncryptionVersionInfo=Si(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Y$(e,a),t-=a,r.EncryptionVerifier=X$(e,t),r}function u1e(e){var t={},r=t.EncryptionVersionInfo=Si(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function d1e(e){var t=0,r,n=q$(e),a=n.length+1,s,i,o,l,c;for(r=Lo(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^i;return t^52811}var Z$=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,c=i.length-1;c>=0;--c)for(var u=i[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(i){for(var o=q$(i),l=s(o),c=o.length,u=Lo(16),f=0;f!=16;++f)u[f]=0;var h,p,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),f1e=function(e,t,r,n,a){a||(a=t),n||(n=Z$(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},h1e=function(e){var t=0,r=Z$(e);return function(n){var a=f1e("",n,t,r);return t=a[1],a[0]}};function p1e(e,t,r,n){var a={key:_r(e),verificationBytes:_r(e)};return r.password&&(a.verifier=d1e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=h1e(r.password)),a}function m1e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=u1e(e):n.Data=c1e(e,t),n}function v1e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?m1e(e,t-2,n):p1e(e,r.biff>=8?t:t-2,r,n),n}var g1e=function(){function e(a,s){switch(s.type){case"base64":return t(Ca(a),s);case"binary":return t(a,s);case"buffer":return t(Ke&&Buffer.isBuffer(a)?a.toString("binary"):uc(a),s);case"array":return t(Ql(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,v=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var g=u.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var x={v:g,t:"s"};Array.isArray(o)?o[f][v]=x:o[Le({r:f,c:v})]=x}break}p=h.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Xe(c),o}function r(a,s){return Jo(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=ur(a["!ref"]),o,l=Array.isArray(a),c=i.s.r;c<=i.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var f=Le({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Bi(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function x1e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function g0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function y1e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,c=a+s;switch(l=i/(c>1?2-c:c),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,c/2]}function b1e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function ag(e,t){if(t===0)return e;var r=y1e(x1e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),g0(b1e(r))}var J$=6,w1e=15,_1e=1,Bn=J$;function sg(e){return Math.floor((e+Math.round(128/Bn)/256)*Bn)}function ig(e){return Math.floor((e-5)/Bn*100+.5)/100}function c_(e){return Math.round((e*Bn+5)/Bn*256)/256}function k1(e){return c_(ig(sg(e)))}function LE(e){var t=Math.abs(e-k1(e)),r=Bn;if(t>.005)for(Bn=_1e;Bn<w1e;++Bn)Math.abs(e-k1(e))<=t&&(t=Math.abs(e-k1(e)),r=Bn);Bn=r}function Uu(e){e.width?(e.wpx=sg(e.width),e.wch=ig(e.wpx),e.MDW=Bn):e.wpx?(e.wch=ig(e.wpx),e.width=c_(e.wch),e.MDW=Bn):typeof e.wch=="number"&&(e.width=c_(e.wch),e.wpx=sg(e.width),e.MDW=Bn),e.customWidth&&delete e.customWidth}var k1e=96,Q$=k1e;function eB(e){return e*96/Q$}function x0(e){return e*Q$/96}var S1e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function E1e(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Rn)||[]).forEach(function(i){var o=Re(i);switch(ri(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=It(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=It(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function C1e(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Rn)||[]).forEach(function(i){var o=Re(i);switch(ri(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function T1e(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Rn)||[]).forEach(function(i){var o=Re(i);switch(ri(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=kt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?It(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?It(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?It(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?It(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?It(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?It(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?It(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=bE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=It(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Rl[a.color.index];a.color.index==81&&(l=Rl[1]),l||(l=Rl[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=ag(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function A1e(e,t,r){t.NumberFmt=[];for(var n=Xs(Fe),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Fe[n[a]];var s=e[0].match(Rn);if(s)for(a=0;a<s.length;++a){var i=Re(s[a]);switch(ri(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qe(kt(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}ki(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var Rp=["numFmtId","fillId","fontId","borderId","xfId"],Fp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function j1e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Rn)||[]).forEach(function(s){var i=Re(s),o=0;switch(ri(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<Rp.length;++o)n[Rp[o]]&&(n[Rp[o]]=parseInt(n[Rp[o]],10));for(o=0;o<Fp.length;++o)n[Fp[o]]&&(n[Fp[o]]=It(n[Fp[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=It(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var P1e=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&A1e(f,u,c),(f=o.match(a))&&T1e(f,u,l,c),(f=o.match(n))&&C1e(f,u,l,c),(f=o.match(s))&&E1e(f,u,l,c),(f=o.match(r))&&j1e(f,u,c),u}}();function N1e(e,t){var r=e.read_shift(2),n=On(e);return[r,n]}function O1e(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Uge(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=zge(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=On(e),n}var D1e=Mn;function M1e(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var I1e=Mn;function R1e(e,t,r){var n={};n.NumberFmt=[];for(var a in Fe)n.NumberFmt[a]=Fe[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Xi(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],ki(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=ag(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(u),i=!0;break;case 38:s.pop(),i=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var F1e=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function L1e(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Rn)||[]).forEach(function(a){var s=Re(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[F1e.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function $1e(){}function B1e(){}var z1e=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,U1e=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,V1e=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function W1e(e,t,r){t.themeElements={};var n;[["clrScheme",z1e,L1e],["fontScheme",U1e,$1e],["fmtScheme",V1e,B1e]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var H1e=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function tB(e,t){(!e||e.length===0)&&(e=K1e());var r,n={};if(!(r=e.match(H1e)))throw new Error("themeElements not found in theme");return W1e(r[0],n,t),n.raw=e,n}function K1e(e,t){var r=[f$];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function G1e(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=d$(s,{type:"array"})}catch{return}var o=xa(i,"theme/theme/theme1.xml",!0);if(o)return tB(o,r)}}function q1e(e){return e.read_shift(4)}function Y1e(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=X1e(e,4);break;case 2:t.xclrValue=z$(e);break;case 3:t.xclrValue=q1e(e);break;case 4:e.l+=4;break}return e.l+=8,t}function X1e(e,t){return Mn(e,t)}function Z1e(e,t){return Mn(e,t)}function J1e(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Y1e(e);break;case 6:n[1]=Z1e(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Q1e(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(J1e(e,r-e.l));return{ixfe:n,ext:s}}function ebe(e,t){t.forEach(function(r){switch(r[0]){}})}function tbe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:On(e)}}function rbe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function nbe(e){return e.l+=4,e.read_shift(4)!=0}function abe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Xi(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!c.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function sbe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Rn,function(o){var l=Re(o);switch(ri(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(i=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function ibe(e){var t=[];if(!e)return t;var r=1;return(e.match(Rn)||[]).forEach(function(n){var a=Re(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function obe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Le(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function lbe(e,t,r){var n=[];return Xi(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function cbe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Xi(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function ube(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function FO(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Un(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=ur(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Xe(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var u={a:i.author,t:i.t,r:i.r,T:r};i.h&&(u.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}s.c.push(u)})}function dbe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Re(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Un(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&FE(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function fbe(e,t){var r=[],n=!1,a={},s=0;return e.replace(Rn,function(o,l){var c=Re(o);switch(ri(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function hbe(e,t){var r=[],n=!1;return e.replace(Rn,function(s){var i=Re(s);switch(ri(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function pbe(e){var t={};t.iauthor=e.read_shift(4);var r=hc(e);return t.rfx=r.s,t.ref=Le(r.s),e.l+=16,t}var mbe=On;function vbe(e,t){var r=[],n=[],a={},s=!1;return Xi(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var gbe="application/vnd.ms-office.vbaProject";function xbe(e){var t=Ye.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ye.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ye.write(t)}function ybe(){return{"!type":"dialog"}}function bbe(){return{"!type":"dialog"}}function wbe(){return{"!type":"macro"}}function _be(){return{"!type":"macro"}}var xu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Fr(u)+(l?"":"$")+pn(c)}return function(a,s){return t=s,a.replace(e,r)}}(),rB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,kbe=function(){return function(t,r){return t.replace(rB,function(n,a,s,i,o,l){var c=NE(i)-(s?0:r.c),u=PE(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function nB(e,t){return e.replace(rB,function(r,n,a,s,i,o){return n+(a=="$"?a+s:Fr(NE(s)+t.c))+(i=="$"?i+o:pn(PE(o)+t.r))})}function Sbe(e,t,r){var n=id(t),a=n.s,s=Un(r),i={r:s.r-a.r,c:s.c-a.c};return nB(e,i)}function Ebe(e){return e.length!=1}function LO(e){return e.replace(/_xlfn\./g,"")}function br(e){e.l+=1}function $o(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return sB(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=$o(e),o=$o(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function sB(e){var t=$o(e),r=$o(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Cbe(e,t,r){if(r.biff<8)return sB(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=$o(e),i=$o(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function iB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Tbe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=$o(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Tbe(e){var t=$o(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Abe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function jbe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return Pbe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function Pbe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function Nbe(e,t,r){var n=(e[e.l++]&96)>>5,a=aB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function Obe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=aB(e,s,r);return[n,a,i]}function Dbe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function Mbe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function Ibe(e,t,r){var n=(e[e.l++]&96)>>5,a=Cbe(e,t-1,r);return[n,a]}function Rbe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function $O(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Fbe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Lbe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function $be(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Bbe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function zbe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function oB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Ube(e){return e.read_shift(2),oB(e)}function Vbe(e){return e.read_shift(2),oB(e)}function Wbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=iB(e,0,r);return[n,a]}function Hbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=jbe(e,0,r);return[n,a]}function Kbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=iB(e,0,r);return[n,a,s]}function Gbe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[qwe[a],uB[a],n]}function qbe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Ybe(e);return[a,(s[0]===0?uB:Gwe)[s[1]]]}function Ybe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Xbe(e,t,r){e.l+=r&&r.biff==2?3:4}function Zbe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Jbe(e){return e.l++,pc[e.read_shift(1)]}function Qbe(e){return e.l++,e.read_shift(2)}function ewe(e){return e.l++,e.read_shift(1)!==0}function twe(e){return e.l++,An(e)}function rwe(e,t,r){return e.l++,Ph(e,t-1,r)}function nwe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=dr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=pc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=An(e);break;case 2:r[1]=mc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function awe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?hc:Wx)(e));return a}function swe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=nwe(e,r.biff);return i}function iwe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function owe(e,t,r){if(r.biff==5)return lwe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function lwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function cwe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function uwe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function dwe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function fwe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var hwe=Mn,pwe=Mn,mwe=Mn;function Oh(e,t,r){return e.l+=2,[Abe(e)]}function $E(e){return e.l+=6,[]}var vwe=Oh,gwe=$E,xwe=$E,ywe=Oh;function lB(e){return e.l+=2,[_r(e),e.read_shift(2)&1]}var bwe=Oh,wwe=lB,_we=$E,kwe=Oh,Swe=Oh,Ewe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Cwe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Ewe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Twe(e){return e.l+=2,[e.read_shift(4)]}function Awe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function jwe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function Pwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Nwe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function Owe(e){return e.l+=4,[0,0]}var BO={1:{n:"PtgExp",f:Zbe},2:{n:"PtgTbl",f:mwe},3:{n:"PtgAdd",f:br},4:{n:"PtgSub",f:br},5:{n:"PtgMul",f:br},6:{n:"PtgDiv",f:br},7:{n:"PtgPower",f:br},8:{n:"PtgConcat",f:br},9:{n:"PtgLt",f:br},10:{n:"PtgLe",f:br},11:{n:"PtgEq",f:br},12:{n:"PtgGe",f:br},13:{n:"PtgGt",f:br},14:{n:"PtgNe",f:br},15:{n:"PtgIsect",f:br},16:{n:"PtgUnion",f:br},17:{n:"PtgRange",f:br},18:{n:"PtgUplus",f:br},19:{n:"PtgUminus",f:br},20:{n:"PtgPercent",f:br},21:{n:"PtgParen",f:br},22:{n:"PtgMissArg",f:br},23:{n:"PtgStr",f:rwe},26:{n:"PtgSheet",f:Awe},27:{n:"PtgEndSheet",f:jwe},28:{n:"PtgErr",f:Jbe},29:{n:"PtgBool",f:ewe},30:{n:"PtgInt",f:Qbe},31:{n:"PtgNum",f:twe},32:{n:"PtgArray",f:Rbe},33:{n:"PtgFunc",f:Gbe},34:{n:"PtgFuncVar",f:qbe},35:{n:"PtgName",f:iwe},36:{n:"PtgRef",f:Wbe},37:{n:"PtgArea",f:Nbe},38:{n:"PtgMemArea",f:cwe},39:{n:"PtgMemErr",f:hwe},40:{n:"PtgMemNoMem",f:pwe},41:{n:"PtgMemFunc",f:uwe},42:{n:"PtgRefErr",f:dwe},43:{n:"PtgAreaErr",f:Dbe},44:{n:"PtgRefN",f:Hbe},45:{n:"PtgAreaN",f:Ibe},46:{n:"PtgMemAreaN",f:Pwe},47:{n:"PtgMemNoMemN",f:Nwe},57:{n:"PtgNameX",f:owe},58:{n:"PtgRef3d",f:Kbe},59:{n:"PtgArea3d",f:Obe},60:{n:"PtgRefErr3d",f:fwe},61:{n:"PtgAreaErr3d",f:Mbe},255:{}},Dwe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Mwe={1:{n:"PtgElfLel",f:lB},2:{n:"PtgElfRw",f:kwe},3:{n:"PtgElfCol",f:vwe},6:{n:"PtgElfRwV",f:Swe},7:{n:"PtgElfColV",f:ywe},10:{n:"PtgElfRadical",f:bwe},11:{n:"PtgElfRadicalS",f:_we},13:{n:"PtgElfColS",f:gwe},15:{n:"PtgElfColSV",f:xwe},16:{n:"PtgElfRadicalLel",f:wwe},25:{n:"PtgList",f:Cwe},29:{n:"PtgSxName",f:Twe},255:{}},Iwe={0:{n:"PtgAttrNoop",f:Owe},1:{n:"PtgAttrSemi",f:zbe},2:{n:"PtgAttrIf",f:$be},4:{n:"PtgAttrChoose",f:Fbe},8:{n:"PtgAttrGoto",f:Lbe},16:{n:"PtgAttrSum",f:Xbe},32:{n:"PtgAttrBaxcel",f:$O},33:{n:"PtgAttrBaxcel",f:$O},64:{n:"PtgAttrSpace",f:Ube},65:{n:"PtgAttrSpaceSemi",f:Vbe},128:{n:"PtgAttrIfError",f:Bbe},255:{}};function Dh(e,t,r,n){if(n.biff<8)return Mn(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=swe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=awe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(Mn(e,t)),s}function Mh(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=BO[s]||BO[Dwe[s]],(s===24||s===25)&&(a=(s===24?Mwe:Iwe)[e[e.l+1]]),!a||!a.f?Mn(e,t):i.push([a.n,a.f(e,t,r)]);return i}function Rwe(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Fwe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Lwe(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function cB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zO(e,t,r){var n=cB(e,t,r);return n=="#REF"?n:Lwe(n,r)}function Sn(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=sr(" ",e[0][v][1][1]);break;case 1:g=sr("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}o.push(c+Fwe[y[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=uf(y[1][1],i,a),o.push(df(u,s));break;case"PtgRefN":u=r?uf(y[1][1],r,a):y[1][1],o.push(df(u,s));break;case"PtgRef3d":f=y[1][1],u=uf(y[1][2],i,a),m=zO(n,f,a),o.push(m+"!"+df(u,s));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],S=y[1][1];_||(_=0),_&=127;var k=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=k.shift()),o.push(S+"("+k.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=wO(y[1][1],r?{s:r}:i,a),o.push(w1(p,a));break;case"PtgArea":p=wO(y[1][1],i,a),o.push(w1(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=zO(n,f,a),o.push(m+"!"+w1(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],C=E?E.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var j;if(a.biff<=5)T<0&&(T=-T),n[T]&&(j=n[T][h]);else{var P="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(P=n.SheetNames[n[T][h].itab-1]+"!"):P=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])P+=n[T][h].Name;else if(n[0]&&n[0][h])P+=n[0][h].Name;else{var A=(cB(n,T,a)||"").split(";;");A[h-1]?P=A[h-1]:P+="SH33TJSERRX"}o.push(P);break}j||(j={Name:"SH33TJSERRY"}),o.push(j.Name);break;case"PtgParen":var N="(",F=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:N=sr(" ",e[0][v][1][1])+N;break;case 3:N=sr("\r",e[0][v][1][1])+N;break;case 4:F=sr(" ",e[0][v][1][1])+F;break;case 5:F=sr("\r",e[0][v][1][1])+F;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(N+o.pop()+F);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[Le(u)]){var q=n.sharedf[Le(u)];o.push(Sn(q,i,B,n,a))}else{var K=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Sn(c[1],i,B,n,a)),K=!0;break}K||o.push(y[1])}break;case"PtgArray":o.push("{"+Rwe(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&X.indexOf(e[0][x][0])==-1){y=e[0][v];var I=!0;switch(y[1][0]){case 4:I=!1;case 0:g=sr(" ",y[1][1]);break;case 5:I=!1;case 1:g=sr("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((I?g:"")+o.pop()+(I?"":g)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function $we(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Mn(e,t-2)];var o=Mh(e,i,r);return t!==i+a&&(s=Dh(e,t-i-a,o,r)),e.l=n,[o,s]}function Bwe(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],Mn(e,t-2)];var o=Mh(e,i,r);return t!==i+a&&(s=Dh(e,t-i-a,o,r)),e.l=n,[o,s]}function zwe(e,t,r,n){var a=e.l+t,s=Mh(e,n,r),i;return a!==e.l&&(i=Dh(e,a-e.l,s,r)),[s,i]}function Uwe(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Mh(e,s,r);return s==65535?[[],Mn(e,t-2)]:(t!==s+2&&(a=Dh(e,n-s-2,i,r)),[i,a])}function Vwe(e){var t;if(vi(e,e.l+6)!==65535)return[An(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function S1(e,t,r){var n=e.l+t,a=ni(e);r.biff==2&&++e.l;var s=Vwe(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Bwe(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Hx(e,t,r){var n=e.read_shift(4),a=Mh(e,n,r),s=e.read_shift(4),i=s>0?Dh(e,s,a,r):null;return[a,i]}var Wwe=Hx,Kx=Hx,Hwe=Hx,Kwe=Hx,Gwe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},uB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},qwe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function UO(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function E1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var mf={},yu={};function vf(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function dB(e,t,r,n,a,s){try{n.cellNF&&(e.z=Fe[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=tn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Fe[t]==null&&ki(Yve[t]||"General",t),e.t==="e")e.w=e.w||pc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=h0(e.v);else if(e.t==="d"){var i=Yn(e.v);(i|0)===i?e.w=i.toString(10):e.w=h0(i)}else{if(e.v===void 0)return"";e.w=Jl(e.v,yu)}else e.t==="d"?e.w=Ta(t,Yn(e.v),yu):e.w=Ta(t,e.v,yu)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=ag(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=ag(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function Ywe(e,t){var r=ur(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Xe(r))}var Xwe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Zwe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Jwe=/<(?:\w:)?hyperlink [^>]*>/mg,Qwe=/"(\w*:\w*)"/,e_e=/<(?:\w:)?col\b[^>]*[\/]?>/g,t_e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,r_e=/<(?:\w:)?pageMargins[^>]*\/>/g,fB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,n_e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,a_e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function s_e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Zwe);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(fB);h?BE(h[0],o,a,r):(h=c.match(n_e))&&i_e(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(Qwe);m&&Ywe(o,m[1])}var v=c.match(a_e);v&&v[1]&&f_e(v[1],a);var g=[];if(t.cellStyles){var x=c.match(e_e);x&&c_e(g,x)}f&&h_e(f[1],o,t,l,s,i);var b=u.match(t_e);b&&(o["!autofilter"]=u_e(b[0]));var y=[],_=u.match(Xwe);if(_)for(p=0;p!=_.length;++p)y[p]=ur(_[p].slice(_[p].indexOf('"')+1));var S=u.match(Jwe);S&&o_e(o,S,n);var k=u.match(r_e);if(k&&(o["!margins"]=l_e(Re(k[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Xe(l)),t.sheetRows>0&&o["!ref"]){var E=ur(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xe(E))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function BE(e,t,r,n){var a=Re(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qe(kt(a.codeName)))}function i_e(e,t,r,n,a){BE(e.slice(0,e.indexOf(">")),r,n,a)}function o_e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Re(kt(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Qe(s.location))):(s.Target="#"+Qe(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=ur(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Le({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function l_e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function c_e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Re(t[n],!0);a.hidden&&(a.hidden=It(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,LE(a.width)),Uu(a);s<=i;)e[s++]=hn(a)}}function u_e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var d_e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function f_e(e,t){t.Views||(t.Views=[{}]),(e.match(d_e)||[]).forEach(function(r,n){var a=Re(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),It(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var h_e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=p0("v"),i=p0("f");return function(l,c,u,f,h,p){for(var m=0,v="",g=[],x=[],b=0,y=0,_=0,S="",k,E,C=0,T=0,j,P,A=0,N=0,F=Array.isArray(p.CellXf),B,q=[],K=[],X=Array.isArray(c),I=[],J={},Z=!1,M=!!u.sheetStubs,z=l.split(t),G=0,H=z.length;G!=H;++G){v=z[G].trim();var Q=v.length;if(Q!==0){var oe=0;e:for(m=0;m<Q;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(E=Re(v.slice(oe,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,T=-1,u.sheetRows&&u.sheetRows<C)continue;J={},Z=!1,E.ht&&(Z=!0,J.hpt=parseFloat(E.ht),J.hpx=x0(J.hpt)),E.hidden=="1"&&(Z=!0,J.hidden=!0),E.outlineLevel!=null&&(Z=!0,J.level=+E.outlineLevel),Z&&(I[C-1]=J)}break;case"<":oe=m;break}if(oe>=m)break;if(E=Re(v.slice(oe,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,T=-1,!(u.sheetRows&&u.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),u&&u.cellStyles&&(J={},Z=!1,E.ht&&(Z=!0,J.hpt=parseFloat(E.ht),J.hpx=x0(J.hpt)),E.hidden=="1"&&(Z=!0,J.hidden=!0),E.outlineLevel!=null&&(Z=!0,J.level=+E.outlineLevel),Z&&(I[C-1]=J)),g=v.slice(m).split(e);for(var le=0;le!=g.length&&g[le].trim().charAt(0)=="<";++le);for(g=g.slice(le),m=0;m!=g.length;++m)if(v=g[m].trim(),v.length!==0){if(x=v.match(r),b=m,y=0,_=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,x!=null&&x.length===2){for(b=0,S=x[1],y=0;y!=S.length&&!((_=S.charCodeAt(y)-64)<1||_>26);++y)b=26*b+_;--b,T=b}else++T;for(y=0;y!=v.length&&v.charCodeAt(y)!==62;++y);if(++y,E=Re(v.slice(0,y),!0),E.r||(E.r=Le({r:C-1,c:T})),S=v.slice(y),k={t:""},(x=S.match(s))!=null&&x[1]!==""&&(k.v=Qe(x[1])),u.cellFormula){if((x=S.match(i))!=null&&x[1]!==""){if(k.f=Qe(kt(x[1])).replace(/\r\n/g,`
`),u.xlfn||(k.f=LO(k.f)),x[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&q.push([ur(k.F),k.F]);else if(x[0].indexOf('t="shared"')>-1){P=Re(x[0]);var Y=Qe(kt(x[1]));u.xlfn||(Y=LO(Y)),K[parseInt(P.si,10)]=[P,Y,E.r]}}else(x=S.match(/<f[^>]*\/>/))&&(P=Re(x[0]),K[P.si]&&(k.f=Sbe(K[P.si][1],K[P.si][2],E.r)));var te=Un(E.r);for(y=0;y<q.length;++y)te.r>=q[y][0].s.r&&te.r<=q[y][0].e.r&&te.c>=q[y][0].s.c&&te.c<=q[y][0].e.c&&(k.F=q[y][1])}if(E.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(M)k.t="z";else continue;else k.t=E.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),k.t){case"n":if(k.v==""||k.v==null){if(!M)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!M)continue;k.t="z"}else j=mf[parseInt(k.v,10)],k.v=j.t,k.r=j.r,u.cellHTML&&(k.h=j.h);break;case"str":k.t="s",k.v=k.v!=null?kt(k.v):"",u.cellHTML&&(k.h=TE(k.v));break;case"inlineStr":x=S.match(n),k.t="s",x!=null&&(j=FE(x[1]))?(k.v=j.t,u.cellHTML&&(k.h=j.h)):k.v="";break;case"b":k.v=It(k.v);break;case"d":u.cellDates?k.v=tn(k.v,1):(k.v=Yn(tn(k.v,1)),k.t="n");break;case"e":(!u||u.cellText!==!1)&&(k.w=k.v),k.v=D$[k.v];break}if(A=N=0,B=null,F&&E.s!==void 0&&(B=p.CellXf[E.s],B!=null&&(B.numFmtId!=null&&(A=B.numFmtId),u.cellStyles&&B.fillId!=null&&(N=B.fillId))),dB(k,A,N,u,h,p),u.cellDates&&F&&k.t=="n"&&dc(Fe[A])&&(k.t="d",k.v=Vx(k.v)),E.cm&&u.xlmeta){var ue=(u.xlmeta.Cell||[])[+E.cm-1];ue&&ue.type=="XLDAPR"&&(k.D=!0)}if(X){var D=Un(E.r);c[D.r]||(c[D.r]=[]),c[D.r][D.c]=k}else c[E.r]=k}}}}I.length>0&&(c["!rows"]=I)}}();function p_e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var m_e=hc;function v_e(){}function g_e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=$ge(e),r}function x_e(e){var t=Qa(e);return[t]}function y_e(e){var t=fc(e);return[t]}function b_e(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"b"]}function w_e(e){var t=fc(e),r=e.read_shift(1);return[t,r,"b"]}function __e(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"e"]}function k_e(e){var t=fc(e),r=e.read_shift(1);return[t,r,"e"]}function S_e(e){var t=Qa(e),r=e.read_shift(4);return[t,r,"s"]}function E_e(e){var t=fc(e),r=e.read_shift(4);return[t,r,"s"]}function C_e(e){var t=Qa(e),r=An(e);return[t,r,"n"]}function hB(e){var t=fc(e),r=An(e);return[t,r,"n"]}function T_e(e){var t=Qa(e),r=ME(e);return[t,r,"n"]}function A_e(e){var t=fc(e),r=ME(e);return[t,r,"n"]}function j_e(e){var t=Qa(e),r=OE(e);return[t,r,"is"]}function P_e(e){var t=Qa(e),r=On(e);return[t,r,"str"]}function N_e(e){var t=fc(e),r=On(e);return[t,r,"str"]}function O_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=Kx(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function D_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=Kx(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function M_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=An(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=Kx(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function I_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=On(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=Kx(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}var R_e=hc;function F_e(e,t){var r=e.l+t,n=hc(e),a=DE(e),s=On(e),i=On(e),o=On(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function L_e(){}function $_e(e,t,r){var n=e.l+t,a=P$(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=Wwe(e,n-e.l,r);i[1]=o}else e.l=n;return i}function B_e(e,t,r){var n=e.l+t,a=hc(e),s=[a];if(r.cellFormula){var i=Kwe(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var z_e=["left","right","top","bottom","header","footer"];function U_e(e){var t={};return z_e.forEach(function(r){t[r]=An(e)}),t}function V_e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function W_e(){}function H_e(){}function K_e(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,v,g,x,b,y,_,S,k=[];o.biff=12,o["!row"]=0;var E=0,C=!1,T=[],j={},P=o.supbooks||a.supbooks||[[]];if(P.sharedf=j,P.arrayf=T,P.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=P,a.Names))for(var A=0;A<a.Names.length;++A)P[0][A+1]=a.Names[A];var N=[],F=[],B=!1;og[16]={n:"BrtShortReal",f:hB};var q;if(Xi(e,function(I,J,Z){if(!h)switch(Z){case 148:c=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),_=pn(g=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=x0(I.hpt)),F[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":y=mf[I[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=pc[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((v=i.CellXf[I[0].iStyleRef])&&dB(m,v.numFmtId,null,o,s,i),x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Fr(x)+_]=m,o.cellFormula){for(C=!1,E=0;E<T.length;++E){var M=T[E];p.r>=M[0].s.r&&p.r<=M[0].e.r&&x>=M[0].s.c&&x<=M[0].e.c&&(m.F=Xe(M[0]),C=!0)}!C&&I.length>3&&(m.f=I[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),o.cellDates&&v&&m.t=="n"&&dc(Fe[v.numFmtId])){var z=vo(m.v);z&&(m.t="d",m.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Fr(x)+_]=m,u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 176:k.push(I);break;case 49:q=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var G=n["!id"][I.relId];for(G?(I.Target=G.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=G):I.relId==""&&(I.Target="#"+I.loc),g=I.rfx.s.r;g<=I.rfx.e.r;++g)for(x=I.rfx.s.c;x<=I.rfx.e.c;++x)o.dense?(l[g]||(l[g]=[]),l[g][x]||(l[g][x]={t:"z",v:void 0}),l[g][x].l=I):(b=Le({c:x,r:g}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=I);break;case 426:if(!o.cellFormula)break;T.push(I),S=o.dense?l[g][x]:l[Fr(x)+_],S.f=Sn(I[1],u,{r:p.r,c:x},P,o),S.F=Xe(I[0]);break;case 427:if(!o.cellFormula)break;j[Le(I[0].s)]=I[1],S=o.dense?l[g][x]:l[Fr(x)+_],S.f=Sn(I[1],u,{r:p.r,c:x},P,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)N[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},B||(B=!0,LE(I.w/256)),Uu(N[I.e+1]);break;case 161:l["!autofilter"]={ref:Xe(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!J.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Xe(c||u)),o.sheetRows&&l["!ref"]){var K=ur(l["!ref"]);o.sheetRows<=+K.e.r&&(K.e.r=o.sheetRows-1,K.e.r>u.e.r&&(K.e.r=u.e.r),K.e.r<K.s.r&&(K.s.r=K.e.r),K.e.c>u.e.c&&(K.e.c=u.e.c),K.e.c<K.s.c&&(K.s.c=K.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Xe(K))}return k.length>0&&(l["!merges"]=k),N.length>0&&(l["!cols"]=N),F.length>0&&(l["!rows"]=F),l}function G_e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Qe((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function q_e(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=G_e(f);u.s.r=u.s.c=0,u.e.c=o,c=Fr(o),h[0].forEach(function(p,m){i[c+pn(m)]={t:"n",v:p,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(i["!ref"]=Xe(u)),i}function Y_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(fB);return o&&BE(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function X_e(e,t){e.l+=10;var r=On(e);return{name:r}}function Z_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Xi(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var pB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],J_e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Q_e=[],e2e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function VO(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=It(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function WO(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=It(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function mB(e){WO(e.WBProps,pB),WO(e.CalcPr,e2e),VO(e.WBView,J_e),VO(e.Sheets,Q_e),yu.date1904=It(e.WBProps.date1904)}var t2e="][*?/\\".split("");function r2e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return t2e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var n2e=/<\w+:workbook/;function a2e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Rn,function(l,c){var u=Re(l);switch(ri(u[0])){case"<?xml":break;case"<workbook":l.match(n2e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":pB.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=It(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=kt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Qe(kt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=kt(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),It(u.hidden||"0")&&(s.Hidden=!0),i=c+l.length;break;case"</definedName>":s.Ref=Qe(kt(e.slice(i,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),_ge.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return mB(r),r}function s2e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=i_(e),r.name=On(e),r}function i2e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?On(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function o2e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function l2e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=Bge(e),i=Hwe(e,0,r),o=DE(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function c2e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],og[16]={n:"BrtFRTArchID$",f:o2e},Xi(e,function(l,c,u){switch(u){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Sn(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,l]):i[0]=[u,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),mB(r),r.Names=s,r.supbooks=i,r}function u2e(e,t,r){return t.slice(-4)===".bin"?c2e(e,r):a2e(e,r)}function d2e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?K_e(e,n,r,a,s,i,o):s_e(e,n,r,a,s,i,o)}function f2e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Z_e(e,n,r,a,s):Y_e(e,n,r,a,s)}function h2e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?wbe():_be()}function p2e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?ybe():bbe()}function m2e(e,t,r,n){return t.slice(-4)===".bin"?R1e(e,r,n):P1e(e,r,n)}function v2e(e,t,r){return tB(e,r)}function g2e(e,t,r){return t.slice(-4)===".bin"?Jye(e,r):Xye(e,r)}function x2e(e,t,r){return t.slice(-4)===".bin"?vbe(e,r):dbe(e,r)}function y2e(e,t,r){return t.slice(-4)===".bin"?lbe(e):ibe(e)}function b2e(e,t,r,n){return r.slice(-4)===".bin"?cbe(e,t,r,n):void 0}function w2e(e,t,r){return t.slice(-4)===".bin"?abe(e,t,r):sbe(e,t,r)}var vB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function rs(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vB),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(gB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function _2e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vB),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(gB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var gf;function k2e(e,t){var r=gf[e]||Qe(e);return r==="General"?Jl(t):Ta(r,t)}function S2e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=It(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=tn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qe(t)]=a}function E2e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||pc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=h0(e.v):e.w=Jl(e.v):e.w=k2e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=gf[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&dc(n)){var a=vo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function C2e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=S1e[n.Pattern]||n.Pattern)}e[t.ID]=t}function T2e(e,t,r,n,a,s,i,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=It(e);break;case"String":n.t="s",n.r=fO(Qe(e)),n.v=e.indexOf("<")>-1?Qe(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(tn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qe(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=D$[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=fO(t||e));break}if(E2e(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=Qe(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=xu(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=xu("RC:RC",a):n.ArrayRange&&(n.F=xu(n.ArrayRange,a),l.push([ur(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function A2e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function C1(e,t){var r=t||{};a$();var n=Wd(AE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=kt(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=hn(r);return i.type="string",v0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(s=!0)}),s)return F2e(n,r);gf={"General Number":"General","General Date":Fe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Fe[15],"Short Date":Fe[14],"Long Time":Fe[19],"Medium Time":Fe[18],"Short Time":Fe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Fe[2],Standard:Fe[4],Percent:Fe[10],Scientific:Fe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",m={},v={},g=rs('<Data ss:Type="String">'),x=0,b=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},E="",C=0,T=[],j={},P={},A=0,N=[],F=[],B={},q=[],K,X=!1,I=[],J=[],Z={},M=0,z=0,G={Sheets:[],WBProps:{date1904:!1}},H={};m0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=m0.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?T2e(n.slice(x,o.index),E,g,l[l.length-1][0]=="comment"?B:m,{c:b,r:y},S,q[b],v,I,r):(E="",g=rs(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(F.length>0&&(m.c=F),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[Fr(b)+pn(y)]=m),m.HRef&&(m.l={Target:Qe(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(M=b+(parseInt(m.MergeAcross,10)|0),z=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:M,r:z}})),!r.sheetStubs)m.MergeAcross?b=M+1:++b;else if(m.MergeAcross||m.MergeDown){for(var oe=b;oe<=M;++oe)for(var le=y;le<=z;++le)(oe>b||le>y)&&(r.dense?(h[le]||(h[le]=[]),h[le][oe]={t:"z"}):h[Fr(oe)+pn(le)]={t:"z"});b=M+1}else++b;else m=_2e(o[0]),m.Index&&(b=+m.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),o[0].slice(-2)==="/>"&&++b,F=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),o[0].slice(-2)==="/>"&&(v=rs(o[0]),v.Index&&(y=+v.Index-1)),b=0,++y):(v=rs(o[0]),v.Index&&(y=+v.Index-1),Z={},(v.AutoFitHeight=="0"||v.Height)&&(Z.hpx=parseInt(v.Height,10),Z.hpt=eB(Z.hpx),J[y]=Z),v.Hidden=="1"&&(Z.hidden=!0,J[y]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Xe(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Xe(_))),T.length&&(h["!merges"]=T),q.length>0&&(h["!cols"]=q),J.length>0&&(h["!rows"]=J),u[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,l.push([o[3],!1]),c=rs(o[0]),p=Qe(c.Name),h=r.dense?[]:{},T=[],I=[],J=[],H={name:p,Hidden:0},G.Sheets.push(H);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),q=[],X=!1}break;case"style":o[1]==="/"?C2e(S,k,r):k=rs(o[0]);break;case"numberformat":k.nf=Qe(rs(o[0]).Format||"General"),gf[k.nf]&&(k.nf=gf[k.nf]);for(var Y=0;Y!=392&&Fe[Y]!=k.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(Fe[Y]==null){ki(k.nf,Y);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(K=rs(o[0]),K.Hidden&&(K.hidden=!0,delete K.Hidden),K.Width&&(K.wpx=parseInt(K.Width,10)),!X&&K.wpx>10){X=!0,Bn=J$;for(var te=0;te<q.length;++te)q[te]&&Uu(q[te])}X&&Uu(K),q[K.Index-1||q.length]=K;for(var ue=0;ue<+K.Span;++ue)q[q.length]=hn(K);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var D=Re(o[0]),Ne={Name:D.Name,Ref:xu(D.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Ne.Sheet=G.Sheets.length-1),G.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=rs(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?dxe(j,Q,n.slice(A,o.index)):A=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));A2e(B),F.push(B)}else l.push([o[3],!1]),c=rs(o[0]),B={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var me=rs(o[0]);h["!autofilter"]={ref:xu(me.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return XO(n,r);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(A,o.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else A=o.index+o[0].length;break;case"header":h["!margins"]||vf(h["!margins"]={},"xlml"),isNaN(+Re(o[0]).Margin)||(h["!margins"].header=+Re(o[0]).Margin);break;case"footer":h["!margins"]||vf(h["!margins"]={},"xlml"),isNaN(+Re(o[0]).Margin)||(h["!margins"].footer=+Re(o[0]).Margin);break;case"pagemargins":var fe=Re(o[0]);h["!margins"]||vf(h["!margins"]={},"xlml"),isNaN(+fe.Top)||(h["!margins"].top=+fe.Top),isNaN(+fe.Left)||(h["!margins"].left=+fe.Left),isNaN(+fe.Right)||(h["!margins"].right=+fe.Right),isNaN(+fe.Bottom)||(h["!margins"].bottom=+fe.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?S2e(P,Q,N,n.slice(A,o.index)):(N=o,A=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var de={};return!r.bookSheets&&!r.bookProps&&(de.Sheets=u),de.SheetNames=f,de.Workbook=G,de.SSF=hn(Fe),de.Props=j,de.Custprops=P,de}function u_(e,t){switch(VE(t=t||{}),t.type||"base64"){case"base64":return C1(Ca(e),t);case"binary":case"buffer":case"file":return C1(e,t);case"array":return C1(uc(e),t)}}function j2e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Vge(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Wge(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var P2e=[60,1084,2066,2165,2175];function N2e(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=vi(r,r.l),c=d_[l],u=0;c!=null&&P2e.indexOf(l)>-1;)s=vi(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),i.push(o),r.l+=4+s,c=d_[l=vi(r,r.l)];var f=fo(i);un(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ts(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Fe[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||pc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=h0(e.v):e.w=Jl(e.v):e.w=Ta(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&dc(Fe[n]||String(n))){var a=vo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function Lp(e,t,r){return{v:e,ixfe:t,t:r}}function O2e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],c="",u={},f,h="",p,m,v,g,x={},b=[],y,_,S=[],k=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},T=function(Ue){return Ue<8?Rl[Ue]:Ue<64&&k[Ue-8]||Rl[Ue]},j=function(Ue,ht,Bt){var Ct=ht.XF.data;if(!(!Ct||!Ct.patternType||!Bt||!Bt.cellStyles)){ht.s={},ht.s.patternType=Ct.patternType;var Es;(Es=g0(T(Ct.icvFore)))&&(ht.s.fgColor={rgb:Es}),(Es=g0(T(Ct.icvBack)))&&(ht.s.bgColor={rgb:Es})}},P=function(Ue,ht,Bt){if(!(Z>1)&&!(Bt.sheetRows&&Ue.r>=Bt.sheetRows)){if(Bt.cellStyles&&ht.XF&&ht.XF.data&&j(Ue,ht,Bt),delete ht.ixfe,delete ht.XF,f=Ue,h=Le(Ue),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ue.r<i.s.r&&(i.s.r=Ue.r),Ue.c<i.s.c&&(i.s.c=Ue.c),Ue.r+1>i.e.r&&(i.e.r=Ue.r+1),Ue.c+1>i.e.c&&(i.e.c=Ue.c+1),Bt.cellFormula&&ht.f){for(var Ct=0;Ct<b.length;++Ct)if(!(b[Ct][0].s.c>Ue.c||b[Ct][0].s.r>Ue.r)&&!(b[Ct][0].e.c<Ue.c||b[Ct][0].e.r<Ue.r)){ht.F=Xe(b[Ct][0]),(b[Ct][0].s.c!=Ue.c||b[Ct][0].s.r!=Ue.r)&&delete ht.f,ht.f&&(ht.f=""+Sn(b[Ct][1],i,Ue,I,A));break}}Bt.dense?(a[Ue.r]||(a[Ue.r]=[]),a[Ue.r][Ue.c]=ht):a[h]=ht}},A={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(A.password=t.password);var N,F=[],B=[],q=[],K=[],X=!1,I=[];I.SheetNames=A.snames,I.sharedf=A.sharedf,I.arrayf=A.arrayf,I.names=[],I.XTI=[];var J=0,Z=0,M=0,z=[],G=[],H;A.codepage=1200,vs(1200);for(var Q=!1;e.l<e.length-1;){var oe=e.l,le=e.read_shift(2);if(le===0&&J===10)break;var Y=e.l===e.length?0:e.read_shift(2),te=d_[le];if(te&&te.f){if(t.bookSheets&&J===133&&le!==133)break;if(J=le,te.r===2||te.r==12){var ue=e.read_shift(2);if(Y-=2,!A.enc&&ue!==le&&((ue&255)<<8|ue>>8)!==le)throw new Error("rt mismatch: "+ue+"!="+le);te.r==12&&(e.l+=10,Y-=10)}var D={};if(le===10?D=te.f(e,Y,A):D=N2e(le,te,e,Y,A),Z==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(le){case 34:r.opts.Date1904=E.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(A.enc||(e.l=0),A.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:A.lastuser=D;break;case 66:var Ne=Number(D);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}vs(A.codepage=Ne),Q=!0;break;case 317:A.rrtabid=D;break;case 25:A.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:A.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(D);break;case 430:I.push([D]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(D);break;case 24:case 536:H={Name:D.Name,Ref:Sn(D.rgce,i,null,I,A)},D.itab>0&&(H.Sheet=D.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(G[D.itab-1]={ref:Xe(D.rgce[0][0][1][2])});break;case 22:A.ExternCount=D;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(D),I.XTI=I.XTI.concat(D);break;case 2196:if(A.biff<8)break;H!=null&&(H.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&A.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,A.snames.push(D.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Xe(i),t.sheetRows&&t.sheetRows<=i.e.r){var me=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Xe(i),i.e.r=me}i.e.r++,i.e.c++}F.length>0&&(a["!merges"]=F),B.length>0&&(a["!objects"]=B),q.length>0&&(a["!cols"]=q),K.length>0&&(a["!rows"]=K),E.Sheets.push(C)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(A.biff===8&&(A.biff={9:2,521:3,1033:4}[le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),A.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(A.biff=5,Q=!0,vs(A.codepage=28591)),A.biff==8&&D.BIFFVer==0&&D.dt==16&&(A.biff=2),Z++)break;if(a=t.dense?[]:{},A.biff<8&&!Q&&(Q=!0,vs(A.codepage=t.codepage||1252)),A.biff<5||D.BIFFVer==0&&D.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:e.l-Y,name:c};s[ye.pos]=ye,A.snames.push(c)}else c=(s[oe]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),F=[],B=[],A.arrayf=b=[],q=[],K=[],X=!1,C={Hidden:(s[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Le({c:D.c,r:D.r})])&&++D.c,y={ixfe:D.ixfe,XF:S[D.ixfe]||{},v:D.val,t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 5:case 517:y={ixfe:D.ixfe,XF:S[D.ixfe],v:D.val,t:D.t},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 638:y={ixfe:D.ixfe,XF:S[D.ixfe],v:D.rknum,t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 189:for(var fe=D.c;fe<=D.C;++fe){var de=D.rkrec[fe-D.c][0];y={ixfe:de,XF:S[de],v:D.rkrec[fe-D.c][1],t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:fe,r:D.r},y,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(y=Lp(D.val,D.cell.ixfe,D.tt),y.XF=S[y.ixfe],t.cellFormula){var Oe=D.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Ve=Oe[0][0][1][0],at=Oe[0][0][1][1],gn=Le({r:Ve,c:at});x[gn]?y.f=""+Sn(D.formula,i,D.cell,I,A):y.F=((t.dense?(a[Ve]||[])[at]:a[gn])||{}).F}else y.f=""+Sn(D.formula,i,D.cell,I,A)}M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P(D.cell,y,t),o=D}break;case 7:case 519:if(o)o.val=D,y=Lp(D,o.cell.ixfe,"s"),y.XF=S[y.ixfe],t.cellFormula&&(y.f=""+Sn(o.formula,i,o.cell,I,A)),M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var xn=Le(D[0].s);if(p=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[xn],t.cellFormula&&p){if(!o||!xn||!p)break;p.f=""+Sn(D[1],i,D[0],I,A),p.F=Xe(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Le(o.cell)]=D[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Le(o.cell)],(p||{}).f=""+Sn(D[0],i,f,I,A)}}break;case 253:y=Lp(l[D.isst].t,D.ixfe,"s"),l[D.isst].h&&(y.h=l[D.isst].h),y.XF=S[y.ixfe],M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:D.ixfe,XF:S[D.ixfe],t:"z"},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t));break;case 190:if(t.sheetStubs)for(var Jn=D.c;Jn<=D.C;++Jn){var st=D.ixfe[Jn-D.c];y={ixfe:st,XF:S[st],t:"z"},M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:Jn,r:D.r},y,t)}break;case 214:case 516:case 4:y=Lp(D.val,D.ixfe,"s"),y.XF=S[y.ixfe],M>0&&(y.z=z[y.ixfe>>8&63]),Ts(y,t,r.opts.Date1904),P({c:D.c,r:D.r},y,t);break;case 0:case 512:Z===1&&(i=D);break;case 252:l=D;break;case 1054:if(A.biff==4){z[M++]=D[1];for(var xr=0;xr<M+163&&Fe[xr]!=D[1];++xr);xr>=163&&ki(D[1],M+163)}else ki(D[1],D[0]);break;case 30:{z[M++]=D;for(var mt=0;mt<M+163&&Fe[mt]!=D;++mt);mt>=163&&ki(D,M+163)}break;case 229:F=F.concat(D);break;case 93:B[D.cmo[0]]=A.lastobj=D;break;case 438:A.lastobj.TxO=D;break;case 127:A.lastobj.ImData=D;break;case 440:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Le({c:v,r:g})],p&&(p.l=D[1]);break;case 2048:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Le({c:v,r:g})],p&&p.l&&(p.l.Tooltip=D[1]);break;case 28:{if(A.biff<=5&&A.biff>=2)break;p=t.dense?(a[D[0].r]||[])[D[0].c]:a[Le(D[0])];var yr=B[D[2]];p||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),p=a[D[0].r][D[0].c]={t:"z"}):p=a[Le(D[0])]={t:"z"},i.e.r=Math.max(i.e.r,D[0].r),i.s.r=Math.min(i.s.r,D[0].r),i.e.c=Math.max(i.e.c,D[0].c),i.s.c=Math.min(i.s.c,D[0].c)),p.c||(p.c=[]),m={a:D[1],t:yr.TxO.t},p.c.push(m)}break;case 2173:ebe(S[D.ixfe],D.ext);break;case 125:{if(!A.cellStyles)break;for(;D.e>=D.s;)q[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},X||(X=!0,LE(D.w/256)),Uu(q[D.e+1])}break;case 520:{var Et={};D.level!=null&&(K[D.r]=Et,Et.level=D.level),D.hidden&&(K[D.r]=Et,Et.hidden=!0),D.hpt&&(K[D.r]=Et,Et.hpt=D.hpt,Et.hpx=x0(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||vf(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[le]]=D;break;case 161:a["!margins"]||vf(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(E.Views[0].RTL=!0);break;case 146:k=D;break;case 2198:N=D;break;case 140:_=D;break;case 442:c?C.CodeName=D||C.name:E.WBProps.CodeName=D||"ThisWorkbook";break}}else te||console.error("Missing Info for XLS Record 0x"+le.toString(16)),e.l+=Y}return r.SheetNames=Xs(s).sort(function(Qn,Ue){return Number(Qn)-Number(Ue)}).map(function(Qn){return s[Qn].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&G.forEach(function(Qn,Ue){r.Sheets[r.SheetNames[Ue]]["!autofilter"]=Qn}),r.Strings=l,r.SSF=hn(Fe),A.enc&&(r.Encryption=A.enc),N&&(r.Themes=N),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),I.names.length>0&&(E.Names=I.names),r.Workbook=E,r}var HO={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function D2e(e,t,r){var n=Ye.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=AO(n,Xge,HO.DSI);for(var s in a)t[s]=a[s]}catch(c){if(r.WTF)throw c}var i=Ye.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=AO(i,Zge,HO.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(I$(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xB(e,t){t||(t={}),VE(t),KL(),t.codepage&&wE(t.codepage);var r,n;if(e.FullPaths){if(Ye.find(e,"/encryption"))throw new Error("File is password-protected");r=Ye.find(e,"!CompObj"),n=Ye.find(e,"/Workbook")||Ye.find(e,"/Book")}else{switch(t.type){case"base64":e=ps(Ca(e));break;case"binary":e=ps(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}un(e,0),n={content:e}}var a,s;if(r&&j2e(r),t.bookProps&&!t.bookSheets)a={};else{var i=Ke?"buffer":"array";if(n&&n.content)a=O2e(n.content,t);else if((s=Ye.find(e,"PerfectOffice_MAIN"))&&s.content)a=pf.to_workbook(s.content,(t.type=i,t));else if((s=Ye.find(e,"NativeContent_MAIN"))&&s.content)a=pf.to_workbook(s.content,(t.type=i,t));else throw(s=Ye.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ye.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=xbe(e))}var o={};return e.FullPaths&&D2e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var og={0:{f:p_e},1:{f:x_e},2:{f:T_e},3:{f:__e},4:{f:b_e},5:{f:C_e},6:{f:P_e},7:{f:S_e},8:{f:I_e},9:{f:M_e},10:{f:O_e},11:{f:D_e},12:{f:y_e},13:{f:A_e},14:{f:k_e},15:{f:w_e},16:{f:hB},17:{f:N_e},18:{f:E_e},19:{f:OE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:l2e},40:{},42:{},43:{f:O1e},44:{f:N1e},45:{f:D1e},46:{f:I1e},47:{f:M1e},48:{},49:{f:Rge},50:{},51:{f:rbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:G$},62:{f:j_e},63:{f:obe},64:{f:W_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Mn,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:V_e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:g_e},148:{f:m_e,p:16},151:{f:L_e},152:{},153:{f:i2e},154:{},155:{},156:{f:s2e},157:{},158:{},159:{T:1,f:Zye},160:{T:-1},161:{T:1,f:hc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:R_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tbe},336:{T:-1},337:{f:nbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:i_},357:{},358:{},359:{},360:{T:1},361:{},362:{f:K$},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:$_e},427:{f:B_e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:U_e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:v_e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:F_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:i_},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mbe},633:{T:1},634:{T:-1},635:{T:1,f:pbe},636:{T:-1},637:{f:Lge},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:X_e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:H_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},d_={6:{f:S1},10:{f:Qi},12:{f:_r},13:{f:_r},14:{f:dr},15:{f:dr},16:{f:An},17:{f:dr},18:{f:dr},19:{f:_r},20:{f:OO},21:{f:OO},23:{f:K$},24:{f:MO},25:{f:dr},26:{},27:{},28:{f:fye},29:{},34:{f:dr},35:{f:DO},38:{f:An},39:{f:An},40:{f:An},41:{f:An},42:{f:dr},43:{f:dr},47:{f:v1e},49:{f:Gxe},51:{f:_r},60:{},61:{f:Wxe},64:{f:dr},65:{f:Kxe},66:{f:_r},77:{},80:{},81:{},82:{},85:{f:_r},89:{},90:{},91:{},92:{f:Rxe},93:{f:pye},94:{},95:{f:dr},96:{},97:{},99:{f:dr},125:{f:G$},128:{f:nye},129:{f:Fxe},130:{f:_r},131:{f:dr},132:{f:dr},133:{f:Lxe},134:{},140:{f:bye},141:{f:_r},144:{},146:{f:_ye},151:{},152:{},153:{},154:{},155:{},156:{f:_r},157:{},158:{},160:{f:Tye},161:{f:Sye},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Qxe},190:{f:eye},193:{f:Qi},197:{},198:{},199:{},200:{},201:{},202:{f:dr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:_r},220:{},221:{f:dr},222:{},224:{f:rye},225:{f:Ixe},226:{f:Qi},227:{},229:{f:hye},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:$xe},253:{f:qxe},255:{f:Bxe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:B$},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:dr},353:{f:Qi},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:sye},431:{f:dr},432:{},433:{},434:{},437:{},438:{f:gye},439:{f:dr},440:{f:xye},441:{},442:{f:Nh},443:{},444:{f:_r},445:{},446:{},448:{f:Qi},449:{f:Vxe,r:2},450:{f:Qi},512:{f:PO},513:{f:Cye},515:{f:aye},516:{f:Yxe},517:{f:NO},519:{f:Aye},520:{f:zxe},523:{},545:{f:IO},549:{f:jO},566:{},574:{f:Hxe},638:{f:Jxe},659:{},1048:{},1054:{f:Xxe},1084:{},1212:{f:cye},2048:{f:yye},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Ip},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Qi},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:kye,r:12},2173:{f:Q1e,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:dr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:lye,r:12},2197:{},2198:{f:G1e,r:12},2199:{},2200:{},2201:{},2202:{f:uye,r:12},2203:{f:Qi},2204:{},2205:{},2206:{},2207:{},2211:{f:Uxe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:_r},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Eye},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:wye},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:PO},1:{},2:{f:Oye},3:{f:Nye},4:{f:Pye},5:{f:NO},7:{f:Dye},8:{},9:{f:Ip},11:{},22:{f:_r},30:{f:Zxe},31:{},32:{},33:{f:IO},36:{},37:{f:jO},50:{f:Mye},62:{},52:{},67:{},68:{f:_r},69:{},86:{},126:{},127:{f:jye},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Iye},223:{},234:{},354:{},421:{},518:{f:S1},521:{f:Ip},536:{f:MO},547:{f:DO},561:{},579:{},1030:{f:S1},1033:{f:Ip},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ns(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&T$(r)&&e.push(r)}}function KO(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=age(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<l.length;++i){var v=l[i].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var x=v.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var S=0;S<m.length;++S){var k=m[S];k.s.c==u&&k.s.r<c&&c<=k.e.r&&(u=k.e.c+1,S=-1)}var E=Re(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var C=E.t||E["data-t"]||"";if(!y.length){u+=h;continue}if(y=p$(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!y.length){u+=h;continue}var T={t:"s",v:y};r.raw||!y.trim().length||C=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(ws(y))?isNaN(zu(y).getDate())||(T={t:"d",v:tn(y)},r.cellDates||(T={t:"n",v:Yn(T.v)}),T.z=r.dateNF||Fe[14]):T={t:"n",v:ws(y)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[Le({r:c,c:u})]=T,u+=h}}}}return n["!ref"]=Xe(p),m.length&&(n["!merges"]=m),n}function M2e(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>i)&&!(a[c].e.r<r||a[c].e.c<i)){if(a[c].s.r<r||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Le({r,c:i}),f=n.dense?(e[r]||[])[i]:e[u],h=f&&f.v!=null&&(f.h||TE(f.w||(Bi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,s.push(bge("td",h,p))}}var m="<tr>";return m+s.join("")+"</tr>"}var I2e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',R2e="</body></html>";function F2e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Jo(KO(r[0],t),t);var n=HE();return r.forEach(function(a,s){KE(n,KO(a,t),"Sheet"+(s+1))}),n}function L2e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function $2e(e,t){var r=t||{},n=r.header!=null?r.header:I2e,a=r.footer!=null?r.footer:R2e,s=[n],i=id(e["!ref"]);r.dense=Array.isArray(e),s.push(L2e(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(M2e(e,i,o,r));return s.push("</table>"+a),s.join("")}function yB(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Un(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=id(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,v=0,g=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&v<l;++m){var _=o[m];if(GO(_)){if(n.display)continue;p[v]={hidden:!0}}var S=_.children;for(g=x=0;g<S.length;++g){var k=S[g];if(!(n.display&&GO(k))){var E=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):p$(k.innerHTML),C=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==x+s&&T.s.r<v+a&&v+a<=T.e.r&&(x=T.e.c+1-s,h=-1)}y=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:x+s},e:{r:v+a+(b||1)-1,c:x+s+(y||1)-1}});var j={t:"s",v:E},P=k.getAttribute("data-t")||k.getAttribute("t")||"";E!=null&&(E.length==0?j.t=P||"z":n.raw||E.trim().length==0||P=="s"||(E==="TRUE"?j={t:"b",v:!0}:E==="FALSE"?j={t:"b",v:!1}:isNaN(ws(E))?isNaN(zu(E).getDate())||(j={t:"d",v:tn(E)},n.cellDates||(j={t:"n",v:Yn(j.v)}),j.z=n.dateNF||Fe[14]):j={t:"n",v:ws(E)})),j.z===void 0&&C!=null&&(j.z=C);var A="",N=k.getElementsByTagName("A");if(N&&N.length)for(var F=0;F<N.length&&!(N[F].hasAttribute("href")&&(A=N[F].getAttribute("href"),A.charAt(0)!="#"));++F);A&&A.charAt(0)!="#"&&(j.l={Target:A}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][x+s]=j):e[Le({c:x+s,r:v+a})]=j,c.e.c<x+s&&(c.e.c=x+s),x+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=Xe(c),v>=l&&(e["!fullref"]=Xe((c.e.r=o.length-m+v-1+a,c))),e}function bB(e,t){var r=t||{},n=r.dense?[]:{};return yB(n,e,t)}function B2e(e,t){return Jo(bB(e,t),t)}function GO(e){var t="",r=z2e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function z2e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function U2e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qe(t.replace(/<[^>]*>/g,""));return[r]}var qO={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function wB(e,t){var r=t||{},n=AE(e),a=[],s,i,o={name:""},l="",c=0,u,f,h={},p=[],m=r.dense?[]:{},v,g,x={value:""},b="",y=0,_=[],S=-1,k=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,T={},j=[],P={},A=0,N=0,F=[],B=1,q=1,K=[],X={Names:[]},I={},J=["",""],Z=[],M={},z="",G=0,H=!1,Q=!1,oe=0;for(m0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=m0.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=Xe(E):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=Xe(E)),j.length&&(m["!merges"]=j),F.length&&(m["!rows"]=F),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=m,Q=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Re(v[0],!1),S=k=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=r.dense?[]:{},j=[],F=[],Q=!0);break;case"table-row-group":v[1]==="/"?--C:++C;break;case"table-row":case"":if(v[1]==="/"){S+=B,B=1;break}if(f=Re(v[0],!1),f.?S=f.-1:S==-1&&(S=0),B=+f["number-rows-repeated"]||1,B<10)for(oe=0;oe<B;++oe)C>0&&(F[S+oe]={level:C});k=-1;break;case"covered-table-cell":v[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][k]={t:"z"}):m[Le({r:S,c:k})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++k,x=Re(v[0],!1),q=parseInt(x["number-columns-repeated"]||"1",10),g={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(g.f=UO(Qe(x.formula))),(x.||x["value-type"])=="string"&&(g.t="s",g.v=Qe(x["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][k]=g):m[Le({r:S,c:k})]=g),k+=q-1;else if(v[1]!=="/"){++k,b="",y=0,_=[],q=1;var le=B?S+B-1:S;if(k>E.e.c&&(E.e.c=k),k<E.s.c&&(E.s.c=k),S<E.s.r&&(E.s.r=S),le>E.e.r&&(E.e.r=le),x=Re(v[0],!1),Z=[],M={},g={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Qe(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(A=parseInt(x["number-matrix-rows-spanned"],10)||0,N=parseInt(x["number-matrix-columns-spanned"],10)||0,P={s:{r:S,c:k},e:{r:S+A-1,c:k+N-1}},g.F=Xe(P),K.push([P,g.F])),x.formula)g.f=UO(x.formula);else for(oe=0;oe<K.length;++oe)S>=K[oe][0].s.r&&S<=K[oe][0].e.r&&k>=K[oe][0].s.c&&k<=K[oe][0].e.c&&(g.F=K[oe][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(A=parseInt(x["number-rows-spanned"],10)||0,N=parseInt(x["number-columns-spanned"],10)||0,P={s:{r:S,c:k},e:{r:S+A-1,c:k+N-1}},j.push(P)),x["number-columns-repeated"]&&(q=parseInt(x["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=It(x["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(x.value);break;case"percentage":g.t="n",g.v=parseFloat(x.value);break;case"currency":g.t="n",g.v=parseFloat(x.value);break;case"date":g.t="d",g.v=tn(x["date-value"]),r.cellDates||(g.t="n",g.v=Yn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=tge(x["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Vx(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(x.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",x["string-value"]!=null&&(b=Qe(x["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=b||"",_.length&&(g.R=_),H=y==0),I.Target&&(g.l=I),Z.length>0&&(g.c=Z,Z=[]),b&&r.cellText!==!1&&(g.w=b),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var Y=0;Y<B;++Y){if(q=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(m[S+Y]||(m[S+Y]=[]),m[S+Y][k]=Y==0?g:hn(g);--q>0;)m[S+Y][k+q]=hn(g);else for(m[Le({r:S+Y,c:k})]=g;--q>0;)m[Le({r:S+Y,c:k+q})]=hn(g);E.e.c<=k&&(E.e.c=k)}q=parseInt(x["number-columns-repeated"]||"1",10),k+=q-1,q=0,g={},b="",_=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;M.t=b,_.length&&(M.R=_),M.a=z,Z.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);z="",G=0,b="",y=0,_=[];break;case"creator":v[1]==="/"?z=n.slice(G,v.index):G=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);b="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(T[o.name]=l,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=Re(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Re(v[0],!1),l+=qO[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Re(v[0],!1),l+=qO[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":i=Re(v[0],!1),J=E1(i["cell-range-address"]);var te={Name:i.name,Ref:J[0]+"!"+J[1]};Q&&(te.Sheet=p.length),X.Names.push(te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!x||!x["string-value"])){var ue=U2e(n.slice(y,v.index));b=(b.length>0?b+`
`:"")+ue[0]}else Re(v[0],!1),y=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{J=E1(Re(v[0])["target-range-address"]),h[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(I=Re(v[0],!1),!I.href)break;I.Target=Qe(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(J=E1(I.Target.slice(1)),I.Target="#"+J[0]+"!"+J[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var D={Sheets:h,SheetNames:p,Workbook:X};return r.bookSheets&&delete D.Sheets,D}function YO(e,t){t=t||{},Fa(e,"META-INF/manifest.xml")&&axe(wr(e,"META-INF/manifest.xml"),t);var r=xa(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=wB(kt(r),t);return Fa(e,"meta.xml")&&(n.Props=M$(wr(e,"meta.xml"))),n}function XO(e,t){return wB(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function zE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function f_(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):kt(uc(e))}function h_(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function ZO(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function V2e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function y0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Lr(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function jn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=y0(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=y0(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:s};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function UE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function W2e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=y0(e,n),s=jn(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:Lr(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=jn(o.data),c=Lr(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=s[3])!=null&&t[0]&&(i.merge=Lr(s[3][0].data)>>>0>0),r.push(i)}return r}function H2e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=y0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,c=0;if(s==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[h_(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=h_(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function K2e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(H2e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return h_(t)}function G2e(e,t,r,n){var a=zE(e),s=a.getUint32(4,!0),i=(n>1?12:8)+ZO(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=ZO(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(c=a.getFloat64(i,!0),i+=8),s&64&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function q2e(e,t,r){var n=zE(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=V2e(e,s),s+=16),a&2&&(c=n.getFloat64(s,!0),s+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Y2e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return G2e(e,t,r,e[0]);case 5:return q2e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Po(e){var t=jn(e);return y0(t[1][0].data)}function JO(e,t){var r=jn(t.data),n=Lr(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=jn(i.data),l=Lr(o[1][0].data)>>>0;switch(n){case 1:s[l]=f_(o[3][0].data);break;case 8:{var c=e[Po(o[9][0].data)][0],u=jn(c.data),f=e[Po(u[1][0].data)][0],h=Lr(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=jn(f.data);s[l]=p[3].map(function(m){return f_(m.data)}).join("")}break}}),s}function X2e(e,t){var r,n,a,s,i,o,l,c,u,f,h,p,m,v,g=jn(e),x=Lr(g[1][0].data)>>>0,b=Lr(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&Lr(g[8][0].data)>0||!1,_,S;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,S=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)_=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,S=(v=(m=g[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=y?4:1,E=zE(_),C=[],T=0;T<_.length/2;++T){var j=E.getUint16(T*2,!0);j<65535&&C.push([T,j])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var P=[];for(T=0;T<C.length-1;++T)P[C[T][0]]=S.subarray(C[T][1]*k,C[T+1][1]*k);return C.length>=1&&(P[C[C.length-1][0]]=S.subarray(C[C.length-1][1]*k)),{R:x,cells:P}}function Z2e(e,t){var r,n=jn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Lr(n[7][0].data)>>>0>0?1:0:-1,s=UE(n[5],function(i){return X2e(i,a)});return{nrows:Lr(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=l}),i},[])}}function J2e(e,t,r){var n,a=jn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Lr(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=(Lr(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Xe(s);var i=jn(a[4][0].data),o=JO(e,e[Po(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?JO(e,e[Po(i[17][0].data)][0]):[],c=jn(i[3][0].data),u=0;c[1].forEach(function(f){var h=jn(f.data),p=e[Po(h[2][0].data)][0],m=Lr(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=Z2e(e,p);v.data.forEach(function(g,x){g.forEach(function(b,y){var _=Le({r:u+x,c:y}),S=Y2e(b,o,l);S&&(r[_]=S)})}),u+=v.nrows})}function Q2e(e,t){var r=jn(t.data),n={"!ref":"A1"},a=e[Po(r[2][0].data)],s=Lr(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return J2e(e,a[0],n),n}function eke(e,t){var r,n=jn(t.data),a={name:(r=n[1])!=null&&r[0]?f_(n[1][0].data):"",sheets:[]},s=UE(n[2],Po);return s.forEach(function(i){e[i].forEach(function(o){var l=Lr(o.meta[1][0].data);l==6e3&&a.sheets.push(Q2e(e,o))})}),a}function tke(e,t){var r=HE(),n=jn(t.data),a=UE(n[1],Po);if(a.forEach(function(s){e[s].forEach(function(i){var o=Lr(i.meta[1][0].data);if(o==2){var l=eke(e,i);l.sheets.forEach(function(c,u){KE(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function T1(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=K2e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=W2e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Lr(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(c){var u=Lr(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return tke(s,o)}function rke(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function VE(e){rke([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function nke(e){return Qc.WS.indexOf(e)>-1?"sheet":e==Qc.CS?"chart":e==Qc.DS?"dialog":e==Qc.MS?"macro":e&&e.length?e:"sheet"}function ake(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,nke(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function ske(e,t,r,n,a,s,i,o,l,c,u,f){try{s[n]=ff(xa(e,r,!0),t);var h=wr(e,t),p;switch(o){case"sheet":p=d2e(h,t,a,l,s[n],c,u,f);break;case"chart":if(p=f2e(h,t,a,l,s[n],c,u,f),!p||!p["!drawel"])break;var m=Kd(p["!drawel"].Target,t),v=o_(m),g=ube(xa(e,m,!0),ff(xa(e,v,!0),m)),x=Kd(g,m),b=o_(x);p=q_e(xa(e,x,!0),x,l,ff(xa(e,b,!0),x),c,p);break;case"macro":p=h2e(h,t,a,l,s[n],c,u,f);break;case"dialog":p=p2e(h,t,a,l,s[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var y=[];s&&s[n]&&Xs(s[n]).forEach(function(_){var S="";if(s[n][_].Type==Qc.CMNT){S=Kd(s[n][_].Target,t);var k=x2e(wr(e,S,!0),S,l);if(!k||!k.length)return;FO(p,k,!1)}s[n][_].Type==Qc.TCMNT&&(S=Kd(s[n][_].Target,t),y=y.concat(fbe(wr(e,S,!0),l)))}),y&&y.length&&FO(p,y,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function Oa(e){return e.charAt(0)=="/"?e.slice(1):e}function ike(e,t){if(a$(),t=t||{},VE(t),Fa(e,"META-INF/manifest.xml")||Fa(e,"objectdata.xml"))return YO(e,t);if(Fa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof T1<"u"){if(e.FileIndex)return T1(e);var r=Ye.utils.cfb_new();return uO(e).forEach(function(F){oge(r,F,ige(e,F))}),T1(r)}throw new Error("Unsupported NUMBERS file")}if(!Fa(e,"[Content_Types].xml"))throw Fa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=uO(e),a=rxe(xa(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",wr(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!wr(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(mf=[],a.sst)try{mf=g2e(wr(e,Oa(a.sst)),a.sst,t)}catch(F){if(t.WTF)throw F}t.cellStyles&&a.themes.length&&(l=v2e(xa(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=m2e(wr(e,Oa(a.style)),a.style,l,t))}a.links.map(function(F){try{var B=ff(xa(e,o_(Oa(F))),F);return b2e(wr(e,Oa(F)),B,F,t)}catch{}});var u=u2e(wr(e,Oa(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=wr(e,Oa(a.coreprops[0]),!0),h&&(f=M$(h)),a.extprops.length!==0&&(h=wr(e,Oa(a.extprops[0]),!0),h&&oxe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=xa(e,Oa(a.custprops[0]),!0),h&&(p=cxe(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?i=u.Sheets.map(function(B){return B.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof i<"u"&&(m.SheetNames=i),t.bookSheets?m.SheetNames:t.bookProps))return m;i={};var v={};t.bookDeps&&a.calcchain&&(v=y2e(wr(e,Oa(a.calcchain)),a.calcchain));var g=0,x={},b,y;{var _=u.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Fa(e,C)||(C="xl/_rels/workbook."+k+".rels");var T=ff(xa(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=w2e(wr(e,Oa(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=hbe(wr(e,Oa(a.people[0])),t)),T&&(T=ake(T,u.Sheets));var j=wr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var P="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),Fa(e,b)||(b=T[g][1]),Fa(e,b)||(b=C.replace(/_rels\/.*$/,"")+T[g][1]),P=T[g][2]):(b="xl/worksheets/sheet"+(g+1-j)+"."+k,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var A=!1,N=0;N!=t.sheets.length;++N)typeof t.sheets[N]=="number"&&t.sheets[N]==g&&(A=1),typeof t.sheets[N]=="string"&&t.sheets[N].toLowerCase()==f.SheetNames[g].toLowerCase()&&(A=1);if(!A)continue e}}ske(e,b,y,f.SheetNames[g],g,x,i,P,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:v,Sheets:i,SheetNames:f.SheetNames,Strings:mf,Styles:c,Themes:l,SSF:hn(Fe)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(F,B){F=F.replace(/^Root Entry[\/]/,""),m.keys.push(F),m.files[F]=e.FileIndex[B]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=wr(e,Oa(a.vba[0]),!0):a.defaults&&a.defaults.bin===gbe&&(m.vbaraw=wr(e,"xl/vbaProject.bin",!0))),m}function oke(e,t){var r=t||{},n="Workbook",a=Ye.find(e,n);try{if(n="/!DataSpaces/Version",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Qye(a.content),n="/!DataSpaces/DataSpaceMap",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=t1e(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=r1e(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);a1e(a.content)}catch{}if(n="/EncryptionInfo",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=s1e(a.content);if(n="/EncryptedPackage",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function WE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ca(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function lke(e,t){return Ye.find(e,"EncryptedPackage")?oke(e,t):xB(e,t)}function cke(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ke&&Buffer.isBuffer(e)?"buffer":"base64"),r=d$(n,a),ike(r,a)}function _B(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return u_(e.slice(r),t);default:break e}return v0.to_workbook(e,t)}function uke(e,t){var r="",n=WE(e,t);switch(t.type){case"base64":r=Ca(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Ql(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=kt(r)),t.type="binary",_B(r,t)}function dke(e,t){var r=e;return t.type=="base64"&&(r=Ca(r)),r=f0.utils.decode(1200,r.slice(2),"str"),t.type="binary",_B(r,t)}function fke(e){return e.match(/[^\x00-\x7F]/)?Gd(e):e}function A1(e,t,r,n){return n?(r.type="string",v0.to_workbook(e,r)):v0.to_workbook(t,r)}function p_(e,t){KL();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return p_(new Uint8Array(e),(r=hn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),yu={},r.dateNF&&(yu.dateNF=r.dateNF),r.type||(r.type=Ke&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ke?"buffer":"binary",n=Qve(e),typeof Uint8Array<"u"&&!Ke&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=fke(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=hn(r),r.type="array",p_(_E(n),r)}switch((a=WE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return lke(Ye.read(n,r),r);break;case 9:if(a[1]<=8)return xB(n,r);break;case 60:return u_(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return Bye(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return Lye.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?cke(n,r):A1(e,n,r,s);case 239:return a[3]===60?u_(n,r):A1(e,n,r,s);case 255:if(a[1]===254)return dke(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return pf.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return pf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return RO.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return g1e.to_workbook(n,r);break;case 10:case 13:case 32:return uke(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Rye.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?RO.to_workbook(n,r):A1(e,n,r,s)}function hke(e,t,r,n,a,s,i,o){var l=pn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=i?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[p]!=null){if(v==null)if(m.t=="e"&&v===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&v===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?v:Bi(m,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function m_(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=ur(u);break;case"number":l=ur(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=pn(l.s.r),h=[],p=[],m=0,v=0,g=Array.isArray(e),x=l.s.r,b=0,y={};g&&!e[x]&&(e[x]=[]);var _=c.skipHidden&&e["!cols"]||[],S=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Fr(b),r=g?e[x][b]:e[h[b]+f],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Bi(r,null,c),v=y[i]||0,!v)y[i]=1;else{do o=i+"_"+v++;while(y[o]);y[i]=v,y[o]=1}s[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(S[x]||{}).hidden){var k=hke(e,l,x,h,n,s,g,c);(k.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=k.row)}return p.length=m,p}var QO=/"/g;function pke(e,t,r,n,a,s,i,o){for(var l=!0,c=[],u="",f=pn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Bi(p,null,o));for(var m=0,v=0;m!==u.length;++m)if((v=u.charCodeAt(m))===a||v===s||v===34||o.forceQuotes){u='"'+u.replace(QO,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(QO,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(i)}function kB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ur(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Fr(m));for(var v=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(u=pke(e,a,g,f,i,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((v++?o:"")+u)));return delete n.dense,r.join("")}function mke(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=kB(e,t);return r}function vke(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ur(e["!ref"]),s="",i=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=Fr(o);for(var u=a.s.r;u<=a.e.r;++u)for(s=pn(u),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function SB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Un(n.origin):n.origin;i=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=ur(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(i=f.e.r+1,u.e.r=i+t.length-1+a)}else i==-1&&(i=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,g){Xs(v).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var b=v[x],y="z",_="",S=Le({c:o+p,r:i+g+a});c=b0(s,S),b&&typeof b=="object"&&!(b instanceof Date)?s[S]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Yn(b)),_=n.dateNF||Fe[14]):b===null&&n.nullError&&(y="e",b=0),c?(c.t=y,c.v=b,delete c.w,delete c.R,_&&(c.z=_)):s[S]=c={t:y,v:b},_&&(c.z=_))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=pn(i);if(a)for(p=0;p<h.length;++p)s[Fr(p+o)+m]={t:"s",v:h[p]};return s["!ref"]=Xe(u),s}function gke(e,t){return SB(null,e,t)}function b0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Un(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?b0(e,Le(t)):b0(e,Le({r:t,c:r||0}))}function xke(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function HE(){return{SheetNames:[],Sheets:{}}}function KE(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(r2e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function yke(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=xke(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function bke(e,t){return e.z=t,e}function EB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function wke(e,t,r){return EB(e,"#"+t,r)}function _ke(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function kke(e,t,r,n){for(var a=typeof t!="string"?t:ur(t),s=typeof t=="string"?t:Xe(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=b0(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var e4={encode_col:Fr,encode_row:pn,encode_cell:Le,encode_range:Xe,decode_col:NE,decode_row:PE,split_cell:Ige,decode_cell:Un,decode_range:id,format_cell:Bi,sheet_add_aoa:j$,sheet_add_json:SB,sheet_add_dom:yB,aoa_to_sheet:od,json_to_sheet:gke,table_to_sheet:bB,table_to_book:B2e,sheet_to_csv:kB,sheet_to_txt:mke,sheet_to_json:m_,sheet_to_html:$2e,sheet_to_formulae:vke,sheet_to_row_object_array:m_,sheet_get_cell:b0,book_new:HE,book_append_sheet:KE,book_set_sheet_visibility:yke,cell_set_number_format:bke,cell_set_hyperlink:EB,cell_set_internal_link:wke,cell_add_comment:_ke,sheet_set_array_formula:kke,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Ske={"nome da campanha":"campaign",campanha:"campaign",dia:"date","valor usado (brl)":"spend",custo:"spend",impresses:"impressions","impr.":"impressions",resultados:"results",conv:"conversions",converses:"conversions",frequncia:"frequency",alcance:"reach",cpm:"cpm","cpm mdio":"cpm","cliques no link":"clicks",cliques:"clicks",cpc:"cpc","cpc md.":"cpc",ctr:"ctr"},t4={"extrao meta ads_downloads":{channel:"meta",defaultObjective:null},"extrao meta_marca+downloads":{channel:"meta",defaultObjective:null},"extrao google ads_marca+b2c":{channel:"google",defaultObjective:null},"extrao alcance bf 2025":{channel:"meta",defaultObjective:null}},Eke=e=>e.trim().toLowerCase(),Cke=e=>{if(!e)return null;let t;if(typeof e=="number")t=s$.parse_date_code(e),t=new Date(t.y,t.m-1,t.d);else if(e instanceof Date)t=e;else{const r=String(e).trim();r.includes("-")?t=new Date(r):r.includes("/")?t=rme(r,"dd/MM/yyyy",new Date):t=new Date(r)}return _L(t)?t.toISOString():null},Tke=(e,t)=>{const r=e.toLowerCase();return r.includes("download")||r.includes("app")?"b2c":"marca"},r4=e=>{if(typeof e=="number")return e;if(!e)return 0;let t=String(e);t=t.replace("R$","").trim(),t=t.replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r},GE=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var s;try{const i=(s=a.target)==null?void 0:s.result,o=p_(i,{type:"binary"});let l=[];const c=new Map,u=o.SheetNames.find(p=>p.toLowerCase().includes("de-para")||p.toLowerCase().includes("depara"));if(u){const p=o.Sheets[u];e4.sheet_to_json(p,{header:1}).forEach(v=>{if(v.length>=2){const g=String(v[0]).trim(),x=String(v[1]).trim().toLowerCase();g&&(x==="marca"||x==="branding"?c.set(g,"marca"):(x==="b2c"||x==="prafal"||x==="performance")&&c.set(g,"b2c"))}}),console.log(`De-Para carregado com ${c.size} mapeamentos.`)}Object.keys(t4).forEach(p=>{const m=o.SheetNames.find(y=>y.toLowerCase()===p.toLowerCase());if(!m)return;const v=t4[p],g=o.Sheets[m],b=e4.sheet_to_json(g).map(y=>{const _={channel:v.channel};return Object.keys(y).forEach(S=>{const k=Eke(S),E=Ske[k];if(E)if(E==="date"){const C=Cke(y[S]);C&&(_.date=C)}else E==="campaign"?_.campaign=String(y[S]).trim():E==="results"?_.results=r4(y[S]):_[E]=r4(y[S])}),!_.campaign||!_.date?null:(_.campaign&&c.has(_.campaign)?_.objective=c.get(_.campaign):_.objective=Tke(_.campaign,v.defaultObjective),_.conversions===void 0&&_.results!==void 0&&(_.objective==="b2c"?_.conversions=_.results:(_.reach||(_.reach=_.results),_.conversions=0)),_.spend=_.spend||0,_.impressions=_.impressions||0,_.clicks=_.clicks||0,_.conversions=_.conversions||0,!_.cpm&&_.impressions>0&&(_.cpm=_.spend/_.impressions*1e3),!_.cpc&&_.clicks>0&&(_.cpc=_.spend/_.clicks),!_.ctr&&_.impressions>0&&(_.ctr=_.clicks/_.impressions),_)}).filter(y=>y!==null);l=[...l,...b]});const f=[],h=new Map;l.forEach(p=>{const m=p.date.substring(0,10),v=`${p.campaign}|${m}`,g=h.get(v)||[];g.some(b=>Math.abs(b-p.spend)<.1)||(f.push(p),h.set(v,[...g,p.spend]))}),t(f)}catch(i){r(i)}},n.onerror=a=>r(a),n.readAsBinaryString(e)}),Ake=()=>{const{goals:e,setGoals:t}=vt(),[r,n]=w.useState(()=>{const h=new Date;return new Date(h.getFullYear(),h.getMonth(),1)}),[a,s]=w.useState(!1),i=h=>{const p=h.getFullYear(),m=String(h.getMonth()+1).padStart(2,"0");return`${p}-${m}`},o=(h,p)=>new Date(h.getFullYear(),h.getMonth()+p,1),l=i(r),[c,u]=w.useState({cartoes_meta:0,b2c_meta:0,plurix_meta:0,b2b2c_meta:0,cac_max:0});Rs.useEffect(()=>{const h=e.find(p=>p.mes===l);u({cartoes_meta:(h==null?void 0:h.cartoes_meta)||0,b2c_meta:(h==null?void 0:h.b2c_meta)||0,plurix_meta:(h==null?void 0:h.plurix_meta)||0,b2b2c_meta:(h==null?void 0:h.b2b2c_meta)||0,cac_max:(h==null?void 0:h.cac_max)||0})},[l,e]);const f=async()=>{s(!0);try{const h={mes:l,cartoes_meta:Number(c.cartoes_meta)||0,b2c_meta:Number(c.b2c_meta)||0,plurix_meta:Number(c.plurix_meta)||0,b2b2c_meta:Number(c.b2b2c_meta)||0,cac_max:Number(c.cac_max)||0},p=[...e.filter(v=>v.mes!==l)];p.push(h),t(p);const{dataService:m}=await BL(async()=>{const{dataService:v}=await Promise.resolve().then(()=>QB);return{dataService:v}},void 0);await m.upsertGoal(h),alert("Meta salva com sucesso!")}catch(h){console.error("Erro ao salvar meta:",h),alert(`Erro ao salvar meta na nuvem: ${h.message||"Erro desconhecido"}`)}finally{s(!1)}};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),d.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[d.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:d.jsx(Wi,{size:24})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-white",children:["Gerenciador de Metas ",d.jsx("span",{className:"text-xs text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full ml-2",children:"v1.1 (Live)"})]}),d.jsx("p",{className:"text-sm text-slate-400",children:"Defina os objetivos mensais para os KPIs."})]})]}),d.jsxs("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded-xl p-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("button",{onClick:()=>n(o(r,-1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:d.jsx(I0,{size:20})}),d.jsx("div",{className:"text-center",children:d.jsx("h4",{className:"text-lg font-bold text-white capitalize",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})}),d.jsx("button",{onClick:()=>n(o(r,1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:d.jsx(R0,{size:20})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta CRM (Cartes)",d.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-[9px] px-1.5 py-0.5 rounded",children:"CRM"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(bl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors"}),d.jsx("input",{type:"number",value:c.cartoes_meta,onChange:h=>u({...c,cartoes_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-blue-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2C Total",d.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"Geral"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(bl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),d.jsx("input",{type:"number",value:c.b2c_meta,onChange:h=>u({...c,b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),d.jsxs("div",{className:"relative group",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",value:c.cac_max,onChange:h=>u({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta Plurix",d.jsx("span",{className:"bg-purple-500/20 text-purple-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(bl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),d.jsx("input",{type:"number",value:c.plurix_meta,onChange:h=>u({...c,plurix_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-purple-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2B2C",d.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(bl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),d.jsx("input",{type:"number",value:c.b2b2c_meta,onChange:h=>u({...c,b2b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),d.jsxs("div",{className:"relative group",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",value:c.cac_max,onChange:h=>u({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsxs("button",{onClick:f,disabled:a,className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold transition-all shadow-lg shadow-emerald-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(qu,{size:16}),a?"Salvando...":"Salvar Metas"]})})]})};function ce(e,t,r){function n(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,l);const c=i.prototype,u=Object.keys(c);for(let f=0;f<u.length;f++){const h=u[f];h in o||(o[h]=c[h].bind(o))}}const a=(r==null?void 0:r.Parent)??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function i(o){var l;const c=r!=null&&r.Parent?new s:this;n(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,c;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class bu extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class CB extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const TB={};function tc(e){return TB}function jke(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function v_(e,t){return typeof t=="bigint"?t.toString():t}function qE(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function YE(e){return e==null}function XE(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function Pke(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l!=null&&l[1]&&(a=Number.parseInt(l[1]))}const s=r>a?r:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}const n4=Symbol("evaluating");function St(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==n4)return n===void 0&&(n=n4,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function vc(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function gc(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function a4(e){return JSON.stringify(e)}function Nke(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const AB="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function lg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const Oke=qE(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function w0(e){if(lg(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(lg(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function jB(e){return w0(e)?{...e}:Array.isArray(e)?[...e]:e}const Dke=new Set(["string","number","symbol"]);function Gx(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Qo(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function De(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Mke(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const Ike={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Rke(e,t){const r=e._zod.def,n=gc(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return vc(this,"shape",a),a},checks:[]});return Qo(e,n)}function Fke(e,t){const r=e._zod.def,n=gc(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return vc(this,"shape",a),a},checks:[]});return Qo(e,n)}function Lke(e,t){if(!w0(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=gc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return vc(this,"shape",s),s},checks:[]});return Qo(e,a)}function $ke(e,t){if(!w0(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return vc(this,"shape",n),n},checks:e._zod.def.checks};return Qo(e,r)}function Bke(e,t){const r=gc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return vc(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return Qo(e,r)}function zke(e,t,r){const n=gc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)s[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return vc(this,"shape",s),s},checks:[]});return Qo(t,n)}function Uke(e,t,r){const n=gc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)s[i]=new e({type:"nonoptional",innerType:a[i]});return vc(this,"shape",s),s},checks:[]});return Qo(t,n)}function eu(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function PB(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function $p(e){return typeof e=="string"?e:e==null?void 0:e.message}function rc(e,t,r){var a,s,i,o,l,c;const n={...e,path:e.path??[]};if(!e.message){const u=$p((i=(s=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,e))??$p((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??$p((l=r.customError)==null?void 0:l.call(r,e))??$p((c=r.localeError)==null?void 0:c.call(r,e))??"Invalid input";n.message=u}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function ZE(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function _0(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const NB=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,v_,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},OB=ce("$ZodError",NB),DB=ce("$ZodError",NB,{Parent:Error});function Vke(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function Wke(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>n({issues:i}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let i=r,o=0;for(;o<s.path.length;){const l=s.path[o];o===s.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(s))):i[l]=i[l]||{_errors:[]},i=i[l],o++}}};return n(e),r}const JE=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new bu;if(i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>rc(l,s,tc())));throw AB(o,a==null?void 0:a.callee),o}return i.value},QE=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>rc(l,s,tc())));throw AB(o,a==null?void 0:a.callee),o}return i.value},qx=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new bu;return s.issues.length?{success:!1,error:new(e??OB)(s.issues.map(i=>rc(i,a,tc())))}:{success:!0,data:s.value}},Hke=qx(DB),Yx=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>rc(i,a,tc())))}:{success:!0,data:s.value}},Kke=Yx(DB),Gke=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return JE(e)(t,r,a)},qke=e=>(t,r,n)=>JE(e)(t,r,n),Yke=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return QE(e)(t,r,a)},Xke=e=>async(t,r,n)=>QE(e)(t,r,n),Zke=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return qx(e)(t,r,a)},Jke=e=>(t,r,n)=>qx(e)(t,r,n),Qke=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return Yx(e)(t,r,a)},eSe=e=>async(t,r,n)=>Yx(e)(t,r,n),tSe=/^[cC][^\s-]{8,}$/,rSe=/^[0-9a-z]+$/,nSe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,aSe=/^[0-9a-vA-V]{20}$/,sSe=/^[A-Za-z0-9]{27}$/,iSe=/^[a-zA-Z0-9_-]{21}$/,oSe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,lSe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,s4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,cSe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,uSe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function dSe(){return new RegExp(uSe,"u")}const fSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,hSe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,pSe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,mSe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,vSe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,MB=/^[A-Za-z0-9_-]*$/,gSe=/^\+(?:[0-9]){6,14}[0-9]$/,IB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",xSe=new RegExp(`^${IB}$`);function RB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ySe(e){return new RegExp(`^${RB(e)}$`)}function bSe(e){const t=RB({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${IB}T(?:${n})$`)}const wSe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},_Se=/^-?\d+$/,kSe=/^-?\d+(?:\.\d+)?/,SSe=/^[^A-Z]*$/,ESe=/^[^a-z]*$/,da=ce("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),FB={number:"number",bigint:"bigint",object:"date"},LB=ce("$ZodCheckLessThan",(e,t)=>{da.init(e,t);const r=FB[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),$B=ce("$ZodCheckGreaterThan",(e,t)=>{da.init(e,t);const r=FB[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),CSe=ce("$ZodCheckMultipleOf",(e,t)=>{da.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):Pke(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),TSe=ce("$ZodCheckNumberFormat",(e,t)=>{var i;da.init(e,t),t.format=t.format||"float64";const r=(i=t.format)==null?void 0:i.includes("int"),n=r?"int":"number",[a,s]=Ike[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,r&&(l.pattern=_Se)}),e._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),ASe=ce("$ZodCheckMaxLength",(e,t)=>{var r;da.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!YE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const i=ZE(a);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),jSe=ce("$ZodCheckMinLength",(e,t)=>{var r;da.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!YE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const i=ZE(a);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),PSe=ce("$ZodCheckLengthEquals",(e,t)=>{var r;da.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!YE(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const i=ZE(a),o=s>t.length;n.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),Xx=ce("$ZodCheckStringFormat",(e,t)=>{var r,n;da.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),NSe=ce("$ZodCheckRegex",(e,t)=>{Xx.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),OSe=ce("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=SSe),Xx.init(e,t)}),DSe=ce("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=ESe),Xx.init(e,t)}),MSe=ce("$ZodCheckIncludes",(e,t)=>{da.init(e,t);const r=Gx(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),ISe=ce("$ZodCheckStartsWith",(e,t)=>{da.init(e,t);const r=new RegExp(`^${Gx(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),RSe=ce("$ZodCheckEndsWith",(e,t)=>{da.init(e,t);const r=new RegExp(`.*${Gx(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),FSe=ce("$ZodCheckOverwrite",(e,t)=>{da.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class LSe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),a=Math.min(...n.map(i=>i.length-i.trimStart().length)),s=n.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const t=Function,r=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const $Se={major:4,minor:1,patch:13},jr=ce("$ZodType",(e,t)=>{var a;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=$Se;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,l,c)=>{let u=eu(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(u)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new bu;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(u||(u=eu(o,p)))});else{if(o.issues.length===p)continue;u||(u=eu(o,p))}}return f?f.then(()=>o):o},i=(o,l,c)=>{if(eu(o))return o.aborted=!0,o;const u=s(l,n,c);if(u instanceof Promise){if(c.async===!1)throw new bu;return u.then(f=>e._zod.parse(f,c))}return e._zod.parse(u,c)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const u=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return u instanceof Promise?u.then(f=>i(f,o,l)):i(u,o,l)}const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new bu;return c.then(u=>s(u,n,l))}return s(c,n,l)}}e["~standard"]={validate:s=>{var i;try{const o=Hke(e,s);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return Kke(e,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),eC=ce("$ZodString",(e,t)=>{var r;jr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??wSe(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),$t=ce("$ZodStringFormat",(e,t)=>{Xx.init(e,t),eC.init(e,t)}),BSe=ce("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=lSe),$t.init(e,t)}),zSe=ce("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=s4(n))}else t.pattern??(t.pattern=s4());$t.init(e,t)}),USe=ce("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=cSe),$t.init(e,t)}),VSe=ce("$ZodURL",(e,t)=>{$t.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),WSe=ce("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=dSe()),$t.init(e,t)}),HSe=ce("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=iSe),$t.init(e,t)}),KSe=ce("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=tSe),$t.init(e,t)}),GSe=ce("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=rSe),$t.init(e,t)}),qSe=ce("$ZodULID",(e,t)=>{t.pattern??(t.pattern=nSe),$t.init(e,t)}),YSe=ce("$ZodXID",(e,t)=>{t.pattern??(t.pattern=aSe),$t.init(e,t)}),XSe=ce("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=sSe),$t.init(e,t)}),ZSe=ce("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=bSe(t)),$t.init(e,t)}),JSe=ce("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=xSe),$t.init(e,t)}),QSe=ce("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=ySe(t)),$t.init(e,t)}),eEe=ce("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=oSe),$t.init(e,t)}),tEe=ce("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=fSe),$t.init(e,t),e._zod.bag.format="ipv4"}),rEe=ce("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=hSe),$t.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),nEe=ce("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=pSe),$t.init(e,t)}),aEe=ce("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=mSe),$t.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function BB(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const sEe=ce("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=vSe),$t.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{BB(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function iEe(e){if(!MB.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return BB(r)}const oEe=ce("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=MB),$t.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{iEe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),lEe=ce("$ZodE164",(e,t)=>{t.pattern??(t.pattern=gSe),$t.init(e,t)});function cEe(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const uEe=ce("$ZodJWT",(e,t)=>{$t.init(e,t),e._zod.check=r=>{cEe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),zB=ce("$ZodNumber",(e,t)=>{jr.init(e,t),e._zod.pattern=e._zod.bag.pattern??kSe,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),dEe=ce("$ZodNumberFormat",(e,t)=>{TSe.init(e,t),zB.init(e,t)}),fEe=ce("$ZodUnknown",(e,t)=>{jr.init(e,t),e._zod.parse=r=>r}),hEe=ce("$ZodNever",(e,t)=>{jr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function i4(e,t,r){e.issues.length&&t.issues.push(...PB(r,e.issues)),t.value[r]=e.value}const pEe=ce("$ZodArray",(e,t)=>{jr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let i=0;i<a.length;i++){const o=a[i],l=t.element._zod.run({value:o,issues:[]},n);l instanceof Promise?s.push(l.then(c=>i4(c,r,i))):i4(l,r,i)}return s.length?Promise.all(s).then(()=>r):r}});function cg(e,t,r,n){e.issues.length&&t.issues.push(...PB(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function UB(e){var n,a,s,i;const t=Object.keys(e.shape);for(const o of t)if(!((i=(s=(a=(n=e.shape)==null?void 0:n[o])==null?void 0:a._zod)==null?void 0:s.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=Mke(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function VB(e,t,r,n,a,s){const i=[],o=a.keySet,l=a.catchall._zod,c=l.def.type;for(const u in t){if(o.has(u))continue;if(c==="never"){i.push(u);continue}const f=l.run({value:t[u],issues:[]},n);f instanceof Promise?e.push(f.then(h=>cg(h,r,u,t))):cg(f,r,u,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const mEe=ce("$ZodObject",(e,t)=>{jr.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...o};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=qE(()=>UB(t));St(e._zod,"propValues",()=>{const o=t.shape,l={};for(const c in o){const u=o[c]._zod;if(u.values){l[c]??(l[c]=new Set);for(const f of u.values)l[c].add(f)}}return l});const a=lg,s=t.catchall;let i;e._zod.parse=(o,l)=>{i??(i=n.value);const c=o.value;if(!a(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const u=[],f=i.shape;for(const h of i.keys){const m=f[h]._zod.run({value:c[h],issues:[]},l);m instanceof Promise?u.push(m.then(v=>cg(v,o,h,c))):cg(m,o,h,c)}return s?VB(u,c,o,l,n.value,e):u.length?Promise.all(u).then(()=>o):o}}),vEe=ce("$ZodObjectJIT",(e,t)=>{mEe.init(e,t);const r=e._zod.parse,n=qE(()=>UB(t)),a=h=>{const p=new LSe(["shape","payload","ctx"]),m=n.value,v=y=>{const _=a4(y);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};p.write("const input = payload.value;");const g=Object.create(null);let x=0;for(const y of m.keys)g[y]=`key_${x++}`;p.write("const newResult = {};");for(const y of m.keys){const _=g[y],S=a4(y);p.write(`const ${_} = ${v(y)};`),p.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        
        if (${_}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${_}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(y,_)=>b(h,y,_)};let s;const i=lg,o=!TB.jitless,c=o&&Oke.value,u=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=n.value);const m=h.value;return i(m)?o&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=a(t.shape)),h=s(h,p),u?VB([],m,h,p,f,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function o4(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!eu(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(i=>rc(i,n,tc())))}),t)}const gEe=ce("$ZodUnion",(e,t)=>{jr.init(e,t),St(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),St(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),St(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),St(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>XE(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let i=!1;const o=[];for(const l of t.options){const c=l._zod.run({value:a.value,issues:[]},s);if(c instanceof Promise)o.push(c),i=!0;else{if(c.issues.length===0)return c;o.push(c)}}return i?Promise.all(o).then(l=>o4(l,a,e,s)):o4(o,a,e,s)}}),xEe=ce("$ZodIntersection",(e,t)=>{jr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,c])=>l4(r,l,c)):l4(r,s,i)}});function g_(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(w0(e)&&w0(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const i=g_(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};a[s]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],i=g_(a,s);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function l4(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),eu(e))return e;const n=g_(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const yEe=ce("$ZodEnum",(e,t)=>{jr.init(e,t);const r=jke(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>Dke.has(typeof a)).map(a=>typeof a=="string"?Gx(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const i=a.value;return n.has(i)||a.issues.push({code:"invalid_value",values:r,input:i,inst:e}),a}}),bEe=ce("$ZodTransform",(e,t)=>{jr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new CB(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(r.value=i,r));if(a instanceof Promise)throw new bu;return r.value=a,r}});function c4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const wEe=ce("$ZodOptional",(e,t)=>{jr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${XE(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>c4(s,r.value)):c4(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),_Ee=ce("$ZodNullable",(e,t)=>{jr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${XE(r.source)}|null)$`):void 0}),St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),kEe=ce("$ZodDefault",(e,t)=>{jr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>u4(s,t)):u4(a,t)}});function u4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const SEe=ce("$ZodPrefault",(e,t)=>{jr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),EEe=ce("$ZodNonOptional",(e,t)=>{jr.init(e,t),St(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>d4(s,e)):d4(a,e)}});function d4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const CEe=ce("$ZodCatch",(e,t)=>{jr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>rc(i,n,tc()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>rc(s,n,tc()))},input:r.value}),r.issues=[]),r)}}),TEe=ce("$ZodPipe",(e,t)=>{jr.init(e,t),St(e._zod,"values",()=>t.in._zod.values),St(e._zod,"optin",()=>t.in._zod.optin),St(e._zod,"optout",()=>t.out._zod.optout),St(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(i=>Bp(i,t.in,n)):Bp(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Bp(s,t.out,n)):Bp(a,t.out,n)}});function Bp(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const AEe=ce("$ZodReadonly",(e,t)=>{jr.init(e,t),St(e._zod,"propValues",()=>t.innerType._zod.propValues),St(e._zod,"values",()=>t.innerType._zod.values),St(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),St(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(f4):f4(a)}});function f4(e){return e.value=Object.freeze(e.value),e}const jEe=ce("$ZodCustom",(e,t)=>{da.init(e,t),jr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>h4(s,r,n,e));h4(a,r,n,e)}});function h4(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(_0(a))}}var p4;class PEe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function NEe(){return new PEe}(p4=globalThis).__zod_globalRegistry??(p4.__zod_globalRegistry=NEe());const zp=globalThis.__zod_globalRegistry;function OEe(e,t){return new e({type:"string",...De(t)})}function DEe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...De(t)})}function m4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...De(t)})}function MEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...De(t)})}function IEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(t)})}function REe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(t)})}function FEe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(t)})}function LEe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...De(t)})}function $Ee(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...De(t)})}function BEe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(t)})}function zEe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...De(t)})}function UEe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(t)})}function VEe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...De(t)})}function WEe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...De(t)})}function HEe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(t)})}function KEe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(t)})}function GEe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(t)})}function qEe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(t)})}function YEe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(t)})}function XEe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...De(t)})}function ZEe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...De(t)})}function JEe(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...De(t)})}function QEe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...De(t)})}function eCe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(t)})}function tCe(e,t){return new e({type:"string",format:"date",check:"string_format",...De(t)})}function rCe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...De(t)})}function nCe(e,t){return new e({type:"string",format:"duration",check:"string_format",...De(t)})}function aCe(e,t){return new e({type:"number",checks:[],...De(t)})}function sCe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...De(t)})}function iCe(e){return new e({type:"unknown"})}function oCe(e,t){return new e({type:"never",...De(t)})}function v4(e,t){return new LB({check:"less_than",...De(t),value:e,inclusive:!1})}function j1(e,t){return new LB({check:"less_than",...De(t),value:e,inclusive:!0})}function g4(e,t){return new $B({check:"greater_than",...De(t),value:e,inclusive:!1})}function P1(e,t){return new $B({check:"greater_than",...De(t),value:e,inclusive:!0})}function x4(e,t){return new CSe({check:"multiple_of",...De(t),value:e})}function WB(e,t){return new ASe({check:"max_length",...De(t),maximum:e})}function ug(e,t){return new jSe({check:"min_length",...De(t),minimum:e})}function HB(e,t){return new PSe({check:"length_equals",...De(t),length:e})}function lCe(e,t){return new NSe({check:"string_format",format:"regex",...De(t),pattern:e})}function cCe(e){return new OSe({check:"string_format",format:"lowercase",...De(e)})}function uCe(e){return new DSe({check:"string_format",format:"uppercase",...De(e)})}function dCe(e,t){return new MSe({check:"string_format",format:"includes",...De(t),includes:e})}function fCe(e,t){return new ISe({check:"string_format",format:"starts_with",...De(t),prefix:e})}function hCe(e,t){return new RSe({check:"string_format",format:"ends_with",...De(t),suffix:e})}function ld(e){return new FSe({check:"overwrite",tx:e})}function pCe(e){return ld(t=>t.normalize(e))}function mCe(){return ld(e=>e.trim())}function vCe(){return ld(e=>e.toLowerCase())}function gCe(){return ld(e=>e.toUpperCase())}function xCe(){return ld(e=>Nke(e))}function yCe(e,t,r){return new e({type:"array",element:t,...De(r)})}function bCe(e,t,r){return new e({type:"custom",check:"custom",fn:t,...De(r)})}function wCe(e){const t=_Ce(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(_0(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(_0(a))}},e(r.value,r)));return t}function _Ce(e,t){const r=new da({check:"custom",...De(t)});return r._zod.check=e,r}const kCe=ce("ZodISODateTime",(e,t)=>{ZSe.init(e,t),er.init(e,t)});function SCe(e){return eCe(kCe,e)}const ECe=ce("ZodISODate",(e,t)=>{JSe.init(e,t),er.init(e,t)});function CCe(e){return tCe(ECe,e)}const TCe=ce("ZodISOTime",(e,t)=>{QSe.init(e,t),er.init(e,t)});function ACe(e){return rCe(TCe,e)}const jCe=ce("ZodISODuration",(e,t)=>{eEe.init(e,t),er.init(e,t)});function PCe(e){return nCe(jCe,e)}const NCe=(e,t)=>{OB.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>Wke(e,r)},flatten:{value:r=>Vke(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,v_,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,v_,2)}},isEmpty:{get(){return e.issues.length===0}}})},es=ce("ZodError",NCe,{Parent:Error}),OCe=JE(es),DCe=QE(es),MCe=qx(es),ICe=Yx(es),RCe=Gke(es),FCe=qke(es),LCe=Yke(es),$Ce=Xke(es),BCe=Zke(es),zCe=Jke(es),UCe=Qke(es),VCe=eSe(es),Wr=ce("ZodType",(e,t)=>(jr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(gc(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>Qo(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>OCe(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>MCe(e,r,n),e.parseAsync=async(r,n)=>DCe(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>ICe(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>RCe(e,r,n),e.decode=(r,n)=>FCe(e,r,n),e.encodeAsync=async(r,n)=>LCe(e,r,n),e.decodeAsync=async(r,n)=>$Ce(e,r,n),e.safeEncode=(r,n)=>BCe(e,r,n),e.safeDecode=(r,n)=>zCe(e,r,n),e.safeEncodeAsync=async(r,n)=>UCe(e,r,n),e.safeDecodeAsync=async(r,n)=>VCe(e,r,n),e.refine=(r,n)=>e.check(MTe(r,n)),e.superRefine=r=>e.check(ITe(r)),e.overwrite=r=>e.check(ld(r)),e.optional=()=>_4(e),e.nullable=()=>k4(e),e.nullish=()=>_4(k4(e)),e.nonoptional=r=>TTe(e,r),e.array=()=>pTe(e),e.or=r=>qB([e,r]),e.and=r=>yTe(e,r),e.transform=r=>S4(e,wTe(r)),e.default=r=>STe(e,r),e.prefault=r=>CTe(e,r),e.catch=r=>jTe(e,r),e.pipe=r=>S4(e,r),e.readonly=()=>OTe(e),e.describe=r=>{const n=e.clone();return zp.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=zp.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return zp.get(e);const n=e.clone();return zp.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),KB=ce("_ZodString",(e,t)=>{eC.init(e,t),Wr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(lCe(...n)),e.includes=(...n)=>e.check(dCe(...n)),e.startsWith=(...n)=>e.check(fCe(...n)),e.endsWith=(...n)=>e.check(hCe(...n)),e.min=(...n)=>e.check(ug(...n)),e.max=(...n)=>e.check(WB(...n)),e.length=(...n)=>e.check(HB(...n)),e.nonempty=(...n)=>e.check(ug(1,...n)),e.lowercase=n=>e.check(cCe(n)),e.uppercase=n=>e.check(uCe(n)),e.trim=()=>e.check(mCe()),e.normalize=(...n)=>e.check(pCe(...n)),e.toLowerCase=()=>e.check(vCe()),e.toUpperCase=()=>e.check(gCe()),e.slugify=()=>e.check(xCe())}),WCe=ce("ZodString",(e,t)=>{eC.init(e,t),KB.init(e,t),e.email=r=>e.check(DEe(HCe,r)),e.url=r=>e.check(LEe(KCe,r)),e.jwt=r=>e.check(QEe(oTe,r)),e.emoji=r=>e.check($Ee(GCe,r)),e.guid=r=>e.check(m4(y4,r)),e.uuid=r=>e.check(MEe(Up,r)),e.uuidv4=r=>e.check(IEe(Up,r)),e.uuidv6=r=>e.check(REe(Up,r)),e.uuidv7=r=>e.check(FEe(Up,r)),e.nanoid=r=>e.check(BEe(qCe,r)),e.guid=r=>e.check(m4(y4,r)),e.cuid=r=>e.check(zEe(YCe,r)),e.cuid2=r=>e.check(UEe(XCe,r)),e.ulid=r=>e.check(VEe(ZCe,r)),e.base64=r=>e.check(XEe(aTe,r)),e.base64url=r=>e.check(ZEe(sTe,r)),e.xid=r=>e.check(WEe(JCe,r)),e.ksuid=r=>e.check(HEe(QCe,r)),e.ipv4=r=>e.check(KEe(eTe,r)),e.ipv6=r=>e.check(GEe(tTe,r)),e.cidrv4=r=>e.check(qEe(rTe,r)),e.cidrv6=r=>e.check(YEe(nTe,r)),e.e164=r=>e.check(JEe(iTe,r)),e.datetime=r=>e.check(SCe(r)),e.date=r=>e.check(CCe(r)),e.time=r=>e.check(ACe(r)),e.duration=r=>e.check(PCe(r))});function Vt(e){return OEe(WCe,e)}const er=ce("ZodStringFormat",(e,t)=>{$t.init(e,t),KB.init(e,t)}),HCe=ce("ZodEmail",(e,t)=>{USe.init(e,t),er.init(e,t)}),y4=ce("ZodGUID",(e,t)=>{BSe.init(e,t),er.init(e,t)}),Up=ce("ZodUUID",(e,t)=>{zSe.init(e,t),er.init(e,t)}),KCe=ce("ZodURL",(e,t)=>{VSe.init(e,t),er.init(e,t)}),GCe=ce("ZodEmoji",(e,t)=>{WSe.init(e,t),er.init(e,t)}),qCe=ce("ZodNanoID",(e,t)=>{HSe.init(e,t),er.init(e,t)}),YCe=ce("ZodCUID",(e,t)=>{KSe.init(e,t),er.init(e,t)}),XCe=ce("ZodCUID2",(e,t)=>{GSe.init(e,t),er.init(e,t)}),ZCe=ce("ZodULID",(e,t)=>{qSe.init(e,t),er.init(e,t)}),JCe=ce("ZodXID",(e,t)=>{YSe.init(e,t),er.init(e,t)}),QCe=ce("ZodKSUID",(e,t)=>{XSe.init(e,t),er.init(e,t)}),eTe=ce("ZodIPv4",(e,t)=>{tEe.init(e,t),er.init(e,t)}),tTe=ce("ZodIPv6",(e,t)=>{rEe.init(e,t),er.init(e,t)}),rTe=ce("ZodCIDRv4",(e,t)=>{nEe.init(e,t),er.init(e,t)}),nTe=ce("ZodCIDRv6",(e,t)=>{aEe.init(e,t),er.init(e,t)}),aTe=ce("ZodBase64",(e,t)=>{sEe.init(e,t),er.init(e,t)}),sTe=ce("ZodBase64URL",(e,t)=>{oEe.init(e,t),er.init(e,t)}),iTe=ce("ZodE164",(e,t)=>{lEe.init(e,t),er.init(e,t)}),oTe=ce("ZodJWT",(e,t)=>{uEe.init(e,t),er.init(e,t)}),GB=ce("ZodNumber",(e,t)=>{zB.init(e,t),Wr.init(e,t),e.gt=(n,a)=>e.check(g4(n,a)),e.gte=(n,a)=>e.check(P1(n,a)),e.min=(n,a)=>e.check(P1(n,a)),e.lt=(n,a)=>e.check(v4(n,a)),e.lte=(n,a)=>e.check(j1(n,a)),e.max=(n,a)=>e.check(j1(n,a)),e.int=n=>e.check(b4(n)),e.safe=n=>e.check(b4(n)),e.positive=n=>e.check(g4(0,n)),e.nonnegative=n=>e.check(P1(0,n)),e.negative=n=>e.check(v4(0,n)),e.nonpositive=n=>e.check(j1(0,n)),e.multipleOf=(n,a)=>e.check(x4(n,a)),e.step=(n,a)=>e.check(x4(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function lTe(e){return aCe(GB,e)}const cTe=ce("ZodNumberFormat",(e,t)=>{dEe.init(e,t),GB.init(e,t)});function b4(e){return sCe(cTe,e)}const uTe=ce("ZodUnknown",(e,t)=>{fEe.init(e,t),Wr.init(e,t)});function w4(){return iCe(uTe)}const dTe=ce("ZodNever",(e,t)=>{hEe.init(e,t),Wr.init(e,t)});function fTe(e){return oCe(dTe,e)}const hTe=ce("ZodArray",(e,t)=>{pEe.init(e,t),Wr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(ug(r,n)),e.nonempty=r=>e.check(ug(1,r)),e.max=(r,n)=>e.check(WB(r,n)),e.length=(r,n)=>e.check(HB(r,n)),e.unwrap=()=>e.element});function pTe(e,t){return yCe(hTe,e,t)}const mTe=ce("ZodObject",(e,t)=>{vEe.init(e,t),Wr.init(e,t),St(e,"shape",()=>t.shape),e.keyof=()=>pm(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:w4()}),e.loose=()=>e.clone({...e._zod.def,catchall:w4()}),e.strict=()=>e.clone({...e._zod.def,catchall:fTe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>Lke(e,r),e.safeExtend=r=>$ke(e,r),e.merge=r=>Bke(e,r),e.pick=r=>Rke(e,r),e.omit=r=>Fke(e,r),e.partial=(...r)=>zke(YB,e,r[0]),e.required=(...r)=>Uke(XB,e,r[0])});function vTe(e,t){const r={type:"object",shape:e??{},...De(t)};return new mTe(r)}const gTe=ce("ZodUnion",(e,t)=>{gEe.init(e,t),Wr.init(e,t),e.options=t.options});function qB(e,t){return new gTe({type:"union",options:e,...De(t)})}const xTe=ce("ZodIntersection",(e,t)=>{xEe.init(e,t),Wr.init(e,t)});function yTe(e,t){return new xTe({type:"intersection",left:e,right:t})}const x_=ce("ZodEnum",(e,t)=>{yEe.init(e,t),Wr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const i of n)if(r.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new x_({...t,checks:[],...De(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const i of n)if(r.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new x_({...t,checks:[],...De(a),entries:s})}});function pm(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new x_({type:"enum",entries:r,...De(t)})}const bTe=ce("ZodTransform",(e,t)=>{bEe.init(e,t),Wr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new CB(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(_0(s,r.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(_0(i))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function wTe(e){return new bTe({type:"transform",transform:e})}const YB=ce("ZodOptional",(e,t)=>{wEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function _4(e){return new YB({type:"optional",innerType:e})}const _Te=ce("ZodNullable",(e,t)=>{_Ee.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function k4(e){return new _Te({type:"nullable",innerType:e})}const kTe=ce("ZodDefault",(e,t)=>{kEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function STe(e,t){return new kTe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():jB(t)}})}const ETe=ce("ZodPrefault",(e,t)=>{SEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function CTe(e,t){return new ETe({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():jB(t)}})}const XB=ce("ZodNonOptional",(e,t)=>{EEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function TTe(e,t){return new XB({type:"nonoptional",innerType:e,...De(t)})}const ATe=ce("ZodCatch",(e,t)=>{CEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function jTe(e,t){return new ATe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const PTe=ce("ZodPipe",(e,t)=>{TEe.init(e,t),Wr.init(e,t),e.in=t.in,e.out=t.out});function S4(e,t){return new PTe({type:"pipe",in:e,out:t})}const NTe=ce("ZodReadonly",(e,t)=>{AEe.init(e,t),Wr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function OTe(e){return new NTe({type:"readonly",innerType:e})}const DTe=ce("ZodCustom",(e,t)=>{jEe.init(e,t),Wr.init(e,t)});function MTe(e,t={}){return bCe(DTe,e,t)}function ITe(e){return wCe(e)}const ZB=vTe({bu:pm(["B2C","B2B2C","Plurix","Bem Barato"]),segmento:Vt().min(1,"Segmento  obrigatrio"),jornada:Vt().min(5,"Mnimo 5 caracteres").max(250,"Mximo 250 caracteres"),activityName:Vt().min(2,"Mnimo 2 caracteres").max(250,"Mximo 250 caracteres"),dataInicio:Vt().refine(e=>new Date(e)>=new Date(new Date().setHours(0,0,0,0)),"No pode ser data passada"),dataFim:Vt(),horarioDisparo:Vt().regex(/^\d{2}:\d{2}$/,"Formato: HH:MM"),canal:pm(["E-mail","Push","SMS","WhatsApp"]),safra:Vt().optional(),ordemDisparo:qB([Vt(),lTe()]).optional(),perfilCredito:Vt().optional(),oferta:Vt().optional(),promocional:Vt().optional(),oferta2:Vt().optional(),promocional2:Vt().optional(),parceiro:Vt().optional(),subgrupo:Vt().optional(),etapaAquisicao:Vt().optional(),produto:Vt().optional(),baseVolume:Vt().optional(),custoUnitarioOferta:Vt().optional(),custoTotalOferta:Vt().optional(),custoUnitarioCanal:Vt().optional(),custoTotalCanal:Vt().optional(),custoTotalCampanha:Vt().optional(),status:pm(["Rascunho","Scheduled","Enviado","Realizado"]).default("Rascunho")}).refine(e=>new Date(e.dataFim)>=new Date(e.dataInicio),{message:"Data Fim  Data Incio",path:["dataFim"]}).refine(e=>e.oferta||e.promocional,{message:"Selecione pelo menos Oferta OU Promocional",path:["oferta"]}),RTe=async(e,t)=>{var l;const r=ZB.parse(e),{data:n}=await ct.from("activities").select('"Ordem de disparo"').eq("Segmento",t).order("Ordem de disparo",{ascending:!1}).limit(1),a=(((l=n==null?void 0:n[0])==null?void 0:l["Ordem de disparo"])||0)+1,s={prog_gaas:!0,status:r.status,BU:r.bu,jornada:r.jornada,"Activity name / Taxonomia":r.activityName,"Data de Disparo":r.dataInicio,"Data Fim":r.dataFim,Segmento:t,"Perfil de Crdito":r.perfilCredito||null,Oferta:r.oferta||null,Promocional:r.promocional||null,"Oferta 2":r.oferta2||null,"Promocional 2":r.promocional2||null,Parceiro:r.parceiro||null,Subgrupos:r.subgrupo||null,"Etapa de aquisio":r.etapaAquisicao||null,Produto:r.produto||null,"Base Total":Number(r.baseVolume)||null,"Ordem de disparo":r.ordemDisparo==="Pontual"?1:Number(r.ordemDisparo)||a,"Horrio de Disparo":r.horarioDisparo||"10:00",updated_at:new Date().toISOString()},{data:i,error:o}=await ct.from("activities").insert(s).select().single();if(o)throw o;return i},tC=async(e,t)=>{const{data:r,error:n}=await ct.from("activities").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},FTe=async e=>{const{error:t}=await ct.from("activities").delete().eq("id",e);if(t)throw t},LTe=async e=>tC(e,{status:"Scheduled"}),$Te=async e=>tC(e,{status:"Scheduled"}),BTe=async()=>{const{data:e,error:t}=await ct.from("activities").select("*").order("Data de Disparo",{ascending:!1}).limit(1e4);if(t)throw t;return e||[]},JB=async e=>{const{error:t}=await ct.from("activities").delete().eq("prog_gaas",!1);if(t)throw console.error("Erro ao limpar dados antigos:",t),new Error("Falha ao limpar histrico antigo.");if(e.length===0)return;const r=e.map(a=>{var i,o,l,c,u,f,h,p,m,v,g,x,b,y,_,S,k,E,C,T,j,P,A,N,F,B,q,K,X,I,J,Z,M,z,G,H,Q,oe,le,Y,te,ue,D,Ne,me,ye;const s=fe=>{if(typeof fe=="number")return fe;if(!fe)return 0;let de=String(fe).replace(/[R$\s%]/g,"");return de.includes(",")&&de.includes(".")?de=de.replace(/\./g,"").replace(",","."):de.includes(",")&&(de=de.replace(",",".")),parseFloat(de)||0};return{prog_gaas:!1,status:"Realizado","Activity name / Taxonomia":a.id||((i=a.raw)==null?void 0:i["Activity name / Taxonomia"]),"Data de Disparo":a.dataDisparo?new Date(a.dataDisparo).toISOString():null,"Data Fim":(o=a.raw)!=null&&o["Data Fim"]?new Date(a.raw["Data Fim"]).toISOString():null,BU:a.bu,Canal:a.canal,Safra:a.safraKey||((l=a.raw)==null?void 0:l.Safra),Parceiro:a.parceiro,SIGLA_Parceiro:(c=a.raw)==null?void 0:c.SIGLA,Segmento:a.segmento,SIGLA_Segmento:(u=a.raw)==null?void 0:u["SIGLA.1"],Subgrupos:(f=a.raw)==null?void 0:f.Subgrupos,"Etapa de aquisio":(h=a.raw)==null?void 0:h["Etapa de aquisio"],"Perfil de Crdito":(p=a.raw)==null?void 0:p["Perfil de Crdito"],Produto:(m=a.raw)==null?void 0:m.Produto,Oferta:a.oferta,Promocional:(v=a.raw)==null?void 0:v.Promocional,SIGLA_Oferta:(g=a.raw)==null?void 0:g["SIGLA.2"],"Oferta 2":(x=a.raw)==null?void 0:x["Oferta 2"],"Promocional 2":(b=a.raw)==null?void 0:b["Promocional 2"],"Ordem de disparo":typeof a.ordemDisparo=="number"?a.ordemDisparo:zTe((y=a.raw)==null?void 0:y["Ordem de disparo"]),"Base Total":((_=a.kpis)==null?void 0:_.baseEnviada)??s((S=a.raw)==null?void 0:S["Base Total"]),"Base Acionvel":((k=a.kpis)==null?void 0:k.baseEntregue)??s((E=a.raw)==null?void 0:E["Base Acionvel"]),"% Otimizao de base":s((C=a.raw)==null?void 0:C["% Otimizao de base"]),"Custo Unitrio Oferta":s((T=a.raw)==null?void 0:T["Custo Unitrio Oferta"]),"Custo Total da Oferta":s((j=a.raw)==null?void 0:j["Custo Total da Oferta"]),"Custo unitrio do canal":s((P=a.raw)==null?void 0:P["Custo unitrio do canal"]),"Custo total canal":s((A=a.raw)==null?void 0:A["Custo total canal"]),"Custo Total Campanha":((N=a.kpis)==null?void 0:N.custoTotal)??s((F=a.raw)==null?void 0:F["Custo Total Campanha"]),CAC:((B=a.kpis)==null?void 0:B.cac)??s((q=a.raw)==null?void 0:q.CAC),"Taxa de Entrega":((K=a.kpis)==null?void 0:K.taxaEntrega)??s((X=a.raw)==null?void 0:X["Taxa de Entrega"]),"Taxa de Abertura":((I=a.kpis)==null?void 0:I.taxaAbertura)??s((J=a.raw)==null?void 0:J["Taxa de Abertura"]),"Taxa de Clique":s((Z=a.raw)==null?void 0:Z["Taxa de Clique"]),"Taxa de Proposta":((M=a.kpis)==null?void 0:M.taxaPropostas)??s((z=a.raw)==null?void 0:z["Taxa de Proposta"]),"Taxa de Aprovao":((G=a.kpis)==null?void 0:G.taxaAprovacao)??s((H=a.raw)==null?void 0:H["Taxa de Aprovao"]),"Taxa de Finalizao":((Q=a.kpis)==null?void 0:Q.taxaFinalizacao)??s((oe=a.raw)==null?void 0:oe["Taxa de Finalizao"]),"Taxa de Converso":((le=a.kpis)==null?void 0:le.taxaConversao)??s((Y=a.raw)==null?void 0:Y["Taxa de Converso"]),"Cartes Gerados":((te=a.kpis)==null?void 0:te.cartoes)??s((ue=a.raw)==null?void 0:ue["Cartes Gerados"]),Aprovados:((D=a.kpis)==null?void 0:D.aprovados)??s((Ne=a.raw)==null?void 0:Ne.Aprovados),Propostas:((me=a.kpis)==null?void 0:me.propostas)??s((ye=a.raw)==null?void 0:ye.Propostas),"Emisses Independentes":0,"Emisses Assistidas":0}}),n=500;for(let a=0;a<r.length;a+=n){const s=r.slice(a,a+n),{error:i}=await ct.from("activities").insert(s);if(i)throw console.error("Erro inserindo lote:",i),new Error(`Erro ao sincronizar lote ${a/n+1}: ${i.message}`)}};function zTe(e){const t=parseInt(e);return isNaN(t)?null:t}const mm={saveActivity:RTe,updateActivity:tC,deleteActivity:FTe,publishActivity:LTe,confirmDraft:$Te,getAllActivities:BTe,syncFrameworkActivities:JB},Vp={async listVersions(){const{data:e,error:t}=await ct.from("framework_versions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async uploadVersion(e,t){const r=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9._-]/g,"_"),n=`framework_versions/${Date.now()}_${r}`,{error:a}=await ct.storage.from("app-data").upload(n,e);if(a)throw a;const{data:s,error:i}=await ct.from("framework_versions").insert({filename:e.name,storage_path:n,row_count:t,is_active:!1}).select().single();if(i)throw i;return s},async activateVersion(e,t){await ct.from("framework_versions").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000"),await ct.from("framework_versions").update({is_active:!0}).eq("id",e),await JB(t)},async deleteVersion(e,t){const{error:r}=await ct.from("framework_versions").delete().eq("id",e);if(r)throw r;t&&await ct.storage.from("app-data").remove([t])}},rC=e=>{const t={id:e.id,"Activity name / Taxonomia":e["Activity name / Taxonomia"],"Data de Disparo":e["Data de Disparo"],"Data Fim":e["Data Fim"],BU:e.BU,Canal:e.Canal,Segmento:e.Segmento,"SIGLA.1":e.SIGLA_Segmento,Subgrupos:e.Subgrupos,Jornada:e.jornada,"Etapa de aquisio":e["Etapa de aquisio"],"Ordem de disparo":e["Ordem de disparo"],Parceiro:e.Parceiro,SIGLA:e.SIGLA_Parceiro,Safra:e.Safra,"Perfil de Crdito":e["Perfil de Crdito"],Produto:e.Produto,Oferta:e.Oferta,"SIGLA.2":e.SIGLA_Oferta,"Oferta 2":e["Oferta 2"],Promocional:e.Promocional,"Promocional 2":e["Promocional 2"],"Disparado?":e.status==="Realizado"?"Sim":"No","Base Total":e["Base Total"],"Base Acionvel":e["Base Acionvel"],"% Otimizao de base":e["% Otimizao de base"],"Base Enviada":e["Base Total"],"Custo Unitrio Oferta":e["Custo Unitrio Oferta"],"Custo Total da Oferta":e["Custo Total da Oferta"],"Custo unitrio do canal":e["Custo unitrio do canal"],"Custo total canal":e["Custo total canal"],"Custo Total Campanha":e["Custo Total Campanha"],"Taxa de Entrega":e["Taxa de Entrega"],"Taxa de Abertura":e["Taxa de Abertura"],"Taxa de Clique":e["Taxa de Clique"],"Taxa de Proposta":e["Taxa de Proposta"],"Taxa de Aprovao":e["Taxa de Aprovao"],"Taxa de Finalizao":e["Taxa de Finalizao"],"Taxa de Converso":e["Taxa de Converso"],Propostas:e.Propostas,Aprovados:e.Aprovados,"Cartes Gerados":e["Cartes Gerados"],CAC:e.CAC};return{id:e["Activity name / Taxonomia"]||e.id,dataDisparo:Eh(e["Data de Disparo"])||new Date(e["Data de Disparo"]),canal:e.Canal,bu:e.BU,segmento:e.Segmento,parceiro:e.Parceiro,jornada:e.jornada,ordemDisparo:Number(e["Ordem de disparo"])||void 0,oferta:e.Oferta,promocional:e.Promocional,safraKey:e.Safra,status:e.status,kpis:{baseEnviada:e["Base Total"],baseEntregue:e["Base Acionvel"],taxaEntrega:e["Taxa de Entrega"],propostas:e.Propostas,taxaPropostas:e["Taxa de Proposta"],aprovados:e.Aprovados,taxaAprovacao:e["Taxa de Aprovao"],emissoes:e["Cartes Gerados"],taxaFinalizacao:e["Taxa de Finalizao"],taxaConversao:e["Taxa de Converso"],taxaAbertura:e["Taxa de Abertura"],cartoes:e["Cartes Gerados"],cac:e.CAC,custoTotal:e["Custo Total Campanha"]},raw:t}},y_={async fetchActivities(){const{data:e,error:t}=await ct.from("activities").select("*").order('"Data de Disparo"',{ascending:!1});if(t)throw t;return(e||[]).map(rC)},async fetchB2CMetrics(){const{data:e,error:t}=await ct.from("b2c_daily_metrics").select("*").order("data",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({data:r.data,propostas_b2c_total:r.propostas_total,emissoes_b2c_total:r.emissoes_total,percentual_conversao_b2c:r.percentual_conversao,observacoes:r.observacoes}))},async fetchPaidMedia(){const{data:e,error:t}=await ct.from("paid_media_metrics").select("*").order("date",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({date:new Date(r.date),channel:r.channel,campaign:r.campaign,objective:r.objective,spend:r.spend,impressions:r.impressions,clicks:r.clicks,conversions:r.conversions,ctr:r.ctr,cpc:r.cpc,cpm:r.cpm,cpa:r.cpa}))},async fetchGoals(){const{data:e,error:t}=await ct.from("goals").select("*");if(t)throw t;return e||[]},async upsertGoal(e){const{error:t}=await ct.from("goals").upsert(e,{onConflict:"mes"});if(t)throw t},async upsertB2CMetrics(e){const t=e.map(n=>({data:n.data,propostas_total:n.propostas_b2c_total||0,emissoes_total:n.emissoes_b2c_total||0,percentual_conversao:n.percentual_conversao_b2c||0,observacoes:n.observacoes||null})),{error:r}=await ct.from("b2c_daily_metrics").upsert(t,{onConflict:"data"});if(r)throw r},async upsertPaidMedia(e){const t=e.map(n=>({date:ke(n.date,"yyyy-MM-dd"),channel:n.channel,campaign:n.campaign,objective:n.objective,spend:n.spend,impressions:n.impressions,clicks:n.clicks,conversions:n.conversions,ctr:n.ctr,cpc:n.cpc,cpm:n.cpm,cpa:n.cpa})),{error:r}=await ct.from("paid_media_metrics").upsert(t,{onConflict:"date, channel, campaign"});if(r)throw r}},QB=Object.freeze(Object.defineProperty({__proto__:null,dataService:y_,mapSqlToActivity:rC},Symbol.toStringTag,{value:"Module"})),UTe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState(null),{processCSV:u}=Ux();w.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const v=await Vp.listVersions();t(v)}catch(v){console.error(v),c({type:"error",text:"Erro ao listar verses: "+v.message})}finally{n(!1)}},h=async v=>{var x;const g=(x=v.target.files)==null?void 0:x[0];if(g){s(!0),c(null);try{const y=(await u(g)).length;await Vp.uploadVersion(g,y),await f(),c({type:"success",text:"Verso enviada com sucesso! Clique em ativar para aplicar."})}catch(b){console.error(b),c({type:"error",text:"Falha no upload: "+b.message})}finally{s(!1)}}},p=async v=>{if(confirm(`Deseja ATIVAR a verso "${v.filename}"?

ISSO SUBSTITUIR TODOS OS DADOS ATUAIS DO FRAMEWORK NO BANCO DE DADOS.`)){o(v.id),c(null);try{const g=await ms.getDownloadUrl(v.storage_path),b=await(await fetch(g)).blob(),y=new File([b],v.filename,{type:b.type}),_=await u(y);await Vp.activateVersion(v.id,_),await f(),c({type:"success",text:`Verso "${v.filename}" ativada com sucesso!`})}catch(g){console.error(g),c({type:"error",text:"Erro na ativao: "+g.message})}finally{o(null)}}},m=async v=>{if(confirm("Excluir esta verso permanentemente?")){n(!0);try{await Vp.deleteVersion(v.id,v.storage_path),await f()}catch(g){c({type:"error",text:g.message})}finally{n(!1)}}};return d.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[d.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:d.jsx(U2,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:"Verses do Framework"}),d.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:"CSV"})]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"file",accept:".csv",onChange:h,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:a}),d.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[a?d.jsx(Vs,{size:14,className:"animate-spin"}):d.jsx(Bf,{size:14}),a?"Enviando...":"Nova Verso"]})]})]}),d.jsx("div",{className:"p-2 max-h-64 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:r&&!e.length?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[d.jsx(Vs,{className:"animate-spin"}),d.jsx("span",{className:"text-xs",children:"Carregando verses..."})]}):e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[d.jsx(Bf,{size:24,className:"opacity-20"}),d.jsx("p",{className:"text-xs italic",children:"Nenhuma verso encontrada."}),(l==null?void 0:l.type)==="error"&&d.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:l.text})]}):d.jsx("div",{className:"space-y-1",children:e.map(v=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg group transition-colors border ${v.is_active?"bg-emerald-500/10 border-emerald-500/30":"hover:bg-slate-700/30 border-transparent hover:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx(Hm,{size:16,className:`${v.is_active?"text-emerald-400":"text-slate-500"} flex-shrink-0`}),d.jsxs("div",{className:"min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:`text-sm font-medium truncate max-w-[220px] ${v.is_active?"text-emerald-300":"text-slate-300"}`,title:v.filename,children:v.filename}),v.is_active&&d.jsx("span",{className:"text-[10px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Ativo"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[d.jsx("span",{children:new Date(v.created_at).toLocaleString("pt-BR")}),d.jsx("span",{children:""}),d.jsxs("span",{children:[v.row_count," linhas"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 group-hover:opacity-100 transition-all",children:[!v.is_active&&d.jsx("button",{onClick:()=>p(v),disabled:i===v.id,className:"px-2 py-1 text-[10px] bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white rounded border border-blue-500/20 transition-colors uppercase font-bold tracking-wider",children:i===v.id?"Ativando...":"Ativar"}),d.jsx("button",{onClick:()=>m(v),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Excluir",children:d.jsx(Vl,{size:14})})]})]},v.id))})}),l&&d.jsxs("div",{className:`${l.type==="success"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"} text-xs px-4 py-2 flex items-center gap-2 border-t`,children:[l.type==="success"?d.jsx(dn,{size:12}):d.jsx(Vi,{size:12}),l.text]})]})},E4=({title:e,slot:t,accept:r})=>{const[n,a]=w.useState([]),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,h]=w.useState(null),{parseB2CCSV:p}=yE(),{setB2CData:m,setPaidMediaData:v}=vt();w.useEffect(()=>{g()},[]);const g=async()=>{var _,S;i(!0),h(null);try{const k=await ms.listFiles(t);a(k||[])}catch(k){console.error(k);let E=k.message;(S=(_=k.message)==null?void 0:_.includes)!=null&&S.call(_,"Bucket not found")&&(E='Bucket "app-data" no encontrado.'),h({type:"error",text:E})}finally{i(!1)}},x=async _=>{var k;const S=(k=_.target.files)==null?void 0:k[0];if(S){l(!0),h(null);try{await ms.uploadFile(t,S),await g(),h({type:"success",text:"Upload realizado com sucesso!"})}catch(E){console.error(" Erro durante upload:",E),h({type:"error",text:"Falha: "+E.message})}finally{l(!1)}}},b=async _=>{if(confirm("Tem certeza que deseja excluir este arquivo?")){i(!0);try{await ms.deleteFile(t+"/"+_),await g()}catch(S){alert(S.message)}finally{i(!1)}}},y=async _=>{u(!0),h(null);try{const S=t+"/"+_,k=await ms.getDownloadUrl(S),C=await(await fetch(k)).blob(),T=new File([C],_,{type:C.type});if(t==="b2c"){const{data:j}=await p(T);await y_.upsertB2CMetrics(j),m(j)}else if(t==="media"){const j=await GE(T);await y_.upsertPaidMedia(j),v(j)}h({type:"success",text:"Dados restaurados e salvos no banco com sucesso!"})}catch(S){console.error(" Erro ao restaurar:",S),h({type:"error",text:"Erro ao restaurar: "+S.message})}finally{u(!1)}};return d.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[d.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:d.jsx(U2,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:e}),d.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:r.replace(/\./g,"").toUpperCase()})]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"file",accept:r,onChange:x,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:o}),d.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[o?d.jsx(Vs,{size:14,className:"animate-spin"}):d.jsx(Bf,{size:14}),o?"Enviando...":"Novo Upload"]})]})]}),d.jsx("div",{className:"p-2 max-h-56 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:s&&!n.length?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[d.jsx(Vs,{className:"animate-spin"}),d.jsx("span",{className:"text-xs",children:"Carregando lista..."})]}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[d.jsx(Bf,{size:24,className:"opacity-20"}),d.jsx("p",{className:"text-xs italic",children:"Nenhum arquivo na nuvem."}),(f==null?void 0:f.type)==="error"&&d.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:f.text})]}):d.jsx("div",{className:"space-y-1",children:n.map(_=>{var S;return d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/30 rounded-lg group transition-colors border border-transparent hover:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx(Hm,{size:16,className:"text-slate-500 group-hover:text-blue-400 transition-colors flex-shrink-0"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-300 truncate max-w-[220px] group-hover:text-white transition-colors",title:_.name,children:_.name}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[d.jsx("span",{children:_.created_at&&!isNaN(new Date(_.created_at).getTime())?new Date(_.created_at).toLocaleString("pt-BR"):"-"}),d.jsx("span",{children:""}),d.jsxs("span",{children:[(((S=_.metadata)==null?void 0:S.size)/1024).toFixed(1)," KB"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[d.jsx("button",{onClick:()=>y(_.name),disabled:c,className:"p-2 text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors tooltip-trigger",title:"Restaurar e Aplicar",children:d.jsx(oH,{size:16,className:c?"animate-spin":""})}),d.jsx("button",{onClick:()=>b(_.name),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir Definitivamente",children:d.jsx(Vl,{size:16})})]})]},_.id)})})}),f&&f.type==="success"&&d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-emerald-500/20",children:[d.jsx(dn,{size:12}),f.text]}),f&&f.type==="error"&&n.length>0&&d.jsxs("div",{className:"bg-red-500/10 text-red-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-red-500/20",children:[d.jsx(Vi,{size:12}),f.text]})]})},VTe=()=>{var m;const{user:e,signInWithEmail:t,signOut:r,loading:n}=Z2(),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[h,p]=w.useState("goals");return n?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(Vs,{className:"animate-spin text-blue-500 w-8 h-8"})}):e?d.jsx("div",{className:"min-h-full bg-slate-900 text-slate-200 p-8 space-y-8 animate-fade-in pb-24",children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsx("div",{className:"flex justify-between items-end border-b border-slate-800 pb-6",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Configuraes"}),d.jsx("p",{className:"text-slate-400 text-lg",children:"Central de controle e sincronizao."})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:d.jsx(pI,{size:28})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold text-white truncate",title:e.email,children:(m=e.email)==null?void 0:m.split("@")[0]}),d.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),d.jsx("div",{className:"space-y-3 mb-6",children:d.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 flex justify-between items-center group",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"ID"}),d.jsxs("code",{className:"text-xs text-slate-300 font-mono bg-black/20 px-2 py-0.5 rounded group-hover:text-white transition-colors",children:[e.id.substring(0,8),"..."]})]})}),d.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500 bg-red-500/10 border border-red-500/20 px-4 py-3 rounded-xl transition-all text-sm font-bold",children:[d.jsx(zW,{size:16}),"Desconectar"]})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl opacity-60 pointer-events-none",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 tracking-wider",children:"Aparncia"}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:d.jsx(ZW,{size:18})}),d.jsx("span",{className:"text-slate-300 font-medium text-sm",children:"Modo Escuro"})]}),d.jsx("div",{className:"w-10 h-5 bg-blue-600 rounded-full relative",children:d.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full shadow-sm"})})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-700/50",children:[d.jsx("button",{onClick:()=>p("goals"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="goals"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Metas"}),d.jsx("button",{onClick:()=>p("database"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="database"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Banco de Dados"})]}),d.jsxs("div",{className:"animate-fade-in",children:[h==="goals"&&d.jsx(Ake,{}),h==="database"&&d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 relative z-10",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:d.jsx(U2,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Banco de Dados & Arquivos"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Importao e sincronizao das tabelas do sistema."})]})]})}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsx(UTe,{}),d.jsx(E4,{title:"Histrico B2C",slot:"b2c",accept:".csv"}),d.jsx(E4,{title:"Mdia Paga (Ads)",slot:"media",accept:".xlsx, .xls"})]})]})]})]})]})]})}):d.jsx("div",{className:"p-8 text-center text-slate-500",children:"Sesso expirada. Recarregue a pgina."})},k0=(e,t)=>{const r=w.useMemo(()=>{try{const f={};return Object.entries(e).forEach(([h,p])=>{const m=p.filter(v=>{if(t.bu.length>0&&!t.bu.includes(v.bu)||t.canais.length>0&&!t.canais.includes(v.canal)||t.jornadas.length>0&&!t.jornadas.includes(v.jornada)||t.segmentos.length>0&&!t.segmentos.includes(v.segmento)||t.parceiros.length>0&&!t.parceiros.includes(v.parceiro))return!1;if(t.dataInicio){const[g,x,b]=t.dataInicio.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(0,0,0,0);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_<y)return!1}if(t.dataFim){const[g,x,b]=t.dataFim.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(23,59,59,999);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_>y)return _.getDate()>15,!1}return!0});m.length>0&&(f[h]=m)}),f}catch(f){return console.error("Error in useAdvancedFilters:",f),e}},[e,t]),n=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.canal&&f.add(p.canal)})}),Array.from(f).sort()},[e]),a=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.jornada&&f.add(p.jornada)})}),Array.from(f).sort()},[e]),s=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.segmento&&f.add(p.segmento)})}),Array.from(f).sort()},[e]),i=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.canal]=(f[p.canal]||0)+1})}),f},[r]),o=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.jornada]=(f[p.jornada]||0)+1})}),f},[r]),l=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.segmento]=(f[p.segmento]||0)+1})}),f},[r]),c=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.parceiro&&f.add(p.parceiro)})}),Array.from(f).sort()},[e]),u=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.parceiro]=(f[p.parceiro]||0)+1})}),f},[r]);return{filteredData:r,availableCanais:n,availableJornadas:a,availableSegmentos:s,availableParceiros:c,countByCanal:i,countByJornada:o,countBySegmento:l,countByParceiro:u}},C4=(e,t,r,n,a,s)=>{var j,P;const i={};Object.keys(e).forEach(A=>{const N=e[A];i[A]||(i[A]={propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0}),N.forEach(F=>{i[A].propostas+=F.kpis.propostas||0,i[A].emissoes+=F.kpis.cartoes||0,i[A].custo+=F.kpis.custoTotal||0,i[A].baseEntregue+=F.kpis.baseEntregue||0,i[A].baseEnviada+=F.kpis.baseEnviada||0,["Email","SMS","WhatsApp"].includes(F.canal)&&(i[A].campaignCount+=1),i[A].count+=1})});const l=new Set;if(r&&n)try{const A=new Date(r+"T00:00:00"),N=new Date(n+"T00:00:00");A<=N&&hE({start:A,end:N}).forEach(B=>{l.add(ke(B,"yyyy-MM-dd"))})}catch(A){console.error("Error generating date range:",A)}Object.keys(i).forEach(A=>l.add(A));const c=A=>{const N=Eh(A);return N?ke(N,"yyyy-MM-dd"):null};t.forEach(A=>{const N=c(A.data);N&&l.add(N)});const f=Array.from(l).sort().map(A=>{const N=i[A]||{propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0},F=t.find(K=>c(K.data)===A),B=(F==null?void 0:F.propostas_b2c_total)||0,q=(F==null?void 0:F.emissoes_b2c_total)||0;return{date:A,crm_propostas:N.propostas,crm_emissoes:N.emissoes,crm_custo:N.custo,crm_base_entregue:N.baseEntregue,crm_base_enviada:N.baseEnviada,crm_count:N.count,crm_campaign_count:N.campaignCount,b2c_propostas:B,b2c_emissoes:q}}).filter(A=>{if(!A.date)return!1;const N=new Date(A.date+"T12:00:00"),F=new Date(r+"T00:00:00"),B=new Date(n+"T23:59:59");return N>=F&&N<=B}),h={};f.forEach(A=>{const[N,F,B]=A.date.split("-").map(Number),q=new Date(N,F-1,B);let K=A.date;if(a==="weekly"){const X=Zo(q,{weekStartsOn:1});K=ke(X,"yyyy-MM-dd")}else if(a==="monthly"){const X=Jr(q);K=ke(X,"yyyy-MM-dd")}h[K]||(h[K]={crm_propostas:0,crm_emissoes:0,crm_custo:0,crm_count:0,crm_base_entregue:0,crm_base_enviada:0,crm_campaign_count:0,b2c_propostas:0,b2c_emissoes:0,count:0,originalDate:K}),h[K].crm_propostas+=A.crm_propostas,h[K].crm_emissoes+=A.crm_emissoes,h[K].crm_custo+=A.crm_custo,h[K].crm_base_entregue+=A.crm_base_entregue,h[K].crm_base_enviada+=A.crm_base_enviada,h[K].crm_count+=A.crm_count,h[K].crm_campaign_count+=A.crm_campaign_count,h[K].b2c_propostas+=A.b2c_propostas,h[K].b2c_emissoes+=A.b2c_emissoes,h[K].count+=1});const p=Object.keys(h).sort().map(A=>{const N=h[A],[F,B,q]=A.split("-").map(Number),K=new Date(F,B-1,q),X=N.b2c_propostas>0?N.crm_propostas/N.b2c_propostas*100:0,I=N.b2c_emissoes>0?N.crm_emissoes/N.b2c_emissoes*100:0,J=N.crm_base_entregue>0?N.crm_base_entregue:N.crm_base_enviada,Z=J>0?N.crm_emissoes/J*100:0,M=N.b2c_propostas>0?N.b2c_emissoes/N.b2c_propostas*100:0,z=M>0?Z/M:0,G=N.crm_emissoes>0?N.crm_custo/N.crm_emissoes:0,H=s.ativar_anomalias&&I<s.share_crm_limiar;return{data:A,dia_semana:["dom","seg","ter","qua","qui","sex","sab"][K.getDay()],semana_mes:Math.ceil(K.getDate()/7),mes:B,ano:F,propostas_crm:N.crm_propostas,entregas_crm:J,custo_crm:N.crm_custo,emissoes_crm:N.crm_emissoes,num_campanhas_crm:N.crm_campaign_count,propostas_b2c_total:N.b2c_propostas,emissoes_b2c_total:N.b2c_emissoes,share_propostas_crm_percentual:X,share_emissoes_crm_percentual:I,taxa_conversao_crm:Z,taxa_conversao_b2c:M,performance_index:z,cac_medio:G,eh_anomalia:H}});if(p.length===0)return{analysisData:[],summary:null};const m=f.reduce((A,N)=>A+N.crm_propostas,0),v=f.reduce((A,N)=>A+N.crm_emissoes,0),g=f.reduce((A,N)=>A+N.crm_custo,0),x=f.reduce((A,N)=>A+N.crm_base_entregue,0),b=f.reduce((A,N)=>A+N.b2c_propostas,0),y=f.reduce((A,N)=>A+N.b2c_emissoes,0),_=y>0?v/y*100:0,S=v>0?g/v:0,k=x>0?v/x:0,E=b>0?y/b:0,C=E>0?k/E:0,T={periodo_inicio:((j=p[0])==null?void 0:j.data)||"",periodo_fim:((P=p[p.length-1])==null?void 0:P.data)||"",share_crm_media:_,emissoes_crm_total:v,emissoes_b2c_total:y,cac_medio:S,taxa_conversao_crm_media:k*100,taxa_conversao_b2c_media:E*100,performance_index_medio:C,total_dias:p.length,dias_com_anomalia:p.filter(A=>A.eh_anomalia).length,propostas_b2c_total:b,propostas_crm_total:m};return{analysisData:p,summary:T}},e9=()=>{const{b2cData:e,alertConfig:t,viewSettings:r}=vt(),{data:n}=Ux(),{startDate:a,endDate:s}=Ah(),{selectedBUs:i}=Th(),[o,l]=w.useState("daily"),c=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:ke(a,"yyyy-MM-dd"),dataFim:ke(s,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,a,s,i]),{filteredData:u}=k0(n,c),{prevStartDate:f,prevEndDate:h}=w.useMemo(()=>{const _=u0(s,a)+1,S=jt(a,1);return{prevStartDate:jt(S,_-1),prevEndDate:S}},[a,s]),p=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:ke(f,"yyyy-MM-dd"),dataFim:ke(h,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,f,h,i]),{filteredData:m}=k0(n,p),{analysisData:v,summary:g}=w.useMemo(()=>C4(u,e,ke(a,"yyyy-MM-dd"),ke(s,"yyyy-MM-dd"),o,t),[u,e,a,s,o,t]),{summary:x}=w.useMemo(()=>C4(m,e,ke(f,"yyyy-MM-dd"),ke(h,"yyyy-MM-dd"),"daily",t),[m,e,f,h,t]),b=(_,S="daily")=>S==="daily"?u[_]||[]:u[_]||[],y=w.useMemo(()=>{const _={};let S=0;Object.values(u).flat().forEach(T=>{const j=T.segmento||"No Identificado",P=T.kpis.cartoes||0;_[j]=(_[j]||0)+P,S+=P});const k=Object.entries(_).map(([T,j])=>({name:T,value:j})).sort((T,j)=>j.value-T.value),E=g?g.emissoes_b2c_total:0,C=Math.max(0,E-S);return C>0&&k.push({name:"Outros B2C",value:C}),k},[u,g]);return{dailyAnalysis:v,summary:g,previousSummary:x,viewMode:o,setViewMode:l,getActivities:b,segmentStats:y}},Nc=({label:e,value:t,subtitle:r,icon:n,colorClass:a,variation:s,reverseColor:i=!1,tooltip:o})=>{let l="text-slate-500",c=$0;return s&&(s.value>0?(c=$2,l=i?"text-red-400":"text-emerald-400"):s.value<0&&(c=F2,l=i?"text-emerald-400":"text-red-400")),d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),o&&d.jsx(Ls,{content:o,side:"top"})]}),d.jsx("div",{className:`${a} opacity-80`,children:n})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white leading-none",children:t}),s&&d.jsxs("div",{className:`flex items-center text-[10px] font-bold mb-0.5 ${l} bg-slate-900/50 px-1 py-0.5 rounded`,children:[d.jsx(c,{size:10,className:"mr-0.5"}),Math.abs(s.value).toFixed(1),"%"]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 mt-2 lowercase",children:r})]})},WTe=({summary:e,previousSummary:t})=>{const r=(c,u)=>{if(!u||u===0)return null;const f=c-u;return{value:f/u*100,isPositive:f>0}},n=t?r(e.propostas_b2c_total,t.propostas_b2c_total):null,a=t?r(e.emissoes_b2c_total,t.emissoes_b2c_total):null,s=t?r(e.taxa_conversao_b2c_media,t.taxa_conversao_b2c_media):null,i=t?r(e.propostas_crm_total,t.propostas_crm_total):null,o=t?r(e.emissoes_crm_total,t.emissoes_crm_total):null,l=t?r(e.taxa_conversao_crm_media,t.taxa_conversao_crm_media):null;return d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Nc,{label:"Propostas B2C",value:e.propostas_b2c_total.toLocaleString("pt-BR"),subtitle:"Input total",icon:d.jsx(Hm,{size:18}),colorClass:"text-blue-400",variation:n,tooltip:"Total de propostas B2C submetidas no perodo"}),d.jsx(Nc,{label:"Cartes B2C",value:e.emissoes_b2c_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx($f,{size:18}),colorClass:"text-blue-400",variation:a,tooltip:"Total de cartes B2C gerados no perodo"}),d.jsx(Nc,{label:"Conv % B2C",value:`${e.taxa_conversao_b2c_media.toFixed(2).replace(".",",")}%`,subtitle:"Cartes / Propostas",icon:d.jsx(Sa,{size:18}),colorClass:"text-blue-400",variation:s,tooltip:"Taxa de converso: (Cartes Gerados / Propostas Totais)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Nc,{label:"Propostas CRM",value:e.propostas_crm_total.toLocaleString("pt-BR"),subtitle:"Via CRM",icon:d.jsx(Hm,{size:18}),colorClass:"text-emerald-400",variation:i,tooltip:"Propostas identificadas com origem CRM"}),d.jsx(Nc,{label:"Cartes CRM",value:e.emissoes_crm_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx(Vb,{size:18}),colorClass:"text-emerald-400",variation:o,tooltip:"Cartes gerados e atribudos ao CRM"}),d.jsx(Nc,{label:"Conv % CRM",value:`${e.taxa_conversao_crm_media.toFixed(2).replace(".",",")}%`,subtitle:"Converso CRM",icon:d.jsx(Sa,{size:18}),colorClass:"text-emerald-400",variation:l,tooltip:"Taxa de converso: (Cartes Gerados / Base Entregue)"})]})]})},T4=({label:e,value:t,subtitle:r,icon:n,colorClass:a})=>d.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 flex items-center justify-between group hover:border-slate-600 transition-all h-[120px]",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{className:`p-1.5 rounded-lg bg-slate-900/50 ${a}`,children:n}),d.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:e})]}),d.jsx("h3",{className:"text-3xl font-bold text-white tracking-tight mt-1",children:t}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:r})]})}),HTe=({summary:e})=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(T4,{label:"Share CRM",value:`${e.share_crm_media.toFixed(1)}%`,subtitle:"% de cartes gerados via CRM",icon:d.jsx(Wi,{size:18}),colorClass:"text-indigo-400"}),d.jsx(T4,{label:"CAC Mdio",value:`R$ ${e.cac_medio.toFixed(2)}`,subtitle:"Custo por emisso",icon:d.jsx(Gu,{size:18}),colorClass:"text-emerald-400"})]}),Md=(e,t)=>t.includes("%")||t.includes("Taxa")||t.includes("Share")||t.includes("Conv")?[`${e.toFixed(2)}%`,t]:t.includes("CAC")||t.includes("Custo")?[`R$ ${e.toFixed(2)}`,t]:[e,t],KTe=({data:e,shareThreshold:t=15,viewMode:r,setViewMode:n,onPointClick:a})=>{const s=c=>{if(c&&c.activePayload&&c.activePayload.length>0&&a){const u=c.activePayload[0].payload;if(u&&u.data){const[f,h,p]=u.data.split("-").map(Number);a(new Date(f,h-1,p))}}},i=(c,u=!1)=>u?`${c.toFixed(1)}%`:c.toLocaleString("pt-BR"),o=w.useMemo(()=>e.map(c=>{const u=Math.max(0,c.propostas_b2c_total-c.propostas_crm),f=Math.max(0,c.emissoes_b2c_total-c.emissoes_crm),[h,p,m]=c.data.split("-").map(Number),v=new Date(h,p-1,m),g=ke(v,"dd/MM",{locale:Ys});return{...c,displayDate:g,outros_propostas:u,outros_emissoes:f}}),[e]),l=w.useMemo(()=>{const c={},u=["dom","seg","ter","qua","qui","sex","sab"];return u.forEach(f=>c[f]={total:0,crm:0}),e.forEach(f=>{f.dia_semana&&c[f.dia_semana]&&(c[f.dia_semana].total+=f.emissoes_b2c_total,c[f.dia_semana].crm+=f.emissoes_crm)}),u.map(f=>{const h=c[f],p=h.total>0?h.crm/h.total*100:0;return{dia:f.charAt(0).toUpperCase()+f.slice(1),share:p}})},[e]);return!e||e.length===0?d.jsx("div",{className:"p-10 text-center text-slate-500",children:"Sem dados para exibir nos grficos"}):d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Anlise Grfica"}),d.jsx("div",{className:"flex bg-slate-800 p-1 rounded-lg border border-slate-700",children:["daily","weekly","monthly"].map(c=>d.jsx("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${r===c?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:c==="daily"?"Dia":c==="weekly"?"Semana":"Ms"},c))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Propostas: CRM vs B2C Total"}),d.jsx("div",{className:"h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:o,onClick:s,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:Md}),d.jsx(Tn,{}),d.jsx(Ir,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Ir,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Taxa de Converso: CRM vs Mdia B2C"}),d.jsx("div",{className:"h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:o,onClick:s,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:Md}),d.jsx(Tn,{}),d.jsx(Xr,{type:"monotone",dataKey:"taxa_conversao_crm",name:"Conv. CRM",stroke:"#10b981",strokeWidth:2,dot:!1}),d.jsx(Xr,{type:"monotone",dataKey:"taxa_conversao_b2c",name:"Conv. B2C",stroke:"#94a3b8",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Tendncia Share CRM (%)"}),d.jsx("div",{className:"h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:o,onClick:s,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},itemStyle:{color:"#e2e8f0"},formatter:Md}),d.jsx(Tn,{}),d.jsx(Xr,{type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#3b82f6",strokeWidth:2,dot:!1}),d.jsx(Xr,{type:"monotone",dataKey:()=>t,name:"Meta Mnima",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Emisses: CRM vs B2C"}),d.jsx("div",{className:"h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:o,onClick:s,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:Md}),d.jsx(Tn,{}),d.jsx(Ir,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Ir,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"CAC Evolution (R$)"}),d.jsx("div",{className:"h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:o,onClick:s,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:Md}),d.jsx(Tn,{}),d.jsx(Xr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10b981",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50 flex flex-col",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Share por Dia da Semana"}),d.jsx("div",{className:"flex-1 flex items-end gap-2 h-64",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:l,children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"dia",stroke:"#64748b",fontSize:10}),d.jsx(pt,{stroke:"#64748b",unit:"%",fontSize:10}),d.jsx(Ht,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:c=>i(c,!0)}),d.jsx(Ir,{dataKey:"share",name:"Share Mdio",fill:"#f59e0b",radius:[4,4,0,0]})]})})}),d.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"* Dados agregados do perodo"})]})]})]})},GTe=({data:e,onRowClick:t})=>{const[r,n]=w.useState(1),[a,s]=w.useState({key:"data",direction:"asc"}),i=w.useMemo(()=>{const m=[...e];return m.sort((v,g)=>{const x=v[a.key],b=g[a.key];return x<b?a.direction==="asc"?-1:1:x>b?a.direction==="asc"?1:-1:0}),m},[e,a]),o=25,l=Math.ceil(i.length/o),c=i.slice((r-1)*o,r*o),u=m=>{let v="asc";a.key===m&&a.direction==="asc"&&(v="desc"),s({key:m,direction:v}),n(1)},f=m=>a.key===m?a.direction==="asc"?d.jsx($2,{size:14}):d.jsx(F2,{size:14}):d.jsx(ha,{size:14,className:"text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"}),h=()=>{const m=["Data","Prop CRM","Emiss CRM","Prop B2C Total","Emiss B2C Total","% Share Prop","% Share Emiss","% Conv CRM","% Conv B2C","Perf Index","CAC"],v=i.map(_=>[_.data,_.propostas_crm,_.emissoes_crm,_.propostas_b2c_total,_.emissoes_b2c_total,_.share_propostas_crm_percentual.toFixed(2).replace(".",","),_.share_emissoes_crm_percentual.toFixed(2).replace(".",","),_.taxa_conversao_crm.toFixed(2).replace(".",","),_.taxa_conversao_b2c.toFixed(2).replace(".",","),_.performance_index.toFixed(2).replace(".",","),_.cac_medio.toFixed(2).replace(",",".")]),g=[m.join(";"),...v.map(_=>_.join(";"))].join(`
`),x=new Blob([g],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download="originacao_b2c_sorted.csv",document.body.appendChild(y),y.click(),document.body.removeChild(y)},p=({label:m,sortKey:v,align:g="right"})=>d.jsx("th",{className:`px-4 py-4 cursor-pointer hover:bg-slate-100 transition select-none group border-b border-slate-200 border-r border-slate-300 last:border-r-0 ${g==="right"?"text-right":"text-left"}`,onClick:()=>u(v),children:d.jsxs("div",{className:`flex items-center gap-2 font-semibold text-slate-700 ${g==="right"?"justify-end":"justify-start"}`,children:[m,f(v)]})});return d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden mt-6 shadow-sm",children:[d.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Detalhamento Dirio"}),d.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-300 hover:bg-slate-50 rounded text-sm text-slate-600 font-medium transition shadow-sm",children:[d.jsx(F0,{size:14})," Exportar (",i.length,")"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[d.jsx("thead",{className:"text-xs uppercase bg-slate-50 text-slate-500",children:d.jsxs("tr",{children:[d.jsx(p,{label:"Data",sortKey:"data",align:"left"}),d.jsx(p,{label:"Vol. Entregas",sortKey:"entregas_crm"}),d.jsx(p,{label:"Custo",sortKey:"custo_crm"}),d.jsx(p,{label:"Prop CRM",sortKey:"propostas_crm"}),d.jsx(p,{label:"Emiss CRM",sortKey:"emissoes_crm"}),d.jsx(p,{label:"Prop B2C",sortKey:"propostas_b2c_total"}),d.jsx(p,{label:"Emiss B2C",sortKey:"emissoes_b2c_total"}),d.jsx(p,{label:"% Share",sortKey:"share_emissoes_crm_percentual"}),d.jsx(p,{label:"% Conv CRM",sortKey:"taxa_conversao_crm"}),d.jsx(p,{label:"% Conv B2C",sortKey:"taxa_conversao_b2c"}),d.jsx(p,{label:"CAC",sortKey:"cac_medio"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map(m=>d.jsxs("tr",{className:`cursor-pointer hover:bg-blue-50/50 transition ${m.eh_anomalia?"bg-red-50":"bg-white"}`,onClick:()=>t&&t(m.data),children:[d.jsx("td",{className:"px-4 py-3 font-medium text-slate-700 whitespace-nowrap border-r border-slate-300 last:border-r-0",children:m.data.split("-").reverse().join("/")}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.entregas_crm.toLocaleString()}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.custo_crm.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.propostas_crm}),d.jsx("td",{className:"px-4 py-3 text-right font-bold text-slate-800 border-r border-slate-300 last:border-r-0",children:m.emissoes_crm}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.propostas_b2c_total}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.emissoes_b2c_total}),d.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-300 last:border-r-0",children:d.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${m.share_emissoes_crm_percentual<10?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:[m.share_emissoes_crm_percentual.toFixed(1),"%"]})}),d.jsxs("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_crm.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_b2c.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.cac_medio.toFixed(0)]})]},m.data))})]})}),l>1&&d.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-center items-center gap-4 bg-slate-50/50",children:[d.jsx("button",{onClick:()=>n(m=>Math.max(1,m-1)),disabled:r===1,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:d.jsx(I0,{size:20})}),d.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[r," / ",l]}),d.jsx("button",{onClick:()=>n(m=>Math.min(l,m+1)),disabled:r===l,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:d.jsx(R0,{size:20})})]})]})},qTe=()=>{const e=w.useRef(null),{parseB2CCSV:t,isLoading:r,error:n}=yE(),{setB2CData:a,b2cData:s}=vt(),i=async o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l)try{const{data:u,warnings:f}=await t(l);a(u),f.length>0&&console.warn("Warnings during upload:",f)}catch(u){console.error(u)}};return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"file",ref:e,onChange:i,accept:".csv",className:"hidden"}),d.jsxs("button",{onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r?d.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(Ig,{size:18}),"Upload CSV B2C"]}),n&&d.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[d.jsx(Vi,{size:16}),n]}),s.length>0&&!n&&d.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm",children:[d.jsx(dn,{size:16}),s.length," registros carregados"]})]})},YTe=({data:e,onBarClick:t})=>{const r=w.useMemo(()=>{const n={};return e.forEach(a=>{const s=Qr(a.data),i=Zo(s,{weekStartsOn:1}),o=ke(i,"yyyy-MM-dd");n[o]||(n[o]={num_campanhas_crm:0,emissoes_crm:0,emissoes_b2c_total:0,originalDate:i}),n[o].num_campanhas_crm+=a.num_campanhas_crm||0,n[o].emissoes_crm+=a.emissoes_crm||0,n[o].emissoes_b2c_total+=a.emissoes_b2c_total||0}),Object.keys(n).sort().map(a=>{const s=n[a],i=s.emissoes_b2c_total>0?s.emissoes_crm/s.emissoes_b2c_total*100:0;return{data:a,displayDate:ke(s.originalDate,"dd/MM"),num_campanhas_crm:s.num_campanhas_crm,share_emissoes_crm_percentual:i}})},[e]);return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 mt-6 shadow-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2 opacity-90",children:"Eficincia de Campanhas: Volume de Disparos vs Share CRM"}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Anlise de quantas campanhas foram disparadas e seu impacto no share de participao no total B2C (Agrupado por Semana)."}),d.jsx("div",{className:"h-[400px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(cE,{data:r,onClick:n=>{if(n&&n.activePayload&&n.activePayload.length>0){const a=n.activePayload[0].payload.data;t&&t(a)}},margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(pr,{stroke:"#1e293b",strokeDasharray:"3 3",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",scale:"band",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(pt,{yAxisId:"left",stroke:"#64748b",tick:{fontSize:10},label:{value:"Campanhas/Semana",angle:-90,position:"insideLeft",style:{fill:"#64748b",fontSize:10}}}),d.jsx(pt,{yAxisId:"right",orientation:"right",stroke:"#64748b",tick:{fontSize:10},unit:"%",label:{value:"Share CRM %",angle:90,position:"insideRight",style:{fill:"#64748b",fontSize:10}}}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:(n,a)=>a==="Share CRM %"?[`${n.toFixed(1)}%`,a]:[n,a],labelFormatter:n=>`Semana de ${n}`}),d.jsx(Tn,{}),d.jsx(Ir,{yAxisId:"left",dataKey:"num_campanhas_crm",name:"Campanhas Disparadas",barSize:30,fill:"#3b82f6",fillOpacity:.6}),d.jsx(Xr,{yAxisId:"right",type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})})]})},A4=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1","#475569"],XTe=({segmentStats:e,totalB2CEmissoes:t})=>{const[r,n]=w.useState(!0),a=e.map(i=>({...i,share:t>0?i.value/t*100:0})),s=r?a:a.filter(i=>i.name!=="Outros B2C");return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 h-full flex flex-col relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Share por Campanha"}),a.some(i=>i.name==="Outros B2C")&&d.jsx("button",{onClick:()=>n(!r),className:`text-[10px] px-2 py-1 rounded-md border transition-all ${r?"bg-slate-700 border-slate-600 text-slate-300":"bg-transparent border-slate-700 text-slate-500 hover:text-slate-400"}`,title:r?"Ocultar Outros B2C":"Mostrar Outros B2C",children:r?"Com Outros":"Sem Outros"})]}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Participao de cada campanha no total de emisses B2C."}),d.jsx("div",{className:"flex-1 min-h-[200px]",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wL,{children:[d.jsx(QS,{data:s,cx:"40%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:3,dataKey:"value",cornerRadius:4,children:s.map((i,o)=>{let l=A4[o%A4.length];return i.name==="Outros B2C"&&(l="#475569"),d.jsx(Ri,{fill:l,stroke:"rgba(0,0,0,0)"},`cell-${o}`)})}),d.jsx(Ht,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"},formatter:(i,o,l)=>{const c=l.payload.share||0;return[`${i.toLocaleString()} (${c.toFixed(1)}%)`,o]}}),d.jsx(Tn,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",color:"#94a3b8"},formatter:(i,o)=>{const{payload:l}=o;return d.jsxs("span",{className:"ml-1 text-slate-400",children:[i," ",d.jsx("span",{className:"text-slate-600 mx-1",children:"|"})," ",d.jsxs("span",{className:"text-slate-200 font-medium",children:[l.share.toFixed(2),"%"]})]})}})]})})})]})},ZTe=()=>{const{dailyAnalysis:e,summary:t,previousSummary:r,viewMode:n,setViewMode:a,getActivities:s,segmentStats:i}=e9(),{alertConfig:o,b2cData:l,setB2CData:c}=vt(),{parseB2CCSV:u}=yE(),[f,h]=w.useState(!0),[p,m]=w.useState(!1);w.useEffect(()=>{(async()=>{if(l.length>0){h(!1);return}if(!p){m(!0);try{const P=await ms.listFiles("b2c");if(P&&P.length>0){h(!0),console.log(" B2C Auto-Sync:",P[0].name);const A=await ms.getDownloadUrl("b2c/"+P[0].name),F=await(await fetch(A)).blob(),B=new File([F],P[0].name,{type:"text/csv"}),{data:q}=await u(B);q&&q.length>0&&c(q),h(!1)}}catch(P){console.error("B2C Sync failed",P),h(!1)}}})()},[l.length,p,c,u]);const[v,g]=w.useState(!1),[x,b]=w.useState([]),[y,_]=w.useState(null),[S,k]=w.useState(void 0),E=j=>{const P=s(j,"daily"),[A,N,F]=j.split("-").map(Number);_(new Date(A,N-1,F)),b(P),k(void 0),g(!0)},C=j=>{const P=s(j,"weekly"),[A,N,F]=j.split("-").map(Number),B=new Date(A,N-1,F),q=new Date(B);q.setDate(q.getDate()+6),_(B),b(P),k(` Detalhes da Semana: ${ke(B,"dd/MM")} a ${ke(q,"dd/MM")}`),g(!0)},T=()=>{g(!1),b([]),_(null)};return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(B2,{className:"text-blue-500"}),"Originao B2C"]}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Anlise de participao CRM na originao total B2C."})]}),d.jsx("div",{className:"flex items-center gap-4",children:l.length===0&&d.jsx(qTe,{})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 pb-10",children:[d.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.length>0&&t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-8",children:[d.jsxs("div",{className:"xl:w-7/12",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Comparao B2C vs CRM"}),d.jsx(WTe,{summary:t,previousSummary:r})]}),d.jsx("div",{className:"xl:w-5/12 flex flex-col",children:d.jsx(XTe,{segmentStats:i,totalB2CEmissoes:t.emissoes_b2c_total})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Performance"}),d.jsx(HTe,{summary:t})]}),d.jsx(KTe,{data:e,shareThreshold:o.share_crm_limiar,viewMode:n,setViewMode:a,onPointClick:j=>{const P=ke(j,"yyyy-MM-dd");E(P)}}),d.jsx(GTe,{data:e,onRowClick:E}),d.jsx("div",{className:"mb-6",children:d.jsx(YTe,{data:e,onBarClick:C})})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50",children:f?d.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400",children:[d.jsx(Vs,{className:"animate-spin text-blue-500",size:32}),d.jsx("p",{children:"Sincronizando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-slate-500 mb-2",children:"Nenhum dado B2C carregado."}),d.jsx("p",{className:"text-xs text-slate-600",children:"Faa upload do CSV diarizado para comear."})]})})}),v&&d.jsx(Ch,{date:y,activities:x,onClose:T,titleOverride:S})]})]})},j4=(e,t)=>{const r=w.useMemo(()=>{const i=t.bu.length===0?void 0:t.bu,o={};return Object.entries(e).forEach(([l,c])=>{const u=i?c.filter(f=>i.includes(f.bu)):c;u.length>0&&(o[l]=u)}),o},[e,t.bu]),n=w.useMemo(()=>{const i={};return Object.entries(r).forEach(([o,l])=>{i[o]=l.length}),i},[r]),a=i=>{const o=r[i]||[];if(o.length===0)return null;const l={};return o.forEach(c=>{l[c.bu]=(l[c.bu]||0)+1}),Object.entries(l).sort(([,c],[,u])=>u-c)[0][0]},s=w.useMemo(()=>Object.values(r).reduce((i,o)=>i+o.length,0),[r]);return{filteredData:r,activityCountByDay:n,getDominantBU:a,getTotalActivities:s,selectedBUs:t.bu}},JTe=(e,t)=>w.useMemo(()=>{try{const n={};return Object.values(e).forEach(s=>{s.forEach(i=>{const o=i.parceiro||"Sem Parceiro";n[o]||(n[o]={nome:o,totalCartoes:0,taxaEntregaMdia:0,taxaAberturaMdia:0,taxaPropostaMdia:0,cacMdio:0,custoTotal:0,atividades:0,variacao:0,status:"em-progresso",bu:[],datas:[]});const l=n[o],c=i.kpis;l.totalCartoes+=c.cartoes||0,l.taxaEntregaMdia+=c.taxaEntrega||0,l.taxaAberturaMdia+=c.taxaAbertura||0,l.taxaPropostaMdia+=c.taxaPropostas||0,l.cacMdio+=c.cac||0,l.custoTotal+=c.custoTotal||0,l.atividades+=1,l.bu.includes(i.bu)||l.bu.push(i.bu);let u="";i.dataDisparo instanceof Date?u=i.dataDisparo.toISOString().split("T")[0]:typeof i.dataDisparo=="string"&&(u=String(i.dataDisparo).split("T")[0]),u&&!l.datas.includes(u)&&l.datas.push(u)})}),Object.values(n).forEach(s=>{s.atividades>0&&(s.taxaEntregaMdia=s.taxaEntregaMdia/s.atividades,s.taxaAberturaMdia=s.taxaAberturaMdia/s.atividades,s.taxaPropostaMdia=s.taxaPropostaMdia/s.atividades,s.cacMdio=s.cacMdio/s.atividades);const i=new Date,o=new Date(Math.max(...s.datas.map(c=>new Date(c).getTime()))),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24));l>30?s.status="parado":l>7?s.status="em-progresso":s.status="concluido"}),n}catch(n){return console.error("Error calculating resultados metrics:",n),{}}},[e,t]),QTe=({title:e,items:t,isActive:r})=>{const[n,a]=w.useState(!1);return d.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsxs("button",{className:`
                    px-3 py-2 text-sm font-semibold tracking-wide transition-all duration-200 uppercase relative
                    ${r||n?"text-white":"text-slate-400 hover:text-slate-200"}
                `,children:[e,(r||n)&&d.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"})]}),d.jsx("div",{className:`
                    absolute top-full left-0 pt-2 w-48 transform transition-all duration-200 origin-top-left
                    ${n?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}
                `,children:d.jsx("div",{className:"bg-[#0F172A] border border-white/10 rounded-lg shadow-xl backdrop-blur-xl p-1.5 z-50",children:t.map(s=>d.jsxs("button",{onClick:()=>{s.onClick(),a(!1)},className:`
                                w-full flex items-center gap-3 px-3 py-2 rounded-md text-xs font-medium transition-all text-left
                                ${s.isActive?"bg-blue-600/10 text-blue-400":"text-slate-400 hover:text-slate-100 hover:bg-white/5"}
                            `,children:[s.icon&&d.jsx(s.icon,{size:16}),s.label]},s.id))})})]})},eAe=()=>{const{setTab:e,viewSettings:t}=vt(),r=t.abaAtual,{toggleBU:n,isBUSelected:a}=Th(),s=[{title:"Planejamento",items:[{id:"launch",label:"Launch Planner",icon:sc,onClick:()=>e("launch")},{id:"diario",label:"Dirio de Bordo",icon:cI,onClick:()=>e("diario")}]},{title:"Anlise",items:[{id:"jornada",label:"Jornada & Disparos",icon:Sa,onClick:()=>e("jornada")},{id:"resultados",label:"Resultados",icon:B2,onClick:()=>e("resultados")},{id:"orientador",label:"Orientador",icon:Km,onClick:()=>e("orientador")},{id:"originacao-b2c",label:"Originao B2C",icon:uI,onClick:()=>e("originacao-b2c")}]},{title:"Mdia Paga",items:[{id:"midia-paga",label:"Media Analytics",icon:void 0,onClick:()=>e("midia-paga")}]},{title:"Framework",items:[{id:"framework",label:"Campanhas",icon:hI,onClick:()=>e("framework")}]}],i=[{id:"B2C",label:"B2C",color:"bg-blue-500"},{id:"B2B2C",label:"B2B2C",color:"bg-emerald-500"},{id:"Plurix",label:"Plurix",color:"bg-purple-500"}],o=l=>l.some(c=>c.id===r);return d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-[#0B0F19]/95 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-0 shrink-0",children:[d.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent tracking-widest leading-none",children:"GaaS"}),d.jsx("span",{className:"text-[10px] font-bold text-white tracking-wider uppercase leading-tight opacity-90",children:"AFINZ"})]}),d.jsx("nav",{className:"hidden lg:flex items-center gap-1 h-16",children:s.map(l=>d.jsx(QTe,{title:l.title,items:l.items.map(c=>({...c,isActive:r===c.id})),isActive:o(l.items)},l.title))})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4 flex-1 max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-white/10 mr-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider hidden xl:block",children:"BU:"}),d.jsx("div",{className:"flex bg-white/5 rounded-lg p-1 gap-1",children:i.map(l=>d.jsxs("button",{onClick:()=>n(l.id),className:`
                                    px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5
                                    ${a(l.id)?"bg-slate-700 text-white shadow-sm":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}
                                `,title:`Filtrar por ${l.label}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${l.color} ${a(l.id)?"opacity-100 shadow-[0_0_4px_currentColor]":"opacity-40"}`}),d.jsx("span",{className:a(l.id)?"":"hidden xl:inline",children:l.label})]},l.id))})]}),d.jsxs("div",{className:"hidden md:flex items-center bg-white/5 border border-white/10 rounded-full px-4 py-1.5 w-64 transition-all focus-within:w-80 focus-within:bg-white/10 focus-within:border-blue-500/50",children:[d.jsx(H2,{size:16,className:"text-slate-500 mr-2"}),d.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-sm text-slate-300 w-full placeholder-slate-600"})]}),d.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),d.jsx("button",{onClick:()=>e("configuracoes"),className:`p-2 rounded-full transition relative ${r==="configuracoes"?"text-white bg-white/10":"text-slate-400 hover:text-white hover:bg-white/10"}`,title:"Configuraes",children:d.jsx(mH,{size:20})}),d.jsx("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/5 p-1.5 rounded-lg transition group",children:d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center ring-2 ring-white/10 group-hover:ring-blue-500/50 transition-all",children:d.jsx(pI,{size:16,className:"text-white"})})})]})]})},tAe=({children:e})=>d.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0F172A] text-slate-100 font-sans selection:bg-blue-500/30",children:[d.jsx(eAe,{}),d.jsx("main",{className:"flex-1 flex flex-col relative w-full max-w-[1920px] mx-auto pt-16",children:d.jsx("div",{className:"flex-1 p-2 w-full h-full overflow-y-auto overflow-x-hidden",children:e})})]}),rAe=({data:e,onDayClick:t,displayDate:r,onMonthChange:n})=>{const a=w.useMemo(()=>{const f=Jr(r),h=Zo(f);return Array.from({length:42},(p,m)=>Hv(h,m))},[r]),s=f=>{n(f)},i=w.useMemo(()=>Object.values(e).flat(),[e]),o=f=>{const h=i.filter(x=>c0(x.dataDisparo,f)),p=h.length,m=h.some(x=>x.status==="Rascunho"),v=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+1,x),{}),g=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+(b.kpis.cartoes||0),x),{});return{count:p,byBU:v,byBUCartoes:g,hasDraft:m}},l=(f,h)=>{let p=null;if(Object.values(f).reduce((v,g)=>v+g,0)>0?p=Object.entries(f).sort((v,g)=>g[1]-v[1])[0][0]:Object.keys(h).length>0&&(p=Object.entries(h).sort((v,g)=>g[1]-v[1])[0][0]),!p)return"bg-slate-800/30 border-slate-700/50";switch(p==null?void 0:p.toUpperCase()){case"B2C":return"bg-blue-900/40 border-blue-700/50 hover:bg-blue-900/60 hover:border-blue-600/70";case"B2B2C":return"bg-emerald-900/40 border-emerald-700/50 hover:bg-emerald-900/60 hover:border-emerald-600/70";case"PLURIX":return"bg-purple-900/40 border-purple-700/50 hover:bg-purple-900/60 hover:border-purple-600/70";default:return"bg-slate-800/30 border-slate-700/50"}},c=f=>{switch(f==null?void 0:f.toUpperCase()){case"B2C":return"bg-blue-600 hover:bg-blue-500";case"B2B2C":return"bg-emerald-600 hover:bg-emerald-500";case"PLURIX":return"bg-purple-600 hover:bg-purple-500";default:return"bg-slate-600 hover:bg-slate-500"}},u=f=>{const h=mE(f);return h===0||h===6};return d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 h-full flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>s(Bu(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Ms anterior",children:d.jsx(I0,{size:18})}),d.jsx("h2",{className:"text-lg font-bold text-white uppercase min-w-[200px] text-center",children:ke(r,"MMMM yyyy",{locale:Ys})}),d.jsx("button",{onClick:()=>s(uE(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Prximo ms",children:d.jsx(R0,{size:18})})]})}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["D","S","T","Q","Q","S","S"].map((f,h)=>d.jsx("div",{className:`text-center text-xs font-semibold py-2 ${h===0||h===6?"text-blue-400":"text-slate-500"}`,children:f},h))}),d.jsx("div",{className:"flex-1 overflow-y-auto flex justify-center",children:d.jsx("div",{className:"grid grid-cols-7 gap-1 w-full max-w-[560px]",children:a.map(f=>{const{count:h,byBU:p,byBUCartoes:m,hasDraft:v}=o(f),g=d0(f,r),x=c0(f,new Date),b=u(f),y=Object.entries(p).sort((k,E)=>E[1]-k[1]),_=l(m,p),S=v?"bg-amber-900/40 border-amber-600/50 hover:bg-amber-800/60 hover:border-amber-500/70":g?b?"bg-blue-950/30 border-blue-800/40 hover:bg-blue-950/50 hover:border-blue-700/60":_:"bg-slate-900/20 border-slate-800/30 opacity-20";return d.jsxs("div",{onClick:()=>t==null?void 0:t(f),className:`
                                relative p-1 rounded-md border transition-all cursor-pointer aspect-square overflow-hidden group
                                ${S}
                                ${x?"ring-1 ring-blue-400 ring-offset-1 ring-offset-slate-900":""}
                            `,children:[d.jsx("div",{className:"absolute top-1 left-0 right-0 flex justify-center",children:d.jsx("span",{className:`text-[10px] font-semibold ${x?"text-blue-300":b?"text-blue-400":"text-slate-300"}`,children:ke(f,"d")})}),h>0&&d.jsx("div",{className:"absolute inset-x-0 bottom-1 top-4 flex flex-wrap content-center justify-center gap-0.5 px-0.5",children:y.map(([k,E])=>d.jsx("div",{className:`${c(k)} rounded-full w-3.5 h-3.5 flex items-center justify-center text-white font-bold text-[7px] shadow-sm`,title:`${E} ${k}`,children:E},k))})]},f.toISOString())})})})]})},nAe=({activities:e,previousActivities:t=[],b2cData:r=[]})=>{const{viewSettings:n}=vt(),a=n.perspective,s=a==="total"||a==="b2c",i=a==="total"||a==="crm",o=(p,m=[])=>{let v=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.baseEnviada)||0)},0):0,g=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.baseEntregue)||0)},0):0,x=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.propostas)||0)},0):0,b=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.aprovados)||0)},0):0,y=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.emissoes)||0)},0):0,_=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.custoTotal)||0)},0):0,S=i?p.reduce((N,F)=>{var B;return N+(((B=F.kpis)==null?void 0:B.cartoes)||0)},0):0;const k=n.filtrosGlobais.segmentos.length>0||n.filtrosGlobais.parceiros.length>0||n.filtrosGlobais.jornadas.length>0||n.filtrosGlobais.canais.length>0;if(s&&m.length>0&&!k){const N=m.reduce((B,q)=>B+(Number(q.propostas_b2c_total)||0),0),F=m.reduce((B,q)=>B+(Number(q.emissoes_b2c_total)||0),0);x+=N,y+=F,S+=F,b+=F}const E=v>0?g/v*100:0,C=g>0?x/g*100:0,T=x>0?b/x*100:0,j=b>0?y/b*100:0,P=S>0?_/S:0,A=v>0?S/v*100:0;return{baseEnviada:v,baseEntregue:g,taxaEntrega:E,propostas:x,taxaPropostas:C,aprovados:b,taxaAprovacao:T,emissoes:y,taxaEmissao:j,convBase:A,cac:P,custoTotal:_}},l=w.useMemo(()=>o(e,r),[e,r,a,n.filtrosGlobais]),c=w.useMemo(()=>o(t,[]),[t,a,n.filtrosGlobais]),u=(p,m)=>m===0?0:(p-m)/m*100,f={baseEnviada:u(l.baseEnviada,c.baseEnviada),baseEntregue:u(l.baseEntregue,c.baseEntregue),taxaEntrega:u(l.taxaEntrega,c.taxaEntrega),propostas:u(l.propostas,c.propostas),taxaPropostas:u(l.taxaPropostas,c.taxaPropostas),aprovados:u(l.aprovados,c.aprovados),taxaAprovacao:u(l.taxaAprovacao,c.taxaAprovacao),emissoes:u(l.emissoes,c.emissoes),taxaEmissao:u(l.taxaEmissao,c.taxaEmissao),convBase:u(l.convBase,c.convBase),cac:u(l.cac,c.cac),custoTotal:u(l.custoTotal,c.custoTotal)},h=({label:p,value:m,variation:v,prefix:g="",suffix:x="",isCurrency:b=!1,highlight:y=!1,decimals:_=1})=>d.jsxs("div",{className:`
            relative rounded-lg p-2 flex flex-col justify-between min-h-[55px] transition-all group
            ${y?"bg-blue-900/20 border border-blue-500/30":"bg-slate-900 border border-slate-800 hover:border-slate-700"}
        `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:[p,d.jsx(na,{size:12,className:"cursor-help text-slate-600 hover:text-blue-400 transition-colors",strokeWidth:2.5})]}),v!==void 0&&v!==0&&d.jsxs("span",{className:`text-[9px] font-bold ${v>0?"text-emerald-400":"text-red-400"}`,children:[v>0?"":""," ",Math.abs(v).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:`text-base font-bold leading-none ${y?"text-blue-100":"text-slate-100"}`,children:[g,b?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(m):new Intl.NumberFormat("pt-BR",{minimumFractionDigits:_,maximumFractionDigits:_}).format(m),x]}),x==="%"&&d.jsx("div",{className:"w-full h-0.5 bg-slate-700/50 rounded-full overflow-hidden mt-1",children:d.jsx("div",{className:`h-full rounded-full ${y?"bg-blue-400":"bg-slate-500"}`,style:{width:`${Math.min(m,100)}%`}})})]})]});return d.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[d.jsx(h,{label:"Base Enviada",value:l.baseEnviada,variation:f.baseEnviada,decimals:0}),d.jsx(h,{label:"Base Entregue",value:l.baseEntregue,variation:f.baseEntregue,decimals:0}),d.jsx(h,{label:"% Entrega",value:l.taxaEntrega,suffix:"%",variation:f.taxaEntrega}),d.jsx(h,{label:"Propostas",value:l.propostas,variation:f.propostas,decimals:0}),d.jsx(h,{label:"% Propostas",value:l.taxaPropostas,suffix:"%",variation:f.taxaPropostas}),d.jsx(h,{label:"Aprovados",value:l.aprovados,variation:f.aprovados,decimals:0}),d.jsx(h,{label:"% Aprovados",value:l.taxaAprovacao,suffix:"%",variation:f.taxaAprovacao}),d.jsx(h,{label:"Emisses",value:l.emissoes,variation:f.emissoes,decimals:0}),d.jsx(h,{label:"% Finalizao",value:l.taxaEmissao,suffix:"%",variation:f.taxaEmissao}),d.jsx(h,{label:"% Conv. Base",value:l.convBase,suffix:"%",variation:f.convBase,highlight:!0,decimals:3}),d.jsx(h,{label:"CAC",value:l.cac,prefix:"R$ ",isCurrency:!0,variation:f.cac}),d.jsx(h,{label:"Custo Total",value:l.custoTotal,prefix:"R$ ",isCurrency:!0,variation:f.custoTotal})]})},aAe=({activities:e,goals:t,currentMonth:r})=>{const{dailyAnalysis:n}=e9(),{isBUSelected:a}=Th(),{viewSettings:s}=vt(),i=s.perspective,o=!a("B2B2C")&&!a("Plurix"),[l,c]=w.useState(null),u=x=>{if(x&&x.activePayload&&x.activePayload[0]){const b=x.activePayload[0].payload;b.data&&c(b.data)}},f=x=>{x&&x.payload&&x.payload.data&&c(x.payload.data)},h=w.useMemo(()=>l?e.filter(x=>(x.dataDisparo instanceof Date?ke(x.dataDisparo,"yyyy-MM-dd"):typeof x.dataDisparo=="string"?x.dataDisparo.split("T")[0]:"")===l):[],[l,e]),p=w.useMemo(()=>{let x=0,b=0,y="Meta";const _=t.find(k=>k.mes===r);i==="b2c"||i==="total"&&!a("Plurix")&&!a("B2B2C")?(x=n.reduce((k,E)=>k+E.emissoes_b2c_total,0),b=(_==null?void 0:_.b2c_meta)||0,y="Meta (Total B2C)"):a("Plurix")?(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.plurix_meta)||0,y="Meta (Plurix)"):a("B2B2C")?(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.b2b2c_meta)||0,y="Meta (B2B2C)"):(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.cartoes_meta)||0,y="Meta (CRM)");const S=b>0?x/b*100:0;return{totalCards:x,goalCards:b,goalProgress:S,label:y}},[e,t,r,n,a,i]),m=[{name:"Realizado",value:p.totalCards,color:"#3B82F6"},{name:p.label,value:p.goalCards,color:"#10B981"}],v=w.useMemo(()=>n.map(x=>{const[b,y,_]=x.data.split("-").map(Number),S=new Date(b,y-1,_);return{...x,displayDate:ke(S,"dd/MM",{locale:Ys}),outros_propostas:Math.max(0,x.propostas_b2c_total-x.propostas_crm),outros_emissoes:Math.max(0,x.emissoes_b2c_total-x.emissoes_crm),cac_medio:x.cac_medio}}),[n]),g=({active:x,payload:b,label:y})=>x&&b&&b.length?d.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-2 rounded text-[10px] text-slate-200",children:[d.jsx("p",{className:"font-bold mb-1 border-b border-slate-700 pb-1",children:y}),b.map((_,S)=>{const E=_.name.includes("CAC")?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.value):_.value.toLocaleString("pt-BR");return d.jsxs("p",{style:{color:_.color},children:[_.name,": ",E]},S)})]}):null;return d.jsxs("div",{className:`grid gap-4 mb-2 ${o?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col justify-between h-48 relative overflow-hidden group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"text-slate-400 text-xs font-medium",children:"Cartes vs Meta"}),d.jsx("span",{title:"Visualizao do realizado contra a meta definida para o perodo",children:d.jsx(na,{size:12,className:"text-slate-600 cursor-help"})})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mt-0.5",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:p.totalCards.toLocaleString()}),d.jsxs("span",{className:"text-xs text-slate-500",children:["/ ",p.goalCards.toLocaleString()]})]})]}),d.jsxs("div",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${p.goalProgress>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[p.goalProgress.toFixed(1),"%"]})]}),d.jsx("div",{className:"flex-1 w-full min-h-0 relative z-10",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{layout:"vertical",data:m,barSize:12,children:[d.jsx(Kt,{type:"number",hide:!0}),d.jsx(pt,{dataKey:"name",type:"category",width:50,tick:{fill:"#94a3b8",fontSize:10},axisLine:!1,tickLine:!1}),d.jsx(Ht,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f8fafc",fontSize:"10px"},itemStyle:{color:"#f8fafc"},cursor:{fill:"transparent"}}),d.jsx(Ir,{dataKey:"value",radius:[0,4,4,0],children:m.map((x,b)=>d.jsx(Ri,{fill:x.color},`cell-${b}`))})]})})})]}),o&&d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["CAC Evolution (R$) ",d.jsx("span",{title:"Evoluo do Custo de Aquisio de Carto ao longo do tempo",children:d.jsx(na,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(pt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ht,{content:d.jsx(g,{}),wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Xr,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6,onClick:f,style:{cursor:"pointer"}}})]})})})]})]}),o&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Propostas: CRM vs B2C ",d.jsx("span",{title:"Comparativo entre propostas geradas via CRM e outros canais B2C",children:d.jsx(na,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(pt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ht,{content:d.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Ir,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3B82F6"}),d.jsx(Ir,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-48 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Emisses: CRM vs B2C ",d.jsx("span",{title:"Comparativo entre cartes emitidos via CRM e outros canais B2C",children:d.jsx(na,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(pr,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Kt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(pt,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Ht,{content:d.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Ir,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#10B981"}),d.jsx(Ir,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]})]}),d.jsx(Ch,{date:l?new Date(l+"T12:00:00"):null,activities:h,onClose:()=>c(null)})]})},sAe=({data:e,onDayClick:t,onProgramDispatch:r})=>{const[n,a]=Rs.useState(new Date),{goals:s,b2cData:i}=vt(),{startDate:o,endDate:l,compareEnabled:c,setPeriod:u,setPreset:f}=Ah();w.useEffect(()=>{f("thisMonth")},[]),w.useEffect(()=>{l&&ke(l,"yyyy-MM")!==ke(n,"yyyy-MM")&&a(l)},[l]);const h=x=>{a(x),u(Jr(x),Il(x),"custom")},p=w.useMemo(()=>Object.values(e).flat(),[e]),m=w.useMemo(()=>p.filter(x=>jo(x.dataDisparo,{start:o,end:l})),[p,o,l]),v=w.useMemo(()=>i.filter(x=>{const b=typeof x.data=="string"?new Date(x.data+"T12:00:00"):new Date(x.data);return jo(b,{start:o,end:l})}),[i,o,l]),g=w.useMemo(()=>{if(!c)return[];const x=u0(l,o)+1,b=jt(o,x),y=jt(l,x);return p.filter(_=>jo(_.dataDisparo,{start:b,end:y}))},[p,o,l,c]);return d.jsxs("div",{className:"flex h-full gap-2 p-2 bg-[#0F172A] overflow-hidden",children:[d.jsxs("div",{className:"w-1/3 min-w-[320px] flex flex-col gap-2",children:[d.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm",children:d.jsx(rAe,{data:e,onDayClick:t,displayDate:n,onMonthChange:h})}),d.jsxs("button",{onClick:r,className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-slate-300 font-medium flex items-center justify-center gap-2 transition-colors text-sm",children:[d.jsx(hH,{size:16}),"Programar disparo"]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-1 gap-3",children:[d.jsx("div",{className:"flex items-center justify-between mb-1"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex justify-between items-center",children:[d.jsx("span",{children:"KPIs"}),c&&d.jsx("span",{className:"text-[10px] text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full",children:"Comparando com perodo anterior"})]}),d.jsx(nAe,{activities:m,previousActivities:g,b2cData:v})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex items-center gap-2",children:"Metas & Resultados"}),d.jsx(aAe,{activities:m,goals:s,currentMonth:ke(o,"yyyy-MM")})]})]})]})},iAe=["E-mail","Push","SMS","WhatsApp"],oAe=["Classic"],lAe=["Aquisio","Meio_de_Funil"],P4={"E-mail":.001,Push:.001,SMS:.064,WhatsApp:.42},N4={Padro:0,Limite:1,Vibe:2,Anuidade:76.5},cAe={B2C:["Leads_Parceiros","Base_Proprietaria","Bases_Bureaus","Cartonistas","CRM"],B2B2C:["Cartonistas","CRM","Funcionrios"],Plurix:["Cartonistas","CRM","Funcionrios"],"Bem Barato":["C_Level","Negados","Pre_Churn"]},uAe={Cartonistas:{parceiros:["Serasa","Bom_Pra_Credito","Proprietaria"]},Leads_Parceiros:{parceiros:["Serasa","Acordo Certo"]},CRM:{subgrupos:["Ativo","Inativo","Leais","Frequentes","Novos","Administrativos"]},Funcionrios:{subgrupos:["Novos","Aprovados_nao_convertidos"]},C_Level:{subgrupos:["Negados","Instabilidade"]}},dAe={Padro:["Em dobro","Upgrade","Uber","Black Friday"],Vibe:[],Limite:[],Anuidade:["Grtis 1 ano","Gratis_para_sempre","Test_Drive_6_meses","Test_Drive_3_meses"],Bonificao:[]},fAe=e=>{if(!e)return"";const t=new Date(e+"T00:00:00"),n=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"][t.getMonth()],a=t.getFullYear().toString().slice(2);return`${n}/${a}`},hAe=(e,t,r)=>!e||!t?1:r.filter(a=>a.jornada===e&&a["Data de Disparo"]===t).length+1,pAe=(e,t,r,n,a)=>{if(!e||!t||!r||!n||!a)return"";const s=e.toUpperCase(),i=t.replace(/\s/g,"_").toUpperCase(),o=r.replace(/\s/g,"_").toUpperCase().substring(0,20),l=a.replace("/","").toUpperCase();return`${s}_${i}_${o}_${n}_${l}`},mAe=(e,t)=>e*t,vAe=(e,t)=>e*t,gAe=(e,t)=>e+t;function xAe(e,t){let r=[];const n=[90,180,365,99999];for(const p of n){const m=new Date;m.setDate(m.getDate()-p);const v=e.filter(g=>{const x=Eh(g["Data de Disparo"]);return x?x>=m:!1});if(v.length>=20||p===99999){r=v;break}}const a=r,s=yAe(a,t),i=bAe(a,t),o=wAe(a,t);let l,c,u;s.length>=5?(l=s,c="exact",u=100):i.length>=5?(l=i,c="partial",u=70):(l=o,c="fallback",u=50);const f=["baseVolume","taxaConversao","baseAcionavel","cac","taxaEntrega","taxaAbertura","propostas","aprovados","cartoesGerados"],h={};return f.forEach(p=>{h[p]=_Ae(l,p,c,u)}),console.log(`[AI Projection] Input: BU=${t.bu} Seg=${t.segmento} (Window: ${l.length} matches, Method: ${c})`),h}function El(e,t){if(!e||!t)return!1;const r=s=>s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),n=r(String(e)),a=r(String(t));return n===a||n.includes(a)||a.includes(n)}function yAe(e,t){return e.filter(r=>El(r.BU,t.bu)&&El(r.Segmento,t.segmento)&&(!t.perfilCredito||El(r["Perfil de Crdito"],t.perfilCredito))&&(!t.canal||El(r.Canal,t.canal)))}function bAe(e,t){return e.filter(r=>El(r.BU,t.bu)&&El(r.Segmento,t.segmento))}function wAe(e,t){return e.filter(r=>El(r.BU,t.bu))}function _Ae(e,t,r,n,a){const i={baseVolume:"Base Total",taxaConversao:"Taxa de Converso",baseAcionavel:"Base Total",cac:"CAC",taxaEntrega:"Taxa de Entrega",taxaAbertura:"Taxa de Abertura",propostas:"Propostas",aprovados:"Aprovados",cartoesGerados:"Cartes Gerados"}[t],o=[];if(e.forEach(p=>{var S;let m=p[i]||((S=p.raw)==null?void 0:S[i]);if(m==null||(m=Number(m),isNaN(m)))return;const v=Eh(p["Data de Disparo"]);if(!v)return;const x=Math.floor((new Date().getTime()-v.getTime())/(1e3*60*60*24)),b=Math.max(.2,1-x/365),y=p["Base Total"]?Math.log10(p["Base Total"]+1)/5:1,_=b*y;o.push({value:m,weight:_})}),o.length===0)return{metric:t,projectedValue:0,confidenceInterval:{min:0,max:0},confidence:0,sampleSize:0,method:r,matchWeight:n};const l=kAe(o),u=1.96*SAe(o,l),f=Math.min(100,o.length/30*100),h=Math.round(f*.4+n*.6);return{metric:t,projectedValue:Math.round(l*100)/100,confidenceInterval:{min:Math.max(0,Math.round((l-u)*100)/100),max:Math.round((l+u)*100)/100},confidence:h,sampleSize:o.length,method:r,matchWeight:n}}function kAe(e){const t=e.reduce((n,{value:a,weight:s})=>n+a*s,0),r=e.reduce((n,{weight:a})=>n+a,0);return t/r}function SAe(e,t){const r=e.reduce((a,{weight:s})=>a+s,0),n=e.reduce((a,{value:s,weight:i})=>a+i*Math.pow(s-t,2),0)/r;return Math.sqrt(n)}const t9=w.createContext(null),cd=()=>{const e=w.useContext(t9);if(!e)throw new Error("useDispatchForm deve ser usado dentro de DispatchFormProvider");return e},O4={bu:"",segmento:"",jornada:"",activityName:"",canal:"",parceiro:"",subgrupo:"",dataInicio:"",dataFim:"",horarioDisparo:"10:00",safra:"",ordemDisparo:1,produto:"Classic",perfilCredito:"",etapaAquisicao:"",oferta:"",promocional:"",oferta2:"",promocional2:"",baseVolume:"",custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:"Rascunho"},EAe=({children:e,editingActivity:t=null,activeSegmento:r})=>{const[n,a]=w.useState(O4),[s,i]=w.useState({}),[o,l]=w.useState(!1),[c,u]=w.useState({}),f=vt(x=>x.activities),h=vt(x=>x.frameworkData)||[],p=w.useMemo(()=>{const x=new Map,b=new Map,y=new Map,_=new Map,S=new Map,k=new Map,E=new Map,C=new Map,T=new Map,j=new Map,P=new Map,A=new Map,N=(B,q)=>{if(q&&typeof q=="string"&&q.trim()){const K=q.trim();B.set(K,(B.get(K)||0)+1)}};f.forEach(B=>{const q=B.raw||B;N(x,q.Segmento),N(E,q.Jornada||q.jornada),N(A,q.Canal||q.canal),N(C,q.Parceiro),N(y,q.Oferta),N(S,q.Promocional),N(_,q["Oferta 2"]),N(k,q["Promocional 2"]),N(b,q["Perfil de Crdito"]),N(T,q.Subgrupos),N(j,q["Etapa de aquisio"]),N(P,q.Produto)});const F=B=>Array.from(B.entries()).map(([q,K])=>({value:q,count:K,isSmart:!1})).sort((q,K)=>K.count-q.count);return{segmentos:F(x),perfisCredito:F(b),ofertas:F(y),ofertas2:F(_),promocionais:F(S),promocionais2:F(k),jornadas:F(E),parceiros:F(C),subgrupos:F(T),etapasAquisicao:F(j),produtos:F(P),canais:F(A)}},[f]),m=w.useMemo(()=>{const x=(C,T)=>{if(!C||C.length===0)return T;const j=C.map(N=>({value:N,count:999,isSmart:!0})),P=new Set(C),A=T.filter(N=>!P.has(N.value));return[...j,...A]},b=n.bu?cAe[n.bu]:[],y=uAe[n.segmento]||{},_=y.parceiros||[],S=y.subgrupos||[],k=dAe[n.oferta]||[],E=Array.from(new Set(h.map(C=>C.Jornada||C.jornada).filter(Boolean)));return{...p,segmentos:x(b,p.segmentos),parceiros:x(_,p.parceiros),subgrupos:x(S,p.subgrupos),promocionais:x(k,p.promocionais),jornadas:x(E,p.jornadas)}},[p,n.bu,n.segmento,n.oferta,h]),v=w.useCallback((x,b)=>{a(y=>({...y,[x]:b})),s[x]&&i(y=>{const _={...y};return delete _[x],_})},[s]);w.useEffect(()=>{t?a({bu:t.BU,segmento:t.Segmento,jornada:t.jornada,activityName:t["Activity name / Taxonomia"],canal:t.Canal||"",parceiro:t.Parceiro||"",subgrupo:t.Subgrupos||"",dataInicio:t["Data de Disparo"],dataFim:t["Data Fim"],horarioDisparo:t["Horrio de Disparo"]||"10:00",safra:t.Safra||"",ordemDisparo:t["Ordem de disparo"]||1,produto:t.Produto||"Classic",perfilCredito:t["Perfil de Crdito"]||"",etapaAquisicao:t["Etapa de aquisio"]||"",oferta:t.Oferta||"",promocional:t.Promocional||"",oferta2:t["Oferta 2"]||"",promocional2:t["Promocional 2"]||"",baseVolume:String(t["Base Total"]||""),custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:t.status}):(a({...O4,segmento:r}),i({}))},[t,r]),w.useEffect(()=>{if(n.dataInicio&&!t){const x=new Date(n.dataInicio);x.setDate(x.getDate()+2);const b=x.toISOString().split("T")[0];a(y=>({...y,dataFim:b}))}},[n.dataInicio,t]),w.useEffect(()=>{if(n.dataInicio){const x=fAe(n.dataInicio);a(b=>({...b,safra:x}))}},[n.dataInicio]),w.useEffect(()=>{if(n.jornada&&n.dataInicio&&!t){const x=hAe(n.jornada,n.dataInicio,f);a(b=>({...b,ordemDisparo:x}))}},[n.jornada,n.dataInicio,f,t]),w.useEffect(()=>{if(n.bu&&n.segmento&&n.jornada&&n.safra&&n.ordemDisparo&&!t){const x=typeof n.ordemDisparo=="number"?n.ordemDisparo:1,b=pAe(n.bu,n.segmento,n.jornada,x,n.safra);b&&!n.activityName&&a(y=>({...y,activityName:b}))}},[n.bu,n.segmento,n.jornada,n.safra,n.ordemDisparo,t,n.activityName]),w.useEffect(()=>{n.canal&&P4[n.canal]&&a(x=>({...x,custoUnitarioCanal:String(P4[n.canal].toFixed(3))}))},[n.canal]),w.useEffect(()=>{n.oferta&&N4[n.oferta]&&a(x=>({...x,custoUnitarioOferta:String(N4[n.oferta].toFixed(2))}))},[n.oferta]),w.useEffect(()=>{const x=Number(n.baseVolume)||0,b=Number(n.custoUnitarioOferta)||0,y=Number(n.custoUnitarioCanal)||0;if(x>0){const _=mAe(b,x),S=vAe(y,x),k=gAe(_,S);a(E=>({...E,custoTotalOferta:String(_.toFixed(2)),custoTotalCanal:String(S.toFixed(2)),custoTotalCampanha:String(k.toFixed(2))}))}},[n.baseVolume,n.custoUnitarioOferta,n.custoUnitarioCanal]),w.useEffect(()=>{if(n.bu&&n.segmento&&f.length>0)try{const x={bu:n.bu,segmento:n.segmento,perfilCredito:n.perfilCredito||void 0,canal:n.canal||void 0,baseVolume:Number(n.baseVolume)||void 0},b=xAe(f,x);u(b)}catch(x){console.error("Erro ao calcular projecoes:",x),u({})}else u({})},[n.bu,n.segmento,n.perfilCredito,n.canal,n.baseVolume,f]);const g=w.useMemo(()=>({formData:n,setFormData:a,handleChange:v,errors:s,setErrors:i,smartOptions:m,projections:c,loading:o,setLoading:l,editingActivity:t,activities:f}),[n,v,s,m,c,o,t,f]);return d.jsx(t9.Provider,{value:g,children:e})},ir=({label:e,required:t,tooltip:r})=>d.jsxs("label",{className:"flex items-center gap-0.5 text-[9px] font-bold text-slate-500 uppercase tracking-wider mb-0.5",children:[e,t&&d.jsx("span",{className:"text-blue-500",children:"*"}),r&&d.jsx("span",{title:r,className:"text-slate-600 hover:text-slate-400 cursor-help transition-colors",children:d.jsx(na,{size:9})})]}),xo=({className:e="",error:t,...r})=>d.jsxs("div",{className:"relative",children:[d.jsx("input",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                placeholder:text-slate-600
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...r}),t&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),CAe=({className:e="",error:t,children:r,...n})=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all appearance-none cursor-pointer
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...n,children:r}),d.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500",children:d.jsx("svg",{width:"8",height:"5",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"m1 1 4 4 4-4"})})}),t&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),Zx=({title:e,icon:t,children:r,headerClassName:n="text-slate-300",badge:a})=>d.jsxs("section",{className:"bg-slate-800/40 p-3 rounded-lg border border-slate-700/50 flex flex-col gap-2 hover:border-slate-600/50 transition-colors duration-300 h-full",children:[d.jsxs("div",{className:`flex items-center justify-between pb-1.5 border-b border-slate-700/50 ${n}`,children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"opacity-70 text-slate-400",children:t}),d.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:e})]}),a&&d.jsx("span",{className:"px-1 py-0.5 bg-slate-700/50 rounded text-[8px] text-slate-400 font-bold uppercase",children:a})]}),d.jsx("div",{className:"flex-1 flex flex-col",children:r})]}),si=({label:e,value:t,prefix:r="",suffix:n="",isInt:a=!1,confidence:s,compact:i=!1})=>d.jsxs("div",{className:`
        bg-slate-900/50 border border-indigo-500/10 rounded
        ${i?"p-1.5":"p-2"}
        flex flex-col items-center justify-center text-center
    `,children:[d.jsx("span",{className:`uppercase font-bold text-indigo-400 ${i?"text-[7px]":"text-[8px]"}`,children:e}),d.jsx("div",{className:`font-bold text-indigo-200 ${i?"text-xs":"text-sm"}`,children:t!==void 0?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-[9px] text-indigo-500 mr-0.5",children:r}),a?Math.round(t).toLocaleString("pt-BR"):t.toFixed(2),d.jsx("span",{className:"text-[9px] text-indigo-500 ml-0.5",children:n})]}):d.jsx("span",{className:"text-slate-500",children:"-"})}),s!==void 0&&s>0&&d.jsx("div",{className:"w-full mt-1 h-1 bg-slate-800 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500/50 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s)}%`}})})]}),TAe=({label:e,value:t,className:r=""})=>d.jsxs("div",{className:`bg-slate-900/40 p-1.5 rounded border border-slate-700/50 ${r}`,children:[d.jsx(ir,{label:e}),d.jsx("div",{className:"text-[11px] text-slate-300 font-mono text-center",children:t||"-"})]}),La=({value:e,onChange:t,options:r,placeholder:n="Digite ou selecione...",error:a,className:s="",disabled:i=!1,allowClear:o=!0})=>{const[l,c]=w.useState(!1),[u,f]=w.useState(e),[h,p]=w.useState(-1),m=w.useRef(null),v=w.useRef(null),g=w.useRef(null);w.useEffect(()=>{f(e)},[e]);const x=w.useMemo(()=>{const k=u.toLowerCase().trim();let E=r;return k&&(E=r.filter(C=>C.value.toLowerCase().includes(k))),E.sort((C,T)=>{const j=C.value.toLowerCase(),P=T.value.toLowerCase();if(j===k&&P!==k)return-1;if(P===k&&j!==k)return 1;if(j.startsWith(k)&&!P.startsWith(k))return-1;if(P.startsWith(k)&&!j.startsWith(k))return 1;if(C.isSmart&&!T.isSmart)return-1;if(!C.isSmart&&T.isSmart)return 1;const A=C.count||0,N=T.count||0;return N!==A?N-A:j.localeCompare(P)})},[r,u]);w.useEffect(()=>{const k=E=>{g.current&&!g.current.contains(E.target)&&(c(!1),u!==e&&t(u))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[u,e,t]);const b=w.useCallback(k=>{const E=k.target.value;f(E),c(!0),p(-1)},[]),y=w.useCallback(k=>{var E;f(k.value),t(k.value),c(!1),p(-1),(E=m.current)==null||E.blur()},[t]),_=w.useCallback(k=>{var E;k.stopPropagation(),f(""),t(""),(E=m.current)==null||E.focus()},[t]),S=w.useCallback(k=>{if(!l&&(k.key==="ArrowDown"||k.key==="ArrowUp")){c(!0);return}switch(k.key){case"ArrowDown":k.preventDefault(),p(E=>E<x.length-1?E+1:0);break;case"ArrowUp":k.preventDefault(),p(E=>E>0?E-1:x.length-1);break;case"Enter":k.preventDefault(),h>=0&&x[h]?y(x[h]):u&&(t(u),c(!1));break;case"Escape":c(!1),p(-1);break;case"Tab":u!==e&&t(u),c(!1);break}},[l,h,x,y,u,e,t]);return w.useEffect(()=>{if(h>=0&&v.current){const k=v.current.children[h];k&&k.scrollIntoView({block:"nearest"})}},[h]),d.jsxs("div",{ref:g,className:"relative",children:[d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{ref:m,type:"text",value:u,onChange:b,onFocus:()=>c(!0),onKeyDown:S,disabled:i,placeholder:n,className:`
                        w-full px-2 py-1.5 pr-12
                        bg-slate-800/50 border rounded
                        text-[11px] font-medium text-slate-200
                        placeholder:text-slate-600
                        focus:outline-none focus:ring-1 focus:ring-blue-500/50
                        transition-all
                        ${a?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                        ${i?"opacity-50 cursor-not-allowed":""}
                        ${s}
                    `}),d.jsxs("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[o&&u&&!i&&d.jsx("button",{type:"button",onClick:_,className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:d.jsx(Za,{size:10})}),d.jsx("button",{type:"button",onClick:()=>!i&&c(!l),className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:d.jsx(Mg,{size:12,className:`transition-transform ${l?"rotate-180":""}`})})]})]}),l&&x.length>0&&d.jsx("div",{ref:v,className:`absolute z-[100] w-full mt-0.5 py-0.5 max-h-40 overflow-auto
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800`,children:x.map((k,E)=>d.jsxs("div",{onClick:()=>y(k),className:`
                                px-2 py-1 text-[11px] cursor-pointer flex justify-between items-center
                                ${h===E?"bg-blue-600 text-white":"text-slate-200 hover:bg-slate-700"}
                                ${k.value===e?"font-semibold":""}
                            `,children:[d.jsxs("span",{className:"truncate flex items-center gap-1",children:[k.isSmart&&d.jsx("span",{className:"text-yellow-400 text-[9px]",title:"Sugesto do Framework",children:""}),k.value]}),k.count!==void 0&&k.count>0&&!k.isSmart&&d.jsxs("span",{className:`
                                    text-[9px] ml-1 px-1 rounded
                                    ${h===E?"bg-blue-500 text-blue-100":"bg-slate-700 text-slate-400"}
                                `,children:[k.count,"x"]})]},k.value))}),l&&x.length===0&&u&&d.jsxs("div",{className:`absolute z-50 w-full mt-0.5 py-2 px-2
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               text-[10px] text-slate-400 text-center`,children:['Novo valor: "',u,'"',d.jsx("br",{}),d.jsx("span",{className:"text-[9px] text-slate-500",children:"Pressione Enter para confirmar"})]}),a&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:a})]})},AAe=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=cd(),a=w.useMemo(()=>n.canais.length>0?n.canais:iAe.map(s=>({value:s,count:0})),[n.canais]);return d.jsx("div",{className:"w-full h-full",children:d.jsx(Zx,{title:"Identificacao",icon:d.jsx(_H,{size:14}),badge:"1",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"BU",required:!0}),d.jsxs(CAe,{value:e.bu,onChange:s=>t("bu",s.target.value),error:r.bu,children:[d.jsx("option",{value:"",children:"..."}),d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"}),d.jsx("option",{value:"Bem Barato",children:"Bem Barato"})]})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"CAMPANHA",required:!0}),d.jsx(La,{value:e.segmento,onChange:s=>t("segmento",s),options:n.segmentos,placeholder:"Digite...",error:r.segmento})]})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"ActivityName",required:!0}),d.jsx(xo,{value:e.activityName,onChange:s=>t("activityName",s.target.value),placeholder:"auto: BU_CAMP_JORNADA_ORD_SAFRA",className:"font-mono text-[9px] bg-slate-950/30 border-slate-800 text-slate-300",error:r.activityName})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Jornada",required:!0}),d.jsx(La,{value:e.jornada,onChange:s=>t("jornada",s),options:n.jornadas,placeholder:"Digite ou selecione...",error:r.jornada})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Canal",required:!0}),d.jsx(La,{value:e.canal,onChange:s=>t("canal",s),options:a,placeholder:"Digite ou selecione...",error:r.canal})]}),d.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Parceiro"}),d.jsx(La,{value:e.parceiro,onChange:s=>t("parceiro",s),options:n.parceiros,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Subgrupo"}),d.jsx(La,{value:e.subgrupo,onChange:s=>t("subgrupo",s),options:n.subgrupos,placeholder:"Digite..."})]})]})})]})})})},jAe=()=>{const{formData:e,handleChange:t,errors:r}=cd();return d.jsx("div",{className:"w-full h-full",children:d.jsx(Zx,{title:"Cronograma",icon:d.jsx(sc,{size:14}),badge:"2",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Data Inicio",required:!0}),d.jsx(xo,{type:"date",value:e.dataInicio,onChange:n=>t("dataInicio",n.target.value),error:r.dataInicio})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Data Fim",required:!0}),d.jsx(xo,{type:"date",value:e.dataFim,onChange:n=>t("dataFim",n.target.value),error:r.dataFim})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Horario"}),d.jsx(xo,{type:"time",value:e.horarioDisparo,onChange:n=>t("horarioDisparo",n.target.value)})]}),d.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsx(TAe,{label:"Safra",value:e.safra}),d.jsxs("div",{children:[d.jsx(ir,{label:"Ordem"}),d.jsx(xo,{value:e.ordemDisparo,onChange:n=>t("ordemDisparo",n.target.value),placeholder:"ex: 1 ou Pontual",className:"text-center font-bold text-blue-400"})]})]})})]})})})},PAe=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=cd(),a=w.useMemo(()=>n.produtos.length>0?n.produtos:oAe.map(i=>({value:i,count:0})),[n.produtos]),s=w.useMemo(()=>n.etapasAquisicao.length>0?n.etapasAquisicao:lAe.map(i=>({value:i,count:0})),[n.etapasAquisicao]);return d.jsx("div",{className:"w-full h-full",children:d.jsx(Zx,{title:"Produto & Oferta",icon:d.jsx(nH,{size:14}),badge:"3",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Produto",required:!0}),d.jsx(La,{value:e.produto,onChange:i=>t("produto",i),options:a,placeholder:"Digite ou selecione..."})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Perfil Credito"}),d.jsx(La,{value:e.perfilCredito,onChange:i=>t("perfilCredito",i),options:n.perfisCredito,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Etapa Funil"}),d.jsx(La,{value:e.etapaAquisicao,onChange:i=>t("etapaAquisicao",i),options:s,placeholder:"Digite ou selecione..."})]}),d.jsxs("div",{className:"border-t border-slate-700/50 pt-2 space-y-2",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Oferta",required:!0}),d.jsx(La,{value:e.oferta,onChange:i=>t("oferta",i),options:n.ofertas,placeholder:"Digite ou selecione...",error:r.oferta})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Promocional"}),d.jsx(La,{value:e.promocional,onChange:i=>t("promocional",i),options:n.promocionais,placeholder:"Digite..."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Oferta 2"}),d.jsx(La,{value:e.oferta2,onChange:i=>t("oferta2",i),options:n.ofertas2,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"Promo 2"}),d.jsx(La,{value:e.promocional2,onChange:i=>t("promocional2",i),options:n.promocionais2,placeholder:"Digite..."})]})]})]})]})})})},NAe=()=>{const{formData:e,handleChange:t}=cd(),r=n=>(Number(n)||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return d.jsx("div",{className:"w-full h-full",children:d.jsx(Zx,{title:"Investimento",icon:d.jsx(Gu,{size:14}),badge:"4",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"Volume Base"}),d.jsx(xo,{type:"number",value:e.baseVolume,onChange:n=>t("baseVolume",n.target.value),placeholder:"Ex: 50000",className:"text-base font-semibold text-slate-200"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(ir,{label:"C.U. Oferta",tooltip:"Custo Unitario Oferta"}),d.jsx(xo,{type:"number",step:"0.01",value:e.custoUnitarioOferta,onChange:n=>t("custoUnitarioOferta",n.target.value),className:"bg-slate-900/50 text-[10px]",placeholder:"0.00"})]}),d.jsxs("div",{children:[d.jsx(ir,{label:"C.U. Canal",tooltip:"Custo Unitario Canal (auto)"}),d.jsx(xo,{type:"number",step:"0.001",value:e.custoUnitarioCanal,onChange:n=>t("custoUnitarioCanal",n.target.value),className:"bg-slate-900/50 text-[10px] text-slate-400",placeholder:"auto",readOnly:!0})]})]}),d.jsx("div",{className:"mt-auto pt-3",children:d.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center",children:[d.jsx("span",{className:"text-[8px] uppercase text-slate-400 font-bold block mb-0.5",children:"Total Campanha"}),d.jsxs("span",{className:"text-base font-bold text-slate-200 block",children:["R$ ",r(e.custoTotalCampanha)]})]})})]})})})},OAe=()=>{var h,p,m,v,g,x,b,y,_,S,k,E,C,T,j,P,A,N,F;const{projections:e,formData:t}=cd(),r=((h=e.baseVolume)==null?void 0:h.projectedValue)||Number(t.baseVolume)||0,n=((p=e.taxaConversao)==null?void 0:p.projectedValue)||0,a=((m=e.baseAcionavel)==null?void 0:m.projectedValue)||r*.78,s=((v=e.propostas)==null?void 0:v.projectedValue)||r*(n/100),i=((g=e.aprovados)==null?void 0:g.projectedValue)||s*.65,o=((x=e.cartoesGerados)==null?void 0:x.projectedValue)||i*.85,l=Number(t.custoTotalCampanha)||0,c=o>0?l/o:0,u=((b=e.cac)==null?void 0:b.projectedValue)||c,f=((y=e.taxaConversao)==null?void 0:y.sampleSize)||0;return d.jsx("div",{className:"w-full h-full",children:d.jsxs("div",{className:"bg-indigo-950/20 p-3 rounded-lg border border-indigo-500/20 shadow-sm flex flex-col h-full hover:border-indigo-500/40 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-indigo-500/20 mb-3",children:[d.jsxs("h3",{className:"text-[10px] font-bold text-indigo-400 flex items-center gap-1.5 uppercase tracking-wide",children:[d.jsx(Sa,{size:14}),"Projecao IA",d.jsx(bH,{size:10,className:"text-indigo-300/50"})]}),d.jsx("span",{className:"px-1 py-0.5 bg-indigo-500/10 rounded text-[8px] text-indigo-400 font-bold",children:"5"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-1.5 flex-1",children:[d.jsx(si,{label:"Volume",value:r>0?r:void 0,isInt:!0,confidence:(_=e.baseVolume)==null?void 0:_.confidence,compact:!0}),d.jsx(si,{label:"Tx Conv",value:n>0?n:void 0,suffix:"%",confidence:(S=e.taxaConversao)==null?void 0:S.confidence,compact:!0}),d.jsx(si,{label:"Bs Acion.",value:a>0?a:void 0,isInt:!0,confidence:(k=e.baseAcionavel)==null?void 0:k.confidence,compact:!0}),d.jsx(si,{label:"CAC",value:u>0?u:void 0,prefix:"R$",confidence:(E=e.cac)==null?void 0:E.confidence,compact:!0}),d.jsx(si,{label:"Tx Entreg",value:(C=e.taxaEntrega)==null?void 0:C.projectedValue,suffix:"%",confidence:(T=e.taxaEntrega)==null?void 0:T.confidence,compact:!0}),d.jsx(si,{label:"Tx Abert",value:(j=e.taxaAbertura)==null?void 0:j.projectedValue,suffix:"%",confidence:(P=e.taxaAbertura)==null?void 0:P.confidence,compact:!0}),d.jsx(si,{label:"Propostas",value:s>0?s:void 0,isInt:!0,confidence:(A=e.propostas)==null?void 0:A.confidence,compact:!0}),d.jsx(si,{label:"Aprovados",value:i>0?i:void 0,isInt:!0,confidence:(N=e.aprovados)==null?void 0:N.confidence,compact:!0}),d.jsx(si,{label:"Cartoes",value:o>0?o:void 0,isInt:!0,confidence:(F=e.cartoesGerados)==null?void 0:F.confidence,compact:!0})]}),d.jsx("div",{className:"mt-3 text-[8px] text-indigo-400/50 text-center border-t border-indigo-500/10 pt-2",children:f>0?d.jsxs(d.Fragment,{children:["Baseado em ",d.jsx("span",{className:"font-bold text-indigo-400",children:f})," disparos similares"]}):d.jsx(d.Fragment,{children:"Preencha BU e Segmento para projecoes"})})]})})},DAe=({onClose:e,onSuccess:t})=>{const{formData:r,errors:n,setErrors:a,loading:s,setLoading:i,editingActivity:o}=cd(),l=vt(f=>f.removeActivity),c=async f=>{try{i(!0),a({});const h={bu:r.bu,jornada:r.jornada,activityName:r.activityName,dataInicio:r.dataInicio,dataFim:r.dataFim,horarioDisparo:r.horarioDisparo,canal:r.canal,safra:r.safra,ordemDisparo:r.ordemDisparo,perfilCredito:r.perfilCredito,oferta:r.oferta,promocional:r.promocional,oferta2:r.oferta2,promocional2:r.promocional2,parceiro:r.parceiro,subgrupo:r.subgrupo,etapaAquisicao:r.etapaAquisicao,produto:r.produto,baseVolume:r.baseVolume,custoUnitarioOferta:r.custoUnitarioOferta,custoTotalOferta:r.custoTotalOferta,custoUnitarioCanal:r.custoUnitarioCanal,custoTotalCanal:r.custoTotalCanal,custoTotalCampanha:r.custoTotalCampanha,status:f},p=ZB.safeParse(h);if(!p.success){const v={};p.error.issues.forEach(g=>{const x=g.path[0];v[x]=g.message}),a(v),a(g=>({...g,form:"Verifique os campos obrigatorios em vermelho."}));return}let m;o?m=await mm.updateActivity(o.id,{BU:p.data.bu,jornada:p.data.jornada,"Activity name / Taxonomia":p.data.activityName,"Data de Disparo":p.data.dataInicio,"Data Fim":p.data.dataFim,"Horrio de Disparo":p.data.horarioDisparo,Segmento:r.segmento,Canal:p.data.canal,"Perfil de Crdito":p.data.perfilCredito||null,Oferta:p.data.oferta||null,Promocional:p.data.promocional||null,"Oferta 2":p.data.oferta2||null,"Promocional 2":p.data.promocional2||null,Parceiro:p.data.parceiro||null,Subgrupos:p.data.subgrupo||null,"Etapa de aquisio":p.data.etapaAquisicao||null,Produto:p.data.produto||null,"Base Total":Number(r.baseVolume)||null,status:p.data.status}):m=await mm.saveActivity(p.data,r.segmento),t(m),e()}catch(h){console.error("Erro ao salvar atividade:",h),a({form:`Erro ao salvar: ${(h==null?void 0:h.message)||"Erro desconhecido"}`})}finally{i(!1)}},u=async()=>{if(!(!o||!window.confirm("Tem certeza que deseja apagar esta atividade?")))try{i(!0),await mm.deleteActivity(o.id),l(o.id),e()}catch(f){console.error("Erro ao apagar:",f),a({form:"Erro ao apagar atividade da base."})}finally{i(!1)}};return d.jsxs("div",{className:"relative w-[95vw] max-w-[1820px] h-[85vh] max-h-[920px] flex flex-col bg-[#0f172a] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-700/50 ring-1 ring-white/5",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-[#0f172a] border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${o?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"}`,children:o?d.jsx(Vb,{size:18}):d.jsx(sc,{size:18})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-bold text-white tracking-tight",children:o?"Editar Disparo":"Novo Disparo"}),d.jsx("p",{className:"text-[10px] text-slate-400",children:o?"Edite os parametros da atividade":"Layout compacto - Desktop 1920x1080"})]})]}),d.jsx("button",{onClick:e,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:d.jsx(Za,{size:18})})]}),d.jsxs("div",{className:"flex-1 overflow-x-auto overflow-y-visible p-4",children:[n.form&&d.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg text-red-300 text-xs flex items-center gap-2",children:[d.jsx(Vi,{size:16}),n.form]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 h-full",children:[d.jsx(AAe,{}),d.jsx(jAe,{}),d.jsx(PAe,{}),d.jsx(NAe,{}),d.jsx(OAe,{})]})]}),d.jsxs("div",{className:"px-5 py-3 bg-[#0f172a] border-t border-slate-800 flex justify-between items-center shrink-0 shadow-lg z-10",children:[d.jsx("div",{children:o&&d.jsxs("button",{onClick:u,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 px-3 py-2 rounded-lg text-xs font-medium transition-colors flex items-center gap-1.5",children:[d.jsx(Vl,{size:14}),d.jsx("span",{children:"Excluir"})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white font-medium text-xs transition-colors",children:"Cancelar"}),d.jsx("button",{onClick:()=>c("Rascunho"),disabled:s,className:"px-4 py-2 bg-slate-800 border border-slate-700 hover:bg-slate-700 text-slate-300 rounded-lg font-medium text-xs transition-all shadow-sm disabled:opacity-50",children:s?"...":"Salvar Rascunho"}),d.jsxs("button",{onClick:()=>c("Scheduled"),disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold text-xs shadow-lg shadow-blue-500/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:transform-none flex items-center gap-1.5",children:[d.jsx(Vb,{size:14}),s?"Processando...":"Agendar Disparo"]})]})]})]})},MAe=({isOpen:e,onClose:t,onSuccess:r,editingActivity:n,activeSegmento:a})=>e?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2",children:[d.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),d.jsx(EAe,{editingActivity:n,activeSegmento:a,children:d.jsx(DAe,{onClose:t,onSuccess:r})})]}):null,IAe=({data:e,onActivityUpdate:t})=>{const[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(null),l=vt(b=>b.viewSettings),c=vt(b=>b.addActivity),u=l.filtrosGlobais,{availableSegmentos:f}=k0(e,u),h=u.segmentos[0]||f[0]||"Todos",p=b=>{n(b)},m=b=>{const y={...b.raw,id:b.raw.id||b.id,BU:b.bu,jornada:b.jornada,"Activity name / Taxonomia":b.id,"Data de Disparo":ke(b.dataDisparo,"yyyy-MM-dd"),status:b.status||"Scheduled"};o(y),s(!0),n(null)},v=b=>Object.values(e).flat().filter(y=>c0(y.dataDisparo,b)),g=async b=>{const y=rC(b);c(y),t&&t(b.id,new Date(b["Data de Disparo"])),s(!1),o(null)},x=async b=>{try{const y=b.raw.id||b.raw.id;if(!y){console.error("Cannot confirm draft: missing database ID");return}await mm.confirmDraft(y);const _={...b,status:"Scheduled"};c(_),n(null),setTimeout(()=>n(b.dataDisparo),100)}catch(y){console.error("Error confirming draft:",y)}};return d.jsxs(d.Fragment,{children:[d.jsx(sAe,{data:e,onActivityUpdate:t,onDayClick:p,onProgramDispatch:()=>{o(null),s(!0)}}),r&&d.jsx(Ch,{date:r,activities:v(r),onClose:()=>n(null),onEdit:m,onConfirmDraft:x}),d.jsx(MAe,{isOpen:a,onClose:()=>{s(!1),o(null)},onSuccess:g,editingActivity:i,activeSegmento:h})]})},RAe=({initialStartDate:e,initialEndDate:t,initialCompareEnabled:r=!1,onApply:n,onCancel:a})=>{const[s,i]=w.useState(e),[o,l]=w.useState(t),[c,u]=w.useState(null),[f,h]=w.useState(r),[p,m]=w.useState(Il(new Date)),v=[{label:"Esta semana",getValue:()=>[jt(new Date,new Date().getDay()),new Date]},{label:"ltimos 14 dias",getValue:()=>[jt(new Date,13),new Date]},{label:"ltimos 28 dias",getValue:()=>[jt(new Date,27),new Date]},{label:"ltimos 90 dias",getValue:()=>[jt(new Date,89),new Date]},{label:"Este ano",getValue:()=>[new Date(new Date().getFullYear(),0,1),new Date]},{label:"Este Ms",getValue:()=>[Jr(new Date),new Date]}],g=S=>{!s||s&&o?(i(S),l(null)):UN(S,s)?(l(s),i(S)):l(S)},x=S=>{const[k,E]=S();i(k),l(E),m(E)},b=f&&s&&o?jt(s,u0(o,s)+1):null,y=f&&s&&o?jt(o,u0(o,s)+1):null,_=(S,k)=>{const E=Zo(Jr(S)),C=uhe(Il(S)),T=hE({start:E,end:C}),j=["D","S","T","Q","Q","S","S"];return d.jsxs("div",{className:"w-[320px] p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k==="left"?d.jsx("button",{onClick:()=>m(Bu(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(I0,{size:20})}):d.jsx("div",{className:"w-8"}),d.jsx("span",{className:"font-semibold text-slate-200 capitalize",children:ke(S,"MMMM yyyy",{locale:Ys})}),k==="right"?d.jsx("button",{onClick:()=>m(uE(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(R0,{size:20})}):d.jsx("div",{className:"w-8"})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:j.map((P,A)=>d.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:P},A))}),d.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:T.map((P,A)=>{const N=P.getMonth()===S.getMonth(),F=s&&c0(P,s),B=o&&c0(P,o),q=s&&o&&jo(P,{start:s,end:o}),K=!o&&s&&c&&jo(P,{start:UN(P,s)?P:s,end:spe(P,s)?P:s}),X=b&&y&&jo(P,{start:b,end:y});return d.jsx("button",{onClick:()=>g(P),onMouseEnter:()=>u(P),onMouseLeave:()=>u(null),className:`
                                    h-9 w-full flex items-center justify-center text-sm relative
                                    ${N?"text-slate-300":"text-slate-600"}
                                    ${F?"bg-blue-600 text-white rounded-l-full z-10":""}
                                    ${B?"bg-blue-600 text-white rounded-r-full z-10":""}
                                    ${(q||K)&&!F&&!B?"bg-blue-600/20":""}
                                    ${X&&!q&&!F&&!B?"bg-orange-500/20 text-orange-300":""}
                                    ${F&&B?"rounded-full":""}
                                    hover:bg-blue-600/50 hover:text-white transition-colors
                                `,children:ke(P,"d")},A)})})]})};return d.jsxs("div",{className:"flex h-[450px]",children:[d.jsx("div",{className:"w-48 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col gap-2",children:v.map((S,k)=>d.jsx("button",{onClick:()=>x(S.getValue),className:"text-left px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:S.label},k))}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 flex divide-x divide-slate-800",children:[d.jsx("div",{className:"relative",children:_(Bu(p,1),"left")}),d.jsx("div",{className:"relative",children:_(p,"right")})]}),d.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-between items-center bg-slate-900/50",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f,onChange:S=>h(S.target.checked),className:"rounded border-slate-600 bg-slate-800 text-blue-600 focus:ring-blue-500/20"}),"Comparar com perodo anterior"]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-slate-200",children:"Cancelar"}),d.jsx("button",{onClick:()=>n(s,o||s,f),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Aplicar"})]})]})]})]})},FAe=()=>{const{startDate:e,endDate:t,setPeriod:r,compareEnabled:n,toggleCompare:a}=Ah(),[s,i]=w.useState(!1),o=w.useRef(null);w.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const l=(c,u,f)=>{r(c,u),a(f),i(!1)};return d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-lg border shadow-sm transition-all ${s?"bg-slate-900 border-white text-white":"bg-slate-900/90 border-slate-700 text-white hover:bg-slate-900"}`,children:[d.jsx(sc,{size:16,className:"text-slate-400"}),d.jsxs("span",{className:"text-sm font-medium",children:[ke(e,"dd MMM, yyyy",{locale:Ys})," - ",ke(t,"dd MMM, yyyy",{locale:Ys})]}),d.jsx(Mg,{size:14,className:`text-slate-500 transition-transform ${s?"rotate-180":""}`})]}),s&&d.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:d.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl shadow-black/50 overflow-hidden w-[800px]",children:d.jsx(RAe,{initialStartDate:e,initialEndDate:t,initialCompareEnabled:n,onApply:l,onCancel:()=>i(!1)})})})]})},LAe=({title:e,children:t})=>d.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-white/10 bg-[#1A2238] sticky top-0 z-20 shadow-lg",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-100 drop-shadow-sm",children:e}),d.jsx("div",{className:"mt-1",children:d.jsx(FAe,{})})]}),d.jsx("div",{className:"flex items-center gap-3",children:t})]}),r9=w.createContext(void 0),$Ae=({children:e})=>{const{paidMediaData:t,setPaidMediaData:r}=vt(),[n,a]=w.useState({from:Jr(new Date),to:Lu(new Date)}),[s,i]=w.useState("this-month"),[o,l]=w.useState(["meta","google"]),[c,u]=w.useState(["marca","b2c"]),[f,h]=w.useState([]),[p,m]=w.useState(!0);w.useEffect(()=>{if(t.length>0){const k=t.map(j=>new Date(j.date).getTime()),E=Math.max(...k),C=new Date(E),T=jt(C,30);a({from:$i(T),to:$i(C)}),i("custom"),h([])}},[t]);const v=w.useMemo(()=>t.filter(k=>{const E=new Date(k.date);return!(!(E>=n.from&&E<=n.to)||!o.includes(k.channel)||k.objective&&!c.includes(k.objective)||f.length>0&&!f.includes(k.campaign))}),[t,n,o,c,f]),g=w.useMemo(()=>{if(!p)return[];const k=n.to.getTime()-n.from.getTime(),E=new Date(n.from.getTime()-24*60*60*1e3),C=new Date(E.getTime()-k);return t.filter(T=>{const j=new Date(T.date);return!(!(j>=C&&j<=E)||!o.includes(T.channel)||T.objective&&!c.includes(T.objective)||f.length>0&&!f.includes(T.campaign))})},[t,n,o,c,f,p]),x=w.useMemo(()=>{const k=new Set;return t.forEach(E=>{const C=new Date(E.date);C>=n.from&&C<=n.to&&k.add(E.campaign)}),Array.from(k).sort()},[t,n]),b=(k,E)=>{a(k),E&&i(E)},y=k=>{l(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])},_=k=>{u(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])},S=k=>{h(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])};return d.jsx(r9.Provider,{value:{rawData:t,filteredData:v,previousPeriodData:g,setRawData:r,filters:{dateRange:n,timeRangeOption:s,selectedChannels:o,selectedObjectives:c,selectedCampaigns:f,isCompareEnabled:p},setFilters:{setDateRange:b,toggleChannel:y,toggleObjective:_,toggleCampaign:S,setSelectedCampaigns:h,setIsCompareEnabled:m},availableCampaigns:x},children:e})},el=()=>{const e=w.useContext(r9);if(e===void 0)throw new Error("useFilters must be used within a FilterProvider");return e},BAe=({onDataLoaded:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!1),[s,i]=w.useState(null),o=async h=>{i(null),a(!0);try{const p=await GE(h);if(p.length===0)throw new Error("Nenhum dado vlido encontrado nas abas esperadas.");e(p)}catch(p){console.error(p),i(p instanceof Error?p.message:"Erro ao processar arquivo.")}finally{a(!1)}},l=w.useCallback(h=>{h.preventDefault(),r(!1),h.dataTransfer.files&&h.dataTransfer.files[0]&&o(h.dataTransfer.files[0])},[]),c=w.useCallback(h=>{h.preventDefault(),r(!0)},[]),u=w.useCallback(h=>{h.preventDefault(),r(!1)},[]),f=h=>{h.target.files&&h.target.files[0]&&o(h.target.files[0])};return d.jsxs("div",{className:`
        w-full max-w-2xl mx-auto p-8 border-2 border-dashed rounded-xl transition-all duration-200
        flex flex-col items-center justify-center text-center cursor-pointer
        ${t?"border-primary bg-primary/5 scale-[1.02]":"border-slate-300 hover:border-primary hover:bg-slate-50"}
      `,onDrop:l,onDragOver:c,onDragLeave:u,onClick:()=>{var h;return(h=document.getElementById("fileInput"))==null?void 0:h.click()},children:[d.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".xlsx, .xls",onChange:f}),n?d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx(Vs,{className:"w-12 h-12 text-primary mb-4 animate-spin"}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Processando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`p-4 rounded-full mb-4 ${s?"bg-red-100":"bg-slate-100"}`,children:s?d.jsx(Vi,{className:"w-8 h-8 text-red-500"}):d.jsx(Ig,{className:"w-8 h-8 text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:s?"Erro na Importao":"Carregar planilha de dados"}),d.jsx("p",{className:"text-sm text-slate-500 max-w-md",children:s?d.jsx("span",{className:"text-red-500",children:s}):"Arraste seu arquivo XLSX aqui ou clique para selecionar. Certifique-se de que as 4 abas corretas existem."})]})]})},zAe=()=>{const{filters:e,setFilters:t,availableCampaigns:r}=el(),n=a=>{const s=a.target.value,i=new Date;let o=i,l=i;switch(s){case"7d":l=i,o=jt(l,7);break;case"14d":l=i,o=jt(l,14);break;case"30d":l=i,o=jt(l,30);break;case"90d":l=i,o=jt(l,90);break;case"this-month":o=Jr(i),l=Lu(i);break;case"last-month":o=Jr(jt(Jr(i),1)),l=Lu(jt(Jr(i),1));break;case"custom":o=e.dateRange.from,l=e.dateRange.to;break}t.setDateRange({from:o,to:l},s)};return d.jsxs("div",{className:"absolute top-[calc(100%-1px)] left-0 w-full bg-white border-b border-slate-200 shadow-lg py-3 px-6 flex flex-wrap items-center gap-4 transition-all duration-300 ease-in-out transform -translate-y-full opacity-0 invisible group-hover:translate-y-0 group-hover:opacity-100 group-hover:visible z-40",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50/50 hover:bg-white transition-colors",children:[d.jsx(sc,{className:"w-3.5 h-3.5 text-slate-500"}),d.jsxs("select",{value:e.timeRangeOption,onChange:n,className:"bg-transparent border-none text-xs font-semibold text-slate-700 focus:ring-0 cursor-pointer outline-none p-0 pr-2",children:[d.jsx("option",{value:"this-month",children:"Ms Atual"}),d.jsx("option",{value:"last-month",children:"Ms Passado"}),d.jsx("option",{value:"7d",children:"ltimos 7 dias"}),d.jsx("option",{value:"14d",children:"ltimos 14 dias"}),d.jsx("option",{value:"30d",children:"ltimos 30 dias"}),d.jsx("option",{value:"90d",children:"ltimos 90 dias"}),d.jsx("option",{value:"custom",children:"Personalizado"})]}),d.jsxs("span",{className:"text-xs text-slate-400 border-l border-slate-200 pl-2",children:[ke(e.dateRange.from,"dd/MM")," - ",ke(e.dateRange.to,"dd/MM")]})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(gH,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Mdia:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["meta","google"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedChannels.includes(a)?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedChannels.includes(a),onChange:()=>t.toggleChannel(a)}),a==="meta"?"Meta Ads":"Google Ads"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(Wi,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Objetivo:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["marca","b2c"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedObjectives.includes(a)?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedObjectives.includes(a),onChange:()=>t.toggleObjective(a)}),a==="marca"?"Branding":"Performance (B2C)"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-[200px] max-w-md",children:d.jsxs("div",{className:"relative w-full",children:[d.jsx(L0,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),d.jsxs("select",{className:"w-full bg-white border border-slate-200 text-xs font-medium text-slate-700 rounded-md py-1.5 pl-8 pr-8 focus:ring-1 focus:ring-blue-500 outline-none appearance-none hover:border-slate-300 transition-colors",value:e.selectedCampaigns.length===1?e.selectedCampaigns[0]:"",onChange:a=>{a.target.value===""?t.setSelectedCampaigns([]):t.setSelectedCampaigns([a.target.value])},children:[d.jsxs("option",{value:"",children:["Todas as Campanhas (",r.length,")"]}),r.map(a=>d.jsx("option",{value:a,children:a},a))]}),d.jsx(Mg,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400 pointer-events-none"})]})}),d.jsxs("label",{className:`
                flex items-center gap-2 cursor-pointer ml-auto border rounded-md px-3 py-1.5 transition-all
                ${e.isCompareEnabled?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}
            `,children:[d.jsx("input",{type:"checkbox",checked:e.isCompareEnabled,onChange:()=>t.setIsCompareEnabled(!e.isCompareEnabled),className:"rounded text-indigo-600 focus:ring-indigo-500 w-3.5 h-3.5"}),d.jsx("span",{className:`text-xs font-medium ${e.isCompareEnabled?"text-indigo-700":"text-slate-600"}`,children:"Comparar perodo anterior"})]})]})},Jx="media_paga_budgets",Qx=()=>{const e=localStorage.getItem(Jx);return e?JSON.parse(e):[]},UAe=e=>{const t=Qx(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(Jx,JSON.stringify(t)),r},VAe=(e,t)=>{const r=Qx(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(Jx,JSON.stringify(r)))},WAe=e=>{const t=Qx().filter(r=>r.id!==e);localStorage.setItem(Jx,JSON.stringify(t))},n9=()=>{const[e,t]=w.useState([]),r=()=>{t(Qx())};return w.useEffect(()=>{r()},[]),{budgets:e,add:i=>{UAe(i),r()},update:(i,o)=>{VAe(i,o),r()},remove:i=>{WAe(i),r()},refresh:r}},Wp=({title:e,value:t,trendValue:r,trendLabel:n="vs perodo anterior",trendInverse:a=!1,contextValue:s,status:i,icon:o})=>{const l=r!==void 0&&r>0,c=r===0||r===void 0;let u="text-slate-500",f=$0;!c&&r!==void 0&&(l?(f=qV,u=a?"text-red-500":"text-green-500"):(f=UV,u=a?"text-green-500":"text-red-500"));const h=i==="success"?dn:i==="warning"?du:dI,p=i==="success"?"text-green-500":i==="warning"?"text-yellow-500":"text-red-500";return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e}),o&&d.jsx("div",{className:"text-slate-300 opacity-80 scale-90",children:o})]}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 tracking-tight mb-3",children:t}),d.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[r!==void 0&&d.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[d.jsxs("span",{className:`flex items-center ${u}`,children:[d.jsx(f,{className:"w-3.5 h-3.5"}),Math.abs(r).toFixed(1),"%"]}),d.jsx("span",{className:"text-slate-400",children:n})]}),(s||i)&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t border-slate-50",children:[s&&d.jsx("span",{className:"text-slate-500 font-medium",children:s}),s&&i&&d.jsx("span",{className:"text-slate-300",children:"|"}),i&&d.jsxs("div",{className:`flex items-center gap-1 ${p}`,children:[d.jsx("span",{children:"Status:"}),d.jsx(h,{className:"w-3.5 h-3.5"})]})]})]}),d.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-full ${i==="error"?"bg-red-500":i==="warning"?"bg-amber-400":"bg-orange-500"}`})]})},HAe=({data:e=[]})=>{const t=w.useMemo(()=>{const i=e.filter(c=>c.channel==="meta"),o=e.filter(c=>c.channel==="google"),l=c=>{const u=c.reduce((g,x)=>g+x.spend,0),f=c.reduce((g,x)=>g+x.impressions,0),h=c.reduce((g,x)=>g+x.clicks,0),p=c.reduce((g,x)=>g+x.conversions,0),m=f?u/f*1e3:0,v=p?u/p:0;return{spend:u,imp:f,clicks:h,conv:p,cpm:m,cpa:v}};return{meta:l(i),google:l(o)}},[e]),r=(i,o,l,c,u=!1,f="")=>{if(o===0&&l===0)return null;const h=u?o<l:o>l,p=u?l<o:l>o;let m="Manter",v=0;if(o>0&&l>0){const g=Math.max(o,l),x=Math.min(o,l);v=(g-x)/x*100,h?m=`Meta ${v.toFixed(0)}% melhor`:p&&(m=`Google ${v.toFixed(0)}% melhor`),u?m=`${h?"Meta":"Google"} ${v.toFixed(0)}% mais eficiente`:m=`${h?"Meta":"Google"} ${v.toFixed(0)}% maior volume`}return d.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors group",children:[d.jsx("td",{className:"py-4 px-4 font-medium text-slate-600 bg-white group-hover:bg-orange-50/50",children:i}),d.jsxs("td",{className:"py-4 px-4 text-right border-l border-r border-slate-100 bg-[#1877F2]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(o),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),h&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsxs("td",{className:"py-4 px-4 text-right border-r border-slate-100 bg-[#ea4335]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(l),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),p&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsx("td",{className:"py-4 px-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs font-medium text-slate-500",children:[m,d.jsx(L2,{size:14,className:"text-orange-400"})]})})]})},n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(i),a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(i),s=i=>new Intl.NumberFormat("pt-BR").format(i);return d.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 pb-4 border-b border-orange-100 flex justify-between items-center bg-orange-50/30",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlise de Canais"}),d.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Comparativo direto de performance"})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-orange-50 text-slate-500 uppercase text-xs tracking-wider",children:[d.jsx("th",{className:"py-3 px-4 text-left font-bold w-1/5",children:"Mtrica"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#1877F2] bg-blue-50 border-b-2 border-[#1877F2]/20",children:"Meta Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#ea4335] bg-red-50 border-b-2 border-[#ea4335]/20",children:"Google Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/3",children:"Ao / Insight"})]})}),d.jsxs("tbody",{children:[r("Investimento",t.meta.spend,t.google.spend,n,!1),r("CPM (Custo Mil)",t.meta.cpm,t.google.cpm,n,!0),r("Converses",t.meta.conv,t.google.conv,s,!1),r("CPA (Custo Conv.)",t.meta.cpa,t.google.cpa,a,!0)]})]})})]})},KAe=({current:e,previous:t,show:r})=>{if(!r)return d.jsx("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-8 flex items-center justify-center text-slate-500",children:d.jsx("p",{children:'Habilite "Comparar anterior" para ver a anlise de perodo.'})});const n=(l,c,u,f="number",h=!1,p=0)=>{const m=u===0?0:(c-u)/u*100,v=m>0,g=m===0;let x="text-slate-500";g||(v?x=h?"text-red-400":"text-green-400":x=h?"text-green-400":"text-red-400");const b=y=>f==="currency"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:p,minimumFractionDigits:p}).format(y):f==="percent"?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:p,maximumFractionDigits:p}).format(y)+"%":new Intl.NumberFormat("pt-BR",{maximumFractionDigits:p}).format(y);return d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors px-2 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium text-slate-600",children:l}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Anterior"}),d.jsx("p",{className:"text-sm font-medium text-slate-500",children:b(u)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Atual"}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:b(c)})]}),d.jsxs("div",{className:`w-16 text-right font-bold text-sm ${x}`,children:[m>0&&"+",m.toFixed(1),"%"]})]})]})},a=e.conversions>0?e.spend/e.conversions:0,s=t.conversions>0?t.spend/t.conversions:0,i=e.impressions>0?e.clicks/e.impressions*100:0,o=t.impressions>0?t.clicks/t.impressions*100:0;return d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-orange-100 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:"Comparativo de Perodo"}),d.jsxs("div",{className:"space-y-1",children:[n("Investimento",e.spend,t.spend,"currency",!0,0),n("Impresses",e.impressions,t.impressions),n("Cliques",e.clicks,t.clicks),n("Converses",e.conversions,t.conversions),d.jsx("div",{className:"my-2 border-t border-dashed border-slate-200"}),n("CPA",a,s,"currency",!0,2),n("CTR",i,o,"percent",!1,2)]})]})},GAe=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],qAe=({data:e})=>{const t=Rs.useMemo(()=>{const o=Array(7).fill(null).map(()=>({spend:[],cpa:[],roi:[],conversions:[],revenue:[]}));return e.forEach(l=>{const c=mE(new Date(l.date));if(o[c].spend.push(l.spend),l.conversions>0){const u=l.spend/l.conversions;o[c].cpa.push(u)}o[c].conversions.push(l.conversions)}),o.map(l=>{const c=l.spend.reduce((v,g)=>v+g,0),u=l.spend.length?c/l.spend.length:0,f=l.cpa.reduce((v,g)=>v+g,0),h=l.cpa.length?f/l.cpa.length:0,p=l.conversions.reduce((v,g)=>v+g,0),m=l.conversions.length?p/l.conversions.length:0;return{avgSpend:u,avgCpa:h,avgConv:m,count:l.spend.length}})},[e]),r={spend:t.reduce((o,l)=>o+l.avgSpend,0)/7,cpa:t.reduce((o,l)=>o+l.avgCpa,0)/7,conv:t.reduce((o,l)=>o+l.avgConv,0)/7},n=(o,l,c)=>{if(o===0)return"bad";const u=(o-l)/l;return c==="higherIsGood"?u>.1?"good":u<-.1?"bad":"warning":u<-.1?"good":u>.1?"bad":"warning"},a=o=>`R$ ${o.toFixed(0)}`,s=o=>`R$ ${o.toFixed(2)}`,i=o=>o.toFixed(0);return d.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:" Mapa de Calor Semanal (Mdias)"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left font-medium text-slate-500 py-2",children:"Mtrica"}),GAe.map((o,l)=>d.jsx("th",{className:"text-center font-bold text-slate-600 py-2 w-24",children:o},o))]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Investimento"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(N1,{status:n(o.avgSpend,r.spend,"lowerIsGood"),type:"good",label:a(o.avgSpend)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"CPA (Custo/Conv)"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(N1,{status:n(o.avgCpa,r.cpa,"lowerIsGood"),label:s(o.avgCpa)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Converses"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(N1,{status:n(o.avgConv,r.conv,"higherIsGood"),label:i(o.avgConv)})},l))]})]})]})}),d.jsx("p",{className:"text-xs text-slate-400 mt-3 text-center",children:"*Cores baseadas na variao vs mdia do perodo selecionado."})]})},N1=({status:e,label:t})=>{let r="bg-slate-100 text-slate-500 border-slate-200";return e==="good"&&(r="bg-green-50 text-green-700 border-green-200"),e==="warning"&&(r="bg-amber-50 text-amber-700 border-amber-200"),e==="bad"&&(r="bg-red-50 text-red-700 border-red-200"),d.jsx("div",{className:`mx-auto w-24 py-1.5 rounded-lg border text-xs font-bold ${r} transition-all hover:scale-105 cursor-pointer whitespace-nowrap shadow-sm`,children:t})},D4=e=>({spend:e.reduce((t,r)=>t+r.spend,0),impressions:e.reduce((t,r)=>t+r.impressions,0),clicks:e.reduce((t,r)=>t+r.clicks,0),conversions:e.reduce((t,r)=>t+r.conversions,0)}),YAe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(e),O1=e=>new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e),XAe=()=>{const{filteredData:e,rawData:t,filters:r,previousPeriodData:n}=el(),{budgets:a}=n9(),s=w.useMemo(()=>D4(e),[e]);new Date().toISOString().slice(0,7);const i=r.dateRange.to.toISOString().slice(0,7),o=a.filter(x=>x.month===i).reduce((x,b)=>x+b.value,0),l=o>0?s.spend/o*100:0,c=new Date(r.dateRange.to.getFullYear(),r.dateRange.to.getMonth()+1,0).getDate(),f=r.dateRange.to.getDate()/c*100;let h="success";o>0&&(l>f+20?h="error":l>f+5&&(h="warning"));const p=w.useMemo(()=>D4(n),[n]),m=(x,b)=>b===0?0:(x-b)/b*100,v={spend:m(s.spend,p.spend),impressions:m(s.impressions,p.impressions),clicks:m(s.clicks,p.clicks),conversions:m(s.conversions,p.conversions)},g=r.isCompareEnabled;return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(Wp,{title:"Investimento",value:YAe(s.spend),trendValue:g?v.spend:void 0,trendLabel:"vs perodo anterior",trendInverse:!0,contextValue:o>0?`${l.toFixed(0)}% do orado`:void 0,status:h,icon:d.jsx(Gu,{size:20})}),d.jsx(Wp,{title:"Impresses",value:O1(s.impressions),trendValue:g?v.impressions:void 0,icon:d.jsx(kW,{size:20})}),d.jsx(Wp,{title:"Cliques",value:O1(s.clicks),trendValue:g?v.clicks:void 0,icon:d.jsx(QW,{size:20})}),d.jsx(Wp,{title:"Converses",value:O1(s.conversions),trendValue:g?v.conversions:void 0,icon:d.jsx(Wi,{size:20}),status:"success"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(KAe,{current:s,previous:p,show:g}),d.jsx(HAe,{data:e})]}),d.jsx("div",{className:"w-full",children:d.jsx(qAe,{data:e})})]})},M4=(e,t,r=new Date)=>{const n=e.filter(x=>d0(new Date(x.date),r));if(n.length===0)return{metric:String(t),current:0,projected:0,trend:"stable",confidence:0,remainingDays:0,pace:0};const a=vE(r),s=Math.max(...n.map(x=>qv(new Date(x.date)))),i=n.reduce((x,b)=>x+(b[t]||0),0),l=[...n].sort((x,b)=>new Date(x.date).getTime()-new Date(b.date).getTime()).slice(-7);let c=0,u=0;l.length>0&&(c=l.reduce((b,y)=>b+(y[t]||0),0)/l.length),n.length>0&&(u=i/n.length);const f=n.length>=3?c:u,h=a-s,p=f*h,m=i+p;let v="stable";if(u>0){const x=(c-u)/u;x>.05?v="up":x<-.05&&(v="down")}let g=Math.round(n.length/a*100);return n.length>7&&(g=Math.min(g+20,95)),g=Math.min(g,100),{metric:String(t),current:i,projected:m,trend:v,confidence:g,remainingDays:h,pace:f}},ey="media_paga_targets",ty=()=>{const e=localStorage.getItem(ey);return e?JSON.parse(e):[]},ZAe=e=>{const t=ty(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(ey,JSON.stringify(t)),r},JAe=(e,t)=>{const r=ty(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(ey,JSON.stringify(r)))},QAe=e=>{const t=ty().filter(r=>r.id!==e);localStorage.setItem(ey,JSON.stringify(t))},a9=()=>{const[e,t]=w.useState([]),r=()=>{t(ty())};return w.useEffect(()=>{r()},[]),{targets:e,add:i=>{ZAe(i),r()},update:(i,o)=>{JAe(i,o),r()},remove:i=>{QAe(i),r()},refresh:r}},D1=({result:e,label:t,isCurrency:r,targetValue:n,inverse:a=!1})=>{const s=h=>r?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(h):new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(h);let i=$0,o="text-slate-500",l="Estvel";e.trend==="up"&&(i=Sa,o=a?"text-red-500":"text-green-500",l="Ritmo Acelerado"),e.trend==="down"&&(i=B0,o=a?"text-green-500":"text-red-500",l="Ritmo em Queda");let c=null,u="text-slate-400";const f=n?e.projected/n*100:0;if(n&&n>0){let h="",p=dn;a?e.projected<=n?(u="text-green-600 bg-green-50 border-green-200",p=dn,h="Dentro da Meta"):(u="text-red-600 bg-red-50 border-red-200",p=du,h="Acima da Meta"):t==="Investimento"?e.projected>n*1.1?(u="text-red-600 bg-red-50 border-red-200",p=du,h="Estouro Previsto"):e.projected<n*.9?(u="text-yellow-600 bg-yellow-50 border-yellow-200",p=du,h="Subutilizado"):(u="text-green-600 bg-green-50 border-green-200",p=dn,h="No Caminho Ideal"):e.projected>=n?(u="text-green-600 bg-green-50 border-green-200",p=dn,h="Meta Alcanvel"):(u="text-red-600 bg-red-50 border-red-200",p=tH,h="Risco de Falha"),c=d.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold mt-3 px-2 py-1.5 rounded-md border ${u}`,children:[d.jsx(p,{size:14}),d.jsx("span",{children:h}),d.jsxs("span",{className:"opacity-60 font-normal ml-auto text-xs",children:[f.toFixed(0),"%"]})]})}else c=d.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium mt-3 px-2 py-1.5 rounded-md border border-slate-100 bg-slate-50 text-slate-400",children:[d.jsx(LV,{size:14}),d.jsx("span",{children:"Sem meta definida"})]});return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 flex flex-col shadow-sm hover:shadow-md transition-shadow",children:[d.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mb-1",children:t}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",title:"Projeo Mensal",children:s(e.projected)}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-sm font-medium text-slate-500",children:[d.jsx("span",{className:"opacity-70",children:"Atual:"}),d.jsx("span",{className:"text-slate-700",children:s(e.current)})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:`flex items-center gap-1 ${o} font-bold`,children:[d.jsx(i,{className:"w-4 h-4"}),d.jsx("span",{children:l})]}),d.jsxs("span",{className:"text-slate-400 font-medium",children:[e.confidence,"% confiana"]})]}),c]})]})},eje=({data:e})=>{const t=new Date,{targets:r}=a9(),n=m=>{var v;return(v=r.find(g=>g.metric===m))==null?void 0:v.value},a=M4(e,"spend",t),s=M4(e,"conversions",t),i=s.current>0?a.current/s.current:0,o=s.projected>0?a.projected/s.projected:0,l=o<i?"down":o>i?"up":"stable",c=Math.round((a.confidence+s.confidence)/2),u={metric:"cpa",current:i,projected:o,trend:l,confidence:c,remainingDays:a.remainingDays,pace:0},f=t.getDate(),p=new Date(t.getFullYear(),t.getMonth()+1,0).getDate()-f;return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-xl border border-slate-200/60 p-1 mb-8",children:[d.jsxs("div",{className:"px-5 py-3 flex justify-between items-center",children:[d.jsx("h3",{className:"text-base font-bold text-slate-700 flex items-center gap-2",children:"Projeo para o final do ms"}),d.jsxs("div",{className:"text-xs font-semibold text-slate-500 bg-white px-3 py-1 rounded-full border border-slate-100 shadow-sm",children:[p," dias restantes"]})]}),d.jsxs("div",{className:"p-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(D1,{result:a,label:"Investimento",isCurrency:!0,targetValue:n("investimento")}),d.jsx(D1,{result:s,label:"Converses",targetValue:n("conversoes")}),d.jsx(D1,{result:u,label:"CPA Mdio",isCurrency:!0,targetValue:n("cpa"),inverse:!0})]}),d.jsx("div",{className:"px-6 py-2 text-[10px] text-center text-slate-400 font-medium",children:"*Projeo baseada na mdia mvel dos ltimos 7 dias."})]})},tje=({onSave:e,onClose:t})=>{const[r,n]=w.useState({month:ke(new Date,"MM/yyyy"),metric:"conversions",value:0}),a=s=>{s.preventDefault(),!(!r.value||!r.month||!r.metric)&&(e(r),t())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Definir Meta Mensal"}),d.jsx("button",{onClick:t,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx(Za,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:a,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:r.month,onChange:s=>n({...r,month:s.target.value}),placeholder:"MM/AAAA",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtrica"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:r.metric,onChange:s=>n({...r,metric:s.target.value}),children:[d.jsx("option",{value:"spend",children:"Investimento"}),d.jsx("option",{value:"conversions",children:"Converses"}),d.jsx("option",{value:"impressions",children:"Impresses"}),d.jsx("option",{value:"clicks",children:"Cliques"}),d.jsx("option",{value:"cpm",children:"CPM"}),d.jsx("option",{value:"cpc",children:"CPC"}),d.jsx("option",{value:"ctr",children:"CTR"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor Meta"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:r.value||"",onChange:s=>n({...r,value:parseFloat(s.target.value)}),required:!0,step:"0.01"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(qu,{size:20}),"Salvar Meta"]})]})]})})},Id=[{key:"spend",label:"Investimento",color:"#3b82f6",isCurrency:!0,axis:"left"},{key:"conversions",label:"Converses",color:"#8b5cf6",isCurrency:!1,axis:"left"},{key:"impressions",label:"Impresses",color:"#06b6d4",isCurrency:!1,axis:"left"},{key:"clicks",label:"Cliques",color:"#f59e0b",isCurrency:!1,axis:"left"},{key:"cpm",label:"CPM",color:"#ec4899",isCurrency:!0,axis:"right"},{key:"cpc",label:"CPC",color:"#10b981",isCurrency:!0,axis:"right"},{key:"ctr",label:"CTR",color:"#6366f1",isCurrency:!1,suffix:"%",axis:"right"},{key:"convRate",label:"Taxa de Conv.",color:"#ef4444",isCurrency:!1,suffix:"%",axis:"right"},{key:"cta",label:"Custo por Resultado",color:"#8b5cf6",isCurrency:!0,axis:"right"}],rje=({granularity:e,setGranularity:t,useCustomDate:r,setUseCustomDate:n,customDateRange:a,setCustomDateRange:s})=>{const{rawData:i,filters:o}=el(),[l,c]=w.useState(["spend","conversions"]),u=w.useMemo(()=>{if(!i||i.length===0)return[];let m=i.filter(x=>{const b=new Date(x.date);if(o.selectedChannels.length>0&&!o.selectedChannels.includes(x.channel)||o.selectedObjectives.length>0&&!o.selectedObjectives.includes(x.objective)||o.selectedCampaigns.length>0&&!o.selectedCampaigns.includes(x.campaign))return!1;const y=r?{start:$i(Qr(a.from)),end:Lu(Qr(a.to))}:{start:$i(o.dateRange.from),end:Lu(o.dateRange.to)};return jo(b,y)});const v=new Map;return m.forEach(x=>{const b=new Date(x.date);let y="",_="",S=0;if(e==="day")y=ke(b,"yyyy-MM-dd"),_=ke(b,"dd/MM"),S=b.getTime();else if(e==="week"){const E=Zo(b,{weekStartsOn:1});y=ke(E,"yyyy-MM-dd"),_=`Semana ${ke(E,"dd/MM")}`,S=E.getTime()}else if(e==="month"){const E=Jr(b);y=ke(E,"yyyy-MM"),_=ke(E,"MMM/yy"),S=E.getTime()}v.has(y)||v.set(y,{timeKey:y,label:_,sortTime:S,spend:0,impressions:0,clicks:0,conversions:0});const k=v.get(y);k.spend+=x.spend,k.impressions+=x.impressions,k.clicks+=x.clicks,k.conversions+=x.conversions}),Array.from(v.values()).map(x=>({...x,day:x.label,cpm:x.impressions?x.spend/x.impressions*1e3:0,cpc:x.clicks?x.spend/x.clicks:0,ctr:x.impressions?x.clicks/x.impressions*100:0,convRate:x.clicks?x.conversions/x.clicks*100:0,cta:x.conversions?x.spend/x.conversions:0})).sort((x,b)=>x.sortTime-b.sortTime)},[i,o,r,a,e]),f=m=>{l.includes(m)?c(v=>v.filter(g=>g!==m)):l.length<4&&c(v=>[...v,m])},h=l.some(m=>{var v;return((v=Id.find(g=>g.key===m))==null?void 0:v.axis)==="right"}),p=l.some(m=>{var v;return((v=Id.find(g=>g.key===m))==null?void 0:v.axis)==="left"});return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 p-6 shadow-sm mt-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[d.jsx(L0,{size:18,className:"text-blue-500"}),"Anlise Personalizada"]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Compare at 4 mtricas diferentes no mesmo perodo"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-100",children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 cursor-pointer mr-2 hover:text-slate-900 transition",children:[d.jsx("input",{type:"checkbox",checked:r,onChange:m=>n(m.target.checked),className:"rounded text-blue-500 focus:ring-blue-500/20 bg-white border-slate-300"}),"Perodo Personalizado"]}),r&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"date",value:a.from,onChange:m=>s(v=>({...v,from:m.target.value})),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"}),d.jsx("span",{className:"text-slate-400",children:"-"}),d.jsx("input",{type:"date",value:a.to,onChange:m=>s(v=>({...v,to:m.target.value})),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),d.jsx("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-100",children:["day","week","month"].map(m=>d.jsx("button",{onClick:()=>t(m),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${e===m?"bg-white text-slate-700 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:m==="day"?"Dia":m==="week"?"Semana":"Ms"},m))})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Id.map(m=>d.jsx("button",{onClick:()=>f(m.key),className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-all border ${l.includes(m.key)?"bg-blue-50 border-blue-200 text-blue-600":"bg-slate-50 border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,style:{borderColor:l.includes(m.key)?m.color:void 0,color:l.includes(m.key)?m.color:void 0,backgroundColor:l.includes(m.key)?`${m.color}10`:void 0},children:m.label},m.key))}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(pr,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),d.jsx(Kt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},dy:10}),d.jsx(pt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m,hide:!p}),d.jsx(pt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},hide:!h}),d.jsx(Ht,{contentStyle:{backgroundColor:"#ffffff",borderColor:"#E2E8F0",color:"#1E293B",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",marginBottom:"0.5rem",fontWeight:"bold"},formatter:(m,v)=>{const g=Id.find(x=>x.label===v);return g?g.isCurrency?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m):g.suffix?`${m.toFixed(2)}${g.suffix}`:new Intl.NumberFormat("pt-BR").format(m):m}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),l.map(m=>{const v=Id.find(g=>g.key===m);return v?d.jsx(Xr,{yAxisId:v.axis,type:"monotone",dataKey:m,name:v.label,stroke:v.color,strokeWidth:3,dot:!1,activeDot:{r:6,strokeWidth:0}},m):null})]})})})]})},Hp=({data:e,dataKey:t,color:r,title:n,isCurrency:a,granularity:s})=>{const i=s!=="day";return d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-md font-bold text-slate-700 mb-4",children:n}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(cE,{data:e,children:[d.jsx(pr,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),d.jsx(Kt,{dataKey:"day",tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),d.jsx(pt,{tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,tickFormatter:o=>a?new Intl.NumberFormat("pt-BR",{notation:"compact",style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR",{notation:"compact"}).format(o)}),d.jsx(Ht,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#F1F5F9"},formatter:o=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR").format(o)}),i?d.jsx(Ir,{dataKey:t,fill:r,name:"Atual",radius:[4,4,0,0],maxBarSize:60}):d.jsx(sE,{type:"monotone",dataKey:t,stroke:r,fill:r,fillOpacity:.1,name:"Atual",strokeWidth:2})]})})})]})},nje=()=>{const{filteredData:e,filters:t,rawData:r}=el(),{add:n}=a9(),[a,s]=w.useState(!1),[i,o]=w.useState(!0),[l,c]=w.useState({from:ke(Jr(new Date),"yyyy-MM-dd"),to:ke(new Date,"yyyy-MM-dd")}),[u,f]=w.useState("day"),h=w.useMemo(()=>{const p=i?Qr(l.from):t.dateRange.from,m=i?Qr(l.to):t.dateRange.to;if(!r)return[];const v=r.filter(b=>{const y=new Date(b.date);return!(y<$i(p)||y>Lu(m)||t.selectedChannels.length&&!t.selectedChannels.includes(b.channel)||t.selectedObjectives.length&&!t.selectedObjectives.includes(b.objective)||t.selectedCampaigns.length&&!t.selectedCampaigns.includes(b.campaign))}),g=new Map;return v.forEach(b=>{const y=new Date(b.date);let _="",S=new Date,k="";if(u==="day")_=ke(y,"yyyy-MM-dd"),S=y,k=ke(y,"dd/MM");else if(u==="week"){const C=Zo(y,{weekStartsOn:1});_=ke(C,"yyyy-MM-dd"),S=C,k=`Semana ${ke(C,"dd/MM")}`}else if(u==="month"){const C=Jr(y);_=ke(C,"yyyy-MM"),S=C,k=ke(C,"MMM/yy")}g.has(_)||g.set(_,{day:k,date:S,spend:0,impressions:0,conversions:0});const E=g.get(_);E.spend+=b.spend,E.impressions+=b.impressions,E.conversions+=b.conversions}),Array.from(g.values()).map(b=>({...b,cpm:b.impressions?b.spend/b.impressions*1e3:0})).sort((b,y)=>b.date.getTime()-y.date.getTime())},[r,t,i,l,u]);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex justify-between items-end gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(eje,{data:e})}),d.jsxs("button",{onClick:()=>s(!0),className:"mb-8 flex items-center gap-2 text-primary font-bold hover:underline bg-white px-4 py-3 rounded-lg border border-slate-100 shadow-sm transition-transform active:scale-95 whitespace-nowrap",children:[d.jsx(Wi,{size:18}),"Definir Metas"]})]}),d.jsx(rje,{granularity:u,setGranularity:f,useCustomDate:i,setUseCustomDate:o,customDateRange:l,setCustomDateRange:c}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Hp,{data:h,dataKey:"spend",color:"#84cc16",title:`Investimento ${u==="day"?"Dirio":u==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:u}),d.jsx(Hp,{data:h,dataKey:"impressions",color:"#0ea5e9",title:`Impresses ${u==="day"?"Dirias":u==="week"?"Semanais":"Mensais"}`,granularity:u}),d.jsx(Hp,{data:h,dataKey:"cpm",color:"#f97316",title:`CPM ${u==="day"?"Dirio":u==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:u}),d.jsx(Hp,{data:h,dataKey:"conversions",color:"#8b5cf6",title:`Converses ${u==="day"?"Dirias":u==="week"?"Semanais":"Mensais"}`,granularity:u})]}),a&&d.jsx(tje,{onSave:n,onClose:()=>s(!1)})]})},aje=({campaign:e,data:t,onClose:r})=>{const n=w.useMemo(()=>e?t.filter(s=>s.campaign===e).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime()):[],[e,t]),a=w.useMemo(()=>{const s=n.reduce((m,v)=>m+v.spend,0),i=n.reduce((m,v)=>m+v.impressions,0),o=n.reduce((m,v)=>m+v.clicks,0),l=n.reduce((m,v)=>m+v.conversions,0),c=i?s/i*1e3:0,u=o?s/o:0,f=i?o/i*100:0,h=l?s/l:0,p=o?l/o*100:0;return{totalSpend:s,totalImp:i,totalClicks:o,totalConv:l,cpm:c,cpc:u,ctr:f,cpa:h,convRate:p}},[n]);return e?d.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:r}),d.jsxs("div",{className:"relative w-full max-w-2xl bg-white h-full shadow-2xl pointer-events-auto overflow-y-auto animate-slide-in-right",children:[d.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur z-10 p-6 border-b border-slate-100 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Detalhes da Campanha"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 leading-tight",children:e})]}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(Za,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-4 bg-lime-50 rounded-xl border border-lime-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-lime-700 mb-2",children:[d.jsx(Gu,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Valor"})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.totalSpend)})]}),d.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl border border-sky-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sky-700 mb-2",children:[d.jsx(Wi,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Conv."})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:a.totalConv})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"CPA"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpa)})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"ROAS"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:"-"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(Sa,{size:16,className:"text-primary"}),"Evoluo Diria"]}),d.jsx("div",{className:"h-[250px] w-full bg-white rounded-xl border border-slate-100 p-4 shadow-sm",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(bi,{data:n,children:[d.jsx(pr,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Kt,{dataKey:"date",tickFormatter:s=>ke(Qr(s),"dd/MM"),tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(pt,{yAxisId:"left",orientation:"left",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:s=>`R$${s}`}),d.jsx(pt,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(Ht,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"0.5rem"},labelFormatter:s=>ke(Qr(s),"dd MMM, yyyy")}),d.jsx(Xr,{yAxisId:"left",type:"monotone",dataKey:"spend",stroke:"#84cc16",strokeWidth:2,dot:!1,name:"Investimento"}),d.jsx(Xr,{yAxisId:"right",type:"monotone",dataKey:"conversions",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Converses"})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Mtricas Secundrias"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPM"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpm)})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CTR"}),d.jsxs("div",{className:"font-semibold text-slate-600",children:[a.ctr.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPC"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpc)})]})]})]})]})]})]}):null},sje=({data:e})=>{const[t,r]=w.useState("spend"),[n,a]=w.useState("desc"),[s,i]=w.useState(""),[o,l]=w.useState(null),c=w.useMemo(()=>{const y=new Map;e.forEach(C=>{const T=y.get(C.campaign)||{campaign:C.campaign,channel:C.channel,objective:C.objective,spend:0,impressions:0,clicks:0,conversions:0,dataPoints:[]};T.spend+=C.spend,T.impressions+=C.impressions,T.clicks+=C.clicks,T.conversions+=C.conversions,T.dataPoints.push(C),y.set(C.campaign,T)});const _=Array.from(y.values()).map(C=>({...C,cpm:C.impressions?C.spend/C.impressions*1e3:0,ctr:C.impressions?C.clicks/C.impressions*100:0,cpc:C.clicks?C.spend/C.clicks:0,cpa:C.conversions?C.spend/C.conversions:0})),S=_.reduce((C,T)=>C+T.spend,0),k=_.reduce((C,T)=>C+T.conversions,0),E=k?S/k:0;return _.map(C=>{let T="good";C.cpa===0&&C.spend>100?T="critical":C.cpa>0&&(C.cpa<E*.8?T="excellent":C.cpa>E*1.5?T="critical":C.cpa>E*1.2&&(T="warning"));let j="maintain";T==="excellent"&&(j="scale"),T==="warning"&&(j="optimize"),T==="critical"&&(j="pause");const P=C.dataPoints.sort((N,F)=>new Date(N.date).getTime()-new Date(F.date).getTime());let A="flat";if(P.length>=2){const N=Math.ceil(P.length/3),F=P.slice(0,N),B=P.slice(-N),q=F.reduce((M,z)=>M+z.spend,0),K=F.reduce((M,z)=>M+z.conversions,0)||1,X=B.reduce((M,z)=>M+z.spend,0),I=B.reduce((M,z)=>M+z.conversions,0)||1,J=q/K,Z=X/I;Z>J*1.05?A="up":Z<J*.95&&(A="down")}return{...C,status:T,action:j,trend:A}})},[e]),u=w.useMemo(()=>{let y=c;if(s){const _=s.toLowerCase();y=y.filter(S=>S.campaign.toLowerCase().includes(_))}return y.sort((_,S)=>{const k=_[t],E=S[t];return k<E?n==="asc"?-1:1:k>E?n==="asc"?1:-1:0}),y},[c,s,t,n]),f=y=>{t===y?a(n==="asc"?"desc":"asc"):(r(y),a("desc"))},h=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),p=y=>new Intl.NumberFormat("pt-BR").format(y),[m,v]=w.useState({spend:!0,impressions:!1,clicks:!1,conversions:!0,ctr:!1,cpm:!1,cpc:!1,cpa:!0,status:!0,trend:!0}),[g,x]=w.useState(!1),b=y=>{v(_=>({..._,[y]:!_[y]}))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[d.jsxs("div",{className:"relative flex-1 max-w-sm",children:[d.jsx(H2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Buscar campanha...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all",value:s,onChange:y=>i(y.target.value)})]}),d.jsxs("div",{className:"text-sm text-slate-500 whitespace-nowrap",children:[u.length," campanhas"]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 transition-colors",children:[d.jsx(L0,{size:16}),"Colunas"]}),g&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-100 p-2 z-10 animate-fade-in-down",children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Mtricas"}),Object.keys(m).map(y=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:m[y],onChange:()=>b(y),className:"rounded text-primary focus:ring-primary/30"}),d.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y==="spend"?"Investimento":y==="impressions"?"Impresses":y==="clicks"?"Cliques":y==="conversions"?"Converses":y==="cpa"?"CPA":y==="status"?"Status":y==="action"?"Recomendao":y==="trend"?"Tend. CPA":y.toUpperCase()})]},y))]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>f("campaign"),children:d.jsxs("div",{className:"flex items-center gap-1",children:["Campanha ",d.jsx(ha,{size:12})]})}),m.status&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Status"}),m.trend&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Tend. CPA"}),m.spend&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("spend"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Invest. ",d.jsx(ha,{size:12})]})}),m.impressions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("impressions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Impr. ",d.jsx(ha,{size:12})]})}),m.clicks&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("clicks"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Cliques ",d.jsx(ha,{size:12})]})}),m.conversions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("conversions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Conv. ",d.jsx(ha,{size:12})]})}),m.ctr&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("ctr"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CTR ",d.jsx(ha,{size:12})]})}),m.cpm&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpm"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPM ",d.jsx(ha,{size:12})]})}),m.cpc&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpc"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPC ",d.jsx(ha,{size:12})]})}),m.cpa&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpa"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPA ",d.jsx(ha,{size:12})]})})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:u.map(y=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer group",onClick:()=>l(y.campaign),children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${y.channel==="meta"?"bg-[#1877F2]":"bg-[#4285F4]"}`}),y.campaign]})}),m.status&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                                ${y.status==="excellent"?"bg-emerald-100 text-emerald-800":y.status==="good"?"bg-green-100 text-green-800":y.status==="warning"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:y.status==="excellent"?"Excelente":y.status==="good"?"Bom":y.status==="warning"?"Ateno":"Crtico"})}),m.trend&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[y.trend==="up"&&d.jsx(Sa,{size:14,className:"text-red-500"}),y.trend==="down"&&d.jsx(B0,{size:14,className:"text-emerald-500"}),y.trend==="flat"&&d.jsx($0,{size:14,className:"text-slate-400"})]})}),m.spend&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:h(y.spend)}),m.impressions&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.impressions)}),m.clicks&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.clicks)}),m.conversions&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:p(y.conversions)}),m.ctr&&d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[y.ctr.toFixed(2),"%"]}),m.cpm&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpm)}),m.cpc&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpc)}),m.cpa&&d.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-700",children:h(y.cpa)})]},y.campaign))})]})}),u.length===0&&d.jsx("div",{className:"p-8 text-center text-slate-400",children:"Nenhuma campanha encontrada."})]}),o&&d.jsx(aje,{campaign:o,data:e,onClose:()=>l(null)})]})},ije=()=>{const{filteredData:e}=el();return d.jsx("div",{className:"animate-fade-in",children:d.jsx(sje,{data:e})})},oje=({budget:e,actualSpend:t,onEdit:r,onDelete:n})=>{const a=t/e.value*100,s=new Date,i=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),o=s.getDate(),l=o/i*100;let c="ok";const u=l>0?a/l:0;a>=100?c="failed":u>1.1?c="risk":u<.85&&(c="ok");const h=(o>0?t/o:0)*i,p=h/e.value*100;p>105&&(c="risk"),a>=100&&(c="failed");const m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(v);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-shadow relative overflow-hidden group",children:[d.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:e.channel==="meta"?"Meta Ads":"Google Ads"}),d.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium tracking-wide bg-slate-100 inline-block px-1.5 py-0.5 rounded mt-1",children:e.objective==="b2c"?"Converso":"Branding"})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>r(e),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-primary",children:d.jsx(V2,{size:16})}),d.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-500",children:d.jsx(Vl,{size:16})})]})]}),d.jsxs("div",{className:"pl-3 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsxs("span",{className:"text-slate-500",children:["Gasto: ",d.jsx("strong",{className:"text-slate-700",children:m(t)})]}),d.jsxs("span",{className:"text-slate-500",children:["Meta: ",d.jsx("strong",{className:"text-slate-700",children:m(e.value)})]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a,100)}%`}})}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400",children:[a.toFixed(1),"% utilizado"]}),d.jsx("span",{className:"text-xs text-slate-400",children:c==="risk"?"Risco de estouro":c==="failed"?"Esgotado":"Dentro da meta"})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-xs text-slate-600 flex justify-between items-center",children:[d.jsxs("span",{children:["Ritmo ideal: ",d.jsx("strong",{children:m((e.value-t)/(i-o))}),"/dia"]}),c==="risk"&&d.jsx(du,{className:"w-4 h-4 text-yellow-500"}),c==="failed"&&d.jsx(dI,{className:"w-4 h-4 text-red-500"}),c==="ok"&&d.jsx(dn,{className:"w-4 h-4 text-green-500"})]}),c!=="failed"&&d.jsxs("div",{className:"text-xs text-slate-400 text-center",children:["Projeo final: ",m(h)," (",p.toFixed(0),"%)"]})]})]})},lje=({existingBudget:e,onSave:t,onUpdate:r,onClose:n})=>{const[a,s]=w.useState({month:(e==null?void 0:e.month)||ke(new Date,"MM/yyyy"),channel:(e==null?void 0:e.channel)||"meta",objective:(e==null?void 0:e.objective)||"marca",value:(e==null?void 0:e.value)||0,notes:(e==null?void 0:e.notes)||""}),i=o=>{o.preventDefault(),!(!a.value||!a.month)&&(e?r(e.id,a):t(a),n())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:e?"Editar Oramento":"Novo Oramento"}),d.jsx("button",{onClick:n,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx(Za,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:i,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",placeholder:"MM/AAAA",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:a.month,onChange:o=>s({...a,month:o.target.value}),required:!0}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ex: 05/2026"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Canal"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.channel,onChange:o=>s({...a,channel:o.target.value}),children:[d.jsx("option",{value:"meta",children:"Meta Ads"}),d.jsx("option",{value:"google",children:"Google Ads"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Objetivo"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.objective,onChange:o=>s({...a,objective:o.target.value}),children:[d.jsx("option",{value:"marca",children:"Branding"}),d.jsx("option",{value:"b2c",children:"Converso"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor do Oramento (R$)"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:a.value||"",onChange:o=>s({...a,value:parseFloat(o.target.value)}),required:!0,min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),d.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none",value:a.notes||"",onChange:o=>s({...a,notes:o.target.value})})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(qu,{size:20}),e?"Salvar Alteraes":"Criar Oramento"]})]})]})})},cje=()=>{const{budgets:e,add:t,update:r,remove:n}=n9(),{rawData:a,filters:s}=el(),[i,o]=w.useState(!1),[l,c]=w.useState(void 0),u=s.dateRange.to||new Date,f=ke(u,"MM/yyyy"),h=w.useMemo(()=>{const k=Jr(u),E=Il(u),C=hE({start:k,end:E}),T=a.filter(j=>d0(new Date(j.date),u));return C.map(j=>{const P=ke(j,"yyyy-MM-dd"),A=ke(j,"dd"),N=m1(j),F=T.filter(q=>q.date.startsWith(P)&&q.channel==="meta").reduce((q,K)=>q+K.spend,0),B=T.filter(q=>q.date.startsWith(P)&&q.channel==="google").reduce((q,K)=>q+K.spend,0);return{day:A,date:j,meta:N?0:F,google:N?0:B,total:N?0:F+B}})},[a,u]),p=w.useMemo(()=>e.filter(k=>k.month===f).reduce((k,E)=>k+E.value,0),[e,f]),m=h.reduce((k,E)=>k+E.total,0),v=qv(u),g=vE(u),x=v>0?m/v*g:0,b=p-m;let y="ontrack";p>0&&(x>p*1.05?y="overspending":x<p*.95&&(y="underspending"));const _=w.useMemo(()=>{const k=p/g;let E=0,C=0;return h.map(T=>(E+=k,m1(T.date)||(C+=T.total),{...T,cumulativeBudget:E,cumulativeSpend:m1(T.date)?null:C}))},[h,p,g]),S=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k);return d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Gesto de Oramento - ",ke(u,"MMMM/yyyy")]}),d.jsx("p",{className:"text-slate-500",children:"Acompanhe seus gastos dirios vs planejado."})]}),d.jsxs("button",{onClick:()=>{c(void 0),o(!0)},className:"bg-primary text-slate-900 font-bold py-2.5 px-5 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-sm",children:[d.jsx(W2,{size:20}),"Adicionar Oramento"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(vI,{size:48,className:"text-slate-700"})}),d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Oramento Planejado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800",children:S(p)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Soma dos oramentos ativos"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Gasto Realizado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-blue-600",children:S(m)}),d.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-medium text-slate-500",children:[p>0?(m/p*100).toFixed(1):0,"% do total"]})]}),d.jsxs("div",{className:`bg-white p-6 rounded-xl border border-slate-100 shadow-sm
                    ${y==="overspending"?"border-red-100 bg-red-50/50":""}
                `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Projeo de Fechamento"}),d.jsx("h3",{className:`text-2xl font-extrabold ${y==="overspending"?"text-red-500":"text-slate-700"}`,children:S(x)})]}),y==="overspending"?d.jsx(Sa,{className:"text-red-500",size:24}):y==="underspending"?d.jsx(B0,{className:"text-amber-500",size:24}):d.jsx(dn,{className:"text-emerald-500",size:24})]}),d.jsx("div",{className:"mt-4 text-xs font-medium text-slate-500",children:y==="overspending"?"Ritmo Acelerado (Risco)":y==="underspending"?"Ritmo Lento (Sobra)":"No Ritmo Ideal"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Saldo Restante"}),d.jsx("h3",{className:"text-2xl font-extrabold text-emerald-600",children:S(b)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Disponvel at o fim do ms"})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm h-[400px]",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx(Sa,{size:18,className:"text-primary"}),"Evoluo Diria de Investimento"]}),d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(cE,{data:_,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(pr,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Kt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(pt,{yAxisId:"left",axisLine:!1,tickLine:!1,tickFormatter:k=>k>=1e3?`${(k/1e3).toFixed(0)}k`:String(k),tick:{fill:"#94a3b8",fontSize:12}}),d.jsx(pt,{yAxisId:"right",orientation:"right",hide:!0}),d.jsx(Ht,{formatter:k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),cursor:{fill:"#f8fafc"}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Ir,{yAxisId:"left",dataKey:"meta",name:"Meta Ads",stackId:"a",fill:"#3b82f6",radius:[0,0,4,4],barSize:20}),d.jsx(Ir,{yAxisId:"left",dataKey:"google",name:"Google Ads",stackId:"a",fill:"#f59e0b",radius:[4,4,0,0],barSize:20}),p>0&&d.jsx(tE,{yAxisId:"left",y:p/g,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"top",value:"Meta Diria Ideal",fill:"#ef4444",fontSize:10}})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-bold text-slate-700 text-lg",children:"Oramentos Configurados"}),e.length===0?d.jsxs("div",{className:"text-center py-12 bg-slate-50 border border-dashed border-slate-200 rounded-xl",children:[d.jsx("p",{className:"text-slate-400 mb-4",children:"Nenhum oramento configurado para este ms."}),d.jsx("button",{onClick:()=>o(!0),className:"text-primary font-bold hover:underline",children:"Configurar Oramento"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...e].filter(k=>k.month===f).map(k=>d.jsx(oje,{budget:k,actualSpend:a.filter(E=>d0(new Date(E.date),u)&&E.channel===k.channel&&E.objective===k.objective).reduce((E,C)=>E+C.spend,0),onEdit:E=>{c(E),o(!0)},onDelete:n},k.id))})]}),i&&d.jsx(lje,{onClose:()=>o(!1),existingBudget:l,onSave:k=>{t(k),o(!1)},onUpdate:(k,E)=>{r(k,E),o(!1)}})]})},uje=()=>{const{filteredData:e}=el(),[t,r]=w.useState("cpa"),[n,a]=w.useState({key:"date",direction:"asc"}),s=w.useMemo(()=>{const h=new Map;return e.forEach(m=>{const v=m.date.substring(0,10);h.has(v)||h.set(v,{date:m.date,spend:0,impressions:0,clicks:0,conversions:0,revenue:0});const g=h.get(v);g.spend+=m.spend,g.impressions+=m.impressions,g.clicks+=m.clicks,g.conversions+=m.conversions}),Array.from(h.values()).map(m=>({...m,cpa:m.conversions?m.spend/m.conversions:0,ctr:m.impressions?m.clicks/m.impressions*100:0,cpm:m.impressions?m.spend/m.impressions*1e3:0,cpc:m.clicks?m.spend/m.clicks:0,roas:m.spend?(m.revenue||0)/m.spend:0})).sort((m,v)=>{const g=n.key==="date"?new Date(m.date).getTime():m[n.key],x=n.key==="date"?new Date(v.date).getTime():v[n.key];return g<x?n.direction==="asc"?-1:1:g>x?n.direction==="asc"?1:-1:0})},[e,n]),i=h=>{a(p=>({key:h,direction:p.key===h&&p.direction==="asc"?"desc":"asc"}))},o=w.useMemo(()=>{const p=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"].map(m=>({name:m,spend:0,conversions:0,clicks:0,count:0}));return s.forEach(m=>{const v=mE(new Date(m.date));p[v].spend+=m.spend,p[v].conversions+=m.conversions,p[v].clicks+=m.clicks,p[v].count+=1}),p.map(m=>({...m,avgCpa:m.conversions?m.spend/m.conversions:0,avgSpend:m.count?m.spend/m.count:0}))},[s]),l=s.map(h=>h.cpa).filter(h=>h>0),c=l.reduce((h,p)=>h+p,0)/(l.length||1),u=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),f=h=>new Intl.NumberFormat("pt-BR").format(h);return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-slate-100 shadow-sm animate-fade-in",children:[d.jsx("div",{className:"bg-slate-50 p-4 rounded-full mb-4",children:d.jsx(ZT,{className:"w-8 h-8 text-slate-400"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-1",children:"Sem dados para este perodo"}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Tente ajustar os filtros de data ou canais."})]}):d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Anlise Diria"}),d.jsx("p",{className:"text-slate-500",children:"Identifique padres e anomalias dia a dia."})]})}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx($f,{size:18,className:"text-primary"}),"Performance por Dia da Semana (Mdia)"]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx(or,{width:"100%",height:"100%",children:d.jsxs(wi,{data:o,children:[d.jsx(pr,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Kt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(pt,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tickFormatter:h=>`R$${h}`}),d.jsx(pt,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),d.jsx(Ht,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(h,p)=>p==="CPA Mdio"||p==="Investimento Mdio"?u(h):h}),d.jsx(Ir,{yAxisId:"right",dataKey:"avgSpend",name:"Investimento Mdio",fill:"#3b82f6",radius:[4,4,0,0],opacity:.3}),d.jsx(Ir,{yAxisId:"left",dataKey:"avgCpa",name:"CPA Mdio",fill:"#f59e0b",radius:[4,4,0,0],barSize:40,children:o.map((h,p)=>d.jsx(Ri,{fill:h.avgCpa>c*1.2?"#ef4444":"#10b981"},`cell-${p}`))})]})})}),d.jsxs("div",{className:"mt-4 flex gap-4 text-xs text-slate-500 justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," CPA Saudvel"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})," CPA Alto"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-30"})," Volume de Investimento"]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(ZT,{size:18,className:"text-primary"}),"Detalhamento Dirio"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-100",children:d.jsxs("tr",{children:[[{key:"date",label:"Data",align:"left"},{key:"spend",label:"Inv.",align:"right"},{key:"impressions",label:"Impr.",align:"right"},{key:"clicks",label:"Cliques",align:"right"},{key:"conversions",label:"Conv.",align:"right"},{key:"ctr",label:"CTR",align:"right"},{key:"cpm",label:"CPM",align:"right"},{key:"cpc",label:"CPC",align:"right"},{key:"cpa",label:"CPA",align:"right"}].map(h=>d.jsx("th",{className:`px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors group text-${h.align}`,onClick:()=>i(h.key),children:d.jsxs("div",{className:`flex items-center gap-1 ${h.align==="right"?"justify-end":""}`,children:[h.label,d.jsx(ha,{size:12,className:`text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity ${n.key===h.key?"opacity-100 text-blue-500":""}`})]})},h.key)),d.jsx("th",{className:"px-6 py-3 text-center",children:"Status"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map((h,p)=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700 whitespace-nowrap",children:ke(new Date(h.date),"dd 'de' MMM, EEEE",{locale:Ys})}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.spend)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.impressions)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.clicks)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600 font-bold",children:f(h.conversions)}),d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[h.ctr.toFixed(2),"%"]}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.cpm)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.cpc)}),d.jsx("td",{className:`px-6 py-3 text-right font-bold ${h.cpa>c*1.2?"text-red-500":h.cpa<c*.8?"text-emerald-500":"text-slate-600"}`,children:u(h.cpa)}),d.jsx("td",{className:"px-6 py-3 text-center",children:h.cpa===0&&h.spend>50?d.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold",children:"Crtico"}):h.cpa>c*1.3?d.jsx("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-xs font-bold",children:"Ateno"}):h.cpa<c*.8&&h.conversions>0?d.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded text-xs font-bold",children:"timo"}):d.jsx("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded text-xs",children:"Normal"})})]},p))})]})})]})]})},dje=({onBack:e})=>{const{rawData:t,setRawData:r}=el(),[n,a]=w.useState("overview"),[s,i]=w.useState(!0);if(w.useEffect(()=>{(async()=>{if(t.length>0){i(!1);return}try{console.log("Verificando dados na nuvem...");const c=await ms.listFiles("media");if(c&&c.length>0){const u=c[0],f=await ms.getDownloadUrl("media/"+u.name),p=await(await fetch(f)).blob(),m=new File([p],u.name,{type:p.type}),v=await GE(m);v&&v.length>0&&r(v)}}catch(c){console.error("Erro ao sincronizar dados:",c)}finally{i(!1)}})()},[]),s)return d.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mb-4",children:d.jsx(Vs,{className:"w-8 h-8 text-blue-400 animate-spin"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sincronizando Dados..."}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Buscando informaes salvas na nuvem."})]})});if(t.length===0)return d.jsxs("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:[d.jsx("div",{className:"absolute top-4 left-4",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors px-4 py-2 rounded-lg hover:bg-slate-200",children:[d.jsx(YT,{size:20}),"Voltar ao GaaS"]})}),d.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2 tracking-tight",children:"Dashboard de Mdia Paga"}),d.jsx("p",{className:"text-slate-500 text-lg",children:"Importe seus dados do Meta Ads e Google Ads para comear."})]}),d.jsx("div",{className:"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in",children:d.jsx(BAe,{onDataLoaded:r})}),d.jsx("p",{className:"mt-8 text-slate-400 text-sm",children:"Verso 1.0  Processamento Local e Seguro"})]});const o=[{id:"overview",label:"Overview",icon:hI},{id:"monthly",label:"Anlise Mensal",icon:$f},{id:"daily",label:"Anlise Diria",icon:sc},{id:"campaigns",label:"Campanhas",icon:LW},{id:"budget",label:"Oramentos",icon:vI}];return d.jsxs("div",{className:"min-h-screen w-full bg-[#FFF7ED] text-slate-900 flex flex-col absolute top-0 left-0 z-50",children:[d.jsxs("header",{className:"bg-white/80 backdrop-blur-xl border-b border-orange-100 sticky top-0 z-[60] group",children:[d.jsxs("div",{className:"px-6 h-16 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-50 rounded-lg text-slate-400 hover:text-orange-600 transition-colors mr-2",title:"Voltar ao GaaS",children:d.jsx(YT,{size:20})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-orange-500/10 p-2 rounded-lg",children:d.jsx($f,{className:"w-6 h-6 text-orange-500"})}),d.jsxs("h1",{className:"font-bold text-xl text-slate-800 tracking-tight",children:["Media ",d.jsx("span",{className:"text-orange-500 font-extrabold",children:"Analytics"})]})]})]}),d.jsx("nav",{className:"flex items-center gap-1 bg-slate-50/50 p-1 rounded-lg border border-orange-100/50",children:o.map(l=>{const c=l.icon,u=n===l.id;return d.jsxs("button",{onClick:()=>a(l.id),className:`
                    flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200
                    ${u?"bg-white text-orange-600 shadow-sm border border-orange-100":"text-slate-500 hover:text-orange-600 hover:bg-orange-50"}
                  `,children:[d.jsx(c,{size:16}),l.label]},l.id)})}),d.jsxs("button",{onClick:()=>r([]),className:"text-sm font-medium text-slate-400 hover:text-red-500 flex items-center gap-1 transition-colors px-3 py-1.5 hover:bg-red-50 rounded-lg",children:[d.jsx(Bf,{size:16}),"Novo Arquivo"]})]}),d.jsx(zAe,{})]}),d.jsxs("main",{className:"flex-1 container mx-auto px-6 py-8 pb-32 max-w-[1600px] animate-fade-in",children:[n==="overview"&&d.jsx(XAe,{}),n==="monthly"&&d.jsx(nje,{}),n==="daily"&&d.jsx(uje,{}),n==="campaigns"&&d.jsx(ije,{}),n==="budget"&&d.jsx(cje,{})]})]})};function fje({onBack:e}){return d.jsx($Ae,{children:d.jsx(dje,{onBack:e})})}const nC=w.createContext({});function aC(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const s9=typeof window<"u",i9=s9?w.useLayoutEffect:w.useEffect,ry=w.createContext(null);function sC(e,t){e.indexOf(t)===-1&&e.push(t)}function iC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Zs=(e,t,r)=>r>t?t:r<e?e:r;let oC=()=>{};const zi={},o9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function l9(e){return typeof e=="object"&&e!==null}const c9=e=>/^0[^.\s]+$/u.test(e);function lC(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ha=e=>e,hje=(e,t)=>r=>t(e(r)),Ih=(...e)=>e.reduce(hje),S0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class cC{constructor(){this.subscriptions=[]}add(t){return sC(this.subscriptions,t),()=>iC(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ei=e=>e*1e3,Va=e=>e/1e3;function u9(e,t){return t?e*(1e3/t):0}const d9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,pje=1e-7,mje=12;function vje(e,t,r,n,a){let s,i,o=0;do i=t+(r-t)/2,s=d9(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>pje&&++o<mje);return i}function Rh(e,t,r,n){if(e===t&&r===n)return Ha;const a=s=>vje(s,0,1,e,r);return s=>s===0||s===1?s:d9(a(s),t,n)}const f9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,h9=e=>t=>1-e(1-t),p9=Rh(.33,1.53,.69,.99),uC=h9(p9),m9=f9(uC),v9=e=>(e*=2)<1?.5*uC(e):.5*(2-Math.pow(2,-10*(e-1))),dC=e=>1-Math.sin(Math.acos(e)),g9=h9(dC),x9=f9(dC),gje=Rh(.42,0,1,1),xje=Rh(0,0,.58,1),y9=Rh(.42,0,.58,1),yje=e=>Array.isArray(e)&&typeof e[0]!="number",b9=e=>Array.isArray(e)&&typeof e[0]=="number",bje={linear:Ha,easeIn:gje,easeInOut:y9,easeOut:xje,circIn:dC,circInOut:x9,circOut:g9,backIn:uC,backInOut:m9,backOut:p9,anticipate:v9},wje=e=>typeof e=="string",I4=e=>{if(b9(e)){oC(e.length===4);const[t,r,n,a]=e;return Rh(t,r,n,a)}else if(wje(e))return bje[e];return e},Kp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _je(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const m=h&&a?r:n;return f&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,s&&(s=!1,c.process(u))}};return c}const kje=40;function w9(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=Kp.reduce((y,_)=>(y[_]=_je(s),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:m}=i,v=()=>{const y=zi.useManualTiming?a.timestamp:performance.now();r=!1,zi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,kje),1)),a.timestamp=y,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},g=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:Kp.reduce((y,_)=>{const S=i[_];return y[_]=(k,E=!1,C=!1)=>(r||g(),S.schedule(k,E,C)),y},{}),cancel:y=>{for(let _=0;_<Kp.length;_++)i[Kp[_]].cancel(y)},state:a,steps:i}}const{schedule:Nt,cancel:Bo,state:cn,steps:M1}=w9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ha,!0);let vm;function Sje(){vm=void 0}const Vn={now:()=>(vm===void 0&&Vn.set(cn.isProcessing||zi.useManualTiming?cn.timestamp:performance.now()),vm),set:e=>{vm=e,queueMicrotask(Sje)}},_9=e=>t=>typeof t=="string"&&t.startsWith(e),k9=_9("--"),Eje=_9("var(--"),fC=e=>Eje(e)?Cje.test(e.split("/*")[0].trim()):!1,Cje=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function R4(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const ud={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},E0={...ud,transform:e=>Zs(0,1,e)},Gp={...ud,default:1},xf=e=>Math.round(e*1e5)/1e5,hC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Tje(e){return e==null}const Aje=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pC=(e,t)=>r=>!!(typeof r=="string"&&Aje.test(r)&&r.startsWith(e)||t&&!Tje(r)&&Object.prototype.hasOwnProperty.call(r,t)),S9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,o]=n.match(hC);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},jje=e=>Zs(0,255,e),I1={...ud,transform:e=>Math.round(jje(e))},Cl={test:pC("rgb","red"),parse:S9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+I1.transform(e)+", "+I1.transform(t)+", "+I1.transform(r)+", "+xf(E0.transform(n))+")"};function Pje(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const b_={test:pC("#"),parse:Pje,transform:Cl.transform},Fh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),to=Fh("deg"),Us=Fh("%"),je=Fh("px"),Nje=Fh("vh"),Oje=Fh("vw"),F4={...Us,parse:e=>Us.parse(e)/100,transform:e=>Us.transform(e*100)},tu={test:pC("hsl","hue"),parse:S9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Us.transform(xf(t))+", "+Us.transform(xf(r))+", "+xf(E0.transform(n))+")"},Sr={test:e=>Cl.test(e)||b_.test(e)||tu.test(e),parse:e=>Cl.test(e)?Cl.parse(e):tu.test(e)?tu.parse(e):b_.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Cl.transform(e):tu.transform(e),getAnimatableNone:e=>{const t=Sr.parse(e);return t.alpha=0,Sr.transform(t)}},Dje=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Mje(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(hC))==null?void 0:t.length)||0)+(((r=e.match(Dje))==null?void 0:r.length)||0)>0}const E9="number",C9="color",Ije="var",Rje="var(",L4="${}",Fje=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function C0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(Fje,l=>(Sr.test(l)?(n.color.push(s),a.push(C9),r.push(Sr.parse(l))):l.startsWith(Rje)?(n.var.push(s),a.push(Ije),r.push(l)):(n.number.push(s),a.push(E9),r.push(parseFloat(l))),++s,L4)).split(L4);return{values:r,split:o,indexes:n,types:a}}function T9(e){return C0(e).values}function A9(e){const{split:t,types:r}=C0(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const o=r[i];o===E9?s+=xf(a[i]):o===C9?s+=Sr.transform(a[i]):s+=a[i]}return s}}const Lje=e=>typeof e=="number"?0:Sr.test(e)?Sr.getAnimatableNone(e):e;function $je(e){const t=T9(e);return A9(e)(t.map(Lje))}const zo={test:Mje,parse:T9,createTransformer:A9,getAnimatableNone:$je};function R1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Bje({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=R1(l,o,e+1/3),s=R1(l,o,e),i=R1(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function dg(e,t){return r=>r>0?t:e}const qt=(e,t,r)=>e+(t-e)*r,F1=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},zje=[b_,Cl,tu],Uje=e=>zje.find(t=>t.test(e));function $4(e){const t=Uje(e);if(!t)return!1;let r=t.parse(e);return t===tu&&(r=Bje(r)),r}const B4=(e,t)=>{const r=$4(e),n=$4(t);if(!r||!n)return dg(e,t);const a={...r};return s=>(a.red=F1(r.red,n.red,s),a.green=F1(r.green,n.green,s),a.blue=F1(r.blue,n.blue,s),a.alpha=qt(r.alpha,n.alpha,s),Cl.transform(a))},w_=new Set(["none","hidden"]);function Vje(e,t){return w_.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Wje(e,t){return r=>qt(e,t,r)}function mC(e){return typeof e=="number"?Wje:typeof e=="string"?fC(e)?dg:Sr.test(e)?B4:Gje:Array.isArray(e)?j9:typeof e=="object"?Sr.test(e)?B4:Hje:dg}function j9(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>mC(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function Hje(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=mC(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function Kje(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],o=e.values[i]??0;r[a]=o,n[s]++}return r}const Gje=(e,t)=>{const r=zo.createTransformer(t),n=C0(e),a=C0(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?w_.has(e)&&!a.values.length||w_.has(t)&&!n.values.length?Vje(e,t):Ih(j9(Kje(n,a),a.values),r):dg(e,t)};function P9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?qt(e,t,r):mC(e)(e,t)}const qje=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Nt.update(t,r),stop:()=>Bo(t),now:()=>cn.isProcessing?cn.timestamp:Vn.now()}},N9=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},fg=2e4;function vC(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<fg;)t+=r,n=e.next(t);return t>=fg?1/0:t}function Yje(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(vC(n),fg);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:Va(a)}}const Xje=5;function O9(e,t,r){const n=Math.max(t-Xje,0);return u9(r-e(n),t-n)}const rr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},L1=.001;function Zje({duration:e=rr.duration,bounce:t=rr.bounce,velocity:r=rr.velocity,mass:n=rr.mass}){let a,s,i=1-t;i=Zs(rr.minDamping,rr.maxDamping,i),e=Zs(rr.minDuration,rr.maxDuration,Va(e)),i<1?(a=c=>{const u=c*i,f=u*e,h=u-r,p=__(c,i),m=Math.exp(-f);return L1-h/p*m},s=c=>{const f=c*i*e,h=f*r+r,p=Math.pow(i,2)*Math.pow(c,2)*e,m=Math.exp(-f),v=__(Math.pow(c,2),i);return(-a(c)+L1>0?-1:1)*((h-p)*m)/v}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-L1+u*f},s=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=Qje(a,s,o);if(e=Ei(e),isNaN(l))return{stiffness:rr.stiffness,damping:rr.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const Jje=12;function Qje(e,t,r){let n=r;for(let a=1;a<Jje;a++)n=n-e(n)/t(n);return n}function __(e,t){return e*Math.sqrt(1-t*t)}const ePe=["duration","bounce"],tPe=["stiffness","damping","mass"];function z4(e,t){return t.some(r=>e[r]!==void 0)}function rPe(e){let t={velocity:rr.velocity,stiffness:rr.stiffness,damping:rr.damping,mass:rr.mass,isResolvedFromDuration:!1,...e};if(!z4(e,tPe)&&z4(e,ePe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Zs(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:rr.mass,stiffness:a,damping:s}}else{const r=Zje(e);t={...t,...r,mass:rr.mass},t.isResolvedFromDuration=!0}return t}function hg(e=rr.visualDuration,t=rr.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=rPe({...r,velocity:-Va(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),g=i-s,x=Va(Math.sqrt(l/u)),b=Math.abs(g)<5;n||(n=b?rr.restSpeed.granular:rr.restSpeed.default),a||(a=b?rr.restDelta.granular:rr.restDelta.default);let y;if(v<1){const S=__(x,v);y=k=>{const E=Math.exp(-v*x*k);return i-E*((m+v*x*g)/S*Math.sin(S*k)+g*Math.cos(S*k))}}else if(v===1)y=S=>i-Math.exp(-x*S)*(g+(m+x*g)*S);else{const S=x*Math.sqrt(v*v-1);y=k=>{const E=Math.exp(-v*x*k),C=Math.min(S*k,300);return i-E*((m+v*x*g)*Math.sinh(C)+S*g*Math.cosh(C))/S}}const _={calculatedDuration:p&&f||null,next:S=>{const k=y(S);if(p)o.done=S>=f;else{let E=S===0?m:0;v<1&&(E=S===0?Ei(m):O9(y,S,k));const C=Math.abs(E)<=n,T=Math.abs(i-k)<=a;o.done=C&&T}return o.value=o.done?i:k,o},toString:()=>{const S=Math.min(vC(_),fg),k=N9(E=>_.next(S*E).value,S,30);return S+"ms "+k},toTransition:()=>{}};return _}hg.applyToOptions=e=>{const t=Yje(e,100,hg);return e.ease=t.ease,e.duration=Ei(t.duration),e.type="keyframes",e};function k_({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,m=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let v=r*t;const g=f+v,x=i===void 0?g:i(g);x!==g&&(v=x-f);const b=C=>-v*Math.exp(-C/n),y=C=>x+b(C),_=C=>{const T=b(C),j=y(C);h.done=Math.abs(T)<=c,h.value=h.done?x:j};let S,k;const E=C=>{p(h.value)&&(S=C,k=hg({keyframes:[h.value,m(h.value)],velocity:O9(y,C,h.value),damping:a,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:C=>{let T=!1;return!k&&S===void 0&&(T=!0,_(C),E(C)),S!==void 0&&C>=S?k.next(C-S):(!T&&_(C),h)}}}function nPe(e,t,r){const n=[],a=r||zi.mix||P9,s=e.length-1;for(let i=0;i<s;i++){let o=a(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Ha:t;o=Ih(l,o)}n.push(o)}return n}function aPe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(oC(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=nPe(t,n,a),l=o.length,c=u=>{if(i&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=S0(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Zs(e[0],e[s-1],u)):c}function sPe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=S0(0,t,n);e.push(qt(r,1,a))}}function iPe(e){const t=[0];return sPe(t,e.length-1),t}function oPe(e,t){return e.map(r=>r*t)}function lPe(e,t){return e.map(()=>t||y9).splice(0,e.length-1)}function yf({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=yje(n)?n.map(I4):I4(n),s={done:!1,value:t[0]},i=oPe(r&&r.length===t.length?r:iPe(t),e),o=aPe(i,t,{ease:Array.isArray(a)?a:lPe(t,a)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const cPe=e=>e!==null;function gC(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(cPe),o=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const uPe={decay:k_,inertia:k_,tween:yf,keyframes:yf,spring:hg};function D9(e){typeof e.type=="string"&&(e.type=uPe[e.type])}class xC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const dPe=e=>e/100;class yC extends xC{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Vn.now()&&this.tick(Vn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;D9(t);const{type:r=yf,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:o}=t;const l=r||yf;l!==yf&&typeof o[0]!="number"&&(this.mixKeyframes=Ih(dPe,P9(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=vC(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:v,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,_=n;if(f){const C=Math.min(this.currentTime,a)/o;let T=Math.floor(C),j=C%1;!j&&C>=1&&(j=1),j===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(j=1-j,p&&(j-=p/o)):h==="mirror"&&(_=i)),y=Zs(0,1,j)*o}const S=b?{done:!1,value:u[0]}:_.next(y);s&&(S.value=s(S.value));let{done:k}=S;!b&&l!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&m!==k_&&(S.value=gC(u,this.options,g,this.speed)),v&&v(S.value),E&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Va(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Va(t)}get time(){return Va(this.currentTime)}set time(t){var r;t=Ei(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Vn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Va(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=qje,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Vn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function fPe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Tl=e=>e*180/Math.PI,S_=e=>{const t=Tl(Math.atan2(e[1],e[0]));return E_(t)},hPe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:S_,rotateZ:S_,skewX:e=>Tl(Math.atan(e[1])),skewY:e=>Tl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},E_=e=>(e=e%360,e<0&&(e+=360),e),U4=S_,V4=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),W4=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pPe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V4,scaleY:W4,scale:e=>(V4(e)+W4(e))/2,rotateX:e=>E_(Tl(Math.atan2(e[6],e[5]))),rotateY:e=>E_(Tl(Math.atan2(-e[2],e[0]))),rotateZ:U4,rotate:U4,skewX:e=>Tl(Math.atan(e[4])),skewY:e=>Tl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function C_(e){return e.includes("scale")?1:0}function T_(e,t){if(!e||e==="none")return C_(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=pPe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=hPe,a=o}if(!a)return C_(t);const s=n[t],i=a[1].split(",").map(vPe);return typeof s=="function"?s(i):i[s]}const mPe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return T_(r,t)};function vPe(e){return parseFloat(e.trim())}const dd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fd=new Set(dd),H4=e=>e===ud||e===je,gPe=new Set(["x","y","z"]),xPe=dd.filter(e=>!gPe.has(e));function yPe(e){const t=[];return xPe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const yo={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>T_(t,"x"),y:(e,{transform:t})=>T_(t,"y")};yo.translateX=yo.x;yo.translateY=yo.y;const Fl=new Set;let A_=!1,j_=!1,P_=!1;function M9(){if(j_){const e=Array.from(Fl).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=yPe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var o;(o=n.getValue(s))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}j_=!1,A_=!1,Fl.forEach(e=>e.complete(P_)),Fl.clear()}function I9(){Fl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(j_=!0)})}function bPe(){P_=!0,I9(),M9(),P_=!1}class bC{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Fl.add(this),A_||(A_=!0,Nt.read(I9),Nt.resolveKeyframes(M9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}fPe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Fl.delete(this)}cancel(){this.state==="scheduled"&&(Fl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const wPe=e=>e.startsWith("--");function _Pe(e,t,r){wPe(t)?e.style.setProperty(t,r):e.style[t]=r}const kPe=lC(()=>window.ScrollTimeline!==void 0),SPe={};function EPe(e,t){const r=lC(e);return()=>SPe[t]??r()}const R9=EPe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qd=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,K4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function F9(e,t){if(e)return typeof e=="function"?R9()?N9(e,t):"ease-out":b9(e)?qd(e):Array.isArray(e)?e.map(r=>F9(r,t)||K4.easeOut):K4[e]}function CPe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=F9(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function L9(e){return typeof e=="function"&&"applyToOptions"in e}function TPe({type:e,...t}){return L9(e)&&R9()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class APe extends xC{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,oC(typeof t.type!="string");const c=TPe(t);this.animation=CPe(r,n,a,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=gC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):_Pe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Va(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Va(t)}get time(){return Va(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ei(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kPe()?(this.animation.timeline=t,Ha):r(this)}}const $9={anticipate:v9,backInOut:m9,circInOut:x9};function jPe(e){return e in $9}function PPe(e){typeof e.ease=="string"&&jPe(e.ease)&&(e.ease=$9[e.ease])}const $1=10;class NPe extends APe{constructor(t){PPe(t),D9(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new yC({...i,autoplay:!1}),l=Math.max($1,Vn.now()-this.startTime),c=Zs(0,$1,l-$1);r.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const G4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zo.test(e)||e==="0")&&!e.startsWith("url("));function OPe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function DPe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=G4(a,t),o=G4(s,t);return!i||!o?!1:OPe(e)||(r==="spring"||L9(r))&&n}function N_(e){e.duration=0,e.type="keyframes"}const MPe=new Set(["opacity","clipPath","filter","transform"]),IPe=lC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function RPe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return IPe()&&r&&MPe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const FPe=40;class LPe extends xC{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var v,g;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Vn.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||bC;this.keyframeResolver=new p(o,(v,g,x)=>this.onKeyframesResolved(v,g,h,!x),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){var g,x;this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Vn.now(),DPe(t,s,i,o)||((zi.instantAnimations||!l)&&(u==null||u(gC(t,n,r))),t[0]=t[t.length-1],N_(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>FPe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&RPe(h),m=(x=(g=h.motionValue)==null?void 0:g.owner)==null?void 0:x.current,v=p?new NPe({...h,element:m}):new yC(h);v.finished.then(()=>{this.notifyFinished()}).catch(Ha),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),bPe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function B9(e,t,r,n=0,a=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:o-s*n}const $Pe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BPe(e){const t=$Pe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function z9(e,t,r=1){const[n,a]=BPe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return o9(i)?parseFloat(i):i}return fC(a)?z9(a,t,r+1):a}const zPe={type:"spring",stiffness:500,damping:25,restSpeed:10},UPe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),VPe={type:"keyframes",duration:.8},WPe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},HPe=(e,{keyframes:t})=>t.length>2?VPe:fd.has(e)?e.startsWith("scale")?UPe(t[1]):zPe:WPe,KPe=e=>e!==null;function GPe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(KPe),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}function wC(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function qPe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const _C=(e,t,r,n={},a,s)=>i=>{const o=wC(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Ei(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};qPe(o)||Object.assign(u,HPe(e,u)),u.duration&&(u.duration=Ei(u.duration)),u.repeatDelay&&(u.repeatDelay=Ei(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(N_(u),u.delay===0&&(f=!0)),(zi.instantAnimations||zi.skipAnimations)&&(f=!0,N_(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=GPe(u.keyframes,o);if(h!==void 0){Nt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new yC(u):new LPe(u)};function q4(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function kC(e,t,r,n){if(typeof t=="function"){const[a,s]=q4(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=q4(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function wu(e,t,r){const n=e.getProps();return kC(n,t,r!==void 0?r:n.custom,e)}const U9=new Set(["width","height","top","left","right","bottom",...dd]),Y4=30,YPe=e=>!isNaN(parseFloat(e));class XPe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Vn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Vn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=YPe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new cC);const n=this.events[t].add(r);return t==="change"?()=>{n(),Nt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Vn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Y4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Y4);return u9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vu(e,t){return new XPe(e,t)}const O_=e=>Array.isArray(e);function ZPe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Vu(r))}function JPe(e){return O_(e)?e[e.length-1]||0:e}function QPe(e,t){const r=wu(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const o=JPe(s[i]);ZPe(e,i,o)}}const Pn=e=>!!(e&&e.getVelocity);function eNe(e){return!!(Pn(e)&&e.add)}function D_(e,t){const r=e.getValue("willChange");if(eNe(r))return r.add(t);if(!r&&zi.WillChange){const n=new zi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function SC(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const tNe="framerAppearId",V9="data-"+SC(tNe);function W9(e){return e.props[V9]}function rNe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function H9(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;const l=s==null?void 0:s.reduceMotion;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const h=e.getValue(f,e.latestValues[f]??null),p=o[f];if(p===void 0||u&&rNe(u,f))continue;const m={delay:r,...wC(s||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=W9(e);if(y){const _=window.MotionHandoffAnimation(y,f,Nt);_!==null&&(m.startTime=_,g=!0)}}D_(e,f);const x=l??e.shouldReduceMotion;h.start(_C(f,h,p,x&&U9.has(f)?{type:!1}:m,e,g));const b=h.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{Nt.update(()=>{i&&QPe(e,i)})}),c}function M_(e,t,r={}){var l;const n=wu(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(H9(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return nNe(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[s,i]:[i,s];return c().then(()=>u())}else return Promise.all([s(),i(r.delay)])}function nNe(e,t,r=0,n=0,a=0,s=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(M_(l,t,{...i,delay:r+(typeof n=="function"?0:n)+B9(e.variantChildren,l,n,a,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function aNe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>M_(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=M_(e,t,r);else{const a=typeof t=="function"?wu(e,t,r.custom):t;n=Promise.all(H9(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const sNe={test:e=>e==="auto",parse:e=>e},K9=e=>t=>t.test(e),G9=[ud,je,Us,to,Oje,Nje,sNe],X4=e=>G9.find(K9(e));function iNe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||c9(e):!0}const oNe=new Set(["brightness","contrast","saturate","opacity"]);function lNe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(hC)||[];if(!n)return e;const a=r.replace(n,"");let s=oNe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const cNe=/\b([a-z-]*)\(.*?\)/gu,I_={...zo,getAnimatableNone:e=>{const t=e.match(cNe);return t?t.map(lNe).join(" "):e}},Z4={...ud,transform:Math.round},uNe={rotate:to,rotateX:to,rotateY:to,rotateZ:to,scale:Gp,scaleX:Gp,scaleY:Gp,scaleZ:Gp,skew:to,skewX:to,skewY:to,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:E0,originX:F4,originY:F4,originZ:je},EC={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,inset:je,insetBlock:je,insetBlockStart:je,insetBlockEnd:je,insetInline:je,insetInlineStart:je,insetInlineEnd:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,paddingBlock:je,paddingBlockStart:je,paddingBlockEnd:je,paddingInline:je,paddingInlineStart:je,paddingInlineEnd:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,marginBlock:je,marginBlockStart:je,marginBlockEnd:je,marginInline:je,marginInlineStart:je,marginInlineEnd:je,fontSize:je,backgroundPositionX:je,backgroundPositionY:je,...uNe,zIndex:Z4,fillOpacity:E0,strokeOpacity:E0,numOctaves:Z4},dNe={...EC,color:Sr,backgroundColor:Sr,outlineColor:Sr,fill:Sr,stroke:Sr,borderColor:Sr,borderTopColor:Sr,borderRightColor:Sr,borderBottomColor:Sr,borderLeftColor:Sr,filter:I_,WebkitFilter:I_},q9=e=>dNe[e];function Y9(e,t){let r=q9(e);return r!==I_&&(r=zo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const fNe=new Set(["auto","none","0"]);function hNe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!fNe.has(s)&&C0(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=Y9(r,a)}class pNe extends bC{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),fC(f))){const h=z9(f,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!U9.has(n)||t.length!==2)return;const[a,s]=t,i=X4(a),o=X4(s),l=R4(a),c=R4(s);if(l!==c&&yo[n]){this.needsMeasurement=!0;return}if(i!==o)if(H4(i)&&H4(o))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else yo[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||iNe(t[a]))&&n.push(a);n.length&&hNe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=yo[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=yo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function mNe(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const X9=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function R_(e){return l9(e)&&"offsetHeight"in e}const{schedule:CC}=w9(queueMicrotask,!1),is={x:!1,y:!1};function Z9(){return is.x||is.y}function vNe(e){return e==="x"||e==="y"?is[e]?null:(is[e]=!0,()=>{is[e]=!1}):is.x||is.y?null:(is.x=is.y=!0,()=>{is.x=is.y=!1})}function J9(e,t){const r=mNe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function J4(e){return!(e.pointerType==="touch"||Z9())}function gNe(e,t,r={}){const[n,a,s]=J9(e,r),i=o=>{if(!J4(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{J4(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),s}const Q9=(e,t)=>t?e===t?!0:Q9(e,t.parentElement):!1,TC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ez(e){return xNe.has(e.tagName)||e.isContentEditable===!0}const gm=new WeakSet;function Q4(e){return t=>{t.key==="Enter"&&e(t)}}function B1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yNe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Q4(()=>{if(gm.has(r))return;B1(r,"down");const a=Q4(()=>{B1(r,"up")}),s=()=>B1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function eD(e){return TC(e)&&!Z9()}function bNe(e,t,r={}){const[n,a,s]=J9(e,r),i=o=>{const l=o.currentTarget;if(!eD(o))return;gm.add(l);const c=t(l,o),u=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),gm.has(l)&&gm.delete(l),eD(p)&&typeof c=="function"&&c(p,{success:m})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||Q9(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),R_(o)&&(o.addEventListener("focus",c=>yNe(c,a)),!ez(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function tz(e){return l9(e)&&"ownerSVGElement"in e}function wNe(e){return tz(e)&&e.tagName==="svg"}const _Ne=[...G9,Sr,zo],kNe=e=>_Ne.find(K9(e)),tD=()=>({translate:0,scale:1,origin:0,originPoint:0}),ru=()=>({x:tD(),y:tD()}),rD=()=>({min:0,max:0}),Nr=()=>({x:rD(),y:rD()}),F_={current:null},rz={current:!1},SNe=typeof window<"u";function ENe(){if(rz.current=!0,!!SNe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>F_.current=e.matches;e.addEventListener("change",t),t()}else F_.current=!1}const CNe=new WeakMap;function ny(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function T0(e){return typeof e=="string"||Array.isArray(e)}const AC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jC=["initial",...AC];function ay(e){return ny(e.animate)||jC.some(t=>T0(e[t]))}function nz(e){return!!(ay(e)||e.variants)}function TNe(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Pn(a))e.addValue(n,a);else if(Pn(s))e.addValue(n,Vu(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Vu(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const nD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let pg={};function az(e){pg=e}function ANe(){return pg}class jNe{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=bC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Vn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Nt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ay(r),this.isVariantNode=nz(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Pn(p)&&p.set(l[h])}}mount(t){var r;this.current=t,CNe.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(rz.current||ENe(),this.shouldReduceMotion=F_.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Bo(this.notifyUpdate),Bo(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=fd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Nt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in pg){const r=pg[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<nD.length;n++){const a=nD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=TNe(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Vu(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(o9(n)||c9(n))?n=parseFloat(n):!kNe(n)&&zo.test(r)&&(n=Y9(t,r)),this.setBaseTarget(t,Pn(n)?n.get():n)),Pn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=kC(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Pn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new cC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){CC.render(this.render)}}class sz extends jNe{constructor(){super(...arguments),this.KeyframeResolver=pNe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class tl{constructor(t){this.isMounted=!1,this.node=t}update(){}}function iz({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function PNe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function NNe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function z1(e){return e===void 0||e===1}function L_({scale:e,scaleX:t,scaleY:r}){return!z1(e)||!z1(t)||!z1(r)}function hl(e){return L_(e)||oz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function oz(e){return aD(e.x)||aD(e.y)}function aD(e){return e&&e!=="0%"}function mg(e,t,r){const n=e-r,a=t*n;return r+a}function sD(e,t,r,n,a){return a!==void 0&&(e=mg(e,a,n)),mg(e,r,n)+t}function $_(e,t=0,r=1,n,a){e.min=sD(e.min,t,r,n,a),e.max=sD(e.max,t,r,n,a)}function lz(e,{x:t,y:r}){$_(e.x,t.translate,t.scale,t.originPoint),$_(e.y,r.translate,r.scale,r.originPoint)}const iD=.999999999999,oD=1.0000000000001;function ONe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&au(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,lz(e,i)),n&&hl(s.latestValues)&&au(e,s.latestValues))}t.x<oD&&t.x>iD&&(t.x=1),t.y<oD&&t.y>iD&&(t.y=1)}function nu(e,t){e.min=e.min+t,e.max=e.max+t}function lD(e,t,r,n,a=.5){const s=qt(e.min,e.max,a);$_(e,t,r,s,n)}function au(e,t){lD(e.x,t.x,t.scaleX,t.scale,t.originX),lD(e.y,t.y,t.scaleY,t.scale,t.originY)}function cz(e,t){return iz(NNe(e.getBoundingClientRect(),t))}function DNe(e,t,r){const n=cz(e,r),{scroll:a}=t;return a&&(nu(n.x,a.offset.x),nu(n.y,a.offset.y)),n}const MNe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},INe=dd.length;function RNe(e,t,r){let n="",a=!0;for(let s=0;s<INe;s++){const i=dd[s],o=e[i];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(i.startsWith("scale")?1:0);else{const c=parseFloat(o);l=i.startsWith("scale")?c===1:c===0}if(!l||r){const c=X9(o,EC[i]);if(!l){a=!1;const u=MNe[i]||i;n+=`${u}(${c}) `}r&&(t[i]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function PC(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const c=t[l];if(fd.has(l)){i=!0;continue}else if(k9(l)){a[l]=c;continue}else{const u=X9(c,EC[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(t.transform||(i||r?n.transform=RNe(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function uz(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function cD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Rd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=cD(e,t.target.x),n=cD(e,t.target.y);return`${r}% ${n}%`}},FNe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=zo.parse(e);if(a.length>5)return n;const s=zo.createTransformer(e),i=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const c=qt(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),s(a)}},B_={borderRadius:{...Rd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rd,borderTopRightRadius:Rd,borderBottomLeftRadius:Rd,borderBottomRightRadius:Rd,boxShadow:FNe};function dz(e,{layout:t,layoutId:r}){return fd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!B_[e]||e==="opacity")}function NC(e,t,r){var i;const n=e.style,a=t==null?void 0:t.style,s={};if(!n)return s;for(const o in n)(Pn(n[o])||a&&Pn(a[o])||dz(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function LNe(e){return window.getComputedStyle(e)}class $Ne extends sz{constructor(){super(...arguments),this.type="html",this.renderInstance=uz}readValueFromInstance(t,r){var n;if(fd.has(r))return(n=this.projection)!=null&&n.isProjecting?C_(r):mPe(t,r);{const a=LNe(t),s=(k9(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return cz(t,r)}build(t,r,n){PC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return NC(t,r,n)}}const BNe={offset:"stroke-dashoffset",array:"stroke-dasharray"},zNe={offset:"strokeDashoffset",array:"strokeDasharray"};function UNe(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?BNe:zNe;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const VNe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function fz(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...o},l,c,u){if(PC(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const p of VNe)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&UNe(f,a,s,i,!1)}const hz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),pz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function WNe(e,t,r,n){uz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(hz.has(a)?a:SC(a),t.attrs[a])}function mz(e,t,r){const n=NC(e,t,r);for(const a in e)if(Pn(e[a])||Pn(t[a])){const s=dd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}class HNe extends sz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(fd.has(r)){const n=q9(r);return n&&n.default||0}return r=hz.has(r)?r:SC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return mz(t,r,n)}build(t,r,n){fz(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){WNe(t,r,n,a)}mount(t){this.isSVGTag=pz(t.tagName),super.mount(t)}}const KNe=jC.length;function vz(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?vz(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<KNe;r++){const n=jC[r],a=e.props[n];(T0(a)||a===!1)&&(t[n]=a)}return t}function gz(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const GNe=[...AC].reverse(),qNe=AC.length;function YNe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>aNe(e,r,n)))}function XNe(e){let t=YNe(e),r=uD(),n=!0;const a=l=>(c,u)=>{var h;const f=wu(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=vz(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let g=0;g<qNe;g++){const x=GNe[g],b=r[x],y=c[x]!==void 0?c[x]:u[x],_=T0(y),S=x===l?b.isActive:null;S===!1&&(m=g);let k=y===u[x]&&y!==c[x]&&_;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&S===null||!y&&!b.prevProp||ny(y)||typeof y=="boolean")continue;const E=ZNe(b.prevProp,y);let C=E||x===l&&b.isActive&&!k&&_||g>m&&_,T=!1;const j=Array.isArray(y)?y:[y];let P=j.reduce(a(x),{});S===!1&&(P={});const{prevResolvedValues:A={}}=b,N={...A,...P},F=K=>{C=!0,h.has(K)&&(T=!0,h.delete(K)),b.needsAnimating[K]=!0;const X=e.getValue(K);X&&(X.liveStyle=!1)};for(const K in N){const X=P[K],I=A[K];if(p.hasOwnProperty(K))continue;let J=!1;O_(X)&&O_(I)?J=!gz(X,I):J=X!==I,J?X!=null?F(K):h.add(K):X!==void 0&&h.has(K)?F(K):b.protectedKeys[K]=!0}b.prevProp=y,b.prevResolvedValues=P,b.isActive&&(p={...p,...P}),n&&e.blockInitialAnimation&&(C=!1);const B=k&&E;C&&(!B||T)&&f.push(...j.map(K=>{const X={type:x};if(typeof K=="string"&&n&&!B&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,J=wu(I,K);if(I.enteringChildren&&J){const{delayChildren:Z}=J.transition||{};X.delay=B9(I.enteringChildren,e,Z)}}return{animation:K,options:X}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const x=wu(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(g.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),g[x]=b??null}),f.push({animation:g})}let v=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=i(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:i,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=uD()}}}function ZNe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gz(t,e):!1}function sl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uD(){return{animate:sl(!0),whileInView:sl(),whileHover:sl(),whileTap:sl(),whileDrag:sl(),whileFocus:sl(),exit:sl()}}function dD(e,t){e.min=t.min,e.max=t.max}function as(e,t){dD(e.x,t.x),dD(e.y,t.y)}function fD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const xz=1e-4,JNe=1-xz,QNe=1+xz,yz=.01,eOe=0-yz,tOe=0+yz;function Wn(e){return e.max-e.min}function rOe(e,t,r){return Math.abs(e-t)<=r}function hD(e,t,r,n=.5){e.origin=n,e.originPoint=qt(t.min,t.max,e.origin),e.scale=Wn(r)/Wn(t),e.translate=qt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=JNe&&e.scale<=QNe||isNaN(e.scale))&&(e.scale=1),(e.translate>=eOe&&e.translate<=tOe||isNaN(e.translate))&&(e.translate=0)}function bf(e,t,r,n){hD(e.x,t.x,r.x,n?n.originX:void 0),hD(e.y,t.y,r.y,n?n.originY:void 0)}function pD(e,t,r){e.min=r.min+t.min,e.max=e.min+Wn(t)}function nOe(e,t,r){pD(e.x,t.x,r.x),pD(e.y,t.y,r.y)}function mD(e,t,r){e.min=t.min-r.min,e.max=e.min+Wn(t)}function vg(e,t,r){mD(e.x,t.x,r.x),mD(e.y,t.y,r.y)}function vD(e,t,r,n,a){return e-=t,e=mg(e,1/r,n),a!==void 0&&(e=mg(e,1/a,n)),e}function aOe(e,t=0,r=1,n=.5,a,s=e,i=e){if(Us.test(t)&&(t=parseFloat(t),t=qt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=qt(s.min,s.max,n);e===s&&(o-=t),e.min=vD(e.min,t,r,o,a),e.max=vD(e.max,t,r,o,a)}function gD(e,t,[r,n,a],s,i){aOe(e,t[r],t[n],t[a],t.scale,s,i)}const sOe=["x","scaleX","originX"],iOe=["y","scaleY","originY"];function xD(e,t,r,n){gD(e.x,t,sOe,r?r.x:void 0,n?n.x:void 0),gD(e.y,t,iOe,r?r.y:void 0,n?n.y:void 0)}function yD(e){return e.translate===0&&e.scale===1}function bz(e){return yD(e.x)&&yD(e.y)}function bD(e,t){return e.min===t.min&&e.max===t.max}function oOe(e,t){return bD(e.x,t.x)&&bD(e.y,t.y)}function wD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function wz(e,t){return wD(e.x,t.x)&&wD(e.y,t.y)}function _D(e){return Wn(e.x)/Wn(e.y)}function kD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ra(e){return[e("x"),e("y")]}function lOe(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const _z=["TopLeft","TopRight","BottomLeft","BottomRight"],cOe=_z.length,SD=e=>typeof e=="string"?parseFloat(e):e,ED=e=>typeof e=="number"||je.test(e);function uOe(e,t,r,n,a,s){a?(e.opacity=qt(0,r.opacity??1,dOe(n)),e.opacityExit=qt(t.opacity??1,0,fOe(n))):s&&(e.opacity=qt(t.opacity??1,r.opacity??1,n));for(let i=0;i<cOe;i++){const o=`border${_z[i]}Radius`;let l=CD(t,o),c=CD(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||ED(l)===ED(c)?(e[o]=Math.max(qt(SD(l),SD(c),n),0),(Us.test(c)||Us.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=qt(t.rotate||0,r.rotate||0,n))}function CD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dOe=kz(0,.5,g9),fOe=kz(.5,.95,Ha);function kz(e,t,r){return n=>n<e?0:n>t?1:r(S0(e,t,n))}function hOe(e,t,r){const n=Pn(e)?e:Vu(e);return n.start(_C("",n,t,r)),n.animation}function A0(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const pOe=(e,t)=>e.depth-t.depth;class mOe{constructor(){this.children=[],this.isDirty=!1}add(t){sC(this.children,t),this.isDirty=!0}remove(t){iC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(pOe),this.isDirty=!1,this.children.forEach(t)}}function vOe(e,t){const r=Vn.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Bo(n),e(s-t))};return Nt.setup(n,!0),()=>Bo(n)}function xm(e){return Pn(e)?e.get():e}class gOe{constructor(){this.members=[]}add(t){sC(this.members,t),t.scheduleRender()}remove(t){if(iC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,s=t.options.layoutDependency;a!==void 0&&s!==void 0&&a===s||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1},U1=["","X","Y","Z"],xOe=1e3;let yOe=0;function V1(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Sz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=W9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Nt,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Sz(n)}function Ez({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=yOe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_Oe),this.nodes.forEach(COe),this.nodes.forEach(TOe),this.nodes.forEach(kOe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new mOe)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new cC),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=tz(i)&&!wNe(i),this.instance=i;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;Nt.read(()=>{f=window.innerWidth}),e(i,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=vOe(h,250),ym.hasAnimatedSinceResize&&(ym.hasAnimatedSinceResize=!1,this.nodes.forEach(jD)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||OOe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),x=!this.targetLayout||!wz(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...wC(m,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,b)}else f||jD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AOe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Sz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(TD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(AD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EOe),this.nodes.forEach(bOe),this.nodes.forEach(wOe)):this.nodes.forEach(AD),this.clearAllSnapshots();const o=Vn.now();cn.delta=Zs(0,1e3/60,o-cn.timestamp),cn.timestamp=o,cn.isProcessing=!0,M1.update.process(cn),M1.preRender.process(cn),M1.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,CC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SOe),this.sharedNodes.forEach(jOe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Nt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Nt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wn(this.snapshot.measuredBox.x)&&!Wn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!bz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||hl(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),DOe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return Nr();const o=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(MOe))){const{scroll:u}=this.root;u&&(nu(o.x,u.offset.x),nu(o.y,u.offset.y))}return o}removeElementScroll(i){var l;const o=Nr();if(as(o,i),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&as(o,i),nu(o.x,f.offset.x),nu(o.y,f.offset.y))}return o}applyTransform(i,o=!1){const l=Nr();as(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&au(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hl(u.latestValues)&&au(l,u.latestValues)}return hl(this.latestValues)&&au(l,this.latestValues),l}removeTransform(i){const o=Nr();as(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hl(c.latestValues))continue;L_(c.latestValues)&&c.updateSnapshot();const u=Nr(),f=c.measurePageBox();as(u,f),xD(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hl(this.latestValues)&&xD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=cn.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nr(),this.targetWithTransforms=Nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nOe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):as(this.target,this.layout.layoutBox),lz(this.target,this.targetDelta)):as(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||L_(this.parent.latestValues)||oz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,o,l){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),vg(this.relativeTargetOrigin,o,l),as(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;as(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;ONe(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Nr());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fD(this.prevProjectionDelta.x,this.projectionDelta.x),fD(this.prevProjectionDelta.y,this.projectionDelta.y)),bf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!kD(this.projectionDelta.x,this.prevProjectionDelta.x)||!kD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ru(),this.projectionDelta=ru(),this.projectionDeltaWithTransform=ru()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=ru();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Nr(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,g=this.getStack(),x=!g||g.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(NOe));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const S=_/1e3;PD(f.x,i.x,S),PD(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),POe(this.relativeTarget,this.relativeTargetOrigin,h,S),y&&oOe(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Nr()),as(y,this.relativeTarget)),v&&(this.animationValues=u,uOe(u,c,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Bo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Nt.update(()=>{ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vu(0)),this.currentAnimation=hOe(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xOe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&Cz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Nr();const f=Wn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=Wn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}as(o,l),au(o,u),bf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new gOe),this.sharedNodes.get(i).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&V1("z",i,c,this.animationValues);for(let u=0;u<U1.length;u++)V1(`rotate${U1[u]}`,i,c,this.animationValues),V1(`skew${U1[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=xm(o==null?void 0:o.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=xm(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hl(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=lOe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),i.transform=f;const{x:h,y:p}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?i.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in B_){if(u[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:x}=B_[m],b=f==="none"?u[m]:v(u[m],c);if(g){const y=g.length;for(let _=0;_<y;_++)i[g[_]]=b}else x?this.options.visualElement.renderState.vars[m]=b:i[m]=b}this.options.layoutId&&(i.pointerEvents=c===this?xm(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(TD),this.root.sharedNodes.clear()}}}function bOe(e){e.updateLayout()}function wOe(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Ra(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=Wn(h);h.min=n[f].min,h.max=h.min+p}):Cz(s,t.layoutBox,n)&&Ra(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=Wn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=ru();bf(o,n,t.layoutBox);const l=ru();i?bf(l,e.applyTransform(a,!0),t.measuredBox):bf(l,n,t.layoutBox);const c=!bz(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Nr();vg(m,t.layoutBox,h.layoutBox);const v=Nr();vg(v,n,p.layoutBox),wz(m,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _Oe(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kOe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SOe(e){e.clearSnapshot()}function TD(e){e.clearMeasurements()}function AD(e){e.isLayoutDirty=!1}function EOe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function jD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function COe(e){e.resolveTargetDelta()}function TOe(e){e.calcProjection()}function AOe(e){e.resetSkewAndRotation()}function jOe(e){e.removeLeadSnapshot()}function PD(e,t,r){e.translate=qt(t.translate,0,r),e.scale=qt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function ND(e,t,r,n){e.min=qt(t.min,r.min,n),e.max=qt(t.max,r.max,n)}function POe(e,t,r,n){ND(e.x,t.x,r.x,n),ND(e.y,t.y,r.y,n)}function NOe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const OOe={duration:.45,ease:[.4,0,.1,1]},OD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),DD=OD("applewebkit/")&&!OD("chrome/")?Math.round:Ha;function MD(e){e.min=DD(e.min),e.max=DD(e.max)}function DOe(e){MD(e.x),MD(e.y)}function Cz(e,t,r){return e==="position"||e==="preserve-aspect"&&!rOe(_D(t),_D(r),.2)}function MOe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const IOe=Ez({attachResizeListener:(e,t)=>A0(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),W1={current:void 0},Tz=Ez({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!W1.current){const e=new IOe({});e.mount(window),e.setOptions({layoutScroll:!0}),W1.current=e}return W1.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),OC=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ID(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ROe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=ID(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():ID(e[a],null)}}}}function FOe(...e){return w.useCallback(ROe(...e),e)}class LOe extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=R_(n)&&n.offsetWidth||0,s=R_(n)&&n.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function $Oe({children:e,isPresent:t,anchorX:r,anchorY:n,root:a}){var f;const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=w.useContext(OC),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),u=FOe(i,c);return w.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:v,right:g,bottom:x}=o.current;if(t||!i.current||!h||!p)return;const b=r==="left"?`left: ${v}`:`right: ${g}`,y=n==="bottom"?`bottom: ${x}`:`top: ${m}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");l&&(_.nonce=l);const S=a??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            ${y}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[t]),d.jsx(LOe,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:u})})}const BOe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:o,anchorY:l,root:c})=>{const u=aC(zOe),f=w.useId();let h=!0,p=w.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&h&&(p={...p}),w.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[r]),w.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=d.jsx($Oe,{isPresent:r,anchorX:o,anchorY:l,root:c,children:e})),d.jsx(ry.Provider,{value:p,children:e})};function zOe(){return new Map}function Az(e=!0){const t=w.useContext(ry);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=w.useId();w.useEffect(()=>{if(e)return a(s)},[e]);const i=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const qp=e=>e.key||"";function RD(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const UOe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[u,f]=Az(i),h=w.useMemo(()=>RD(e),[e]),p=i&&!u?[]:h.map(qp),m=w.useRef(!0),v=w.useRef(h),g=aC(()=>new Map),x=w.useRef(new Set),[b,y]=w.useState(h),[_,S]=w.useState(h);i9(()=>{m.current=!1,v.current=h;for(let C=0;C<_.length;C++){const T=qp(_[C]);p.includes(T)?(g.delete(T),x.current.delete(T)):g.get(T)!==!0&&g.set(T,!1)}},[_,p.length,p.join("-")]);const k=[];if(h!==b){let C=[...h];for(let T=0;T<_.length;T++){const j=_[T],P=qp(j);p.includes(P)||(C.splice(T,0,j),k.push(j))}return s==="wait"&&k.length&&(C=k),S(RD(C)),y(h),null}const{forceRender:E}=w.useContext(nC);return d.jsx(d.Fragment,{children:_.map(C=>{const T=qp(C),j=i&&!u?!1:h===_||p.includes(T),P=()=>{if(x.current.has(T))return;if(x.current.add(T),g.has(T))g.set(T,!0);else return;let A=!0;g.forEach(N=>{N||(A=!1)}),A&&(E==null||E(),S(v.current),i&&(f==null||f()),n&&n())};return d.jsx(BOe,{isPresent:j,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:j?void 0:P,anchorX:o,anchorY:l,children:C},T)})})},jz=w.createContext({strict:!1}),FD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let LD=!1;function VOe(){if(LD)return;const e={};for(const t in FD)e[t]={isEnabled:r=>FD[t].some(n=>!!r[n])};az(e),LD=!0}function Pz(){return VOe(),ANe()}function WOe(e){const t=Pz();for(const r in e)t[r]={...t[r],...e[r]};az(t)}const HOe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gg(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||HOe.has(e)}let Nz=e=>!gg(e);function KOe(e){typeof e=="function"&&(Nz=t=>t.startsWith("on")?!gg(t):e(t))}try{KOe(require("@emotion/is-prop-valid").default)}catch{}function GOe(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Nz(a)||r===!0&&gg(a)||!t&&!gg(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const sy=w.createContext({});function qOe(e,t){if(ay(e)){const{initial:r,animate:n}=e;return{initial:r===!1||T0(r)?r:void 0,animate:T0(n)?n:void 0}}return e.inherit!==!1?t:{}}function YOe(e){const{initial:t,animate:r}=qOe(e,w.useContext(sy));return w.useMemo(()=>({initial:t,animate:r}),[$D(t),$D(r)])}function $D(e){return Array.isArray(e)?e.join(" "):e}const DC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Oz(e,t,r){for(const n in t)!Pn(t[n])&&!dz(n,r)&&(e[n]=t[n])}function XOe({transformTemplate:e},t){return w.useMemo(()=>{const r=DC();return PC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function ZOe(e,t){const r=e.style||{},n={};return Oz(n,r,e),Object.assign(n,XOe(e,t)),n}function JOe(e,t){const r={},n=ZOe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Dz=()=>({...DC(),attrs:{}});function QOe(e,t,r,n){const a=w.useMemo(()=>{const s=Dz();return fz(s,t,pz(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Oz(s,e.style,e),a.style={...s,...a.style}}return a}const e4e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function MC(e){return typeof e!="string"||e.includes("-")?!1:!!(e4e.indexOf(e)>-1||/[A-Z]/u.test(e))}function t4e(e,t,r,{latestValues:n},a,s=!1,i){const l=(i??MC(e)?QOe:JOe)(t,n,a,e),c=GOe(t,typeof e=="string",s),u=e!==w.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=w.useMemo(()=>Pn(f)?f.get():f,[f]);return w.createElement(e,{...u,children:h})}function r4e({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:n4e(r,n,a,e),renderState:t()}}function n4e(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=xm(s[h]);let{initial:i,animate:o}=e;const l=ay(e),c=nz(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const f=u?o:i;if(f&&typeof f!="boolean"&&!ny(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=kC(e,h[p]);if(m){const{transitionEnd:v,transition:g,...x}=m;for(const b in x){let y=x[b];if(Array.isArray(y)){const _=u?y.length-1:0;y=y[_]}y!==null&&(a[b]=y)}for(const b in v)a[b]=v[b]}}}return a}const Mz=e=>(t,r)=>{const n=w.useContext(sy),a=w.useContext(ry),s=()=>r4e(e,t,n,a);return r?s():aC(s)},a4e=Mz({scrapeMotionValuesFromProps:NC,createRenderState:DC}),s4e=Mz({scrapeMotionValuesFromProps:mz,createRenderState:Dz}),i4e=Symbol.for("motionComponentSymbol");function o4e(e,t,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const a=w.useRef(null);return w.useCallback(s=>{var o;s&&((o=e.onMount)==null||o.call(e,s)),t&&(s?t.mount(s):t.unmount());const i=n.current;if(typeof i=="function")if(s){const l=i(s);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):i(s);else i&&(i.current=s)},[t])}const Iz=w.createContext({});function Yd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function l4e(e,t,r,n,a,s){var x,b;const{visualElement:i}=w.useContext(sy),o=w.useContext(jz),l=w.useContext(ry),c=w.useContext(OC).reducedMotion,u=w.useRef(null),f=w.useRef(!1);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),f.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const h=u.current,p=w.useContext(Iz);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&c4e(u.current,r,a,p);const m=w.useRef(!1);w.useInsertionEffect(()=>{h&&m.current&&h.update(r,l)});const v=r[V9],g=w.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return i9(()=>{f.current=!0,h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,v)}),g.current=!1),h.enteringChildren=void 0)}),h}function c4e(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Rz(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||o&&Yd(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function Rz(e){if(e)return e.options.allowProjection!==!1?e.projection:Rz(e.parent)}function H1(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&WOe(n);const s=r?r==="svg":MC(e),i=s?s4e:a4e;function o(c,u){let f;const h={...w.useContext(OC),...c,layoutId:u4e(c)},{isStatic:p}=h,m=YOe(c),v=i(c,p);if(!p&&s9){d4e();const g=f4e(h);f=g.MeasureLayout,m.visualElement=l4e(e,v,h,a,g.ProjectionNode,s)}return d.jsxs(sy.Provider,{value:m,children:[f&&m.visualElement?d.jsx(f,{visualElement:m.visualElement,...h}):null,t4e(e,c,o4e(v,m.visualElement,u),v,p,t,s)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(o);return l[i4e]=e,l}function u4e({layoutId:e}){const t=w.useContext(nC).id;return t&&e!==void 0?t+"-"+e:e}function d4e(e,t){w.useContext(jz).strict}function f4e(e){const t=Pz(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function h4e(e,t){if(typeof Proxy>"u")return H1;const r=new Map,n=(s,i)=>H1(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,H1(i,void 0,e,t)),r.get(i))})}const p4e=(e,t)=>t.isSVG??MC(e)?new HNe(t):new $Ne(t,{allowProjection:e!==w.Fragment});class m4e extends tl{constructor(t){super(t),t.animationState||(t.animationState=XNe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ny(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let v4e=0;class g4e extends tl{constructor(){super(...arguments),this.id=v4e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const x4e={animation:{Feature:m4e},exit:{Feature:g4e}};function Lh(e){return{point:{x:e.pageX,y:e.pageY}}}const y4e=e=>t=>TC(t)&&e(t,Lh(t));function wf(e,t,r,n){return A0(e,t,y4e(r),n)}const Fz=({current:e})=>e?e.ownerDocument.defaultView:null,BD=(e,t)=>Math.abs(e-t);function b4e(e,t){const r=BD(e.x,t.x),n=BD(e.y,t.y);return Math.sqrt(r**2+n**2)}const zD=new Set(["auto","scroll"]);class Lz{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=G1(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=b4e(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:x}=cn;this.history.push({...g,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=K1(m,this.transformPagePoint),Nt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=G1(p.type==="pointercancel"?this.lastMoveEventInfo:K1(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),g&&g(p,b)},!TC(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=Lh(t),c=K1(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=cn;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,G1(c,this.history)),this.removeListeners=Ih(wf(this.contextWindow,"pointermove",this.handlePointerMove),wf(this.contextWindow,"pointerup",this.handlePointerUp),wf(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(zD.has(n.overflowX)||zD.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:a.x-r.x,y:a.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,a),Nt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Bo(this.updatePoint)}}function K1(e,t){return t?{point:t(e.point)}:e}function UD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function G1({point:e},t){return{point:e,delta:UD(e,$z(t)),offset:UD(e,w4e(t)),velocity:_4e(t,.1)}}function w4e(e){return e[0]}function $z(e){return e[e.length-1]}function _4e(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=$z(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Ei(t)));)r--;if(!n)return{x:0,y:0};const s=Va(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function k4e(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?qt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?qt(r,e,n.max):Math.min(e,r)),e}function VD(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function S4e(e,{top:t,left:r,bottom:n,right:a}){return{x:VD(e.x,r,a),y:VD(e.y,t,n)}}function WD(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function E4e(e,t){return{x:WD(e.x,t.x),y:WD(e.y,t.y)}}function C4e(e,t){let r=.5;const n=Wn(e),a=Wn(t);return a>n?r=S0(t.min,t.max-n,e.min):n>a&&(r=S0(e.min,e.max-a,t.min)),Zs(0,1,r)}function T4e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const z_=.35;function A4e(e=z_){return e===!1?e=0:e===!0&&(e=z_),{x:HD(e,"left","right"),y:HD(e,"top","bottom")}}function HD(e,t,r){return{min:KD(e,t),max:KD(e,r)}}function KD(e,t){return typeof e=="number"?e:e[t]||0}const j4e=new WeakMap;class P4e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(Lh(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vNe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ra(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Us.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[x];_&&(b=Wn(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Nt.postRender(()=>v(f,h)),D_(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=N4e(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ra(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Lz(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:Fz(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Nt.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Yp(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=k4e(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&Yd(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=S4e(n.layoutBox,t):this.constraints=!1,this.elastic=A4e(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ra(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=T4e(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Yd(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=DNe(n,a.root,this.visualElement.getTransformPagePoint());let i=E4e(a.layout.layoutBox,s);if(r){const o=r(PNe(i));this.hasMutatedConstraints=!!o,o&&(i=iz(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ra(u=>{if(!Yp(u,r,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return D_(this.visualElement,t),n.start(_C(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ra(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ra(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ra(r=>{const{drag:n}=this.getProps();if(!Yp(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r],l=s.get()||0;s.set(t[r]-qt(i,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Yd(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ra(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=C4e({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ra(i=>{if(!Yp(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];o.set(qt(l,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;j4e.set(this.visualElement,this);const t=this.visualElement.current,r=wf(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),f=l.target,h=f!==t&&ez(f);c&&u&&!h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Yd(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Nt.read(n);const i=A0(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ra(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=z_,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function Yp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function N4e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class O4e extends tl{constructor(t){super(t),this.removeGroupControls=Ha,this.removeListeners=Ha,this.controls=new P4e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ha}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const GD=e=>(t,r)=>{e&&Nt.postRender(()=>e(t,r))};class D4e extends tl{constructor(){super(...arguments),this.removePointerDownListener=Ha}onPointerDown(t){this.session=new Lz(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Fz(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:GD(t),onStart:GD(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&Nt.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=wf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let q1=!1;class M4e extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),q1&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,t.layoutDependency!==r&&i.setOptions({...i.options,layoutDependency:r}),q1=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Nt.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),CC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;q1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bz(e){const[t,r]=Az(),n=w.useContext(nC);return d.jsx(M4e,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(Iz),isPresent:t,safeToRemove:r})}const I4e={pan:{Feature:D4e},drag:{Feature:O4e,ProjectionNode:Tz,MeasureLayout:Bz}};function qD(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Nt.postRender(()=>s(t,Lh(t)))}class R4e extends tl{mount(){const{current:t}=this.node;t&&(this.unmount=gNe(t,(r,n)=>(qD(this.node,n,"Start"),a=>qD(this.node,a,"End"))))}unmount(){}}class F4e extends tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ih(A0(this.node.current,"focus",()=>this.onFocus()),A0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function YD(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Nt.postRender(()=>s(t,Lh(t)))}class L4e extends tl{mount(){const{current:t}=this.node;t&&(this.unmount=bNe(t,(r,n)=>(YD(this.node,n,"Start"),(a,{success:s})=>YD(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const U_=new WeakMap,Y1=new WeakMap,$4e=e=>{const t=U_.get(e.target);t&&t(e)},B4e=e=>{e.forEach($4e)};function z4e({root:e,...t}){const r=e||document;Y1.has(r)||Y1.set(r,{});const n=Y1.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(B4e,{root:e,...t})),n[a]}function U4e(e,t,r){const n=z4e(t);return U_.set(e,r),n.observe(e),()=>{U_.delete(e),n.unobserve(e)}}const V4e={some:0,all:1};class W4e extends tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:V4e[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return U4e(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(H4e(t,r))&&this.startObserver()}unmount(){}}function H4e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const K4e={inView:{Feature:W4e},tap:{Feature:L4e},focus:{Feature:F4e},hover:{Feature:R4e}},G4e={layout:{ProjectionNode:Tz,MeasureLayout:Bz}},q4e={...x4e,...K4e,...I4e,...G4e},Y4e=h4e(q4e,p4e),eo=({children:e,className:t=""})=>d.jsx(Y4e.div,{initial:{opacity:0,y:10,filter:"blur(5px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(5px)"},transition:{duration:.3,ease:"easeOut"},className:`w-full h-full ${t}`,children:e});function X4e(){const{user:e,loading:t}=Z2(),{viewSettings:r,updateActivity:n,setTab:a}=vt(),s=r.filtrosGlobais,i=r.abaAtual,{startDate:o,endDate:l}=Ah(),{selectedBUs:c}=Th(),{data:u,loading:f,error:h,totalActivities:p,processCSV:m,loadSimulatedData:v}=Ux(),g=w.useMemo(()=>({...s,dataInicio:ke(o,"yyyy-MM-dd"),dataFim:ke(l,"yyyy-MM-dd"),bu:c}),[s,o,l,c]),y=!(i==="framework")&&!(i==="midia-paga"),{filteredData:_,availableCanais:S,availableJornadas:k,availableSegmentos:E,availableParceiros:C,countByCanal:T,countByJornada:j,countBySegmento:P,countByParceiro:A}=k0(y?u:{},g),{filteredData:N}=j4(_,g),F=w.useMemo(()=>{const Z=Math.abs(l.getTime()-o.getTime()),M=Math.ceil(Z/(1e3*60*60*24)),z=new Date(o);z.setDate(z.getDate()-1);const G=new Date(z);return G.setDate(G.getDate()-M),{...g,dataInicio:ke(G,"yyyy-MM-dd"),dataFim:ke(z,"yyyy-MM-dd")}},[g,o,l]),B=w.useMemo(()=>({...g,dataInicio:"",dataFim:""}),[g]),{filteredData:q}=k0(i==="launch"?u:{},B),{filteredData:K}=j4(y?_:{},F),X=JTe(N),I=Object.keys(u).length>0,J=Z=>{switch(Z){case"launch":return"Launch Planner";case"jornada":return"Jornada & Disparos";case"resultados":return"Resultados";case"orientador":return"Orientador";case"framework":return"Campanhas";case"diario":return"Dirio de Bordo";case"configuracoes":return"Configuraes";case"midia-paga":return"Media Analytics";default:return"Dashboard"}};return t?d.jsx("div",{className:"h-screen w-full bg-slate-950 text-slate-500 flex items-center justify-center",children:"Carregando..."}):e?i==="midia-paga"?d.jsx(fje,{onBack:()=>a("launch")}):d.jsxs(tAe,{children:[I&&d.jsx(LAe,{title:J(i),children:d.jsx("div",{className:"flex ml-auto",children:d.jsx(WH,{availableCanais:S,availableJornadas:k,availableSegmentos:E,availableParceiros:C,countByCanal:T,countByJornada:j,countBySegmento:P,countByParceiro:A})})}),d.jsxs("div",{className:"flex-1 pb-10",children:[f&&!I&&d.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:d.jsx(JT,{size:32,className:"text-blue-400"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Verificando dados..."}),d.jsx("p",{className:"text-slate-400",children:"Carregando informaes do banco de dados"})]})}),!f&&!I&&d.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:d.jsxs("div",{className:"max-w-md w-full bg-slate-800/50 p-8 rounded-2xl border border-slate-700 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(JT,{size:32,className:"text-blue-400"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Bem-vindo ao GaaS"}),d.jsx("p",{className:"text-slate-400 mb-8",children:"Faa upload do seu arquivo de dados para comear a anlise."}),d.jsx(DH,{onFileSelect:m,onLoadSimulatedData:v,loading:f,error:h,totalActivities:p})]})}),I&&d.jsx(UOe,{mode:"wait",children:d.jsxs("div",{className:"h-full",children:[i==="launch"&&d.jsx(eo,{children:d.jsx(IAe,{data:q,onActivityUpdate:(Z,M)=>n(Z,{dataDisparo:M})})}),i==="resultados"&&d.jsx(eo,{children:d.jsx(_me,{resultados:X,data:N,selectedBU:c.length===1?c[0]:void 0})}),i==="jornada"&&d.jsx(eo,{children:d.jsx(eve,{data:N,previousData:K,selectedBU:c.length===1?c[0]:void 0,selectedCanais:g.canais,selectedSegmentos:g.segmentos,selectedParceiros:g.parceiros})}),i==="diario"&&d.jsx(eo,{children:d.jsx(uve,{})}),i==="framework"&&d.jsx(eo,{children:d.jsx(mve,{})}),i==="orientador"&&d.jsx(eo,{children:d.jsx(wve,{})}),i==="originacao-b2c"&&d.jsx(eo,{children:d.jsx(ZTe,{})}),i==="configuracoes"&&d.jsx(eo,{children:d.jsx(VTe,{})}),!["launch","resultados","jornada","diario","framework","orientador","configuracoes","originacao-b2c","midia-paga"].includes(i)&&d.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:d.jsxs("p",{children:["Aba desconhecida: ",i,". Redirecionando..."]})})]},i)})]})]}):d.jsx(Tq,{})}X1.createRoot(document.getElementById("root")).render(d.jsx(Rs.StrictMode,{children:d.jsx(bve,{children:d.jsx(gve,{children:d.jsx(Cq,{children:d.jsx(X4e,{})})})})}));
