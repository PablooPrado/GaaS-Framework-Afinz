var S7=Object.defineProperty;var E7=(e,t,r)=>t in e?S7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ts=(e,t,r)=>E7(e,typeof t!="symbol"?t+"":t,r);function C7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var T7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h3={exports:{}},kg={},p3={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0=Symbol.for("react.element"),A7=Symbol.for("react.portal"),j7=Symbol.for("react.fragment"),P7=Symbol.for("react.strict_mode"),N7=Symbol.for("react.profiler"),O7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),M7=Symbol.for("react.forward_ref"),I7=Symbol.for("react.suspense"),R7=Symbol.for("react.memo"),F7=Symbol.for("react.lazy"),qC=Symbol.iterator;function L7(e){return e===null||typeof e!="object"?null:(e=qC&&e[qC]||e["@@iterator"],typeof e=="function"?e:null)}var m3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v3=Object.assign,g3={};function Gu(e,t,r){this.props=e,this.context=t,this.refs=g3,this.updater=r||m3}Gu.prototype.isReactComponent={};Gu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Gu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x3(){}x3.prototype=Gu.prototype;function e_(e,t,r){this.props=e,this.context=t,this.refs=g3,this.updater=r||m3}var t_=e_.prototype=new x3;t_.constructor=e_;v3(t_,Gu.prototype);t_.isPureReactComponent=!0;var YC=Array.isArray,y3=Object.prototype.hasOwnProperty,r_={current:null},b3={key:!0,ref:!0,__self:!0,__source:!0};function w3(e,t,r){var n,a={},s=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(s=""+t.key),t)y3.call(t,n)&&!b3.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:I0,type:e,key:s,ref:i,props:a,_owner:r_.current}}function $7(e,t){return{$$typeof:I0,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function n_(e){return typeof e=="object"&&e!==null&&e.$$typeof===I0}function B7(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var XC=/\/+/g;function vy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?B7(""+e.key):t.toString(36)}function em(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case I0:case A7:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+vy(i,0):n,YC(a)?(r="",e!=null&&(r=e.replace(XC,"$&/")+"/"),em(a,t,r,"",function(c){return c})):a!=null&&(n_(a)&&(a=$7(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(XC,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",YC(e))for(var o=0;o<e.length;o++){s=e[o];var l=n+vy(s,o);i+=em(s,t,r,l,a)}else if(l=L7(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=n+vy(s,o++),i+=em(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Vh(e,t,r){if(e==null)return e;var n=[],a=0;return em(e,n,"","",function(s){return t.call(r,s,a++)}),n}function z7(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Zn={current:null},tm={transition:null},U7={ReactCurrentDispatcher:Zn,ReactCurrentBatchConfig:tm,ReactCurrentOwner:r_};function _3(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Vh,forEach:function(e,t,r){Vh(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Vh(e,function(){t++}),t},toArray:function(e){return Vh(e,function(t){return t})||[]},only:function(e){if(!n_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};We.Component=Gu;We.Fragment=j7;We.Profiler=N7;We.PureComponent=e_;We.StrictMode=P7;We.Suspense=I7;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U7;We.act=_3;We.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=v3({},e.props),a=e.key,s=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,i=r_.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)y3.call(t,l)&&!b3.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:I0,type:e.type,key:a,ref:s,props:n,_owner:i}};We.createContext=function(e){return e={$$typeof:D7,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:O7,_context:e},e.Consumer=e};We.createElement=w3;We.createFactory=function(e){var t=w3.bind(null,e);return t.type=e,t};We.createRef=function(){return{current:null}};We.forwardRef=function(e){return{$$typeof:M7,render:e}};We.isValidElement=n_;We.lazy=function(e){return{$$typeof:F7,_payload:{_status:-1,_result:e},_init:z7}};We.memo=function(e,t){return{$$typeof:R7,type:e,compare:t===void 0?null:t}};We.startTransition=function(e){var t=tm.transition;tm.transition={};try{e()}finally{tm.transition=t}};We.unstable_act=_3;We.useCallback=function(e,t){return Zn.current.useCallback(e,t)};We.useContext=function(e){return Zn.current.useContext(e)};We.useDebugValue=function(){};We.useDeferredValue=function(e){return Zn.current.useDeferredValue(e)};We.useEffect=function(e,t){return Zn.current.useEffect(e,t)};We.useId=function(){return Zn.current.useId()};We.useImperativeHandle=function(e,t,r){return Zn.current.useImperativeHandle(e,t,r)};We.useInsertionEffect=function(e,t){return Zn.current.useInsertionEffect(e,t)};We.useLayoutEffect=function(e,t){return Zn.current.useLayoutEffect(e,t)};We.useMemo=function(e,t){return Zn.current.useMemo(e,t)};We.useReducer=function(e,t,r){return Zn.current.useReducer(e,t,r)};We.useRef=function(e){return Zn.current.useRef(e)};We.useState=function(e){return Zn.current.useState(e)};We.useSyncExternalStore=function(e,t,r){return Zn.current.useSyncExternalStore(e,t,r)};We.useTransition=function(){return Zn.current.useTransition()};We.version="18.3.1";p3.exports=We;var w=p3.exports;const $s=ni(w),V7=C7({__proto__:null,default:$s},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W7=w,H7=Symbol.for("react.element"),K7=Symbol.for("react.fragment"),G7=Object.prototype.hasOwnProperty,q7=W7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Y7={key:!0,ref:!0,__self:!0,__source:!0};function k3(e,t,r){var n,a={},s=null,i=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)G7.call(t,n)&&!Y7.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:H7,type:e,key:s,ref:i,props:a,_owner:q7.current}}kg.Fragment=K7;kg.jsx=k3;kg.jsxs=k3;h3.exports=kg;var d=h3.exports,ob={},S3={exports:{}},Aa={},E3={exports:{}},C3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(X,I){var J=X.length;X.push(I);e:for(;0<J;){var Z=J-1>>>1,M=X[Z];if(0<a(M,I))X[Z]=I,X[J]=M,J=Z;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var I=X[0],J=X.pop();if(J!==I){X[0]=J;e:for(var Z=0,M=X.length,z=M>>>1;Z<z;){var G=2*(Z+1)-1,H=X[G],Q=G+1,oe=X[Q];if(0>a(H,J))Q<M&&0>a(oe,H)?(X[Z]=oe,X[Q]=J,Z=Q):(X[Z]=H,X[G]=J,Z=G);else if(Q<M&&0>a(oe,J))X[Z]=oe,X[Q]=J,Z=Q;else break e}}return I}function a(X,I){var J=X.sortIndex-I.sortIndex;return J!==0?J:X.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var l=[],c=[],u=1,f=null,h=3,p=!1,m=!1,v=!1,g=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(X){for(var I=r(c);I!==null;){if(I.callback===null)n(c);else if(I.startTime<=X)n(c),I.sortIndex=I.expirationTime,t(l,I);else break;I=r(c)}}function _(X){if(v=!1,y(X),!m)if(r(l)!==null)m=!0,q(S);else{var I=r(c);I!==null&&K(_,I.startTime-X)}}function S(X,I){m=!1,v&&(v=!1,x(C),C=-1),p=!0;var J=h;try{for(y(I),f=r(l);f!==null&&(!(f.expirationTime>I)||X&&!N());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var M=Z(f.expirationTime<=I);I=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),y(I)}else n(l);f=r(l)}if(f!==null)var z=!0;else{var G=r(c);G!==null&&K(_,G.startTime-I),z=!1}return z}finally{f=null,h=J,p=!1}}var k=!1,E=null,C=-1,T=5,A=-1;function N(){return!(e.unstable_now()-A<T)}function j(){if(E!==null){var X=e.unstable_now();A=X;var I=!0;try{I=E(!0,X)}finally{I?P():(k=!1,E=null)}}else k=!1}var P;if(typeof b=="function")P=function(){b(j)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,B=R.port2;R.port1.onmessage=j,P=function(){B.postMessage(null)}}else P=function(){g(j,0)};function q(X){E=X,k||(k=!0,P())}function K(X,I){C=g(function(){X(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(X){X.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,q(S))},e.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<X?Math.floor(1e3/X):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(X){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var J=h;h=I;try{return X()}finally{h=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(X,I){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var J=h;h=X;try{return I()}finally{h=J}},e.unstable_scheduleCallback=function(X,I,J){var Z=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Z+J:Z):J=Z,X){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,X={id:u++,callback:I,priorityLevel:X,startTime:J,expirationTime:M,sortIndex:-1},J>Z?(X.sortIndex=J,t(c,X),r(l)===null&&X===r(c)&&(v?(x(C),C=-1):v=!0,K(_,J-Z))):(X.sortIndex=M,t(l,X),m||p||(m=!0,q(S))),X},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(X){var I=h;return function(){var J=h;h=I;try{return X.apply(this,arguments)}finally{h=J}}}})(C3);E3.exports=C3;var X7=E3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z7=w,Sa=X7;function pe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var T3=new Set,Af={};function ic(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(Af[e]=t,e=0;e<t.length;e++)T3.add(t[e])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lb=Object.prototype.hasOwnProperty,J7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZC={},JC={};function Q7(e){return lb.call(JC,e)?!0:lb.call(ZC,e)?!1:J7.test(e)?JC[e]=!0:(ZC[e]=!0,!1)}function eU(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tU(e,t,r,n){if(t===null||typeof t>"u"||eU(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jn(e,t,r,n,a,s,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var mn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){mn[e]=new Jn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];mn[t]=new Jn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){mn[e]=new Jn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){mn[e]=new Jn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){mn[e]=new Jn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){mn[e]=new Jn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){mn[e]=new Jn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){mn[e]=new Jn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){mn[e]=new Jn(e,5,!1,e.toLowerCase(),null,!1,!1)});var a_=/[\-:]([a-z])/g;function s_(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(a_,s_);mn[t]=new Jn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(a_,s_);mn[t]=new Jn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(a_,s_);mn[t]=new Jn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){mn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!1,!1)});mn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){mn[e]=new Jn(e,1,!1,e.toLowerCase(),null,!0,!0)});function i_(e,t,r,n){var a=mn.hasOwnProperty(t)?mn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tU(t,r,a,n)&&(r=null),n||a===null?Q7(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ki=Z7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wh=Symbol.for("react.element"),Bc=Symbol.for("react.portal"),zc=Symbol.for("react.fragment"),o_=Symbol.for("react.strict_mode"),cb=Symbol.for("react.profiler"),A3=Symbol.for("react.provider"),j3=Symbol.for("react.context"),l_=Symbol.for("react.forward_ref"),ub=Symbol.for("react.suspense"),db=Symbol.for("react.suspense_list"),c_=Symbol.for("react.memo"),so=Symbol.for("react.lazy"),P3=Symbol.for("react.offscreen"),QC=Symbol.iterator;function wd(e){return e===null||typeof e!="object"?null:(e=QC&&e[QC]||e["@@iterator"],typeof e=="function"?e:null)}var Jt=Object.assign,gy;function Ud(e){if(gy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);gy=t&&t[1]||""}return`
`+gy+e}var xy=!1;function yy(e,t){if(!e||xy)return"";xy=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),s=n.stack.split(`
`),i=a.length-1,o=s.length-1;1<=i&&0<=o&&a[i]!==s[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==s[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==s[o]){var l=`
`+a[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=o);break}}}finally{xy=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ud(e):""}function rU(e){switch(e.tag){case 5:return Ud(e.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return e=yy(e.type,!1),e;case 11:return e=yy(e.type.render,!1),e;case 1:return e=yy(e.type,!0),e;default:return""}}function fb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zc:return"Fragment";case Bc:return"Portal";case cb:return"Profiler";case o_:return"StrictMode";case ub:return"Suspense";case db:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case j3:return(e.displayName||"Context")+".Consumer";case A3:return(e._context.displayName||"Context")+".Provider";case l_:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case c_:return t=e.displayName||null,t!==null?t:fb(e.type)||"Memo";case so:t=e._payload,e=e._init;try{return fb(e(t))}catch{}}return null}function nU(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fb(t);case 8:return t===o_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function aU(e){var t=N3(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Hh(e){e._valueTracker||(e._valueTracker=aU(e))}function O3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N3(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Em(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hb(e,t){var r=t.checked;return Jt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function eT(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Mo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function D3(e,t){t=t.checked,t!=null&&i_(e,"checked",t,!1)}function pb(e,t){D3(e,t);var r=Mo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mb(e,t.type,r):t.hasOwnProperty("defaultValue")&&mb(e,t.type,Mo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tT(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function mb(e,t,r){(t!=="number"||Em(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vd=Array.isArray;function lu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mo(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function vb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Jt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rT(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(pe(92));if(Vd(r)){if(1<r.length)throw Error(pe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Mo(r)}}function M3(e,t){var r=Mo(t.value),n=Mo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nT(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gb(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Kh,R3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Kh=Kh||document.createElement("div"),Kh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Kh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jf(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sU=["Webkit","ms","Moz","O"];Object.keys(tf).forEach(function(e){sU.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tf[t]=tf[e]})});function F3(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tf.hasOwnProperty(e)&&tf[e]?(""+t).trim():t+"px"}function L3(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=F3(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var iU=Jt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xb(e,t){if(t){if(iU[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(pe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(pe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(pe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(pe(62))}}function yb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bb=null;function u_(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wb=null,cu=null,uu=null;function aT(e){if(e=L0(e)){if(typeof wb!="function")throw Error(pe(280));var t=e.stateNode;t&&(t=Ag(t),wb(e.stateNode,e.type,t))}}function $3(e){cu?uu?uu.push(e):uu=[e]:cu=e}function B3(){if(cu){var e=cu,t=uu;if(uu=cu=null,aT(e),t)for(e=0;e<t.length;e++)aT(t[e])}}function z3(e,t){return e(t)}function U3(){}var by=!1;function V3(e,t,r){if(by)return e(t,r);by=!0;try{return z3(e,t,r)}finally{by=!1,(cu!==null||uu!==null)&&(U3(),B3())}}function Pf(e,t){var r=e.stateNode;if(r===null)return null;var n=Ag(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(pe(231,t,typeof r));return r}var _b=!1;if(Ni)try{var _d={};Object.defineProperty(_d,"passive",{get:function(){_b=!0}}),window.addEventListener("test",_d,_d),window.removeEventListener("test",_d,_d)}catch{_b=!1}function oU(e,t,r,n,a,s,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var rf=!1,Cm=null,Tm=!1,kb=null,lU={onError:function(e){rf=!0,Cm=e}};function cU(e,t,r,n,a,s,i,o,l){rf=!1,Cm=null,oU.apply(lU,arguments)}function uU(e,t,r,n,a,s,i,o,l){if(cU.apply(this,arguments),rf){if(rf){var c=Cm;rf=!1,Cm=null}else throw Error(pe(198));Tm||(Tm=!0,kb=c)}}function oc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function W3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sT(e){if(oc(e)!==e)throw Error(pe(188))}function dU(e){var t=e.alternate;if(!t){if(t=oc(e),t===null)throw Error(pe(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return sT(a),e;if(s===n)return sT(a),t;s=s.sibling}throw Error(pe(188))}if(r.return!==n.return)r=a,n=s;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=s;break}if(o===n){i=!0,n=a,r=s;break}o=o.sibling}if(!i){for(o=s.child;o;){if(o===r){i=!0,r=s,n=a;break}if(o===n){i=!0,n=s,r=a;break}o=o.sibling}if(!i)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?e:t}function H3(e){return e=dU(e),e!==null?K3(e):null}function K3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=K3(e);if(t!==null)return t;e=e.sibling}return null}var G3=Sa.unstable_scheduleCallback,iT=Sa.unstable_cancelCallback,fU=Sa.unstable_shouldYield,hU=Sa.unstable_requestPaint,pr=Sa.unstable_now,pU=Sa.unstable_getCurrentPriorityLevel,d_=Sa.unstable_ImmediatePriority,q3=Sa.unstable_UserBlockingPriority,Am=Sa.unstable_NormalPriority,mU=Sa.unstable_LowPriority,Y3=Sa.unstable_IdlePriority,Sg=null,Us=null;function vU(e){if(Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(Sg,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:yU,gU=Math.log,xU=Math.LN2;function yU(e){return e>>>=0,e===0?32:31-(gU(e)/xU|0)|0}var Gh=64,qh=4194304;function Wd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function jm(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Wd(o):(s&=i,s!==0&&(n=Wd(s)))}else i=r&~a,i!==0?n=Wd(i):s!==0&&(n=Wd(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bs(t),a=1<<r,n|=e[r],t&=~a;return n}function bU(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wU(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-bs(s),o=1<<i,l=a[i];l===-1?(!(o&r)||o&n)&&(a[i]=bU(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function Sb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X3(){var e=Gh;return Gh<<=1,!(Gh&4194240)&&(Gh=64),e}function wy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function R0(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=r}function _U(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-bs(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function f_(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ht=0;function Z3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J3,h_,Q3,eM,tM,Eb=!1,Yh=[],ko=null,So=null,Eo=null,Nf=new Map,Of=new Map,uo=[],kU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oT(e,t){switch(e){case"focusin":case"focusout":ko=null;break;case"dragenter":case"dragleave":So=null;break;case"mouseover":case"mouseout":Eo=null;break;case"pointerover":case"pointerout":Nf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Of.delete(t.pointerId)}}function kd(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=L0(t),t!==null&&h_(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function SU(e,t,r,n,a){switch(t){case"focusin":return ko=kd(ko,e,t,r,n,a),!0;case"dragenter":return So=kd(So,e,t,r,n,a),!0;case"mouseover":return Eo=kd(Eo,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return Nf.set(s,kd(Nf.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Of.set(s,kd(Of.get(s)||null,e,t,r,n,a)),!0}return!1}function rM(e){var t=bl(e.target);if(t!==null){var r=oc(t);if(r!==null){if(t=r.tag,t===13){if(t=W3(r),t!==null){e.blockedOn=t,tM(e.priority,function(){Q3(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bb=n,r.target.dispatchEvent(n),bb=null}else return t=L0(r),t!==null&&h_(t),e.blockedOn=r,!1;t.shift()}return!0}function lT(e,t,r){rm(e)&&r.delete(t)}function EU(){Eb=!1,ko!==null&&rm(ko)&&(ko=null),So!==null&&rm(So)&&(So=null),Eo!==null&&rm(Eo)&&(Eo=null),Nf.forEach(lT),Of.forEach(lT)}function Sd(e,t){e.blockedOn===t&&(e.blockedOn=null,Eb||(Eb=!0,Sa.unstable_scheduleCallback(Sa.unstable_NormalPriority,EU)))}function Df(e){function t(a){return Sd(a,e)}if(0<Yh.length){Sd(Yh[0],e);for(var r=1;r<Yh.length;r++){var n=Yh[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ko!==null&&Sd(ko,e),So!==null&&Sd(So,e),Eo!==null&&Sd(Eo,e),Nf.forEach(t),Of.forEach(t),r=0;r<uo.length;r++)n=uo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<uo.length&&(r=uo[0],r.blockedOn===null);)rM(r),r.blockedOn===null&&uo.shift()}var du=Ki.ReactCurrentBatchConfig,Pm=!0;function CU(e,t,r,n){var a=ht,s=du.transition;du.transition=null;try{ht=1,p_(e,t,r,n)}finally{ht=a,du.transition=s}}function TU(e,t,r,n){var a=ht,s=du.transition;du.transition=null;try{ht=4,p_(e,t,r,n)}finally{ht=a,du.transition=s}}function p_(e,t,r,n){if(Pm){var a=Cb(e,t,r,n);if(a===null)Ny(e,t,n,Nm,r),oT(e,n);else if(SU(a,e,t,r,n))n.stopPropagation();else if(oT(e,n),t&4&&-1<kU.indexOf(e)){for(;a!==null;){var s=L0(a);if(s!==null&&J3(s),s=Cb(e,t,r,n),s===null&&Ny(e,t,n,Nm,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Ny(e,t,n,null,r)}}var Nm=null;function Cb(e,t,r,n){if(Nm=null,e=u_(n),e=bl(e),e!==null)if(t=oc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=W3(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Nm=e,null}function nM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pU()){case d_:return 1;case q3:return 4;case Am:case mU:return 16;case Y3:return 536870912;default:return 16}default:return 16}}var vo=null,m_=null,nm=null;function aM(){if(nm)return nm;var e,t=m_,r=t.length,n,a="value"in vo?vo.value:vo.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[s-n];n++);return nm=a.slice(e,1<n?1-n:void 0)}function am(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xh(){return!0}function cT(){return!1}function ja(e){function t(r,n,a,s,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xh:cT,this.isPropagationStopped=cT,this}return Jt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v_=ja(qu),F0=Jt({},qu,{view:0,detail:0}),AU=ja(F0),_y,ky,Ed,Eg=Jt({},F0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:g_,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ed&&(Ed&&e.type==="mousemove"?(_y=e.screenX-Ed.screenX,ky=e.screenY-Ed.screenY):ky=_y=0,Ed=e),_y)},movementY:function(e){return"movementY"in e?e.movementY:ky}}),uT=ja(Eg),jU=Jt({},Eg,{dataTransfer:0}),PU=ja(jU),NU=Jt({},F0,{relatedTarget:0}),Sy=ja(NU),OU=Jt({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),DU=ja(OU),MU=Jt({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),IU=ja(MU),RU=Jt({},qu,{data:0}),dT=ja(RU),FU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$U={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$U[e])?!!t[e]:!1}function g_(){return BU}var zU=Jt({},F0,{key:function(e){if(e.key){var t=FU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=am(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?LU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:g_,charCode:function(e){return e.type==="keypress"?am(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?am(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),UU=ja(zU),VU=Jt({},Eg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fT=ja(VU),WU=Jt({},F0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:g_}),HU=ja(WU),KU=Jt({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),GU=ja(KU),qU=Jt({},Eg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),YU=ja(qU),XU=[9,13,27,32],x_=Ni&&"CompositionEvent"in window,nf=null;Ni&&"documentMode"in document&&(nf=document.documentMode);var ZU=Ni&&"TextEvent"in window&&!nf,sM=Ni&&(!x_||nf&&8<nf&&11>=nf),hT=" ",pT=!1;function iM(e,t){switch(e){case"keyup":return XU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uc=!1;function JU(e,t){switch(e){case"compositionend":return oM(t);case"keypress":return t.which!==32?null:(pT=!0,hT);case"textInput":return e=t.data,e===hT&&pT?null:e;default:return null}}function QU(e,t){if(Uc)return e==="compositionend"||!x_&&iM(e,t)?(e=aM(),nm=m_=vo=null,Uc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sM&&t.locale!=="ko"?null:t.data;default:return null}}var eV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mT(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!eV[e.type]:t==="textarea"}function lM(e,t,r,n){$3(n),t=Om(t,"onChange"),0<t.length&&(r=new v_("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var af=null,Mf=null;function tV(e){yM(e,0)}function Cg(e){var t=Hc(e);if(O3(t))return e}function rV(e,t){if(e==="change")return t}var cM=!1;if(Ni){var Ey;if(Ni){var Cy="oninput"in document;if(!Cy){var vT=document.createElement("div");vT.setAttribute("oninput","return;"),Cy=typeof vT.oninput=="function"}Ey=Cy}else Ey=!1;cM=Ey&&(!document.documentMode||9<document.documentMode)}function gT(){af&&(af.detachEvent("onpropertychange",uM),Mf=af=null)}function uM(e){if(e.propertyName==="value"&&Cg(Mf)){var t=[];lM(t,Mf,e,u_(e)),V3(tV,t)}}function nV(e,t,r){e==="focusin"?(gT(),af=t,Mf=r,af.attachEvent("onpropertychange",uM)):e==="focusout"&&gT()}function aV(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cg(Mf)}function sV(e,t){if(e==="click")return Cg(t)}function iV(e,t){if(e==="input"||e==="change")return Cg(t)}function oV(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:oV;function If(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!lb.call(t,a)||!Ss(e[a],t[a]))return!1}return!0}function xT(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yT(e,t){var r=xT(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xT(r)}}function dM(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dM(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fM(){for(var e=window,t=Em();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Em(e.document)}return t}function y_(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function lV(e){var t=fM(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&dM(r.ownerDocument.documentElement,r)){if(n!==null&&y_(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=yT(r,s);var i=yT(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cV=Ni&&"documentMode"in document&&11>=document.documentMode,Vc=null,Tb=null,sf=null,Ab=!1;function bT(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ab||Vc==null||Vc!==Em(n)||(n=Vc,"selectionStart"in n&&y_(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sf&&If(sf,n)||(sf=n,n=Om(Tb,"onSelect"),0<n.length&&(t=new v_("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Vc)))}function Zh(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wc={animationend:Zh("Animation","AnimationEnd"),animationiteration:Zh("Animation","AnimationIteration"),animationstart:Zh("Animation","AnimationStart"),transitionend:Zh("Transition","TransitionEnd")},Ty={},hM={};Ni&&(hM=document.createElement("div").style,"AnimationEvent"in window||(delete Wc.animationend.animation,delete Wc.animationiteration.animation,delete Wc.animationstart.animation),"TransitionEvent"in window||delete Wc.transitionend.transition);function Tg(e){if(Ty[e])return Ty[e];if(!Wc[e])return e;var t=Wc[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hM)return Ty[e]=t[r];return e}var pM=Tg("animationend"),mM=Tg("animationiteration"),vM=Tg("animationstart"),gM=Tg("transitionend"),xM=new Map,wT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ho(e,t){xM.set(e,t),ic(t,[e])}for(var Ay=0;Ay<wT.length;Ay++){var jy=wT[Ay],uV=jy.toLowerCase(),dV=jy[0].toUpperCase()+jy.slice(1);Ho(uV,"on"+dV)}Ho(pM,"onAnimationEnd");Ho(mM,"onAnimationIteration");Ho(vM,"onAnimationStart");Ho("dblclick","onDoubleClick");Ho("focusin","onFocus");Ho("focusout","onBlur");Ho(gM,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function _T(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,uU(n,t,void 0,e),e.currentTarget=null}function yM(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&a.isPropagationStopped())break e;_T(a,o,c),s=l}else for(i=0;i<n.length;i++){if(o=n[i],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&a.isPropagationStopped())break e;_T(a,o,c),s=l}}}if(Tm)throw e=kb,Tm=!1,kb=null,e}function Tt(e,t){var r=t[Db];r===void 0&&(r=t[Db]=new Set);var n=e+"__bubble";r.has(n)||(bM(t,e,2,!1),r.add(n))}function Py(e,t,r){var n=0;t&&(n|=4),bM(r,e,n,t)}var Jh="_reactListening"+Math.random().toString(36).slice(2);function Rf(e){if(!e[Jh]){e[Jh]=!0,T3.forEach(function(r){r!=="selectionchange"&&(fV.has(r)||Py(r,!1,e),Py(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jh]||(t[Jh]=!0,Py("selectionchange",!1,t))}}function bM(e,t,r,n){switch(nM(t)){case 1:var a=CU;break;case 4:a=TU;break;default:a=p_}r=a.bind(null,t,r,e),a=void 0,!_b||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Ny(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;i=i.return}for(;o!==null;){if(i=bl(o),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}o=o.parentNode}}n=n.return}V3(function(){var c=s,u=u_(r),f=[];e:{var h=xM.get(e);if(h!==void 0){var p=v_,m=e;switch(e){case"keypress":if(am(r)===0)break e;case"keydown":case"keyup":p=UU;break;case"focusin":m="focus",p=Sy;break;case"focusout":m="blur",p=Sy;break;case"beforeblur":case"afterblur":p=Sy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=uT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PU;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=HU;break;case pM:case mM:case vM:p=DU;break;case gM:p=GU;break;case"scroll":p=AU;break;case"wheel":p=YU;break;case"copy":case"cut":case"paste":p=IU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=fT}var v=(t&4)!==0,g=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=c,y;b!==null;){y=b;var _=y.stateNode;if(y.tag===5&&_!==null&&(y=_,x!==null&&(_=Pf(b,x),_!=null&&v.push(Ff(b,_,y)))),g)break;b=b.return}0<v.length&&(h=new p(h,m,null,r,u),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==bb&&(m=r.relatedTarget||r.fromElement)&&(bl(m)||m[Oi]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?bl(m):null,m!==null&&(g=oc(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(v=uT,_="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=fT,_="onPointerLeave",x="onPointerEnter",b="pointer"),g=p==null?h:Hc(p),y=m==null?h:Hc(m),h=new v(_,b+"leave",p,r,u),h.target=g,h.relatedTarget=y,_=null,bl(u)===c&&(v=new v(x,b+"enter",m,r,u),v.target=y,v.relatedTarget=g,_=v),g=_,p&&m)t:{for(v=p,x=m,b=0,y=v;y;y=wc(y))b++;for(y=0,_=x;_;_=wc(_))y++;for(;0<b-y;)v=wc(v),b--;for(;0<y-b;)x=wc(x),y--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=wc(v),x=wc(x)}v=null}else v=null;p!==null&&kT(f,h,p,v,!1),m!==null&&g!==null&&kT(f,g,m,v,!0)}}e:{if(h=c?Hc(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=rV;else if(mT(h))if(cM)S=iV;else{S=aV;var k=nV}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=sV);if(S&&(S=S(e,c))){lM(f,S,r,u);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&mb(h,"number",h.value)}switch(k=c?Hc(c):window,e){case"focusin":(mT(k)||k.contentEditable==="true")&&(Vc=k,Tb=c,sf=null);break;case"focusout":sf=Tb=Vc=null;break;case"mousedown":Ab=!0;break;case"contextmenu":case"mouseup":case"dragend":Ab=!1,bT(f,r,u);break;case"selectionchange":if(cV)break;case"keydown":case"keyup":bT(f,r,u)}var E;if(x_)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Uc?iM(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(sM&&r.locale!=="ko"&&(Uc||C!=="onCompositionStart"?C==="onCompositionEnd"&&Uc&&(E=aM()):(vo=u,m_="value"in vo?vo.value:vo.textContent,Uc=!0)),k=Om(c,C),0<k.length&&(C=new dT(C,e,null,r,u),f.push({event:C,listeners:k}),E?C.data=E:(E=oM(r),E!==null&&(C.data=E)))),(E=ZU?JU(e,r):QU(e,r))&&(c=Om(c,"onBeforeInput"),0<c.length&&(u=new dT("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}yM(f,t)})}function Ff(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Om(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Pf(e,r),s!=null&&n.unshift(Ff(e,s,a)),s=Pf(e,t),s!=null&&n.push(Ff(e,s,a))),e=e.return}return n}function wc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kT(e,t,r,n,a){for(var s=t._reactName,i=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Pf(r,s),l!=null&&i.unshift(Ff(r,l,o))):a||(l=Pf(r,s),l!=null&&i.push(Ff(r,l,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var hV=/\r\n?/g,pV=/\u0000|\uFFFD/g;function ST(e){return(typeof e=="string"?e:""+e).replace(hV,`
`).replace(pV,"")}function Qh(e,t,r){if(t=ST(t),ST(e)!==t&&r)throw Error(pe(425))}function Dm(){}var jb=null,Pb=null;function Nb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ob=typeof setTimeout=="function"?setTimeout:void 0,mV=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,vV=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(e){return ET.resolve(null).then(e).catch(gV)}:Ob;function gV(e){setTimeout(function(){throw e})}function Oy(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Df(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Df(t)}function Co(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function CT(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Yu=Math.random().toString(36).slice(2),Ms="__reactFiber$"+Yu,Lf="__reactProps$"+Yu,Oi="__reactContainer$"+Yu,Db="__reactEvents$"+Yu,xV="__reactListeners$"+Yu,yV="__reactHandles$"+Yu;function bl(e){var t=e[Ms];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oi]||r[Ms]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=CT(e);e!==null;){if(r=e[Ms])return r;e=CT(e)}return t}e=r,r=e.parentNode}return null}function L0(e){return e=e[Ms]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(pe(33))}function Ag(e){return e[Lf]||null}var Mb=[],Kc=-1;function Ko(e){return{current:e}}function Ot(e){0>Kc||(e.current=Mb[Kc],Mb[Kc]=null,Kc--)}function _t(e,t){Kc++,Mb[Kc]=e.current,e.current=t}var Io={},Dn=Ko(Io),oa=Ko(!1),zl=Io;function Cu(e,t){var r=e.type.contextTypes;if(!r)return Io;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function la(e){return e=e.childContextTypes,e!=null}function Mm(){Ot(oa),Ot(Dn)}function TT(e,t,r){if(Dn.current!==Io)throw Error(pe(168));_t(Dn,t),_t(oa,r)}function wM(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(pe(108,nU(e)||"Unknown",a));return Jt({},r,n)}function Im(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Io,zl=Dn.current,_t(Dn,e),_t(oa,oa.current),!0}function AT(e,t,r){var n=e.stateNode;if(!n)throw Error(pe(169));r?(e=wM(e,t,zl),n.__reactInternalMemoizedMergedChildContext=e,Ot(oa),Ot(Dn),_t(Dn,e)):Ot(oa),_t(oa,r)}var pi=null,jg=!1,Dy=!1;function _M(e){pi===null?pi=[e]:pi.push(e)}function bV(e){jg=!0,_M(e)}function Go(){if(!Dy&&pi!==null){Dy=!0;var e=0,t=ht;try{var r=pi;for(ht=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,jg=!1}catch(a){throw pi!==null&&(pi=pi.slice(e+1)),G3(d_,Go),a}finally{ht=t,Dy=!1}}return null}var Gc=[],qc=0,Rm=null,Fm=0,$a=[],Ba=0,Ul=null,xi=1,yi="";function cl(e,t){Gc[qc++]=Fm,Gc[qc++]=Rm,Rm=e,Fm=t}function kM(e,t,r){$a[Ba++]=xi,$a[Ba++]=yi,$a[Ba++]=Ul,Ul=e;var n=xi;e=yi;var a=32-bs(n)-1;n&=~(1<<a),r+=1;var s=32-bs(t)+a;if(30<s){var i=a-a%5;s=(n&(1<<i)-1).toString(32),n>>=i,a-=i,xi=1<<32-bs(t)+a|r<<a|n,yi=s+e}else xi=1<<s|r<<a|n,yi=e}function b_(e){e.return!==null&&(cl(e,1),kM(e,1,0))}function w_(e){for(;e===Rm;)Rm=Gc[--qc],Gc[qc]=null,Fm=Gc[--qc],Gc[qc]=null;for(;e===Ul;)Ul=$a[--Ba],$a[Ba]=null,yi=$a[--Ba],$a[Ba]=null,xi=$a[--Ba],$a[Ba]=null}var _a=null,ba=null,Lt=!1,ds=null;function SM(e,t){var r=za(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jT(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_a=e,ba=Co(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_a=e,ba=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ul!==null?{id:xi,overflow:yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=za(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_a=e,ba=null,!0):!1;default:return!1}}function Ib(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rb(e){if(Lt){var t=ba;if(t){var r=t;if(!jT(e,t)){if(Ib(e))throw Error(pe(418));t=Co(r.nextSibling);var n=_a;t&&jT(e,t)?SM(n,r):(e.flags=e.flags&-4097|2,Lt=!1,_a=e)}}else{if(Ib(e))throw Error(pe(418));e.flags=e.flags&-4097|2,Lt=!1,_a=e}}}function PT(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_a=e}function ep(e){if(e!==_a)return!1;if(!Lt)return PT(e),Lt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Nb(e.type,e.memoizedProps)),t&&(t=ba)){if(Ib(e))throw EM(),Error(pe(418));for(;t;)SM(e,t),t=Co(t.nextSibling)}if(PT(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(pe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ba=Co(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ba=null}}else ba=_a?Co(e.stateNode.nextSibling):null;return!0}function EM(){for(var e=ba;e;)e=Co(e.nextSibling)}function Tu(){ba=_a=null,Lt=!1}function __(e){ds===null?ds=[e]:ds.push(e)}var wV=Ki.ReactCurrentBatchConfig;function Cd(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(i){var o=a.refs;i===null?delete o[s]:o[s]=i},t._stringRef=s,t)}if(typeof e!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,e))}return e}function tp(e,t){throw e=Object.prototype.toString.call(t),Error(pe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function NT(e){var t=e._init;return t(e._payload)}function CM(e){function t(x,b){if(e){var y=x.deletions;y===null?(x.deletions=[b],x.flags|=16):y.push(b)}}function r(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function n(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function a(x,b){return x=Po(x,b),x.index=0,x.sibling=null,x}function s(x,b,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<b?(x.flags|=2,b):y):(x.flags|=2,b)):(x.flags|=1048576,b)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,y,_){return b===null||b.tag!==6?(b=By(y,x.mode,_),b.return=x,b):(b=a(b,y),b.return=x,b)}function l(x,b,y,_){var S=y.type;return S===zc?u(x,b,y.props.children,_,y.key):b!==null&&(b.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===so&&NT(S)===b.type)?(_=a(b,y.props),_.ref=Cd(x,b,y),_.return=x,_):(_=dm(y.type,y.key,y.props,null,x.mode,_),_.ref=Cd(x,b,y),_.return=x,_)}function c(x,b,y,_){return b===null||b.tag!==4||b.stateNode.containerInfo!==y.containerInfo||b.stateNode.implementation!==y.implementation?(b=zy(y,x.mode,_),b.return=x,b):(b=a(b,y.children||[]),b.return=x,b)}function u(x,b,y,_,S){return b===null||b.tag!==7?(b=Nl(y,x.mode,_,S),b.return=x,b):(b=a(b,y),b.return=x,b)}function f(x,b,y){if(typeof b=="string"&&b!==""||typeof b=="number")return b=By(""+b,x.mode,y),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Wh:return y=dm(b.type,b.key,b.props,null,x.mode,y),y.ref=Cd(x,null,b),y.return=x,y;case Bc:return b=zy(b,x.mode,y),b.return=x,b;case so:var _=b._init;return f(x,_(b._payload),y)}if(Vd(b)||wd(b))return b=Nl(b,x.mode,y,null),b.return=x,b;tp(x,b)}return null}function h(x,b,y,_){var S=b!==null?b.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:o(x,b,""+y,_);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wh:return y.key===S?l(x,b,y,_):null;case Bc:return y.key===S?c(x,b,y,_):null;case so:return S=y._init,h(x,b,S(y._payload),_)}if(Vd(y)||wd(y))return S!==null?null:u(x,b,y,_,null);tp(x,y)}return null}function p(x,b,y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(y)||null,o(b,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Wh:return x=x.get(_.key===null?y:_.key)||null,l(b,x,_,S);case Bc:return x=x.get(_.key===null?y:_.key)||null,c(b,x,_,S);case so:var k=_._init;return p(x,b,y,k(_._payload),S)}if(Vd(_)||wd(_))return x=x.get(y)||null,u(b,x,_,S,null);tp(b,_)}return null}function m(x,b,y,_){for(var S=null,k=null,E=b,C=b=0,T=null;E!==null&&C<y.length;C++){E.index>C?(T=E,E=null):T=E.sibling;var A=h(x,E,y[C],_);if(A===null){E===null&&(E=T);break}e&&E&&A.alternate===null&&t(x,E),b=s(A,b,C),k===null?S=A:k.sibling=A,k=A,E=T}if(C===y.length)return r(x,E),Lt&&cl(x,C),S;if(E===null){for(;C<y.length;C++)E=f(x,y[C],_),E!==null&&(b=s(E,b,C),k===null?S=E:k.sibling=E,k=E);return Lt&&cl(x,C),S}for(E=n(x,E);C<y.length;C++)T=p(E,x,C,y[C],_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?C:T.key),b=s(T,b,C),k===null?S=T:k.sibling=T,k=T);return e&&E.forEach(function(N){return t(x,N)}),Lt&&cl(x,C),S}function v(x,b,y,_){var S=wd(y);if(typeof S!="function")throw Error(pe(150));if(y=S.call(y),y==null)throw Error(pe(151));for(var k=S=null,E=b,C=b=0,T=null,A=y.next();E!==null&&!A.done;C++,A=y.next()){E.index>C?(T=E,E=null):T=E.sibling;var N=h(x,E,A.value,_);if(N===null){E===null&&(E=T);break}e&&E&&N.alternate===null&&t(x,E),b=s(N,b,C),k===null?S=N:k.sibling=N,k=N,E=T}if(A.done)return r(x,E),Lt&&cl(x,C),S;if(E===null){for(;!A.done;C++,A=y.next())A=f(x,A.value,_),A!==null&&(b=s(A,b,C),k===null?S=A:k.sibling=A,k=A);return Lt&&cl(x,C),S}for(E=n(x,E);!A.done;C++,A=y.next())A=p(E,x,C,A.value,_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?C:A.key),b=s(A,b,C),k===null?S=A:k.sibling=A,k=A);return e&&E.forEach(function(j){return t(x,j)}),Lt&&cl(x,C),S}function g(x,b,y,_){if(typeof y=="object"&&y!==null&&y.type===zc&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wh:e:{for(var S=y.key,k=b;k!==null;){if(k.key===S){if(S=y.type,S===zc){if(k.tag===7){r(x,k.sibling),b=a(k,y.props.children),b.return=x,x=b;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===so&&NT(S)===k.type){r(x,k.sibling),b=a(k,y.props),b.ref=Cd(x,k,y),b.return=x,x=b;break e}r(x,k);break}else t(x,k);k=k.sibling}y.type===zc?(b=Nl(y.props.children,x.mode,_,y.key),b.return=x,x=b):(_=dm(y.type,y.key,y.props,null,x.mode,_),_.ref=Cd(x,b,y),_.return=x,x=_)}return i(x);case Bc:e:{for(k=y.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===y.containerInfo&&b.stateNode.implementation===y.implementation){r(x,b.sibling),b=a(b,y.children||[]),b.return=x,x=b;break e}else{r(x,b);break}else t(x,b);b=b.sibling}b=zy(y,x.mode,_),b.return=x,x=b}return i(x);case so:return k=y._init,g(x,b,k(y._payload),_)}if(Vd(y))return m(x,b,y,_);if(wd(y))return v(x,b,y,_);tp(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,b!==null&&b.tag===6?(r(x,b.sibling),b=a(b,y),b.return=x,x=b):(r(x,b),b=By(y,x.mode,_),b.return=x,x=b),i(x)):r(x,b)}return g}var Au=CM(!0),TM=CM(!1),Lm=Ko(null),$m=null,Yc=null,k_=null;function S_(){k_=Yc=$m=null}function E_(e){var t=Lm.current;Ot(Lm),e._currentValue=t}function Fb(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function fu(e,t){$m=e,k_=Yc=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sa=!0),e.firstContext=null)}function Ka(e){var t=e._currentValue;if(k_!==e)if(e={context:e,memoizedValue:t,next:null},Yc===null){if($m===null)throw Error(pe(308));Yc=e,$m.dependencies={lanes:0,firstContext:e}}else Yc=Yc.next=e;return t}var wl=null;function C_(e){wl===null?wl=[e]:wl.push(e)}function AM(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,C_(t)):(r.next=a.next,a.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var io=!1;function T_(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jM(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ki(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function To(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Je&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Di(e,r)}return a=n.interleaved,a===null?(t.next=t,C_(n)):(t.next=a.next,a.next=t),n.interleaved=t,Di(e,r)}function sm(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,f_(e,r)}}function OT(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Bm(e,t,r,n){var a=e.updateQueue;io=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,i===null?s=c:i.next=c,i=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;i=0,u=c=l=null,o=s;do{var h=o.lane,p=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(h=t,p=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Jt({},f,h);break e;case 2:io=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Wl|=i,e.lanes=i,e.memoizedState=f}}function DT(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(pe(191,a));a.call(n)}}}var $0={},Vs=Ko($0),$f=Ko($0),Bf=Ko($0);function _l(e){if(e===$0)throw Error(pe(174));return e}function A_(e,t){switch(_t(Bf,t),_t($f,e),_t(Vs,$0),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gb(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gb(t,e)}Ot(Vs),_t(Vs,t)}function ju(){Ot(Vs),Ot($f),Ot(Bf)}function PM(e){_l(Bf.current);var t=_l(Vs.current),r=gb(t,e.type);t!==r&&(_t($f,e),_t(Vs,r))}function j_(e){$f.current===e&&(Ot(Vs),Ot($f))}var Gt=Ko(0);function zm(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var My=[];function P_(){for(var e=0;e<My.length;e++)My[e]._workInProgressVersionPrimary=null;My.length=0}var im=Ki.ReactCurrentDispatcher,Iy=Ki.ReactCurrentBatchConfig,Vl=0,Zt=null,Ir=null,Xr=null,Um=!1,of=!1,zf=0,_V=0;function bn(){throw Error(pe(321))}function N_(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ss(e[r],t[r]))return!1;return!0}function O_(e,t,r,n,a,s){if(Vl=s,Zt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,im.current=e===null||e.memoizedState===null?CV:TV,e=r(n,a),of){s=0;do{if(of=!1,zf=0,25<=s)throw Error(pe(301));s+=1,Xr=Ir=null,t.updateQueue=null,im.current=AV,e=r(n,a)}while(of)}if(im.current=Vm,t=Ir!==null&&Ir.next!==null,Vl=0,Xr=Ir=Zt=null,Um=!1,t)throw Error(pe(300));return e}function D_(){var e=zf!==0;return zf=0,e}function Os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?Zt.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function Ga(){if(Ir===null){var e=Zt.alternate;e=e!==null?e.memoizedState:null}else e=Ir.next;var t=Xr===null?Zt.memoizedState:Xr.next;if(t!==null)Xr=t,Ir=e;else{if(e===null)throw Error(pe(310));Ir=e,e={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},Xr===null?Zt.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function Uf(e,t){return typeof t=="function"?t(e):t}function Ry(e){var t=Ga(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=Ir,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var i=a.next;a.next=s.next,s.next=i}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var o=i=null,l=null,c=s;do{var u=c.lane;if((Vl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,i=n):l=l.next=f,Zt.lanes|=u,Wl|=u}c=c.next}while(c!==null&&c!==s);l===null?i=n:l.next=o,Ss(n,t.memoizedState)||(sa=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Zt.lanes|=s,Wl|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Fy(e){var t=Ga(),r=t.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do s=e(s,i.action),i=i.next;while(i!==a);Ss(s,t.memoizedState)||(sa=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function NM(){}function OM(e,t){var r=Zt,n=Ga(),a=t(),s=!Ss(n.memoizedState,a);if(s&&(n.memoizedState=a,sa=!0),n=n.queue,M_(IM.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,Vf(9,MM.bind(null,r,n,a,t),void 0,null),tn===null)throw Error(pe(349));Vl&30||DM(r,t,a)}return a}function DM(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MM(e,t,r,n){t.value=r,t.getSnapshot=n,RM(t)&&FM(e)}function IM(e,t,r){return r(function(){RM(t)&&FM(e)})}function RM(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ss(e,r)}catch{return!0}}function FM(e){var t=Di(e,1);t!==null&&ws(t,e,1,-1)}function MT(e){var t=Os();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:e},t.queue=e,e=e.dispatch=EV.bind(null,Zt,e),[t.memoizedState,e]}function Vf(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Zt.updateQueue,t===null?(t={lastEffect:null,stores:null},Zt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function LM(){return Ga().memoizedState}function om(e,t,r,n){var a=Os();Zt.flags|=e,a.memoizedState=Vf(1|t,r,void 0,n===void 0?null:n)}function Pg(e,t,r,n){var a=Ga();n=n===void 0?null:n;var s=void 0;if(Ir!==null){var i=Ir.memoizedState;if(s=i.destroy,n!==null&&N_(n,i.deps)){a.memoizedState=Vf(t,r,s,n);return}}Zt.flags|=e,a.memoizedState=Vf(1|t,r,s,n)}function IT(e,t){return om(8390656,8,e,t)}function M_(e,t){return Pg(2048,8,e,t)}function $M(e,t){return Pg(4,2,e,t)}function BM(e,t){return Pg(4,4,e,t)}function zM(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function UM(e,t,r){return r=r!=null?r.concat([e]):null,Pg(4,4,zM.bind(null,t,e),r)}function I_(){}function VM(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N_(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function WM(e,t){var r=Ga();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&N_(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function HM(e,t,r){return Vl&21?(Ss(r,t)||(r=X3(),Zt.lanes|=r,Wl|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sa=!0),e.memoizedState=r)}function kV(e,t){var r=ht;ht=r!==0&&4>r?r:4,e(!0);var n=Iy.transition;Iy.transition={};try{e(!1),t()}finally{ht=r,Iy.transition=n}}function KM(){return Ga().memoizedState}function SV(e,t,r){var n=jo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},GM(e))qM(t,r);else if(r=AM(e,t,r,n),r!==null){var a=Kn();ws(r,e,n,a),YM(r,t,n)}}function EV(e,t,r){var n=jo(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(GM(e))qM(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,o=s(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ss(o,i)){var l=t.interleaved;l===null?(a.next=a,C_(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=AM(e,t,a,n),r!==null&&(a=Kn(),ws(r,e,n,a),YM(r,t,n))}}function GM(e){var t=e.alternate;return e===Zt||t!==null&&t===Zt}function qM(e,t){of=Um=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YM(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,f_(e,r)}}var Vm={readContext:Ka,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},CV={readContext:Ka,useCallback:function(e,t){return Os().memoizedState=[e,t===void 0?null:t],e},useContext:Ka,useEffect:IT,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,om(4194308,4,zM.bind(null,t,e),r)},useLayoutEffect:function(e,t){return om(4194308,4,e,t)},useInsertionEffect:function(e,t){return om(4,2,e,t)},useMemo:function(e,t){var r=Os();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Os();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=SV.bind(null,Zt,e),[n.memoizedState,e]},useRef:function(e){var t=Os();return e={current:e},t.memoizedState=e},useState:MT,useDebugValue:I_,useDeferredValue:function(e){return Os().memoizedState=e},useTransition:function(){var e=MT(!1),t=e[0];return e=kV.bind(null,e[1]),Os().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Zt,a=Os();if(Lt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=t(),tn===null)throw Error(pe(349));Vl&30||DM(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,IT(IM.bind(null,n,s,e),[e]),n.flags|=2048,Vf(9,MM.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Os(),t=tn.identifierPrefix;if(Lt){var r=yi,n=xi;r=(n&~(1<<32-bs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=zf++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=_V++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},TV={readContext:Ka,useCallback:VM,useContext:Ka,useEffect:M_,useImperativeHandle:UM,useInsertionEffect:$M,useLayoutEffect:BM,useMemo:WM,useReducer:Ry,useRef:LM,useState:function(){return Ry(Uf)},useDebugValue:I_,useDeferredValue:function(e){var t=Ga();return HM(t,Ir.memoizedState,e)},useTransition:function(){var e=Ry(Uf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:NM,useSyncExternalStore:OM,useId:KM,unstable_isNewReconciler:!1},AV={readContext:Ka,useCallback:VM,useContext:Ka,useEffect:M_,useImperativeHandle:UM,useInsertionEffect:$M,useLayoutEffect:BM,useMemo:WM,useReducer:Fy,useRef:LM,useState:function(){return Fy(Uf)},useDebugValue:I_,useDeferredValue:function(e){var t=Ga();return Ir===null?t.memoizedState=e:HM(t,Ir.memoizedState,e)},useTransition:function(){var e=Fy(Uf)[0],t=Ga().memoizedState;return[e,t]},useMutableSource:NM,useSyncExternalStore:OM,useId:KM,unstable_isNewReconciler:!1};function ls(e,t){if(e&&e.defaultProps){t=Jt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Lb(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Jt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ng={isMounted:function(e){return(e=e._reactInternals)?oc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Kn(),a=jo(e),s=ki(n,a);s.payload=t,r!=null&&(s.callback=r),t=To(e,s,a),t!==null&&(ws(t,e,a,n),sm(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Kn(),a=jo(e),s=ki(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=To(e,s,a),t!==null&&(ws(t,e,a,n),sm(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Kn(),n=jo(e),a=ki(r,n);a.tag=2,t!=null&&(a.callback=t),t=To(e,a,n),t!==null&&(ws(t,e,n,r),sm(t,e,n))}};function RT(e,t,r,n,a,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,i):t.prototype&&t.prototype.isPureReactComponent?!If(r,n)||!If(a,s):!0}function XM(e,t,r){var n=!1,a=Io,s=t.contextType;return typeof s=="object"&&s!==null?s=Ka(s):(a=la(t)?zl:Dn.current,n=t.contextTypes,s=(n=n!=null)?Cu(e,a):Io),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ng,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function FT(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ng.enqueueReplaceState(t,t.state,null)}function $b(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},T_(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=Ka(s):(s=la(t)?zl:Dn.current,a.context=Cu(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Lb(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ng.enqueueReplaceState(a,a.state,null),Bm(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pu(e,t){try{var r="",n=t;do r+=rU(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ly(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Bb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jV=typeof WeakMap=="function"?WeakMap:Map;function ZM(e,t,r){r=ki(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hm||(Hm=!0,Xb=n),Bb(e,t)},r}function JM(e,t,r){r=ki(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Bb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Bb(e,t),typeof n!="function"&&(Ao===null?Ao=new Set([this]):Ao.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function LT(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new jV;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=VV.bind(null,e,t,r),t.then(e,e))}function $T(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function BT(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ki(-1,1),t.tag=2,To(r,t,1))),r.lanes|=1),e)}var PV=Ki.ReactCurrentOwner,sa=!1;function Ln(e,t,r,n){t.child=e===null?TM(t,null,r,n):Au(t,e.child,r,n)}function zT(e,t,r,n,a){r=r.render;var s=t.ref;return fu(t,a),n=O_(e,t,r,n,s,a),r=D_(),e!==null&&!sa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Lt&&r&&b_(t),t.flags|=1,Ln(e,t,n,a),t.child)}function UT(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!V_(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,QM(e,t,s,n,a)):(e=dm(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:If,r(i,n)&&e.ref===t.ref)return Mi(e,t,a)}return t.flags|=1,e=Po(s,n),e.ref=t.ref,e.return=t,t.child=e}function QM(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(If(s,n)&&e.ref===t.ref)if(sa=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(sa=!0);else return t.lanes=e.lanes,Mi(e,t,a)}return zb(e,t,r,n,a)}function eI(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Zc,ma),ma|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_t(Zc,ma),ma|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,_t(Zc,ma),ma|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,_t(Zc,ma),ma|=n;return Ln(e,t,a,r),t.child}function tI(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zb(e,t,r,n,a){var s=la(r)?zl:Dn.current;return s=Cu(t,s),fu(t,a),r=O_(e,t,r,n,s,a),n=D_(),e!==null&&!sa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mi(e,t,a)):(Lt&&n&&b_(t),t.flags|=1,Ln(e,t,r,a),t.child)}function VT(e,t,r,n,a){if(la(r)){var s=!0;Im(t)}else s=!1;if(fu(t,a),t.stateNode===null)lm(e,t),XM(t,r,n),$b(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=r.contextType;typeof c=="object"&&c!==null?c=Ka(c):(c=la(r)?zl:Dn.current,c=Cu(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||l!==c)&&FT(t,i,n,c),io=!1;var h=t.memoizedState;i.state=h,Bm(t,n,i,a),l=t.memoizedState,o!==n||h!==l||oa.current||io?(typeof u=="function"&&(Lb(t,r,u,n),l=t.memoizedState),(o=io||RT(t,r,o,n,h,l,c))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),i.props=n,i.state=l,i.context=c,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,jM(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ls(t.type,o),i.props=c,f=t.pendingProps,h=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ka(l):(l=la(r)?zl:Dn.current,l=Cu(t,l));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==l)&&FT(t,i,n,l),io=!1,h=t.memoizedState,i.state=h,Bm(t,n,i,a);var m=t.memoizedState;o!==f||h!==m||oa.current||io?(typeof p=="function"&&(Lb(t,r,p,n),m=t.memoizedState),(c=io||RT(t,r,c,n,h,m,l)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=l,n=c):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ub(e,t,r,n,s,a)}function Ub(e,t,r,n,a,s){tI(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&AT(t,r,!1),Mi(e,t,s);n=t.stateNode,PV.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Au(t,e.child,null,s),t.child=Au(t,null,o,s)):Ln(e,t,o,s),t.memoizedState=n.state,a&&AT(t,r,!0),t.child}function rI(e){var t=e.stateNode;t.pendingContext?TT(e,t.pendingContext,t.pendingContext!==t.context):t.context&&TT(e,t.context,!1),A_(e,t.containerInfo)}function WT(e,t,r,n,a){return Tu(),__(a),t.flags|=256,Ln(e,t,r,n),t.child}var Vb={dehydrated:null,treeContext:null,retryLane:0};function Wb(e){return{baseLanes:e,cachePool:null,transitions:null}}function nI(e,t,r){var n=t.pendingProps,a=Gt.current,s=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_t(Gt,a&1),e===null)return Rb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,s?(n=t.mode,s=t.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=Mg(i,n,0,null),e=Nl(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Wb(r),t.memoizedState=Vb,e):R_(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return NV(e,t,i,n,o,a,r);if(s){s=n.fallback,i=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Po(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?s=Po(o,s):(s=Nl(s,i,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,i=e.child.memoizedState,i=i===null?Wb(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=e.childLanes&~r,t.memoizedState=Vb,n}return s=e.child,e=s.sibling,n=Po(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function R_(e,t){return t=Mg({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function rp(e,t,r,n){return n!==null&&__(n),Au(t,e.child,null,r),e=R_(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function NV(e,t,r,n,a,s,i){if(r)return t.flags&256?(t.flags&=-257,n=Ly(Error(pe(422))),rp(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Mg({mode:"visible",children:n.children},a,0,null),s=Nl(s,a,i,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Au(t,e.child,null,i),t.child.memoizedState=Wb(i),t.memoizedState=Vb,s);if(!(t.mode&1))return rp(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(pe(419)),n=Ly(s,n,void 0),rp(e,t,i,n)}if(o=(i&e.childLanes)!==0,sa||o){if(n=tn,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Di(e,a),ws(n,e,a,-1))}return U_(),n=Ly(Error(pe(421))),rp(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=WV.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,ba=Co(a.nextSibling),_a=t,Lt=!0,ds=null,e!==null&&($a[Ba++]=xi,$a[Ba++]=yi,$a[Ba++]=Ul,xi=e.id,yi=e.overflow,Ul=t),t=R_(t,n.children),t.flags|=4096,t)}function HT(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Fb(e.return,t,r)}function $y(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function aI(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ln(e,t,n.children,r),n=Gt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&HT(e,r,t);else if(e.tag===19)HT(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_t(Gt,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&zm(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),$y(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&zm(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}$y(t,!0,r,null,s);break;case"together":$y(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function lm(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(pe(153));if(t.child!==null){for(e=t.child,r=Po(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Po(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function OV(e,t,r){switch(t.tag){case 3:rI(t),Tu();break;case 5:PM(t);break;case 1:la(t.type)&&Im(t);break;case 4:A_(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_t(Lm,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_t(Gt,Gt.current&1),t.flags|=128,null):r&t.child.childLanes?nI(e,t,r):(_t(Gt,Gt.current&1),e=Mi(e,t,r),e!==null?e.sibling:null);_t(Gt,Gt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return aI(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_t(Gt,Gt.current),n)break;return null;case 22:case 23:return t.lanes=0,eI(e,t,r)}return Mi(e,t,r)}var sI,Hb,iI,oI;sI=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Hb=function(){};iI=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_l(Vs.current);var s=null;switch(r){case"input":a=hb(e,a),n=hb(e,n),s=[];break;case"select":a=Jt({},a,{value:void 0}),n=Jt({},n,{value:void 0}),s=[];break;case"textarea":a=vb(e,a),n=vb(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Dm)}xb(r,n);var i;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Af.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(i in o)!o.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&o[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Af.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Tt("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};oI=function(e,t,r,n){r!==n&&(t.flags|=4)};function Td(e,t){if(!Lt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function DV(e,t,r){var n=t.pendingProps;switch(w_(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(t),null;case 1:return la(t.type)&&Mm(),wn(t),null;case 3:return n=t.stateNode,ju(),Ot(oa),Ot(Dn),P_(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ep(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ds!==null&&(Qb(ds),ds=null))),Hb(e,t),wn(t),null;case 5:j_(t);var a=_l(Bf.current);if(r=t.type,e!==null&&t.stateNode!=null)iI(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(pe(166));return wn(t),null}if(e=_l(Vs.current),ep(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Ms]=t,n[Lf]=s,e=(t.mode&1)!==0,r){case"dialog":Tt("cancel",n),Tt("close",n);break;case"iframe":case"object":case"embed":Tt("load",n);break;case"video":case"audio":for(a=0;a<Hd.length;a++)Tt(Hd[a],n);break;case"source":Tt("error",n);break;case"img":case"image":case"link":Tt("error",n),Tt("load",n);break;case"details":Tt("toggle",n);break;case"input":eT(n,s),Tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Tt("invalid",n);break;case"textarea":rT(n,s),Tt("invalid",n)}xb(r,s),a=null;for(var i in s)if(s.hasOwnProperty(i)){var o=s[i];i==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Qh(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Qh(n.textContent,o,e),a=["children",""+o]):Af.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&Tt("scroll",n)}switch(r){case"input":Hh(n),tT(n,s,!0);break;case"textarea":Hh(n),nT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Dm)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I3(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Ms]=t,e[Lf]=n,sI(e,t,!1,!1),t.stateNode=e;e:{switch(i=yb(r,n),r){case"dialog":Tt("cancel",e),Tt("close",e),a=n;break;case"iframe":case"object":case"embed":Tt("load",e),a=n;break;case"video":case"audio":for(a=0;a<Hd.length;a++)Tt(Hd[a],e);a=n;break;case"source":Tt("error",e),a=n;break;case"img":case"image":case"link":Tt("error",e),Tt("load",e),a=n;break;case"details":Tt("toggle",e),a=n;break;case"input":eT(e,n),a=hb(e,n),Tt("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Jt({},n,{value:void 0}),Tt("invalid",e);break;case"textarea":rT(e,n),a=vb(e,n),Tt("invalid",e);break;default:a=n}xb(r,a),o=a;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?L3(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R3(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&jf(e,l):typeof l=="number"&&jf(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Af.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Tt("scroll",e):l!=null&&i_(e,s,l,i))}switch(r){case"input":Hh(e),tT(e,n,!1);break;case"textarea":Hh(e),nT(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Mo(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?lu(e,!!n.multiple,s,!1):n.defaultValue!=null&&lu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Dm)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wn(t),null;case 6:if(e&&t.stateNode!=null)oI(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(pe(166));if(r=_l(Bf.current),_l(Vs.current),ep(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ms]=t,(s=n.nodeValue!==r)&&(e=_a,e!==null))switch(e.tag){case 3:Qh(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qh(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ms]=t,t.stateNode=n}return wn(t),null;case 13:if(Ot(Gt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Lt&&ba!==null&&t.mode&1&&!(t.flags&128))EM(),Tu(),t.flags|=98560,s=!1;else if(s=ep(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(pe(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(pe(317));s[Ms]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wn(t),s=!1}else ds!==null&&(Qb(ds),ds=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Gt.current&1?Fr===0&&(Fr=3):U_())),t.updateQueue!==null&&(t.flags|=4),wn(t),null);case 4:return ju(),Hb(e,t),e===null&&Rf(t.stateNode.containerInfo),wn(t),null;case 10:return E_(t.type._context),wn(t),null;case 17:return la(t.type)&&Mm(),wn(t),null;case 19:if(Ot(Gt),s=t.memoizedState,s===null)return wn(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Td(s,!1);else{if(Fr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=zm(e),i!==null){for(t.flags|=128,Td(s,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,e=i.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _t(Gt,Gt.current&1|2),t.child}e=e.sibling}s.tail!==null&&pr()>Nu&&(t.flags|=128,n=!0,Td(s,!1),t.lanes=4194304)}else{if(!n)if(e=zm(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Td(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!Lt)return wn(t),null}else 2*pr()-s.renderingStartTime>Nu&&r!==1073741824&&(t.flags|=128,n=!0,Td(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(r=s.last,r!==null?r.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pr(),t.sibling=null,r=Gt.current,_t(Gt,n?r&1|2:r&1),t):(wn(t),null);case 22:case 23:return z_(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ma&1073741824&&(wn(t),t.subtreeFlags&6&&(t.flags|=8192)):wn(t),null;case 24:return null;case 25:return null}throw Error(pe(156,t.tag))}function MV(e,t){switch(w_(t),t.tag){case 1:return la(t.type)&&Mm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ju(),Ot(oa),Ot(Dn),P_(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return j_(t),null;case 13:if(Ot(Gt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(pe(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ot(Gt),null;case 4:return ju(),null;case 10:return E_(t.type._context),null;case 22:case 23:return z_(),null;case 24:return null;default:return null}}var np=!1,En=!1,IV=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Xc(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){sr(e,t,n)}else r.current=null}function Kb(e,t,r){try{r()}catch(n){sr(e,t,n)}}var KT=!1;function RV(e,t){if(jb=Pm,e=fM(),y_(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==s||n!==0&&f.nodeType!==3||(l=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=i),h===s&&++u===n&&(l=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pb={focusedElem:e,selectionRange:r},Pm=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,g=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:ls(t.type,v),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(_){sr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return m=KT,KT=!1,m}function lf(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Kb(t,r,s)}a=a.next}while(a!==n)}}function Og(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Gb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lI(e){var t=e.alternate;t!==null&&(e.alternate=null,lI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ms],delete t[Lf],delete t[Db],delete t[xV],delete t[yV])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cI(e){return e.tag===5||e.tag===3||e.tag===4}function GT(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Dm));else if(n!==4&&(e=e.child,e!==null))for(qb(e,t,r),e=e.sibling;e!==null;)qb(e,t,r),e=e.sibling}function Yb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yb(e,t,r),e=e.sibling;e!==null;)Yb(e,t,r),e=e.sibling}var cn=null,cs=!1;function eo(e,t,r){for(r=r.child;r!==null;)uI(e,t,r),r=r.sibling}function uI(e,t,r){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(Sg,r)}catch{}switch(r.tag){case 5:En||Xc(r,t);case 6:var n=cn,a=cs;cn=null,eo(e,t,r),cn=n,cs=a,cn!==null&&(cs?(e=cn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cn.removeChild(r.stateNode));break;case 18:cn!==null&&(cs?(e=cn,r=r.stateNode,e.nodeType===8?Oy(e.parentNode,r):e.nodeType===1&&Oy(e,r),Df(e)):Oy(cn,r.stateNode));break;case 4:n=cn,a=cs,cn=r.stateNode.containerInfo,cs=!0,eo(e,t,r),cn=n,cs=a;break;case 0:case 11:case 14:case 15:if(!En&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Kb(r,t,i),a=a.next}while(a!==n)}eo(e,t,r);break;case 1:if(!En&&(Xc(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){sr(r,t,o)}eo(e,t,r);break;case 21:eo(e,t,r);break;case 22:r.mode&1?(En=(n=En)||r.memoizedState!==null,eo(e,t,r),En=n):eo(e,t,r);break;default:eo(e,t,r)}}function qT(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new IV),t.forEach(function(n){var a=HV.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function rs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:cn=o.stateNode,cs=!1;break e;case 3:cn=o.stateNode.containerInfo,cs=!0;break e;case 4:cn=o.stateNode.containerInfo,cs=!0;break e}o=o.return}if(cn===null)throw Error(pe(160));uI(s,i,a),cn=null,cs=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){sr(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dI(t,e),t=t.sibling}function dI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rs(t,e),js(e),n&4){try{lf(3,e,e.return),Og(3,e)}catch(v){sr(e,e.return,v)}try{lf(5,e,e.return)}catch(v){sr(e,e.return,v)}}break;case 1:rs(t,e),js(e),n&512&&r!==null&&Xc(r,r.return);break;case 5:if(rs(t,e),js(e),n&512&&r!==null&&Xc(r,r.return),e.flags&32){var a=e.stateNode;try{jf(a,"")}catch(v){sr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,i=r!==null?r.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&D3(a,s),yb(o,i);var c=yb(o,s);for(i=0;i<l.length;i+=2){var u=l[i],f=l[i+1];u==="style"?L3(a,f):u==="dangerouslySetInnerHTML"?R3(a,f):u==="children"?jf(a,f):i_(a,u,f,c)}switch(o){case"input":pb(a,s);break;case"textarea":M3(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?lu(a,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?lu(a,!!s.multiple,s.defaultValue,!0):lu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Lf]=s}catch(v){sr(e,e.return,v)}}break;case 6:if(rs(t,e),js(e),n&4){if(e.stateNode===null)throw Error(pe(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){sr(e,e.return,v)}}break;case 3:if(rs(t,e),js(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Df(t.containerInfo)}catch(v){sr(e,e.return,v)}break;case 4:rs(t,e),js(e);break;case 13:rs(t,e),js(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||($_=pr())),n&4&&qT(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(En=(c=En)||u,rs(t,e),En=c):rs(t,e),js(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Te=e,u=e.child;u!==null;){for(f=Te=u;Te!==null;){switch(h=Te,p=h.child,h.tag){case 0:case 11:case 14:case 15:lf(4,h,h.return);break;case 1:Xc(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){sr(n,r,v)}}break;case 5:Xc(h,h.return);break;case 22:if(h.memoizedState!==null){XT(f);continue}}p!==null?(p.return=h,Te=p):XT(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=F3("display",i))}catch(v){sr(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){sr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rs(t,e),js(e),n&4&&qT(e);break;case 21:break;default:rs(t,e),js(e)}}function js(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cI(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(jf(a,""),n.flags&=-33);var s=GT(e);Yb(e,s,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=GT(e);qb(e,o,i);break;default:throw Error(pe(161))}}catch(l){sr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function FV(e,t,r){Te=e,fI(e)}function fI(e,t,r){for(var n=(e.mode&1)!==0;Te!==null;){var a=Te,s=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||np;if(!i){var o=a.alternate,l=o!==null&&o.memoizedState!==null||En;o=np;var c=En;if(np=i,(En=l)&&!c)for(Te=a;Te!==null;)i=Te,l=i.child,i.tag===22&&i.memoizedState!==null?ZT(a):l!==null?(l.return=i,Te=l):ZT(a);for(;s!==null;)Te=s,fI(s),s=s.sibling;Te=a,np=o,En=c}YT(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Te=s):YT(e)}}function YT(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:En||Og(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!En)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ls(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&DT(t,s,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}DT(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Df(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}En||t.flags&512&&Gb(t)}catch(h){sr(t,t.return,h)}}if(t===e){Te=null;break}if(r=t.sibling,r!==null){r.return=t.return,Te=r;break}Te=t.return}}function XT(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Te=r;break}Te=t.return}}function ZT(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Og(4,t)}catch(l){sr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){sr(t,a,l)}}var s=t.return;try{Gb(t)}catch(l){sr(t,s,l)}break;case 5:var i=t.return;try{Gb(t)}catch(l){sr(t,i,l)}}}catch(l){sr(t,t.return,l)}if(t===e){Te=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Te=o;break}Te=t.return}}var LV=Math.ceil,Wm=Ki.ReactCurrentDispatcher,F_=Ki.ReactCurrentOwner,Wa=Ki.ReactCurrentBatchConfig,Je=0,tn=null,Cr=null,fn=0,ma=0,Zc=Ko(0),Fr=0,Wf=null,Wl=0,Dg=0,L_=0,cf=null,na=null,$_=0,Nu=1/0,fi=null,Hm=!1,Xb=null,Ao=null,ap=!1,go=null,Km=0,uf=0,Zb=null,cm=-1,um=0;function Kn(){return Je&6?pr():cm!==-1?cm:cm=pr()}function jo(e){return e.mode&1?Je&2&&fn!==0?fn&-fn:wV.transition!==null?(um===0&&(um=X3()),um):(e=ht,e!==0||(e=window.event,e=e===void 0?16:nM(e.type)),e):1}function ws(e,t,r,n){if(50<uf)throw uf=0,Zb=null,Error(pe(185));R0(e,r,n),(!(Je&2)||e!==tn)&&(e===tn&&(!(Je&2)&&(Dg|=r),Fr===4&&fo(e,fn)),ca(e,n),r===1&&Je===0&&!(t.mode&1)&&(Nu=pr()+500,jg&&Go()))}function ca(e,t){var r=e.callbackNode;wU(e,t);var n=jm(e,e===tn?fn:0);if(n===0)r!==null&&iT(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&iT(r),t===1)e.tag===0?bV(JT.bind(null,e)):_M(JT.bind(null,e)),vV(function(){!(Je&6)&&Go()}),r=null;else{switch(Z3(n)){case 1:r=d_;break;case 4:r=q3;break;case 16:r=Am;break;case 536870912:r=Y3;break;default:r=Am}r=bI(r,hI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hI(e,t){if(cm=-1,um=0,Je&6)throw Error(pe(327));var r=e.callbackNode;if(hu()&&e.callbackNode!==r)return null;var n=jm(e,e===tn?fn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Gm(e,n);else{t=n;var a=Je;Je|=2;var s=mI();(tn!==e||fn!==t)&&(fi=null,Nu=pr()+500,Pl(e,t));do try{zV();break}catch(o){pI(e,o)}while(!0);S_(),Wm.current=s,Je=a,Cr!==null?t=0:(tn=null,fn=0,t=Fr)}if(t!==0){if(t===2&&(a=Sb(e),a!==0&&(n=a,t=Jb(e,a))),t===1)throw r=Wf,Pl(e,0),fo(e,n),ca(e,pr()),r;if(t===6)fo(e,n);else{if(a=e.current.alternate,!(n&30)&&!$V(a)&&(t=Gm(e,n),t===2&&(s=Sb(e),s!==0&&(n=s,t=Jb(e,s))),t===1))throw r=Wf,Pl(e,0),fo(e,n),ca(e,pr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(pe(345));case 2:ul(e,na,fi);break;case 3:if(fo(e,n),(n&130023424)===n&&(t=$_+500-pr(),10<t)){if(jm(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Kn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ob(ul.bind(null,e,na,fi),t);break}ul(e,na,fi);break;case 4:if(fo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-bs(n);s=1<<i,i=t[i],i>a&&(a=i),n&=~s}if(n=a,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LV(n/1960))-n,10<n){e.timeoutHandle=Ob(ul.bind(null,e,na,fi),n);break}ul(e,na,fi);break;case 5:ul(e,na,fi);break;default:throw Error(pe(329))}}}return ca(e,pr()),e.callbackNode===r?hI.bind(null,e):null}function Jb(e,t){var r=cf;return e.current.memoizedState.isDehydrated&&(Pl(e,t).flags|=256),e=Gm(e,t),e!==2&&(t=na,na=r,t!==null&&Qb(t)),e}function Qb(e){na===null?na=e:na.push.apply(na,e)}function $V(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Ss(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fo(e,t){for(t&=~L_,t&=~Dg,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bs(t),n=1<<r;e[r]=-1,t&=~n}}function JT(e){if(Je&6)throw Error(pe(327));hu();var t=jm(e,0);if(!(t&1))return ca(e,pr()),null;var r=Gm(e,t);if(e.tag!==0&&r===2){var n=Sb(e);n!==0&&(t=n,r=Jb(e,n))}if(r===1)throw r=Wf,Pl(e,0),fo(e,t),ca(e,pr()),r;if(r===6)throw Error(pe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ul(e,na,fi),ca(e,pr()),null}function B_(e,t){var r=Je;Je|=1;try{return e(t)}finally{Je=r,Je===0&&(Nu=pr()+500,jg&&Go())}}function Hl(e){go!==null&&go.tag===0&&!(Je&6)&&hu();var t=Je;Je|=1;var r=Wa.transition,n=ht;try{if(Wa.transition=null,ht=1,e)return e()}finally{ht=n,Wa.transition=r,Je=t,!(Je&6)&&Go()}}function z_(){ma=Zc.current,Ot(Zc)}function Pl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mV(r)),Cr!==null)for(r=Cr.return;r!==null;){var n=r;switch(w_(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mm();break;case 3:ju(),Ot(oa),Ot(Dn),P_();break;case 5:j_(n);break;case 4:ju();break;case 13:Ot(Gt);break;case 19:Ot(Gt);break;case 10:E_(n.type._context);break;case 22:case 23:z_()}r=r.return}if(tn=e,Cr=e=Po(e.current,null),fn=ma=t,Fr=0,Wf=null,L_=Dg=Wl=0,na=cf=null,wl!==null){for(t=0;t<wl.length;t++)if(r=wl[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=a,n.next=i}r.pending=n}wl=null}return e}function pI(e,t){do{var r=Cr;try{if(S_(),im.current=Vm,Um){for(var n=Zt.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Um=!1}if(Vl=0,Xr=Ir=Zt=null,of=!1,zf=0,F_.current=null,r===null||r.return===null){Fr=1,Wf=t,Cr=null;break}e:{var s=e,i=r.return,o=r,l=t;if(t=fn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=$T(i);if(p!==null){p.flags&=-257,BT(p,i,o,s,t),p.mode&1&&LT(s,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){LT(s,c,t),U_();break e}l=Error(pe(426))}}else if(Lt&&o.mode&1){var g=$T(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),BT(g,i,o,s,t),__(Pu(l,o));break e}}s=l=Pu(l,o),Fr!==4&&(Fr=2),cf===null?cf=[s]:cf.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var x=ZM(s,l,t);OT(s,x);break e;case 1:o=l;var b=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ao===null||!Ao.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=JM(s,o,t);OT(s,_);break e}}s=s.return}while(s!==null)}gI(r)}catch(S){t=S,Cr===r&&r!==null&&(Cr=r=r.return);continue}break}while(!0)}function mI(){var e=Wm.current;return Wm.current=Vm,e===null?Vm:e}function U_(){(Fr===0||Fr===3||Fr===2)&&(Fr=4),tn===null||!(Wl&268435455)&&!(Dg&268435455)||fo(tn,fn)}function Gm(e,t){var r=Je;Je|=2;var n=mI();(tn!==e||fn!==t)&&(fi=null,Pl(e,t));do try{BV();break}catch(a){pI(e,a)}while(!0);if(S_(),Je=r,Wm.current=n,Cr!==null)throw Error(pe(261));return tn=null,fn=0,Fr}function BV(){for(;Cr!==null;)vI(Cr)}function zV(){for(;Cr!==null&&!fU();)vI(Cr)}function vI(e){var t=yI(e.alternate,e,ma);e.memoizedProps=e.pendingProps,t===null?gI(e):Cr=t,F_.current=null}function gI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=MV(r,t),r!==null){r.flags&=32767,Cr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fr=6,Cr=null;return}}else if(r=DV(r,t,ma),r!==null){Cr=r;return}if(t=t.sibling,t!==null){Cr=t;return}Cr=t=e}while(t!==null);Fr===0&&(Fr=5)}function ul(e,t,r){var n=ht,a=Wa.transition;try{Wa.transition=null,ht=1,UV(e,t,r,n)}finally{Wa.transition=a,ht=n}return null}function UV(e,t,r,n){do hu();while(go!==null);if(Je&6)throw Error(pe(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(pe(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(_U(e,s),e===tn&&(Cr=tn=null,fn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ap||(ap=!0,bI(Am,function(){return hu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wa.transition,Wa.transition=null;var i=ht;ht=1;var o=Je;Je|=4,F_.current=null,RV(e,r),dI(r,e),lV(Pb),Pm=!!jb,Pb=jb=null,e.current=r,FV(r),hU(),Je=o,ht=i,Wa.transition=s}else e.current=r;if(ap&&(ap=!1,go=e,Km=a),s=e.pendingLanes,s===0&&(Ao=null),vU(r.stateNode),ca(e,pr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hm)throw Hm=!1,e=Xb,Xb=null,e;return Km&1&&e.tag!==0&&hu(),s=e.pendingLanes,s&1?e===Zb?uf++:(uf=0,Zb=e):uf=0,Go(),null}function hu(){if(go!==null){var e=Z3(Km),t=Wa.transition,r=ht;try{if(Wa.transition=null,ht=16>e?16:e,go===null)var n=!1;else{if(e=go,go=null,Km=0,Je&6)throw Error(pe(331));var a=Je;for(Je|=4,Te=e.current;Te!==null;){var s=Te,i=s.child;if(Te.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Te=c;Te!==null;){var u=Te;switch(u.tag){case 0:case 11:case 15:lf(8,u,s)}var f=u.child;if(f!==null)f.return=u,Te=f;else for(;Te!==null;){u=Te;var h=u.sibling,p=u.return;if(lI(u),u===c){Te=null;break}if(h!==null){h.return=p,Te=h;break}Te=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var g=v.sibling;v.sibling=null,v=g}while(v!==null)}}Te=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,Te=i;else e:for(;Te!==null;){if(s=Te,s.flags&2048)switch(s.tag){case 0:case 11:case 15:lf(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Te=x;break e}Te=s.return}}var b=e.current;for(Te=b;Te!==null;){i=Te;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,Te=y;else e:for(i=b;Te!==null;){if(o=Te,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Og(9,o)}}catch(S){sr(o,o.return,S)}if(o===i){Te=null;break e}var _=o.sibling;if(_!==null){_.return=o.return,Te=_;break e}Te=o.return}}if(Je=a,Go(),Us&&typeof Us.onPostCommitFiberRoot=="function")try{Us.onPostCommitFiberRoot(Sg,e)}catch{}n=!0}return n}finally{ht=r,Wa.transition=t}}return!1}function QT(e,t,r){t=Pu(r,t),t=ZM(e,t,1),e=To(e,t,1),t=Kn(),e!==null&&(R0(e,1,t),ca(e,t))}function sr(e,t,r){if(e.tag===3)QT(e,e,r);else for(;t!==null;){if(t.tag===3){QT(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ao===null||!Ao.has(n))){e=Pu(r,e),e=JM(t,e,1),t=To(t,e,1),e=Kn(),t!==null&&(R0(t,1,e),ca(t,e));break}}t=t.return}}function VV(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Kn(),e.pingedLanes|=e.suspendedLanes&r,tn===e&&(fn&r)===r&&(Fr===4||Fr===3&&(fn&130023424)===fn&&500>pr()-$_?Pl(e,0):L_|=r),ca(e,t)}function xI(e,t){t===0&&(e.mode&1?(t=qh,qh<<=1,!(qh&130023424)&&(qh=4194304)):t=1);var r=Kn();e=Di(e,t),e!==null&&(R0(e,t,r),ca(e,r))}function WV(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),xI(e,r)}function HV(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(t),xI(e,r)}var yI;yI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||oa.current)sa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sa=!1,OV(e,t,r);sa=!!(e.flags&131072)}else sa=!1,Lt&&t.flags&1048576&&kM(t,Fm,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;lm(e,t),e=t.pendingProps;var a=Cu(t,Dn.current);fu(t,r),a=O_(null,t,n,e,a,r);var s=D_();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,la(n)?(s=!0,Im(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,T_(t),a.updater=Ng,t.stateNode=a,a._reactInternals=t,$b(t,n,e,r),t=Ub(null,t,n,!0,s,r)):(t.tag=0,Lt&&s&&b_(t),Ln(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(lm(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=GV(n),e=ls(n,e),a){case 0:t=zb(null,t,n,e,r);break e;case 1:t=VT(null,t,n,e,r);break e;case 11:t=zT(null,t,n,e,r);break e;case 14:t=UT(null,t,n,ls(n.type,e),r);break e}throw Error(pe(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),zb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),VT(e,t,n,a,r);case 3:e:{if(rI(t),e===null)throw Error(pe(387));n=t.pendingProps,s=t.memoizedState,a=s.element,jM(e,t),Bm(t,n,null,r);var i=t.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Pu(Error(pe(423)),t),t=WT(e,t,n,r,a);break e}else if(n!==a){a=Pu(Error(pe(424)),t),t=WT(e,t,n,r,a);break e}else for(ba=Co(t.stateNode.containerInfo.firstChild),_a=t,Lt=!0,ds=null,r=TM(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Tu(),n===a){t=Mi(e,t,r);break e}Ln(e,t,n,r)}t=t.child}return t;case 5:return PM(t),e===null&&Rb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,i=a.children,Nb(n,a)?i=null:s!==null&&Nb(n,s)&&(t.flags|=32),tI(e,t),Ln(e,t,i,r),t.child;case 6:return e===null&&Rb(t),null;case 13:return nI(e,t,r);case 4:return A_(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Au(t,null,n,r):Ln(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),zT(e,t,n,a,r);case 7:return Ln(e,t,t.pendingProps,r),t.child;case 8:return Ln(e,t,t.pendingProps.children,r),t.child;case 12:return Ln(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,i=a.value,_t(Lm,n._currentValue),n._currentValue=i,s!==null)if(Ss(s.value,i)){if(s.children===a.children&&!oa.current){t=Mi(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){i=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=ki(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Fb(s.return,r,t),o.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===t.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error(pe(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),Fb(i,r,t),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===t){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}Ln(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,fu(t,r),a=Ka(a),n=n(a),t.flags|=1,Ln(e,t,n,r),t.child;case 14:return n=t.type,a=ls(n,t.pendingProps),a=ls(n.type,a),UT(e,t,n,a,r);case 15:return QM(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ls(n,a),lm(e,t),t.tag=1,la(n)?(e=!0,Im(t)):e=!1,fu(t,r),XM(t,n,a),$b(t,n,a,r),Ub(null,t,n,!0,e,r);case 19:return aI(e,t,r);case 22:return eI(e,t,r)}throw Error(pe(156,t.tag))};function bI(e,t){return G3(e,t)}function KV(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function za(e,t,r,n){return new KV(e,t,r,n)}function V_(e){return e=e.prototype,!(!e||!e.isReactComponent)}function GV(e){if(typeof e=="function")return V_(e)?1:0;if(e!=null){if(e=e.$$typeof,e===l_)return 11;if(e===c_)return 14}return 2}function Po(e,t){var r=e.alternate;return r===null?(r=za(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function dm(e,t,r,n,a,s){var i=2;if(n=e,typeof e=="function")V_(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case zc:return Nl(r.children,a,s,t);case o_:i=8,a|=8;break;case cb:return e=za(12,r,t,a|2),e.elementType=cb,e.lanes=s,e;case ub:return e=za(13,r,t,a),e.elementType=ub,e.lanes=s,e;case db:return e=za(19,r,t,a),e.elementType=db,e.lanes=s,e;case P3:return Mg(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case A3:i=10;break e;case j3:i=9;break e;case l_:i=11;break e;case c_:i=14;break e;case so:i=16,n=null;break e}throw Error(pe(130,e==null?e:typeof e,""))}return t=za(i,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Nl(e,t,r,n){return e=za(7,e,n,t),e.lanes=r,e}function Mg(e,t,r,n){return e=za(22,e,n,t),e.elementType=P3,e.lanes=r,e.stateNode={isHidden:!1},e}function By(e,t,r){return e=za(6,e,null,t),e.lanes=r,e}function zy(e,t,r){return t=za(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qV(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wy(0),this.expirationTimes=wy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function W_(e,t,r,n,a,s,i,o,l){return e=new qV(e,t,r,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=za(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},T_(s),e}function YV(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bc,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wI(e){if(!e)return Io;e=e._reactInternals;e:{if(oc(e)!==e||e.tag!==1)throw Error(pe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(la(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(pe(171))}if(e.tag===1){var r=e.type;if(la(r))return wM(e,r,t)}return t}function _I(e,t,r,n,a,s,i,o,l){return e=W_(r,n,!0,e,a,s,i,o,l),e.context=wI(null),r=e.current,n=Kn(),a=jo(r),s=ki(n,a),s.callback=t??null,To(r,s,a),e.current.lanes=a,R0(e,a,n),ca(e,n),e}function Ig(e,t,r,n){var a=t.current,s=Kn(),i=jo(a);return r=wI(r),t.context===null?t.context=r:t.pendingContext=r,t=ki(s,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=To(a,t,i),e!==null&&(ws(e,a,i,s),sm(e,a,i)),i}function qm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function H_(e,t){eA(e,t),(e=e.alternate)&&eA(e,t)}function XV(){return null}var kI=typeof reportError=="function"?reportError:function(e){console.error(e)};function K_(e){this._internalRoot=e}Rg.prototype.render=K_.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(pe(409));Ig(e,t,null,null)};Rg.prototype.unmount=K_.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hl(function(){Ig(null,e,null,null)}),t[Oi]=null}};function Rg(e){this._internalRoot=e}Rg.prototype.unstable_scheduleHydration=function(e){if(e){var t=eM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<uo.length&&t!==0&&t<uo[r].priority;r++);uo.splice(r,0,e),r===0&&rM(e)}};function G_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tA(){}function ZV(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var c=qm(i);s.call(c)}}var i=_I(t,n,e,0,null,!1,!1,"",tA);return e._reactRootContainer=i,e[Oi]=i.current,Rf(e.nodeType===8?e.parentNode:e),Hl(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=qm(l);o.call(c)}}var l=W_(e,0,!1,null,null,!1,!1,"",tA);return e._reactRootContainer=l,e[Oi]=l.current,Rf(e.nodeType===8?e.parentNode:e),Hl(function(){Ig(t,l,r,n)}),l}function Lg(e,t,r,n,a){var s=r._reactRootContainer;if(s){var i=s;if(typeof a=="function"){var o=a;a=function(){var l=qm(i);o.call(l)}}Ig(t,i,e,a)}else i=ZV(r,t,e,a,n);return qm(i)}J3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wd(t.pendingLanes);r!==0&&(f_(t,r|1),ca(t,pr()),!(Je&6)&&(Nu=pr()+500,Go()))}break;case 13:Hl(function(){var n=Di(e,1);if(n!==null){var a=Kn();ws(n,e,1,a)}}),H_(e,1)}};h_=function(e){if(e.tag===13){var t=Di(e,134217728);if(t!==null){var r=Kn();ws(t,e,134217728,r)}H_(e,134217728)}};Q3=function(e){if(e.tag===13){var t=jo(e),r=Di(e,t);if(r!==null){var n=Kn();ws(r,e,t,n)}H_(e,t)}};eM=function(){return ht};tM=function(e,t){var r=ht;try{return ht=e,t()}finally{ht=r}};wb=function(e,t,r){switch(t){case"input":if(pb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ag(n);if(!a)throw Error(pe(90));O3(n),pb(n,a)}}}break;case"textarea":M3(e,r);break;case"select":t=r.value,t!=null&&lu(e,!!r.multiple,t,!1)}};z3=B_;U3=Hl;var JV={usingClientEntryPoint:!1,Events:[L0,Hc,Ag,$3,B3,B_]},Ad={findFiberByHostInstance:bl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QV={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H3(e),e===null?null:e.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance||XV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{Sg=sp.inject(QV),Us=sp}catch{}}Aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JV;Aa.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G_(t))throw Error(pe(200));return YV(e,t,null,r)};Aa.createRoot=function(e,t){if(!G_(e))throw Error(pe(299));var r=!1,n="",a=kI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=W_(e,1,!1,null,null,r,!1,n,a),e[Oi]=t.current,Rf(e.nodeType===8?e.parentNode:e),new K_(t)};Aa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(pe(188)):(e=Object.keys(e).join(","),Error(pe(268,e)));return e=H3(t),e=e===null?null:e.stateNode,e};Aa.flushSync=function(e){return Hl(e)};Aa.hydrate=function(e,t,r){if(!Fg(t))throw Error(pe(200));return Lg(null,e,t,!0,r)};Aa.hydrateRoot=function(e,t,r){if(!G_(e))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",i=kI;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=_I(t,null,e,1,r??null,a,!1,s,i),e[Oi]=t.current,Rf(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Rg(t)};Aa.render=function(e,t,r){if(!Fg(t))throw Error(pe(200));return Lg(null,e,t,!1,r)};Aa.unmountComponentAtNode=function(e){if(!Fg(e))throw Error(pe(40));return e._reactRootContainer?(Hl(function(){Lg(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};Aa.unstable_batchedUpdates=B_;Aa.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fg(r))throw Error(pe(200));if(e==null||e._reactInternals===void 0)throw Error(pe(38));return Lg(e,t,r,!1,n)};Aa.version="18.3.1-next-f1338f8080-20240426";function SI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SI)}catch(e){console.error(e)}}SI(),S3.exports=Aa;var B0=S3.exports,rA=B0;ob.createRoot=rA.createRoot,ob.hydrateRoot=rA.hydrateRoot;/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tW=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=e=>{const t=tW(e);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nW=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:i,...o},l)=>w.createElement("svg",{ref:l,...rW,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:EI("lucide",a),...!s&&!nW(o)&&{"aria-hidden":"true"},...o},[...i.map(([c,u])=>w.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=w.forwardRef(({className:n,...a},s)=>w.createElement(aW,{ref:s,iconNode:t,className:EI(`lucide-${eW(nA(e))}`,`lucide-${e}`,n),...a}));return r.displayName=nA(e),r};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iW=xe("activity",sW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],lW=xe("archive",oW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],uW=xe("arrow-down-right",cW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],q_=xe("arrow-down",dW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aA=xe("arrow-left",fW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Y_=xe("arrow-right",hW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],pa=xe("arrow-up-down",pW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vW=xe("arrow-up-right",mW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],X_=xe("arrow-up",gW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],sA=xe("beaker",xW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],CI=xe("book-open",yW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],kl=xe("calculator",bW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],lc=xe("calendar",wW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Z_=xe("chart-column",_W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Hf=xe("chart-no-axes-column",kW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],TI=xe("chart-pie",SW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J_=xe("check",EW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],$g=xe("chevron-down",CW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z0=xe("chevron-left",TW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],U0=xe("chevron-right",AW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Es=xe("circle-alert",jW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zr=xe("circle-check-big",PW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ew=xe("circle-check",NW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],DW=xe("circle-question-mark",OW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],AI=xe("circle-x",MW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ym=xe("clock",IW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RW=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Kf=xe("cloud-upload",RW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],LW=xe("credit-card",FW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $W=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Q_=xe("database",$W);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xu=xe("dollar-sign",BW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],V0=xe("download",zW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],VW=xe("ellipsis",UW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HW=xe("eye",WW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KW=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Xm=xe("file-text",KW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GW=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],jI=xe("flask-conical",GW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],W0=xe("funnel",qW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],iA=xe("grid-3x3",YW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XW=[["path",{d:"M19.414 14.414C21 12.828 22 11.5 22 9.5a5.5 5.5 0 0 0-9.591-3.676.6.6 0 0 1-.818.001A5.5 5.5 0 0 0 2 9.5c0 2.3 1.5 4 3 5.5l5.535 5.362a2 2 0 0 0 2.879.052 2.12 2.12 0 0 0-.004-3 2.124 2.124 0 1 0 3-3 2.124 2.124 0 0 0 3.004 0 2 2 0 0 0 0-2.828l-1.881-1.882a2.41 2.41 0 0 0-3.409 0l-1.71 1.71a2 2 0 0 1-2.828 0 2 2 0 0 1 0-2.828l2.823-2.762",key:"17lmqv"}]],ZW=xe("heart-handshake",XW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JW=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],QW=xe("history",JW);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],aa=xe("info",eH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PI=xe("layout-dashboard",tH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Zm=xe("lightbulb",rH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],aH=xe("link",nH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iH=xe("list",sH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oH=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gs=xe("loader-circle",oH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],cH=xe("loader",lH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uH=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],dH=xe("log-out",uH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fH=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],hH=xe("mail",fH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pH=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],mH=xe("map",pH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vH=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],oA=xe("menu",vH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gH=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],xH=xe("message-circle",gH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yH=[["path",{d:"M5 12h14",key:"1ays0h"}]],Zu=xe("minus",yH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bH=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],wH=xe("moon",bH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _H=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],kH=xe("mouse-pointer",_H);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SH=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],EH=xe("octagon-alert",SH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CH=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],TH=xe("package",CH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ek=xe("pen",AH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tk=xe("plus",jH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NH=xe("refresh-cw",PH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OH=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],DH=xe("rotate-ccw",OH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ju=xe("save",MH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],rk=xe("search",IH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],FH=xe("send",RH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$H=xe("settings",LH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BH=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],zH=xe("share-2",BH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],lA=xe("shield-check",UH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],WH=xe("sparkles",VH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],KH=xe("tag",HH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gi=xe("target",GH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Kl=xe("trash-2",qH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Qu=xe("trending-down",YH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Mn=xe("trending-up",XH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pu=xe("triangle-alert",ZH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Bg=xe("upload",JH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],NI=xe("user",QH);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],OI=xe("users",eK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],DI=xe("wallet",tK);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Za=xe("x",rK),nK=({onFileSelect:e,onLoadSimulatedData:t,loading:r,error:n,totalActivities:a})=>{const s=w.useRef(null),i=c=>{var f;const u=(f=c.target.files)==null?void 0:f[0];u&&e(u)},o=c=>{c.preventDefault(),c.stopPropagation()},l=c=>{var f;c.preventDefault(),c.stopPropagation();const u=(f=c.dataTransfer.files)==null?void 0:f[0];u&&u.name.toLowerCase().endsWith(".csv")&&e(u)};return d.jsxs("div",{className:"w-full max-w-xl mx-auto space-y-6",children:[d.jsxs("div",{onDragOver:o,onDrop:l,onClick:()=>{var c;return(c=s.current)==null?void 0:c.click()},className:`
          border-2 border-dashed rounded-xl p-10 text-center cursor-pointer transition-all duration-300
          border-slate-700 hover:border-blue-400 hover:bg-slate-800/50
        `,children:[d.jsx("input",{ref:s,type:"file",accept:".csv",onChange:i,className:"hidden"}),d.jsxs("div",{className:"flex flex-col items-center gap-4",children:[d.jsx("div",{className:"p-4 rounded-full bg-slate-800",children:d.jsx(Bg,{className:"w-8 h-8 text-slate-400"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-lg font-medium text-slate-200",children:"Arraste e solte seu CSV aqui"}),d.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"ou clique para selecionar do computador"})]})]})]}),t&&d.jsx("div",{className:"flex items-center justify-center gap-3 pt-4 border-t border-slate-800/50",children:d.jsxs("button",{onClick:t,disabled:r,className:"text-sm text-slate-400 hover:text-blue-400 transition-colors flex items-center gap-2 px-4 py-2 rounded-lg hover:bg-slate-800/50",children:[d.jsx("span",{children:""}),d.jsx("span",{children:"Ativar Modo Teste (Dados Simulados)"})]})}),r&&d.jsxs("div",{className:"flex items-center justify-center gap-3 text-blue-400 bg-blue-400/10 p-4 rounded-lg animate-pulse",children:[d.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}),d.jsx("span",{className:"font-medium",children:"Processando dados..."})]}),n&&d.jsxs("div",{className:"mt-4 p-3 bg-red-900 border border-red-700 rounded flex items-start gap-2",children:[d.jsx(Es,{className:"w-5 h-5 text-red-400 flex-shrink-0 mt-0.5"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-red-300 font-medium",children:"Erro ao processar"}),d.jsx("p",{className:"text-red-400 text-sm whitespace-pre-wrap",children:n})]})]}),a!==void 0&&a>0&&!r&&!n&&d.jsxs("div",{className:"mt-4 p-3 bg-green-900 border border-green-700 rounded flex items-center gap-2",children:[d.jsx(Zr,{className:"w-5 h-5 text-green-400"}),d.jsxs("span",{className:"text-green-300",children:[" ",a," atividades carregadas com sucesso"]})]})]})},cA=e=>{let t;const r=new Set,n=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=u??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(p=>p(t,h))}},a=()=>t,o={setState:n,getState:a,getInitialState:()=>l,subscribe:c=>(r.add(c),()=>r.delete(c))},l=t=e(n,a,o);return o},aK=e=>e?cA(e):cA,sK=e=>e;function iK(e,t=sK){const r=$s.useSyncExternalStore(e.subscribe,$s.useCallback(()=>t(e.getState()),[e,t]),$s.useCallback(()=>t(e.getInitialState()),[e,t]));return $s.useDebugValue(r),r}const oK=e=>{const t=aK(e),r=n=>iK(t,n);return Object.assign(r,t),r},nk=e=>oK;function MI(e,t){let r;try{r=e()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=r.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>r.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>r.removeItem(a)}}const tw=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return tw(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return tw(n)(r)}}}},lK=(e,t)=>(r,n,a)=>{let s={storage:MI(()=>localStorage),partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...t},i=!1;const o=new Set,l=new Set;let c=s.storage;if(!c)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(...v)},n,a);const u=()=>{const v=s.partialize({...n()});return c.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,g)=>(f(v,g),u());const h=e((...v)=>(r(...v),u()),n,a);a.getInitialState=()=>h;let p;const m=()=>{var v,g;if(!c)return;i=!1,o.forEach(b=>{var y;return b((y=n())!=null?y:h)});const x=((g=s.onRehydrateStorage)==null?void 0:g.call(s,(v=n())!=null?v:h))||void 0;return tw(c.getItem.bind(c))(s.name).then(b=>{if(b)if(typeof b.version=="number"&&b.version!==s.version){if(s.migrate){const y=s.migrate(b.state,b.version);return y instanceof Promise?y.then(_=>[!0,_]):[!0,y]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,b.state];return[!1,void 0]}).then(b=>{var y;const[_,S]=b;if(p=s.merge(S,(y=n())!=null?y:h),r(p,!0),_)return u()}).then(()=>{x==null||x(p,void 0),p=n(),i=!0,l.forEach(b=>b(p))}).catch(b=>{x==null||x(void 0,b)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(c=v.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||m(),p||h},ak=lK;function zg(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function cK(e,t){let r;const n=()=>{if(r)return r;const a=indexedDB.open(e);return a.onupgradeneeded=()=>a.result.createObjectStore(t),r=zg(a),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(a,s)=>n().then(i=>s(i.transaction(t,a).objectStore(t)))}let Uy;function sk(){return Uy||(Uy=cK("keyval-store","keyval")),Uy}function uK(e,t=sk()){return t("readonly",r=>zg(r.get(e)))}function dK(e,t,r=sk()){return r("readwrite",n=>(n.put(t,e),zg(n.transaction)))}function fK(e,t=sk()){return t("readwrite",r=>(r.delete(e),zg(r.transaction)))}const hK={getItem:async e=>await uK(e)||null,setItem:async(e,t)=>{await dK(e,t)},removeItem:async e=>{await fK(e)}},uA={bu:[],canais:[],jornadas:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos",dataInicio:"",dataFim:""},mt=nk()(ak(e=>({frameworkData:[],activities:[],goals:[],journal:[],viewSettings:{periodo:{inicio:"",fim:""},abaAtual:"launch",filtrosGlobais:uA,modoTempoJornada:"diario",perspective:"crm"},setPerspective:t=>e(r=>({viewSettings:{...r.viewSettings,perspective:t}})),setFrameworkData:(t,r)=>e({frameworkData:t,activities:r}),setActivities:t=>e({activities:t}),setGoals:t=>e({goals:t}),addJournalEntry:t=>e(r=>({journal:[...r.journal,t]})),updateJournalEntry:(t,r)=>e(n=>({journal:n.journal.map(a=>a.id===t?{...a,...r}:a)})),updateActivity:(t,r)=>e(n=>({activities:n.activities.map(a=>a.id===t?{...a,...r}:a)})),addActivity:t=>e(r=>({activities:[...r.activities.filter(n=>n.id!==t.id),t]})),removeActivity:t=>e(r=>({activities:r.activities.filter(n=>n.id!==t)})),setGlobalFilters:t=>e(r=>({viewSettings:{...r.viewSettings,filtrosGlobais:{...r.viewSettings.filtrosGlobais,...t}}})),resetFilters:()=>e(t=>({viewSettings:{...t.viewSettings,filtrosGlobais:uA}})),setTab:t=>e(r=>({viewSettings:{...r.viewSettings,abaAtual:t}})),setPeriodo:(t,r)=>e(n=>({viewSettings:{...n.viewSettings,periodo:{inicio:t,fim:r}}})),b2cData:[],setB2CData:t=>e({b2cData:t}),paidMediaData:[],setPaidMediaData:t=>e({paidMediaData:t}),budgets:[],setBudgets:t=>e({budgets:t}),alertConfig:{share_crm_limiar:10,ativar_anomalias:!0},setAlertConfig:t=>e({alertConfig:t})}),{name:"app-storage",storage:MI(()=>hK),partialize:e=>({frameworkData:e.frameworkData,activities:e.activities,goals:e.goals,journal:e.journal,b2cData:e.b2cData,paidMediaData:e.paidMediaData,budgets:e.budgets,viewSettings:{...e.viewSettings,abaAtual:"launch",perspective:"crm"},alertConfig:e.alertConfig}),onRehydrateStorage:()=>e=>{e&&(e.activities&&e.activities.forEach(t=>{typeof t.dataDisparo=="string"&&(t.dataDisparo=new Date(t.dataDisparo))}),e.frameworkData&&e.frameworkData.forEach(t=>{t["Data de Disparo"]&&typeof t["Data de Disparo"]=="string"&&(t["Data de Disparo"]=new Date(t["Data de Disparo"]))}))}})),pK=({availableCanais:e=[],availableJornadas:t=[],availableSegmentos:r=[],availableParceiros:n=[],countByCanal:a={},countByJornada:s={},countBySegmento:i={},countByParceiro:o={}})=>{const{viewSettings:l,setGlobalFilters:c}=mt(),u=l.filtrosGlobais,f=(x,b)=>{const y=u[x],_=y.includes(b)?y.filter(S=>S!==b):[...y,b];c({[x]:_})},h=(x,b)=>{const y=u[x];if(b.every(S=>y.includes(S))){const S=y.filter(k=>!b.includes(k));c({[x]:S})}else{const S=b.filter(k=>!y.includes(k));c({[x]:[...y,...S]})}},p=(x,b)=>{const y=u[x];return b.length>0&&b.every(_=>y.includes(_))},m=()=>{c({canais:[],segmentos:[],parceiros:[],ofertas:[],disparado:"Todos"})},v=u.canais.length>0||u.jornadas.length>0||u.segmentos.length>0||u.parceiros.length>0,g=({title:x,icon:b,items:y,field:_,counts:S,align:k="left"})=>{if(y.length===0)return null;const E=u[_].length,C=p(_,y),T=E>0;return d.jsxs("div",{className:"relative group",children:[d.jsxs("button",{className:`flex items-center gap-2 px-3 py-2 rounded-lg transition border shadow-sm ${T?"bg-slate-800 border-slate-700 text-white":"bg-slate-900/50 border-transparent hover:bg-slate-800 text-slate-300"}`,children:[d.jsx(b,{size:16,className:T?"text-blue-400":"text-slate-400"}),d.jsx("span",{className:"text-sm font-medium",children:x}),T&&d.jsx("span",{className:"bg-slate-700 text-slate-300 text-[10px] px-1.5 py-0.5 rounded-full ml-1 border border-slate-600",children:E}),d.jsx($g,{size:14,className:"opacity-50 group-hover:opacity-100 transition-opacity"})]}),d.jsxs("div",{className:`absolute top-full mt-2 w-64 bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-2 z-50 invisible group-hover:visible opacity-0 group-hover:opacity-100 transition-all duration-200 transform origin-top-left ${k==="right"?"right-0 origin-top-right":"left-0 origin-top-left"}`,children:[d.jsxs("div",{className:"flex items-center justify-between px-2 py-1 mb-2 border-b border-slate-800",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:x}),d.jsx("button",{onClick:()=>h(_,y),className:"text-[10px] text-blue-400 hover:text-blue-300 font-medium",children:C?"Desmarcar Todos":"Selecionar Todos"})]}),d.jsx("div",{className:"max-h-64 overflow-y-auto space-y-1 custom-scrollbar",children:y.map(A=>d.jsxs("label",{onClick:N=>{N.preventDefault(),f(_,A)},className:"flex items-center gap-3 cursor-pointer p-2 hover:bg-slate-800 rounded-lg transition group/item",children:[d.jsx("div",{className:`w-4 h-4 rounded border flex items-center justify-center transition ${u[_].includes(A)?"bg-slate-600 border-slate-500":"border-slate-600 group-hover/item:border-slate-500"}`,children:u[_].includes(A)&&d.jsx(J_,{size:10,className:"text-white"})}),d.jsx("span",{className:"text-slate-300 text-sm truncate flex-1",children:A}),d.jsxs("span",{className:"text-slate-500 text-xs",children:["(",S[A]||0,")"]})]},A))})]})]})};return d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(g,{title:"Canais",icon:xH,items:e,field:"canais",counts:a}),d.jsx(g,{title:"Jornadas",icon:mH,items:t,field:"jornadas",counts:s}),d.jsx(g,{title:"Segmentos",icon:OI,items:r,field:"segmentos",counts:i}),d.jsx(g,{title:"Parceiros",icon:ZW,items:n,field:"parceiros",counts:o,align:"right"}),v&&d.jsx("div",{className:"h-6 w-px bg-slate-700 mx-2"}),v&&d.jsxs("button",{onClick:m,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-400 hover:text-red-400 hover:bg-red-400/10 rounded-lg transition",children:[d.jsx(Za,{size:14}),"Limpar"]})]})};function Ug(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function mK(e,t,r,n){function a(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function o(u){try{c(n.next(u))}catch(f){i(f)}}function l(u){try{c(n.throw(u))}catch(f){i(f)}}function c(u){u.done?s(u.value):a(u.value).then(o,l)}c((n=n.apply(e,t||[])).next())})}const vK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ik extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class gK extends ik{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class dA extends ik{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class fA extends ik{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var rw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(rw||(rw={}));class xK{constructor(t,{headers:r={},customFetch:n,region:a=rw.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=vK(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return mK(this,arguments,void 0,function*(r,n={}){var a;let s,i;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=n;let h={},{region:p}=n;p||(p=this.region);const m=new URL(`${this.url}/${r}`);p&&p!=="any"&&(h["x-region"]=p,m.searchParams.set("forceFunctionRegion",p));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(h["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(h["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let g=u;f&&(i=new AbortController,s=setTimeout(()=>i.abort(),f),u?(g=i.signal,u.addEventListener("abort",()=>i.abort())):g=i.signal);const x=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:g}).catch(S=>{throw new gK(S)}),b=x.headers.get("x-relay-error");if(b&&b==="true")throw new dA(x);if(!x.ok)throw new fA(x);let y=((a=x.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),_;return y==="application/json"?_=yield x.json():y==="application/octet-stream"||y==="application/pdf"?_=yield x.blob():y==="text/event-stream"?_=x:y==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof fA||o instanceof dA?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var yK=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},bK=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let i=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var f,h;if(r.method!=="HEAD"){var p;const x=await s.text();x===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((p=r.headers.get("Accept"))===null||p===void 0)&&p.includes("application/vnd.pgrst.plan+text"))?o=x:o=JSON.parse(x))}const v=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),g=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");v&&g&&g.length>1&&(l=parseInt(g[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(i={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const v=await s.text();try{i=JSON.parse(v),Array.isArray(i)&&s.status===404&&(o=[],i=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):i={message:v}}if(i&&r.isMaybeSingle&&(!(i==null||(m=i.details)===null||m===void 0)&&m.includes("0 rows"))&&(i=null,c=200,u="OK"),i&&r.shouldThrowOnError)throw new yK(i)}return{error:i,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(a=a.catch(s=>{var i;let o="";const l=s==null?void 0:s.cause;if(l){var c,u,f,h;const m=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",v=(u=l==null?void 0:l.code)!==null&&u!==void 0?u:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"Error"}: ${m}`,v&&(o+=` (${v})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var p;o=(p=s==null?void 0:s.stack)!==null&&p!==void 0?p:""}return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},wK=class extends bK{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const s=a?`${a}.order`:"order",i=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}={}){var i;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const hA=new RegExp("[,()]");var Ic=class extends wK{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&hA.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},_K=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let s=!1;const i=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",i),n&&l.append("Prefer",`count=${n}`),new Ic({method:a,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST",{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new Ic({method:a,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var s;const i="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",u.join(","))}}return new Ic({method:i,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:a,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Ic({method:n,url:a,headers:s,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new Ic({method:r,url:n,headers:a,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},kK=class II{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new _K(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new II(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:s}={}){var i;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=p=>p!==null&&typeof p=="object"&&(!Array.isArray(p)||p.some(u)),f=n&&Object.values(r).some(u);f?(o="POST",c=r):n||a?(o=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{l.searchParams.append(p,m)})):(o="POST",c=r);const h=new Headers(this.headers);return f?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Ic({method:o,url:l,headers:h,schema:this.schemaName,body:c,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class SK{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,s=parseInt(a.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const EK="2.93.1",CK=`realtime-js/${EK}`,TK="1.0.0",RI="2.0.0",pA=RI,nw=1e4,AK=1e3,jK=100;var oo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(oo||(oo={}));var Or;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Or||(Or={}));var us;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(us||(us={}));var aw;(function(e){e.websocket="websocket"})(aw||(aw={}));var gl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gl||(gl={}));class PK{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},i=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,r,n){var a,s;const i=t.topic,o=(a=t.ref)!==null&&a!==void 0?a:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+i.length+c.length+f.length,p=new ArrayBuffer(this.HEADER_LENGTH+h);let m=new DataView(p),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,i.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,r),Array.from(l,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(o,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(i,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(c,x=>m.setUint8(v++,x.charCodeAt(0))),Array.from(f,x=>m.setUint8(v++,x.charCodeAt(0)));var g=new Uint8Array(p.byteLength+n.byteLength);return g.set(new Uint8Array(p),0),g.set(new Uint8Array(n),p.byteLength),g.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,s,i,o,l]=n;return r({join_ref:a,ref:s,topic:i,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),s=r.getUint8(2),i=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(t.slice(l,l+a));l=l+a;const u=n.decode(t.slice(l,l+s));l=l+s;const f=n.decode(t.slice(l,l+i));l=l+i;const h=t.slice(l,t.byteLength),p=o===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,m={type:this.BROADCAST_EVENT,event:u,payload:p};return i>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class FI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bt||(bt={}));const mA=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,i)=>(s[i]=NK(i,e,t,a),s),{}):{}},NK=(e,t,r,n)=>{const a=t.find(o=>o.name===e),s=a==null?void 0:a.type,i=r[e];return s&&!n.includes(s)?LI(s,i):sw(i)},LI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return IK(t,r)}switch(e){case bt.bool:return OK(t);case bt.float4:case bt.float8:case bt.int2:case bt.int4:case bt.int8:case bt.numeric:case bt.oid:return DK(t);case bt.json:case bt.jsonb:return MK(t);case bt.timestamp:return RK(t);case bt.abstime:case bt.date:case bt.daterange:case bt.int4range:case bt.int8range:case bt.money:case bt.reltime:case bt.text:case bt.time:case bt.timestamptz:case bt.timetz:case bt.tsrange:case bt.tstzrange:return sw(t);default:return sw(t)}},sw=e=>e,OK=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},DK=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},MK=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},IK=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const i=e.slice(1,r);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>LI(t,o))}return e},RK=e=>typeof e=="string"?e.replace(" ","T"):e,$I=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Vy{constructor(t,r,n={},a=nw){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vA;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vA||(vA={}));class df{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=df.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=df.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=df.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const s=this.cloneDeep(t),i=this.transformState(r),o={},l={};return this.map(s,(c,u)=>{i[c]||(l[c]=u)}),this.map(i,(c,u)=>{const f=s[c];if(f){const h=u.map(g=>g.presence_ref),p=f.map(g=>g.presence_ref),m=u.filter(g=>p.indexOf(g.presence_ref)<0),v=f.filter(g=>h.indexOf(g.presence_ref)<0);m.length>0&&(o[c]=m),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},n,a)}static syncDiff(t,r,n,a){const{joins:s,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(p=>p.presence_ref),h=u.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}n(o,u,l)}),this.map(i,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,a(o,c,l),c.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gA;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gA||(gA={}));var ff;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(ff||(ff={}));var hi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(hi||(hi={}));class Jc{constructor(t,r={config:{}},n){var a,s;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vy(this,us.join,this.params,this.timeout),this.rejoinTimer=new FI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Or.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(us.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new df(this),this.broadcastEndpointURL=$I(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Or.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params,c=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&a!==void 0?a:[],u=!!this.bindings[ff.PRESENCE]&&this.bindings[ff.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(hi.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(hi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),p===void 0){t==null||t(hi.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,g=(m=v==null?void 0:v.length)!==null&&m!==void 0?m:0,x=[];for(let b=0;b<g;b++){const y=v[b],{filter:{event:_,schema:S,table:k,filter:E}}=y,C=p&&p[b];if(C&&C.event===_&&Jc.isFilterValueEqual(C.schema,S)&&Jc.isFilterValueEqual(C.table,k)&&Jc.isFilterValueEqual(C.filter,E))x.push(Object.assign(Object.assign({},y),{id:C.id}));else{this.unsubscribe(),this.state=Or.errored,t==null||t(hi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(hi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Or.errored,t==null||t(hi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Or.joined&&t===ff.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:i}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=c.body)===null||a===void 0?void 0:a.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const c=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(us.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Vy(this,us.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Or.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,s=setTimeout(()=>a.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(s),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Vy(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>jK){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=us;if(n&&[o,l,c,u].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var m,v,g;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((g=(v=p.filter)===null||v===void 0?void 0:v.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var m,v,g,x,b,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const _=p.id,S=(m=p.filter)===null||m===void 0?void 0:m.event;return _&&((v=r.ids)===null||v===void 0?void 0:v.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(b=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return _==="*"||_===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const m=h.data,{schema:v,table:g,commit_timestamp:x,type:b,errors:y}=m;h=Object.assign(Object.assign({},{schema:v,table:g,commit_timestamp:x,eventType:b,new:{},old:{},errors:y}),this._getPayloadRecords(m))}p.callback(h,n)})}_isClosed(){return this.state===Or.closed}_isJoined(){return this.state===Or.joined}_isJoining(){return this.state===Or.joining}_isLeaving(){return this.state===Or.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),s={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Jc.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(us.close,{},t)}_onError(t){this._on(us.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Or.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=mA(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=mA(t.columns,t.old_record)),r}}const Wy=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},FK=[1e3,2e3,5e3,1e4],LK=1e4,$K=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class BK{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nw,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wy,this.ref=0,this.reconnectTimer=null,this.vsn=pA,this.logger=Wy,this.conn=null,this.sendBuffer=[],this.serializer=new PK,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...s)=>a(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${aw.websocket}`,this.httpEndpoint=$I(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=SK.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case oo.connecting:return gl.Connecting;case oo.open:return gl.Open;case oo.closing:return gl.Closing;default:return gl.Closed}}isConnected(){return this.connectionState()===gl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(s=>s.topic===n);if(a)return a;{const s=new Jc(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(AK,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:s,ref:i}=r,o=i?`(${i})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${a} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(a,s,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===oo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===oo.open||this.conn.readyState===oo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(us.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([$K],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const s={access_token:r,version:CK};r&&a.updateJoinPayload(s),a.joinedOnce&&a._isJoined()&&a._push(us.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new FI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,s,i,o,l,c,u,f,h,p;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:nw,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ip.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Wy,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:pA,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:m=>FK[m-1]||LK,this.vsn){case TK:this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case RI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gf=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zK(e,t,r){const n=new URL(t,e);if(r)for(const[a,s]of Object.entries(r))s!==void 0&&n.searchParams.set(a,s);return n.toString()}async function UK(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function VK(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:s,headers:i}){const o=zK(e.baseUrl,n,a),l=await UK(e.auth),c=await t(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...i},body:s?JSON.stringify(s):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),h=f&&u?JSON.parse(u):u;if(!c.ok){const p=f?h:void 0,m=p==null?void 0:p.error;throw new Gf((m==null?void 0:m.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:m==null?void 0:m.type,icebergCode:m==null?void 0:m.code,details:p})}return{status:c.status,headers:c.headers,data:h}}}}function op(e){return e.join("")}var WK=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:op(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${op(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${op(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${op(e.namespace)}`}),!0}catch(t){if(t instanceof Gf&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Gf&&r.status===409)return;throw r}}};function _c(e){return e.join("")}var HK=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${_c(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Gf&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Gf&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},KK=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=VK({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new WK(this.client,t),this.tableOps=new HK(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Vg=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function Wg(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var lp=class extends Vg{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},BI=class extends Vg{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const GK=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iw=e=>{if(Array.isArray(e))return e.map(r=>iw(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=iw(n)}),t},YK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function qf(e){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(e)}function XK(e,t){if(qf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZK(e){var t=XK(e,"string");return qf(t)=="symbol"?t:t+""}function JK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const yA=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},QK=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e,s=a.status||500;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new lp(yA(i),s,o,n))}).catch(()=>{if(n==="vectors"){const i=s+"";t(new lp(a.statusText||`HTTP ${s} error`,s,i,n))}else{const i=s+"";t(new lp(a.statusText||`HTTP ${s} error`,s,i,n))}});else{const i=s+"";t(new lp(a.statusText||`HTTP ${s} error`,s,i,n))}}else t(new BI(yA(e),e,n))},eG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ie(Ie({},a),r):(qK(n)?(a.headers=Ie({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Ie(Ie({},a),r))};async function jd(e,t,r,n,a,s,i){return new Promise((o,l)=>{e(r,eG(t,n,a,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;if(i==="vectors"){const u=c.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>QK(c,l,n,i))})}function tG(e="storage"){return{get:async(t,r,n,a)=>jd(t,"GET",r,n,a,void 0,e),post:async(t,r,n,a,s)=>jd(t,"POST",r,a,s,n,e),put:async(t,r,n,a,s)=>jd(t,"PUT",r,a,s,n,e),head:async(t,r,n,a)=>jd(t,"HEAD",r,Ie(Ie({},n),{},{noResolveJson:!0}),a,void 0,e),remove:async(t,r,n,a,s)=>jd(t,"DELETE",r,a,s,n,e)}}const rG=tG("storage"),{get:Yf,post:Rt,put:ow,head:nG,remove:ok}=rG;var ed=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=GK(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Wg(r))return{data:null,error:r};throw r}}},aG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wg(t))return{data:null,error:t};throw t}}};let zI;zI=Symbol.toStringTag;var sG=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[zI]="BlobDownloadBuilder",this.promise=null}asStream(){return new aG(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Wg(t))return{data:null,error:t};throw t}}};const iG={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var oG=class extends ed{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var a=this;return a.handleOperation(async()=>{let s;const i=Ie(Ie({},bA),n);let o=Ie(Ie({},a.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",a.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",i.cacheControl),l&&!s.has("metadata")&&s.append("metadata",a.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=a.toBase64(a.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!i.duplex&&(i.duplex="half")),n!=null&&n.headers&&(o=Ie(Ie({},o),n.headers));const c=a._removeEmptyFolders(t),u=a._getFinalPath(c),f=await(e=="PUT"?ow:Rt)(a.fetch,`${a.url}/object/${u}`,s,Ie({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const s=a._removeEmptyFolders(e),i=a._getFinalPath(s),o=new URL(a.url+`/object/upload/sign/${i}`);return o.searchParams.set("token",t),a.handleOperation(async()=>{let l;const c=Ie({upsert:bA.upsert},n),u=Ie(Ie({},a.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await ow(a.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const a=Ie({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const s=await Rt(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),i=new URL(r.url+s.url),o=i.searchParams.get("token");if(!o)throw new Vg("No token returned by API");return{signedUrl:i.toString(),path:e,token:o}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Rt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Rt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let a=n._getFinalPath(e),s=await Rt(n.fetch,`${n.url}/object/sign/${a}`,Ie({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${i}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const a=await Rt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a.map(i=>Ie(Ie({},i),{},{signedUrl:i.signedURL?encodeURI(`${n.url}${i.signedURL}${s}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",s=this._getFinalPath(e),i=()=>Yf(this.fetch,`${this.url}/${r}/${s}${a}`,{headers:this.headers,noResolveJson:!0});return new sG(i,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>iw(await Yf(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await nG(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Wg(n)&&n instanceof BI){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&n.push(i);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ok(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const a=Ie(Ie(Ie({},iG),t),{},{prefix:e||""});return await Rt(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ie({},e);return await Rt(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const lG="2.93.1",H0={"X-Client-Info":`storage-js/${lG}`};var cG=class extends ed{constructor(e,t={},r,n){const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase."));const s=a.href.replace(/\/$/,""),i=Ie(Ie({},H0),t);super(s,i,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Yf(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Yf(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ow(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ok(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},uG=class extends ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},H0),t);super(n,a,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Yf(t.fetch,a,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ok(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!YK(e))throw new Vg("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new KK({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,s){const i=a[s];return typeof i!="function"?i:async(...o)=>{try{return{data:await i.apply(a,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}},dG=class extends ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},H0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Rt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},fG=class extends ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},H0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},hG=class extends ed{constructor(e,t={},r){const n=e.replace(/\/$/,""),a=Ie(Ie({},H0),{},{"Content-Type":"application/json"},t);super(n,a,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Rt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},pG=class extends hG{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new mG(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},mG=class extends dG{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new vG(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vG=class extends fG{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ie(Ie({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},gG=class extends cG{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new oG(this.url,this.headers,e,this.fetch)}get vectors(){return new pG(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new uG(this.url+"/iceberg",this.headers,this.fetch)}};const UI="2.93.1",Rc=30*1e3,lw=3,Hy=lw*Rc,xG="http://localhost:9999",yG="supabase.auth.token",bG={"X-Client-Info":`gotrue-js/${UI}`},cw="X-Supabase-Api-Version",VI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},wG=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_G=10*60*1e3;class Xf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kG extends Xf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function SG(e){return Pe(e)&&e.name==="AuthApiError"}class xl extends Xf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qi extends Xf{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class ha extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ky(e){return Pe(e)&&e.name==="AuthSessionMissingError"}class kc extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cp extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class up extends qi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EG(e){return Pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class wA extends qi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class CG extends qi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class uw extends qi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Gy(e){return Pe(e)&&e.name==="AuthRetryableFetchError"}class _A extends qi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class dw extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kA=` 	
\r=`.split(""),TG=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kA.length;t+=1)e[kA[t].charCodeAt(0)]=-2;for(let t=0;t<Jm.length;t+=1)e[Jm[t].charCodeAt(0)]=t;return e})();function SA(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Jm[n]),t.queuedBits-=6}}function WI(e,t,r){const n=TG[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function EA(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{PG(i,n,r)};for(let i=0;i<e.length;i+=1)WI(e.charCodeAt(i),a,s);return t.join("")}function AG(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jG(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}AG(n,t)}}function PG(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function mu(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)WI(e.charCodeAt(a),r,n);return new Uint8Array(t)}function NG(e){const t=[];return jG(e,r=>t.push(r)),new Uint8Array(t)}function Sl(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>SA(a,r,n)),SA(null,r,n),t.join("")}function OG(e){return Math.round(Date.now()/1e3)+e}function DG(){return Symbol("auth-callback")}const on=()=>typeof window<"u"&&typeof document<"u",il={tested:!1,writable:!1},HI=()=>{if(!on())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(il.tested)return il.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),il.tested=!0,il.writable=!0}catch{il.tested=!0,il.writable=!1}return il.writable};function MG(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const KI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),IG=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ol=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},an=async(e,t)=>{await e.removeItem(t)};class Hg{constructor(){this.promise=new Hg.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Hg.promiseConstructor=Promise;function dp(e){const t=e.split(".");if(t.length!==3)throw new dw("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!wG.test(t[n]))throw new dw("JWT not in base64url format");return{header:JSON.parse(EA(t[0])),payload:JSON.parse(EA(t[1])),signature:mu(t[2]),raw:{header:t[0],payload:t[1]}}}async function RG(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function FG(e,t){return new Promise((n,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){n(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function LG(e){return("0"+e.toString(16)).substr(-2)}function $G(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let s=0;s<56;s++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,LG).join("")}async function BG(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function zG(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await BG(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Sc(e,t,r=!1){const n=$G();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Fc(e,`${t}-code-verifier`,a);const s=await zG(n);return[s,n===s?"plain":"s256"]}const UG=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function VG(e){const t=e.headers.get(cw);if(!t||!t.match(UG))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function WG(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function HG(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const KG=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ec(e){if(!KG.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qy(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function GG(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function CA(e){return JSON.parse(JSON.stringify(e))}const dl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qG=[502,503,504];async function TA(e){var t;if(!IG(e))throw new uw(dl(e),0);if(qG.includes(e.status))throw new uw(dl(e),e.status);let r;try{r=await e.json()}catch(s){throw new xl(dl(s),s)}let n;const a=VG(e);if(a&&a.getTime()>=VI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _A(dl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ha}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new _A(dl(r),e.status,r.weak_password.reasons);throw new kG(dl(r),e.status||500,n)}const YG=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function Me(e,t,r,n){var a;const s=Object.assign({},n==null?void 0:n.headers);s[cw]||(s[cw]=VI["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const i=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await XG(e,t,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function XG(e,t,r,n,a,s){const i=YG(t,n,a,s);let o;try{o=await e(r,Object.assign({},i))}catch(l){throw console.error(l),new uw(dl(l),0)}if(o.ok||await TA(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await TA(l)}}function is(e){var t;let r=null;QG(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=OG(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function AA(e){const t=is(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ho(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ZG(e){return{data:e,error:null}}function JG(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,i=Ug(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function jA(e){return e}function QG(e){return e.access_token&&e.refresh_token&&e.expires_in}const Yy=["global","local","others"];class eq{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=KI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Yy[0]){if(Yy.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yy.join(", ")}`);try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ho})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Ug(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:JG,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ho})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:jA});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Pe(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Ec(t);try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ho})}catch(r){if(Pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ec(t);try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ho})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ec(t);try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ho})}catch(n){if(Pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ec(t.userId);try{const{data:r,error:n}=await Me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ec(t.userId),Ec(t.id);try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,s,i,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:jA});if(u.error)throw u.error;const f=await u.json(),h=(i=u.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(m.split(";")[1].split("=")[1]);c[`${g}Page`]=v}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(Pe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Pe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Pe(r))return{data:null,error:r};throw r}}}function PA(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Cc={debug:!!(globalThis&&HI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class GI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class tq extends GI{}async function rq(e,t,r){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Cc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new tq(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Cc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nq(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function qI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function aq(e){return parseInt(e,16)}function sq(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function iq(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:s=new Date,nonce:i,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const p=qI(e.address),m=u?`${u}://${n}`:n,v=e.statement?`${e.statement}
`:"",g=`${m} wants you to sign in with your Ethereum account:
${p}

${v}`;let x=`URI: ${f}
Version: ${h}
Chain ID: ${r}${i?`
Nonce: ${i}`:""}
Issued At: ${s.toISOString()}`;if(a&&(x+=`
Expiration Time: ${a.toISOString()}`),o&&(x+=`
Not Before: ${o.toISOString()}`),l&&(x+=`
Request ID: ${l}`),c){let b=`
Resources:`;for(const y of c){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);b+=`
- ${y}`}x+=b}return`${g}
${x}`}class kr extends Error{constructor({message:t,code:r,cause:n,name:a}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=a??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Qm extends kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function oq({error:e,options:t}){var r,n,a;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(YI(i)){if(s.rp.id!==i)return new kr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function lq({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(YI(n)){if(r.rpId!==n)return new kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class cq{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const uq=new cq;function dq(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Ug(e,["challenge","user","excludeCredentials"]),s=mu(t).buffer,i=Object.assign(Object.assign({},r),{id:mu(r.id).buffer}),o=Object.assign(Object.assign({},a),{challenge:s,user:i});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:mu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function fq(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Ug(e,["challenge","allowCredentials"]),a=mu(t).buffer,s=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let i=0;i<r.length;i++){const o=r[i];s.allowCredentials[i]=Object.assign(Object.assign({},o),{id:mu(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function hq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Sl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Sl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function pq(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Sl(new Uint8Array(a.authenticatorData)),clientDataJSON:Sl(new Uint8Array(a.clientDataJSON)),signature:Sl(new Uint8Array(a.signature)),userHandle:a.userHandle?Sl(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function NA(){var e,t;return!!(on()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function mq(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qm("Browser returned unexpected credential type",t)}:{data:null,error:new Qm("Empty credential response",t)}}catch(t){return{data:null,error:oq({error:t,options:e})}}}async function vq(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Qm("Browser returned unexpected credential type",t)}:{data:null,error:new Qm("Empty credential response",t)}}catch(t){return{data:null,error:lq({error:t,options:e})}}}const gq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},xq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ev(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const s in a){const i=a[s];if(i!==void 0)if(Array.isArray(i))n[s]=i;else if(r(i))n[s]=i;else if(t(i)){const o=n[s];t(o)?n[s]=ev(o,i):n[s]=ev(i)}else n[s]=i}return n}function yq(e,t){return ev(gq,e,t||{})}function bq(e,t){return ev(xq,e,t||{})}class wq{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},s){try{const{data:i,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!i)return{data:null,error:o};const l=a??uq.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:c}=i.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(i.webauthn.type){case"create":{const c=yq(i.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:f}=await mq({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=bq(i.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:f}=await vq(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new xl("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Xf("rpId is required for WebAuthn authentication")};try{if(!NA())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:s});if(!i)return{data:null,error:o};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new xl("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},s){if(!r)return{data:null,error:new Xf("rpId is required for WebAuthn registration")};try{if(!NA())return{data:null,error:new xl("Browser does not support WebAuthn",null)};const{data:i,error:o}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:s});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(i){return Pe(i)?{data:null,error:i}:{data:null,error:new xl("Unexpected error in register",i)}}}}nq();const _q={url:xG,storageKey:yG,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:bG,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function OA(e,t,r){return await r()}const Tc={};class Zf{get jwks(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Tc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Tc[this.storageKey]=Object.assign(Object.assign({},Tc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},_q),t);if(this.storageKey=s.storageKey,this.instanceID=(r=Zf.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Zf.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&on()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new eq({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=KI(s.fetch),this.lock=s.lock||OA,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&on()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=rq:this.lock=OA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:HI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=PA(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=PA(this.memoryStorage)),on()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i);try{await this._notifyAllSubscribers(i.data.event,i.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(i=>{this._debug("#initialize()","error",i)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${UI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(on()&&(r=MG(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),on()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),EG(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Pe(r)?this._returnResult({error:r}):this._returnResult({error:new xl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:is}),{data:i,error:o}=s;if(o||!i)return this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var r,n,a;try{let s;if("email"in t){const{email:u,password:f,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await Sc(this.storage,this.storageKey)),s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},xform:is})}else if("phone"in t){const{phone:u,password:f,options:h}=t;s=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:is})}else throw new cp("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return await an(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=i.session,c=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:i,options:o}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:AA})}else if("phone"in t){const{phone:s,password:i,options:o}=t;r=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:AA})}else throw new cp("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const s=new kc;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,s,i,o,l,c,u,f,h;let p,m;if("message"in t)p=t.message,m=t.signature;else{const{chain:v,wallet:g,statement:x,options:b}=t;let y;if(on())if(typeof g=="object")y=g;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")y=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const _=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href),S=await y.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=qI(S[0]);let E=(n=b==null?void 0:b.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const T=await y.request({method:"eth_chainId"});E=aq(T)}const C={domain:_.host,address:k,statement:x,uri:_.href,version:"1",chainId:E,nonce:(a=b==null?void 0:b.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(i=(s=b==null?void 0:b.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(o=b==null?void 0:b.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=b==null?void 0:b.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=b==null?void 0:b.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=b==null?void 0:b.signInWithEthereum)===null||u===void 0?void 0:u.resources};p=iq(C),m=await y.request({method:"personal_sign",params:[sq(p),k]})}try{const{data:v,error:g}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:p,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:is});if(g)throw g;if(!v||!v.session||!v.user){const x=new kc;return this._returnResult({data:{user:null,session:null},error:x})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:g})}catch(v){if(Pe(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var r,n,a,s,i,o,l,c,u,f,h,p;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:g,wallet:x,statement:b,options:y}=t;let _;if(on())if(typeof x=="object")_=x;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),b?{statement:b}:null));let E;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")E=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)E=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)m=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),v=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...b?["",b,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(m),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=k}}try{const{data:g,error:x}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Sl(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:is});if(x)throw x;if(!g||!g.session||!g.user){const b=new kc;return this._returnResult({data:{user:null,session:null},error:b})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:x})}catch(g){if(Pe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async _exchangeCodeForSession(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new CG;const{data:s,error:i}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:is});if(await an(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!s||!s.session||!s.user){const o=new kc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:s,nonce:i}=t,o=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:is}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new kc;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Sc(this.storage,this.storageKey));const{error:f}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new cp("You must provide either an email or phone number.")}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let a,s;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:o}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:is});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,c=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(a){if(Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,s,i;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Sc(this.storage,this.storageKey));const c=await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:ZG});return!((s=c.data)===null||s===void 0)&&s.url&&on()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ha;const{error:a}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Pe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:s}=t,{error:i}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:n,type:a,options:s}=t,{data:i,error:o}=await Me(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o})}throw new cp("You must provide either an email or phone number and a type")}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ol(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Hy:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await ol(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=qy()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=GG(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ho}):await this._useSession(async r=>{var n,a,s;const{data:i,error:o}=r;if(o)throw o;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ha}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:ho})})}catch(r){if(Pe(r))return Ky(r)&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:s}=n;if(s)throw s;if(!a.session)throw new ha;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Sc(this.storage,this.storageKey));const{data:c,error:u}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:ho});if(u)throw u;return i.user=c.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(n){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ha;const r=Date.now()/1e3;let n=r,a=!0,s=null;const{payload:i}=dp(t.access_token);if(i.exp&&(n=i.exp,a=n<=r),a){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Pe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:o}=r;if(o)throw o;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ha;const{data:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Pe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!on())throw new up("No browser detected.");if(t.error||t.error_description||t.error_code)throw new up(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new up("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new wA("No code detected.");const{data:b,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:b.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!i||!c)throw new up("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let h=u+f;l&&(h=parseInt(l));const p=h-u;p*1e3<=Rc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const m=h-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);const{data:v,error:g}=await this._getUser(s);if(g)throw g;const x={provider_token:n,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s&&!Ky(s))return this._returnResult({error:s});const i=(n=a.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(SG(o)&&(o.status===404||o.status===401||o.status===403)||Ky(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await an(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=DG(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:s},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Sc(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async s=>{var i,o,l,c,u;const{data:f,error:h}=s;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(a)throw a;return on()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Pe(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:s}}=r;if(a)throw a;const{options:i,provider:o,token:l,access_token:c,nonce:u}=t,f=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:is}),{data:h,error:p}=f;return p?this._returnResult({data:{user:null,session:null},error:p}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new kc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:p}))}catch(a){if(await an(this.storage,`${this.storageKey}-code-verifier`),Pe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)throw i;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await FG(async a=>(a>0&&await RG(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:is})),(a,s)=>{const i=200*Math.pow(2,a);return s&&Gy(s)&&Date.now()+i-n<Rc})}catch(n){if(this._debug(r,"error",n),Pe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),on()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ol(this.storage,this.storageKey);if(a&&this.userStorage){let i=await ol(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await Fc(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:qy()}else if(a&&!a.user&&!a.user){const i=await ol(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await an(this.storage,this.storageKey+"-user"),await Fc(this.storage,this.storageKey,a)):a.user=qy()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const s=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Hy;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Hy}s`),s){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Gy(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ha;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Hg;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new ha;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),Pe(s)){const i={data:null,error:s};return Gy(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await an(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Fc(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const s=CA(a);await Fc(this.storage,this.storageKey,s)}else{const a=CA(r);await Fc(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await an(this.storage,this.storageKey),await an(this.storage,this.storageKey+"-code-verifier"),await an(this.storage,this.storageKey+"-user"),this.userStorage&&await an(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&on()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/Rc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Rc}ms, refresh threshold is ${lw} ticks`),a<=lw&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof GI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!on()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,i]=await Sc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);a.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;return s?this._returnResult({data:null,error:s}):await Me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?hq(t.webauthn.credential_response):pq(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});const i=await Me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(i.error)return i;const{data:o}=i;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:dq(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:fq(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(s),s.status==="verified"&&a[s.factor_type].push(s);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,a,s;if(t)try{const{payload:p}=dp(t);let m=null;p.aal&&(m=p.aal);let v=m;const{data:{user:g},error:x}=await this.getUser(t);if(x)return this._returnResult({data:null,error:x});((n=(r=g==null?void 0:g.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:y},error:null}}catch(p){if(Pe(p))return this._returnResult({data:null,error:p});throw p}const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=dp(i.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(a=i.user.factors)===null||a===void 0?void 0:a.filter(p=>p.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await Me(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ha})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ha});const i=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&on()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!a)return this._returnResult({data:null,error:new ha});const i=await Me(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return i.data&&i.data.redirect_url&&on()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ha})})}catch(t){if(Pe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await Me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ha})})}catch(r){if(Pe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+_G>a)return n;const{data:s,error:i}=await Me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=a,n=s.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return this._returnResult({data:null,error:m});n=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=dp(n);r!=null&&r.allowExpired||WG(s.exp);const c=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const u=HG(a.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,NG(`${o}.${l}`)))throw new dw("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(n){if(Pe(n))return this._returnResult({data:null,error:n});throw n}}}Zf.nextInstanceID={};const kq=Zf,Sq="2.93.1";let Kd="";typeof Deno<"u"?Kd="deno":typeof document<"u"?Kd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Kd="react-native":Kd="node";function Eq(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function Cq(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function Tq(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function Aq(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function jq(){const e={"X-Client-Info":`supabase-js-${Kd}/${Sq}`},t=Eq();t&&(e["X-Supabase-Client-Platform"]=t);const r=Cq();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=Tq();n&&(e["X-Supabase-Client-Runtime"]=n);const a=Aq();return a&&(e["X-Supabase-Client-Runtime-Version"]=a),e}const Pq=jq(),Nq={headers:Pq},Oq={schema:"public"},Dq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Mq={};function Jf(e){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(e)}function Iq(e,t){if(Jf(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Jf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){var t=Iq(e,"string");return Jf(t)=="symbol"?t:t+""}function Fq(e,t,r){return(t=Rq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DA(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Lq=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),$q=()=>Headers,Bq=(e,t,r)=>{const n=Lq(r),a=$q();return async(s,i)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new a(i==null?void 0:i.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(s,nr(nr({},i),{},{headers:c}))}};function zq(e){return e.endsWith("/")?e:e+"/"}function Uq(e,t){var r,n;const{db:a,auth:s,realtime:i,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,h={db:nr(nr({},l),a),auth:nr(nr({},c),s),realtime:nr(nr({},u),i),storage:{},global:nr(nr(nr({},f),o),{},{headers:nr(nr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Vq(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(zq(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Wq=class extends kq{constructor(e){super(e)}},Hq=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const s=Vq(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const i=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:Oq,realtime:Mq,auth:nr(nr({},Dq),{},{storageKey:i}),global:Nq},l=Uq(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=l.global.headers)!==null&&a!==void 0?a:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=Bq(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(nr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new kK(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new gG(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new xK(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:s,flowType:i,lock:o,debug:l,throwOnError:c},u,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wq({url:this.authUrl.href,headers:nr(nr({},h),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:i,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new BK(this.realtimeUrl.href,nr(nr({},e),{},{params:nr(nr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kq=(e,t,r)=>new Hq(e,t,r);function Gq(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Gq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qq="https://mipiwxadnpwtcgfcedym.supabase.co",Yq="sb_publishable_kOxFYyTTDbp9sHMhol9aDQ_SrGUsrmc",ut=Kq(qq,Yq),XI=w.createContext(void 0),Xq=({children:e})=>{const[t,r]=w.useState(null),[n,a]=w.useState(null),[s,i]=w.useState(!0);w.useEffect(()=>{ut.auth.getSession().then(({data:{session:f}})=>{a(f),r((f==null?void 0:f.user)??null),i(!1)});const{data:{subscription:u}}=ut.auth.onAuthStateChange((f,h)=>{a(h),r((h==null?void 0:h.user)??null),i(!1)});return()=>u.unsubscribe()},[]);const o=async u=>{const{error:f}=await ut.auth.signInWithOtp({email:u,options:{emailRedirectTo:window.location.href}});if(f)throw f},l=async()=>{await ut.auth.signOut(),(t==null?void 0:t.id)==="dev-user"&&(r(null),a(null))},c=async()=>{const u={id:"dev-user",aud:"authenticated",role:"authenticated",email:"dev@local.host",email_confirmed_at:new Date().toISOString(),phone:"",confirmed_at:new Date().toISOString(),last_sign_in_at:new Date().toISOString(),app_metadata:{provider:"email",providers:["email"]},user_metadata:{},identities:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()},f={access_token:"mock-token",token_type:"bearer",expires_in:3600,refresh_token:"mock-refresh",user:u};r(u),a(f)};return d.jsx(XI.Provider,{value:{user:t,session:n,loading:s,signInWithEmail:o,signOut:l,signInAsDev:c},children:e})},lk=()=>{const e=w.useContext(XI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e},Zq=()=>{const{signInWithEmail:e,signInAsDev:t,loading:r}=lk(),[n,a]=w.useState(""),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(null),f=async h=>{h.preventDefault(),i(!0),u(null);try{await e(n),l(!0)}catch(p){u(p.message||"Erro ao enviar email")}finally{i(!1)}};return r?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(Gs,{className:"animate-spin text-blue-500 w-8 h-8"})}):d.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-slate-900 p-4",children:d.jsxs("div",{className:"w-full max-w-md bg-slate-800/50 backdrop-blur-xl border border-slate-700/50 rounded-2xl p-8 shadow-2xl relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 -mr-16 -mt-16 w-64 h-64 bg-blue-500/20 rounded-full blur-3xl"}),d.jsx("div",{className:"absolute bottom-0 left-0 -ml-16 -mb-16 w-64 h-64 bg-purple-500/10 rounded-full blur-3xl"}),d.jsxs("div",{className:"relative z-10 text-center",children:[d.jsx("div",{className:"mb-10 flex flex-col items-center justify-center animate-fade-in select-none",children:d.jsxs("div",{className:"bg-black p-6 rounded-2xl border border-white/10 shadow-2xl flex flex-col items-center justify-center gap-1",children:[d.jsx("h1",{className:"text-5xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent leading-none tracking-tight",children:"GaaS"}),d.jsx("span",{className:"text-sm font-bold text-white tracking-widest uppercase leading-tight opacity-90 pl-0.5",children:"AFINZ"})]})}),d.jsx("h2",{className:"text-2xl font-bold text-white mb-2 tracking-tight",children:"Login Corporativo"}),d.jsx("p",{className:"text-slate-400 mb-8 text-sm leading-relaxed",children:"Acesse a rea segura para sincronizar dados e gerenciar arquivos na nuvem."}),o?d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 p-6 rounded-xl text-sm border border-emerald-500/20 animate-fade-in text-left",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-2 font-bold text-emerald-300",children:[d.jsx(Zr,{size:18}),d.jsx("span",{children:"Link Enviado!"})]}),d.jsx("p",{className:"mb-2",children:"Enviamos um link de acesso mgico para:"}),d.jsx("code",{className:"block bg-black/20 p-2 rounded text-emerald-200 mb-4 font-mono",children:n}),d.jsx("p",{className:"text-xs opacity-80",children:"Verifique sua caixa de entrada (e spam) e clique no link para entrar."})]}):d.jsxs("form",{onSubmit:f,className:"space-y-5",children:[d.jsxs("div",{className:"text-left group",children:[d.jsxs("label",{className:"block text-xs font-bold text-blue-400 uppercase mb-2 tracking-wider ml-1",children:["Email ",d.jsx("span",{className:"opacity-50",children:"(@afinz.com.br)"})]}),d.jsxs("div",{className:"relative",children:[d.jsx(hH,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 text-slate-400 w-5 h-5 group-focus-within:text-blue-400 transition-colors"}),d.jsx("input",{type:"email",required:!0,className:"w-full bg-slate-900/50 border border-slate-700 text-white pl-11 pr-4 py-3 rounded-xl focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 outline-none transition-all placeholder:text-slate-600",placeholder:"seu.nome@afinz.com.br",value:n,onChange:h=>a(h.target.value)})]})]}),c&&d.jsxs("div",{className:"text-xs text-red-200 bg-red-500/20 p-3 rounded-lg flex items-center gap-2 border border-red-500/30",children:[d.jsx(Es,{size:14}),c]}),d.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-500 hover:to-blue-400 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-blue-500/25 active:scale-95 disabled:opacity-70 disabled:cursor-not-allowed",children:s?d.jsx(Gs,{className:"animate-spin w-5 h-5"}):d.jsxs(d.Fragment,{children:["Receber Link de Acesso",d.jsx(Y_,{size:18})]})})]}),d.jsx("div",{className:"mt-6 pt-6 border-t border-white/5",children:d.jsxs("button",{type:"button",onClick:()=>t(),className:"text-xs font-bold text-slate-500 hover:text-emerald-400 transition-colors uppercase tracking-widest flex items-center justify-center gap-2 mx-auto",children:[d.jsx(lA,{size:14}),"Entrar como Desenvolvedor (Bypass)"]})}),d.jsxs("p",{className:"mt-8 text-xs text-slate-500 flex items-center justify-center gap-1.5 opacity-60",children:[d.jsx(lA,{size:12}),"Ambiente Seguro & Criptografado"]})]})]})})};function ZI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=ZI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ze(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=ZI(e))&&(n&&(n+=" "),n+=t);return n}var Jq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ck(e){if(typeof e!="string")return!1;var t=Jq;return t.includes(e)}var Qq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],eY=new Set(Qq);function JI(e){return typeof e!="string"?!1:eY.has(e)}function QI(e){return typeof e=="string"&&e.startsWith("data-")}function qn(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JI(r)||QI(r))&&(t[r]=e[r]);return t}function Gl(e){if(e==null)return null;if(w.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return qn(t)}return typeof e=="object"&&!Array.isArray(e)?qn(e):null}function vn(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(JI(r)||QI(r)||ck(r))&&(t[r]=e[r]);return t}function tY(e){return e==null?null:w.isValidElement(e)?vn(e.props):typeof e=="object"&&!Array.isArray(e)?vn(e):null}var rY=["children","width","height","viewBox","className","style","title","desc"];function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(null,arguments)}function nY(e,t){if(e==null)return{};var r,n,a=aY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uk=w.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:s,className:i,style:o,title:l,desc:c}=e,u=nY(e,rY),f=s||{width:n,height:a,x:0,y:0},h=Ze("recharts-surface",i);return w.createElement("svg",fw({},vn(u),{className:h,width:n,height:a,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),w.createElement("title",null,l),w.createElement("desc",null,c),r)}),sY=["children","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hw.apply(null,arguments)}function iY(e,t){if(e==null)return{};var r,n,a=oY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Qt=w.forwardRef((e,t)=>{var{children:r,className:n}=e,a=iY(e,sY),s=Ze("recharts-layer",n);return w.createElement("g",hw({className:s},vn(a),{ref:t}),r)}),e5=w.createContext(null),lY=()=>w.useContext(e5);function wt(e){return function(){return e}}const t5=Math.cos,tv=Math.sin,Cs=Math.sqrt,rv=Math.PI,Kg=2*rv,pw=Math.PI,mw=2*pw,fl=1e-6,cY=mw-fl;function r5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function uY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return r5;const r=10**t;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class dY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?r5:uY(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,s,i){this._append`C${+t},${+r},${+n},${+a},${this._x1=+s},${this._y1=+i}`}arcTo(t,r,n,a,s){if(t=+t,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let i=this._x1,o=this._y1,l=n-t,c=a-r,u=i-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fl)if(!(Math.abs(f*l-c*u)>fl)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-i,m=a-o,v=l*l+c*c,g=p*p+m*m,x=Math.sqrt(v),b=Math.sqrt(h),y=s*Math.tan((pw-Math.acos((v+h-g)/(2*x*b)))/2),_=y/b,S=y/x;Math.abs(_-1)>fl&&this._append`L${t+_*u},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*p>u*m)},${this._x1=t+S*l},${this._y1=r+S*c}`}}arc(t,r,n,a,s,i){if(t=+t,r=+r,n=+n,i=!!i,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^i,h=i?a-s:s-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>fl||Math.abs(this._y1-u)>fl)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%mw+mw),h>cY?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>fl&&this._append`A${n},${n},0,${+(h>=pw)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function dk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new dY(t)}function fk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function n5(e){this._context=e}n5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Gg(e){return new n5(e)}function a5(e){return e[0]}function s5(e){return e[1]}function i5(e,t){var r=wt(!0),n=null,a=Gg,s=null,i=dk(o);e=typeof e=="function"?e:e===void 0?a5:wt(e),t=typeof t=="function"?t:t===void 0?s5:wt(t);function o(l){var c,u=(l=fk(l)).length,f,h=!1,p;for(n==null&&(s=a(p=i())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,c,l),+t(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:wt(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:wt(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wt(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(s=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=s=null:s=a(n=l),o):n},o}function fp(e,t,r){var n=null,a=wt(!0),s=null,i=Gg,o=null,l=dk(c);e=typeof e=="function"?e:e===void 0?a5:wt(+e),t=typeof t=="function"?t:wt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?s5:wt(+r);function c(f){var h,p,m,v=(f=fk(f)).length,g,x=!1,b,y=new Array(v),_=new Array(v);for(s==null&&(o=i(b=l())),h=0;h<=v;++h){if(!(h<v&&a(g=f[h],h,f))===x)if(x=!x)p=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=p;--m)o.point(y[m],_[m]);o.lineEnd(),o.areaEnd()}x&&(y[h]=+e(g,h,f),_[h]=+t(g,h,f),o.point(n?+n(g,h,f):y[h],r?+r(g,h,f):_[h]))}if(b)return o=null,b+""||null}function u(){return i5().defined(a).curve(i).context(s)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wt(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wt(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wt(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wt(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:wt(!!f),c):a},c.curve=function(f){return arguments.length?(i=f,s!=null&&(o=i(s)),c):i},c.context=function(f){return arguments.length?(f==null?s=o=null:o=i(s=f),c):s},c}class o5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function fY(e){return new o5(e,!0)}function hY(e){return new o5(e,!1)}const hk={draw(e,t){const r=Cs(t/rv);e.moveTo(r,0),e.arc(0,0,r,0,Kg)}},pY={draw(e,t){const r=Cs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},l5=Cs(1/3),mY=l5*2,vY={draw(e,t){const r=Cs(t/mY),n=r*l5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},gY={draw(e,t){const r=Cs(t),n=-r/2;e.rect(n,n,r,r)}},xY=.8908130915292852,c5=tv(rv/10)/tv(7*rv/10),yY=tv(Kg/10)*c5,bY=-t5(Kg/10)*c5,wY={draw(e,t){const r=Cs(t*xY),n=yY*r,a=bY*r;e.moveTo(0,-r),e.lineTo(n,a);for(let s=1;s<5;++s){const i=Kg*s/5,o=t5(i),l=tv(i);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},Xy=Cs(3),_Y={draw(e,t){const r=-Cs(t/(Xy*3));e.moveTo(0,r*2),e.lineTo(-Xy*r,-r),e.lineTo(Xy*r,-r),e.closePath()}},Pa=-.5,Na=Cs(3)/2,vw=1/Cs(12),kY=(vw/2+1)*3,SY={draw(e,t){const r=Cs(t/kY),n=r/2,a=r*vw,s=n,i=r*vw+r,o=-s,l=i;e.moveTo(n,a),e.lineTo(s,i),e.lineTo(o,l),e.lineTo(Pa*n-Na*a,Na*n+Pa*a),e.lineTo(Pa*s-Na*i,Na*s+Pa*i),e.lineTo(Pa*o-Na*l,Na*o+Pa*l),e.lineTo(Pa*n+Na*a,Pa*a-Na*n),e.lineTo(Pa*s+Na*i,Pa*i-Na*s),e.lineTo(Pa*o+Na*l,Pa*l-Na*o),e.closePath()}};function EY(e,t){let r=null,n=dk(a);e=typeof e=="function"?e:wt(e||hk),t=typeof t=="function"?t:wt(t===void 0?64:+t);function a(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(e=typeof s=="function"?s:wt(s),a):e},a.size=function(s){return arguments.length?(t=typeof s=="function"?s:wt(+s),a):t},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function nv(){}function av(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function u5(e){this._context=e}u5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:av(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CY(e){return new u5(e)}function d5(e){this._context=e}d5.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function TY(e){return new d5(e)}function f5(e){this._context=e}f5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:av(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function AY(e){return new f5(e)}function h5(e){this._context=e}h5.prototype={areaStart:nv,areaEnd:nv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jY(e){return new h5(e)}function MA(e){return e<0?-1:1}function IA(e,t,r){var n=e._x1-e._x0,a=t-e._x1,s=(e._y1-e._y0)/(n||a<0&&-0),i=(r-e._y1)/(a||n<0&&-0),o=(s*a+i*n)/(n+a);return(MA(s)+MA(i))*Math.min(Math.abs(s),Math.abs(i),.5*Math.abs(o))||0}function RA(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Zy(e,t,r){var n=e._x0,a=e._y0,s=e._x1,i=e._y1,o=(s-n)/3;e._context.bezierCurveTo(n+o,a+o*t,s-o,i-o*r,s,i)}function sv(e){this._context=e}sv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zy(this,this._t0,RA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zy(this,RA(this,r=IA(this,e,t)),r);break;default:Zy(this,this._t0,r=IA(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function p5(e){this._context=new m5(e)}(p5.prototype=Object.create(sv.prototype)).point=function(e,t){sv.prototype.point.call(this,t,e)};function m5(e){this._context=e}m5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,s){this._context.bezierCurveTo(t,e,n,r,s,a)}};function PY(e){return new sv(e)}function NY(e){return new p5(e)}function v5(e){this._context=e}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=FA(e),a=FA(t),s=0,i=1;i<r;++s,++i)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],e[i],t[i]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function FA(e){var t,r=e.length-1,n,a=new Array(r),s=new Array(r),i=new Array(r);for(a[0]=0,s[0]=2,i[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,s[t]=4,i[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,s[r-1]=7,i[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/s[t-1],s[t]-=n,i[t]-=n*i[t-1];for(a[r-1]=i[r-1]/s[r-1],t=r-2;t>=0;--t)a[t]=(i[t]-a[t+1])/s[t];for(s[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-a[t+1];return[a,s]}function OY(e){return new v5(e)}function qg(e,t){this._context=e,this._t=t}qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function DY(e){return new qg(e,.5)}function MY(e){return new qg(e,0)}function IY(e){return new qg(e,1)}function Ou(e,t){if((i=e.length)>1)for(var r=1,n,a,s=e[t[0]],i,o=s.length;r<i;++r)for(a=s,s=e[t[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function gw(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function RY(e,t){return e[t]}function FY(e){const t=[];return t.key=e,t}function LY(){var e=wt([]),t=gw,r=Ou,n=RY;function a(s){var i=Array.from(e.apply(this,arguments),FY),o,l=i.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(i[o][c]=[0,+n(f,i[o].key,c,s)]).data=f;for(o=0,u=fk(t(i));o<l;++o)i[u[o]].index=o;return r(i,u),i}return a.keys=function(s){return arguments.length?(e=typeof s=="function"?s:wt(Array.from(s)),a):e},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:wt(+s),a):n},a.order=function(s){return arguments.length?(t=s==null?gw:typeof s=="function"?s:wt(Array.from(s)),a):t},a.offset=function(s){return arguments.length?(r=s??Ou,a):r},a}function $Y(e,t){if((n=e.length)>0){for(var r,n,a=0,s=e[0].length,i;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}Ou(e,t)}}function BY(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,s=n.length;r<s;++r){for(var i=0,o=0;i<a;++i)o+=e[i][r][1]||0;n[r][1]+=n[r][0]=-o/2}Ou(e,t)}}function zY(e,t){if(!(!((i=e.length)>0)||!((s=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,s,i;n<s;++n){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,p=(f-h)/2,m=0;m<o;++m){var v=e[t[m]],g=v[n][1]||0,x=v[n-1][1]||0;p+=g-x}l+=f,c+=p*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,Ou(e,t)}}var Yg={},g5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(g5);var pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(pk);var Xg={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Xg);var Zg={},x5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(x5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=x5,r=Xg;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const s=[],i=a.length;if(i===0)return s;let o=0,l="",c="",u=!1;for(a.charCodeAt(0)===46&&(s.push(""),o++);o<i;){const f=a[o];c?f==="\\"&&o+1<i?(o++,l+=a[o]):f===c?c="":l+=f:u?f==='"'||f==="'"?c=f:f==="]"?(u=!1,s.push(l),l=""):l+=f:f==="["?(u=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}e.toPath=n})(Zg);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=g5,r=pk,n=Xg,a=Zg;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?r.isDeepKey(l)?s(o,a.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return i(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function i(o,l,c){if(l.length===0)return c;let u=o;for(let f=0;f<l.length;f++){if(u==null||t.isUnsafeProperty(l[f]))return c;u=u[l[f]]}return u===void 0?c:u}e.get=s})(Yg);var UY=Yg.get;const ql=ni(UY);var Jr=e=>e===0?0:e>0?1:-1,ua=e=>typeof e=="number"&&e!=+e,Ii=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,_e=e=>(typeof e=="number"||e instanceof Number)&&!ua(e),qa=e=>_e(e)||typeof e=="string",VY=0,Qf=e=>{var t=++VY;return"".concat(e||"").concat(t)},Nn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&typeof t!="string")return n;var s;if(Ii(t)){if(r==null)return n;var i=t.indexOf("%");s=r*parseFloat(t.slice(0,i))/100}else s=+t;return ua(s)&&(s=n),a&&r!=null&&s>r&&(s=r),s},y5=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function it(e,t,r){return _e(e)&&_e(t)?e+r*(t-e):t}function b5(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ql(n,t))===r)}var Mt=e=>e===null||typeof e>"u",K0=e=>Mt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function WY(e){return e!=null}function G0(){}var HY=["type","size","sizeType"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xw.apply(null,arguments)}function LA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(r),!0).forEach(function(n){KY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=qY(e,"string");return typeof t=="symbol"?t:t+""}function qY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YY(e,t){if(e==null)return{};var r,n,a=XY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function XY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w5={symbolCircle:hk,symbolCross:pY,symbolDiamond:vY,symbolSquare:gY,symbolStar:wY,symbolTriangle:_Y,symbolWye:SY},ZY=Math.PI/180,JY=e=>{var t="symbol".concat(K0(e));return w5[t]||hk},QY=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*ZY;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},eX=(e,t)=>{w5["symbol".concat(K0(e))]=t},mk=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=YY(e,HY),s=$A($A({},a),{},{type:t,size:r,sizeType:n}),i="circle";typeof t=="string"&&(i=t);var o=()=>{var h=JY(i),p=EY().type(h).size(QY(r,n,i)),m=p();if(m!==null)return m},{className:l,cx:c,cy:u}=s,f=vn(s);return _e(c)&&_e(u)&&_e(r)?w.createElement("path",xw({},f,{className:Ze("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:o()})):null};mk.registerSymbol=eX;var _5=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,vk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ck(a)&&(n[a]=s=>r[a](r,s))}),n},tX=(e,t,r)=>n=>(e(t,r,n),null),q0=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var s=e[a];ck(a)&&typeof s=="function"&&(n||(n={}),n[a]=tX(s,t,r))}),n};function BA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(r),!0).forEach(function(n){nX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nX(e,t,r){return(t=aX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=sX(e,"string");return typeof t=="symbol"?t:t+""}function sX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function er(e,t){var r=rX({},e),n=t,a=Object.keys(t),s=a.reduce((i,o)=>(i[o]===void 0&&n[o]!==void 0&&(i[o]=n[o]),i),r);return s}function iv(){return iv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iv.apply(null,arguments)}function zA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return(t=lX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ia=32,uX={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function dX(e){var{data:t,iconType:r,inactiveColor:n}=e,a=Ia/2,s=Ia/6,i=Ia/3,o=t.inactive?n:t.color,l=r??t.type;if(l==="none")return null;if(l==="plainline"){var c;return w.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(c=t.payload)===null||c===void 0?void 0:c.strokeDasharray,x1:0,y1:a,x2:Ia,y2:a,className:"recharts-legend-icon"})}if(l==="line")return w.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*i,",").concat(a,`
            H`).concat(Ia,"M").concat(2*i,",").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(i,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return w.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ia/8,"h").concat(Ia,"v").concat(Ia*3/4,"h").concat(-Ia,"z"),className:"recharts-legend-icon"});if(w.isValidElement(t.legendIcon)){var u=iX({},t);return delete u.legendIcon,w.cloneElement(t.legendIcon,u)}return w.createElement(mk,{fill:o,cx:a,cy:a,size:Ia,sizeType:"diameter",type:l})}function fX(e){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:s,iconType:i}=e,o={x:0,y:0,width:Ia,height:Ia},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((u,f)=>{var h=u.formatter||a,p=Ze({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:u.inactive});if(u.type==="none")return null;var m=u.inactive?s:u.color,v=h?h(u.value,u,f):u.value;return w.createElement("li",iv({className:p,style:l,key:"legend-item-".concat(f)},q0(e,u,f)),w.createElement(uk,{width:r,height:r,viewBox:o,style:c,"aria-label":"".concat(v," legend icon")},w.createElement(dX,{data:u,iconType:i,inactiveColor:s})),w.createElement("span",{className:"recharts-legend-item-text",style:{color:m}},v))})}var hX=e=>{var t=er(e,uX),{payload:r,layout:n,align:a}=t;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?a:"left"};return w.createElement("ul",{className:"recharts-default-legend",style:s},w.createElement(fX,iv({},t,{payload:r})))},k5={},S5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let s=0;s<r.length;s++){const i=r[s],o=n(i);a.has(o)||a.set(o,i)}return Array.from(a.values())}e.uniqBy=t})(S5);var gk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(gk);var E5={},Jg={},C5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(C5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C5;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Jg);var T5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(T5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jg,r=T5;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(E5);var A5={},j5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yg;function r(n){return function(a){return t.get(a,n)}}e.property=r})(j5);var P5={},xk={},N5={},yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(yk);var bk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(bk);var wk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(wk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yk,r=bk,n=wk;function a(u,f,h){return typeof h!="function"?a(u,f,()=>{}):s(u,f,function p(m,v,g,x,b,y){const _=h(m,v,g,x,b,y);return _!==void 0?!!_:s(m,v,p,y)},new Map)}function s(u,f,h,p){if(f===u)return!0;switch(typeof f){case"object":return i(u,f,h,p);case"function":return Object.keys(f).length>0?s(u,{...f},h,p):n.eq(u,f);default:return t.isObject(u)?typeof f=="string"?f==="":!0:n.eq(u,f)}}function i(u,f,h,p){if(f==null)return!0;if(Array.isArray(f))return l(u,f,h,p);if(f instanceof Map)return o(u,f,h,p);if(f instanceof Set)return c(u,f,h,p);const m=Object.keys(f);if(u==null)return m.length===0;if(m.length===0)return!0;if(p!=null&&p.has(f))return p.get(f)===u;p==null||p.set(f,u);try{for(let v=0;v<m.length;v++){const g=m[v];if(!r.isPrimitive(u)&&!(g in u)||f[g]===void 0&&u[g]!==void 0||f[g]===null&&u[g]!==null||!h(u[g],f[g],g,u,f,p))return!1}return!0}finally{p==null||p.delete(f)}}function o(u,f,h,p){if(f.size===0)return!0;if(!(u instanceof Map))return!1;for(const[m,v]of f.entries()){const g=u.get(m);if(h(g,v,m,u,f,p)===!1)return!1}return!0}function l(u,f,h,p){if(f.length===0)return!0;if(!Array.isArray(u))return!1;const m=new Set;for(let v=0;v<f.length;v++){const g=f[v];let x=!1;for(let b=0;b<u.length;b++){if(m.has(b))continue;const y=u[b];let _=!1;if(h(y,g,v,u,f,p)&&(_=!0),_){m.add(b),x=!0;break}}if(!x)return!1}return!0}function c(u,f,h,p){return f.size===0?!0:u instanceof Set?l([...u],[...f],h,p):!1}e.isMatchWith=a,e.isSetMatch=c})(N5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N5;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(xk);var O5={},_k={},D5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(D5);var kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(kk);var Sk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",s="[object Arguments]",i="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",f="[object Function]",h="[object ArrayBuffer]",p="[object Object]",m="[object Error]",v="[object DataView]",g="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",y="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",k="[object Int16Array]",E="[object Int32Array]",C="[object BigInt64Array]",T="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=u,e.bigInt64ArrayTag=C,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=v,e.dateTag=o,e.errorTag=m,e.float32ArrayTag=T,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=E,e.int8ArrayTag=S,e.mapTag=l,e.numberTag=n,e.objectTag=p,e.regexpTag=t,e.setTag=c,e.stringTag=r,e.symbolTag=i,e.uint16ArrayTag=b,e.uint32ArrayTag=y,e.uint8ArrayTag=g,e.uint8ClampedArrayTag=x})(Sk);var M5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(M5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=D5,r=kk,n=Sk,a=bk,s=M5;function i(u,f){return o(u,void 0,u,new Map,f)}function o(u,f,h,p=new Map,m=void 0){const v=m==null?void 0:m(u,f,h,p);if(v!==void 0)return v;if(a.isPrimitive(u))return u;if(p.has(u))return p.get(u);if(Array.isArray(u)){const g=new Array(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return Object.hasOwn(u,"index")&&(g.index=u.index),Object.hasOwn(u,"input")&&(g.input=u.input),g}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const g=new RegExp(u.source,u.flags);return g.lastIndex=u.lastIndex,g}if(u instanceof Map){const g=new Map;p.set(u,g);for(const[x,b]of u)g.set(x,o(b,x,h,p,m));return g}if(u instanceof Set){const g=new Set;p.set(u,g);for(const x of u)g.add(o(x,void 0,h,p,m));return g}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const g=new(Object.getPrototypeOf(u)).constructor(u.length);p.set(u,g);for(let x=0;x<u.length;x++)g[x]=o(u[x],x,h,p,m);return g}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const g=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return p.set(u,g),l(g,u,h,p,m),g}if(typeof File<"u"&&u instanceof File){const g=new File([u],u.name,{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(typeof Blob<"u"&&u instanceof Blob){const g=new Blob([u],{type:u.type});return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Error){const g=new u.constructor;return p.set(u,g),g.message=u.message,g.name=u.name,g.stack=u.stack,g.cause=u.cause,l(g,u,h,p,m),g}if(u instanceof Boolean){const g=new Boolean(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof Number){const g=new Number(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(u instanceof String){const g=new String(u.valueOf());return p.set(u,g),l(g,u,h,p,m),g}if(typeof u=="object"&&c(u)){const g=Object.create(Object.getPrototypeOf(u));return p.set(u,g),l(g,u,h,p,m),g}return u}function l(u,f,h=u,p,m){const v=[...Object.keys(f),...t.getSymbols(f)];for(let g=0;g<v.length;g++){const x=v[g],b=Object.getOwnPropertyDescriptor(u,x);(b==null||b.writable)&&(u[x]=o(f[x],x,h,p,m))}}function c(u){switch(r.getTag(u)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=i,e.cloneDeepWithImpl=o,e.copyProperties=l})(_k);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(O5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk,r=O5;function n(a){return a=r.cloneDeep(a),s=>t.isMatch(s,a)}e.matches=n})(P5);var I5={},R5={},F5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_k,r=Sk;function n(a,s){return t.cloneDeepWith(a,(i,o,l,c)=>{const u=s==null?void 0:s(i,o,l,c);if(u!==void 0)return u;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(f,a),f}case r.argumentsTag:{const f={};return t.copyProperties(f,a),f.length=a.length,f[Symbol.iterator]=a[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(F5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F5;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(R5);var L5={},Ek={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ek);var $5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kk;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})($5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk,r=Ek,n=$5,a=Zg;function s(i,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(i==null?void 0:i[o])==null?l=a.toPath(o):l=[o],l.length===0)return!1;let c=i;for(let u=0;u<l.length;u++){const f=l[u];if((c==null||!Object.hasOwn(c,f))&&!((Array.isArray(c)||n.isArguments(c))&&r.isIndex(f)&&f<c.length))return!1;c=c[f]}return!0}e.has=s})(L5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xk,r=Xg,n=R5,a=Yg,s=L5;function i(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(c){const u=a.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:t.isMatch(u,l)}}e.matchesProperty=i})(I5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gk,r=j5,n=P5,a=I5;function s(i){if(i==null)return t.identity;switch(typeof i){case"function":return i;case"object":return Array.isArray(i)&&i.length===2?a.matchesProperty(i[0],i[1]):n.matches(i);case"string":case"symbol":case"number":return r.property(i)}}e.iteratee=s})(A5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=S5,r=gk,n=E5,a=A5;function s(i,o=r.identity){return n.isArrayLikeObject(i)?t.uniqBy(Array.from(i),a.iteratee(o)):[]}e.uniqBy=s})(k5);var pX=k5.uniqBy;const UA=ni(pX);function B5(e,t,r){return t===!0?UA(e,r):typeof t=="function"?UA(e,t):e}var z5={exports:{}},U5={},V5={exports:{}},W5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Du=w;function mX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vX=typeof Object.is=="function"?Object.is:mX,gX=Du.useState,xX=Du.useEffect,yX=Du.useLayoutEffect,bX=Du.useDebugValue;function wX(e,t){var r=t(),n=gX({inst:{value:r,getSnapshot:t}}),a=n[0].inst,s=n[1];return yX(function(){a.value=r,a.getSnapshot=t,Jy(a)&&s({inst:a})},[e,r,t]),xX(function(){return Jy(a)&&s({inst:a}),e(function(){Jy(a)&&s({inst:a})})},[e]),bX(r),r}function Jy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vX(e,r)}catch{return!0}}function _X(e,t){return t()}var kX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_X:wX;W5.useSyncExternalStore=Du.useSyncExternalStore!==void 0?Du.useSyncExternalStore:kX;V5.exports=W5;var SX=V5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=w,EX=SX;function CX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TX=typeof Object.is=="function"?Object.is:CX,AX=EX.useSyncExternalStore,jX=Qg.useRef,PX=Qg.useEffect,NX=Qg.useMemo,OX=Qg.useDebugValue;U5.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=jX(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=NX(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,TX(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=AX(e,s[0],s[1]);return PX(function(){i.hasValue=!0,i.value=o},[o]),OX(o),o};z5.exports=U5;var DX=z5.exports,Ck=w.createContext(null),MX=e=>e,xt=()=>{var e=w.useContext(Ck);return e?e.store.dispatch:MX},fm=()=>{},IX=()=>fm,RX=(e,t)=>e===t;function Se(e){var t=w.useContext(Ck);return DX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:IX,t?t.store.getState:fm,t?t.store.getState:fm,t?e:fm,RX)}function FX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function LX(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function $X(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var VA=e=>Array.isArray(e)?e:[e];function BX(e){const t=Array.isArray(e[0])?e[0]:e;return $X(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function zX(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var UX=class{constructor(e){this.value=e}deref(){return this.value}},VX=typeof WeakRef<"u"?WeakRef:UX,WX=0,WA=1;function hp(){return{s:WX,v:void 0,o:null,p:null}}function H5(e,t={}){let r=hp();const{resultEqualityCheck:n}=t;let a,s=0;function i(){var f;let o=r;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const m=arguments[h];if(typeof m=="function"||typeof m=="object"&&m!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const g=v.get(m);g===void 0?(o=hp(),v.set(m,o)):o=g}else{let v=o.p;v===null&&(o.p=v=new Map);const g=v.get(m);g===void 0?(o=hp(),v.set(m,o)):o=g}}const c=o;let u;if(o.s===WA)u=o.v;else if(u=e.apply(null,arguments),s++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,u)&&(u=h,s!==0&&s--),a=typeof u=="object"&&u!==null||typeof u=="function"?new VX(u):u}return c.s=WA,c.v=u,u}return i.clearCache=()=>{r=hp(),i.resetResultsCount()},i.resultsCount=()=>s,i.resetResultsCount=()=>{s=0},i}function HX(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let s=0,i=0,o,l={},c=a.pop();typeof c=="object"&&(l=c,c=a.pop()),FX(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...r,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:p=H5,argsMemoizeOptions:m=[]}=u,v=VA(h),g=VA(m),x=BX(a),b=f(function(){return s++,c.apply(null,arguments)},...v),y=p(function(){i++;const S=zX(x,arguments);return o=b.apply(null,S),o},...g);return Object.assign(y,{resultFunc:c,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>i,resetDependencyRecomputations:()=>{i=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:p})};return Object.assign(n,{withTypes:()=>n}),n}var ee=HX(H5),KX=Object.assign((e,t=ee)=>{LX(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((i,o,l)=>(i[r[l]]=o,i),{}))},{withTypes:()=>KX}),K5={},G5={},q5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,s)=>{if(n!==a){const i=t(n),o=t(a);if(i===o&&i===0){if(n<a)return s==="desc"?1:-1;if(n>a)return s==="desc"?-1:1}return s==="desc"?o-i:i-o}return 0};e.compareValues=r})(q5);var Y5={},Tk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Tk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,i){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||i!=null&&Object.hasOwn(i,s)}e.isKey=a})(Y5);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q5,r=Y5,n=Zg;function a(s,i,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(i)||(i=i==null?[null]:[i]),i.length===0&&(i=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(p=>String(p));const c=(p,m)=>{let v=p;for(let g=0;g<m.length&&v!=null;++g)v=v[m[g]];return v},u=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:c(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?c(m,p):typeof m=="object"?m[p]:m,f=i.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||r.isKey(p)?p:{key:p,path:n.toPath(p)}));return s.map(p=>({original:p,criteria:f.map(m=>u(m,p))})).slice().sort((p,m)=>{for(let v=0;v<f.length;v++){const g=t.compareValues(p.criteria[v],m.criteria[v],o[v]);if(g!==0)return g}return 0}).map(p=>p.original)}e.orderBy=a})(G5);var X5={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],s=Math.floor(n),i=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?i(u,l+1):a.push(u)}};return i(r,0),a}e.flatten=t})(X5);var Ak={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ek,r=Jg,n=yk,a=wk;function s(i,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?a.eq(l[o],i):!1}e.isIterateeCall=s})(Ak);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=G5,r=X5,n=Ak;function a(s,...i){const o=i.length;return o>1&&n.isIterateeCall(s,i[0],i[1])?i=[]:o>2&&n.isIterateeCall(i[0],i[1],i[2])&&(i=[i[0]]),t.orderBy(s,r.flatten(i),["asc"])}e.sortBy=a})(K5);var GX=K5.sortBy;const ex=ni(GX);var Z5=e=>e.legend.settings,qX=e=>e.legend.size,YX=e=>e.legend.payload,XX=ee([YX,Z5],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?ex(n,r):n});function ZX(){return Se(XX)}var pp=1;function J5(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(a=>{if(a!=null){var s=a.getBoundingClientRect(),i={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(i.height-t.height)>pp||Math.abs(i.left-t.left)>pp||Math.abs(i.top-t.top)>pp||Math.abs(i.width-t.width)>pp)&&r({height:i.height,left:i.left,top:i.top,width:i.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function ln(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var JX=typeof Symbol=="function"&&Symbol.observable||"@@observable",HA=JX,Qy=()=>Math.random().toString(36).substring(7).split("").join("."),QX={INIT:`@@redux/INIT${Qy()}`,REPLACE:`@@redux/REPLACE${Qy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Qy()}`},ov=QX;function jk(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function Q5(e,t,r){if(typeof e!="function")throw new Error(ln(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ln(1));return r(Q5)(e,t)}let n=e,a=t,s=new Map,i=s,o=0,l=!1;function c(){i===s&&(i=new Map,s.forEach((g,x)=>{i.set(x,g)}))}function u(){if(l)throw new Error(ln(3));return a}function f(g){if(typeof g!="function")throw new Error(ln(4));if(l)throw new Error(ln(5));let x=!0;c();const b=o++;return i.set(b,g),function(){if(x){if(l)throw new Error(ln(6));x=!1,c(),i.delete(b),s=null}}}function h(g){if(!jk(g))throw new Error(ln(7));if(typeof g.type>"u")throw new Error(ln(8));if(typeof g.type!="string")throw new Error(ln(17));if(l)throw new Error(ln(9));try{l=!0,a=n(a,g)}finally{l=!1}return(s=i).forEach(b=>{b()}),g}function p(g){if(typeof g!="function")throw new Error(ln(10));n=g,h({type:ov.REPLACE})}function m(){const g=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(ln(11));function b(){const _=x;_.next&&_.next(u())}return b(),{unsubscribe:g(b)}},[HA](){return this}}}return h({type:ov.INIT}),{dispatch:h,subscribe:f,getState:u,replaceReducer:p,[HA]:m}}function eZ(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:ov.INIT})>"u")throw new Error(ln(12));if(typeof r(void 0,{type:ov.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function eR(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const i=t[s];typeof e[i]=="function"&&(r[i]=e[i])}const n=Object.keys(r);let a;try{eZ(r)}catch(s){a=s}return function(i={},o){if(a)throw a;let l=!1;const c={};for(let u=0;u<n.length;u++){const f=n[u],h=r[f],p=i[f],m=h(p,o);if(typeof m>"u")throw o&&o.type,new Error(ln(14));c[f]=m,l=l||m!==p}return l=l||n.length!==Object.keys(i).length,l?c:i}}function lv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tZ(...e){return t=>(r,n)=>{const a=t(r,n);let s=()=>{throw new Error(ln(15))};const i={getState:a.getState,dispatch:(l,...c)=>s(l,...c)},o=e.map(l=>l(i));return s=lv(...o)(a.dispatch),{...a,dispatch:s}}}function tR(e){return jk(e)&&"type"in e&&typeof e.type=="string"}var rR=Symbol.for("immer-nothing"),KA=Symbol.for("immer-draftable"),Yn=Symbol.for("immer-state");function fs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wa=Object,Mu=wa.getPrototypeOf,cv="constructor",tx="prototype",yw="configurable",uv="enumerable",hm="writable",e0="value",Ri=e=>!!e&&!!e[Yn];function qs(e){var t;return e?nR(e)||rx(e)||!!e[KA]||!!((t=e[cv])!=null&&t[KA])||nx(e)||ax(e):!1}var rZ=wa[tx][cv].toString(),GA=new WeakMap;function nR(e){if(!e||!Pk(e))return!1;const t=Mu(e);if(t===null||t===wa[tx])return!0;const r=wa.hasOwnProperty.call(t,cv)&&t[cv];if(r===Object)return!0;if(!Lc(r))return!1;let n=GA.get(r);return n===void 0&&(n=Function.toString.call(r),GA.set(r,n)),n===rZ}function Y0(e,t,r=!0){X0(e)===0?(r?Reflect.ownKeys(e):wa.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function X0(e){const t=e[Yn];return t?t.type_:rx(e)?1:nx(e)?2:ax(e)?3:0}var qA=(e,t,r=X0(e))=>r===2?e.has(t):wa[tx].hasOwnProperty.call(e,t),bw=(e,t,r=X0(e))=>r===2?e.get(t):e[t],dv=(e,t,r,n=X0(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function nZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var rx=Array.isArray,nx=e=>e instanceof Map,ax=e=>e instanceof Set,Pk=e=>typeof e=="object",Lc=e=>typeof e=="function",e1=e=>typeof e=="boolean",mi=e=>e.copy_||e.base_,Nk=e=>e.modified_?e.copy_:e.base_;function ww(e,t){if(nx(e))return new Map(e);if(ax(e))return new Set(e);if(rx(e))return Array[tx].slice.call(e);const r=nR(e);if(t===!0||t==="class_only"&&!r){const n=wa.getOwnPropertyDescriptors(e);delete n[Yn];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o[hm]===!1&&(o[hm]=!0,o[yw]=!0),(o.get||o.set)&&(n[i]={[yw]:!0,[hm]:!0,[uv]:o[uv],[e0]:e[i]})}return wa.create(Mu(e),n)}else{const n=Mu(e);if(n!==null&&r)return{...e};const a=wa.create(n);return wa.assign(a,e)}}function Ok(e,t=!1){return sx(e)||Ri(e)||(X0(e)>1&&wa.defineProperties(e,{set:mp,add:mp,clear:mp,delete:mp}),wa.freeze(e),t&&Y0(e,(r,n)=>{Ok(n,!0)},!1)),e}function aZ(){fs(2)}var mp={[e0]:aZ};function sx(e){return e===null||!Pk(e)?!0:wa.isFrozen(e)}var fv="MapSet",_w="Patches",aR={};function Iu(e){const t=aR[e];return t||fs(0,e),t}var sZ=e=>!!aR[e],t0,sR=()=>t0,iZ=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:sZ(fv)?Iu(fv):void 0});function YA(e,t){t&&(e.patchPlugin_=Iu(_w),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function kw(e){Sw(e),e.drafts_.forEach(oZ),e.drafts_=null}function Sw(e){e===t0&&(t0=e.parent_)}var XA=e=>t0=iZ(t0,e);function oZ(e){const t=e[Yn];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function ZA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Yn].modified_&&(kw(t),fs(4)),qs(e)&&(e=JA(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Yn].base_,e,t)}else e=JA(t,r);return lZ(t,e,!0),kw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rR?e:void 0}function JA(e,t){if(sx(t))return t;const r=t[Yn];if(!r)return Dk(t,e.handledSet_,e);if(!ix(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);lR(r,e)}return r.copy_}function lZ(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ok(t,r)}function iR(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var ix=(e,t)=>e.scope_===t,cZ=[];function oR(e,t,r,n){const a=mi(e),s=e.type_;if(n!==void 0&&bw(a,n,s)===t){dv(a,n,r,s);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;Y0(a,(l,c)=>{if(Ri(c)){const u=o.get(c)||[];u.push(l),o.set(c,u)}})}const i=e.draftLocations_.get(t)??cZ;for(const o of i)dv(a,o,r,s)}function uZ(e,t,r){e.callbacks_.push(function(a){var o;const s=t;if(!s||!ix(s,a))return;(o=a.mapSetPlugin_)==null||o.fixSetContents(s);const i=Nk(s);oR(e,s.draft_??s,i,r),lR(s,a)})}function lR(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const s=a.getPath(e);s&&a.generatePatches_(e,s,t)}iR(e)}}function dZ(e,t,r){const{scope_:n}=e;if(Ri(r)){const a=r[Yn];ix(a,n)&&a.callbacks_.push(function(){pm(e);const i=Nk(a);oR(e,r,i,t)})}else qs(r)&&e.callbacks_.push(function(){const s=mi(e);bw(s,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Dk(bw(e.copy_,t,e.type_),n.handledSet_,n)})}function Dk(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Ri(e)||t.has(e)||!qs(e)||sx(e)||(t.add(e),Y0(e,(n,a)=>{if(Ri(a)){const s=a[Yn];if(ix(s,r)){const i=Nk(s);dv(e,n,i,e.type_),iR(s)}}else qs(a)&&Dk(a,t,r)})),e}function fZ(e,t){const r=rx(e),n={type_:r?1:0,scope_:t?t.scope_:sR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,s=Mk;r&&(a=[n],s=r0);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,[o,n]}var Mk={get(e,t){if(t===Yn)return e;const r=mi(e);if(!qA(r,t,e.type_))return hZ(e,r,t);const n=r[t];if(e.finalized_||!qs(n))return n;if(n===t1(e.base_,t)){pm(e);const a=e.type_===1?+t:t,s=Cw(e.scope_,n,e,a);return e.copy_[a]=s}return n},has(e,t){return t in mi(e)},ownKeys(e){return Reflect.ownKeys(mi(e))},set(e,t,r){const n=cR(mi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=t1(mi(e),t),s=a==null?void 0:a[Yn];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(nZ(r,a)&&(r!==void 0||qA(e.base_,t,e.type_)))return!0;pm(e),Ew(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),dZ(e,t,r)),!0},deleteProperty(e,t){return pm(e),t1(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ew(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=mi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[hm]:!0,[yw]:e.type_!==1||t!=="length",[uv]:n[uv],[e0]:r[t]}},defineProperty(){fs(11)},getPrototypeOf(e){return Mu(e.base_)},setPrototypeOf(){fs(12)}},r0={};Y0(Mk,(e,t)=>{r0[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}});r0.deleteProperty=function(e,t){return r0.set.call(this,e,t,void 0)};r0.set=function(e,t,r){return Mk.set.call(this,e[0],t,r,e[0])};function t1(e,t){const r=e[Yn];return(r?mi(r):e)[t]}function hZ(e,t,r){var a;const n=cR(t,r);return n?e0 in n?n[e0]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function cR(e,t){if(!(t in e))return;let r=Mu(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Mu(r)}}function Ew(e){e.modified_||(e.modified_=!0,e.parent_&&Ew(e.parent_))}function pm(e){e.copy_||(e.assigned_=new Map,e.copy_=ww(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var pZ=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Lc(r)&&!Lc(n)){const i=n;n=r;const o=this;return function(c=i,...u){return o.produce(c,f=>n.call(this,f,...u))}}Lc(n)||fs(6),a!==void 0&&!Lc(a)&&fs(7);let s;if(qs(r)){const i=XA(this),o=Cw(i,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?kw(i):Sw(i)}return YA(i,a),ZA(s,i)}else if(!r||!Pk(r)){if(s=n(r),s===void 0&&(s=r),s===rR&&(s=void 0),this.autoFreeze_&&Ok(s,!0),a){const i=[],o=[];Iu(_w).generateReplacementPatches_(r,s,{patches_:i,inversePatches_:o}),a(i,o)}return s}else fs(1,r)},this.produceWithPatches=(r,n)=>{if(Lc(r))return(o,...l)=>this.produceWithPatches(o,c=>r(c,...l));let a,s;return[this.produce(r,n,(o,l)=>{a=o,s=l}),a,s]},e1(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),e1(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),e1(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){qs(t)||fs(8),Ri(t)&&(t=_s(t));const r=XA(this),n=Cw(r,t,void 0);return n[Yn].isManual_=!0,Sw(r),n}finishDraft(t,r){const n=t&&t[Yn];(!n||!n.isManual_)&&fs(9);const{scope_:a}=n;return YA(a,r),ZA(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){t=s.value;break}}n>-1&&(r=r.slice(n+1));const a=Iu(_w).applyPatches_;return Ri(t)?a(t,r):this.produce(t,s=>a(s,r))}};function Cw(e,t,r,n){const[a,s]=nx(t)?Iu(fv).proxyMap_(t,r):ax(t)?Iu(fv).proxySet_(t,r):fZ(t,r);return((r==null?void 0:r.scope_)??sR()).drafts_.push(a),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?uZ(r,s,n):s.callbacks_.push(function(l){var u;(u=l.mapSetPlugin_)==null||u.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),a}function _s(e){return Ri(e)||fs(10,e),uR(e)}function uR(e){if(!qs(e)||sx(e))return e;const t=e[Yn];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ww(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ww(e,!0);return Y0(r,(a,s)=>{dv(r,a,uR(s))},n),t&&(t.finalized_=!1),r}var mZ=new pZ,dR=mZ.produce;function fR(e){return({dispatch:r,getState:n})=>a=>s=>typeof s=="function"?s(r,n,e):a(s)}var vZ=fR(),gZ=fR,xZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?lv:lv.apply(null,arguments)};function Ya(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(ka(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tR(n)&&n.type===e,r}var hR=class Gd extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Gd.prototype)}static get[Symbol.species](){return Gd}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Gd(...t[0].concat(this)):new Gd(...t.concat(this))}};function QA(e){return qs(e)?dR(e,()=>{}):e}function vp(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function yZ(e){return typeof e=="boolean"}var bZ=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:s=!0}=t??{};let i=new hR;return r&&(yZ(r)?i.push(vZ):i.push(gZ(r.extraArgument))),i},pR="RTK_autoBatch",It=()=>e=>({payload:e,meta:{[pR]:!0}}),ej=e=>t=>{setTimeout(t,e)},mR=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,s=!1,i=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ej(10):e.type==="callback"?e.queueNotification:ej(e.timeout),c=()=>{i=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},n,{subscribe(u){const f=()=>a&&u(),h=n.subscribe(f);return o.add(u),()=>{h(),o.delete(u)}},dispatch(u){var f;try{return a=!((f=u==null?void 0:u.meta)!=null&&f[pR]),s=!a,s&&(i||(i=!0,l(c))),n.dispatch(u)}finally{a=!0}}})},wZ=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new hR(e);return n&&a.push(mR(typeof n=="object"?n:void 0)),a};function _Z(e){const t=bZ(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:s=void 0,enhancers:i=void 0}=e||{};let o;if(typeof r=="function")o=r;else if(jk(r))o=eR(r);else throw new Error(ka(1));let l;typeof n=="function"?l=n(t):l=t();let c=lv;a&&(c=xZ({trace:!1,...typeof a=="object"&&a}));const u=tZ(...l),f=wZ(u);let h=typeof i=="function"?i(f):f();const p=c(...h);return Q5(o,s,p)}function vR(e){const t={},r=[];let n;const a={addCase(s,i){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(ka(28));if(o in t)throw new Error(ka(29));return t[o]=i,a},addAsyncThunk(s,i){return i.pending&&(t[s.pending.type]=i.pending),i.rejected&&(t[s.rejected.type]=i.rejected),i.fulfilled&&(t[s.fulfilled.type]=i.fulfilled),i.settled&&r.push({matcher:s.settled,reducer:i.settled}),a},addMatcher(s,i){return r.push({matcher:s,reducer:i}),a},addDefaultCase(s){return n=s,a}};return e(a),[t,r,n]}function kZ(e){return typeof e=="function"}function SZ(e,t){let[r,n,a]=vR(t),s;if(kZ(e))s=()=>QA(e());else{const o=QA(e);s=()=>o}function i(o=s(),l){let c=[r[l.type],...n.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[a]),c.reduce((u,f)=>{if(f)if(Ri(u)){const p=f(u,l);return p===void 0?u:p}else{if(qs(u))return dR(u,h=>f(h,l));{const h=f(u,l);if(h===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return u},o)}return i.getInitialState=s,i}var EZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",CZ=(e=21)=>{let t="",r=e;for(;r--;)t+=EZ[Math.random()*64|0];return t},TZ=Symbol.for("rtk-slice-createasyncthunk");function AZ(e,t){return`${e}/${t}`}function jZ({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[TZ];return function(a){const{name:s,reducerPath:i=s}=a;if(!s)throw new Error(ka(11));const o=(typeof a.reducers=="function"?a.reducers(NZ()):a.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(_,S){const k=typeof _=="string"?_:_.type;if(!k)throw new Error(ka(12));if(k in c.sliceCaseReducersByType)throw new Error(ka(13));return c.sliceCaseReducersByType[k]=S,u},addMatcher(_,S){return c.sliceMatchers.push({matcher:_,reducer:S}),u},exposeAction(_,S){return c.actionCreators[_]=S,u},exposeCaseReducer(_,S){return c.sliceCaseReducersByName[_]=S,u}};l.forEach(_=>{const S=o[_],k={reducerName:_,type:AZ(s,_),createNotation:typeof a.reducers=="function"};DZ(S)?IZ(k,S,u,t):OZ(k,S,u)});function f(){const[_={},S=[],k=void 0]=typeof a.extraReducers=="function"?vR(a.extraReducers):[a.extraReducers],E={..._,...c.sliceCaseReducersByType};return SZ(a.initialState,C=>{for(let T in E)C.addCase(T,E[T]);for(let T of c.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of S)C.addMatcher(T.matcher,T.reducer);k&&C.addDefaultCase(k)})}const h=_=>_,p=new Map,m=new WeakMap;let v;function g(_,S){return v||(v=f()),v(_,S)}function x(){return v||(v=f()),v.getInitialState()}function b(_,S=!1){function k(C){let T=C[_];return typeof T>"u"&&S&&(T=vp(m,k,x)),T}function E(C=h){const T=vp(p,S,()=>new WeakMap);return vp(T,C,()=>{const A={};for(const[N,j]of Object.entries(a.selectors??{}))A[N]=PZ(j,C,()=>vp(m,C,x),S);return A})}return{reducerPath:_,getSelectors:E,get selectors(){return E(k)},selectSlice:k}}const y={name:s,reducer:g,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...b(i),injectInto(_,{reducerPath:S,...k}={}){const E=S??i;return _.inject({reducerPath:E,reducer:g},k),{...y,...b(E,!0)}}};return y}}function PZ(e,t,r,n){function a(s,...i){let o=t(s);return typeof o>"u"&&n&&(o=r()),e(o,...i)}return a.unwrapped=e,a}var da=jZ();function NZ(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function OZ({type:e,reducerName:t,createNotation:r},n,a){let s,i;if("reducer"in n){if(r&&!MZ(n))throw new Error(ka(17));s=n.reducer,i=n.prepare}else s=n;a.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,i?Ya(e,i):Ya(e))}function DZ(e){return e._reducerDefinitionType==="asyncThunk"}function MZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IZ({type:e,reducerName:t},r,n,a){if(!a)throw new Error(ka(18));const{payloadCreator:s,fulfilled:i,pending:o,rejected:l,settled:c,options:u}=r,f=a(e,s,u);n.exposeAction(t,f),i&&n.addCase(f.fulfilled,i),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),c&&n.addMatcher(f.settled,c),n.exposeCaseReducer(t,{fulfilled:i||gp,pending:o||gp,rejected:l||gp,settled:c||gp})}function gp(){}var RZ="task",gR="listener",xR="completed",Ik="cancelled",FZ=`task-${Ik}`,LZ=`task-${xR}`,Tw=`${gR}-${Ik}`,$Z=`${gR}-${xR}`,ox=class{constructor(e){ts(this,"name","TaskAbortError");ts(this,"message");this.code=e,this.message=`${RZ} ${Ik} (reason: ${e})`}},Rk=(e,t)=>{if(typeof e!="function")throw new TypeError(ka(32))},hv=()=>{},yR=(e,t=hv)=>(e.catch(t),e),bR=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ol=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Dl=e=>{if(e.aborted){const{reason:t}=e;throw new ox(t)}};function wR(e,t){let r=hv;return new Promise((n,a)=>{const s=()=>a(new ox(e.reason));if(e.aborted){s();return}r=bR(e,s),t.finally(()=>r()).then(n,a)}).finally(()=>{r=hv})}var BZ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ox?"cancelled":"rejected",error:r}}finally{t==null||t()}},pv=e=>t=>yR(wR(e,t).then(r=>(Dl(e),r))),_R=e=>{const t=pv(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:vu}=Object,tj={},lx="listenerMiddleware",zZ=(e,t)=>{const r=n=>bR(e,()=>Ol(n,e.reason));return(n,a)=>{Rk(n);const s=new AbortController;r(s);const i=BZ(async()=>{Dl(e),Dl(s.signal);const o=await n({pause:pv(s.signal),delay:_R(s.signal),signal:s.signal});return Dl(s.signal),o},()=>Ol(s,LZ));return a!=null&&a.autoJoin&&t.push(i.catch(hv)),{result:pv(e)(i),cancel(){Ol(s,FZ)}}}},UZ=(e,t)=>{const r=async(n,a)=>{Dl(t);let s=()=>{};const o=[new Promise((l,c)=>{let u=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});s=()=>{u(),c()}})];a!=null&&o.push(new Promise(l=>setTimeout(l,a,null)));try{const l=await wR(t,Promise.race(o));return Dl(t),l}finally{s()}};return(n,a)=>yR(r(n,a))},kR=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:s}=e;if(t)a=Ya(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(ka(21));return Rk(s),{predicate:a,type:t,effect:s}},SR=vu(e=>{const{type:t,predicate:r,effect:n}=kR(e);return{id:CZ(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ka(22))}}},{withTypes:()=>SR}),rj=(e,t)=>{const{type:r,effect:n,predicate:a}=kR(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===a)&&s.effect===n)},Aw=e=>{e.pending.forEach(t=>{Ol(t,Tw)})},VZ=(e,t)=>()=>{for(const r of t.keys())Aw(r);e.clear()},nj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ER=vu(Ya(`${lx}/add`),{withTypes:()=>ER}),WZ=Ya(`${lx}/removeAll`),CR=vu(Ya(`${lx}/remove`),{withTypes:()=>CR}),HZ=(...e)=>{console.error(`${lx}/error`,...e)},Z0=(e={})=>{const t=new Map,r=new Map,n=p=>{const m=r.get(p)??0;r.set(p,m+1)},a=p=>{const m=r.get(p)??1;m===1?r.delete(p):r.set(p,m-1)},{extra:s,onError:i=HZ}=e;Rk(i);const o=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&Aw(p)}),l=p=>{const m=rj(t,p)??SR(p);return o(m)};vu(l,{withTypes:()=>l});const c=p=>{const m=rj(t,p);return m&&(m.unsubscribe(),p.cancelActive&&Aw(m)),!!m};vu(c,{withTypes:()=>c});const u=async(p,m,v,g)=>{const x=new AbortController,b=UZ(l,x.signal),y=[];try{p.pending.add(x),n(p),await Promise.resolve(p.effect(m,vu({},v,{getOriginalState:g,condition:(_,S)=>b(_,S).then(Boolean),take:b,delay:_R(x.signal),pause:pv(x.signal),extra:s,signal:x.signal,fork:zZ(x.signal,y),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((_,S,k)=>{_!==x&&(Ol(_,Tw),k.delete(_))})},cancel:()=>{Ol(x,Tw),p.pending.delete(x)},throwIfCancelled:()=>{Dl(x.signal)}})))}catch(_){_ instanceof ox||nj(i,_,{raisedBy:"effect"})}finally{await Promise.all(y),Ol(x,$Z),a(p),p.pending.delete(x)}},f=VZ(t,r);return{middleware:p=>m=>v=>{if(!tR(v))return m(v);if(ER.match(v))return l(v.payload);if(WZ.match(v)){f();return}if(CR.match(v))return c(v.payload);let g=p.getState();const x=()=>{if(g===tj)throw new Error(ka(23));return g};let b;try{if(b=m(v),t.size>0){const y=p.getState(),_=Array.from(t.values());for(const S of _){let k=!1;try{k=S.predicate(v,y,g)}catch(E){k=!1,nj(i,E,{raisedBy:"predicate"})}k&&u(S,v,p,x)}}}finally{g=tj}return b},startListening:l,stopListening:c,clearListeners:f}};function ka(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KZ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},TR=da({name:"chartLayout",initialState:KZ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,s;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(s=t.payload.left)!==null&&s!==void 0?s:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:GZ,setLayout:qZ,setChartSize:YZ,setScale:XZ}=TR.actions,ZZ=TR.reducer;function AR(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aj(Object(r),!0).forEach(function(n){JZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JZ(e,t,r){return(t=QZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QZ(e){var t=eJ(e,"string");return typeof t=="symbol"?t:t+""}function eJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dt(e,t,r){return Mt(e)||Mt(t)?r:qa(t)?ql(e,t,r):typeof t=="function"?t(e):r}var tJ=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:s,verticalAlign:i,layout:o}=t;if((o==="vertical"||o==="horizontal"&&i==="middle")&&s!=="center"&&_e(e[s]))return Qc(Qc({},e),{},{[s]:e[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&i!=="middle"&&_e(e[i]))return Qc(Qc({},e),{},{[i]:e[i]+(a||0)})}return e},ai=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",jR=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,s,i=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(s=!0),o.coordinate));return a||i.push(t),s||i.push(r),i},PR=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:s,scale:i,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:f,niceTicks:h,axisType:p}=e;if(!i)return null;var m=o==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,v=a==="category"&&i.bandwidth?i.bandwidth()/m:0;if(v=p==="angleAxis"&&s&&s.length>=2?Jr(s[0]-s[1])*2*v:v,f||h){var g=(f||h||[]).map((x,b)=>{var y=n?n.indexOf(x):x;return{coordinate:i(y)+v,value:x,offset:v,index:b}});return g.filter(x=>!ua(x.coordinate))}return l&&c?c.map((x,b)=>({coordinate:i(x)+v,value:x,index:b,offset:v})):i.ticks&&u!=null?i.ticks(u).map((x,b)=>({coordinate:i(x)+v,value:x,offset:v,index:b})):i.domain().map((x,b)=>({coordinate:i(x)+v,value:n?n[x]:x,index:b,offset:v}))},sj=1e-4,rJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-sj,s=Math.max(n[0],n[1])+sj,i=e(t[0]),o=e(t[r-1]);(i<a||i>s||o<a||o>s)&&e.domain([t[0],t[r-1]])}},nJ=(e,t)=>{if(!t||t.length!==2||!_e(t[0])||!_e(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!_e(e[0])||e[0]<r)&&(a[0]=r),(!_e(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},aJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0,i=0;i<t;++i){var o=ua(e[i][r][1])?e[i][r][0]:e[i][r][1];o>=0?(e[i][r][0]=a,e[i][r][1]=a+o,a=e[i][r][1]):(e[i][r][0]=s,e[i][r][1]=s+o,s=e[i][r][1])}},sJ=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,s=0;s<t;++s){var i=ua(e[s][r][1])?e[s][r][0]:e[s][r][1];i>=0?(e[s][r][0]=a,e[s][r][1]=a+i,a=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},iJ={sign:aJ,expand:$Y,none:Ou,silhouette:BY,wiggle:zY,positive:sJ},oJ=(e,t,r)=>{var n=iJ[r],a=LY().keys(t).value((s,i)=>Number(dt(s,i,0))).order(gw).offset(n);return a(e)};function NR(e){return e==null?void 0:String(e)}function mv(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:s,dataKey:i}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Mt(a[t.dataKey])){var o=b5(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=dt(a,Mt(i)?t.dataKey:i);return Mt(l)?null:t.scale(l)}var ij=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:s,index:i}=e;if(t.type==="category")return r[i]?r[i].coordinate+n:null;var o=dt(s,t.dataKey,t.scale.domain()[i]);return Mt(o)?null:t.scale(o)-a/2+n},lJ=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},cJ=e=>{var t=e.flat(2).filter(_e);return[Math.min(...t),Math.max(...t)]},uJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dJ=(e,t,r)=>{if(e!=null)return uJ(Object.keys(e).reduce((n,a)=>{var s=e[a],{stackedData:i}=s,o=i.reduce((l,c)=>{var u=AR(c,t,r),f=cJ(u);return[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},oj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ro=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=ex(t,u=>u.coordinate),s=1/0,i=1,o=a.length;i<o;i++){var l=a[i],c=a[i-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function cj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:s}=e;return Qc(Qc({},t),{},{dataKey:r,payload:n,value:a,name:s})}function qo(e,t){if(e)return String(e);if(typeof t=="string")return t}var fJ=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},hJ=(e,t)=>t==="centric"?e.angle:e.radius,Yi=e=>e.layout.width,Xi=e=>e.layout.height,pJ=e=>e.layout.scale,OR=e=>e.layout.margin,cx=ee(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ux=ee(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),DR="data-recharts-item-index",MR="data-recharts-item-data-key",J0=60;function uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uj(Object(r),!0).forEach(function(n){mJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mJ(e,t,r){return(t=vJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vJ(e){var t=gJ(e,"string");return typeof t=="symbol"?t:t+""}function gJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xJ=e=>e.brush.height;function yJ(e){var t=ux(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:J0;return r+a}return r},0)}function bJ(e){var t=ux(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:J0;return r+a}return r},0)}function wJ(e){var t=cx(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function _J(e){var t=cx(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Br=ee([Yi,Xi,OR,xJ,yJ,bJ,wJ,_J,Z5,qX],(e,t,r,n,a,s,i,o,l,c)=>{var u={left:(r.left||0)+a,right:(r.right||0)+s},f={top:(r.top||0)+i,bottom:(r.bottom||0)+o},h=xp(xp({},f),u),p=h.bottom;h.bottom+=n,h=tJ(h,l,c);var m=e-h.left-h.right,v=t-h.top-h.bottom;return xp(xp({brushBottom:p},h),{},{width:Math.max(m,0),height:Math.max(v,0)})}),kJ=ee(Br,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Fk=ee(Yi,Xi,(e,t)=>({x:0,y:0,width:e,height:t})),SJ=w.createContext(null),zr=()=>w.useContext(SJ)!=null,dx=e=>e.brush,fx=ee([dx,Br,OR],(e,t,r)=>({height:e.height,x:_e(e.x)?e.x:t.left,y:_e(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:_e(e.width)?e.width:t.width})),IR={},RR={},FR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:s}={}){let i,o=null;const l=s!=null&&s.includes("leading"),c=s==null||s.includes("trailing"),u=()=>{o!==null&&(r.apply(i,o),i=void 0,o=null)},f=()=>{c&&u(),v()};let h=null;const p=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},m=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{m(),i=void 0,o=null},g=()=>{u()},x=function(...b){if(a!=null&&a.aborted)return;i=this,o=b;const y=h==null;p(),l&&y&&u()};return x.schedule=p,x.cancel=v,x.flush=g,a==null||a.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(FR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FR;function r(n,a=0,s={}){typeof s!="object"&&(s={});const{leading:i=!1,trailing:o=!0,maxWait:l}=s,c=Array(2);i&&(c[0]="leading"),o&&(c[1]="trailing");let u,f=null;const h=t.debounce(function(...v){u=n.apply(this,v),f=null},a,{edges:c}),p=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(u=n.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),u):(h.apply(this,v),u)},m=()=>(h.flush(),u);return p.cancel=h.cancel,p.flush=m,p}e.debounce=r})(RR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RR;function r(n,a=0,s={}){const{leading:i=!0,trailing:o=!0}=s;return t.debounce(n,a,{leading:i,maxWait:a,trailing:o})}e.throttle=r})(IR);var EJ=IR.throttle;const CJ=ni(EJ);var vv=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(r.replace(/%s/g,()=>a[i++]))}},LR=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:s,maxHeight:i}=r,o=Ii(n)?e:Number(n),l=Ii(a)?t:Number(a);return s&&s>0&&(o?l=o/s:l&&(o=l*s),i&&l!=null&&l>i&&(l=i)),{calculatedWidth:o,calculatedHeight:l}},TJ={width:0,height:0,overflow:"visible"},AJ={width:0,overflowX:"visible"},jJ={height:0,overflowY:"visible"},PJ={},NJ=e=>{var{width:t,height:r}=e,n=Ii(t),a=Ii(r);return n&&a?TJ:n?AJ:a?jJ:PJ};function OJ(e){var{width:t,height:r,aspect:n}=e,a=t,s=r;return a===void 0&&s===void 0?(a="100%",s="100%"):a===void 0?a=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:a,height:s}}function ft(e){return Number.isFinite(e)}function Ys(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jw.apply(null,arguments)}function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R=w.createContext({width:-1,height:-1});function RJ(e){return Ys(e.width)&&Ys(e.height)}function BR(e){var{children:t,width:r,height:n}=e,a=w.useMemo(()=>({width:r,height:n}),[r,n]);return RJ(a)?w.createElement($R.Provider,{value:a},t):null}var Lk=()=>w.useContext($R),FJ=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:s,minWidth:i=0,minHeight:o,maxHeight:l,children:c,debounce:u=0,id:f,className:h,onResize:p,style:m={}}=e,v=w.useRef(null),g=w.useRef();g.current=p,w.useImperativeHandle(t,()=>v.current);var[x,b]=w.useState({containerWidth:n.width,containerHeight:n.height}),y=w.useCallback((C,T)=>{b(A=>{var N=Math.round(C),j=Math.round(T);return A.containerWidth===N&&A.containerHeight===j?A:{containerWidth:N,containerHeight:j}})},[]);w.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return G0;var C=j=>{var P,{width:R,height:B}=j[0].contentRect;y(R,B),(P=g.current)===null||P===void 0||P.call(g,R,B)};u>0&&(C=CJ(C,u,{trailing:!0,leading:!1}));var T=new ResizeObserver(C),{width:A,height:N}=v.current.getBoundingClientRect();return y(A,N),T.observe(v.current),()=>{T.disconnect()}},[y,u]);var{containerWidth:_,containerHeight:S}=x;vv(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:k,calculatedHeight:E}=LR(_,S,{width:a,height:s,aspect:r,maxHeight:l});return vv(k!=null&&k>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,E,a,s,i,o,r),w.createElement("div",{id:f?"".concat(f):void 0,className:Ze("recharts-responsive-container",h),style:fj(fj({},m),{},{width:a,height:s,minWidth:i,minHeight:o,maxHeight:l}),ref:v},w.createElement("div",{style:NJ({width:a,height:s})},w.createElement(BR,{width:k,height:E},c)))}),$t=w.forwardRef((e,t)=>{var r=Lk();if(Ys(r.width)&&Ys(r.height))return e.children;var{width:n,height:a}=OJ({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:i}=LR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return _e(s)&&_e(i)?w.createElement(BR,{width:s,height:i},e.children):w.createElement(FJ,jw({},e,{width:n,height:a,ref:t}))});function zR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Q0=()=>{var e,t=zr(),r=Se(kJ),n=Se(fx),a=(e=Se(dx))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},LJ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},UR=()=>{var e;return(e=Se(Br))!==null&&e!==void 0?e:LJ},$k=()=>Se(Yi),Bk=()=>Se(Xi),$J=()=>Se(e=>e.layout.margin),He=e=>e.layout.layoutType,cc=()=>Se(He),BJ=()=>{var e=cc();if(e==="horizontal"||e==="vertical")return e},zJ=()=>{var e=cc();return e!==void 0},hx=e=>{var t=xt(),r=zr(),{width:n,height:a}=e,s=Lk(),i=n,o=a;return s&&(i=s.width>0?s.width:n,o=s.height>0?s.height:a),w.useEffect(()=>{!r&&Ys(i)&&Ys(o)&&t(YZ({width:i,height:o}))},[t,r,i,o]),null},VR=Symbol.for("immer-nothing"),hj=Symbol.for("immer-draftable"),Ea=Symbol.for("immer-state");function hs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var n0=Object.getPrototypeOf;function Ru(e){return!!e&&!!e[Ea]}function Yl(e){var t;return e?WR(e)||Array.isArray(e)||!!e[hj]||!!((t=e.constructor)!=null&&t[hj])||eh(e)||mx(e):!1}var UJ=Object.prototype.constructor.toString(),pj=new WeakMap;function WR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=pj.get(r);return n===void 0&&(n=Function.toString.call(r),pj.set(r,n)),n===UJ}function gv(e,t,r=!0){px(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function px(e){const t=e[Ea];return t?t.type_:Array.isArray(e)?1:eh(e)?2:mx(e)?3:0}function Pw(e,t){return px(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function HR(e,t,r){const n=px(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function VJ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function eh(e){return e instanceof Map}function mx(e){return e instanceof Set}function hl(e){return e.copy_||e.base_}function Nw(e,t){if(eh(e))return new Map(e);if(mx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=WR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Ea];let a=Reflect.ownKeys(n);for(let s=0;s<a.length;s++){const i=a[s],o=n[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(n0(e),n)}else{const n=n0(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function zk(e,t=!1){return vx(e)||Ru(e)||!Yl(e)||(px(e)>1&&Object.defineProperties(e,{set:yp,add:yp,clear:yp,delete:yp}),Object.freeze(e),t&&Object.values(e).forEach(r=>zk(r,!0))),e}function WJ(){hs(2)}var yp={value:WJ};function vx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var HJ={};function Xl(e){const t=HJ[e];return t||hs(0,e),t}var a0;function KR(){return a0}function KJ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mj(e,t){t&&(Xl("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ow(e){Dw(e),e.drafts_.forEach(GJ),e.drafts_=null}function Dw(e){e===a0&&(a0=e.parent_)}function vj(e){return a0=KJ(a0,e)}function GJ(e){const t=e[Ea];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Ea].modified_&&(Ow(t),hs(4)),Yl(e)&&(e=xv(t,e),t.parent_||yv(t,e)),t.patches_&&Xl("Patches").generateReplacementPatches_(r[Ea].base_,e,t.patches_,t.inversePatches_)):e=xv(t,r,[]),Ow(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==VR?e:void 0}function xv(e,t,r){if(vx(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Ea];if(!a)return gv(t,(s,i)=>xj(e,a,t,s,i,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return yv(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const s=a.copy_;let i=s,o=!1;a.type_===3&&(i=new Set(s),s.clear(),o=!0),gv(i,(l,c)=>xj(e,a,s,l,c,r,o),n),yv(e,s,!1),r&&e.patches_&&Xl("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function xj(e,t,r,n,a,s,i){if(a==null||typeof a!="object"&&!i)return;const o=vx(a);if(!(o&&!i)){if(Ru(a)){const l=s&&t&&t.type_!==3&&!Pw(t.assigned_,n)?s.concat(n):void 0,c=xv(e,a,l);if(HR(r,n,c),Ru(c))e.canAutoFreeze_=!1;else return}else i&&r.add(a);if(Yl(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;xv(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(eh(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&yv(e,a)}}}function yv(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zk(t,r)}function qJ(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:KR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,s=Uk;r&&(a=[n],s=s0);const{revoke:i,proxy:o}=Proxy.revocable(a,s);return n.draft_=o,n.revoke_=i,o}var Uk={get(e,t){if(t===Ea)return e;const r=hl(e);if(!Pw(r,t))return YJ(e,r,t);const n=r[t];return e.finalized_||!Yl(n)?n:n===r1(e.base_,t)?(n1(e),e.copy_[t]=Iw(n,e)):n},has(e,t){return t in hl(e)},ownKeys(e){return Reflect.ownKeys(hl(e))},set(e,t,r){const n=GR(hl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=r1(hl(e),t),s=a==null?void 0:a[Ea];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(VJ(r,a)&&(r!==void 0||Pw(e.base_,t)))return!0;n1(e),Mw(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return r1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,n1(e),Mw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){hs(11)},getPrototypeOf(e){return n0(e.base_)},setPrototypeOf(){hs(12)}},s0={};gv(Uk,(e,t)=>{s0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});s0.deleteProperty=function(e,t){return s0.set.call(this,e,t,void 0)};s0.set=function(e,t,r){return Uk.set.call(this,e[0],t,r,e[0])};function r1(e,t){const r=e[Ea];return(r?hl(r):e)[t]}function YJ(e,t,r){var a;const n=GR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function GR(e,t){if(!(t in e))return;let r=n0(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=n0(r)}}function Mw(e){e.modified_||(e.modified_=!0,e.parent_&&Mw(e.parent_))}function n1(e){e.copy_||(e.copy_=Nw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var XJ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const i=this;return function(l=s,...c){return i.produce(l,u=>r.call(this,u,...c))}}typeof r!="function"&&hs(6),n!==void 0&&typeof n!="function"&&hs(7);let a;if(Yl(t)){const s=vj(this),i=Iw(t,void 0);let o=!0;try{a=r(i),o=!1}finally{o?Ow(s):Dw(s)}return mj(s,n),gj(a,s)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===VR&&(a=void 0),this.autoFreeze_&&zk(a,!0),n){const s=[],i=[];Xl("Patches").generateReplacementPatches_(t,a,s,i),n(s,i)}return a}else hs(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,l=>t(l,...o));let n,a;return[this.produce(t,r,(i,o)=>{n=i,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yl(e)||hs(8),Ru(e)&&(e=ZJ(e));const t=vj(this),r=Iw(e,void 0);return r[Ea].isManual_=!0,Dw(t),r}finishDraft(e,t){const r=e&&e[Ea];(!r||!r.isManual_)&&hs(9);const{scope_:n}=r;return mj(n,t),gj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Xl("Patches").applyPatches_;return Ru(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Iw(e,t){const r=eh(e)?Xl("MapSet").proxyMap_(e,t):mx(e)?Xl("MapSet").proxySet_(e,t):qJ(e,t);return(t?t.scope_:KR()).drafts_.push(r),r}function ZJ(e){return Ru(e)||hs(10,e),qR(e)}function qR(e){if(!Yl(e)||vx(e))return e;const t=e[Ea];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Nw(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Nw(e,!0);return gv(r,(a,s)=>{HR(r,a,qR(s))},n),t&&(t.finalized_=!1),r}var JJ=new XJ;JJ.produce;var QJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},YR=da({name:"legend",initialState:QJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:It()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=_s(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:It()},removeLegendPayload:{reducer(e,t){var r=_s(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:It()}}}),{setLegendSize:yj,setLegendSettings:eQ,addLegendPayload:XR,replaceLegendPayload:ZR,removeLegendPayload:JR}=YR.actions,tQ=YR.reducer,rQ=["contextPayload"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rw.apply(null,arguments)}function bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bj(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=sQ(e,"string");return typeof t=="symbol"?t:t+""}function sQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e,t){if(e==null)return{};var r,n,a=oQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lQ(e){return e.value}function cQ(e){var{contextPayload:t}=e,r=iQ(e,rQ),n=B5(t,e.payloadUniqBy,lQ),a=Fu(Fu({},r),{},{payload:n});return w.isValidElement(e.content)?w.cloneElement(e.content,a):typeof e.content=="function"?w.createElement(e.content,a):w.createElement(hX,a)}function uQ(e,t,r,n,a,s){var{layout:i,align:o,verticalAlign:l}=t,c,u;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&i==="vertical"?c={left:((n||0)-s.width)/2}:c=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?u={top:((a||0)-s.height)/2}:u=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Fu(Fu({},c),u)}function dQ(e){var t=xt();return w.useEffect(()=>{t(eQ(e))},[t,e]),null}function fQ(e){var t=xt();return w.useEffect(()=>(t(yj(e)),()=>{t(yj({width:0,height:0}))}),[t,e]),null}function hQ(e,t,r,n){return e==="vertical"&&_e(t)?{height:t}:e==="horizontal"?{width:r||n}:null}var pQ={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Tn(e){var t=er(e,pQ),r=ZX(),n=lY(),a=$J(),{width:s,height:i,wrapperStyle:o,portal:l}=t,[c,u]=J5([r]),f=$k(),h=Bk();if(f==null||h==null)return null;var p=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),m=hQ(t.layout,i,s,p),v=l?o:Fu(Fu({position:"absolute",width:(m==null?void 0:m.width)||s||"auto",height:(m==null?void 0:m.height)||i||"auto"},uQ(o,t,a,f,h,c)),o),g=l??n;if(g==null||r==null)return null;var x=w.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:u},w.createElement(dQ,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&w.createElement(fQ,{width:c.width,height:c.height}),w.createElement(cQ,Rw({},t,m,{margin:a,chartWidth:f,chartHeight:h,contextPayload:r})));return B0.createPortal(x,g)}Tn.displayName="Legend";function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fw.apply(null,arguments)}function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=vQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xQ(e){return Array.isArray(e)&&qa(e[0])&&qa(e[1])?e.join(" ~ "):e}var yQ=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:s,formatter:i,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:f,accessibilityLayer:h=!1}=e,p=()=>{if(s&&s.length){var S={padding:0,margin:0},k=(o?ex(s,o):s).map((E,C)=>{if(E.type==="none")return null;var T=E.formatter||i||xQ,{value:A,name:N}=E,j=A,P=N;if(T){var R=T(A,N,E,C,s);if(Array.isArray(R))[j,P]=R;else if(R!=null)j=R;else return null}var B=a1({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(C),style:B},qa(P)?w.createElement("span",{className:"recharts-tooltip-item-name"},P):null,qa(P)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},j),w.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:S},k)}return null},m=a1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),v=a1({margin:0},a),g=!Mt(u),x=g?u:"",b=Ze("recharts-default-tooltip",l),y=Ze("recharts-tooltip-label",c);g&&f&&s!==void 0&&s!==null&&(x=f(u,s));var _=h?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",Fw({className:b,style:m},_),w.createElement("p",{className:y,style:v},w.isValidElement(x)?x:"".concat(x)),p())},Pd="recharts-tooltip-wrapper",bQ={visibility:"hidden"};function wQ(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ze(Pd,{["".concat(Pd,"-right")]:_e(r)&&t&&_e(t.x)&&r>=t.x,["".concat(Pd,"-left")]:_e(r)&&t&&_e(t.x)&&r<t.x,["".concat(Pd,"-bottom")]:_e(n)&&t&&_e(t.y)&&n>=t.y,["".concat(Pd,"-top")]:_e(n)&&t&&_e(t.y)&&n<t.y})}function _j(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:s,reverseDirection:i,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(s&&_e(s[n]))return s[n];var u=r[n]-o-(a>0?a:0),f=r[n]+a;if(t[n])return i[n]?u:f;var h=l[n];if(h==null)return 0;if(i[n]){var p=u,m=h;return p<m?Math.max(f,h):Math.max(u,h)}if(c==null)return 0;var v=f+o,g=h+c;return v>g?Math.max(u,h):Math.max(f,h)}function _Q(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function kQ(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:s,tooltipBox:i,useTranslate3d:o,viewBox:l}=e,c,u,f;return i.height>0&&i.width>0&&r?(u=_j({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.width,viewBox:l,viewBoxDimension:l.width}),f=_j({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:i.height,viewBox:l,viewBoxDimension:l.height}),c=_Q({translateX:u,translateY:f,useTranslate3d:o})):c=bQ,{cssProperties:c,cssClasses:wQ({translateX:u,translateY:f,coordinate:r})}}function kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kj(Object(r),!0).forEach(function(n){Lw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lw(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=EQ(e,"string");return typeof t=="symbol"?t:t+""}function EQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class CQ extends w.PureComponent{constructor(){super(...arguments),Lw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Lw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:s,coordinate:i,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:f,useTranslate3d:h,viewBox:p,wrapperStyle:m,lastBoundingBox:v,innerRef:g,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:y}=kQ({allowEscapeViewBox:r,coordinate:i,offsetTopLeft:c,position:u,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:p}),_=x?{}:bp(bp({transition:l&&t?"transform ".concat(n,"ms ").concat(a):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=bp(bp({},_),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},m);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:S,ref:g},s)}}var TQ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Yo={devToolsEnabled:!1,isSsr:TQ()},QR=()=>{var e;return(e=Se(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(null,arguments)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){AQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=PQ(e,"string");return typeof t=="symbol"?t:t+""}function PQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cj={curveBasisClosed:TY,curveBasisOpen:AY,curveBasis:CY,curveBumpX:fY,curveBumpY:hY,curveLinearClosed:jY,curveLinear:Gg,curveMonotoneX:PY,curveMonotoneY:NY,curveNatural:OY,curveStep:DY,curveStepAfter:IY,curveStepBefore:MY},bv=e=>ft(e.x)&&ft(e.y),Tj=e=>e.base!=null&&bv(e.base)&&bv(e),Nd=e=>e.x,Od=e=>e.y,NQ=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(K0(e));return(r==="curveMonotone"||r==="curveBump")&&t?Cj["".concat(r).concat(t==="vertical"?"Y":"X")]:Cj[r]||Gg},OQ=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:s=!1}=e,i=NQ(t,a),o=s?r.filter(bv):r,l;if(Array.isArray(n)){var c=r.map((p,m)=>Ej(Ej({},p),{},{base:n[m]}));a==="vertical"?l=fp().y(Od).x1(Nd).x0(p=>p.base.x):l=fp().x(Nd).y1(Od).y0(p=>p.base.y);var u=l.defined(Tj).curve(i),f=s?c.filter(Tj):c;return u(f)}a==="vertical"&&_e(n)?l=fp().y(Od).x1(Nd).x0(n):_e(n)?l=fp().x(Nd).y1(Od).y0(n):l=i5().x(Nd).y(Od);var h=l.defined(bv).curve(i);return h(o)},gu=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?OQ(e):n;return w.createElement("path",$w({},qn(e),vk(e),{className:Ze("recharts-curve",t),d:s===null?void 0:s,ref:a}))},DQ=["x","y","top","left","width","height","className"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bw.apply(null,arguments)}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){IQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=FQ(e,"string");return typeof t=="symbol"?t:t+""}function FQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t){if(e==null)return{};var r,n,a=$Q(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BQ=(e,t,r,n,a,s)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),zQ=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:s=0,height:i=0,className:o}=e,l=LQ(e,DQ),c=MQ({x:t,y:r,top:n,left:a,width:s,height:i},l);return!_e(t)||!_e(r)||!_e(s)||!_e(i)||!_e(n)||!_e(a)?null:w.createElement("path",Bw({},vn(c),{className:Ze("recharts-cross",o),d:BQ(t,r,s,i,n,a)}))};function UQ(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){VQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VQ(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=HQ(e,"string");return typeof t=="symbol"?t:t+""}function HQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),eF=(e,t,r)=>e.map(n=>"".concat(KQ(n)," ").concat(t,"ms ").concat(r)).join(","),GQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),i0=(e,t)=>Object.keys(t).reduce((r,n)=>Pj(Pj({},r),{},{[n]:e(n,t[n])}),{});function Nj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Nj(Object(r),!0).forEach(function(n){qQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qQ(e,t,r){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wv=(e,t,r)=>e+(t-e)*r,zw=e=>{var{from:t,to:r}=e;return t!==r},tF=(e,t,r)=>{var n=i0((a,s)=>{if(zw(s)){var[i,o]=e(s.from,s.to,s.velocity);return Rr(Rr({},s),{},{from:i,velocity:o})}return s},t);return r<1?i0((a,s)=>zw(s)?Rr(Rr({},s),{},{velocity:wv(s.velocity,n[a].velocity,r),from:wv(s.from,n[a].from,r)}):s,t):tF(e,n,r-1)};function ZQ(e,t,r,n,a,s){var i,o=n.reduce((h,p)=>Rr(Rr({},h),{},{[p]:{from:e[p],velocity:0,to:t[p]}}),{}),l=()=>i0((h,p)=>p.from,o),c=()=>!Object.values(o).filter(zw).length,u=null,f=h=>{i||(i=h);var p=h-i,m=p/r.dt;o=tF(r,o,m),a(Rr(Rr(Rr({},e),t),l())),i=h,c()||(u=s.setTimeout(f))};return()=>(u=s.setTimeout(f),()=>{var h;(h=u)===null||h===void 0||h()})}function JQ(e,t,r,n,a,s,i){var o=null,l=a.reduce((f,h)=>Rr(Rr({},f),{},{[h]:[e[h],t[h]]}),{}),c,u=f=>{c||(c=f);var h=(f-c)/n,p=i0((v,g)=>wv(...g,r(h)),l);if(s(Rr(Rr(Rr({},e),t),p)),h<1)o=i.setTimeout(u);else{var m=i0((v,g)=>wv(...g,r(1)),l);s(Rr(Rr(Rr({},e),t),m))}};return()=>(o=i.setTimeout(u),()=>{var f;(f=o)===null||f===void 0||f()})}const QQ=(e,t,r,n,a,s)=>{var i=GQ(e,t);return r==null?()=>(a(Rr(Rr({},e),t)),()=>{}):r.isStepper===!0?ZQ(e,t,r,i,a,s):JQ(e,t,r,n,i,a,s)};var _v=1e-4,rF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nF=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Oj=(e,t)=>r=>{var n=rF(e,t);return nF(n,r)},eee=(e,t)=>r=>{var n=rF(e,t),a=[...n.map((s,i)=>s*i).slice(1),0];return nF(a,r)},tee=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a,s=r[0].split("(");if(s[0]==="cubic-bezier"&&((a=s[1])===null||a===void 0?void 0:a.split(")")[0].split(",").length)===4){var i=s[1].split(")")[0].split(",").map(o=>parseFloat(o));return[i[0],i[1],i[2],i[3]]}}}return r.length===4?r:[0,0,1,1]},ree=(e,t,r,n)=>{var a=Oj(e,r),s=Oj(t,n),i=eee(e,r),o=c=>c>1?1:c<0?0:c,l=c=>{for(var u=c>1?1:c,f=u,h=0;h<8;++h){var p=a(f)-u,m=i(f);if(Math.abs(p-u)<_v||m<_v)return s(f);f=o(f-p/m)}return s(f)};return l.isStepper=!1,l},Dj=function(){return ree(...tee(...arguments))},nee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,s=(i,o,l)=>{var c=-(i-o)*r,u=l*n,f=l+(c-u)*a/1e3,h=l*a/1e3+i;return Math.abs(h-o)<_v&&Math.abs(f)<_v?[o,0]:[h,f]};return s.isStepper=!0,s.dt=a,s},aee=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Dj(e);case"spring":return nee();default:if(e.split("(")[0]==="cubic-bezier")return Dj(e)}return typeof e=="function"?e:null};function see(e){var t,r=()=>null,n=!1,a=null,s=i=>{if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,[l,...c]=o;if(typeof l=="number"){a=e.setTimeout(s.bind(null,c),l);return}s(l),a=e.setTimeout(s.bind(null,c));return}typeof i=="string"&&(t=i,r(t)),typeof i=="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:()=>{n=!0},start:i=>{n=!1,a&&(a(),a=null),s(i)},subscribe:i=>(r=i,()=>{r=()=>null}),getTimeoutController:()=>e}}class iee{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,s=i=>{i-n>=r?t(i):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(s))};return a=requestAnimationFrame(s),()=>{a!=null&&cancelAnimationFrame(a)}}}function oee(){return see(new iee)}var lee=w.createContext(oee);function cee(e,t){var r=w.useContext(lee);return w.useMemo(()=>t??r(e),[e,t,r])}var uee={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Mj={t:0},s1={t:1};function td(e){var t=er(e,uee),{isActive:r,canBegin:n,duration:a,easing:s,begin:i,onAnimationEnd:o,onAnimationStart:l,children:c}=t,u=r==="auto"?!Yo.isSsr:r,f=cee(t.animationId,t.animationManager),[h,p]=w.useState(u?Mj:s1),m=w.useRef(null);return w.useEffect(()=>{u||p(s1)},[u]),w.useEffect(()=>{if(!u||!n)return G0;var v=QQ(Mj,s1,aee(s),a,p,f.getTimeoutController()),g=()=>{m.current=v()};return f.start([l,i,g,a,o]),()=>{f.stop(),m.current&&m.current(),o()}},[u,n,a,s,i,l,o,f]),c(h.t)}function rd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(Qf(t)),n=w.useRef(e);return n.current!==e&&(r.current=Qf(t),n.current=e),r.current}var dee=["radius"],fee=["radius"];function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){hee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hee(e,t,r){return(t=pee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kv(){return kv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kv.apply(null,arguments)}function Fj(e,t){if(e==null)return{};var r,n,a=vee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lj=(e,t,r,n,a)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),i=n>=0?1:-1,o=r>=0?1:-1,l=n>=0&&r>=0||n<0&&r<0?1:0,c;if(s>0&&a instanceof Array){for(var u=[0,0,0,0],f=0,h=4;f<h;f++)u[f]=a[f]>s?s:a[f];c="M".concat(e,",").concat(t+i*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(e+o*u[0],",").concat(t)),c+="L ".concat(e+r-o*u[1],",").concat(t),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(e+r,",").concat(t+i*u[1])),c+="L ".concat(e+r,",").concat(t+n-i*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(e+r-o*u[2],",").concat(t+n)),c+="L ".concat(e+o*u[3],",").concat(t+n),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(e,",").concat(t+n-i*u[3])),c+="Z"}else if(s>0&&a===+a&&a>0){var p=Math.min(s,a);c="M ".concat(e,",").concat(t+i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+o*p,",").concat(t,`
            L `).concat(e+r-o*p,",").concat(t,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r,",").concat(t+i*p,`
            L `).concat(e+r,",").concat(t+n-i*p,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e+r-o*p,",").concat(t+n,`
            L `).concat(e+o*p,",").concat(t+n,`
            A `).concat(p,",").concat(p,",0,0,").concat(l,",").concat(e,",").concat(t+n-i*p," Z")}else c="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return c},$j={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aF=e=>{var t=er(e,$j),r=w.useRef(null),[n,a]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var K=r.current.getTotalLength();K&&a(K)}catch{}},[]);var{x:s,y:i,width:o,height:l,radius:c,className:u}=t,{animationEasing:f,animationDuration:h,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:v}=t,g=w.useRef(o),x=w.useRef(l),b=w.useRef(s),y=w.useRef(i),_=w.useMemo(()=>({x:s,y:i,width:o,height:l,radius:c}),[s,i,o,l,c]),S=rd(_,"rectangle-");if(s!==+s||i!==+i||o!==+o||l!==+l||o===0||l===0)return null;var k=Ze("recharts-rectangle",u);if(!v){var E=vn(t),{radius:C}=E,T=Fj(E,dee);return w.createElement("path",kv({},T,{radius:typeof c=="number"?c:void 0,className:k,d:Lj(s,i,o,l,c)}))}var A=g.current,N=x.current,j=b.current,P=y.current,R="0px ".concat(n===-1?1:n,"px"),B="".concat(n,"px 0px"),q=eF(["strokeDasharray"],h,typeof f=="string"?f:$j.animationEasing);return w.createElement(td,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:v,begin:p},K=>{var X=it(A,o,K),I=it(N,l,K),J=it(j,s,K),Z=it(P,i,K);r.current&&(g.current=X,x.current=I,b.current=J,y.current=Z);var M;m?K>0?M={transition:q,strokeDasharray:B}:M={strokeDasharray:R}:M={strokeDasharray:B};var z=vn(t),{radius:G}=z,H=Fj(z,fee);return w.createElement("path",kv({},H,{radius:typeof c=="number"?c:void 0,className:k,d:Lj(J,Z,X,I,c),ref:r,style:Rj(Rj({},M),t.style)}))})};function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){gee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gee(e,t,r){return(t=xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sv=Math.PI/180,bee=e=>e*180/Math.PI,jr=(e,t,r,n)=>({x:e+Math.cos(-Sv*n)*r,y:t+Math.sin(-Sv*n)*r}),sF=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},wee=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return Math.sqrt((r-a)**2+(n-s)**2)},_ee=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:s}=t,i=wee({x:r,y:n},{x:a,y:s});if(i<=0)return{radius:i,angle:0};var o=(r-a)/i,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:i,angle:bee(l),angleInRadian:l}},kee=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),s=Math.min(n,a);return{startAngle:t-s*360,endAngle:r-s*360}},See=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),s=Math.floor(n/360),i=Math.min(a,s);return e+i*360},Eee=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:s}=_ee({x:r,y:n},t),{innerRadius:i,outerRadius:o}=t;if(a<i||a>o||a===0)return null;var{startAngle:l,endAngle:c}=kee(t),u=s,f;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;f=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;f=u>=c&&u<=l}return f?zj(zj({},t),{},{radius:a,angle:See(u,t)}):null};function iF(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:s}=e,i=jr(t,r,n,a),o=jr(t,r,n,s);return{points:[i,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:s}}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(null,arguments)}var Cee=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},wp=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:s,isExternal:i,cornerRadius:o,cornerIsExternal:l}=e,c=o*(i?1:-1)+n,u=Math.asin(o/c)/Sv,f=l?a:a+s*u,h=jr(t,r,c,f),p=jr(t,r,n,f),m=l?a-s*u:a,v=jr(t,r,c*Math.cos(u*Sv),m);return{center:h,circleTangency:p,lineTangency:v,theta:u}},oF=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:i}=e,o=Cee(s,i),l=s+o,c=jr(t,r,a,s),u=jr(t,r,a,l),f="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(n>0){var h=jr(t,r,n,s),p=jr(t,r,n,l);f+="L ".concat(p.x,",").concat(p.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Tee=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:s,forceCornerRadius:i,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=Jr(c-l),{circleTangency:f,lineTangency:h,theta:p}=wp({cx:t,cy:r,radius:a,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:m,lineTangency:v,theta:g}=wp({cx:t,cy:r,radius:a,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),x=o?Math.abs(l-c):Math.abs(l-c)-p-g;if(x<0)return i?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):oF({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:l,endAngle:c});var b="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(x>180),",").concat(+(u<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(v.x,",").concat(v.y,`
  `);if(n>0){var{circleTangency:y,lineTangency:_,theta:S}=wp({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:k,lineTangency:E,theta:C}=wp({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-S-C;if(T<0&&s===0)return"".concat(b,"L").concat(t,",").concat(r,"Z");b+="L".concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(_.x,",").concat(_.y,"Z")}else b+="L".concat(t,",").concat(r,"Z");return b},Aee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lF=e=>{var t=er(e,Aee),{cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:f}=t;if(s<a||c===u)return null;var h=Ze("recharts-sector",f),p=s-a,m=Nn(i,p,0,!0),v;return m>0&&Math.abs(c-u)<360?v=Tee({cx:r,cy:n,innerRadius:a,outerRadius:s,cornerRadius:Math.min(m,p/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):v=oF({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:c,endAngle:u}),w.createElement("path",Uw({},vn(t),{className:h,d:v}))};function jee(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(_5(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:s,outerRadius:i,angle:o}=t,l=jr(n,a,s,o),c=jr(n,a,i,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return iF(t)}}var cF={},uF={},dF={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tk;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(dF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dF;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(uF);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ak,r=uF;function n(a,s,i){i&&typeof i!="number"&&t.isIterateeCall(a,s,i)&&(s=i=void 0),a=r.toFinite(a),s===void 0?(s=a,a=0):s=r.toFinite(s),i=i===void 0?a<s?1:-1:r.toFinite(i);const o=Math.max(Math.ceil((s-a)/(i||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=a,a+=i;return l}e.range=n})(cF);var Pee=cF.range;const fF=ni(Pee);function No(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Vk(e){let t,r,n;e.length!==2?(t=No,r=(o,l)=>No(e(o),l),n=(o,l)=>e(o)-l):(t=e===No||e===Nee?e:Oee,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:i,right:s}}function Oee(){return 0}function hF(e){return e===null?NaN:+e}function*Dee(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Mee=Vk(No),th=Mee.right;Vk(hF).center;class Uj extends Map{constructor(t,r=Fee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Vj(this,t))}has(t){return super.has(Vj(this,t))}set(t,r){return super.set(Iee(this,t),r)}delete(t){return super.delete(Ree(this,t))}}function Vj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Iee({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Ree({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Fee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Lee(e=No){if(e===No)return pF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function pF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $ee=Math.sqrt(50),Bee=Math.sqrt(10),zee=Math.sqrt(2);function Ev(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),i=s>=$ee?10:s>=Bee?5:s>=zee?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/i,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*i,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Ev(e,t,r*2):[o,l,c]}function Vw(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,s,i]=n?Ev(t,e,r):Ev(e,t,r);if(!(s>=a))return[];const o=s-a+1,l=new Array(o);if(n)if(i<0)for(let c=0;c<o;++c)l[c]=(s-c)/-i;else for(let c=0;c<o;++c)l[c]=(s-c)*i;else if(i<0)for(let c=0;c<o;++c)l[c]=(a+c)/-i;else for(let c=0;c<o;++c)l[c]=(a+c)*i;return l}function Ww(e,t,r){return t=+t,e=+e,r=+r,Ev(e,t,r)[2]}function Hw(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Ww(t,e,r):Ww(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Wj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Hj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function mF(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?pF:Lee(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));mF(e,t,p,m,a)}const s=e[t];let i=r,o=n;for(Dd(e,r,t),a(e[n],s)>0&&Dd(e,r,n);i<o;){for(Dd(e,i,o),++i,--o;a(e[i],s)<0;)++i;for(;a(e[o],s)>0;)--o}a(e[r],s)===0?Dd(e,r,o):(++o,Dd(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Dd(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Uee(e,t,r){if(e=Float64Array.from(Dee(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Hj(e);if(t>=1)return Wj(e);var n,a=(n-1)*t,s=Math.floor(a),i=Wj(mF(e,s).subarray(0,s+1)),o=Hj(e.subarray(s+1));return i+(o-i)*(a-s)}}function Vee(e,t,r=hF){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,s=Math.floor(a),i=+r(e[s],s,e),o=+r(e[s+1],s+1,e);return i+(o-i)*(a-s)}}function Wee(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(a);++n<a;)s[n]=e+n*r;return s}function Ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Kw=Symbol("implicit");function Wk(){var e=new Uj,t=[],r=[],n=Kw;function a(s){let i=e.get(s);if(i===void 0){if(n!==Kw)return n;e.set(s,i=t.push(s)-1)}return r[i%r.length]}return a.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Uj;for(const i of s)e.has(i)||e.set(i,t.push(i)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return Wk(t,r).unknown(n)},Ja.apply(a,arguments),a}function Hk(){var e=Wk().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,s,i,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,p=a<n,m=p?a:n,v=p?n:a;s=(v-m)/Math.max(1,h-l+c*2),o&&(s=Math.floor(s)),m+=(v-m-s*(h-l))*u,i=s*(1-l),o&&(m=Math.round(m),i=Math.round(i));var g=Wee(h).map(function(x){return m+s*x});return r(p?g.reverse():g)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return i},e.step=function(){return s},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Hk(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ja.apply(f(),arguments)}function vF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vF(t())},e}function Hee(){return vF(Hk.apply(null,arguments).paddingInner(1))}function Kk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function gF(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function rh(){}var o0=.7,Cv=1/o0,xu="\\s*([+-]?\\d+)\\s*",l0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Kee=/^#([0-9a-f]{3,8})$/,Gee=new RegExp(`^rgb\\(${xu},${xu},${xu}\\)$`),qee=new RegExp(`^rgb\\(${Ws},${Ws},${Ws}\\)$`),Yee=new RegExp(`^rgba\\(${xu},${xu},${xu},${l0}\\)$`),Xee=new RegExp(`^rgba\\(${Ws},${Ws},${Ws},${l0}\\)$`),Zee=new RegExp(`^hsl\\(${l0},${Ws},${Ws}\\)$`),Jee=new RegExp(`^hsla\\(${l0},${Ws},${Ws},${l0}\\)$`),Kj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kk(rh,c0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Gj,formatHex:Gj,formatHex8:Qee,formatHsl:ete,formatRgb:qj,toString:qj});function Gj(){return this.rgb().formatHex()}function Qee(){return this.rgb().formatHex8()}function ete(){return xF(this).formatHsl()}function qj(){return this.rgb().formatRgb()}function c0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Kee.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Yj(t):r===3?new ia(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_p(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_p(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Gee.exec(e))?new ia(t[1],t[2],t[3],1):(t=qee.exec(e))?new ia(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Yee.exec(e))?_p(t[1],t[2],t[3],t[4]):(t=Xee.exec(e))?_p(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zee.exec(e))?Jj(t[1],t[2]/100,t[3]/100,1):(t=Jee.exec(e))?Jj(t[1],t[2]/100,t[3]/100,t[4]):Kj.hasOwnProperty(e)?Yj(Kj[e]):e==="transparent"?new ia(NaN,NaN,NaN,0):null}function Yj(e){return new ia(e>>16&255,e>>8&255,e&255,1)}function _p(e,t,r,n){return n<=0&&(e=t=r=NaN),new ia(e,t,r,n)}function tte(e){return e instanceof rh||(e=c0(e)),e?(e=e.rgb(),new ia(e.r,e.g,e.b,e.opacity)):new ia}function Gw(e,t,r,n){return arguments.length===1?tte(e):new ia(e,t,r,n??1)}function ia(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Kk(ia,Gw,gF(rh,{brighter(e){return e=e==null?Cv:Math.pow(Cv,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?o0:Math.pow(o0,e),new ia(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ia(Ml(this.r),Ml(this.g),Ml(this.b),Tv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Xj,formatHex:Xj,formatHex8:rte,formatRgb:Zj,toString:Zj}));function Xj(){return`#${El(this.r)}${El(this.g)}${El(this.b)}`}function rte(){return`#${El(this.r)}${El(this.g)}${El(this.b)}${El((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zj(){const e=Tv(this.opacity);return`${e===1?"rgb(":"rgba("}${Ml(this.r)}, ${Ml(this.g)}, ${Ml(this.b)}${e===1?")":`, ${e})`}`}function Tv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ml(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function El(e){return e=Ml(e),(e<16?"0":"")+e.toString(16)}function Jj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ps(e,t,r,n)}function xF(e){if(e instanceof ps)return new ps(e.h,e.s,e.l,e.opacity);if(e instanceof rh||(e=c0(e)),!e)return new ps;if(e instanceof ps)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),s=Math.max(t,r,n),i=NaN,o=s-a,l=(s+a)/2;return o?(t===s?i=(r-n)/o+(r<n)*6:r===s?i=(n-t)/o+2:i=(t-r)/o+4,o/=l<.5?s+a:2-s-a,i*=60):o=l>0&&l<1?0:i,new ps(i,o,l,e.opacity)}function nte(e,t,r,n){return arguments.length===1?xF(e):new ps(e,t,r,n??1)}function ps(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Kk(ps,nte,gF(rh,{brighter(e){return e=e==null?Cv:Math.pow(Cv,e),new ps(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?o0:Math.pow(o0,e),new ps(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ia(i1(e>=240?e-240:e+120,a,n),i1(e,a,n),i1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new ps(Qj(this.h),kp(this.s),kp(this.l),Tv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Tv(this.opacity);return`${e===1?"hsl(":"hsla("}${Qj(this.h)}, ${kp(this.s)*100}%, ${kp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qj(e){return e=(e||0)%360,e<0?e+360:e}function kp(e){return Math.max(0,Math.min(1,e||0))}function i1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Gk=e=>()=>e;function ate(e,t){return function(r){return e+r*t}}function ste(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function ite(e){return(e=+e)==1?yF:function(t,r){return r-t?ste(t,r,e):Gk(isNaN(t)?r:t)}}function yF(e,t){var r=t-e;return r?ate(e,r):Gk(isNaN(e)?t:e)}const eP=function e(t){var r=ite(t);function n(a,s){var i=r((a=Gw(a)).r,(s=Gw(s)).r),o=r(a.g,s.g),l=r(a.b,s.b),c=yF(a.opacity,s.opacity);return function(u){return a.r=i(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function ote(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=e[a]*(1-s)+t[a]*s;return n}}function lte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cte(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),s=new Array(r),i;for(i=0;i<n;++i)a[i]=nd(e[i],t[i]);for(;i<r;++i)s[i]=t[i];return function(o){for(i=0;i<n;++i)s[i]=a[i](o);return s}}function ute(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Av(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function dte(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=nd(e[a],t[a]):n[a]=t[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var qw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,o1=new RegExp(qw.source,"g");function fte(e){return function(){return e}}function hte(e){return function(t){return e(t)+""}}function pte(e,t){var r=qw.lastIndex=o1.lastIndex=0,n,a,s,i=-1,o=[],l=[];for(e=e+"",t=t+"";(n=qw.exec(e))&&(a=o1.exec(t));)(s=a.index)>r&&(s=t.slice(r,s),o[i]?o[i]+=s:o[++i]=s),(n=n[0])===(a=a[0])?o[i]?o[i]+=a:o[++i]=a:(o[++i]=null,l.push({i,x:Av(n,a)})),r=o1.lastIndex;return r<t.length&&(s=t.slice(r),o[i]?o[i]+=s:o[++i]=s),o.length<2?l[0]?hte(l[0].x):fte(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function nd(e,t){var r=typeof t,n;return t==null||r==="boolean"?Gk(t):(r==="number"?Av:r==="string"?(n=c0(t))?(t=n,eP):pte:t instanceof c0?eP:t instanceof Date?ute:lte(t)?ote:Array.isArray(t)?cte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dte:Av)(e,t)}function qk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function mte(e,t){t===void 0&&(t=e,e=nd);for(var r=0,n=t.length-1,a=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(a,a=t[++r]);return function(i){var o=Math.max(0,Math.min(n-1,Math.floor(i*=n)));return s[o](i-o)}}function vte(e){return function(){return e}}function jv(e){return+e}var tP=[0,1];function Un(e){return e}function Yw(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vte(isNaN(t)?NaN:.5)}function gte(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function xte(e,t,r){var n=e[0],a=e[1],s=t[0],i=t[1];return a<n?(n=Yw(a,n),s=r(i,s)):(n=Yw(n,a),s=r(s,i)),function(o){return s(n(o))}}function yte(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),s=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=Yw(e[i],e[i+1]),s[i]=r(t[i],t[i+1]);return function(o){var l=th(e,o,1,n)-1;return s[l](a[l](o))}}function nh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function gx(){var e=tP,t=tP,r=nd,n,a,s,i=Un,o,l,c;function u(){var h=Math.min(e.length,t.length);return i!==Un&&(i=gte(e[0],e[h-1])),o=h>2?yte:xte,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?s:(l||(l=o(e.map(n),t,r)))(n(i(h)))}return f.invert=function(h){return i(a((c||(c=o(t,e.map(n),Av)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,jv),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qk,u()},f.clamp=function(h){return arguments.length?(i=h?!0:Un,u()):i!==Un},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,p){return n=h,a=p,u()}}function Yk(){return gx()(Un,Un)}function bte(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pv(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Lu(e){return e=Pv(Math.abs(e)),e?e[1]:NaN}function wte(e,t){return function(r,n){for(var a=r.length,s=[],i=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[i=(i+1)%e.length];return s.reverse().join(t)}}function _te(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function u0(e){if(!(t=kte.exec(e)))throw new Error("invalid format: "+e);var t;return new Xk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}u0.prototype=Xk.prototype;function Xk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Xk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ste(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var bF;function Ete(e,t){var r=Pv(e,t);if(!r)return e+"";var n=r[0],a=r[1],s=a-(bF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,i=n.length;return s===i?n:s>i?n+new Array(s-i+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pv(e,Math.max(0,t+s-1))[0]}function rP(e,t){var r=Pv(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const nP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:bte,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>rP(e*100,t),r:rP,s:Ete,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function aP(e){return e}var sP=Array.prototype.map,iP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Cte(e){var t=e.grouping===void 0||e.thousands===void 0?aP:wte(sP.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?aP:_te(sP.call(e.numerals,String)),i=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=u0(f);var h=f.fill,p=f.align,m=f.sign,v=f.symbol,g=f.zero,x=f.width,b=f.comma,y=f.precision,_=f.trim,S=f.type;S==="n"?(b=!0,S="g"):nP[S]||(y===void 0&&(y=12),_=!0,S="g"),(g||h==="0"&&p==="=")&&(g=!0,h="0",p="=");var k=v==="$"?r:v==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",E=v==="$"?n:/[%p]/.test(S)?i:"",C=nP[S],T=/[defgprs%]/.test(S);y=y===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function A(N){var j=k,P=E,R,B,q;if(S==="c")P=C(N)+P,N="";else{N=+N;var K=N<0||1/N<0;if(N=isNaN(N)?l:C(Math.abs(N),y),_&&(N=Ste(N)),K&&+N==0&&m!=="+"&&(K=!1),j=(K?m==="("?m:o:m==="-"||m==="("?"":m)+j,P=(S==="s"?iP[8+bF/3]:"")+P+(K&&m==="("?")":""),T){for(R=-1,B=N.length;++R<B;)if(q=N.charCodeAt(R),48>q||q>57){P=(q===46?a+N.slice(R+1):N.slice(R))+P,N=N.slice(0,R);break}}}b&&!g&&(N=t(N,1/0));var X=j.length+N.length+P.length,I=X<x?new Array(x-X+1).join(h):"";switch(b&&g&&(N=t(I+N,I.length?x-P.length:1/0),I=""),p){case"<":N=j+N+P+I;break;case"=":N=j+I+N+P;break;case"^":N=I.slice(0,X=I.length>>1)+j+N+P+I.slice(X);break;default:N=I+j+N+P;break}return s(N)}return A.toString=function(){return f+""},A}function u(f,h){var p=c((f=u0(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(Lu(h)/3)))*3,v=Math.pow(10,-m),g=iP[8+m/3];return function(x){return p(v*x)+g}}return{format:c,formatPrefix:u}}var Sp,Zk,wF;Tte({thousands:",",grouping:[3],currency:["$",""]});function Tte(e){return Sp=Cte(e),Zk=Sp.format,wF=Sp.formatPrefix,Sp}function Ate(e){return Math.max(0,-Lu(Math.abs(e)))}function jte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lu(t)/3)))*3-Lu(Math.abs(e)))}function Pte(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Lu(t)-Lu(e))+1}function _F(e,t,r,n){var a=Hw(e,t,r),s;switch(n=u0(n??",f"),n.type){case"s":{var i=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=jte(a,i))&&(n.precision=s),wF(n,i)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=Pte(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=Ate(a))&&(n.precision=s-(n.type==="%")*2);break}}return Zk(n)}function Xo(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vw(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return _F(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,s=n.length-1,i=n[a],o=n[s],l,c,u=10;for(o<i&&(c=i,i=o,o=c,c=a,a=s,s=c);u-- >0;){if(c=Ww(i,o,r),c===l)return n[a]=i,n[s]=o,t(n);if(c>0)i=Math.floor(i/c)*c,o=Math.ceil(o/c)*c;else if(c<0)i=Math.ceil(i*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function kF(){var e=Yk();return e.copy=function(){return nh(e,kF())},Ja.apply(e,arguments),Xo(e)}function SF(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,jv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SF(e).unknown(t)},e=arguments.length?Array.from(e,jv):[0,1],Xo(r)}function EF(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],s=e[n],i;return s<a&&(i=r,r=n,n=i,i=a,a=s,s=i),e[r]=t.floor(a),e[n]=t.ceil(s),e}function oP(e){return Math.log(e)}function lP(e){return Math.exp(e)}function Nte(e){return-Math.log(-e)}function Ote(e){return-Math.exp(-e)}function Dte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Mte(e){return e===10?Dte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ite(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function cP(e){return(t,r)=>-e(-t,r)}function Jk(e){const t=e(oP,lP),r=t.domain;let n=10,a,s;function i(){return a=Ite(n),s=Mte(n),r()[0]<0?(a=cP(a),s=cP(s),e(Nte,Ote)):e(oP,lP),t}return t.base=function(o){return arguments.length?(n=+o,i()):n},t.domain=function(o){return arguments.length?(r(o),i()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),p=a(u),m,v;const g=o==null?10:+o;let x=[];if(!(n%1)&&p-h<g){if(h=Math.floor(h),p=Math.ceil(p),c>0){for(;h<=p;++h)for(m=1;m<n;++m)if(v=h<0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}}else for(;h<=p;++h)for(m=n-1;m>=1;--m)if(v=h>0?m/s(-h):m*s(h),!(v<c)){if(v>u)break;x.push(v)}x.length*2<g&&(x=Vw(c,u,g))}else x=Vw(h,p,Math.min(p-h,g)).map(s);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=u0(l)).precision==null&&(l.trim=!0),l=Zk(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/s(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(EF(r(),{floor:o=>s(Math.floor(a(o))),ceil:o=>s(Math.ceil(a(o)))})),t}function CF(){const e=Jk(gx()).domain([1,10]);return e.copy=()=>nh(e,CF()).base(e.base()),Ja.apply(e,arguments),e}function uP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function dP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Qk(e){var t=1,r=e(uP(t),dP(t));return r.constant=function(n){return arguments.length?e(uP(t=+n),dP(t)):t},Xo(r)}function TF(){var e=Qk(gx());return e.copy=function(){return nh(e,TF()).constant(e.constant())},Ja.apply(e,arguments)}function fP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Rte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Fte(e){return e<0?-e*e:e*e}function eS(e){var t=e(Un,Un),r=1;function n(){return r===1?e(Un,Un):r===.5?e(Rte,Fte):e(fP(r),fP(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Xo(t)}function tS(){var e=eS(gx());return e.copy=function(){return nh(e,tS()).exponent(e.exponent())},Ja.apply(e,arguments),e}function Lte(){return tS.apply(null,arguments).exponent(.5)}function hP(e){return Math.sign(e)*e*e}function $te(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function AF(){var e=Yk(),t=[0,1],r=!1,n;function a(s){var i=$te(e(s));return isNaN(i)?n:r?Math.round(i):i}return a.invert=function(s){return e.invert(hP(s))},a.domain=function(s){return arguments.length?(e.domain(s),a):e.domain()},a.range=function(s){return arguments.length?(e.range((t=Array.from(s,jv)).map(hP)),a):t.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(e.clamp(s),a):e.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return AF(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ja.apply(a,arguments),Xo(a)}function jF(){var e=[],t=[],r=[],n;function a(){var i=0,o=Math.max(1,t.length);for(r=new Array(o-1);++i<o;)r[i-1]=Vee(e,i/o);return s}function s(i){return i==null||isNaN(i=+i)?n:t[th(r,i)]}return s.invertExtent=function(i){var o=t.indexOf(i);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},s.domain=function(i){if(!arguments.length)return e.slice();e=[];for(let o of i)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(No),a()},s.range=function(i){return arguments.length?(t=Array.from(i),a()):t.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jF().domain(e).range(t).unknown(n)},Ja.apply(s,arguments)}function PF(){var e=0,t=1,r=1,n=[.5],a=[0,1],s;function i(l){return l!=null&&l<=l?a[th(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return i}return i.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},i.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},i.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},i.unknown=function(l){return arguments.length&&(s=l),i},i.thresholds=function(){return n.slice()},i.copy=function(){return PF().domain([e,t]).range(a).unknown(s)},Ja.apply(Xo(i),arguments)}function NF(){var e=[.5],t=[0,1],r,n=1;function a(s){return s!=null&&s<=s?t[th(e,s,0,n)]:r}return a.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(s){var i=t.indexOf(s);return[e[i-1],e[i]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return NF().domain(e).range(t).unknown(r)},Ja.apply(a,arguments)}const l1=new Date,c1=new Date;function Ur(e,t,r,n){function a(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(e(s=new Date(+s)),s),a.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),a.round=s=>{const i=a(s),o=a.ceil(s);return s-i<o-s?i:o},a.offset=(s,i)=>(t(s=new Date(+s),i==null?1:Math.floor(i)),s),a.range=(s,i,o)=>{const l=[];if(s=a.ceil(s),o=o==null?1:Math.floor(o),!(s<i)||!(o>0))return l;let c;do l.push(c=new Date(+s)),t(s,o),e(s);while(c<s&&s<i);return l},a.filter=s=>Ur(i=>{if(i>=i)for(;e(i),!s(i);)i.setTime(i-1)},(i,o)=>{if(i>=i)if(o<0)for(;++o<=0;)for(;t(i,-1),!s(i););else for(;--o>=0;)for(;t(i,1),!s(i););}),r&&(a.count=(s,i)=>(l1.setTime(+s),c1.setTime(+i),e(l1),e(c1),Math.floor(r(l1,c1))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?i=>n(i)%s===0:i=>a.count(0,i)%s===0):a)),a}const Nv=Ur(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Nv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ur(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Nv);Nv.range;const bi=1e3,Ua=bi*60,wi=Ua*60,Fi=wi*24,rS=Fi*7,pP=Fi*30,u1=Fi*365,Cl=Ur(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*bi)},(e,t)=>(t-e)/bi,e=>e.getUTCSeconds());Cl.range;const nS=Ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getMinutes());nS.range;const aS=Ur(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ua)},(e,t)=>(t-e)/Ua,e=>e.getUTCMinutes());aS.range;const sS=Ur(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*bi-e.getMinutes()*Ua)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getHours());sS.range;const iS=Ur(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCHours());iS.range;const ah=Ur(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/Fi,e=>e.getDate()-1);ah.range;const xx=Ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>e.getUTCDate()-1);xx.range;const OF=Ur(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>Math.floor(e/Fi));OF.range;function uc(e){return Ur(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/rS)}const yx=uc(0),Ov=uc(1),Bte=uc(2),zte=uc(3),$u=uc(4),Ute=uc(5),Vte=uc(6);yx.range;Ov.range;Bte.range;zte.range;$u.range;Ute.range;Vte.range;function dc(e){return Ur(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/rS)}const bx=dc(0),Dv=dc(1),Wte=dc(2),Hte=dc(3),Bu=dc(4),Kte=dc(5),Gte=dc(6);bx.range;Dv.range;Wte.range;Hte.range;Bu.range;Kte.range;Gte.range;const oS=Ur(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());oS.range;const lS=Ur(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());lS.range;const Li=Ur(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ur(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Li.range;const $i=Ur(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());$i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ur(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});$i.range;function DF(e,t,r,n,a,s){const i=[[Cl,1,bi],[Cl,5,5*bi],[Cl,15,15*bi],[Cl,30,30*bi],[s,1,Ua],[s,5,5*Ua],[s,15,15*Ua],[s,30,30*Ua],[a,1,wi],[a,3,3*wi],[a,6,6*wi],[a,12,12*wi],[n,1,Fi],[n,2,2*Fi],[r,1,rS],[t,1,pP],[t,3,3*pP],[e,1,u1]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),m=p?p.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,p=Vk(([,,g])=>g).right(i,h);if(p===i.length)return e.every(Hw(c/u1,u/u1,f));if(p===0)return Nv.every(Math.max(Hw(c,u,f),1));const[m,v]=i[h/i[p-1][2]<i[p][2]/h?p-1:p];return m.every(v)}return[o,l]}const[qte,Yte]=DF($i,lS,bx,OF,iS,aS),[Xte,Zte]=DF(Li,oS,yx,ah,sS,nS);function d1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function f1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Md(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function Jte(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,s=e.days,i=e.shortDays,o=e.months,l=e.shortMonths,c=Id(a),u=Rd(a),f=Id(s),h=Rd(s),p=Id(i),m=Rd(i),v=Id(o),g=Rd(o),x=Id(l),b=Rd(l),y={a:K,A:X,b:I,B:J,c:null,d:bP,e:bP,f:wre,g:Nre,G:Dre,H:xre,I:yre,j:bre,L:MF,m:_re,M:kre,p:Z,q:M,Q:kP,s:SP,S:Sre,u:Ere,U:Cre,V:Tre,w:Are,W:jre,x:null,X:null,y:Pre,Y:Ore,Z:Mre,"%":_P},_={a:z,A:G,b:H,B:Q,c:null,d:wP,e:wP,f:Lre,g:qre,G:Xre,H:Ire,I:Rre,j:Fre,L:RF,m:$re,M:Bre,p:oe,q:le,Q:kP,s:SP,S:zre,u:Ure,U:Vre,V:Wre,w:Hre,W:Kre,x:null,X:null,y:Gre,Y:Yre,Z:Zre,"%":_P},S={a:A,A:N,b:j,B:P,c:R,d:xP,e:xP,f:pre,g:gP,G:vP,H:yP,I:yP,j:ure,L:hre,m:cre,M:dre,p:T,q:lre,Q:vre,s:gre,S:fre,u:nre,U:are,V:sre,w:rre,W:ire,x:B,X:q,y:gP,Y:vP,Z:ore,"%":mre};y.x=k(r,y),y.X=k(n,y),y.c=k(t,y),_.x=k(r,_),_.X=k(n,_),_.c=k(t,_);function k(Y,te){return function(ue){var D=[],Ne=-1,me=0,ye=Y.length,fe,de,Oe;for(ue instanceof Date||(ue=new Date(+ue));++Ne<ye;)Y.charCodeAt(Ne)===37&&(D.push(Y.slice(me,Ne)),(de=mP[fe=Y.charAt(++Ne)])!=null?fe=Y.charAt(++Ne):de=fe==="e"?" ":"0",(Oe=te[fe])&&(fe=Oe(ue,de)),D.push(fe),me=Ne+1);return D.push(Y.slice(me,Ne)),D.join("")}}function E(Y,te){return function(ue){var D=Md(1900,void 0,1),Ne=C(D,Y,ue+="",0),me,ye;if(Ne!=ue.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(te&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(me=f1(Md(D.y,0,1)),ye=me.getUTCDay(),me=ye>4||ye===0?Dv.ceil(me):Dv(me),me=xx.offset(me,(D.V-1)*7),D.y=me.getUTCFullYear(),D.m=me.getUTCMonth(),D.d=me.getUTCDate()+(D.w+6)%7):(me=d1(Md(D.y,0,1)),ye=me.getDay(),me=ye>4||ye===0?Ov.ceil(me):Ov(me),me=ah.offset(me,(D.V-1)*7),D.y=me.getFullYear(),D.m=me.getMonth(),D.d=me.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),ye="Z"in D?f1(Md(D.y,0,1)).getUTCDay():d1(Md(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(ye+5)%7:D.w+D.U*7-(ye+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,f1(D)):d1(D)}}function C(Y,te,ue,D){for(var Ne=0,me=te.length,ye=ue.length,fe,de;Ne<me;){if(D>=ye)return-1;if(fe=te.charCodeAt(Ne++),fe===37){if(fe=te.charAt(Ne++),de=S[fe in mP?te.charAt(Ne++):fe],!de||(D=de(Y,ue,D))<0)return-1}else if(fe!=ue.charCodeAt(D++))return-1}return D}function T(Y,te,ue){var D=c.exec(te.slice(ue));return D?(Y.p=u.get(D[0].toLowerCase()),ue+D[0].length):-1}function A(Y,te,ue){var D=p.exec(te.slice(ue));return D?(Y.w=m.get(D[0].toLowerCase()),ue+D[0].length):-1}function N(Y,te,ue){var D=f.exec(te.slice(ue));return D?(Y.w=h.get(D[0].toLowerCase()),ue+D[0].length):-1}function j(Y,te,ue){var D=x.exec(te.slice(ue));return D?(Y.m=b.get(D[0].toLowerCase()),ue+D[0].length):-1}function P(Y,te,ue){var D=v.exec(te.slice(ue));return D?(Y.m=g.get(D[0].toLowerCase()),ue+D[0].length):-1}function R(Y,te,ue){return C(Y,t,te,ue)}function B(Y,te,ue){return C(Y,r,te,ue)}function q(Y,te,ue){return C(Y,n,te,ue)}function K(Y){return i[Y.getDay()]}function X(Y){return s[Y.getDay()]}function I(Y){return l[Y.getMonth()]}function J(Y){return o[Y.getMonth()]}function Z(Y){return a[+(Y.getHours()>=12)]}function M(Y){return 1+~~(Y.getMonth()/3)}function z(Y){return i[Y.getUTCDay()]}function G(Y){return s[Y.getUTCDay()]}function H(Y){return l[Y.getUTCMonth()]}function Q(Y){return o[Y.getUTCMonth()]}function oe(Y){return a[+(Y.getUTCHours()>=12)]}function le(Y){return 1+~~(Y.getUTCMonth()/3)}return{format:function(Y){var te=k(Y+="",y);return te.toString=function(){return Y},te},parse:function(Y){var te=E(Y+="",!1);return te.toString=function(){return Y},te},utcFormat:function(Y){var te=k(Y+="",_);return te.toString=function(){return Y},te},utcParse:function(Y){var te=E(Y+="",!0);return te.toString=function(){return Y},te}}}var mP={"-":"",_:" ",0:"0"},nn=/^\s*\d+/,Qte=/^%/,ere=/[\\^$*+?|[\]().{}]/g;function rt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(t)+a:a)}function tre(e){return e.replace(ere,"\\$&")}function Id(e){return new RegExp("^(?:"+e.map(tre).join("|")+")","i")}function Rd(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function rre(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function nre(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function are(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function sre(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function ire(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function vP(e,t,r){var n=nn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function gP(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ore(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lre(e,t,r){var n=nn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function cre(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function xP(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ure(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function yP(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function dre(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function fre(e,t,r){var n=nn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function hre(e,t,r){var n=nn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function pre(e,t,r){var n=nn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function mre(e,t,r){var n=Qte.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function vre(e,t,r){var n=nn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function gre(e,t,r){var n=nn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function bP(e,t){return rt(e.getDate(),t,2)}function xre(e,t){return rt(e.getHours(),t,2)}function yre(e,t){return rt(e.getHours()%12||12,t,2)}function bre(e,t){return rt(1+ah.count(Li(e),e),t,3)}function MF(e,t){return rt(e.getMilliseconds(),t,3)}function wre(e,t){return MF(e,t)+"000"}function _re(e,t){return rt(e.getMonth()+1,t,2)}function kre(e,t){return rt(e.getMinutes(),t,2)}function Sre(e,t){return rt(e.getSeconds(),t,2)}function Ere(e){var t=e.getDay();return t===0?7:t}function Cre(e,t){return rt(yx.count(Li(e)-1,e),t,2)}function IF(e){var t=e.getDay();return t>=4||t===0?$u(e):$u.ceil(e)}function Tre(e,t){return e=IF(e),rt($u.count(Li(e),e)+(Li(e).getDay()===4),t,2)}function Are(e){return e.getDay()}function jre(e,t){return rt(Ov.count(Li(e)-1,e),t,2)}function Pre(e,t){return rt(e.getFullYear()%100,t,2)}function Nre(e,t){return e=IF(e),rt(e.getFullYear()%100,t,2)}function Ore(e,t){return rt(e.getFullYear()%1e4,t,4)}function Dre(e,t){var r=e.getDay();return e=r>=4||r===0?$u(e):$u.ceil(e),rt(e.getFullYear()%1e4,t,4)}function Mre(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+rt(t/60|0,"0",2)+rt(t%60,"0",2)}function wP(e,t){return rt(e.getUTCDate(),t,2)}function Ire(e,t){return rt(e.getUTCHours(),t,2)}function Rre(e,t){return rt(e.getUTCHours()%12||12,t,2)}function Fre(e,t){return rt(1+xx.count($i(e),e),t,3)}function RF(e,t){return rt(e.getUTCMilliseconds(),t,3)}function Lre(e,t){return RF(e,t)+"000"}function $re(e,t){return rt(e.getUTCMonth()+1,t,2)}function Bre(e,t){return rt(e.getUTCMinutes(),t,2)}function zre(e,t){return rt(e.getUTCSeconds(),t,2)}function Ure(e){var t=e.getUTCDay();return t===0?7:t}function Vre(e,t){return rt(bx.count($i(e)-1,e),t,2)}function FF(e){var t=e.getUTCDay();return t>=4||t===0?Bu(e):Bu.ceil(e)}function Wre(e,t){return e=FF(e),rt(Bu.count($i(e),e)+($i(e).getUTCDay()===4),t,2)}function Hre(e){return e.getUTCDay()}function Kre(e,t){return rt(Dv.count($i(e)-1,e),t,2)}function Gre(e,t){return rt(e.getUTCFullYear()%100,t,2)}function qre(e,t){return e=FF(e),rt(e.getUTCFullYear()%100,t,2)}function Yre(e,t){return rt(e.getUTCFullYear()%1e4,t,4)}function Xre(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Bu(e):Bu.ceil(e),rt(e.getUTCFullYear()%1e4,t,4)}function Zre(){return"+0000"}function _P(){return"%"}function kP(e){return+e}function SP(e){return Math.floor(+e/1e3)}var Ac,LF,$F;Jre({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Jre(e){return Ac=Jte(e),LF=Ac.format,Ac.parse,$F=Ac.utcFormat,Ac.utcParse,Ac}function Qre(e){return new Date(e)}function ene(e){return e instanceof Date?+e:+new Date(+e)}function cS(e,t,r,n,a,s,i,o,l,c){var u=Yk(),f=u.invert,h=u.domain,p=c(".%L"),m=c(":%S"),v=c("%I:%M"),g=c("%I %p"),x=c("%a %d"),b=c("%b %d"),y=c("%B"),_=c("%Y");function S(k){return(l(k)<k?p:o(k)<k?m:i(k)<k?v:s(k)<k?g:n(k)<k?a(k)<k?x:b:r(k)<k?y:_)(k)}return u.invert=function(k){return new Date(f(k))},u.domain=function(k){return arguments.length?h(Array.from(k,ene)):h().map(Qre)},u.ticks=function(k){var E=h();return e(E[0],E[E.length-1],k??10)},u.tickFormat=function(k,E){return E==null?S:c(E)},u.nice=function(k){var E=h();return(!k||typeof k.range!="function")&&(k=t(E[0],E[E.length-1],k??10)),k?h(EF(E,k)):u},u.copy=function(){return nh(u,cS(e,t,r,n,a,s,i,o,l,c))},u}function tne(){return Ja.apply(cS(Xte,Zte,Li,oS,yx,ah,sS,nS,Cl,LF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rne(){return Ja.apply(cS(qte,Yte,$i,lS,bx,xx,iS,aS,Cl,$F).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function wx(){var e=0,t=1,r,n,a,s,i=Un,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:i(a===0?.5:(f=(s(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(i=f,c):i};function u(f){return function(h){var p,m;return arguments.length?([p,m]=h,i=f(p,m),c):[i(0),i(1)]}}return c.range=u(nd),c.rangeRound=u(qk),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Zo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function BF(){var e=Xo(wx()(Un));return e.copy=function(){return Zo(e,BF())},Zi.apply(e,arguments)}function zF(){var e=Jk(wx()).domain([1,10]);return e.copy=function(){return Zo(e,zF()).base(e.base())},Zi.apply(e,arguments)}function UF(){var e=Qk(wx());return e.copy=function(){return Zo(e,UF()).constant(e.constant())},Zi.apply(e,arguments)}function uS(){var e=eS(wx());return e.copy=function(){return Zo(e,uS()).exponent(e.exponent())},Zi.apply(e,arguments)}function nne(){return uS.apply(null,arguments).exponent(.5)}function VF(){var e=[],t=Un;function r(n){if(n!=null&&!isNaN(n=+n))return t((th(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(No),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>Uee(e,s/n))},r.copy=function(){return VF(t).domain(e)},Zi.apply(r,arguments)}function _x(){var e=0,t=.5,r=1,n=1,a,s,i,o,l,c=Un,u,f=!1,h;function p(v){return isNaN(v=+v)?h:(v=.5+((v=+u(v))-s)*(n*v<n*s?o:l),c(f?Math.max(0,Math.min(1,v)):v))}p.domain=function(v){return arguments.length?([e,t,r]=v,a=u(e=+e),s=u(t=+t),i=u(r=+r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p):[e,t,r]},p.clamp=function(v){return arguments.length?(f=!!v,p):f},p.interpolator=function(v){return arguments.length?(c=v,p):c};function m(v){return function(g){var x,b,y;return arguments.length?([x,b,y]=g,c=mte(v,[x,b,y]),p):[c(0),c(.5),c(1)]}}return p.range=m(nd),p.rangeRound=m(qk),p.unknown=function(v){return arguments.length?(h=v,p):h},function(v){return u=v,a=v(e),s=v(t),i=v(r),o=a===s?0:.5/(s-a),l=s===i?0:.5/(i-s),n=s<a?-1:1,p}}function WF(){var e=Xo(_x()(Un));return e.copy=function(){return Zo(e,WF())},Zi.apply(e,arguments)}function HF(){var e=Jk(_x()).domain([.1,1,10]);return e.copy=function(){return Zo(e,HF()).base(e.base())},Zi.apply(e,arguments)}function KF(){var e=Qk(_x());return e.copy=function(){return Zo(e,KF()).constant(e.constant())},Zi.apply(e,arguments)}function dS(){var e=eS(_x());return e.copy=function(){return Zo(e,dS()).exponent(e.exponent())},Zi.apply(e,arguments)}function ane(){return dS.apply(null,arguments).exponent(.5)}const qd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Hk,scaleDiverging:WF,scaleDivergingLog:HF,scaleDivergingPow:dS,scaleDivergingSqrt:ane,scaleDivergingSymlog:KF,scaleIdentity:SF,scaleImplicit:Kw,scaleLinear:kF,scaleLog:CF,scaleOrdinal:Wk,scalePoint:Hee,scalePow:tS,scaleQuantile:jF,scaleQuantize:PF,scaleRadial:AF,scaleSequential:BF,scaleSequentialLog:zF,scaleSequentialPow:uS,scaleSequentialQuantile:VF,scaleSequentialSqrt:nne,scaleSequentialSymlog:UF,scaleSqrt:Lte,scaleSymlog:TF,scaleThreshold:NF,scaleTime:tne,scaleUtc:rne,tickFormat:_F},Symbol.toStringTag,{value:"Module"}));var Jo=e=>e.chartData,fS=ee([Jo],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sh=(e,t,r,n)=>n?fS(e):Jo(e);function Fo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(ft(t)&&ft(r))return!0}return!1}function EP(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GF(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,s;if(ft(r))a=r;else if(typeof r=="function")return;if(ft(n))s=n;else if(typeof n=="function")return;var i=[a,s];if(Fo(i))return i}}function sne(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Fo(n))return EP(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,s]=e,i,o;if(a==="auto")t!=null&&(i=Math.min(...t));else if(_e(a))i=a;else if(typeof a=="function")try{t!=null&&(i=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&oj.test(a)){var l=oj.exec(a);if(l==null||t==null)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=t==null?void 0:t[0];if(s==="auto")t!=null&&(o=Math.max(...t));else if(_e(s))o=s;else if(typeof s=="function")try{t!=null&&(o=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&lj.test(s)){var u=lj.exec(s);if(u==null||t==null)o=void 0;else{var f=+u[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[i,o];if(Fo(h))return t==null?h:EP(h,t,r)}}}var ad=1e9,ine={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},pS,Bt=!0,Xa="[DecimalError] ",Il=Xa+"Invalid argument: ",hS=Xa+"Exponent out of range: ",sd=Math.floor,pl=Math.pow,one=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xa,qr=1e7,At=7,qF=9007199254740991,Mv=sd(qF/At),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,a,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*At;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return Si(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return gt(Si(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Pr(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(xa))throw Error(Xa+"NaN");if(r.s<1)throw Error(Xa+(r.s?"NaN":"-Infinity"));return r.eq(xa)?new n(0):(Bt=!1,t=Si(d0(r,s),d0(e,s),s),Bt=!0,gt(t,a))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZF(t,e):YF(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Xa+"NaN");return r.s?(Bt=!1,t=Si(r,e,0,1).times(e),Bt=!0,r.minus(t)):gt(new n(r),a)};Ae.naturalExponential=Ae.exp=function(){return XF(this)};Ae.naturalLogarithm=Ae.ln=function(){return d0(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YF(t,e):ZF(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Il+e);if(t=Pr(a)+1,n=a.d.length-1,r=n*At+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,a,s,i,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Xa+"NaN")}for(e=Pr(o),Bt=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Bs(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=sd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=i=r+3;;)if(s=n,n=s.plus(Si(o,s,i+2)).times(.5),Bs(s.d).slice(0,i)===(t=Bs(n.d)).slice(0,i)){if(t=t.slice(i-3,i+1),a==i&&t=="4999"){if(gt(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(t!="9999")break;i+=4}return Bt=!0,gt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,a,s,i,o,l,c,u=this,f=u.constructor,h=u.d,p=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=p.length,l<c&&(s=h,h=p,p=s,i=l,l=c,c=i),s=[],i=l+c,n=i;n--;)s.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=s[a]+p[n]*h[a-n-1]+t,s[a--]=o%qr|0,t=o/qr|0;s[a]=(s[a]+t)%qr|0}for(;!s[--i];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Bt?gt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Xs(e,0,ad),t===void 0?t=n.rounding:Xs(t,0,8),gt(r,e+Pr(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Zl(n,!0):(Xs(e,0,ad),t===void 0?t=a.rounding:Xs(t,0,8),n=gt(new a(n),e+1,t),r=Zl(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?Zl(a):(Xs(e,0,ad),t===void 0?t=s.rounding:Xs(t,0,8),n=gt(new s(a),e+Pr(a)+1,t),r=Zl(n.abs(),!1,e+Pr(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return gt(new t(e),Pr(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,a,s,i,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(xa);if(o=new l(o),!o.s){if(e.s<1)throw Error(Xa+"Infinity");return o}if(o.eq(xa))return o;if(n=l.precision,e.eq(xa))return gt(o,n);if(t=e.e,r=e.d.length-1,i=t>=r,s=o.s,i){if((r=u<0?-u:u)<=qF){for(a=new l(xa),t=Math.ceil(n/At+4),Bt=!1;r%2&&(a=a.times(o),TP(a.d,t)),r=sd(r/2),r!==0;)o=o.times(o),TP(o.d,t);return Bt=!0,e.s<0?new l(xa).div(a):gt(a,n)}}else if(s<0)throw Error(Xa+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Bt=!1,a=e.times(d0(o,n+c)),Bt=!0,a=XF(a),a.s=s,a};Ae.toPrecision=function(e,t){var r,n,a=this,s=a.constructor;return e===void 0?(r=Pr(a),n=Zl(a,r<=s.toExpNeg||r>=s.toExpPos)):(Xs(e,1,ad),t===void 0?t=s.rounding:Xs(t,0,8),a=gt(new s(a),e,t),r=Pr(a),n=Zl(a,e<=r||r<=s.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Xs(e,1,ad),t===void 0?t=n.rounding:Xs(t,0,8)),gt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Pr(e),r=e.constructor;return Zl(e,t<=r.toExpNeg||t>=r.toExpPos)};function YF(e,t){var r,n,a,s,i,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Bt?gt(t,f):t;if(l=e.d,c=t.d,i=e.e,a=t.e,l=l.slice(),s=i-a,s){for(s<0?(n=l,s=-s,o=c.length):(n=c,a=i,o=l.length),i=Math.ceil(f/At),o=i>o?i+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,n=c,c=l,l=n),r=0;s;)r=(l[--s]=l[s]+c[s]+r)/qr|0,l[s]%=qr;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Bt?gt(t,f):t}function Xs(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Il+e)}function Bs(e){var t,r,n,a=e.length-1,s="",i=e[0];if(a>0){for(s+=i,t=1;t<a;t++)n=e[t]+"",r=At-n.length,r&&(s+=lo(r)),s+=n;i=e[t],n=i+"",r=At-n.length,r&&(s+=lo(r))}else if(i===0)return"0";for(;i%10===0;)i/=10;return s+i}var Si=function(){function e(n,a){var s,i=0,o=n.length;for(n=n.slice();o--;)s=n[o]*a+i,n[o]=s%qr|0,i=s/qr|0;return i&&n.unshift(i),n}function t(n,a,s,i){var o,l;if(s!=i)l=s>i?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,s){for(var i=0;s--;)n[s]-=i,i=n[s]<a[s]?1:0,n[s]=i*qr+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,i){var o,l,c,u,f,h,p,m,v,g,x,b,y,_,S,k,E,C,T=n.constructor,A=n.s==a.s?1:-1,N=n.d,j=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Xa+"Division by zero");for(l=n.e-a.e,E=j.length,S=N.length,p=new T(A),m=p.d=[],c=0;j[c]==(N[c]||0);)++c;if(j[c]>(N[c]||0)&&--l,s==null?b=s=T.precision:i?b=s+(Pr(n)-Pr(a))+1:b=s,b<0)return new T(0);if(b=b/At+2|0,c=0,E==1)for(u=0,j=j[0],b++;(c<S||u)&&b--;c++)y=u*qr+(N[c]||0),m[c]=y/j|0,u=y%j|0;else{for(u=qr/(j[0]+1)|0,u>1&&(j=e(j,u),N=e(N,u),E=j.length,S=N.length),_=E,v=N.slice(0,E),g=v.length;g<E;)v[g++]=0;C=j.slice(),C.unshift(0),k=j[0],j[1]>=qr/2&&++k;do u=0,o=t(j,v,E,g),o<0?(x=v[0],E!=g&&(x=x*qr+(v[1]||0)),u=x/k|0,u>1?(u>=qr&&(u=qr-1),f=e(j,u),h=f.length,g=v.length,o=t(f,v,h,g),o==1&&(u--,r(f,E<h?C:j,h))):(u==0&&(o=u=1),f=j.slice()),h=f.length,h<g&&f.unshift(0),r(v,f,g),o==-1&&(g=v.length,o=t(j,v,E,g),o<1&&(u++,r(v,E<g?C:j,g))),g=v.length):o===0&&(u++,v=[0]),m[c++]=u,o&&v[0]?v[g++]=N[_]||0:(v=[N[_]],g=1);while((_++<S||v[0]!==void 0)&&b--)}return m[0]||m.shift(),p.e=l,gt(p,i?s+Pr(p)+1:s)}}();function XF(e,t){var r,n,a,s,i,o,l=0,c=0,u=e.constructor,f=u.precision;if(Pr(e)>16)throw Error(hS+Pr(e));if(!e.s)return new u(xa);for(Bt=!1,o=f,i=new u(.03125);e.abs().gte(.1);)e=e.times(i),c+=5;for(n=Math.log(pl(2,c))/Math.LN10*2+5|0,o+=n,r=a=s=new u(xa),u.precision=o;;){if(a=gt(a.times(e),o),r=r.times(++l),i=s.plus(Si(a,r,o)),Bs(i.d).slice(0,o)===Bs(s.d).slice(0,o)){for(;c--;)s=gt(s.times(s),o);return u.precision=f,t==null?(Bt=!0,gt(s,f)):s}s=i}}function Pr(e){for(var t=e.e*At,r=e.d[0];r>=10;r/=10)t++;return t}function h1(e,t,r){if(t>e.LN10.sd())throw Bt=!0,r&&(e.precision=r),Error(Xa+"LN10 precision limit exceeded");return gt(new e(e.LN10),t)}function lo(e){for(var t="";e--;)t+="0";return t}function d0(e,t){var r,n,a,s,i,o,l,c,u,f=1,h=10,p=e,m=p.d,v=p.constructor,g=v.precision;if(p.s<1)throw Error(Xa+(p.s?"NaN":"-Infinity"));if(p.eq(xa))return new v(0);if(t==null?(Bt=!1,c=g):c=t,p.eq(10))return t==null&&(Bt=!0),h1(v,c);if(c+=h,v.precision=c,r=Bs(m),n=r.charAt(0),s=Pr(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=Bs(p.d),n=r.charAt(0),f++;s=Pr(p),n>1?(p=new v("0."+r),s++):p=new v(n+"."+r.slice(1))}else return l=h1(v,c+2,g).times(s+""),p=d0(new v(n+"."+r.slice(1)),c-h).plus(l),v.precision=g,t==null?(Bt=!0,gt(p,g)):p;for(o=i=p=Si(p.minus(xa),p.plus(xa),c),u=gt(p.times(p),c),a=3;;){if(i=gt(i.times(u),c),l=o.plus(Si(i,new v(a),c)),Bs(l.d).slice(0,c)===Bs(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(h1(v,c+2,g).times(s+""))),o=Si(o,new v(f),c),v.precision=g,t==null?(Bt=!0,gt(o,g)):o;o=l,a+=2}}function CP(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=sd(r/At),e.d=[],n=(r+1)%At,r<0&&(n+=At),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=At;n<a;)e.d.push(+t.slice(n,n+=At));t=t.slice(n),n=At-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Bt&&(e.e>Mv||e.e<-Mv))throw Error(hS+r)}else e.s=0,e.e=0,e.d=[0];return e}function gt(e,t,r){var n,a,s,i,o,l,c,u,f=e.d;for(i=1,s=f[0];s>=10;s/=10)i++;if(n=t-i,n<0)n+=At,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/At),s=f.length,u>=s)return e;for(c=s=f[u],i=1;s>=10;s/=10)i++;n%=At,a=n-At+i}if(r!==void 0&&(s=pl(10,i-a-1),o=c/s%10|0,l=t<0||f[u+1]!==void 0||c%s,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/pl(10,i-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(s=Pr(e),f.length=1,t=t-s-1,f[0]=pl(10,(At-t%At)%At),e.e=sd(-t/At)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,s=1,u--):(f.length=u+1,s=pl(10,At-n),f[u]=a>0?(c/pl(10,i-a)%pl(10,a)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==qr&&(f[0]=1,++e.e);break}else{if(f[u]+=s,f[u]!=qr)break;f[u--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Bt&&(e.e>Mv||e.e<-Mv))throw Error(hS+Pr(e));return e}function ZF(e,t){var r,n,a,s,i,o,l,c,u,f,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Bt?gt(t,p):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),i=c-n,i){for(u=i<0,u?(r=l,i=-i,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(p/At),o)+2,i>a&&(i=a,r.length=1),r.reverse(),a=i;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}i=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>i;){if(l[--a]<f[a]){for(s=a;s&&l[--s]===0;)l[s]=qr-1;--l[s],l[a]+=qr}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Bt?gt(t,p):t):new h(0)}function Zl(e,t,r){var n,a=Pr(e),s=Bs(e.d),i=s.length;return t?(r&&(n=r-i)>0?s=s.charAt(0)+"."+s.slice(1)+lo(n):i>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+lo(-a-1)+s,r&&(n=r-i)>0&&(s+=lo(n))):a>=i?(s+=lo(a+1-i),r&&(n=r-a-1)>0&&(s=s+"."+lo(n))):((n=a+1)<i&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-i)>0&&(a+1===i&&(s+="."),s+=lo(n))),e.s<0?"-"+s:s}function TP(e,t){if(e.length>t)return e.length=t,!0}function JF(e){var t,r,n;function a(s){var i=this;if(!(i instanceof a))return new a(s);if(i.constructor=a,s instanceof a){i.s=s.s,i.e=s.e,i.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Il+s);if(s>0)i.s=1;else if(s<0)s=-s,i.s=-1;else{i.s=0,i.e=0,i.d=[0];return}if(s===~~s&&s<1e7){i.e=0,i.d=[s];return}return CP(i,s.toString())}else if(typeof s!="string")throw Error(Il+s);if(s.charCodeAt(0)===45?(s=s.slice(1),i.s=-1):i.s=1,one.test(s))CP(i,s);else throw Error(Il+s)}if(a.prototype=Ae,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=JF,a.config=a.set=lne,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function lne(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,r,n,a=["precision",1,ad,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(sd(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Il+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Il+r+": "+n);return this}var pS=JF(ine);xa=new pS(1);const ct=pS;var cne=e=>e,QF={},e6=e=>e===QF,AP=e=>function t(){return arguments.length===0||arguments.length===1&&e6(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},t6=(e,t)=>e===1?t:AP(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(i=>i!==QF).length;return s>=e?t(...n):t6(e-s,AP(function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];var c=n.map(u=>e6(u)?o.shift():u);return t(...c,...o)}))}),une=e=>t6(e.length,e),Xw=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},dne=une((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),fne=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return cne;var a=r.reverse(),s=a[0],i=a.slice(1);return function(){return i.reduce((o,l)=>l(o),s(...arguments))}},Zw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join("");function r6(e){var t;return e===0?t=1:t=Math.floor(new ct(e).abs().log(10).toNumber())+1,t}function n6(e,t,r){for(var n=new ct(e),a=0,s=[];n.lt(t)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var a6=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},s6=(e,t,r)=>{if(e.lte(0))return new ct(0);var n=r6(e.toNumber()),a=new ct(10).pow(n),s=e.div(a),i=n!==1?.05:.1,o=new ct(Math.ceil(s.div(i).toNumber())).add(r).mul(i),l=o.mul(a);return t?new ct(l.toNumber()):new ct(Math.ceil(l.toNumber()))},hne=(e,t,r)=>{var n=new ct(1),a=new ct(e);if(!a.isint()&&r){var s=Math.abs(e);s<1?(n=new ct(10).pow(r6(e)-1),a=new ct(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new ct(Math.floor(e)))}else e===0?a=new ct(Math.floor((t-1)/2)):r||(a=new ct(Math.floor(e)));var i=Math.floor((t-1)/2),o=fne(dne(l=>a.add(new ct(l-i).mul(n)).toNumber()),Xw);return o(0,t)},i6=function(t,r,n,a){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ct(0),tickMin:new ct(0),tickMax:new ct(0)};var i=s6(new ct(r).sub(t).div(n-1),a,s),o;t<=0&&r>=0?o=new ct(0):(o=new ct(t).add(r).div(2),o=o.sub(new ct(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new ct(r).sub(o).div(i).toNumber()),u=l+c+1;return u>n?i6(t,r,n,a,s+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:i,tickMin:o.sub(new ct(l).mul(i)),tickMax:o.add(new ct(c).mul(i))})},pne=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(a,2),[o,l]=a6([r,n]);if(o===-1/0||l===1/0){var c=l===1/0?[o,...Xw(0,a-1).map(()=>1/0)]:[...Xw(0,a-1).map(()=>-1/0),l];return r>n?Zw(c):c}if(o===l)return hne(o,a,s);var{step:u,tickMin:f,tickMax:h}=i6(o,l,i,s,0),p=n6(f,h.add(new ct(.1).mul(u)),u);return r>n?Zw(p):p},mne=function(t,r){var[n,a]=t,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=a6([n,a]);if(i===-1/0||o===1/0)return[n,a];if(i===o)return[i];var l=Math.max(r,2),c=s6(new ct(o).sub(i).div(l-1),s,0),u=[...n6(new ct(i),new ct(o),c),o];return s===!1&&(u=u.map(f=>Math.round(f))),n>a?Zw(u):u},o6=e=>e.rootProps.maxBarSize,vne=e=>e.rootProps.barGap,l6=e=>e.rootProps.barCategoryGap,gne=e=>e.rootProps.barSize,ih=e=>e.rootProps.stackOffset,c6=e=>e.rootProps.reverseStackOrder,mS=e=>e.options.chartName,vS=e=>e.rootProps.syncId,u6=e=>e.rootProps.syncMethod,gS=e=>e.options.eventEmitter,xne=e=>e.rootProps.baseValue,cr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},vi={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},va={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},kx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:vi.reversed,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:vi.type,unit:void 0},bne={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:va.type,unit:void 0},wne={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:vi.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:vi.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:vi.scale,tick:vi.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},_ne={allowDataOverflow:va.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:va.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:va.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:va.scale,tick:va.tick,tickCount:va.tickCount,ticks:void 0,type:"category",unit:void 0},xS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?wne:yne,yS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?_ne:bne,Sx=e=>e.polarOptions,bS=ee([Yi,Xi,Br],sF),d6=ee([Sx,bS],(e,t)=>{if(e!=null)return Nn(e.innerRadius,t,0)}),f6=ee([Sx,bS],(e,t)=>{if(e!=null)return Nn(e.outerRadius,t,t*.8)}),kne=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},h6=ee([Sx],kne);ee([xS,h6],kx);var p6=ee([bS,d6,f6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ee([yS,p6],kx);var m6=ee([He,Sx,d6,f6,Yi,Xi],(e,t,r,n,a,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:i,cy:o,startAngle:l,endAngle:c}=t;return{cx:Nn(i,a,a/2),cy:Nn(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}}),zt=(e,t)=>t,oh=(e,t,r)=>r;function Ex(e){return e==null?void 0:e.id}function v6(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:s}=r,i=new Map;return e.forEach(o=>{var l,c=(l=o.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=Ex(o);c.forEach((f,h)=>{var p=s==null||a?h:String(dt(f,s,null)),m=dt(f,o.dataKey,0),v;i.has(p)?v=i.get(p):v={},Object.assign(v,{[u]:m}),i.set(p,v)})}}),Array.from(i.values())}function Cx(e){return e.stackId!=null&&e.dataKey!=null}var Tx=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Ax(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function Sne(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var Vr=e=>{var t=He(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},id=e=>e.tooltip.settings.axisId;function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){Ene(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ene(e,t,r){return(t=Cne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=Tne(e,"string");return typeof t=="symbol"?t:t+""}function Tne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jw=[0,"auto"],Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},g6=(e,t)=>e.cartesianAxis.xAxis[t],si=(e,t)=>{var r=g6(e,t);return r??Kr},Gr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:J0},x6=(e,t)=>e.cartesianAxis.yAxis[t],ii=(e,t)=>{var r=x6(e,t);return r??Gr},Ane={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},wS=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Ane},tr=(e,t,r)=>{switch(t){case"xAxis":return si(e,r);case"yAxis":return ii(e,r);case"zAxis":return wS(e,r);case"angleAxis":return xS(e,r);case"radiusAxis":return yS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},jne=(e,t,r)=>{switch(t){case"xAxis":return si(e,r);case"yAxis":return ii(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lh=(e,t,r)=>{switch(t){case"xAxis":return si(e,r);case"yAxis":return ii(e,r);case"angleAxis":return xS(e,r);case"radiusAxis":return yS(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},y6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function _S(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ch=e=>e.graphicalItems.cartesianItems,Pne=ee([zt,oh],_S),kS=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),uh=ee([ch,tr,Pne],kS,{memoizeOptions:{resultEqualityCheck:Ax}}),b6=ee([uh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Cx)),w6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),Nne=ee([uh],w6),SS=e=>e.map(t=>t.data).filter(Boolean).flat(1),One=ee([uh],SS,{memoizeOptions:{resultEqualityCheck:Ax}}),ES=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},CS=ee([One,sh],ES),TS=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:dt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:dt(a,n)}))):e.map(n=>({value:n})),jx=ee([CS,tr,uh],TS);function _6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function mm(e){if(qa(e)||e instanceof Date){var t=Number(e);if(ft(t))return t}}function PP(e){if(Array.isArray(e)){var t=[mm(e[0]),mm(e[1])];return Fo(t)?t:void 0}var r=mm(e);if(r!=null)return[r,r]}function Bi(e){return e.map(mm).filter(WY)}function Dne(e,t,r){return!r||typeof t!="number"||ua(t)?[]:r.length?Bi(r.flatMap(n=>{var a=dt(e,n.dataKey),s,i;if(Array.isArray(a)?[s,i]=a:s=i=a,!(!ft(s)||!ft(i)))return[t-s,t+i]})):[]}var Wr=e=>{var t=Vr(e),r=id(e);return lh(e,t,r)},dh=ee([Wr],e=>e==null?void 0:e.dataKey),Mne=ee([b6,sh,Wr],v6),k6=(e,t,r,n)=>{var a={},s=t.reduce((i,o)=>(o.stackId==null||(i[o.stackId]==null&&(i[o.stackId]=[]),i[o.stackId].push(o)),i),a);return Object.fromEntries(Object.entries(s).map(i=>{var[o,l]=i,c=n?[...l].reverse():l,u=c.map(Ex);return[o,{stackedData:oJ(e,u,r),graphicalItems:c}]}))},f0=ee([Mne,b6,ih,c6],k6),S6=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:s}=t;if(n==null&&r!=="zAxis"){var i=dJ(e,a,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},Ine=ee([tr],e=>e.allowDataOverflow),AS=e=>{var t;if(e==null||!("domain"in e))return Jw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Bi(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Jw},jS=ee([tr],AS),PS=ee([jS,Ine],GF),Rne=ee([f0,Jo,zt,PS],S6,{memoizeOptions:{resultEqualityCheck:Tx}}),Px=e=>e.errorBars,Fne=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>_6(r,n)),Rv=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var s=a.flat(),i=Math.min(...s),o=Math.max(...s);return[i,o]}},NS=(e,t,r,n,a)=>{var s,i;if(r.length>0&&e.forEach(o=>{r.forEach(l=>{var c,u,f=(c=n[l.id])===null||c===void 0?void 0:c.filter(x=>_6(a,x)),h=dt(o,(u=t.dataKey)!==null&&u!==void 0?u:l.dataKey),p=Dne(o,h,f);if(p.length>=2){var m=Math.min(...p),v=Math.max(...p);(s==null||m<s)&&(s=m),(i==null||v>i)&&(i=v)}var g=PP(h);g!=null&&(s=s==null?g[0]:Math.min(s,g[0]),i=i==null?g[1]:Math.max(i,g[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=PP(dt(o,t.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),i=i==null?l[1]:Math.max(i,l[1]))}),ft(s)&&ft(i))return[s,i]},Lne=ee([CS,tr,Nne,Px,zt],NS,{memoizeOptions:{resultEqualityCheck:Tx}});function $ne(e){var{value:t}=e;if(qa(t)||t instanceof Date)return t}var Bne=(e,t,r)=>{var n=e.map($ne).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&y5(n))?fF(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},E6=e=>e.referenceElements.dots,od=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),zne=ee([E6,zt,oh],od),C6=e=>e.referenceElements.areas,Une=ee([C6,zt,oh],od),T6=e=>e.referenceElements.lines,Vne=ee([T6,zt,oh],od),A6=(e,t)=>{var r=Bi(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Wne=ee(zne,zt,A6),j6=(e,t)=>{var r=Bi(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},Hne=ee([Une,zt],j6);function Kne(e){var t;if(e.x!=null)return Bi([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Bi(r)}function Gne(e){var t;if(e.y!=null)return Bi([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Bi(r)}var P6=(e,t)=>{var r=e.flatMap(n=>t==="xAxis"?Kne(n):Gne(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qne=ee([Vne,zt],P6),Yne=ee(Wne,qne,Hne,(e,t,r)=>Rv(e,r,t)),OS=(e,t,r,n,a,s,i,o)=>{if(r!=null)return r;var l=i==="vertical"&&o==="xAxis"||i==="horizontal"&&o==="yAxis",c=l?Rv(n,s,a):Rv(s,a);return sne(t,c,e.allowDataOverflow)},Xne=ee([tr,jS,PS,Rne,Lne,Yne,He,zt],OS,{memoizeOptions:{resultEqualityCheck:Tx}}),Zne=[0,1],DS=(e,t,r,n,a,s,i)=>{if(!((e==null||r==null||r.length===0)&&i===void 0)){var{dataKey:o,type:l}=e,c=ai(t,s);if(c&&o==null){var u;return fF(0,(u=r==null?void 0:r.length)!==null&&u!==void 0?u:0)}return l==="category"?Bne(n,e,c):a==="expand"?Zne:i}},MS=ee([tr,He,CS,jx,ih,zt,Xne],DS),N6=(e,t,r,n,a)=>{if(e!=null){var{scale:s,type:i}=e;if(s==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":i==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(K0(s));return o in qd?o:"point"}}},ld=ee([tr,He,y6,mS,zt],N6);function Jne(e){if(e!=null){if(e in qd)return qd[e]();var t="scale".concat(K0(e));if(t in qd)return qd[t]()}}function IS(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=Jne(t);if(a!=null){var s=a.domain(r).range(n);return rJ(s),s}}}var RS=(e,t,r)=>{var n=AS(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Fo(e))return pne(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Fo(e))return mne(e,t.tickCount,t.allowDecimals)}},FS=ee([MS,lh,ld],RS),LS=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Fo(t)&&Array.isArray(r)&&r.length>0){var a=t[0],s=r[0],i=t[1],o=r[r.length-1];return[Math.min(a,s),Math.max(i,o)]}return t},Qne=ee([tr,MS,FS,zt],LS),eae=ee(jx,tr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Bi(e.map(o=>o.value))).sort((o,l)=>o-l);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var s=0;s<n.length-1;s++){var i=n[s+1]-n[s];r=Math.min(r,i)}return r/a}}),O6=ee(eae,He,l6,Br,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!ft(e))return 0;var s=t==="vertical"?n.height:n.width;if(a==="gap")return e*s/2;if(a==="no-gap"){var i=Nn(r,e*s),o=e*s/2;return o-i-(o-i)/s*i}return 0}),tae=(e,t)=>{var r=si(e,t);return r==null||typeof r.padding!="string"?0:O6(e,"xAxis",t,r.padding)},rae=(e,t)=>{var r=ii(e,t);return r==null||typeof r.padding!="string"?0:O6(e,"yAxis",t,r.padding)},nae=ee(si,tae,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),aae=ee(ii,rae,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),sae=ee([Br,nae,fx,dx,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:s}=n;return a?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),iae=ee([Br,He,aae,fx,dx,(e,t,r)=>r],(e,t,r,n,a,s)=>{var{padding:i}=a;return s?[n.height-i.bottom,i.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),fh=(e,t,r,n)=>{var a;switch(t){case"xAxis":return sae(e,r,n);case"yAxis":return iae(e,r,n);case"zAxis":return(a=wS(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return h6(e);case"radiusAxis":return p6(e,r);default:return}},D6=ee([tr,fh],kx),Lo=ee([tr,ld,Qne,D6],IS);ee([uh,Px,zt],Fne);function M6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Nx=(e,t)=>t,Ox=(e,t,r)=>r,oae=ee(cx,Nx,Ox,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M6)),lae=ee(ux,Nx,Ox,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(M6)),I6=(e,t)=>({width:e.width,height:t.height}),cae=(e,t)=>{var r=typeof t.width=="number"?t.width:J0;return{width:r,height:e.height}},R6=ee(Br,si,I6),uae=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},dae=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fae=ee(Xi,Br,oae,Nx,Ox,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=I6(t,o);i==null&&(i=uae(t,n,e));var c=n==="top"&&!a||n==="bottom"&&a;s[o.id]=i-Number(c)*l.height,i+=(c?-1:1)*l.height}),s}),hae=ee(Yi,Br,lae,Nx,Ox,(e,t,r,n,a)=>{var s={},i;return r.forEach(o=>{var l=cae(t,o);i==null&&(i=dae(t,n,e));var c=n==="left"&&!a||n==="right"&&a;s[o.id]=i-Number(c)*l.width,i+=(c?-1:1)*l.width}),s}),pae=(e,t)=>{var r=si(e,t);if(r!=null)return fae(e,r.orientation,r.mirror)},mae=ee([Br,si,pae,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),vae=(e,t)=>{var r=ii(e,t);if(r!=null)return hae(e,r.orientation,r.mirror)},gae=ee([Br,ii,vae,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),F6=ee(Br,ii,(e,t)=>{var r=typeof t.width=="number"?t.width:J0;return{width:r,height:e.height}}),NP=(e,t,r)=>{switch(t){case"xAxis":return R6(e,r).width;case"yAxis":return F6(e,r).height;default:return}},L6=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:s,dataKey:i}=r,o=ai(e,n),l=t.map(c=>c.value);if(i&&o&&s==="category"&&a&&y5(l))return l}},$S=ee([He,jx,tr,zt],L6),$6=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:s}=r,i=ai(e,n);if(i&&(a==="number"||s!=="auto"))return t.map(o=>o.value)}},BS=ee([He,jx,lh,zt],$6),OP=ee([He,jne,ld,Lo,$S,BS,fh,FS,zt],(e,t,r,n,a,s,i,o,l)=>{if(t!=null){var c=ai(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:s,duplicateDomain:a,isCategorical:c,niceTicks:o,range:i,realScaleType:r,scale:n}}}),xae=(e,t,r,n,a,s,i,o,l)=>{if(!(t==null||n==null)){var c=ai(e,l),{type:u,ticks:f,tickCount:h}=t,p=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,m=u==="category"&&n.bandwidth?n.bandwidth()/p:0;m=l==="angleAxis"&&s!=null&&s.length>=2?Jr(s[0]-s[1])*2*m:m;var v=f||a;if(v){var g=v.map((x,b)=>{var y=i?i.indexOf(x):x;return{index:b,coordinate:n(y)+m,value:x,offset:m}});return g.filter(x=>ft(x.coordinate))}return c&&o?o.map((x,b)=>({coordinate:n(x)+m,value:x,index:b,offset:m})).filter(x=>ft(x.coordinate)):n.ticks?n.ticks(h).map(x=>({coordinate:n(x)+m,value:x,offset:m})):n.domain().map((x,b)=>({coordinate:n(x)+m,value:i?i[x]:x,index:b,offset:m}))}},B6=ee([He,lh,ld,Lo,FS,fh,$S,BS,zt],xae),yae=(e,t,r,n,a,s,i)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=ai(e,i),{tickCount:l}=t,c=0;return c=i==="angleAxis"&&(n==null?void 0:n.length)>=2?Jr(n[0]-n[1])*2*c:c,o&&s?s.map((u,f)=>({coordinate:r(u)+c,value:u,index:f,offset:c})):r.ticks?r.ticks(l).map(u=>({coordinate:r(u)+c,value:u,offset:c})):r.domain().map((u,f)=>({coordinate:r(u)+c,value:a?a[u]:u,index:f,offset:c}))}},Zs=ee([He,lh,Lo,fh,$S,BS,zt],yae),Js=ee(tr,Lo,(e,t)=>{if(!(e==null||t==null))return Iv(Iv({},e),{},{scale:t})}),bae=ee([tr,ld,MS,D6],IS);ee((e,t,r)=>wS(e,r),bae,(e,t)=>{if(!(e==null||t==null))return Iv(Iv({},e),{},{scale:t})});var wae=ee([He,cx,ux],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),z6=e=>e.options.defaultTooltipEventType,U6=e=>e.options.validateTooltipEventTypes;function V6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function zS(e,t){var r=z6(e),n=U6(e);return V6(t,r,n)}function _ae(e){return Se(t=>zS(t,e))}var W6=(e,t)=>{var r,n=Number(t);if(!(ua(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},kae=e=>e.tooltip.settings,po={active:!1,index:null,dataKey:void 0,coordinate:void 0},Sae={itemInteraction:{click:po,hover:po},axisInteraction:{click:po,hover:po},keyboardInteraction:po,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},H6=da({name:"tooltip",initialState:Sae,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:It()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=_s(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:It()},removeTooltipEntrySettings:{reducer(e,t){var r=_s(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:It()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Eae,replaceTooltipEntrySettings:Cae,removeTooltipEntrySettings:Tae,setTooltipSettingsState:Aae,setActiveMouseOverItemIndex:K6,mouseLeaveItem:jae,mouseLeaveChart:G6,setActiveClickItemIndex:Pae,setMouseOverAxisIndex:q6,setMouseClickAxisIndex:Nae,setSyncInteraction:Qw,setKeyboardInteraction:e2}=H6.actions,Oae=H6.reducer;function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ep(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){Dae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dae(e,t,r){return(t=Mae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mae(e){var t=Iae(e,"string");return typeof t=="symbol"?t:t+""}function Iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rae(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fae(e){return e.index!=null}var Y6=(e,t,r,n)=>{if(t==null)return po;var a=Rae(e,t,r);if(a==null)return po;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Fae(a)){if(s)return Ep(Ep({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ep(Ep({},po),{},{coordinate:a.coordinate})};function Lae(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function $ae(e,t){var r=Lae(e),n=t[0],a=t[1];if(r===void 0)return!1;var s=Math.min(n,a),i=Math.max(n,a);return r>=s&&r<=i}function Bae(e,t,r){if(r==null||t==null)return!0;var n=dt(e,t);return n==null||!Fo(r)?!0:$ae(n,r)}var US=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var s=Number(a);if(!ft(s))return a;var i=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(i,Math.min(s,o)),c=t[l];return c==null||Bae(c,r,n)?String(l):null},X6=(e,t,r,n,a,s,i,o)=>{if(!(s==null||o==null)){var l=i[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=a==null?void 0:a[Number(s)];if(u)switch(r){case"horizontal":return{x:u.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:u.coordinate}}}},Z6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var i;return((i=s.settings)===null||i===void 0?void 0:i.dataKey)===a})},hh=e=>e.options.tooltipPayloadSearcher,cd=e=>e.tooltip;function MP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MP(Object(r),!0).forEach(function(n){zae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zae(e,t,r){return(t=Uae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Uae(e){var t=Vae(e,"string");return typeof t=="symbol"?t:t+""}function Vae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wae(e,t){return e??t}var J6=(e,t,r,n,a,s,i)=>{if(!(t==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r,f=[];return e.reduce((h,p)=>{var m,{dataDefinedOnItem:v,settings:g}=p,x=Wae(v,o),b=Array.isArray(x)?AR(x,c,u):x,y=(m=g==null?void 0:g.dataKey)!==null&&m!==void 0?m:n,_=g==null?void 0:g.nameKey,S;if(n&&Array.isArray(b)&&!Array.isArray(b[0])&&i==="axis"?S=b5(b,n,a):S=s(b,t,l,_),Array.isArray(S))S.forEach(E=>{var C=IP(IP({},g),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(cj({tooltipEntrySettings:C,dataKey:E.dataKey,payload:E.payload,value:dt(E.payload,E.dataKey),name:E.name}))});else{var k;h.push(cj({tooltipEntrySettings:g,dataKey:y,payload:S,value:dt(S,y),name:(k=dt(S,_))!==null&&k!==void 0?k:g==null?void 0:g.name}))}return h},f)}},VS=ee([Wr,He,y6,mS,Vr],N6),Hae=ee([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kae=ee([Vr,id],_S),ph=ee([Hae,Wr,Kae],kS,{memoizeOptions:{resultEqualityCheck:Ax}}),Gae=ee([ph],e=>e.filter(Cx)),qae=ee([ph],SS,{memoizeOptions:{resultEqualityCheck:Ax}}),ud=ee([qae,Jo],ES),Yae=ee([Gae,Jo,Wr],v6),WS=ee([ud,Wr,ph],TS),Q6=ee([Wr],AS),Xae=ee([Wr],e=>e.allowDataOverflow),e8=ee([Q6,Xae],GF),Zae=ee([ph],e=>e.filter(Cx)),Jae=ee([Yae,Zae,ih,c6],k6),Qae=ee([Jae,Jo,Vr,e8],S6),ese=ee([ph],w6),tse=ee([ud,Wr,ese,Px,Vr],NS,{memoizeOptions:{resultEqualityCheck:Tx}}),rse=ee([E6,Vr,id],od),nse=ee([rse,Vr],A6),ase=ee([C6,Vr,id],od),sse=ee([ase,Vr],j6),ise=ee([T6,Vr,id],od),ose=ee([ise,Vr],P6),lse=ee([nse,ose,sse],Rv),cse=ee([Wr,Q6,e8,Qae,tse,lse,He,Vr],OS),mh=ee([Wr,He,ud,WS,ih,Vr,cse],DS),use=ee([mh,Wr,VS],RS),dse=ee([Wr,mh,use,Vr],LS),t8=e=>{var t=Vr(e),r=id(e),n=!1;return fh(e,t,r,n)},r8=ee([Wr,t8],kx),n8=ee([Wr,VS,dse,r8],IS),fse=ee([He,WS,Wr,Vr],L6),hse=ee([He,WS,Wr,Vr],$6),pse=(e,t,r,n,a,s,i,o)=>{if(t){var{type:l}=t,c=ai(e,o);if(n){var u=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/u:0;return f=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Jr(a[0]-a[1])*2*f:f,c&&i?i.map((h,p)=>({coordinate:n(h)+f,value:h,index:p,offset:f})):n.domain().map((h,p)=>({coordinate:n(h)+f,value:s?s[h]:h,index:p,offset:f}))}}},Ji=ee([He,Wr,VS,n8,t8,fse,hse,Vr],pse),HS=ee([z6,U6,kae],(e,t,r)=>V6(r.shared,e,t)),a8=e=>e.tooltip.settings.trigger,KS=e=>e.tooltip.settings.defaultIndex,Dx=ee([cd,HS,a8,KS],Y6),$o=ee([Dx,ud,dh,mh],US),s8=ee([Ji,$o],W6),i8=ee([Dx],e=>{if(e)return e.dataKey}),o8=ee([cd,HS,a8,KS],Z6),mse=ee([Yi,Xi,He,Br,Ji,KS,o8,hh],X6),vse=ee([Dx,mse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gse=ee([Dx],e=>e.active),xse=ee([o8,$o,Jo,dh,s8,hh,HS],J6),yse=ee([xse],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){bse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bse(e,t,r){return(t=wse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wse(e){var t=_se(e,"string");return typeof t=="symbol"?t:t+""}function _se(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kse=()=>Se(Wr),Sse=()=>{var e=kse(),t=Se(Ji),r=Se(n8);return Ro(!e||!r?void 0:FP(FP({},e),{},{scale:r}),t)};function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){Ese(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ese(e,t,r){return(t=Cse(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cse(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ase=(e,t,r,n)=>{var a=t.find(s=>s&&s.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},jse=(e,t,r,n)=>{var a=t.find(c=>c&&c.index===r);if(a){if(e==="centric"){var s=a.coordinate,{radius:i}=n;return jc(jc(jc({},n),jr(n.cx,n.cy,i,s)),{},{angle:s,radius:i})}var o=a.coordinate,{angle:l}=n;return jc(jc(jc({},n),jr(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Pse(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var l8=(e,t,r,n,a)=>{var s,i=-1,o=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,f=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(Jr(u-c)!==Jr(f-u)){var p=[];if(Jr(f-u)===Jr(a[1]-a[0])){h=f;var m=u+a[1]-a[0];p[0]=Math.min(m,(m+c)/2),p[1]=Math.max(m,(m+c)/2)}else{h=c;var v=f+a[1]-a[0];p[0]=Math.min(u,(v+u)/2),p[1]=Math.max(u,(v+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=p[0]&&e<=p[1]){({index:i}=r[l]);break}}else{var x=Math.min(c,f),b=Math.max(c,f);if(e>(x+u)/2&&e<=(b+u)/2){({index:i}=r[l]);break}}}else if(t){for(var y=0;y<o;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===o-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:i}=t[y]);break}}return i},c8=()=>Se(mS),GS=(e,t)=>t,u8=(e,t,r)=>r,qS=(e,t,r,n)=>n,Nse=ee(Ji,e=>ex(e,t=>t.coordinate)),YS=ee([cd,GS,u8,qS],Y6),XS=ee([YS,ud,dh,mh],US),Ose=(e,t,r)=>{if(t!=null){var n=cd(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},d8=ee([cd,GS,u8,qS],Z6),Fv=ee([Yi,Xi,He,Br,Ji,qS,d8,hh],X6),Dse=ee([YS,Fv],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),f8=ee([Ji,XS],W6),Mse=ee([d8,XS,Jo,dh,f8,hh,GS],J6),Ise=ee([YS,XS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),Rse=(e,t,r,n,a,s,i)=>{if(!(!e||!r||!n||!a)&&Pse(e,i)){var o=fJ(e,t),l=l8(o,s,a,r,n),c=Ase(t,a,l,e);return{activeIndex:String(l),activeCoordinate:c}}},Fse=(e,t,r,n,a,s,i)=>{if(!(!e||!n||!a||!s||!r)){var o=Eee(e,r);if(o){var l=hJ(o,t),c=l8(l,i,s,n,a),u=jse(t,s,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},Lse=(e,t,r,n,a,s,i,o)=>{if(!(!e||!t||!n||!a||!s))return t==="horizontal"||t==="vertical"?Rse(e,t,n,a,s,i,o):Fse(e,t,r,n,a,s,i)},$se=ee(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElementId:n.elementId}}),Bse=ee(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(cr)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:Sne}});function $P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$P(Object(r),!0).forEach(function(n){zse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zse(e,t,r){return(t=Use(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Use(e){var t=Vse(e,"string");return typeof t=="symbol"?t:t+""}function Vse(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wse={},Hse={zIndexMap:Object.values(cr).reduce((e,t)=>BP(BP({},e),{},{[t]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Wse)},Kse=new Set(Object.values(cr));function Gse(e){return Kse.has(e)}var h8=da({name:"zIndex",initialState:Hse,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:It()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!Gse(r)&&delete e.zIndexMap[r])},prepare:It()},registerZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r,elementId:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElementId=n:e.zIndexMap[r].elementId=n:e.zIndexMap[r]={consumers:0,elementId:a?void 0:n,panoramaElementId:a?n:void 0}},prepare:It()},unregisterZIndexPortalId:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElementId=void 0:e.zIndexMap[r].elementId=void 0)},prepare:It()}}}),{registerZIndexPortal:qse,unregisterZIndexPortal:Yse,registerZIndexPortalId:Xse,unregisterZIndexPortalId:Zse}=h8.actions,Jse=h8.reducer;function Rn(e){var{zIndex:t,children:r}=e,n=zJ(),a=n&&t!==void 0&&t!==0,s=zr(),i=xt();w.useLayoutEffect(()=>a?(i(qse({zIndex:t})),()=>{i(Yse({zIndex:t}))}):G0,[i,t,a]);var o=Se(c=>$se(c,t,s));if(!a)return r;if(!o)return null;var l=document.getElementById(o);return l?B0.createPortal(r,l):null}function t2(){return t2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t2.apply(null,arguments)}function zP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zP(Object(r),!0).forEach(function(n){Qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qse(e,t,r){return(t=eie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eie(e){var t=tie(e,"string");return typeof t=="symbol"?t:t+""}function tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rie(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return w.isValidElement(t)?w.cloneElement(t,n):w.createElement(r,n)}function nie(e){var t,{coordinate:r,payload:n,index:a,offset:s,tooltipAxisBandSize:i,layout:o,cursor:l,tooltipEventType:c,chartName:u}=e,f=r,h=n,p=a;if(!l||!f||u!=="ScatterChart"&&c!=="axis")return null;var m,v,g;if(u==="ScatterChart")m=f,v=zQ,g=cr.cursorLine;else if(u==="BarChart")m=UQ(o,f,s,i),v=aF,g=cr.cursorRectangle;else if(o==="radial"&&_5(f)){var{cx:x,cy:b,radius:y,startAngle:_,endAngle:S}=iF(f);m={cx:x,cy:b,startAngle:_,endAngle:S,innerRadius:y,outerRadius:y},v=lF,g=cr.cursorLine}else m={points:jee(o,f,s)},v=gu,g=cr.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,E=Cp(Cp(Cp(Cp({stroke:"#ccc",pointerEvents:"none"},s),m),Gl(l)),{},{payload:h,payloadIndex:p,className:Ze("recharts-tooltip-cursor",k)});return w.createElement(Rn,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:g},w.createElement(rie,{cursor:l,cursorComp:v,cursorProps:E}))}function aie(e){var t=Sse(),r=UR(),n=cc(),a=c8();return t==null||r==null||n==null||a==null?null:w.createElement(nie,t2({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var p8=w.createContext(null),sie=()=>w.useContext(p8),m8={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],p]:l._events[m].push(p):(l._events[m]=p,l._eventsCount++),l}function i(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,m=new Array(p);h<p;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,p,m){var v=r?r+c:c;if(!this._events[v])return!1;var g=this._events[v],x=arguments.length,b,y;if(g.fn){switch(g.once&&this.removeListener(c,g.fn,void 0,!0),x){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,h),!0;case 5:return g.fn.call(g.context,u,f,h,p),!0;case 6:return g.fn.call(g.context,u,f,h,p,m),!0}for(y=1,b=new Array(x-1);y<x;y++)b[y-1]=arguments[y];g.fn.apply(g.context,b)}else{var _=g.length,S;for(y=0;y<_;y++)switch(g[y].once&&this.removeListener(c,g[y].fn,void 0,!0),x){case 1:g[y].fn.call(g[y].context);break;case 2:g[y].fn.call(g[y].context,u);break;case 3:g[y].fn.call(g[y].context,u,f);break;case 4:g[y].fn.call(g[y].context,u,f,h);break;default:if(!b)for(S=1,b=new Array(x-1);S<x;S++)b[S-1]=arguments[S];g[y].fn.apply(g[y].context,b)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var p=r?r+c:c;if(!this._events[p])return this;if(!u)return i(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&i(this,p);else{for(var v=0,g=[],x=m.length;v<x;v++)(m[v].fn!==u||h&&!m[v].once||f&&m[v].context!==f)&&g.push(m[v]);g.length?this._events[p]=g.length===1?g[0]:g:i(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&i(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(m8);var iie=m8.exports;const oie=ni(iie);var h0=new oie,r2="recharts.syncEvent.tooltip",UP="recharts.syncEvent.brush";function vh(e,t){if(t){var r=Number.parseInt(t,10);if(!ua(r))return e==null?void 0:e[r]}}var lie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},v8=da({name:"options",initialState:lie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),cie=v8.reducer,{createEventEmitter:uie}=v8.actions;function die(e){return e.tooltip.syncInteraction}var fie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},g8=da({name:"chartData",initialState:fie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:VP,setDataStartEndIndexes:hie,setComputedData:A3e}=g8.actions,pie=g8.reducer,mie=["x","y"];function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(r),!0).forEach(function(n){vie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vie(e,t,r){return(t=gie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gie(e){var t=xie(e,"string");return typeof t=="symbol"?t:t+""}function xie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yie(e,t){if(e==null)return{};var r,n,a=bie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wie(){var e=Se(vS),t=Se(gS),r=xt(),n=Se(u6),a=Se(Ji),s=cc(),i=Q0(),o=Se(l=>l.rootProps.className);w.useEffect(()=>{if(e==null)return G0;var l=(c,u,f)=>{if(t!==f&&e===c){if(n==="index"){var h;if(i&&u!==null&&u!==void 0&&(h=u.payload)!==null&&h!==void 0&&h.coordinate&&u.payload.sourceViewBox){var p=u.payload.coordinate,{x:m,y:v}=p,g=yie(p,mie),{x,y:b,width:y,height:_}=u.payload.sourceViewBox,S=Pc(Pc({},g),{},{x:i.x+(y?(m-x)/y:0)*i.width,y:i.y+(_?(v-b)/_:0)*i.height});r(Pc(Pc({},u),{},{payload:Pc(Pc({},u.payload),{},{coordinate:S})}))}else r(u);return}if(a!=null){var k;if(typeof n=="function"){var E={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},C=n(a,E);k=a[C]}else n==="value"&&(k=a.find(q=>String(q.value)===u.payload.label));var{coordinate:T}=u.payload;if(k==null||u.payload.active===!1||T==null||i==null){r(Qw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:A,y:N}=T,j=Math.min(A,i.x+i.width),P=Math.min(N,i.y+i.height),R={x:s==="horizontal"?k.coordinate:j,y:s==="horizontal"?P:k.coordinate},B=Qw({active:u.payload.active,coordinate:R,dataKey:u.payload.dataKey,index:String(k.index),label:u.payload.label,sourceViewBox:u.payload.sourceViewBox});r(B)}}};return h0.on(r2,l),()=>{h0.off(r2,l)}},[o,r,t,e,n,a,s,i])}function _ie(){var e=Se(vS),t=Se(gS),r=xt();w.useEffect(()=>{if(e==null)return G0;var n=(a,s,i)=>{t!==i&&e===a&&r(hie(s))};return h0.on(UP,n),()=>{h0.off(UP,n)}},[r,t,e])}function kie(){var e=xt();w.useEffect(()=>{e(uie())},[e]),wie(),_ie()}function Sie(e,t,r,n,a,s){var i=Se(p=>Ose(p,e,t)),o=Se(gS),l=Se(vS),c=Se(u6),u=Se(die),f=u==null?void 0:u.active,h=Q0();w.useEffect(()=>{if(!f&&l!=null&&o!=null){var p=Qw({active:s,coordinate:r,dataKey:i,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h});h0.emit(r2,l,p,o)}},[f,r,i,a,n,o,l,c,s,h])}function HP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HP(Object(r),!0).forEach(function(n){Eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eie(e,t,r){return(t=Cie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aie(e){return e.dataKey}function jie(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(yQ,t)}var GP=[],Pie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Yo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Pt(e){var t,r,n=er(e,Pie),{active:a,allowEscapeViewBox:s,animationDuration:i,animationEasing:o,content:l,filterNull:c,isAnimationActive:u,offset:f,payloadUniqBy:h,position:p,reverseDirection:m,useTranslate3d:v,wrapperStyle:g,cursor:x,shared:b,trigger:y,defaultIndex:_,portal:S,axisId:k}=n,E=xt(),C=typeof _=="number"?String(_):_;w.useEffect(()=>{E(Aae({shared:b,trigger:y,axisId:k,active:a,defaultIndex:C}))},[E,b,y,k,a,C]);var T=Q0(),A=QR(),N=_ae(b),{activeIndex:j,isActive:P}=(t=Se(oe=>Ise(oe,N,y,C)))!==null&&t!==void 0?t:{},R=Se(oe=>Mse(oe,N,y,C)),B=Se(oe=>f8(oe,N,y,C)),q=Se(oe=>Dse(oe,N,y,C)),K=R,X=sie(),I=(r=a??P)!==null&&r!==void 0?r:!1,[J,Z]=J5([K,I]),M=N==="axis"?B:void 0;Sie(N,y,q,M,j,I);var z=S??X;if(z==null||T==null||N==null)return null;var G=K??GP;I||(G=GP),c&&G.length&&(G=B5(G.filter(oe=>oe.value!=null&&(oe.hide!==!0||n.includeHidden)),h,Aie));var H=G.length>0,Q=w.createElement(CQ,{allowEscapeViewBox:s,animationDuration:i,animationEasing:o,isAnimationActive:u,active:I,coordinate:q,hasPayload:H,offset:f,position:p,reverseDirection:m,useTranslate3d:v,viewBox:T,wrapperStyle:g,lastBoundingBox:J,innerRef:Z,hasPortalFromProps:!!S},jie(l,KP(KP({},n),{},{payload:G,label:M,active:I,activeIndex:j,coordinate:q,accessibilityLayer:A})));return w.createElement(w.Fragment,null,B0.createPortal(Q,z),I&&w.createElement(aie,{cursor:x,tooltipEventType:N,coordinate:q,payload:G,index:j}))}var Qs=e=>null;Qs.displayName="Cell";function Nie(e,t,r){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mie{constructor(t){Nie(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function qP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Iie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(r),!0).forEach(function(n){Rie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rie(e,t,r){return(t=Fie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $ie={cacheSize:2e3,enableCache:!0},x8=Iie({},$ie),YP=new Mie(x8.cacheSize),Bie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XP="recharts_measurement_span";function zie(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",s=t.fontStyle||"",i=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(s,"|").concat(i,"|").concat(o)}var ZP=(e,t)=>{try{var r=document.getElementById(XP);r||(r=document.createElement("span"),r.setAttribute("id",XP),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Bie,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},hf=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Yo.isSsr)return{width:0,height:0};if(!x8.enableCache)return ZP(t,r);var n=zie(t,r),a=YP.get(n);if(a)return a;var s=ZP(t,r);return YP.set(n,s),s},JP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,y8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wie=Object.keys(y8),eu="NaN";function Hie(e,t){return e*y8[t]}class ta{static parse(t){var r,[,n,a]=(r=Vie.exec(t))!==null&&r!==void 0?r:[];return new ta(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ua(t)&&(this.unit=""),r!==""&&!Uie.test(r)&&(this.num=NaN,this.unit=""),Wie.includes(r)&&(this.num=Hie(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new ta(NaN,""):new ta(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ta(NaN,""):new ta(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ta(NaN,""):new ta(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ta(NaN,""):new ta(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ua(this.num)}}function b8(e){if(e.includes(eu))return eu;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,s]=(r=JP.exec(t))!==null&&r!==void 0?r:[],i=ta.parse(n??""),o=ta.parse(s??""),l=a==="*"?i.multiply(o):i.divide(o);if(l.isNaN())return eu;t=t.replace(JP,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,f,h]=(c=QP.exec(t))!==null&&c!==void 0?c:[],p=ta.parse(u??""),m=ta.parse(h??""),v=f==="+"?p.add(m):p.subtract(m);if(v.isNaN())return eu;t=t.replace(QP,v.toString())}return t}var eN=/\(([^()]*)\)/;function Kie(e){for(var t=e,r;(r=eN.exec(t))!=null;){var[,n]=r;t=t.replace(eN,b8(n))}return t}function Gie(e){var t=e.replace(/\s+/g,"");return t=Kie(t),t=b8(t),t}function qie(e){try{return Gie(e)}catch{return eu}}function p1(e){var t=qie(e.slice(5,-1));return t===eu?"":t}var Yie=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Xie=["dx","dy","angle","className","breakAll"];function n2(){return n2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n2.apply(null,arguments)}function tN(e,t){if(e==null)return{};var r,n,a=Zie(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w8=/[ \f\n\r\t\v\u2028\u2029]+/,_8=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];Mt(t)||(r?a=t.toString().split(""):a=t.toString().split(w8));var s=a.map(o=>({word:o,width:hf(o,n).width})),i=r?0:hf("",n).width;return{wordsWithComputedWidth:s,spaceWidth:i}}catch{return null}};function Jie(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var k8=(e,t,r,n)=>e.reduce((a,s)=>{var{word:i,width:o}=s,l=a[a.length-1];if(l&&o!=null&&(t==null||n||l.width+o+r<Number(t)))l.words.push(i),l.width+=o+r;else{var c={words:[i],width:o};a.push(c)}return a},[]),S8=e=>e.reduce((t,r)=>t.width>r.width?t:r),Qie="",rN=(e,t,r,n,a,s,i,o)=>{var l=e.slice(0,t),c=_8({breakAll:r,style:n,children:l+Qie});if(!c)return[!1,[]];var u=k8(c.wordsWithComputedWidth,s,i,o),f=u.length>a||S8(u).width>Number(s);return[f,u]},eoe=(e,t,r,n,a)=>{var{maxLines:s,children:i,style:o,breakAll:l}=e,c=_e(s),u=String(i),f=k8(t,n,r,a);if(!c||a)return f;var h=f.length>s||S8(f).width>Number(n);if(!h)return f;for(var p=0,m=u.length-1,v=0,g;p<=m&&v<=u.length-1;){var x=Math.floor((p+m)/2),b=x-1,[y,_]=rN(u,b,l,o,s,n,r,a),[S]=rN(u,x,l,o,s,n,r,a);if(!y&&!S&&(p=x+1),y&&S&&(m=x-1),!y&&S){g=_;break}v++}return g||f},nN=e=>{var t=Mt(e)?[]:e.toString().split(w8);return[{words:t,width:void 0}]},toe=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:s,maxLines:i}=e;if((t||r)&&!Yo.isSsr){var o,l,c=_8({breakAll:s,children:n,style:a});if(c){var{wordsWithComputedWidth:u,spaceWidth:f}=c;o=u,l=f}else return nN(n);return eoe({breakAll:s,children:n,maxLines:i,style:a},o,l,t,!!r)}return nN(n)},E8="#808080",roe={angle:0,breakAll:!1,capHeight:"0.71em",fill:E8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},Mx=w.forwardRef((e,t)=>{var r=er(e,roe),{x:n,y:a,lineHeight:s,capHeight:i,fill:o,scaleToFit:l,textAnchor:c,verticalAnchor:u}=r,f=tN(r,Yie),h=w.useMemo(()=>toe({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:p,dy:m,angle:v,className:g,breakAll:x}=f,b=tN(f,Xie);if(!qa(n)||!qa(a)||h.length===0)return null;var y=Number(n)+(_e(p)?p:0),_=Number(a)+(_e(m)?m:0);if(!ft(y)||!ft(_))return null;var S;switch(u){case"start":S=p1("calc(".concat(i,")"));break;case"middle":S=p1("calc(".concat((h.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:S=p1("calc(".concat(h.length-1," * -").concat(s,")"));break}var k=[];if(l){var E=h[0].width,{width:C}=f;k.push("scale(".concat(_e(C)&&_e(E)?C/E:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(y,", ").concat(_,")")),k.length&&(b.transform=k.join(" ")),w.createElement("text",n2({},vn(b),{ref:t,x:y,y:_,className:Ze("recharts-text",g),textAnchor:c,fill:o.includes("url")?E8:o}),h.map((T,A)=>{var N=T.words.join(x?"":" ");return w.createElement("tspan",{x:y,dy:A===0?S:s,key:"".concat(N,"-").concat(A)},N)}))});Mx.displayName="Text";var noe=["labelRef"];function aoe(e,t){if(e==null)return{};var r,n,a=soe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function soe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ioe(e,t,r){return(t=ooe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ooe(e){var t=loe(e,"string");return typeof t=="symbol"?t:t+""}function loe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gi(){return gi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gi.apply(null,arguments)}var C8=w.createContext(null),T8=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i,children:o}=e,l=w.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:s,height:i}),[t,r,n,a,s,i]);return w.createElement(C8.Provider,{value:l},o)},A8=()=>{var e=w.useContext(C8),t=Q0();return e||zR(t)},coe=w.createContext(null),uoe=()=>{var e=w.useContext(coe),t=Se(m6);return e||t},doe=e=>{var{value:t,formatter:r}=e,n=Mt(e.children)?t:e.children;return typeof r=="function"?r(n):n},ZS=e=>e!=null&&typeof e=="function",foe=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},hoe=(e,t,r,n,a)=>{var{offset:s,className:i}=e,{cx:o,cy:l,innerRadius:c,outerRadius:u,startAngle:f,endAngle:h,clockWise:p}=a,m=(c+u)/2,v=foe(f,h),g=v>=0?1:-1,x,b;switch(t){case"insideStart":x=f+g*s,b=p;break;case"insideEnd":x=h-g*s,b=!p;break;case"end":x=h+g*s,b=p;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var y=jr(o,l,m,x),_=jr(o,l,m,x+(b?1:-1)*359),S="M".concat(y.x,",").concat(y.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(_.x,",").concat(_.y),k=Mt(e.id)?Qf("recharts-radial-line-"):e.id;return w.createElement("text",gi({},n,{dominantBaseline:"central",className:Ze("recharts-radial-bar-label",i)}),w.createElement("defs",null,w.createElement("path",{id:k,d:S})),w.createElement("textPath",{xlinkHref:"#".concat(k)},r))},poe=(e,t,r)=>{var{cx:n,cy:a,innerRadius:s,outerRadius:i,startAngle:o,endAngle:l}=e,c=(o+l)/2;if(r==="outside"){var{x:u,y:f}=jr(n,a,i+t,c);return{x:u,y:f,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(s+i)/2,{x:p,y:m}=jr(n,a,h,c);return{x:p,y:m,textAnchor:"middle",verticalAnchor:"middle"}},a2=e=>"cx"in e&&_e(e.cx),moe=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,s;r!=null&&!a2(r)&&(s=r);var{x:i,y:o,upperWidth:l,lowerWidth:c,height:u}=t,f=i,h=i+(l-c)/2,p=(f+h)/2,m=(l+c)/2,v=f+l/2,g=u>=0?1:-1,x=g*n,b=g>0?"end":"start",y=g>0?"start":"end",_=l>=0?1:-1,S=_*n,k=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var C={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return hr(hr({},C),s?{height:Math.max(o-s.y,0),width:l}:{})}if(a==="bottom"){var T={x:h+c/2,y:o+u+x,textAnchor:"middle",verticalAnchor:y};return hr(hr({},T),s?{height:Math.max(s.y+s.height-(o+u),0),width:c}:{})}if(a==="left"){var A={x:p-S,y:o+u/2,textAnchor:k,verticalAnchor:"middle"};return hr(hr({},A),s?{width:Math.max(A.x-s.x,0),height:u}:{})}if(a==="right"){var N={x:p+m+S,y:o+u/2,textAnchor:E,verticalAnchor:"middle"};return hr(hr({},N),s?{width:Math.max(s.x+s.width-N.x,0),height:u}:{})}var j=s?{width:m,height:u}:{};return a==="insideLeft"?hr({x:p+S,y:o+u/2,textAnchor:E,verticalAnchor:"middle"},j):a==="insideRight"?hr({x:p+m-S,y:o+u/2,textAnchor:k,verticalAnchor:"middle"},j):a==="insideTop"?hr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:y},j):a==="insideBottom"?hr({x:h+c/2,y:o+u-x,textAnchor:"middle",verticalAnchor:b},j):a==="insideTopLeft"?hr({x:f+S,y:o+x,textAnchor:E,verticalAnchor:y},j):a==="insideTopRight"?hr({x:f+l-S,y:o+x,textAnchor:k,verticalAnchor:y},j):a==="insideBottomLeft"?hr({x:h+S,y:o+u-x,textAnchor:E,verticalAnchor:b},j):a==="insideBottomRight"?hr({x:h+c-S,y:o+u-x,textAnchor:k,verticalAnchor:b},j):a&&typeof a=="object"&&(_e(a.x)||Ii(a.x))&&(_e(a.y)||Ii(a.y))?hr({x:i+Nn(a.x,m),y:o+Nn(a.y,u),textAnchor:"end",verticalAnchor:"end"},j):hr({x:v,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},j)},voe={angle:0,offset:5,zIndex:cr.label,position:"middle",textBreakAll:!1};function co(e){var t=er(e,voe),{viewBox:r,position:n,value:a,children:s,content:i,className:o="",textBreakAll:l,labelRef:c}=t,u=uoe(),f=A8(),h=n==="center"?f:u??f,p,m,v;if(r==null?p=h:a2(r)?p=r:p=zR(r),!p||Mt(a)&&Mt(s)&&!w.isValidElement(i)&&typeof i!="function")return null;var g=hr(hr({},t),{},{viewBox:p});if(w.isValidElement(i)){var{labelRef:x}=g,b=aoe(g,noe);return w.cloneElement(i,b)}if(typeof i=="function"){if(m=w.createElement(i,g),w.isValidElement(m))return m}else m=doe(t);var y=vn(t);if(a2(p)){if(n==="insideStart"||n==="insideEnd"||n==="end")return hoe(t,n,m,y,p);v=poe(p,t.offset,t.position)}else v=moe(t,p);return w.createElement(Rn,{zIndex:t.zIndex},w.createElement(Mx,gi({ref:c,className:Ze("recharts-label",o)},y,v,{textAnchor:Jie(y.textAnchor)?y.textAnchor:v.textAnchor,breakAll:l}),m))}co.displayName="Label";var goe=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(co,gi({key:"label-implicit"},n)):qa(e)?w.createElement(co,gi({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===co?w.cloneElement(e,hr({key:"label-implicit"},n)):w.createElement(co,gi({key:"label-implicit",content:e},n)):ZS(e)?w.createElement(co,gi({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(co,gi({},e,{key:"label-implicit"},n)):null};function j8(e){var{label:t,labelRef:r}=e,n=A8();return goe(t,n,r)||null}var P8={},N8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(N8);var O8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(O8);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=N8,r=O8,n=Jg;function a(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=a})(P8);var xoe=P8.last;const yoe=ni(xoe);var boe=["valueAccessor"],woe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Lv(){return Lv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Lv.apply(null,arguments)}function sN(e,t){if(e==null)return{};var r,n,a=_oe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _oe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var koe=e=>Array.isArray(e.value)?yoe(e.value):e.value,D8=w.createContext(void 0),JS=D8.Provider,M8=w.createContext(void 0),Soe=M8.Provider;function Eoe(){return w.useContext(D8)}function Coe(){return w.useContext(M8)}function vm(e){var{valueAccessor:t=koe}=e,r=sN(e,boe),{dataKey:n,clockWise:a,id:s,textBreakAll:i,zIndex:o}=r,l=sN(r,woe),c=Eoe(),u=Coe(),f=c||u;return!f||!f.length?null:w.createElement(Rn,{zIndex:o??cr.label},w.createElement(Qt,{className:"recharts-label-list"},f.map((h,p)=>{var m,v=Mt(n)?t(h,p):dt(h&&h.payload,n),g=Mt(s)?{}:{id:"".concat(s,"-").concat(p)};return w.createElement(co,Lv({key:"label-".concat(p)},vn(h),l,g,{fill:(m=r.fill)!==null&&m!==void 0?m:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:i,viewBox:h.viewBox,index:p,zIndex:0}))})))}vm.displayName="LabelList";function Ix(e){var{label:t}=e;return t?t===!0?w.createElement(vm,{key:"labelList-implicit"}):w.isValidElement(t)||ZS(t)?w.createElement(vm,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(vm,Lv({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function s2(){return s2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s2.apply(null,arguments)}var I8=e=>{var{cx:t,cy:r,r:n,className:a}=e,s=Ze("recharts-dot",a);return _e(t)&&_e(r)&&_e(n)?w.createElement("circle",s2({},qn(e),vk(e),{className:s,cx:t,cy:r,r:n})):null},R8=e=>e.graphicalItems.polarItems,Toe=ee([zt,oh],_S),Rx=ee([R8,tr,Toe],kS),Aoe=ee([Rx],SS),Fx=ee([Aoe,fS],ES),joe=ee([Fx,tr,Rx],TS);ee([Fx,tr,Rx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var s,i=dt(n,(s=t.dataKey)!==null&&s!==void 0?s:a.dataKey);return{value:i,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:dt(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var iN=()=>{},Poe=ee([Fx,tr,Rx,Px,zt],NS),Noe=ee([tr,jS,PS,iN,Poe,iN,He,zt],OS),F8=ee([tr,He,Fx,joe,ih,zt,Noe],DS),Ooe=ee([F8,tr,ld],RS);ee([tr,F8,Ooe,zt],LS);var Doe={radiusAxis:{},angleAxis:{}},L8=da({name:"polarAxis",initialState:Doe,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:j3e,removeRadiusAxis:P3e,addAngleAxis:N3e,removeAngleAxis:O3e}=L8.actions,Moe=L8.reducer;function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Ioe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ioe(e,t,r){return(t=Roe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Roe(e){var t=Foe(e,"string");return typeof t=="symbol"?t:t+""}function Foe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Loe=(e,t)=>t,QS=ee([R8,Loe],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),$oe=[],eE=(e,t,r)=>(r==null?void 0:r.length)===0?$oe:r,$8=ee([fS,QS,eE],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(s=>lN(lN({},t.presentationProps),s.props))),a!=null)return a}}),Boe=ee([$8,QS,eE],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var s,i=dt(n,t.nameKey,t.name),o;return r!=null&&(s=r[a])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:qo(i,t.dataKey),color:o,payload:n,type:t.legendType}})}),zoe=ee([$8,QS,eE,Br],(e,t,r,n)=>{if(!(t==null||e==null))return qle({offset:n,pieSettings:t,displayedData:e,cells:r})}),B8={exports:{}},yt={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lx=60103,$x=60106,gh=60107,xh=60108,yh=60114,bh=60109,wh=60110,_h=60112,kh=60113,tE=60120,Sh=60115,Eh=60116,z8=60121,U8=60122,V8=60117,W8=60129,H8=60131;if(typeof Symbol=="function"&&Symbol.for){var sn=Symbol.for;Lx=sn("react.element"),$x=sn("react.portal"),gh=sn("react.fragment"),xh=sn("react.strict_mode"),yh=sn("react.profiler"),bh=sn("react.provider"),wh=sn("react.context"),_h=sn("react.forward_ref"),kh=sn("react.suspense"),tE=sn("react.suspense_list"),Sh=sn("react.memo"),Eh=sn("react.lazy"),z8=sn("react.block"),U8=sn("react.server.block"),V8=sn("react.fundamental"),W8=sn("react.debug_trace_mode"),H8=sn("react.legacy_hidden")}function Ts(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Lx:switch(e=e.type,e){case gh:case yh:case xh:case kh:case tE:return e;default:switch(e=e&&e.$$typeof,e){case wh:case _h:case Eh:case Sh:case bh:return e;default:return t}}case $x:return t}}}var Uoe=bh,Voe=Lx,Woe=_h,Hoe=gh,Koe=Eh,Goe=Sh,qoe=$x,Yoe=yh,Xoe=xh,Zoe=kh;yt.ContextConsumer=wh;yt.ContextProvider=Uoe;yt.Element=Voe;yt.ForwardRef=Woe;yt.Fragment=Hoe;yt.Lazy=Koe;yt.Memo=Goe;yt.Portal=qoe;yt.Profiler=Yoe;yt.StrictMode=Xoe;yt.Suspense=Zoe;yt.isAsyncMode=function(){return!1};yt.isConcurrentMode=function(){return!1};yt.isContextConsumer=function(e){return Ts(e)===wh};yt.isContextProvider=function(e){return Ts(e)===bh};yt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lx};yt.isForwardRef=function(e){return Ts(e)===_h};yt.isFragment=function(e){return Ts(e)===gh};yt.isLazy=function(e){return Ts(e)===Eh};yt.isMemo=function(e){return Ts(e)===Sh};yt.isPortal=function(e){return Ts(e)===$x};yt.isProfiler=function(e){return Ts(e)===yh};yt.isStrictMode=function(e){return Ts(e)===xh};yt.isSuspense=function(e){return Ts(e)===kh};yt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gh||e===yh||e===W8||e===xh||e===kh||e===tE||e===H8||typeof e=="object"&&e!==null&&(e.$$typeof===Eh||e.$$typeof===Sh||e.$$typeof===bh||e.$$typeof===wh||e.$$typeof===_h||e.$$typeof===V8||e.$$typeof===z8||e[0]===U8)};yt.typeOf=Ts;B8.exports=yt;var Joe=B8.exports,cN=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",uN=null,m1=null,K8=e=>{if(e===uN&&Array.isArray(m1))return m1;var t=[];return w.Children.forEach(e,r=>{Mt(r)||(Joe.isFragment(r)?t=t.concat(K8(r.props.children)):t.push(r))}),m1=t,uN=e,t};function rE(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>cN(a)):n=[cN(t)],K8(e).forEach(a=>{var s=ql(a,"type.displayName")||ql(a,"type.name");s&&n.indexOf(s)!==-1&&r.push(a)}),r}var nE=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,G8={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(G8);var Qoe=G8.isPlainObject;const ele=ni(Qoe);function dN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dN(Object(r),!0).forEach(function(n){tle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tle(e,t,r){return(t=rle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rle(e){var t=nle(e,"string");return typeof t=="symbol"?t:t+""}function nle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}var hN=(e,t,r,n,a)=>{var s=r-n,i;return i="M ".concat(e,",").concat(t),i+="L ".concat(e+r,",").concat(t),i+="L ".concat(e+r-s/2,",").concat(t+a),i+="L ".concat(e+r-s/2-n,",").concat(t+a),i+="L ".concat(e,",").concat(t," Z"),i},ale={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sle=e=>{var t=er(e,ale),{x:r,y:n,upperWidth:a,lowerWidth:s,height:i,className:o}=t,{animationEasing:l,animationDuration:c,animationBegin:u,isUpdateAnimationActive:f}=t,h=w.useRef(null),[p,m]=w.useState(-1),v=w.useRef(a),g=w.useRef(s),x=w.useRef(i),b=w.useRef(r),y=w.useRef(n),_=rd(e,"trapezoid-");if(w.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var R=h.current.getTotalLength();R&&m(R)}catch{}},[]),r!==+r||n!==+n||a!==+a||s!==+s||i!==+i||a===0&&s===0||i===0)return null;var S=Ze("recharts-trapezoid",o);if(!f)return w.createElement("g",null,w.createElement("path",$v({},vn(t),{className:S,d:hN(r,n,a,s,i)})));var k=v.current,E=g.current,C=x.current,T=b.current,A=y.current,N="0px ".concat(p===-1?1:p,"px"),j="".concat(p,"px 0px"),P=eF(["strokeDasharray"],c,l);return w.createElement(td,{animationId:_,key:_,canBegin:p>0,duration:c,easing:l,isActive:f,begin:u},R=>{var B=it(k,a,R),q=it(E,s,R),K=it(C,i,R),X=it(T,r,R),I=it(A,n,R);h.current&&(v.current=B,g.current=q,x.current=K,b.current=X,y.current=I);var J=R>0?{transition:P,strokeDasharray:j}:{strokeDasharray:N};return w.createElement("path",$v({},vn(t),{className:S,d:hN(X,I,B,q,K),ref:h,style:fN(fN({},J),t.style)}))})},ile=["option","shapeType","propTransformer","activeClassName"];function ole(e,t){if(e==null)return{};var r,n,a=lle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lle(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bv(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){cle(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cle(e,t,r){return(t=ule(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ule(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fle(e,t){return Bv(Bv({},t),e)}function hle(e,t){return e==="symbols"}function mN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(aF,r);case"trapezoid":return w.createElement(sle,r);case"sector":return w.createElement(lF,r);case"symbols":if(hle(t))return w.createElement(mk,r);break;case"curve":return w.createElement(gu,r);default:return null}}function ple(e){return w.isValidElement(e)?e.props:e}function aE(e){var{option:t,shapeType:r,propTransformer:n=fle,activeClassName:a="recharts-active-shape"}=e,s=ole(e,ile),i;if(w.isValidElement(t))i=w.cloneElement(t,Bv(Bv({},s),ple(t)));else if(typeof t=="function")i=t(s);else if(ele(t)&&typeof t!="boolean"){var o=n(t,s);i=w.createElement(mN,{shapeType:r,elementProps:o})}else{var l=s;i=w.createElement(mN,{shapeType:r,elementProps:l})}return s.isActive?w.createElement(Qt,{className:a},i):i}var sE=(e,t)=>{var r=xt();return(n,a)=>s=>{e==null||e(n,a,s),r(K6({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},iE=e=>{var t=xt();return(r,n)=>a=>{e==null||e(r,n,a),t(jae())}},oE=(e,t)=>{var r=xt();return(n,a)=>s=>{e==null||e(n,a,s),r(Pae({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Bx(e){var{tooltipEntrySettings:t}=e,r=xt(),n=zr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(Eae(t)):a.current!==t&&r(Cae({prev:a.current,next:t})),a.current=t)},[t,r,n]),w.useLayoutEffect(()=>()=>{a.current&&(r(Tae(a.current)),a.current=null)},[r]),null}function lE(e){var{legendPayload:t}=e,r=xt(),n=zr(),a=w.useRef(null);return w.useLayoutEffect(()=>{n||(a.current===null?r(XR(t)):a.current!==t&&r(ZR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(JR(a.current)),a.current=null)},[r]),null}function mle(e){var{legendPayload:t}=e,r=xt(),n=Se(He),a=w.useRef(null);return w.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(a.current===null?r(XR(t)):a.current!==t&&r(ZR({prev:a.current,next:t})),a.current=t)},[r,n,t]),w.useLayoutEffect(()=>()=>{a.current&&(r(JR(a.current)),a.current=null)},[r]),null}var v1,vle=()=>{var[e]=w.useState(()=>Qf("uid-"));return e},gle=(v1=V7.useId)!==null&&v1!==void 0?v1:vle;function q8(e,t){var r=gle();return t||(e?"".concat(e,"-").concat(r):r)}var xle=w.createContext(void 0),zx=e=>{var{id:t,type:r,children:n}=e,a=q8("recharts-".concat(r),t);return w.createElement(xle.Provider,{value:a},n(a))},yle={cartesianItems:[],polarItems:[]},Y8=da({name:"graphicalItems",initialState:yle,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:It()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=_s(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:It()},removeCartesianGraphicalItem:{reducer(e,t){var r=_s(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:It()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:It()},removePolarGraphicalItem:{reducer(e,t){var r=_s(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:It()}}}),{addCartesianGraphicalItem:ble,replaceCartesianGraphicalItem:wle,removeCartesianGraphicalItem:_le,addPolarGraphicalItem:kle,removePolarGraphicalItem:Sle}=Y8.actions,Ele=Y8.reducer,Cle=e=>{var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(ble(e)):r.current!==e&&t(wle({prev:r.current,next:e})),r.current=e},[t,e]),w.useLayoutEffect(()=>()=>{r.current&&(t(_le(r.current)),r.current=null)},[t]),null},cE=w.memo(Cle);function Tle(e){var t=xt();return w.useLayoutEffect(()=>(t(kle(e)),()=>{t(Sle(e))}),[t,e]),null}var Ale=["key"],jle=["onMouseEnter","onClick","onMouseLeave"],Ple=["id"],Nle=["id"];function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){Ole(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ole(e,t,r){return(t=Dle(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dle(e){var t=Mle(e,"string");return typeof t=="symbol"?t:t+""}function Mle(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bo(){return Bo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bo.apply(null,arguments)}function Ux(e,t){if(e==null)return{};var r,n,a=Ile(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Ile(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rle(e){var t=w.useMemo(()=>rE(e.children,Qs),[e.children]),r=Se(n=>Boe(n,e.id,t));return r==null?null:w.createElement(mle,{legendPayload:r})}var Fle=w.memo(e=>{var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:s,fill:i,name:o,hide:l,tooltipType:c}=e,u={dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:s,fill:i,dataKey:t,nameKey:r,name:qo(o,t),hide:l,type:c,color:i,unit:""}};return w.createElement(Bx,{tooltipEntrySettings:u})}),Lle=(e,t)=>e>t?"start":e<t?"end":"middle",$le=(e,t,r)=>Nn(typeof t=="function"?t(e):t,r,r*.8),Ble=(e,t,r)=>{var{top:n,left:a,width:s,height:i}=t,o=sF(s,i),l=a+Nn(e.cx,s,s/2),c=n+Nn(e.cy,i,i/2),u=Nn(e.innerRadius,o,0),f=$le(r,e.outerRadius,o),h=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:h}},zle=(e,t)=>{var r=Jr(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function Ule(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Vle=(e,t)=>{if(w.isValidElement(e))return w.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Ze("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:n}=t,a=Ux(t,Ale);return w.createElement(gu,Bo({},a,{type:"linear",className:r}))},Wle=(e,t,r)=>{if(w.isValidElement(e))return w.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),w.isValidElement(n)))return n;var a=Ze("recharts-pie-label-text",Ule(e));return w.createElement(Mx,Bo({},t,{alignmentBaseline:"middle",className:a}),n)};function Hle(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:s,dataKey:i}=r;if(!n||!a||!t)return null;var o=qn(r),l=Gl(a),c=Gl(s),u=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((h,p)=>{var m=(h.startAngle+h.endAngle)/2,v=jr(h.cx,h.cy,h.outerRadius+u,m),g=ir(ir(ir(ir({},o),h),{},{stroke:"none"},l),{},{index:p,textAnchor:Lle(v.x,h.cx)},v),x=ir(ir(ir(ir({},o),h),{},{fill:"none",stroke:h.fill},c),{},{index:p,points:[jr(h.cx,h.cy,h.outerRadius,m),v],key:"line"});return w.createElement(Rn,{zIndex:cr.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(p)},w.createElement(Qt,null,s&&Vle(s,x),Wle(a,g,dt(h,i))))});return w.createElement(Qt,{className:"recharts-pie-labels"},f)}function Kle(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?w.createElement(Ix,{label:a}):w.createElement(Hle,{sectors:t,props:r,showLabels:n})}function Gle(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a,shape:s}=e,i=Se($o),{onMouseEnter:o,onClick:l,onMouseLeave:c}=a,u=Ux(a,jle),f=sE(o,a.dataKey),h=iE(c),p=oE(l,a.dataKey);return t==null||t.length===0?null:w.createElement(w.Fragment,null,t.map((m,v)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var g=String(v)===i,x=i?n:null,b=r&&g?r:x,y=ir(ir({},m),{},{stroke:m.stroke,tabIndex:-1,[DR]:v,[MR]:a.dataKey});return w.createElement(Qt,Bo({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(v),tabIndex:-1,className:"recharts-pie-sector"},q0(u,m,v),{onMouseEnter:f(m,v),onMouseLeave:h(m,v),onClick:p(m,v)}),w.createElement(aE,Bo({option:s??b,shapeType:"sector",isActive:g},y)))}))}function qle(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:s}=e,{cornerRadius:i,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:f}=r,h=Math.abs(r.minAngle),p=zle(o,l),m=Math.abs(p),v=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,g=n.filter(k=>dt(k,c,0)!==0).length,x=(m>=360?g:g-1)*v,b=m-g*h-x,y=n.reduce((k,E)=>{var C=dt(E,c,0);return k+(_e(C)?C:0)},0),_;if(y>0){var S;_=n.map((k,E)=>{var C=dt(k,c,0),T=dt(k,u,E),A=Ble(r,s,k),N=(_e(C)?C:0)/y,j,P=ir(ir({},k),a&&a[E]&&a[E].props);E?j=S.endAngle+Jr(p)*v*(C!==0?1:0):j=o;var R=j+Jr(p)*((C!==0?h:0)+N*b),B=(j+R)/2,q=(A.innerRadius+A.outerRadius)/2,K=[{name:T,value:C,payload:P,dataKey:c,type:f}],X=jr(A.cx,A.cy,q,B);return S=ir(ir(ir(ir({},r.presentationProps),{},{percent:N,cornerRadius:typeof i=="string"?parseFloat(i):i,name:T,tooltipPayload:K,midAngle:B,middleRadius:q,tooltipPosition:X},P),A),{},{value:C,startAngle:j,endAngle:R,payload:P,paddingAngle:Jr(p)*v}),S})}return _}function Yle(e){var{showLabels:t,sectors:r,children:n}=e,a=w.useMemo(()=>!t||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,t]);return w.createElement(Soe,{value:t?a:void 0},n)}function Xle(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:s,animationDuration:i,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:f}=t,h=rd(t,"recharts-pie-"),p=r.current,[m,v]=w.useState(!1),g=w.useCallback(()=>{typeof f=="function"&&f(),v(!1)},[f]),x=w.useCallback(()=>{typeof u=="function"&&u(),v(!0)},[u]);return w.createElement(Yle,{showLabels:!m,sectors:n},w.createElement(td,{animationId:h,begin:s,duration:i,isActive:a,easing:o,onAnimationStart:x,onAnimationEnd:g,key:h},b=>{var y=[],_=n&&n[0],S=_==null?void 0:_.startAngle;return n==null||n.forEach((k,E)=>{var C=p&&p[E],T=E>0?ql(k,"paddingAngle",0):0;if(C){var A=it(C.endAngle-C.startAngle,k.endAngle-k.startAngle,b),N=ir(ir({},k),{},{startAngle:S+T,endAngle:S+A+T});y.push(N),S=N.endAngle}else{var{endAngle:j,startAngle:P}=k,R=it(0,j-P,b),B=ir(ir({},k),{},{startAngle:S+T,endAngle:S+R+T});y.push(B),S=B.endAngle}}),r.current=y,w.createElement(Qt,null,w.createElement(Gle,{sectors:y,activeShape:l,inactiveShape:c,allOtherPieProps:t,shape:t.shape}))}),w.createElement(Kle,{showLabels:!m,sectors:n,props:t}),t.children)}var Zle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Yo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:cr.area};function Jle(e){var{id:t}=e,r=Ux(e,Ple),{hide:n,className:a,rootTabIndex:s}=e,i=w.useMemo(()=>rE(e.children,Qs),[e.children]),o=Se(u=>zoe(u,t,i)),l=w.useRef(null),c=Ze("recharts-pie",a);return n||o==null?(l.current=null,w.createElement(Qt,{tabIndex:s,className:c})):w.createElement(Rn,{zIndex:e.zIndex},w.createElement(Fle,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),w.createElement(Qt,{tabIndex:s,className:c},w.createElement(Xle,{props:ir(ir({},r),{},{sectors:o}),previousSectorsRef:l})))}function uE(e){var t=er(e,Zle),{id:r}=t,n=Ux(t,Nle),a=qn(n);return w.createElement(zx,{id:r,type:"pie"},s=>w.createElement(w.Fragment,null,w.createElement(Tle,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),w.createElement(Rle,Bo({},n,{id:s})),w.createElement(Jle,Bo({},n,{id:s}))))}uE.displayName="Pie";var Qle=["points"];function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){ece(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ece(e,t,r){return(t=tce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tce(e){var t=rce(e,"string");return typeof t=="symbol"?t:t+""}function rce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zv(){return zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zv.apply(null,arguments)}function nce(e,t){if(e==null)return{};var r,n,a=ace(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ace(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sce(e){var{option:t,dotProps:r,className:n}=e;if(w.isValidElement(t))return w.cloneElement(t,r);if(typeof t=="function")return t(r);var a=Ze(n,typeof t!="boolean"?t.className:""),s=r??{},{points:i}=s,o=nce(s,Qle);return w.createElement(I8,zv({},o,{className:a}))}function ice(e,t){return e==null?!1:t?!0:e.length===1}function X8(e){var{points:t,dot:r,className:n,dotClassName:a,dataKey:s,baseProps:i,needClip:o,clipPathId:l,zIndex:c=cr.scatter}=e;if(!ice(t,r))return null;var u=nE(r),f=tY(r),h=t.map((m,v)=>{var g,x,b=g1(g1(g1({r:3},i),f),{},{index:v,cx:(g=m.x)!==null&&g!==void 0?g:void 0,cy:(x=m.y)!==null&&x!==void 0?x:void 0,dataKey:s,value:m.value,payload:m.payload,points:t});return w.createElement(sce,{key:"dot-".concat(v),option:r,dotProps:b,className:a})}),p={};return o&&l!=null&&(p.clipPath="url(#clipPath-".concat(u?"":"dots-").concat(l,")")),w.createElement(Rn,{zIndex:c},w.createElement(Qt,zv({className:n},p),h))}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){oce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oce(e,t,r){return(t=lce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lce(e){var t=cce(e,"string");return typeof t=="symbol"?t:t+""}function cce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uce={xAxis:{},yAxis:{},zAxis:{}},Z8=da({name:"cartesianAxis",initialState:uce,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:It()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:It()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:It()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:It()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:It()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:It()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:It()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:It()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:It()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var s=a.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==a.width&&Math.abs(n-s[0])<=1)return;var i=[...s,n].slice(-3);e.yAxis[r]=yN(yN({},e.yAxis[r]),{},{width:n,widthHistory:i})}}}}),{addXAxis:dce,replaceXAxis:fce,removeXAxis:hce,addYAxis:pce,replaceYAxis:mce,removeYAxis:vce,addZAxis:D3e,replaceZAxis:M3e,removeZAxis:I3e,updateYAxisWidth:gce}=Z8.actions,xce=Z8.reducer,yce=ee([Br],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),bce=ee([yce,Yi,Xi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),Vx=()=>Se(bce),wce=()=>Se(yse);function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function x1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){_ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ce(e,t,r){return(t=kce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kce(e){var t=Sce(e,"string");return typeof t=="symbol"?t:t+""}function Sce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ece=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:s,clipPath:i}=e;if(a===!1||t.x==null||t.y==null)return null;var o={index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=x1(x1(x1({},o),Gl(a)),vk(a)),c;return w.isValidElement(a)?c=w.cloneElement(a,l):typeof a=="function"?c=a(l):c=w.createElement(I8,l),w.createElement(Qt,{className:"recharts-active-dot",clipPath:i},c)};function i2(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a,clipPath:s,zIndex:i=cr.activeDot}=e,o=Se($o),l=wce();if(t==null||l==null)return null;var c=t.find(u=>l.includes(u.payload));return Mt(c)?null:w.createElement(Rn,{zIndex:i},w.createElement(Ece,{point:c,childIndex:Number(o),mainColor:r,dataKey:a,activeDot:n,clipPath:s}))}var Cce="Invariant failed";function Tce(e,t){throw new Error(Cce)}var Ace=["x","y"];function o2(){return o2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o2.apply(null,arguments)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){jce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jce(e,t,r){return(t=Pce(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pce(e){var t=Nce(e,"string");return typeof t=="symbol"?t:t+""}function Nce(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oce(e,t){if(e==null)return{};var r,n,a=Dce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Dce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Mce(e,t){var{x:r,y:n}=e,a=Oce(e,Ace),s="".concat(r),i=parseInt(s,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Fd(Fd(Fd(Fd(Fd({},t),a),i?{x:i}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function Uv(e){return w.createElement(aE,o2({shapeType:"rectangle",propTransformer:Mce,activeClassName:"recharts-active-bar"},e))}var Ice=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(_e(t))return t;var s=_e(n)||Mt(n);return s?t(n,a):(s||Tce(),r)}},Rce={},J8=da({name:"errorBars",initialState:Rce,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?a:s))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:R3e,replaceErrorBar:F3e,removeErrorBar:L3e}=J8.actions,Fce=J8.reducer,Lce=["children"];function $ce(e,t){if(e==null)return{};var r,n,a=Bce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bce(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Uce=w.createContext(zce);function Q8(e){var{children:t}=e,r=$ce(e,Lce);return w.createElement(Uce.Provider,{value:r},t)}function Wx(e,t){var r,n,a=Se(c=>si(c,e)),s=Se(c=>ii(c,t)),i=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:Kr.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Gr.allowDataOverflow,l=i||o;return{needClip:l,needClipX:i,needClipY:o}}function dE(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=Vx(),{needClipX:s,needClipY:i,needClip:o}=Wx(t,r);if(!o||!a)return null;var{x:l,y:c,width:u,height:f}=a;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:s?l:l-u/2,y:i?c:c-f/2,width:s?u:u*2,height:i?f:f*2}))}function Vce(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&ft(e.zIndex)?e.zIndex:t}var Wce={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=w;function Hce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kce=typeof Object.is=="function"?Object.is:Hce,Gce=Ch.useSyncExternalStore,qce=Ch.useRef,Yce=Ch.useEffect,Xce=Ch.useMemo,Zce=Ch.useDebugValue;Wce.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var s=qce(null);if(s.current===null){var i={hasValue:!1,value:null};s.current=i}else i=s.current;s=Xce(function(){function l(p){if(!c){if(c=!0,u=p,p=n(p),a!==void 0&&i.hasValue){var m=i.value;if(a(m,p))return f=m}return f=p}if(m=f,Kce(u,p))return m;var v=n(p);return a!==void 0&&a(m,v)?(u=p,m):(u=p,f=v)}var c=!1,u,f,h=r===void 0?null:r;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,r,n,a]);var o=Gce(e,s[0],s[1]);return Yce(function(){i.hasValue=!0,i.value=o},[o]),Zce(o),o};function Jce(e){e()}function Qce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jce(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var _N={notify(){},get:()=>[]};function eue(e,t){let r,n=_N,a=0,s=!1;function i(v){u();const g=n.subscribe(v);let x=!1;return()=>{x||(x=!0,g(),f())}}function o(){n.notify()}function l(){m.onStateChange&&m.onStateChange()}function c(){return s}function u(){a++,r||(r=e.subscribe(l),n=Qce())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=_N)}function h(){s||(s=!0,u())}function p(){s&&(s=!1,f())}const m={addNestedSub:i,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>n};return m}var tue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rue=tue(),nue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aue=nue(),sue=()=>rue||aue?w.useLayoutEffect:w.useEffect,iue=sue();function kN(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function oue(e,t){if(kN(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!kN(e[r[a]],t[r[a]]))return!1;return!0}var y1=Symbol.for("react-redux-context"),b1=typeof globalThis<"u"?globalThis:{};function lue(){if(!w.createContext)return{};const e=b1[y1]??(b1[y1]=new Map);let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var cue=lue();function uue(e){const{children:t,context:r,serverState:n,store:a}=e,s=w.useMemo(()=>{const l=eue(a);return{store:a,subscription:l,getServerState:n?()=>n:void 0}},[a,n]),i=w.useMemo(()=>a.getState(),[a]);iue(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),i!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,i]);const o=r||cue;return w.createElement(o.Provider,{value:s},t)}var due=uue,fue=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hue(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Th(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fue.has(n)){if(e[n]==null&&t[n]==null)continue;if(!oue(e[n],t[n]))return!1}else if(!hue(e[n],t[n]))return!1;return!0}var pue=["onMouseEnter","onMouseLeave","onClick"],mue=["value","background","tooltipPosition"],vue=["id"],gue=["onMouseEnter","onClick","onMouseLeave"];function zi(){return zi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zi.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){xue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xue(e,t,r){return(t=yue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yue(e){var t=bue(e,"string");return typeof t=="symbol"?t:t+""}function bue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vv(e,t){if(e==null)return{};var r,n,a=wue(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wue(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _ue=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:qo(r,t),payload:e}]},kue=w.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:s,hide:i,unit:o,tooltipType:l}=e,c={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:qo(s,t),hide:i,type:l,color:a,unit:o}};return w.createElement(Bx,{tooltipEntrySettings:c})});function Sue(e){var t=Se($o),{data:r,dataKey:n,background:a,allOtherBarProps:s}=e,{onMouseEnter:i,onMouseLeave:o,onClick:l}=s,c=Vv(s,pue),u=sE(i,n),f=iE(o),h=oE(l,n);if(!a||r==null)return null;var p=Gl(a);return w.createElement(Rn,{zIndex:Vce(a,cr.barBackground)},r.map((m,v)=>{var{value:g,background:x,tooltipPosition:b}=m,y=Vv(m,mue);if(!x)return null;var _=u(m,v),S=f(m,v),k=h(m,v),E=Bn(Bn(Bn(Bn(Bn({option:a,isActive:String(v)===t},y),{},{fill:"#eee"},x),p),q0(c,m,v)),{},{onMouseEnter:_,onMouseLeave:S,onClick:k,dataKey:n,index:v,className:"recharts-bar-background-rectangle"});return w.createElement(Uv,zi({key:"background-bar-".concat(v)},E))}))}function Eue(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(s=>{var i={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return Bn(Bn({},i),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:i,fill:s.fill})});return w.createElement(JS,{value:t?a:void 0},r)}function Cue(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:s,dataKey:i}=e,o=Se($o),l=Se(i8),c=r&&String(s)===o&&(l==null||i===l),u=c?r:t;return c?w.createElement(Rn,{zIndex:cr.activeBar},w.createElement(Uv,zi({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))):w.createElement(Uv,zi({},n,{name:String(n.name)},a,{isActive:c,option:u,index:s,dataKey:i}))}function Tue(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:s}=e;return w.createElement(Uv,zi({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:s}))}function Aue(e){var t,{data:r,props:n}=e,a=(t=qn(n))!==null&&t!==void 0?t:{},{id:s}=a,i=Vv(a,vue),{shape:o,dataKey:l,activeBar:c}=n,{onMouseEnter:u,onClick:f,onMouseLeave:h}=n,p=Vv(n,gue),m=sE(u,l),v=iE(h),g=oE(f,l);return r?w.createElement(w.Fragment,null,r.map((x,b)=>w.createElement(Qt,zi({key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(b),className:"recharts-bar-rectangle"},q0(p,x,b),{onMouseEnter:m(x,b),onMouseLeave:v(x,b),onClick:g(x,b)}),c?w.createElement(Cue,{shape:o,activeBar:c,baseProps:i,entry:x,index:b,dataKey:l}):w.createElement(Tue,{shape:o,baseProps:i,entry:x,index:b,dataKey:l})))):null}function jue(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:s,animationBegin:i,animationDuration:o,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,f=r.current,h=rd(t,"recharts-bar-"),[p,m]=w.useState(!1),v=!p,g=w.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=w.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return w.createElement(Eue,{showLabels:v,rects:n},w.createElement(td,{animationId:h,begin:i,duration:o,isActive:s,easing:l,onAnimationEnd:g,onAnimationStart:x,key:h},b=>{var y=b===1?n:n==null?void 0:n.map((_,S)=>{var k=f&&f[S];if(k)return Bn(Bn({},_),{},{x:it(k.x,_.x,b),y:it(k.y,_.y,b),width:it(k.width,_.width,b),height:it(k.height,_.height,b)});if(a==="horizontal"){var E=it(0,_.height,b),C=it(_.stackedBarStart,_.y,b);return Bn(Bn({},_),{},{y:C,height:E})}var T=it(0,_.width,b),A=it(_.stackedBarStart,_.x,b);return Bn(Bn({},_),{},{width:T,x:A})});return b>0&&(r.current=y??null),y==null?null:w.createElement(Qt,null,w.createElement(Aue,{props:t,data:y}))}),w.createElement(Ix,{label:t.label}),t.children)}function Pue(e){var t=w.useRef(null);return w.createElement(jue,{previousRectanglesRef:t,props:e})}var eL=0,Nue=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:dt(e,t)}};class Oue extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:s,yAxisId:i,needClip:o,background:l,id:c}=this.props;if(t||r==null)return null;var u=Ze("recharts-bar",a),f=c;return w.createElement(Qt,{className:u,id:c},o&&w.createElement("defs",null,w.createElement(dE,{clipPathId:f,xAxisId:s,yAxisId:i})),w.createElement(Qt,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(f,")"):void 0},w.createElement(Sue,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),w.createElement(Pue,this.props)))}}var Due={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:eL,xAxisId:0,yAxisId:0,zIndex:cr.bar};function Mue(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u}=e,{needClip:f}=Wx(t,r),h=cc(),p=zr(),m=rE(e.children,Qs),v=Se(b=>lde(b,t,r,p,e.id,m));if(h!=="vertical"&&h!=="horizontal")return null;var g,x=v==null?void 0:v[0];return x==null||x.height==null||x.width==null?g=0:g=h==="vertical"?x.height/2:x.width/2,w.createElement(Q8,{xAxisId:t,yAxisId:r,data:v,dataPointFormatter:Nue,errorBarOffset:g},w.createElement(Oue,zi({},e,{layout:h,needClip:f,data:v,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:s,activeBar:i,animationBegin:o,animationDuration:l,animationEasing:c,isAnimationActive:u})))}function Iue(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:s,xAxis:i,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:f,offset:h,cells:p,parentViewBox:m,dataStartIndex:v}=e,g=t==="horizontal"?o:i,x=u?g.scale.domain():null,b=lJ({numericAxis:g}),y=g.scale(b);return f.map((_,S)=>{var k,E,C,T,A,N;u?k=nJ(u[S+v],x):(k=dt(_,r),Array.isArray(k)||(k=[b,k]));var j=Ice(n,eL)(k[1],S);if(t==="horizontal"){var P,[R,B]=[o.scale(k[0]),o.scale(k[1])];E=ij({axis:i,ticks:l,bandSize:s,offset:a.offset,entry:_,index:S}),C=(P=B??R)!==null&&P!==void 0?P:void 0,T=a.size;var q=R-B;if(A=ua(q)?0:q,N={x:E,y:h.top,width:T,height:h.height},Math.abs(j)>0&&Math.abs(A)<Math.abs(j)){var K=Jr(A||j)*(Math.abs(j)-Math.abs(A));C-=K,A+=K}}else{var[X,I]=[i.scale(k[0]),i.scale(k[1])];if(E=X,C=ij({axis:o,ticks:c,bandSize:s,offset:a.offset,entry:_,index:S}),T=I-X,A=a.size,N={x:h.left,y:C,width:h.width,height:A},Math.abs(j)>0&&Math.abs(T)<Math.abs(j)){var J=Jr(T||j)*(Math.abs(j)-Math.abs(T));T+=J}}if(E==null||C==null||T==null||A==null)return null;var Z=Bn(Bn({},_),{},{stackedBarStart:y,x:E,y:C,width:T,height:A,value:u?k:k[1],payload:_,background:N,tooltipPosition:{x:E+T/2,y:C+A/2},parentViewBox:m},p&&p[S]&&p[S].props);return Z}).filter(Boolean)}function Rue(e){var t=er(e,Due),r=zr();return w.createElement(zx,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(lE,{legendPayload:_ue(t)}),w.createElement(kue,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(cE,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:NR(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(Rn,{zIndex:t.zIndex},w.createElement(Mue,zi({},t,{id:n})))))}var Tr=w.memo(Rue,Th);Tr.displayName="Bar";function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){Fue(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fue(e,t,r){return(t=Lue(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lue(e){var t=$ue(e,"string");return typeof t=="symbol"?t:t+""}function $ue(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bue=(e,t)=>t,zue=(e,t,r)=>r,Uue=(e,t,r,n)=>n,Vue=(e,t,r,n,a)=>a,Ah=ee([ch,Vue],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),Wue=ee([Ah],e=>e==null?void 0:e.maxBarSize),Hue=(e,t,r,n,a,s)=>s,CN=(e,t,r)=>{var n=r??e;if(!Mt(n))return Nn(n,t,0)},Kue=ee([He,ch,Bue,zue,Uue],(e,t,r,n,a)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===a).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Gue=(e,t,r,n)=>{var a=He(e);return a==="horizontal"?f0(e,"yAxis",r,n):f0(e,"xAxis",t,n)},que=(e,t,r)=>{var n=He(e);return n==="horizontal"?NP(e,"xAxis",t):NP(e,"yAxis",r)},Yue=(e,t,r)=>{var n={},a=e.filter(Cx),s=e.filter(c=>c.stackId==null),i=a.reduce((c,u)=>(c[u.stackId]||(c[u.stackId]=[]),c[u.stackId].push(u),c),n),o=Object.entries(i).map(c=>{var[u,f]=c,h=f.map(m=>m.dataKey),p=CN(t,r,f[0].barSize);return{stackId:u,dataKeys:h,barSize:p}}),l=s.map(c=>{var u=[c.dataKey].filter(h=>h!=null),f=CN(t,r,c.barSize);return{stackId:void 0,dataKeys:u,barSize:f}});return[...o,...l]},Xue=ee([Kue,gne,que],Yue),Zue=(e,t,r,n,a)=>{var s,i,o=Ah(e,t,r,n,a);if(o!=null){var l=He(e),c=o6(e),{maxBarSize:u}=o,f=Mt(u)?c:u,h,p;return l==="horizontal"?(h=Js(e,"xAxis",t,n),p=Zs(e,"xAxis",t,n)):(h=Js(e,"yAxis",r,n),p=Zs(e,"yAxis",r,n)),(s=(i=Ro(h,p,!0))!==null&&i!==void 0?i:f)!==null&&s!==void 0?s:0}},tL=(e,t,r,n)=>{var a=He(e),s,i;return a==="horizontal"?(s=Js(e,"xAxis",t,n),i=Zs(e,"xAxis",t,n)):(s=Js(e,"yAxis",r,n),i=Zs(e,"yAxis",r,n)),Ro(s,i)};function Jue(e,t,r,n,a){var s=n.length;if(!(s<1)){var i=Nn(e,r,0,!0),o,l=[];if(ft(n[0].barSize)){var c=!1,u=r/s,f=n.reduce((x,b)=>x+(b.barSize||0),0);f+=(s-1)*i,f>=r&&(f-=(s-1)*i,i=0),f>=r&&u>0&&(c=!0,u*=.9,f=s*u);var h=(r-f)/2>>0,p={offset:h-i,size:0};o=n.reduce((x,b)=>{var y,_={stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:p.offset+p.size+i,size:c?u:(y=b.barSize)!==null&&y!==void 0?y:0}},S=[...x,_];return p=S[S.length-1].position,S},l)}else{var m=Nn(t,r,0,!0);r-2*m-(s-1)*i<=0&&(i=0);var v=(r-2*m-(s-1)*i)/s;v>1&&(v>>=0);var g=ft(a)?Math.min(v,a):v;o=n.reduce((x,b,y)=>[...x,{stackId:b.stackId,dataKeys:b.dataKeys,position:{offset:m+(v+i)*y+(v-g)/2,size:g}}],l)}return o}}var Que=(e,t,r,n,a,s,i)=>{var o=Mt(i)?t:i,l=Jue(r,n,a!==s?a:s,e,o);return a!==s&&l!=null&&(l=l.map(c=>Tp(Tp({},c),{},{position:Tp(Tp({},c.position),{},{offset:c.position.offset-a/2})}))),l},ede=ee([Xue,o6,vne,l6,Zue,tL,Wue],Que),tde=(e,t,r,n)=>Js(e,"xAxis",t,n),rde=(e,t,r,n)=>Js(e,"yAxis",r,n),nde=(e,t,r,n)=>Zs(e,"xAxis",t,n),ade=(e,t,r,n)=>Zs(e,"yAxis",r,n),sde=ee([ede,Ah],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ide=(e,t)=>{var r=Ex(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:s}=a;if(s)return s.find(i=>i.key===r)}}}},ode=ee([Gue,Ah],ide),lde=ee([Br,Fk,tde,rde,nde,ade,sde,He,sh,tL,ode,Ah,Hue],(e,t,r,n,a,s,i,o,l,c,u,f,h)=>{var{chartData:p,dataStartIndex:m,dataEndIndex:v}=l;if(!(f==null||i==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||s==null||c==null)){var{data:g}=f,x;if(g!=null&&g.length>0?x=g:x=p==null?void 0:p.slice(m,v+1),x!=null)return Iue({layout:o,barSettings:f,pos:i,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,stackedData:u,displayedData:x,offset:e,cells:h,dataStartIndex:m})}}),rL=e=>{var{chartData:t}=e,r=xt(),n=zr();return w.useEffect(()=>n?()=>{}:(r(VP(t)),()=>{r(VP(void 0))}),[t,r,n]),null},TN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},nL=da({name:"brush",initialState:TN,reducers:{setBrushSettings(e,t){return t.payload==null?TN:t.payload}}}),{setBrushSettings:$3e}=nL.actions,cde=nL.reducer;function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ap(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){aL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aL(e,t,r){return(t=ude(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ude(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fde=(e,t)=>{var{x:r,y:n}=e,{x:a,y:s}=t;return{x:Math.min(r,a),y:Math.min(n,s),width:Math.abs(a-r),height:Math.abs(s-n)}},hde=e=>{var{x1:t,y1:r,x2:n,y2:a}=e;return fde({x:t,y:r},{x:n,y:a})};class Hx{static create(t){return new Hx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}aL(Hx,"EPS",1e-4);var pde=e=>{var t=Object.keys(e).reduce((r,n)=>Ap(Ap({},r),{},{[n]:Hx.create(e[n])}),{});return Ap(Ap({},t),{},{apply(r){var{bandAware:n,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(r).map(s=>{var[i,o]=s;return[i,t[i].apply(o,{bandAware:n,position:a})]}))},isInRange(r){return Object.keys(r).every(n=>t[n].isInRange(r[n]))}})};function mde(e){return(e%180+180)%180}var vde=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=mde(a),i=s*Math.PI/180,o=Math.atan(n/r),l=i>o&&i<Math.PI-o?n/Math.sin(i):r/Math.cos(i);return Math.abs(l)},gde={dots:[],areas:[],lines:[]},sL=da({name:"referenceElements",initialState:gde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=_s(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=_s(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=_s(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:B3e,removeDot:z3e,addArea:U3e,removeArea:V3e,addLine:xde,removeLine:yde}=sL.actions,bde=sL.reducer,iL=w.createContext(void 0),wde=e=>{var{children:t}=e,[r]=w.useState("".concat(Qf("recharts"),"-clip")),n=Vx();if(n==null)return null;var{x:a,y:s,width:i,height:o}=n;return w.createElement(iL.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:a,y:s,height:o,width:i}))),t)},_de=()=>w.useContext(iL);function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){kde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kde(e,t,r){return(t=Sde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sde(e){var t=Ede(e,"string");return typeof t=="symbol"?t:t+""}function Ede(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wv(){return Wv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wv.apply(null,arguments)}var Cde=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{if(!ft(t.x1)||!ft(t.y1)||!ft(t.x2)||!ft(t.y2))return null;r=w.createElement("line",Wv({},t,{className:"recharts-reference-line-line"}))}return r},Tde=(e,t,r,n,a,s)=>{var{x:i,width:o}=s,l=a.y.apply(e,{position:r});if(ua(l)||t==="discard"&&!a.y.isInRange(l))return null;var c=[{x:i+o,y:l},{x:i,y:l}];return n==="left"?c.reverse():c},Ade=(e,t,r,n,a,s)=>{var{y:i,height:o}=s,l=a.x.apply(e,{position:r});if(ua(l)||t==="discard"&&!a.x.isInRange(l))return null;var c=[{x:l,y:i+o},{x:l,y:i}];return n==="top"?c.reverse():c},jde=(e,t,r,n)=>{var a=e.map(s=>n.apply(s,{position:r}));return t==="discard"&&a.some(s=>!n.isInRange(s))?null:a},Pde=(e,t,r,n,a,s)=>{var{x:i,y:o,segment:l,ifOverflow:c}=s,u=qa(i),f=qa(o);return f?Tde(o,c,r,a,e,t):u?Ade(i,c,r,n,e,t):l!=null&&l.length===2?jde(l,c,r,e):null};function Nde(e){var t=xt();return w.useEffect(()=>(t(xde(e)),()=>{t(yde(e))})),null}function Ode(e){var{xAxisId:t,yAxisId:r,shape:n,className:a,ifOverflow:s}=e,i=zr(),o=_de(),l=Se(k=>si(k,t)),c=Se(k=>ii(k,r)),u=Se(k=>Lo(k,"xAxis",t,i)),f=Se(k=>Lo(k,"yAxis",r,i)),h=Q0();if(!o||!h||l==null||c==null||u==null||f==null)return null;var p=pde({x:u,y:f}),m=Pde(p,h,e.position,l.orientation,c.orientation,e);if(!m)return null;var[{x:v,y:g},{x,y:b}]=m,y=s==="hidden"?"url(#".concat(o,")"):void 0,_=PN(PN({clipPath:y},vn(e)),{},{x1:v,y1:g,x2:x,y2:b}),S=hde({x1:v,y1:g,x2:x,y2:b});return w.createElement(Rn,{zIndex:e.zIndex},w.createElement(Qt,{className:Ze("recharts-reference-line",a)},Cde(n,_),w.createElement(T8,Wv({},S,{lowerWidth:S.width,upperWidth:S.width}),w.createElement(j8,{label:e.label}),e.children)))}var Dde={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:cr.line};function Kx(e){var t=er(e,Dde);return w.createElement(w.Fragment,null,w.createElement(Nde,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),w.createElement(Ode,t))}Kx.displayName="ReferenceLine";function oL(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r}function Mde(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return vde(n,r)}function Ide(e,t,r){var n=r==="width",{x:a,y:s,width:i,height:o}=e;return t===1?{start:n?a:s,end:n?a+i:s+o}:{start:n?a+i:s+o,end:n?a:s}}function Hv(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-a)<=0}function Rde(e,t){return oL(e,t+1)}function Fde(e,t,r,n,a){for(var s=(n||[]).slice(),{start:i,end:o}=t,l=0,c=1,u=i,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:oL(n,c)};var v=l,g,x=()=>(g===void 0&&(g=r(m,v)),g),b=m.coordinate,y=l===0||Hv(e,b,x,u,o);y||(l=0,u=i,c+=1),y&&(u=b+e*(x()/2+a),l+=c)},h;c<=s.length;)if(h=f(),h)return h.v;return[]}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Lde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lde(e,t,r){return(t=$de(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $de(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zde(e,t,r,n,a){for(var s=(n||[]).slice(),i=s.length,{start:o}=t,{end:l}=t,c=function(h){var p=s[h],m,v=()=>(m===void 0&&(m=r(p,h)),m);if(h===i-1){var g=e*(p.coordinate+e*v()/2-l);s[h]=p=kn(kn({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate})}else s[h]=p=kn(kn({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Hv(e,p.tickCoord,v,o,l);x&&(l=p.tickCoord-e*(v()/2+a),s[h]=kn(kn({},p),{},{isShow:!0}))}},u=i-1;u>=0;u--)c(u);return s}function Ude(e,t,r,n,a,s){var i=(n||[]).slice(),o=i.length,{start:l,end:c}=t;if(s){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);if(i[o-1]=u=kn(kn({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),u.tickCoord!=null){var p=Hv(e,u.tickCoord,()=>f,l,c);p&&(c=u.tickCoord-e*(f/2+a),i[o-1]=kn(kn({},u),{},{isShow:!0}))}}for(var m=s?o-1:o,v=function(b){var y=i[b],_,S=()=>(_===void 0&&(_=r(y,b)),_);if(b===0){var k=e*(y.coordinate-e*S()/2-l);i[b]=y=kn(kn({},y),{},{tickCoord:k<0?y.coordinate-k*e:y.coordinate})}else i[b]=y=kn(kn({},y),{},{tickCoord:y.coordinate});if(y.tickCoord!=null){var E=Hv(e,y.tickCoord,S,l,c);E&&(l=y.tickCoord+e*(S()/2+a),i[b]=kn(kn({},y),{},{isShow:!0}))}},g=0;g<m;g++)v(g);return i}function fE(e,t,r){var{tick:n,ticks:a,viewBox:s,minTickGap:i,orientation:o,interval:l,tickFormatter:c,unit:u,angle:f}=e;if(!a||!a.length||!n)return[];if(_e(l)||Yo.isSsr){var h;return(h=Rde(a,_e(l)?l:0))!==null&&h!==void 0?h:[]}var p=[],m=o==="top"||o==="bottom"?"width":"height",v=u&&m==="width"?hf(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(y,_)=>{var S=typeof c=="function"?c(y.value,_):y.value;return m==="width"?Mde(hf(S,{fontSize:t,letterSpacing:r}),v,f):hf(S,{fontSize:t,letterSpacing:r})[m]},x=a.length>=2?Jr(a[1].coordinate-a[0].coordinate):1,b=Ide(s,x,m);return l==="equidistantPreserveStart"?Fde(x,b,g,a,i):(l==="preserveStart"||l==="preserveStartEnd"?p=Ude(x,b,g,a,i,l==="preserveStartEnd"):p=zde(x,b,g,a,i),p.filter(y=>y.isShow))}var Vde=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:s=0}=e,i=0;if(t){Array.from(t).forEach(u=>{if(u){var f=u.getBoundingClientRect();f.width>i&&(i=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=a+s,c=i+l+o+(r?n:0);return Math.round(c)}return 0},Wde=["axisLine","width","height","className","hide","ticks","axisType"];function Hde(e,t){if(e==null)return{};var r,n,a=Kde(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kde(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Jl(){return Jl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jl.apply(null,arguments)}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Er(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){Gde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gde(e,t,r){return(t=qde(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qde(e){var t=Yde(e,"string");return typeof t=="symbol"?t:t+""}function Yde(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:cr.axis};function Xde(e){var{x:t,y:r,width:n,height:a,orientation:s,mirror:i,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var c=Er(Er(Er({},l),qn(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!i||s==="bottom"&&i);c=Er(Er({},c),{},{x1:t,y1:r+u*a,x2:t+n,y2:r+u*a})}else{var f=+(s==="left"&&!i||s==="right"&&i);c=Er(Er({},c),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return w.createElement("line",Jl({},c,{className:Ze("recharts-cartesian-axis-line",ql(o,"className"))}))}function Zde(e,t,r,n,a,s,i,o,l){var c,u,f,h,p,m,v=o?-1:1,g=e.tickSize||i,x=_e(e.tickCoord)?e.tickCoord:e.coordinate;switch(s){case"top":c=u=e.coordinate,h=r+ +!o*a,f=h-v*g,m=f-v*l,p=x;break;case"left":f=h=e.coordinate,u=t+ +!o*n,c=u-v*g,p=c-v*l,m=x;break;case"right":f=h=e.coordinate,u=t+ +o*n,c=u+v*g,p=c+v*l,m=x;break;default:c=u=e.coordinate,h=r+ +o*a,f=h+v*g,m=f+v*l,p=x;break}return{line:{x1:c,y1:f,x2:u,y2:h},tick:{x:p,y:m}}}function Jde(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Qde(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function efe(e){var{option:t,tickProps:r,value:n}=e,a,s=Ze(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))a=w.cloneElement(t,Er(Er({},r),{},{className:s}));else if(typeof t=="function")a=t(Er(Er({},r),{},{className:s}));else{var i="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(i=Ze(i,t==null?void 0:t.className)),a=w.createElement(Mx,Jl({},r,{className:i}),n)}return a}var tfe=w.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:s,tickFormatter:i,unit:o,padding:l,tickTextProps:c,orientation:u,mirror:f,x:h,y:p,width:m,height:v,tickSize:g,tickMargin:x,fontSize:b,letterSpacing:y,getTicksConfig:_,events:S,axisType:k}=e,E=fE(Er(Er({},_),{},{ticks:r}),b,y),C=Jde(u,f),T=Qde(u,f),A=qn(_),N=Gl(n),j={};typeof a=="object"&&(j=a);var P=Er(Er({},A),{},{fill:"none"},j),R=E.map(K=>Er({entry:K},Zde(K,h,p,m,v,u,g,f,x))),B=R.map(K=>{var{entry:X,line:I}=K;return w.createElement(Qt,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(X.value,"-").concat(X.coordinate,"-").concat(X.tickCoord)},a&&w.createElement("line",Jl({},P,I,{className:Ze("recharts-cartesian-axis-tick-line",ql(a,"className"))})))}),q=R.map((K,X)=>{var{entry:I,tick:J}=K,Z=Er(Er(Er(Er({textAnchor:C,verticalAnchor:T},A),{},{stroke:"none",fill:s},N),J),{},{index:X,payload:I,visibleTicksCount:E.length,tickFormatter:i,padding:l},c);return w.createElement(Qt,Jl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},q0(S,I,X)),n&&w.createElement(efe,{option:n,tickProps:Z,value:"".concat(typeof i=="function"?i(I.value,X):I.value).concat(o||"")}))});return w.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},q.length>0&&w.createElement(Rn,{zIndex:cr.label},w.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},q)),B.length>0&&w.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},B))}),rfe=w.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:s,hide:i,ticks:o,axisType:l}=e,c=Hde(e,Wde),[u,f]=w.useState(""),[h,p]=w.useState(""),m=w.useRef(null);w.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var g;return Vde({ticks:m.current,label:(g=e.labelRef)===null||g===void 0?void 0:g.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=w.useCallback(g=>{if(g){var x=g.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=x;var b=x[0];if(b){var y=window.getComputedStyle(b),_=y.fontSize,S=y.letterSpacing;(_!==u||S!==h)&&(f(_),p(S))}}},[u,h]);return i||n!=null&&n<=0||a!=null&&a<=0?null:w.createElement(Rn,{zIndex:e.zIndex},w.createElement(Qt,{className:Ze("recharts-cartesian-axis",s)},w.createElement(Xde,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:qn(e)}),w.createElement(tfe,{ref:v,axisType:l,events:c,fontSize:u,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),w.createElement(T8,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},w.createElement(j8,{label:e.label,labelRef:e.labelRef}),e.children)))}),hE=w.forwardRef((e,t)=>{var r=er(e,Ei);return w.createElement(rfe,Jl({},r,{ref:t}))});hE.displayName="CartesianAxis";var nfe=["x1","y1","x2","y2","key"],afe=["offset"],sfe=["xAxisId","yAxisId"],ife=["xAxisId","yAxisId"];function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){ofe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ofe(e,t,r){return(t=lfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lfe(e){var t=cfe(e,"string");return typeof t=="symbol"?t:t+""}function cfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tl(){return Tl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tl.apply(null,arguments)}function Kv(e,t){if(e==null)return{};var r,n,a=ufe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ufe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dfe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:s,height:i,ry:o}=e;return w.createElement("rect",{x:n,y:a,ry:o,width:s,height:i,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function lL(e){var{option:t,lineItemProps:r}=e,n;if(w.isValidElement(t))n=w.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:s,y1:i,x2:o,y2:l,key:c}=r,u=Kv(r,nfe),f=(a=qn(u))!==null&&a!==void 0?a:{},{offset:h}=f,p=Kv(f,afe);n=w.createElement("line",Tl({},p,{x1:s,y1:i,x2:o,y2:l,fill:"none",key:c}))}return n}function ffe(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Kv(e,sfe),l=a.map((c,u)=>{var f=Cn(Cn({},o),{},{x1:t,y1:c,x2:t+r,y2:c,key:"line-".concat(u),index:u});return w.createElement(lL,{key:"line-".concat(u),option:n,lineItemProps:f})});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function hfe(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:s,yAxisId:i}=e,o=Kv(e,ife),l=a.map((c,u)=>{var f=Cn(Cn({},o),{},{x1:c,y1:t,x2:c,y2:t+r,key:"line-".concat(u),index:u});return w.createElement(lL,{option:n,lineItemProps:f,key:"line-".concat(u)})});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function pfe(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:s,height:i,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var c=o.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%t.length;return w.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:m,width:s,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function mfe(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:s,width:i,height:o,verticalPoints:l}=e;if(!t||!r||!r.length)return null;var c=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==c[0]&&c.unshift(0);var u=c.map((f,h)=>{var p=!c[h+1],m=p?a+i-f:c[h+1]-f;if(m<=0)return null;var v=h%r.length;return w.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:m,height:o,stroke:"none",fill:r[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var vfe=(e,t)=>{var{xAxis:r,width:n,height:a,offset:s}=e;return jR(fE(Cn(Cn(Cn({},Ei),r),{},{ticks:PR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.left,s.left+s.width,t)},gfe=(e,t)=>{var{yAxis:r,width:n,height:a,offset:s}=e;return jR(fE(Cn(Cn(Cn({},Ei),r),{},{ticks:PR(r),viewBox:{x:0,y:0,width:n,height:a}})),s.top,s.top+s.height,t)},xfe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:cr.grid};function qt(e){var t=$k(),r=Bk(),n=UR(),a=Cn(Cn({},er(e,xfe)),{},{x:_e(e.x)?e.x:n.left,y:_e(e.y)?e.y:n.top,width:_e(e.width)?e.width:n.width,height:_e(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:i,x:o,y:l,width:c,height:u,syncWithTicks:f,horizontalValues:h,verticalValues:p}=a,m=zr(),v=Se(T=>OP(T,"xAxis",s,m)),g=Se(T=>OP(T,"yAxis",i,m));if(!Ys(c)||!Ys(u)||!_e(o)||!_e(l))return null;var x=a.verticalCoordinatesGenerator||vfe,b=a.horizontalCoordinatesGenerator||gfe,{horizontalPoints:y,verticalPoints:_}=a;if((!y||!y.length)&&typeof b=="function"){var S=h&&h.length,k=b({yAxis:g?Cn(Cn({},g),{},{ticks:S?h:g.ticks}):void 0,width:t??c,height:r??u,offset:n},S?!0:f);vv(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(y=k)}if((!_||!_.length)&&typeof x=="function"){var E=p&&p.length,C=x({xAxis:v?Cn(Cn({},v),{},{ticks:E?p:v.ticks}):void 0,width:t??c,height:r??u,offset:n},E?!0:f);vv(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof C,"]")),Array.isArray(C)&&(_=C)}return w.createElement(Rn,{zIndex:a.zIndex},w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(dfe,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),w.createElement(pfe,Tl({},a,{horizontalPoints:y})),w.createElement(mfe,Tl({},a,{verticalPoints:_})),w.createElement(ffe,Tl({},a,{offset:n,horizontalPoints:y,xAxis:v,yAxis:g})),w.createElement(hfe,Tl({},a,{offset:n,verticalPoints:_,xAxis:v,yAxis:g}))))}qt.displayName="CartesianGrid";var cL=(e,t,r,n)=>Js(e,"xAxis",t,n),uL=(e,t,r,n)=>Zs(e,"xAxis",t,n),dL=(e,t,r,n)=>Js(e,"yAxis",r,n),fL=(e,t,r,n)=>Zs(e,"yAxis",r,n),yfe=ee([He,cL,dL,uL,fL],(e,t,r,n,a)=>ai(e,"xAxis")?Ro(t,n,!1):Ro(r,a,!1)),bfe=(e,t,r,n,a)=>a;function wfe(e){return e.type==="line"}var _fe=ee([ch,bfe],(e,t)=>e.filter(wfe).find(r=>r.id===t)),kfe=ee([He,cL,dL,uL,fL,_fe,yfe,sh],(e,t,r,n,a,s,i,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(!(s==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||i==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=s,p;if(h!=null&&h.length>0?p=h:p=l==null?void 0:l.slice(c,u+1),p!=null)return Vfe({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:f,bandSize:i,displayedData:p})}});function hL(e){var t=Gl(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:s}=t,i=Number(a),o=Number(s);return(Number.isNaN(i)||i<0)&&(i=r),(Number.isNaN(o)||o<0)&&(o=n),{r:i,strokeWidth:o}}return{r,strokeWidth:n}}var Sfe=["id"],Efe=["type","layout","connectNulls","needClip","shape"],Cfe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ds(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){Tfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tfe(e,t,r){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Afe(e){var t=jfe(e,"string");return typeof t=="symbol"?t:t+""}function jfe(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pE(e,t){if(e==null)return{};var r,n,a=Pfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Pfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Nfe=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:s}=e;return[{inactive:s,dataKey:t,type:a,color:n,value:qo(r,t),payload:e}]},Ofe=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:qo(i,t),hide:o,type:c,color:n,unit:l}};return w.createElement(Bx,{tooltipEntrySettings:u})}),pL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Dfe(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var Mfe=(e,t,r)=>{var n=r.reduce((f,h)=>f+h);if(!n)return pL(t,e);for(var a=Math.floor(e/n),s=e%n,i=t-e,o=[],l=0,c=0;l<r.length;c+=r[l],++l)if(c+r[l]>s){o=[...r.slice(0,l),s-c];break}var u=o.length%2===0?[0,i]:[i];return[...Dfe(r,a),...o,...u].map(f=>"".concat(f,"px")).join(", ")};function Ife(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:s,needClip:i}=n,{id:o}=n,l=pE(n,Sfe),c=qn(l);return w.createElement(X8,{points:r,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:i,clipPathId:t})}function Rfe(e){var{showLabels:t,children:r,points:n}=e,a=w.useMemo(()=>n==null?void 0:n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ds(Ds({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(JS,{value:t?a:void 0},r)}function IN(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:s}=e,{type:i,layout:o,connectNulls:l,needClip:c,shape:u}=s,f=pE(s,Efe),h=Ds(Ds({},vn(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:c?"url(#clipPath-".concat(t,")"):void 0,points:n,type:i,layout:o,connectNulls:l,strokeDasharray:a??s.strokeDasharray});return w.createElement(w.Fragment,null,(n==null?void 0:n.length)>1&&w.createElement(aE,p0({shapeType:"curve",option:u},h,{pathRef:r})),w.createElement(Ife,{points:n,clipPathId:t,props:s}))}function Ffe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Lfe(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:i,strokeDasharray:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,animateNewValues:h,width:p,height:m,onAnimationEnd:v,onAnimationStart:g}=r,x=a.current,b=rd(i,"recharts-line-"),y=w.useRef(b),[_,S]=w.useState(!1),k=!_,E=w.useCallback(()=>{typeof v=="function"&&v(),S(!1)},[v]),C=w.useCallback(()=>{typeof g=="function"&&g(),S(!0)},[g]),T=Ffe(n.current),A=w.useRef(0);y.current!==b&&(A.current=s.current,y.current=b);var N=A.current;return w.createElement(Rfe,{points:i,showLabels:k},r.children,w.createElement(td,{animationId:b,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:E,onAnimationStart:C,key:b},j=>{var P=it(N,T+N,j),R=Math.min(P,T),B;if(l)if(o){var q="".concat(o).split(/[,\s]+/gim).map(I=>parseFloat(I));B=Mfe(R,T,q)}else B=pL(T,R);else B=o==null?void 0:String(o);if(j>0&&T>0&&(a.current=i,s.current=Math.max(s.current,R)),x){var K=x.length/i.length,X=j===1?i:i.map((I,J)=>{var Z=Math.floor(J*K);if(x[Z]){var M=x[Z];return Ds(Ds({},I),{},{x:it(M.x,I.x,j),y:it(M.y,I.y,j)})}return h?Ds(Ds({},I),{},{x:it(p*2,I.x,j),y:it(m/2,I.y,j)}):Ds(Ds({},I),{},{x:I.x,y:I.y})});return a.current=X,w.createElement(IN,{props:r,points:X,clipPathId:t,pathRef:n,strokeDasharray:B})}return w.createElement(IN,{props:r,points:i,clipPathId:t,pathRef:n,strokeDasharray:B})}),w.createElement(Ix,{label:r.label}))}function $fe(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),a=w.useRef(0),s=w.useRef(null);return w.createElement(Lfe,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:s})}var Bfe=(e,t)=>{var r,n;return{x:(r=e.x)!==null&&r!==void 0?r:void 0,y:(n=e.y)!==null&&n!==void 0?n:void 0,value:e.value,errorVal:dt(e.payload,t)}};class zfe extends w.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:s,yAxisId:i,top:o,left:l,width:c,height:u,id:f,needClip:h,zIndex:p}=this.props;if(t)return null;var m=Ze("recharts-line",a),v=f,{r:g,strokeWidth:x}=hL(r),b=nE(r),y=g*2+x,_=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return w.createElement(Rn,{zIndex:p},w.createElement(Qt,{className:m},h&&w.createElement("defs",null,w.createElement(dE,{clipPathId:v,xAxisId:s,yAxisId:i}),!b&&w.createElement("clipPath",{id:"clipPath-dots-".concat(v)},w.createElement("rect",{x:l-y/2,y:o-y/2,width:c+y,height:u+y}))),w.createElement(Q8,{xAxisId:s,yAxisId:i,data:n,dataPointFormatter:Bfe,errorBarOffset:0},w.createElement($fe,{props:this.props,clipPathId:v}))),w.createElement(i2,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var mL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:cr.line,type:"linear"};function Ufe(e){var t=er(e,mL),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,hide:c,isAnimationActive:u,label:f,legendType:h,xAxisId:p,yAxisId:m,id:v}=t,g=pE(t,Cfe),{needClip:x}=Wx(p,m),b=Vx(),y=cc(),_=zr(),S=Se(A=>kfe(A,p,m,_,v));if(y!=="horizontal"&&y!=="vertical"||S==null||b==null)return null;var{height:k,width:E,x:C,y:T}=b;return w.createElement(zfe,p0({},g,{id:v,connectNulls:o,dot:l,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:s,animationEasing:i,isAnimationActive:u,hide:c,label:f,legendType:h,xAxisId:p,yAxisId:m,points:S,layout:y,height:k,width:E,left:C,top:T,needClip:x}))}function Vfe(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:s,dataKey:i,bandSize:o,displayedData:l}=e;return l.map((c,u)=>{var f=dt(c,i);if(t==="horizontal"){var h=mv({axis:r,ticks:a,bandSize:o,entry:c,index:u}),p=Mt(f)?null:n.scale(f);return{x:h,y:p,value:f,payload:c}}var m=Mt(f)?null:r.scale(f),v=mv({axis:n,ticks:s,bandSize:o,entry:c,index:u});return m==null||v==null?null:{x:m,y:v,value:f,payload:c}}).filter(Boolean)}function Wfe(e){var t=er(e,mL),r=zr();return w.createElement(zx,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(lE,{legendPayload:Nfe(t)}),w.createElement(Ofe,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(cE,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(Ufe,p0({},t,{id:n}))))}var Ar=w.memo(Wfe,Th);Ar.displayName="Line";var vL=(e,t,r,n)=>Js(e,"xAxis",t,n),gL=(e,t,r,n)=>Zs(e,"xAxis",t,n),xL=(e,t,r,n)=>Js(e,"yAxis",r,n),yL=(e,t,r,n)=>Zs(e,"yAxis",r,n),Hfe=ee([He,vL,xL,gL,yL],(e,t,r,n,a)=>ai(e,"xAxis")?Ro(t,n,!1):Ro(r,a,!1)),Kfe=(e,t,r,n,a)=>a,bL=ee([ch,Kfe],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),Gfe=(e,t,r,n,a)=>{var s,i=bL(e,t,r,n,a);if(i!=null){var o=He(e),l=ai(o,"xAxis"),c;if(l?c=f0(e,"yAxis",r,n):c=f0(e,"xAxis",t,n),c!=null){var{stackId:u}=i,f=Ex(i);if(!(u==null||f==null)){var h=(s=c[u])===null||s===void 0?void 0:s.stackedData;return h==null?void 0:h.find(p=>p.key===f)}}}},qfe=ee([He,vL,xL,gL,yL,Gfe,sh,Hfe,bL,xne],(e,t,r,n,a,s,i,o,l,c)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=i;if(!(l==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||a==null||n.length===0||a.length===0||o==null)){var{data:p}=l,m;if(p&&p.length>0?m=p:m=u==null?void 0:u.slice(f,h+1),m!=null)return h0e({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:m,chartBaseValue:c,bandSize:o})}}),Yfe=["id"],Xfe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Rl(){return Rl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rl.apply(null,arguments)}function wL(e,t){if(e==null)return{};var r,n,a=Zfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Zfe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){Jfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jfe(e,t,r){return(t=Qfe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qfe(e){var t=e0e(e,"string");return typeof t=="symbol"?t:t+""}function e0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gv(e,t){return e&&e!=="none"?e:t}var t0e=e=>{var{dataKey:t,name:r,stroke:n,fill:a,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:Gv(n,a),value:qo(r,t),payload:e}]},r0e=w.memo(e=>{var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:s,name:i,hide:o,unit:l,tooltipType:c}=e,u={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:s,dataKey:t,nameKey:void 0,name:qo(i,t),hide:o,type:c,color:Gv(n,s),unit:l}};return w.createElement(Bx,{tooltipEntrySettings:u})});function n0e(e){var{clipPathId:t,points:r,props:n}=e,{needClip:a,dot:s,dataKey:i}=n,o=qn(n);return w.createElement(X8,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:i,baseProps:o,needClip:a,clipPathId:t})}function a0e(e){var{showLabels:t,children:r,points:n}=e,a=n.map(s=>{var i,o,l={x:(i=s.x)!==null&&i!==void 0?i:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return tu(tu({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return w.createElement(JS,{value:t?a:void 0},r)}function FN(e){var{points:t,baseLine:r,needClip:n,clipPathId:a,props:s}=e,{layout:i,type:o,stroke:l,connectNulls:c,isRange:u}=s,{id:f}=s,h=wL(s,Yfe),p=qn(h),m=vn(h);return w.createElement(w.Fragment,null,(t==null?void 0:t.length)>1&&w.createElement(Qt,{clipPath:n?"url(#clipPath-".concat(a,")"):void 0},w.createElement(gu,Rl({},m,{id:f,points:t,connectNulls:c,type:o,baseLine:r,layout:i,stroke:"none",className:"recharts-area-area"})),l!=="none"&&w.createElement(gu,Rl({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:t})),l!=="none"&&u&&w.createElement(gu,Rl({},p,{className:"recharts-area-curve",layout:i,type:o,connectNulls:c,fill:"none",points:r}))),w.createElement(n0e,{points:t,props:h,clipPathId:a}))}function s0e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].y,i=n[n.length-1].y;if(!ft(s)||!ft(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.x||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.x||0),l)),_e(l)?w.createElement("rect",{x:0,y:s<i?s:s-o,width:l+(a?parseInt("".concat(a),10):1),height:Math.floor(o)}):null}function i0e(e){var{alpha:t,baseLine:r,points:n,strokeWidth:a}=e,s=n[0].x,i=n[n.length-1].x;if(!ft(s)||!ft(i))return null;var o=t*Math.abs(s-i),l=Math.max(...n.map(c=>c.y||0));return _e(r)?l=Math.max(r,l):r&&Array.isArray(r)&&r.length&&(l=Math.max(...r.map(c=>c.y||0),l)),_e(l)?w.createElement("rect",{x:s<i?s:s-o,y:0,width:o,height:Math.floor(l+(a?parseInt("".concat(a),10):1))}):null}function o0e(e){var{alpha:t,layout:r,points:n,baseLine:a,strokeWidth:s}=e;return r==="vertical"?w.createElement(s0e,{alpha:t,points:n,baseLine:a,strokeWidth:s}):w.createElement(i0e,{alpha:t,points:n,baseLine:a,strokeWidth:s})}function l0e(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s}=e,{points:i,baseLine:o,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:f,onAnimationStart:h,onAnimationEnd:p}=n,m=w.useMemo(()=>({points:i,baseLine:o}),[i,o]),v=rd(m,"recharts-area-"),g=BJ(),[x,b]=w.useState(!1),y=!x,_=w.useCallback(()=>{typeof p=="function"&&p(),b(!1)},[p]),S=w.useCallback(()=>{typeof h=="function"&&h(),b(!0)},[h]);if(g==null)return null;var k=a.current,E=s.current;return w.createElement(a0e,{showLabels:y,points:i},n.children,w.createElement(td,{animationId:v,begin:c,duration:u,isActive:l,easing:f,onAnimationEnd:_,onAnimationStart:S,key:v},C=>{if(k){var T=k.length/i.length,A=C===1?i:i.map((j,P)=>{var R=Math.floor(P*T);if(k[R]){var B=k[R];return tu(tu({},j),{},{x:it(B.x,j.x,C),y:it(B.y,j.y,C)})}return j}),N;return _e(o)?N=it(E,o,C):Mt(o)||ua(o)?N=it(E,0,C):N=o.map((j,P)=>{var R=Math.floor(P*T);if(Array.isArray(E)&&E[R]){var B=E[R];return tu(tu({},j),{},{x:it(B.x,j.x,C),y:it(B.y,j.y,C)})}return j}),C>0&&(a.current=A,s.current=N),w.createElement(FN,{points:A,baseLine:N,needClip:t,clipPathId:r,props:n})}return C>0&&(a.current=i,s.current=o),w.createElement(Qt,null,l&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(o0e,{alpha:C,points:i,baseLine:o,layout:g,strokeWidth:n.strokeWidth}))),w.createElement(Qt,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(FN,{points:i,baseLine:o,needClip:t,clipPathId:r,props:n})))}),w.createElement(Ix,{label:n.label}))}function c0e(e){var{needClip:t,clipPathId:r,props:n}=e,a=w.useRef(null),s=w.useRef();return w.createElement(l0e,{needClip:t,clipPathId:r,props:n,previousPointsRef:a,previousBaselineRef:s})}class u0e extends w.PureComponent{render(){var{hide:t,dot:r,points:n,className:a,top:s,left:i,needClip:o,xAxisId:l,yAxisId:c,width:u,height:f,id:h,baseLine:p,zIndex:m}=this.props;if(t)return null;var v=Ze("recharts-area",a),g=h,{r:x,strokeWidth:b}=hL(r),y=nE(r),_=x*2+b,S=o?"url(#clipPath-".concat(y?"":"dots-").concat(g,")"):void 0;return w.createElement(Rn,{zIndex:m},w.createElement(Qt,{className:v},o&&w.createElement("defs",null,w.createElement(dE,{clipPathId:g,xAxisId:l,yAxisId:c}),!y&&w.createElement("clipPath",{id:"clipPath-dots-".concat(g)},w.createElement("rect",{x:i-_/2,y:s-_/2,width:u+_,height:f+_}))),w.createElement(c0e,{needClip:o,clipPathId:g,props:this.props})),w.createElement(i2,{points:n,mainColor:Gv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:S}),this.props.isRange&&Array.isArray(p)&&w.createElement(i2,{points:p,mainColor:Gv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:S}))}}var _L={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:cr.area};function d0e(e){var t,r=er(e,_L),{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,connectNulls:o,dot:l,fill:c,fillOpacity:u,hide:f,isAnimationActive:h,legendType:p,stroke:m,xAxisId:v,yAxisId:g}=r,x=wL(r,Xfe),b=cc(),y=c8(),{needClip:_}=Wx(v,g),S=zr(),{points:k,isRange:E,baseLine:C}=(t=Se(R=>qfe(R,v,g,S,e.id)))!==null&&t!==void 0?t:{},T=Vx();if(b!=="horizontal"&&b!=="vertical"||T==null||y!=="AreaChart"&&y!=="ComposedChart")return null;var{height:A,width:N,x:j,y:P}=T;return!k||!k.length?null:w.createElement(u0e,Rl({},x,{activeDot:n,animationBegin:a,animationDuration:s,animationEasing:i,baseLine:C,connectNulls:o,dot:l,fill:c,fillOpacity:u,height:A,hide:f,layout:b,isAnimationActive:h==="auto"?!Yo.isSsr:h,isRange:E,legendType:p,needClip:_,points:k,stroke:m,width:N,left:j,top:P,xAxisId:v,yAxisId:g}))}var f0e=(e,t,r,n,a)=>{var s=r??t;if(_e(s))return s;var i=e==="horizontal"?a:n,o=i.scale.domain();if(i.type==="number"){var l=Math.max(o[0],o[1]),c=Math.min(o[0],o[1]);return s==="dataMin"?c:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function h0e(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:a,layout:s,chartBaseValue:i,xAxis:o,yAxis:l,displayedData:c,dataStartIndex:u,xAxisTicks:f,yAxisTicks:h,bandSize:p}=e,m=a&&a.length,v=f0e(s,i,r,o,l),g=s==="horizontal",x=!1,b=c.map((_,S)=>{var k;m?k=a[u+S]:(k=dt(_,n),Array.isArray(k)?x=!0:k=[v,k]);var E=k[1]==null||m&&!t&&dt(_,n)==null;return g?{x:mv({axis:o,ticks:f,bandSize:p,entry:_,index:S}),y:E?null:l.scale(k[1]),value:k,payload:_}:{x:E?null:o.scale(k[1]),y:mv({axis:l,ticks:h,bandSize:p,entry:_,index:S}),value:k,payload:_}}),y;return m||x?y=b.map(_=>{var S=Array.isArray(_.value)?_.value[0]:null;return g?{x:_.x,y:S!=null&&_.y!=null?l.scale(S):null,payload:_.payload}:{x:S!=null?o.scale(S):null,y:_.y,payload:_.payload}}):y=g?l.scale(v):o.scale(v),{points:b,baseLine:y,isRange:x}}function p0e(e){var t=er(e,_L),r=zr();return w.createElement(zx,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(lE,{legendPayload:t0e(t)}),w.createElement(r0e,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType}),w.createElement(cE,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:NR(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(d0e,Rl({},t,{id:n}))))}var Gx=w.memo(p0e,Th);Gx.displayName="Area";var m0e=["domain","range"],v0e=["domain","range"];function LN(e,t){if(e==null)return{};var r,n,a=g0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function g0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $N(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function kL(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=LN(e,m0e),{domain:s,range:i}=t,o=LN(t,v0e);return!$N(r,s)||!$N(n,i)?!1:Th(a,o)}var x0e=["dangerouslySetInnerHTML","ticks"],y0e=["id"];function l2(){return l2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l2.apply(null,arguments)}function BN(e,t){if(e==null)return{};var r,n,a=b0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function b0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function w0e(e){var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(dce(e)):r.current!==e&&t(fce({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(hce(r.current)),r.current=null)},[t]),null}var _0e=e=>{var{xAxisId:t,className:r}=e,n=Se(Fk),a=zr(),s="xAxis",i=Se(g=>Lo(g,s,t,a)),o=Se(g=>B6(g,s,t,a)),l=Se(g=>R6(g,t)),c=Se(g=>mae(g,t)),u=Se(g=>g6(g,t));if(l==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h}=e,p=BN(e,x0e),{id:m}=u,v=BN(u,y0e);return w.createElement(hE,l2({},p,v,{scale:i,x:c.x,y:c.y,width:l.width,height:l.height,className:Ze("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:o,axisType:s}))},k0e={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,angle:Kr.angle,axisLine:Ei.axisLine,height:Kr.height,hide:!1,includeHidden:Kr.includeHidden,interval:Kr.interval,minTickGap:Kr.minTickGap,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tick:Kr.tick,tickCount:Kr.tickCount,tickLine:Ei.tickLine,tickSize:Ei.tickSize,type:Kr.type,xAxisId:0},S0e=e=>{var t=er(e,k0e);return w.createElement(w.Fragment,null,w.createElement(w0e,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),w.createElement(_0e,t))},Nt=w.memo(S0e,kL);Nt.displayName="XAxis";var E0e=["dangerouslySetInnerHTML","ticks"],C0e=["id"];function c2(){return c2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c2.apply(null,arguments)}function zN(e,t){if(e==null)return{};var r,n,a=T0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function T0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A0e(e){var t=xt(),r=w.useRef(null);return w.useLayoutEffect(()=>{r.current===null?t(pce(e)):r.current!==e&&t(mce({prev:r.current,next:e})),r.current=e},[e,t]),w.useLayoutEffect(()=>()=>{r.current&&(t(vce(r.current)),r.current=null)},[t]),null}var j0e=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,s=w.useRef(null),i=w.useRef(null),o=Se(Fk),l=zr(),c=xt(),u="yAxis",f=Se(S=>Lo(S,u,t,l)),h=Se(S=>F6(S,t)),p=Se(S=>gae(S,t)),m=Se(S=>B6(S,u,t,l)),v=Se(S=>x6(S,t));if(w.useLayoutEffect(()=>{if(!(n!=="auto"||!h||ZS(a)||w.isValidElement(a)||v==null)){var S=s.current;if(S){var k=S.getCalculatedWidth();Math.round(h.width)!==Math.round(k)&&c(gce({id:t,width:k}))}}},[m,h,c,a,t,n,v]),h==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:g,ticks:x}=e,b=zN(e,E0e),{id:y}=v,_=zN(v,C0e);return w.createElement(hE,c2({},b,_,{ref:s,labelRef:i,scale:f,x:p.x,y:p.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:Ze("recharts-".concat(u," ").concat(u),r),viewBox:o,ticks:m,axisType:u}))},P0e={allowDataOverflow:Gr.allowDataOverflow,allowDecimals:Gr.allowDecimals,allowDuplicatedCategory:Gr.allowDuplicatedCategory,angle:Gr.angle,axisLine:Ei.axisLine,hide:!1,includeHidden:Gr.includeHidden,interval:Gr.interval,minTickGap:Gr.minTickGap,mirror:Gr.mirror,orientation:Gr.orientation,padding:Gr.padding,reversed:Gr.reversed,scale:Gr.scale,tick:Gr.tick,tickCount:Gr.tickCount,tickLine:Ei.tickLine,tickSize:Ei.tickSize,type:Gr.type,width:Gr.width,yAxisId:0},N0e=e=>{var t=er(e,P0e);return w.createElement(w.Fragment,null,w.createElement(A0e,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),w.createElement(j0e,t))},ot=w.memo(N0e,kL);ot.displayName="YAxis";var O0e=(e,t)=>t,mE=ee([O0e,He,m6,Vr,r8,Ji,Nse,Br],Lse),vE=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},SL=Ya("mouseClick"),EL=Z0();EL.startListening({actionCreator:SL,effect:(e,t)=>{var r=e.payload,n=mE(t.getState(),vE(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Nae({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var u2=Ya("mouseMove"),CL=Z0(),jp=null;CL.startListening({actionCreator:u2,effect:(e,t)=>{var r=e.payload;jp!==null&&cancelAnimationFrame(jp);var n=vE(r);jp=requestAnimationFrame(()=>{var a=t.getState(),s=zS(a,a.tooltip.settings.shared);if(s==="axis"){var i=mE(a,n);(i==null?void 0:i.activeIndex)!=null?t.dispatch(q6({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(G6())}jp=null})}});var UN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},TL=da({name:"rootProps",initialState:UN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:UN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),D0e=TL.reducer,{updateOptions:M0e}=TL.actions,AL=da({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:I0e}=AL.actions,R0e=AL.reducer,jL=Ya("keyDown"),PL=Ya("focus"),gE=Z0();gE.startListening({actionCreator:jL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var i=US(a,ud(r),dh(r),mh(r)),o=i==null?-1:Number(i);if(!(!Number.isFinite(o)||o<0)){var l=Ji(r);if(s==="Enter"){var c=Fv(r,"axis","hover",String(a.index));t.dispatch(e2({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=wae(r),f=u==="left-to-right"?1:-1,h=s==="ArrowRight"?1:-1,p=o+h*f;if(!(l==null||p>=l.length||p<0)){var m=Fv(r,"axis","hover",String(p));t.dispatch(e2({active:!0,activeIndex:p.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}}});gE.startListening({actionCreator:PL,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var s="0",i=Fv(r,"axis","hover",String(s));t.dispatch(e2({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:i}))}}}});var Da=Ya("externalEvent"),NL=Z0(),w1=new Map;NL.startListening({actionCreator:Da,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,s=w1.get(a);s!==void 0&&cancelAnimationFrame(s);var i=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:vse(o),activeDataKey:i8(o),activeIndex:$o(o),activeLabel:s8(o),activeTooltipIndex:$o(o),isTooltipActive:gse(o)};r(l,n)}finally{w1.delete(a)}});w1.set(a,i)}}});var F0e=ee([cd],e=>e.tooltipItemPayloads),L0e=ee([F0e,hh,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:s}=a;if(s!=null){var i=t(s,r);return i}}}),OL=Ya("touchMove"),DL=Z0();DL.startListening({actionCreator:OL,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=zS(n,n.tooltip.settings.shared);if(a==="axis"){var s=mE(n,vE({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(q6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(a==="item"){var i,o=r.touches[0];if(document.elementFromPoint==null)return;var l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(DR),u=(i=l.getAttribute(MR))!==null&&i!==void 0?i:void 0,f=L0e(t.getState(),c,u);t.dispatch(K6({activeDataKey:u,activeIndex:c,activeCoordinate:f}))}}}});var $0e=eR({brush:cde,cartesianAxis:xce,chartData:pie,errorBars:Fce,graphicalItems:Ele,layout:ZZ,legend:tQ,options:cie,polarAxis:Moe,polarOptions:R0e,referenceElements:bde,rootProps:D0e,tooltip:Oae,zIndex:Jse}),B0e=function(t){return _Z({reducer:$0e,preloadedState:t,middleware:r=>{var n;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((n="es6")!==null&&n!==void 0?n:"")}).concat([EL.middleware,CL.middleware,gE.middleware,NL.middleware,DL.middleware])},enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(mR({type:"raf"}))},devTools:Yo.devToolsEnabled})};function ML(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=zr(),s=w.useRef(null);if(a)return r;s.current==null&&(s.current=B0e(t));var i=Ck;return w.createElement(due,{context:i,store:s.current},r)}function z0e(e){var{layout:t,margin:r}=e,n=xt(),a=zr();return w.useEffect(()=>{a||(n(qZ(t)),n(GZ(r)))},[n,a,t,r]),null}var IL=w.memo(z0e,Th);function RL(e){var t=xt();return w.useEffect(()=>{t(M0e(e))},[t,e]),null}function VN(e){var{zIndex:t,isPanorama:r}=e,n=r?"recharts-zindex-panorama-":"recharts-zindex-",a=q8("".concat(n).concat(t)),s=xt();return w.useLayoutEffect(()=>(s(Xse({zIndex:t,elementId:a,isPanorama:r})),()=>{s(Zse({zIndex:t,isPanorama:r}))}),[s,t,a,r]),w.createElement("g",{id:a})}function WN(e){var{children:t,isPanorama:r}=e,n=Se(Bse);if(!n||n.length===0)return t;var a=n.filter(i=>i<0),s=n.filter(i=>i>0);return w.createElement(w.Fragment,null,a.map(i=>w.createElement(VN,{key:i,zIndex:i,isPanorama:r})),t,s.map(i=>w.createElement(VN,{key:i,zIndex:i,isPanorama:r})))}var U0e=["children"];function V0e(e,t){if(e==null)return{};var r,n,a=W0e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function W0e(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(null,arguments)}var H0e={width:"100%",height:"100%",display:"block"},K0e=w.forwardRef((e,t)=>{var r=$k(),n=Bk(),a=QR();if(!Ys(r)||!Ys(n))return null;var{children:s,otherAttributes:i,title:o,desc:l}=e,c,u;return i!=null&&(typeof i.tabIndex=="number"?c=i.tabIndex:c=a?0:void 0,typeof i.role=="string"?u=i.role:u=a?"application":void 0),w.createElement(uk,qv({},i,{title:o,desc:l,role:u,tabIndex:c,width:r,height:n,style:H0e,ref:t}),s)}),G0e=e=>{var{children:t}=e,r=Se(fx);if(!r)return null;var{width:n,height:a,y:s,x:i}=r;return w.createElement(uk,{width:n,height:a,x:i,y:s},t)},HN=w.forwardRef((e,t)=>{var{children:r}=e,n=V0e(e,U0e),a=zr();return a?w.createElement(G0e,null,w.createElement(WN,{isPanorama:!0},r)):w.createElement(K0e,qv({ref:t},n),w.createElement(WN,{isPanorama:!1},r))});function q0e(){var e=xt(),[t,r]=w.useState(null),n=Se(pJ);return w.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),s=a.width/t.offsetWidth;ft(s)&&s!==n&&e(XZ(s))}},[t,e,n]),r}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y0e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){X0e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function X0e(e,t,r){return(t=Z0e(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z0e(e){var t=J0e(e,"string");return typeof t=="symbol"?t:t+""}function J0e(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ql.apply(null,arguments)}var Q0e=()=>(kie(),null);function Yv(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var ehe=w.forwardRef((e,t)=>{var r,n,a=w.useRef(null),[s,i]=w.useState({containerWidth:Yv((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Yv((n=e.style)===null||n===void 0?void 0:n.height)}),o=w.useCallback((c,u)=>{i(f=>{var h=Math.round(c),p=Math.round(u);return f.containerWidth===h&&f.containerHeight===p?f:{containerWidth:h,containerHeight:p}})},[]),l=w.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null&&typeof ResizeObserver<"u"){var{width:u,height:f}=c.getBoundingClientRect();o(u,f);var h=m=>{var{width:v,height:g}=m[0].contentRect;o(v,g)},p=new ResizeObserver(h);p.observe(c),a.current=p}},[t,o]);return w.useEffect(()=>()=>{var c=a.current;c!=null&&c.disconnect()},[o]),w.createElement(w.Fragment,null,w.createElement(hx,{width:s.containerWidth,height:s.containerHeight}),w.createElement("div",Ql({ref:l},e)))}),the=w.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,s]=w.useState({containerWidth:Yv(r),containerHeight:Yv(n)}),i=w.useCallback((l,c)=>{s(u=>{var f=Math.round(l),h=Math.round(c);return u.containerWidth===f&&u.containerHeight===h?u:{containerWidth:f,containerHeight:h}})},[]),o=w.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:c,height:u}=l.getBoundingClientRect();i(c,u)}},[t,i]);return w.createElement(w.Fragment,null,w.createElement(hx,{width:a.containerWidth,height:a.containerHeight}),w.createElement("div",Ql({ref:o},e)))}),rhe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return w.createElement(w.Fragment,null,w.createElement(hx,{width:r,height:n}),w.createElement("div",Ql({ref:t},e)))}),nhe=w.forwardRef((e,t)=>{var{width:r,height:n}=e;return Ii(r)||Ii(n)?w.createElement(the,Ql({},e,{ref:t})):w.createElement(rhe,Ql({},e,{ref:t}))});function ahe(e){return e===!0?ehe:nhe}var she=w.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:s,onContextMenu:i,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:f,onMouseUp:h,onTouchEnd:p,onTouchMove:m,onTouchStart:v,style:g,width:x,responsive:b,dispatchTouchEvents:y=!0}=e,_=w.useRef(null),S=xt(),[k,E]=w.useState(null),[C,T]=w.useState(null),A=q0e(),N=Lk(),j=(N==null?void 0:N.width)>0?N.width:x,P=(N==null?void 0:N.height)>0?N.height:a,R=w.useCallback(Y=>{A(Y),typeof t=="function"&&t(Y),E(Y),T(Y),Y!=null&&(_.current=Y)},[A,t,E,T]),B=w.useCallback(Y=>{S(SL(Y)),S(Da({handler:s,reactEvent:Y}))},[S,s]),q=w.useCallback(Y=>{S(u2(Y)),S(Da({handler:c,reactEvent:Y}))},[S,c]),K=w.useCallback(Y=>{S(G6()),S(Da({handler:u,reactEvent:Y}))},[S,u]),X=w.useCallback(Y=>{S(u2(Y)),S(Da({handler:f,reactEvent:Y}))},[S,f]),I=w.useCallback(()=>{S(PL())},[S]),J=w.useCallback(Y=>{S(jL(Y.key))},[S]),Z=w.useCallback(Y=>{S(Da({handler:i,reactEvent:Y}))},[S,i]),M=w.useCallback(Y=>{S(Da({handler:o,reactEvent:Y}))},[S,o]),z=w.useCallback(Y=>{S(Da({handler:l,reactEvent:Y}))},[S,l]),G=w.useCallback(Y=>{S(Da({handler:h,reactEvent:Y}))},[S,h]),H=w.useCallback(Y=>{S(Da({handler:v,reactEvent:Y}))},[S,v]),Q=w.useCallback(Y=>{y&&S(OL(Y)),S(Da({handler:m,reactEvent:Y}))},[S,y,m]),oe=w.useCallback(Y=>{S(Da({handler:p,reactEvent:Y}))},[S,p]),le=ahe(b);return w.createElement(p8.Provider,{value:k},w.createElement(e5.Provider,{value:C},w.createElement(le,{width:j??(g==null?void 0:g.width),height:P??(g==null?void 0:g.height),className:Ze("recharts-wrapper",n),style:Y0e({position:"relative",cursor:"default",width:j,height:P},g),onClick:B,onContextMenu:Z,onDoubleClick:M,onFocus:I,onKeyDown:J,onMouseDown:z,onMouseEnter:q,onMouseLeave:K,onMouseMove:X,onMouseUp:G,onTouchEnd:oe,onTouchMove:Q,onTouchStart:H,ref:R},w.createElement(Q0e,null),r)))}),ihe=["width","height","responsive","children","className","style","compact","title","desc"];function ohe(e,t){if(e==null)return{};var r,n,a=lhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FL=w.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:s,className:i,style:o,compact:l,title:c,desc:u}=e,f=ohe(e,ihe),h=qn(f);return l?w.createElement(w.Fragment,null,w.createElement(hx,{width:r,height:n}),w.createElement(HN,{otherAttributes:h,title:c,desc:u},s)):w.createElement(she,{className:i,style:o,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(HN,{otherAttributes:h,title:c,desc:u,ref:t},w.createElement(wde,null,s)))});function d2(){return d2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d2.apply(null,arguments)}var che={top:5,right:5,bottom:5,left:5},uhe={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:che,reverseStackOrder:!1,syncMethod:"index",responsive:!1},qx=w.forwardRef(function(t,r){var n,a=er(t.categoricalChartProps,uhe),{chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=t,u={chartName:s,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return w.createElement(ML,{preloadedState:{options:u},reduxStoreName:(n=c.id)!==null&&n!==void 0?n:s},w.createElement(rL,{chartData:c.data}),w.createElement(IL,{layout:a.layout,margin:a.margin}),w.createElement(RL,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(FL,d2({},a,{ref:r})))}),dhe=["axis"],Ci=w.forwardRef((e,t)=>w.createElement(qx,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dhe,tooltipPayloadSearcher:vh,categoricalChartProps:e,ref:t})),fhe=["axis","item"],Hs=w.forwardRef((e,t)=>w.createElement(qx,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fhe,tooltipPayloadSearcher:vh,categoricalChartProps:e,ref:t}));function hhe(e){var t=xt();return w.useEffect(()=>{t(I0e(e))},[t,e]),null}var phe=["layout"];function f2(){return f2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f2.apply(null,arguments)}function mhe(e,t){if(e==null)return{};var r,n,a=vhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vhe(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ghe={top:5,right:5,bottom:5,left:5},xhe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ghe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},yhe=w.forwardRef(function(t,r){var n,a=er(t.categoricalChartProps,xhe),{layout:s}=a,i=mhe(a,phe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return w.createElement(ML,{preloadedState:{options:f},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},w.createElement(rL,{chartData:a.data}),w.createElement(IL,{layout:s,margin:a.margin}),w.createElement(RL,{baseValue:void 0,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),w.createElement(hhe,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),w.createElement(FL,f2({},i,{ref:r})))}),bhe=["item"],whe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},LL=w.forwardRef((e,t)=>{var r=er(e,whe);return w.createElement(yhe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:bhe,tooltipPayloadSearcher:vh,categoricalChartProps:r,ref:t})}),_he=["axis"],khe=w.forwardRef((e,t)=>w.createElement(qx,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:_he,tooltipPayloadSearcher:vh,categoricalChartProps:e,ref:t})),She=["axis"],Yx=w.forwardRef((e,t)=>w.createElement(qx,{chartName:"ComposedChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:She,tooltipPayloadSearcher:vh,categoricalChartProps:e,ref:t}));const Nc=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#EC4899","#6366F1","#14B8A6"],Ehe=({data:e})=>{const[t,r]=w.useState("cartoes"),[n,a]=w.useState("canal"),[s,i]=w.useState("pie"),[o,l]=w.useState("desc"),c=w.useMemo(()=>{const h={};Object.values(e).flat().forEach(m=>{let v="";switch(n){case"canal":v=m.canal;break;case"bu":v=m.bu;break;case"parceiro":v=m.parceiro;break;case"oferta":v=m.oferta||"Padrao";break;case"segmento":v=m.segmento;break;default:v="Outros"}v||(v="Outros"),h[v]||(h[v]={name:v,value:0,cost:0,cards:0});const g=m.kpis;switch(h[v].cost+=g.custoTotal||0,h[v].cards+=g.cartoes||0,t){case"cartoes":h[v].value+=g.cartoes||0;break;case"custo":h[v].value+=g.custoTotal||0;break;case"envios":h[v].value+=g.baseEnviada||0;break;case"aprovacoes":h[v].value+=g.aprovados||0;break}});let p=Object.values(h);switch(t==="cac"&&(p=p.map(m=>({...m,value:m.cards>0?parseFloat((m.cost/m.cards).toFixed(2)):0}))),o){case"desc":p.sort((m,v)=>v.value-m.value);break;case"asc":p.sort((m,v)=>m.value-v.value);break;case"alpha":p.sort((m,v)=>m.name.localeCompare(v.name));break}return p},[e,t,n,o]),u=h=>t==="custo"?`R$ ${(h/1e3).toFixed(1)}k`:t==="cac"?`R$ ${h.toFixed(2)}`:new Intl.NumberFormat("pt-BR").format(h),f=w.useMemo(()=>{if(t==="cac"){const h=c.reduce((m,v)=>m+v.cost,0),p=c.reduce((m,v)=>m+v.cards,0);return p>0?h/p:0}return c.reduce((h,p)=>h+p.value,0)},[c,t]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8",children:[d.jsxs("div",{className:"flex flex-col gap-6 mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-3",children:[d.jsx(W0,{size:24,className:"text-blue-400"}),"Anlise de Distribuio"]}),d.jsxs("div",{className:"flex gap-2 bg-slate-900 rounded-lg p-1.5 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("pie"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="pie"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx(TI,{size:18}),"Pizza"]}),d.jsxs("button",{onClick:()=>i("bar"),className:`flex items-center gap-2 px-4 py-2 rounded text-base font-medium transition ${s==="bar"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-slate-200"}`,children:[d.jsx(Z_,{size:18}),"Barras"]})]})]}),d.jsxs("div",{className:"flex gap-3 items-center",children:[d.jsxs("select",{value:t,onChange:h=>r(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[180px]",children:[d.jsx("option",{value:"cartoes",children:"Cartes Gerados"}),d.jsx("option",{value:"custo",children:"Custo Total"}),d.jsx("option",{value:"envios",children:"Base Enviada"}),d.jsx("option",{value:"aprovacoes",children:"Aprovaes"}),d.jsx("option",{value:"cac",children:"CAC Mdio"})]}),d.jsx("span",{className:"text-slate-400 text-base font-medium",children:"por"}),d.jsxs("select",{value:n,onChange:h=>a(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[150px]",children:[d.jsx("option",{value:"canal",children:"Canal"}),d.jsx("option",{value:"bu",children:"BU"}),d.jsx("option",{value:"parceiro",children:"Parceiro"}),d.jsx("option",{value:"oferta",children:"Oferta"}),d.jsx("option",{value:"segmento",children:"Segmento"})]}),d.jsx("span",{className:"text-slate-600 text-base",children:""}),d.jsxs("select",{value:o,onChange:h=>l(h.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-base rounded-lg px-4 py-2.5 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 min-w-[170px]",children:[d.jsx("option",{value:"desc",children:"Maior  Menor"}),d.jsx("option",{value:"asc",children:"Menor  Maior"}),d.jsx("option",{value:"alpha",children:"Alfabtica"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-10 items-start",children:[d.jsx("div",{className:"col-span-2 h-[500px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:s==="pie"?d.jsx(LL,{children:d.jsx(uE,{data:c,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:80,outerRadius:160,paddingAngle:2,stroke:"#0f172a",strokeWidth:2,labelLine:!1,label:({percent:h=0,name:p})=>`${p}: ${(h*100).toFixed(1)}%`,children:c.map((h,p)=>d.jsx(Qs,{fill:Nc[p%Nc.length]},`cell-${p}`))})}):d.jsxs(Hs,{data:c,layout:"vertical",margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(Nt,{type:"number",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1}),d.jsx(ot,{type:"category",dataKey:"name",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:14},tickLine:!1,axisLine:!1,width:90}),d.jsx(Pt,{formatter:h=>u(h),contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9",fontSize:"14px",padding:"12px",borderRadius:"8px"},itemStyle:{color:"#f1f5f9"}}),d.jsx(Tr,{dataKey:"value",radius:[0,8,8,0],barSize:40,children:c.map((h,p)=>d.jsx(Qs,{fill:Nc[p%Nc.length]},`cell-${p}`))})]})})}),d.jsxs("div",{className:"space-y-5",children:[d.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-xl p-6 border border-slate-700 text-center shadow-lg",children:[d.jsx("p",{className:"text-base text-slate-400 mb-3 font-medium",children:t==="cac"?"CAC Mdio Global":"Total Geral"}),d.jsx("p",{className:"text-5xl font-bold text-white mb-2",children:u(f)})]}),d.jsx("div",{className:"space-y-3 max-h-[380px] overflow-y-auto pr-3 custom-scrollbar",children:c.map((h,p)=>d.jsxs("div",{className:"flex items-center justify-between text-base p-3 hover:bg-slate-700/40 rounded-lg transition bg-slate-900/30 border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 rounded-full shadow-md",style:{backgroundColor:Nc[p%Nc.length]}}),d.jsx("span",{className:"text-slate-200 font-medium",children:h.name})]}),d.jsxs("div",{className:"flex flex-col items-end",children:[d.jsx("span",{className:"font-bold text-slate-100 text-lg",children:u(h.value)}),t!=="cac"&&f>0&&d.jsxs("span",{className:"text-sm text-slate-400 font-medium",children:[(h.value/f*100).toFixed(1),"%"]})]})]},p))})]})]})]})},Che=({goal:e,currentCartoes:t,currentAprovacoes:r,currentCAC:n})=>{var o,l;const a=e.cartoes_meta?Math.min(t/e.cartoes_meta*100,100):0,s=e.aprovacoes_meta?Math.min(r/e.aprovacoes_meta*100,100):0,i=!e.cac_max||n<=e.cac_max;return d.jsx("div",{className:"space-y-6",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-blue-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(LW,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Cartes Gerados"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${a>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[a.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:t.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((o=e.cartoes_meta)==null?void 0:o.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all duration-1000",style:{width:`${a}%`}})})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 relative overflow-hidden group hover:border-emerald-500/50 transition-all",children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(Zr,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"Aprovaes"}),d.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${s>=100,"bg-emerald-500/20 text-emerald-400"}`,children:[s.toFixed(1),"%"]})]}),d.jsx("div",{className:"text-2xl font-bold text-white mb-1",children:r.toLocaleString("pt-BR")}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta: ",((l=e.aprovacoes_meta)==null?void 0:l.toLocaleString("pt-BR"))||"-"]}),d.jsx("div",{className:"h-1.5 bg-slate-700 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-emerald-500 rounded-full transition-all duration-1000",style:{width:`${s}%`}})})]}),d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-4 relative overflow-hidden group transition-all ${i?"border-slate-700 hover:border-emerald-500/50":"border-red-900/50 hover:border-red-500/50"}`,children:[d.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition",children:d.jsx(Xu,{size:48})}),d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"text-slate-400 text-sm font-medium",children:"CAC Mdio"}),d.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${i?"bg-emerald-500/20 text-emerald-400":"bg-red-500/20 text-red-400"}`,children:i?"Dentro da Meta":"Acima da Meta"})]}),d.jsxs("div",{className:`text-2xl font-bold mb-1 ${i?"text-emerald-400":"text-red-400"}`,children:["R$ ",n.toFixed(2)]}),d.jsxs("div",{className:"text-xs text-slate-500 mb-3",children:["Meta Mx: ",e.cac_max?`R$ ${e.cac_max.toFixed(2)}`:"-"]}),d.jsxs("div",{className:"relative h-1.5 bg-slate-700 rounded-full overflow-hidden",children:[e.cac_max&&d.jsx("div",{className:"absolute h-full w-0.5 bg-white z-10",style:{left:`${Math.min(e.cac_max/(e.cac_max*1.5)*100,100)}%`}}),d.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${i?"bg-emerald-500":"bg-red-500"}`,style:{width:`${e.cac_max?Math.min(n/(e.cac_max*1.5)*100,100):0}%`}})]})]})]})})},The=({isOpen:e,onClose:t,onSave:r,initialGoal:n,currentMonthLabel:a})=>{const[s,i]=w.useState("B2C"),[o,l]=w.useState({B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}});w.useEffect(()=>{if(e){const f={B2C:{cartoes:"",aprovacoes:"",cac:""},B2B2C:{cartoes:"",aprovacoes:"",cac:""},Plurix:{cartoes:"",aprovacoes:"",cac:""}};n.bus&&Object.entries(n.bus).forEach(([h,p])=>{var m,v,g;f[h]&&(f[h]={cartoes:((m=p.cartoes)==null?void 0:m.toString())||"",aprovacoes:((v=p.aprovacoes)==null?void 0:v.toString())||"",cac:((g=p.cac)==null?void 0:g.toString())||""})}),l(f)}},[e,n]);const c=w.useMemo(()=>{let f=0,h=0,p=0,m=0;return Object.values(o).forEach(v=>{f+=Number(v.cartoes)||0,h+=Number(v.aprovacoes)||0,Number(v.cac)>0&&(p+=Number(v.cac),m++)}),{cartoes:f,aprovacoes:h,cacMedio:m>0?p/m:0}},[o]);if(!e)return null;const u=f=>{f.preventDefault();const h={};Object.entries(o).forEach(([p,m])=>{h[p]={cartoes:Number(m.cartoes)||0,aprovacoes:Number(m.aprovacoes)||0,cac:Number(m.cac)||0}}),r({mes:n.mes,cartoes_meta:c.cartoes,aprovacoes_meta:c.aprovacoes,cac_max:c.cacMedio,bus:h}),t()};return d.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl rounded-xl shadow-2xl w-full max-w-2xl border border-white/10 flex flex-col md:flex-row overflow-hidden",children:[d.jsxs("div",{className:"w-full md:w-1/3 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2 mb-6",children:[d.jsx(Gi,{className:"text-blue-400",size:20}),"Metas"]}),d.jsx("div",{className:"space-y-2 flex-1",children:["B2C","B2B2C","Plurix"].map(f=>d.jsxs("button",{type:"button",onClick:()=>i(f),className:`w-full text-left px-4 py-3 rounded-lg text-sm font-medium transition flex items-center justify-between group ${s===f?"bg-blue-600 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[f,s===f&&d.jsx("div",{className:"w-2 h-2 rounded-full bg-white animate-pulse"})]},f))}),d.jsxs("div",{className:"mt-6 bg-slate-800/50 rounded-lg p-4 border border-white/10",children:[d.jsxs("div",{className:"flex items-center gap-2 text-slate-400 mb-3",children:[d.jsx(kl,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase tracking-wider",children:"Consolidado"})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Cartes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"Aprovaes"}),d.jsx("span",{className:"text-slate-200 font-mono",children:c.aprovacoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-slate-500",children:"CAC Mdio"}),d.jsxs("span",{className:"text-emerald-400 font-mono",children:["R$ ",c.cacMedio.toFixed(2)]})]})]})]})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-slate-800/50",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-slate-100 font-bold",children:["Configurao: ",s]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Defina as metas para o ms de ",a]})]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200 transition",children:d.jsx(Za,{size:20})})]}),d.jsx("form",{onSubmit:u,className:"p-6 space-y-6 flex-1",children:d.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Cartes Gerados"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].cartoes,onChange:f=>l({...o,[s]:{...o[s],cartoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"Meta de Aprovaes"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"number",value:o[s].aprovacoes,onChange:f=>l({...o,[s]:{...o[s],aprovacoes:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0"}),d.jsx("div",{className:"absolute right-3 top-3 text-slate-500 text-xs",children:"unidades"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-sm font-medium text-slate-300 flex items-center gap-2",children:"CAC Mximo Aceitvel"}),d.jsxs("div",{className:"relative",children:[d.jsx("span",{className:"absolute left-3 top-3 text-slate-500",children:"R$"}),d.jsx("input",{type:"number",step:"0.01",value:o[s].cac,onChange:f=>l({...o,[s]:{...o[s],cac:f.target.value}}),className:"w-full bg-slate-900 border border-slate-600 rounded-lg p-3 pl-10 text-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition",placeholder:"0.00"})]})]})]})}),d.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-900/30 flex justify-end gap-3",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded-lg transition",children:"Cancelar"}),d.jsxs("button",{onClick:u,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center gap-2 transition shadow-lg shadow-blue-900/20 font-medium",children:[d.jsx(Ju,{size:18}),"Salvar Todas as Metas"]})]})]})]})})};function Ui(e){"@babel/helpers - typeof";return Ui=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ui(e)}function gr(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Be(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function ze(e){Be(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Ui(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xv(e,t){Be(2,arguments);var r=ze(e),n=gr(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function xE(e,t){Be(2,arguments);var r=ze(e),n=gr(t);if(isNaN(n))return new Date(NaN);if(!n)return r;var a=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+n+1,0);var i=s.getDate();return a>=i?s:(r.setFullYear(s.getFullYear(),s.getMonth(),a),r)}function Ahe(e,t){Be(2,arguments);var r=ze(e).getTime(),n=gr(t);return new Date(r+n)}var jhe={};function Qo(){return jhe}function el(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Qo(),f=gr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(e),p=h.getDay(),m=(p<f?7:0)+p-f;return h.setDate(h.getDate()-m),h.setHours(0,0,0,0),h}function Zv(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Vi(e){Be(1,arguments);var t=ze(e);return t.setHours(0,0,0,0),t}var Phe=864e5;function Nhe(e,t){Be(2,arguments);var r=Vi(e),n=Vi(t),a=r.getTime()-Zv(r),s=n.getTime()-Zv(n);return Math.round((a-s)/Phe)}var yE=6e4,bE=36e5,Ohe=1e3;function m0(e,t){Be(2,arguments);var r=Vi(e),n=Vi(t);return r.getTime()===n.getTime()}function Dhe(e){return Be(1,arguments),e instanceof Date||Ui(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function $L(e){if(Be(1,arguments),!Dhe(e)&&typeof e!="number")return!1;var t=ze(e);return!isNaN(Number(t))}function GN(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function v0(e,t){Be(2,arguments);var r=ze(e),n=ze(t),a=GN(r,n),s=Math.abs(Nhe(r,n));r.setDate(r.getDate()-a*s);var i=+(GN(r,n)===-a),o=a*(s-i);return o===0?0:o}function zu(e){Be(1,arguments);var t=ze(e);return t.setHours(23,59,59,999),t}function Fl(e){Be(1,arguments);var t=ze(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function wE(e,t){var r;Be(1,arguments);var n=e||{},a=ze(n.start),s=ze(n.end),i=s.getTime();if(!(a.getTime()<=i))throw new RangeError("Invalid interval");var o=[],l=a;l.setHours(0,0,0,0);var c=Number((r=void 0)!==null&&r!==void 0?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)o.push(ze(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return o}function Qr(e){Be(1,arguments);var t=ze(e);return t.setDate(1),t.setHours(0,0,0,0),t}function Mhe(e,t){var r,n,a,s,i,o;Be(1,arguments);var l=Qo(),c=gr((r=(n=(a=(s=void 0)!==null&&s!==void 0?s:void 0)!==null&&a!==void 0?a:l.weekStartsOn)!==null&&n!==void 0?n:(i=l.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=ze(e),f=u.getDay(),h=(f<c?-7:0)+6-(f-c);return u.setDate(u.getDate()+h),u.setHours(23,59,59,999),u}function BL(e,t){Be(2,arguments);var r=gr(t);return Ahe(e,-r)}var Ihe=864e5;function Rhe(e){Be(1,arguments);var t=ze(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Ihe)+1}function Uu(e){Be(1,arguments);var t=1,r=ze(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function zL(e){Be(1,arguments);var t=ze(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Uu(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var i=Uu(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=i.getTime()?r:r-1}function Fhe(e){Be(1,arguments);var t=zL(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Uu(r);return n}var Lhe=6048e5;function UL(e){Be(1,arguments);var t=ze(e),r=Uu(t).getTime()-Fhe(t).getTime();return Math.round(r/Lhe)+1}function ec(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Qo(),f=gr((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=ze(e),p=h.getUTCDay(),m=(p<f?7:0)+p-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function _E(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=ze(e),f=u.getUTCFullYear(),h=Qo(),p=gr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,p),m.setUTCHours(0,0,0,0);var v=ec(m,t),g=new Date(0);g.setUTCFullYear(f,0,p),g.setUTCHours(0,0,0,0);var x=ec(g,t);return u.getTime()>=v.getTime()?f+1:u.getTime()>=x.getTime()?f:f-1}function $he(e,t){var r,n,a,s,i,o,l,c;Be(1,arguments);var u=Qo(),f=gr((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(i=t.locale)===null||i===void 0||(o=i.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=_E(e,t),p=new Date(0);p.setUTCFullYear(h,0,f),p.setUTCHours(0,0,0,0);var m=ec(p,t);return m}var Bhe=6048e5;function VL(e,t){Be(1,arguments);var r=ze(e),n=ec(r,t).getTime()-$he(r,t).getTime();return Math.round(n/Bhe)+1}function lt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var to={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return lt(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):lt(n+1,2)},d:function(t,r){return lt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return lt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return lt(t.getUTCHours(),r.length)},m:function(t,r){return lt(t.getUTCMinutes(),r.length)},s:function(t,r){return lt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return lt(s,r.length)}},Oc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},zhe={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return to.y(t,r)},Y:function(t,r,n,a){var s=_E(t,a),i=s>0?s:1-s;if(r==="YY"){var o=i%100;return lt(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):lt(i,r.length)},R:function(t,r){var n=zL(t);return lt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return lt(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return lt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return lt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return to.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return lt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=VL(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):lt(s,r.length)},I:function(t,r,n){var a=UL(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):lt(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):to.d(t,r)},D:function(t,r,n){var a=Rhe(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):lt(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return lt(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),i=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return lt(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return lt(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=Oc.noon:a===0?s=Oc.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=Oc.evening:a>=12?s=Oc.afternoon:a>=4?s=Oc.morning:s=Oc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return to.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):to.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):lt(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):lt(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):to.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):to.s(t,r)},S:function(t,r){return to.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();if(i===0)return"Z";switch(r){case"X":return YN(i);case"XXXX":case"XX":return ml(i);case"XXXXX":case"XXX":default:return ml(i,":")}},x:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"x":return YN(i);case"xxxx":case"xx":return ml(i);case"xxxxx":case"xxx":default:return ml(i,":")}},O:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+qN(i,":");case"OOOO":default:return"GMT"+ml(i,":")}},z:function(t,r,n,a){var s=a._originalDate||t,i=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+qN(i,":");case"zzzz":default:return"GMT"+ml(i,":")}},t:function(t,r,n,a){var s=a._originalDate||t,i=Math.floor(s.getTime()/1e3);return lt(i,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,i=s.getTime();return lt(i,r.length)}};function qN(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var i=t;return r+String(a)+i+lt(s,2)}function YN(e,t){if(e%60===0){var r=e>0?"-":"+";return r+lt(Math.abs(e)/60,2)}return ml(e,t)}function ml(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=lt(Math.floor(a/60),2),i=lt(a%60,2);return n+s+r+i}var XN=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},WL=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Uhe=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return XN(t,r);var i;switch(a){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",XN(a,r)).replace("{{time}}",WL(s,r))},h2={p:WL,P:Uhe},Vhe=["D","DD"],Whe=["YY","YYYY"];function HL(e){return Vhe.indexOf(e)!==-1}function KL(e){return Whe.indexOf(e)!==-1}function Jv(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Hhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Khe=function(t,r,n){var a,s=Hhe[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function yu(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Ghe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Yhe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xhe={date:yu({formats:Ghe,defaultWidth:"full"}),time:yu({formats:qhe,defaultWidth:"full"}),dateTime:yu({formats:Yhe,defaultWidth:"full"})},Zhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jhe=function(t,r,n,a){return Zhe[t]};function Is(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,i=r!=null&&r.width?String(r.width):s;a=e.formattingValues[i]||e.formattingValues[s]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var Qhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},epe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},npe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ape={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},spe=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},ipe={ordinalNumber:spe,era:Is({values:Qhe,defaultWidth:"wide"}),quarter:Is({values:epe,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Is({values:tpe,defaultWidth:"wide"}),day:Is({values:rpe,defaultWidth:"wide"}),dayPeriod:Is({values:npe,defaultWidth:"wide",formattingValues:ape,defaultFormattingWidth:"wide"})};function Rs(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var i=s[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?lpe(o,function(f){return f.test(i)}):ope(o,function(f){return f.test(i)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(i.length);return{value:c,rest:u}}}function ope(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function lpe(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function GL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var i=e.valueCallback?e.valueCallback(s[0]):s[0];i=r.valueCallback?r.valueCallback(i):i;var o=t.slice(a.length);return{value:i,rest:o}}}var cpe=/^(\d+)(th|st|nd|rd)?/i,upe=/\d+/i,dpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fpe={any:[/^b/i,/^(a|c)/i]},hpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ppe={any:[/1/i,/2/i,/3/i,/4/i]},mpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},xpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ype={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},wpe={ordinalNumber:GL({matchPattern:cpe,parsePattern:upe,valueCallback:function(t){return parseInt(t,10)}}),era:Rs({matchPatterns:dpe,defaultMatchWidth:"wide",parsePatterns:fpe,defaultParseWidth:"any"}),quarter:Rs({matchPatterns:hpe,defaultMatchWidth:"wide",parsePatterns:ppe,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rs({matchPatterns:mpe,defaultMatchWidth:"wide",parsePatterns:vpe,defaultParseWidth:"any"}),day:Rs({matchPatterns:gpe,defaultMatchWidth:"wide",parsePatterns:xpe,defaultParseWidth:"any"}),dayPeriod:Rs({matchPatterns:ype,defaultMatchWidth:"any",parsePatterns:bpe,defaultParseWidth:"any"})},qL={code:"en-US",formatDistance:Khe,formatLong:Xhe,formatRelative:Jhe,localize:ipe,match:wpe,options:{weekStartsOn:0,firstWeekContainsDate:1}},_pe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Spe=/^'([^]*?)'?$/,Epe=/''/g,Cpe=/[a-zA-Z]/;function ke(e,t,r){var n,a,s,i,o,l,c,u,f,h,p,m,v,g,x,b,y,_;Be(2,arguments);var S=String(t),k=Qo(),E=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:k.locale)!==null&&n!==void 0?n:qL,C=gr((s=(i=(o=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(c=r.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&o!==void 0?o:k.firstWeekContainsDate)!==null&&i!==void 0?i:(f=k.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=gr((p=(m=(v=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(x=r.locale)===null||x===void 0||(b=x.options)===null||b===void 0?void 0:b.weekStartsOn)!==null&&v!==void 0?v:k.weekStartsOn)!==null&&m!==void 0?m:(y=k.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var A=ze(e);if(!$L(A))throw new RangeError("Invalid time value");var N=Zv(A),j=BL(A,N),P={firstWeekContainsDate:C,weekStartsOn:T,locale:E,_originalDate:A},R=S.match(kpe).map(function(B){var q=B[0];if(q==="p"||q==="P"){var K=h2[q];return K(B,E.formatLong)}return B}).join("").match(_pe).map(function(B){if(B==="''")return"'";var q=B[0];if(q==="'")return Tpe(B);var K=zhe[q];if(K)return!(r!=null&&r.useAdditionalWeekYearTokens)&&KL(B)&&Jv(B,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&HL(B)&&Jv(B,t,String(e)),K(j,B,E.localize,P);if(q.match(Cpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+q+"`");return B}).join("");return R}function Tpe(e){var t=e.match(Spe);return t?t[1].replace(Epe,"'"):e}function Ape(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Qv(e){Be(1,arguments);var t=ze(e),r=t.getDate();return r}function kE(e){Be(1,arguments);var t=ze(e),r=t.getDay();return r}function SE(e){Be(1,arguments);var t=ze(e),r=t.getFullYear(),n=t.getMonth(),a=new Date(0);return a.setFullYear(r,n+1,0),a.setHours(0,0,0,0),a.getDate()}function jpe(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getTime()>n.getTime()}function ZN(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getTime()<n.getTime()}function _1(e){return Be(1,arguments),ze(e).getTime()>Date.now()}function JN(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Ppe(e,t){if(e){if(typeof e=="string")return JN(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?JN(e,t):void 0}}function QN(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ppe(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(c){throw c},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,i=!0,o=!1;return{s:function(){r=r.call(e)},n:function(){var c=r.next();return i=c.done,c},e:function(c){o=!0,s=c},f:function(){try{i||r.return==null||r.return()}finally{if(o)throw s}}}}function Ce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p2(e,t){return p2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},p2(e,t)}function et(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p2(e,t)}function eg(e){return eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},eg(e)}function YL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YL=function(){return!!e})()}function Npe(e,t){if(t&&(Ui(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ce(e)}function tt(e){var t=YL();return function(){var r,n=eg(e);if(t){var a=eg(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Npe(this,r)}}function Ge(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ope(e,t){if(Ui(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ui(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XL(e){var t=Ope(e,"string");return Ui(t)=="symbol"?t:t+""}function Dpe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XL(n.key),n)}}function qe(e,t,r){return t&&Dpe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Mpe=10,ZL=function(){function e(){Ge(this,e),we(this,"priority",void 0),we(this,"subPriority",0)}return qe(e,[{key:"validate",value:function(r,n){return!0}}]),e}(),Ipe=function(e){et(r,e);var t=tt(r);function r(n,a,s,i,o){var l;return Ge(this,r),l=t.call(this),l.value=n,l.validateValue=a,l.setValue=s,l.priority=i,o&&(l.subPriority=o),l}return qe(r,[{key:"validate",value:function(a,s){return this.validateValue(a,this.value,s)}},{key:"set",value:function(a,s,i){return this.setValue(a,s,this.value,i)}}]),r}(ZL),Rpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",Mpe),we(Ce(n),"subPriority",-1),n}return qe(r,[{key:"set",value:function(a,s){if(s.timestampIsSet)return a;var i=new Date(0);return i.setFullYear(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()),i.setHours(a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()),i}}]),r}(ZL),nt=function(){function e(){Ge(this,e),we(this,"incompatibleTokens",void 0),we(this,"priority",void 0),we(this,"subPriority",void 0)}return qe(e,[{key:"run",value:function(r,n,a,s){var i=this.parse(r,n,a,s);return i?{setter:new Ipe(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(r,n,a){return!0}}]),e}(),Fpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",140),we(Ce(n),"incompatibleTokens",["R","u","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"G":case"GG":case"GGG":return i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"});case"GGGGG":return i.era(a,{width:"narrow"});case"GGGG":default:return i.era(a,{width:"wide"})||i.era(a,{width:"abbreviated"})||i.era(a,{width:"narrow"})}}},{key:"set",value:function(a,s,i){return s.era=i,a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),mr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Fs={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function vr(e,t){return e&&{value:t(e.value),rest:e.rest}}function Yt(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ls(e,t){var r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};var n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(a*bE+s*yE+i*Ohe),rest:t.slice(r[0].length)}}function JL(e){return Yt(mr.anyDigitsSigned,e)}function ur(e,t){switch(e){case 1:return Yt(mr.singleDigit,t);case 2:return Yt(mr.twoDigits,t);case 3:return Yt(mr.threeDigits,t);case 4:return Yt(mr.fourDigits,t);default:return Yt(new RegExp("^\\d{1,"+e+"}"),t)}}function tg(e,t){switch(e){case 1:return Yt(mr.singleDigitSigned,t);case 2:return Yt(mr.twoDigitsSigned,t);case 3:return Yt(mr.threeDigitsSigned,t);case 4:return Yt(mr.fourDigitsSigned,t);default:return Yt(new RegExp("^-?\\d{1,"+e+"}"),t)}}function EE(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function QL(e,t){var r=t>0,n=r?t:1-t,a;if(n<=50)a=e||100;else{var s=n+50,i=Math.floor(s/100)*100,o=e>=s%100;a=e+i-(o?100:0)}return r?a:1-a}function e$(e){return e%400===0||e%4===0&&e%100!==0}var Lpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="yy"}};switch(s){case"y":return vr(ur(4,a),o);case"yo":return vr(i.ordinalNumber(a,{unit:"year"}),o);default:return vr(ur(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i){var o=a.getUTCFullYear();if(i.isTwoDigitYear){var l=QL(i.year,o);return a.setUTCFullYear(l,0,1),a.setUTCHours(0,0,0,0),a}var c=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(c,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),$pe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return{year:c,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return vr(ur(4,a),o);case"Yo":return vr(i.ordinalNumber(a,{unit:"year"}),o);default:return vr(ur(s.length,a),o)}}},{key:"validate",value:function(a,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(a,s,i,o){var l=_E(a,o);if(i.isTwoDigitYear){var c=QL(i.year,l);return a.setUTCFullYear(c,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),ec(a,o)}var u=!("era"in s)||s.era===1?i.year:1-i.year;return a.setUTCFullYear(u,0,o.firstWeekContainsDate),a.setUTCHours(0,0,0,0),ec(a,o)}}]),r}(nt),Bpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){return tg(s==="R"?4:s.length,a)}},{key:"set",value:function(a,s,i){var o=new Date(0);return o.setUTCFullYear(i,0,4),o.setUTCHours(0,0,0,0),Uu(o)}}]),r}(nt),zpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",130),we(Ce(n),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){return tg(s==="u"?4:s.length,a)}},{key:"set",value:function(a,s,i){return a.setUTCFullYear(i,0,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Upe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",120),we(Ce(n),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"Q":case"QQ":return ur(s.length,a);case"Qo":return i.ordinalNumber(a,{unit:"quarter"});case"QQQ":return i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(a,{width:"wide",context:"formatting"})||i.quarter(a,{width:"abbreviated",context:"formatting"})||i.quarter(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Vpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",120),we(Ce(n),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"q":case"qq":return ur(s.length,a);case"qo":return i.ordinalNumber(a,{unit:"quarter"});case"qqq":return i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(a,{width:"wide",context:"standalone"})||i.quarter(a,{width:"abbreviated",context:"standalone"})||i.quarter(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=1&&s<=4}},{key:"set",value:function(a,s,i){return a.setUTCMonth((i-1)*3,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Wpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),we(Ce(n),"priority",110),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"M":return vr(Yt(mr.month,a),o);case"MM":return vr(ur(2,a),o);case"Mo":return vr(i.ordinalNumber(a,{unit:"month"}),o);case"MMM":return i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(a,{width:"wide",context:"formatting"})||i.month(a,{width:"abbreviated",context:"formatting"})||i.month(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Hpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",110),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c-1};switch(s){case"L":return vr(Yt(mr.month,a),o);case"LL":return vr(ur(2,a),o);case"Lo":return vr(i.ordinalNumber(a,{unit:"month"}),o);case"LLL":return i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(a,{width:"wide",context:"standalone"})||i.month(a,{width:"abbreviated",context:"standalone"})||i.month(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){return a.setUTCMonth(i,1),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function Kpe(e,t,r){Be(2,arguments);var n=ze(e),a=gr(t),s=VL(n,r)-a;return n.setUTCDate(n.getUTCDate()-s*7),n}var Gpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",100),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"w":return Yt(mr.week,a);case"wo":return i.ordinalNumber(a,{unit:"week"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i,o){return ec(Kpe(a,i,o),o)}}]),r}(nt);function qpe(e,t){Be(2,arguments);var r=ze(e),n=gr(t),a=UL(r)-n;return r.setUTCDate(r.getUTCDate()-a*7),r}var Ype=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",100),we(Ce(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"I":return Yt(mr.week,a);case"Io":return i.ordinalNumber(a,{unit:"week"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=53}},{key:"set",value:function(a,s,i){return Uu(qpe(a,i))}}]),r}(nt),Xpe=[31,28,31,30,31,30,31,31,30,31,30,31],Zpe=[31,29,31,30,31,30,31,31,30,31,30,31],Jpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"subPriority",1),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"d":return Yt(mr.date,a);case"do":return i.ordinalNumber(a,{unit:"date"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=e$(i),l=a.getUTCMonth();return o?s>=1&&s<=Zpe[l]:s>=1&&s<=Xpe[l]}},{key:"set",value:function(a,s,i){return a.setUTCDate(i),a.setUTCHours(0,0,0,0),a}}]),r}(nt),Qpe=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"subpriority",1),we(Ce(n),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"D":case"DD":return Yt(mr.dayOfYear,a);case"Do":return i.ordinalNumber(a,{unit:"date"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){var i=a.getUTCFullYear(),o=e$(i);return o?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(a,s,i){return a.setUTCMonth(0,i),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function CE(e,t,r){var n,a,s,i,o,l,c,u;Be(2,arguments);var f=Qo(),h=gr((n=(a=(s=(i=r==null?void 0:r.weekStartsOn)!==null&&i!==void 0?i:r==null||(o=r.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&a!==void 0?a:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=ze(e),m=gr(t),v=p.getUTCDay(),g=m%7,x=(g+7)%7,b=(x<h?7:0)+m-v;return p.setUTCDate(p.getUTCDate()+b),p}var eme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["D","i","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"E":case"EE":case"EEE":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=CE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt),tme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"e":case"ee":return vr(ur(s.length,a),l);case"eo":return vr(i.ordinalNumber(a,{unit:"day"}),l);case"eee":return i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeeee":return i.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=CE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt),rme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i,o){var l=function(u){var f=Math.floor((u-1)/7)*7;return(u+o.weekStartsOn+6)%7+f};switch(s){case"c":case"cc":return vr(ur(s.length,a),l);case"co":return vr(i.ordinalNumber(a,{unit:"day"}),l);case"ccc":return i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"ccccc":return i.day(a,{width:"narrow",context:"standalone"});case"cccccc":return i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(a,{width:"wide",context:"standalone"})||i.day(a,{width:"abbreviated",context:"standalone"})||i.day(a,{width:"short",context:"standalone"})||i.day(a,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(a,s){return s>=0&&s<=6}},{key:"set",value:function(a,s,i,o){return a=CE(a,i,o),a.setUTCHours(0,0,0,0),a}}]),r}(nt);function nme(e,t){Be(2,arguments);var r=gr(t);r%7===0&&(r=r-7);var n=1,a=ze(e),s=a.getUTCDay(),i=r%7,o=(i+7)%7,l=(o<n?7:0)+r-s;return a.setUTCDate(a.getUTCDate()+l),a}var ame=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",90),we(Ce(n),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){var o=function(c){return c===0?7:c};switch(s){case"i":case"ii":return ur(s.length,a);case"io":return i.ordinalNumber(a,{unit:"day"});case"iii":return vr(i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiii":return vr(i.day(a,{width:"narrow",context:"formatting"}),o);case"iiiiii":return vr(i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o);case"iiii":default:return vr(i.day(a,{width:"wide",context:"formatting"})||i.day(a,{width:"abbreviated",context:"formatting"})||i.day(a,{width:"short",context:"formatting"})||i.day(a,{width:"narrow",context:"formatting"}),o)}}},{key:"validate",value:function(a,s){return s>=1&&s<=7}},{key:"set",value:function(a,s,i){return a=nme(a,i),a.setUTCHours(0,0,0,0),a}}]),r}(nt),sme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["b","B","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"a":case"aa":case"aaa":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(EE(i),0,0,0),a}}]),r}(nt),ime=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["a","B","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"b":case"bb":case"bbb":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(EE(i),0,0,0),a}}]),r}(nt),ome=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",80),we(Ce(n),"incompatibleTokens",["a","b","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"B":case"BB":case"BBB":return i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(a,{width:"wide",context:"formatting"})||i.dayPeriod(a,{width:"abbreviated",context:"formatting"})||i.dayPeriod(a,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(a,s,i){return a.setUTCHours(EE(i),0,0,0),a}}]),r}(nt),lme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["H","K","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"h":return Yt(mr.hour12h,a);case"ho":return i.ordinalNumber(a,{unit:"hour"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=12}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):!o&&i===12?a.setUTCHours(0,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(nt),cme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["a","b","h","K","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"H":return Yt(mr.hour23h,a);case"Ho":return i.ordinalNumber(a,{unit:"hour"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=23}},{key:"set",value:function(a,s,i){return a.setUTCHours(i,0,0,0),a}}]),r}(nt),ume=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["h","H","k","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"K":return Yt(mr.hour11h,a);case"Ko":return i.ordinalNumber(a,{unit:"hour"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=11}},{key:"set",value:function(a,s,i){var o=a.getUTCHours()>=12;return o&&i<12?a.setUTCHours(i+12,0,0,0):a.setUTCHours(i,0,0,0),a}}]),r}(nt),dme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",70),we(Ce(n),"incompatibleTokens",["a","b","h","H","K","t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"k":return Yt(mr.hour24h,a);case"ko":return i.ordinalNumber(a,{unit:"hour"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=1&&s<=24}},{key:"set",value:function(a,s,i){var o=i<=24?i%24:i;return a.setUTCHours(o,0,0,0),a}}]),r}(nt),fme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",60),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"m":return Yt(mr.minute,a);case"mo":return i.ordinalNumber(a,{unit:"minute"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCMinutes(i,0,0),a}}]),r}(nt),hme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",50),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s,i){switch(s){case"s":return Yt(mr.second,a);case"so":return i.ordinalNumber(a,{unit:"second"});default:return ur(s.length,a)}}},{key:"validate",value:function(a,s){return s>=0&&s<=59}},{key:"set",value:function(a,s,i){return a.setUTCSeconds(i,0),a}}]),r}(nt),pme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",30),we(Ce(n),"incompatibleTokens",["t","T"]),n}return qe(r,[{key:"parse",value:function(a,s){var i=function(l){return Math.floor(l*Math.pow(10,-s.length+3))};return vr(ur(s.length,a),i)}},{key:"set",value:function(a,s,i){return a.setUTCMilliseconds(i),a}}]),r}(nt),mme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",10),we(Ce(n),"incompatibleTokens",["t","T","x"]),n}return qe(r,[{key:"parse",value:function(a,s){switch(s){case"X":return Ls(Fs.basicOptionalMinutes,a);case"XX":return Ls(Fs.basic,a);case"XXXX":return Ls(Fs.basicOptionalSeconds,a);case"XXXXX":return Ls(Fs.extendedOptionalSeconds,a);case"XXX":default:return Ls(Fs.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(nt),vme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",10),we(Ce(n),"incompatibleTokens",["t","T","X"]),n}return qe(r,[{key:"parse",value:function(a,s){switch(s){case"x":return Ls(Fs.basicOptionalMinutes,a);case"xx":return Ls(Fs.basic,a);case"xxxx":return Ls(Fs.basicOptionalSeconds,a);case"xxxxx":return Ls(Fs.extendedOptionalSeconds,a);case"xxx":default:return Ls(Fs.extended,a)}}},{key:"set",value:function(a,s,i){return s.timestampIsSet?a:new Date(a.getTime()-i)}}]),r}(nt),gme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",40),we(Ce(n),"incompatibleTokens","*"),n}return qe(r,[{key:"parse",value:function(a){return JL(a)}},{key:"set",value:function(a,s,i){return[new Date(i*1e3),{timestampIsSet:!0}]}}]),r}(nt),xme=function(e){et(r,e);var t=tt(r);function r(){var n;Ge(this,r);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return n=t.call.apply(t,[this].concat(s)),we(Ce(n),"priority",20),we(Ce(n),"incompatibleTokens","*"),n}return qe(r,[{key:"parse",value:function(a){return JL(a)}},{key:"set",value:function(a,s,i){return[new Date(i),{timestampIsSet:!0}]}}]),r}(nt),yme={G:new Fpe,y:new Lpe,Y:new $pe,R:new Bpe,u:new zpe,Q:new Upe,q:new Vpe,M:new Wpe,L:new Hpe,w:new Gpe,I:new Ype,d:new Jpe,D:new Qpe,E:new eme,e:new tme,c:new rme,i:new ame,a:new sme,b:new ime,B:new ome,h:new lme,H:new cme,K:new ume,k:new dme,m:new fme,s:new hme,S:new pme,X:new mme,x:new vme,t:new gme,T:new xme},bme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,wme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_me=/^'([^]*?)'?$/,kme=/''/g,Sme=/\S/,Eme=/[a-zA-Z]/;function Cme(e,t,r,n){var a,s,i,o,l,c,u,f,h,p,m,v,g,x;Be(3,arguments);var b=String(e),y=String(t),_=Qo(),S=(a=(s=void 0)!==null&&s!==void 0?s:_.locale)!==null&&a!==void 0?a:qL;if(!S.match)throw new RangeError("locale must contain match property");var k=gr((i=(o=(l=(c=void 0)!==null&&c!==void 0?c:void 0)!==null&&l!==void 0?l:_.firstWeekContainsDate)!==null&&o!==void 0?o:(u=_.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=gr((h=(p=(m=(v=void 0)!==null&&v!==void 0?v:void 0)!==null&&m!==void 0?m:_.weekStartsOn)!==null&&p!==void 0?p:(g=_.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&h!==void 0?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(y==="")return b===""?ze(r):new Date(NaN);var C={firstWeekContainsDate:k,weekStartsOn:E,locale:S},T=[new Rpe],A=y.match(wme).map(function(G){var H=G[0];if(H in h2){var Q=h2[H];return Q(G,S.formatLong)}return G}).join("").match(bme),N=[],j=QN(A),P;try{var R=function(){var H=P.value;!(n!=null&&n.useAdditionalWeekYearTokens)&&KL(H)&&Jv(H,y,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&HL(H)&&Jv(H,y,e);var Q=H[0],oe=yme[Q];if(oe){var le=oe.incompatibleTokens;if(Array.isArray(le)){var Y=N.find(function(ue){return le.includes(ue.token)||ue.token===Q});if(Y)throw new RangeError("The format string mustn't contain `".concat(Y.fullToken,"` and `").concat(H,"` at the same time"))}else if(oe.incompatibleTokens==="*"&&N.length>0)throw new RangeError("The format string mustn't contain `".concat(H,"` and any other token at the same time"));N.push({token:Q,fullToken:H});var te=oe.run(b,H,S.match,C);if(!te)return{v:new Date(NaN)};T.push(te.setter),b=te.rest}else{if(Q.match(Eme))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");if(H==="''"?H="'":Q==="'"&&(H=Tme(H)),b.indexOf(H)===0)b=b.slice(H.length);else return{v:new Date(NaN)}}};for(j.s();!(P=j.n()).done;){var B=R();if(Ui(B)==="object")return B.v}}catch(G){j.e(G)}finally{j.f()}if(b.length>0&&Sme.test(b))return new Date(NaN);var q=T.map(function(G){return G.priority}).sort(function(G,H){return H-G}).filter(function(G,H,Q){return Q.indexOf(G)===H}).map(function(G){return T.filter(function(H){return H.priority===G}).sort(function(H,Q){return Q.subPriority-H.subPriority})}).map(function(G){return G[0]}),K=ze(r);if(isNaN(K.getTime()))return new Date(NaN);var X=BL(K,Zv(K)),I={},J=QN(q),Z;try{for(J.s();!(Z=J.n()).done;){var M=Z.value;if(!M.validate(X,C))return new Date(NaN);var z=M.set(X,I,C);Array.isArray(z)?(X=z[0],Ape(I,z[1])):X=z}}catch(G){J.e(G)}finally{J.f()}return X}function Tme(e){return e.match(_me)[1].replace(kme,"'")}function g0(e,t){Be(2,arguments);var r=ze(e),n=ze(t);return r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()}function Oo(e,t){Be(2,arguments);var r=ze(e).getTime(),n=ze(t.start).getTime(),a=ze(t.end).getTime();if(!(n<=a))throw new RangeError("Invalid interval");return r>=n&&r<=a}function jt(e,t){Be(2,arguments);var r=gr(t);return Xv(e,-r)}function en(e,t){var r;Be(1,arguments);var n=gr((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Nme(e),s;if(a.date){var i=Ome(a.date,n);s=Dme(i.restDateString,i.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var o=s.getTime(),l=0,c;if(a.time&&(l=Mme(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Ime(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var Pp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ame=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,jme=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Nme(e){var t={},r=e.split(Pp.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Pp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Pp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=Pp.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Ome(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Dme(e,t){if(t===null)return new Date(NaN);var r=e.match(Ame);if(!r)return new Date(NaN);var n=!!r[4],a=Ld(r[1]),s=Ld(r[2])-1,i=Ld(r[3]),o=Ld(r[4]),l=Ld(r[5])-1;if(n)return Bme(t,o,l)?Rme(t,o,l):new Date(NaN);var c=new Date(0);return!Lme(t,s,i)||!$me(t,a)?new Date(NaN):(c.setUTCFullYear(t,s,Math.max(a,i)),c)}function Ld(e){return e?parseInt(e):1}function Mme(e){var t=e.match(jme);if(!t)return NaN;var r=k1(t[1]),n=k1(t[2]),a=k1(t[3]);return zme(r,n,a)?r*bE+n*yE+a*1e3:NaN}function k1(e){return e&&parseFloat(e.replace(",","."))||0}function Ime(e){if(e==="Z")return 0;var t=e.match(Pme);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Ume(n,a)?r*(n*bE+a*yE):NaN}function Rme(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}var Fme=[31,null,31,30,31,30,31,31,30,31,30,31];function t$(e){return e%400===0||e%4===0&&e%100!==0}function Lme(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Fme[t]||(t$(e)?29:28))}function $me(e,t){return t>=1&&t<=(t$(e)?366:365)}function Bme(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function zme(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Ume(e,t){return t>=0&&t<=59}function Vu(e,t){Be(2,arguments);var r=gr(t);return xE(e,-r)}const gm=e=>{if(typeof e=="string"){const s=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(s)return`${s[1]}-${s[2]}-${s[3]}`}const t=typeof e=="string"?new Date(e):e;if(isNaN(t.getTime()))return"UNKNOWN";const r=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${n}-${a}`},TE=e=>{if(!e)return null;try{if(typeof e=="number"||typeof e=="string"&&!isNaN(Number(e))&&!e.includes("/")&&!e.includes("-")){const i=Number(e),l=Math.floor(i-25569)*86400,c=new Date(l*1e3),u=i-Math.floor(i)+1e-7,f=Math.floor(86400*u),h=f%60,p=Math.floor(f/60)%60,m=Math.floor(f/(60*60));return new Date(c.getFullYear(),c.getMonth(),c.getDate(),m,p,h)}const t=e.toString().trim();if(t.includes("/")){const i=t.split("/");if(i.length===3){const o=parseInt(i[0],10),l=parseInt(i[1],10);let c=parseInt(i[2],10);c<100&&(c+=2e3);let u=o,f=l,h=new Date(c,f-1,u);if(h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u||(u=l,f=o,h=new Date(c,f-1,u),h.getFullYear()===c&&h.getMonth()===f-1&&h.getDate()===u))return h}}if(t.includes("-")){const i=t.split("-");if(i.length>=3&&!isNaN(parseInt(i[1]))){const o=parseInt(i[0],10),l=parseInt(i[1],10),c=i[2].split("T")[0].split(" ")[0],u=parseInt(c,10);if(!isNaN(o)&&!isNaN(l)&&!isNaN(u))return new Date(o,l-1,u)}}const r={jan:0,fev:1,mar:2,abr:3,mai:4,jun:5,jul:6,ago:7,set:8,out:9,nov:10,dez:11,january:0,february:1,march:2,april:3,may:4,june:5,july:6,august:7,september:8,october:9,november:10,december:11},n=t.toLowerCase().match(/(\d{1,2})[\s\-\/de]+([a-z]+)[\s\-\/de]+(\d{2,4})/);if(n){const i=parseInt(n[1],10),o=n[2],l=Object.keys(r).find(u=>o.includes(u)||u.includes(o));let c=parseInt(n[3],10);if(c<100&&(c+=2e3),l!==void 0){const u=r[l];return new Date(c,u,i)}}let a=t;a.endsWith("Z")&&(a=a.slice(0,-1));const s=new Date(a);return isNaN(s.getTime())?null:s}catch{return null}},Vme=({data:e,currentGoal:t,selectedBU:r,onPointClick:n})=>{var y;const[a,s]=w.useState(0),i=new Date,o=t.mes,l=en(`${o}-01`),c=SE(l),u=g0(i,l),f=w.useMemo(()=>{if(!u)return c;const _=Object.keys(e).filter(k=>k.startsWith(o)).sort();if(_.length>0){const k=en(_[_.length-1]);return Qv(k)}const S=Qv(i);return Math.min(S,c)},[e,o,u,c,i]),h=u?f:c,p=c-h,m=w.useMemo(()=>{let _=0,S=0,k=0;return Object.entries(e).forEach(([E,C])=>{E.startsWith(o)&&C.forEach(T=>{r&&T.bu!==r||(_+=T.kpis.cartoes||0,S+=T.kpis.aprovados||0,k+=T.kpis.custoTotal||0)})}),{cartoes:_,aprovacoes:S,custo:k,cac:_>0?k/_:0}},[e,o,r]),v=w.useMemo(()=>{const _=h>0?m.cartoes/h:0,S=h>0?m.aprovacoes/h:0,k=m.cartoes+_*p,E=m.aprovacoes+S*p,C=k*(1+a/100);return{cartoes:Math.round(k),aprovacoes:Math.round(E),simulatedCartoes:Math.round(C),rateCartoes:_}},[m,h,p,a]),g=w.useMemo(()=>{const _=t.cartoes_meta||0,S=Math.max(0,_-m.cartoes);return{daily:p>0?Math.ceil(S/p):0,gap:S}},[t,m,p]),x=w.useMemo(()=>{const _=[],S=(t.cartoes_meta||0)/c;let k=0,E=0,C=0;const T=Object.keys(e).slice(0,3);console.log(" Projections Debug:",{currentMonthStr:o,sampleDataKeys:T,firstDayGenerated:gm(`${o}-01`),hasDataForFirstDay:!!e[gm(`${o}-01`)]});for(let A=1;A<=c;A++){const N=`${o}-${String(A).padStart(2,"0")}`,j=gm(N);let P=0;A<=h?((e[j]||[]).forEach(B=>{r&&B.bu!==r||(P+=B.kpis.cartoes||0)}),k+=P,E=k):E+=v.rateCartoes*(1+a/100),C+=S,_.push({day:A,label:`${A}/${o.split("-")[1]}`,realizado:A<=h?k:null,projetado:Math.round(E),meta:Math.round(C)})}return _},[e,o,c,h,t,v.rateCartoes,a,r]),b=_=>{if(_&&_.activePayload&&_.activePayload[0]&&n){const k=_.activePayload[0].payload.day,E=en(`${o}-${String(k).padStart(2,"0")}`);n(E)}};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 min-w-0",children:[d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(Mn,{size:20,className:"text-blue-400"}),"Projeo do Ms"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-900/50 rounded-lg p-4 border border-slate-700",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-1",children:"Projeo de Fechamento"}),d.jsx("div",{className:"text-3xl font-bold text-white mb-1",children:v.cartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[d.jsxs("span",{className:"text-slate-500",children:["Meta: ",(t.cartoes_meta||0).toLocaleString("pt-BR")]}),v.cartoes>=(t.cartoes_meta||0)?d.jsxs("span",{className:"text-emerald-400 font-bold flex items-center gap-1",children:[d.jsx(Mn,{size:12})," Atingir"]}):d.jsxs("span",{className:"text-red-400 font-bold flex items-center gap-1",children:[d.jsx(Qu,{size:12})," Abaixo"]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsxs("span",{className:"text-slate-400",children:["Realizado (",h," dias)"]}),d.jsx("span",{className:"text-slate-200 font-mono",children:m.cartoes.toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm border-b border-slate-700 pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Ritmo Atual (dia)"}),d.jsx("span",{className:"text-slate-200 font-mono",children:Math.round(v.rateCartoes).toLocaleString("pt-BR")})]}),d.jsxs("div",{className:"flex justify-between items-center text-sm pb-2",children:[d.jsx("span",{className:"text-slate-400",children:"Gap para Meta"}),d.jsx("span",{className:"text-red-400 font-mono font-bold",children:g.gap.toLocaleString("pt-BR")})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(kl,{size:20,className:"text-amber-400"}),"Quanto Preciso Fazer?"]}),d.jsxs("div",{className:"flex flex-col items-center justify-center h-[200px]",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Para bater a meta, voc precisa de:"}),d.jsx("div",{className:"text-5xl font-bold text-amber-400 mb-2",children:g.daily.toLocaleString("pt-BR")}),d.jsx("div",{className:"text-sm text-slate-300",children:"cartes / dia"})]}),d.jsxs("div",{className:"w-full bg-slate-900/50 rounded p-3 text-xs text-center text-slate-400",children:["Restam ",d.jsx("span",{className:"text-white font-bold",children:p})," dias teis comerciais (aprox)"]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 lg:col-span-1",children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-100 mb-4 flex items-center gap-2",children:[d.jsx(Gi,{size:20,className:"text-purple-400"}),"Simulador de Cenrios"]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Impacto de Nova Campanha (% Converso)"}),d.jsx("input",{type:"range",min:"-20",max:"50",step:"5",value:a,onChange:_=>s(Number(_.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-purple-500"}),d.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[d.jsx("span",{children:"-20%"}),d.jsxs("span",{className:"text-purple-400 font-bold",children:["+",a,"%"]}),d.jsx("span",{children:"+50%"})]})]}),d.jsxs("div",{className:"bg-purple-900/20 border border-purple-900/50 rounded-lg p-4",children:[d.jsx("div",{className:"text-sm text-purple-300 mb-1",children:"Resultado Simulado"}),d.jsxs("div",{className:"flex items-end justify-between",children:[d.jsx("div",{className:"text-2xl font-bold text-white",children:v.simulatedCartoes.toLocaleString("pt-BR")}),d.jsxs("div",{className:`text-sm font-bold ${v.simulatedCartoes>v.cartoes?"text-green-400":"text-slate-400"}`,children:[v.simulatedCartoes>v.cartoes?"+":"",(v.simulatedCartoes-v.cartoes).toLocaleString("pt-BR")]})]})]})]})]})]}),d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-6",children:"Evoluo: Realizado vs. Projetado vs. Meta"}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:x,margin:{top:5,right:30,left:20,bottom:5},onClick:b,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(ot,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Pt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Ar,{type:"monotone",dataKey:"realizado",name:"Realizado",stroke:"#3b82f6",strokeWidth:3,dot:{r:4,fill:"#3b82f6",strokeWidth:0}}),d.jsx(Ar,{type:"monotone",dataKey:"projetado",name:"Projeo",stroke:"#94a3b8",strokeWidth:2,strokeDasharray:"5 5",dot:!1}),d.jsx(Ar,{type:"monotone",dataKey:"meta",name:"Meta Ideal",stroke:"#ef4444",strokeWidth:2,dot:!1}),u&&d.jsx(Kx,{x:(y=x[h-1])==null?void 0:y.label,stroke:"#fbbf24",strokeDasharray:"3 3",label:"Hoje"})]})})})]})]})},Wme=nk()(ak((e,t)=>({metas:[],setMeta:r=>{const n=`${r.mes}-${r.bu}`,a=new Date().toISOString();e(s=>{const i=s.metas.findIndex(o=>o.mes===r.mes&&o.bu===r.bu);if(i>=0){const o=[...s.metas];return o[i]={...o[i],...r,updated_at:a},{metas:o}}else return{metas:[...s.metas,{id:n,...r,created_at:a,updated_at:a}]}})},getMeta:(r,n)=>t().metas.find(a=>a.mes===r&&a.bu===n),getMetasMes:r=>t().metas.filter(n=>n.mes===r),deleteMeta:r=>{e(n=>({metas:n.metas.filter(a=>a.id!==r)}))},getMetaConsolidada:r=>{const n=t().metas.filter(a=>a.mes===r);return n.length===0?{cartoes_meta:0,pedidos_meta:0,cac_max_medio:0}:{cartoes_meta:n.reduce((a,s)=>a+s.cartoes_meta,0),pedidos_meta:n.reduce((a,s)=>a+s.pedidos_meta,0),cac_max_medio:n.reduce((a,s)=>a+s.cac_max,0)/n.length}}}),{name:"growth-brain-metas",version:1})),Hme=()=>{const{getMetasMes:e,setMeta:t}=Wme();return{getGoal:a=>{const s=e(a),i={mes:a,cartoes_meta:0,aprovacoes_meta:0,cac_max:0,bus:{}};if(s.length===0)return i;let o=0,l=0,c=0;return s.forEach(u=>{o+=u.cartoes_meta,l+=u.pedidos_meta,c+=u.cac_max,i.bus||(i.bus={}),i.bus[u.bu]={cartoes:u.cartoes_meta,aprovacoes:u.pedidos_meta,cac:u.cac_max}}),i.cartoes_meta=o,i.aprovacoes_meta=l,i.cac_max=s.length>0?c/s.length:0,i},saveGoal:a=>{a.bus?Object.entries(a.bus).forEach(([s,i])=>{t({mes:a.mes,bu:s,cartoes_meta:i.cartoes,pedidos_meta:i.aprovacoes,cac_max:i.cac})}):console.warn("saveGoal called without BU breakdown. This might result in data loss in the new store.")}}},jh=({date:e,activities:t,anomalyFilters:r=[],onClose:n,onEdit:a,onConfirmDraft:s,titleOverride:i})=>{if(!e&&!i)return null;const o=t.filter(l=>{if(r.length===0)return!0;const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),u=c.includes("aguardando")||c.includes("confirmar"),f=String(l.raw["Disparado?"]||"").toLowerCase().trim(),h=["sim","s","yes","y","enviado","ok","true","1"].includes(f),p=h&&(l.kpis.baseEnviada||0)===0,m=h&&(l.kpis.baseEntregue||0)===0,v=h&&(l.kpis.taxaAbertura||0)===0;return!!(r.includes("pending")&&u||r.includes("no_sent")&&p||r.includes("no_delivered")&&m||r.includes("no_open")&&v)});return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[80vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:i||`Detalhes do Dia: ${e==null?void 0:e.toLocaleDateString("pt-BR")}`}),d.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[o.length," atividades registradas ",r.length>0&&"(Filtrado)"]})]}),d.jsx("button",{onClick:n,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:o.map(l=>{const c=String(l.raw["Cartes Gerados"]||"").toLowerCase().trim(),u=c.includes("aguardando")||c.includes("confirmar"),h=(l.raw.status||l.raw.Status||"Realizado")==="Rascunho",m=h?"border-slate-700/50":{B2C:"border-blue-500/50 bg-blue-500/5",B2B2C:"border-purple-500/50 bg-purple-500/5",Plurix:"border-green-500/50 bg-green-500/5"}[l.bu]||"border-slate-700/50";return d.jsxs("div",{className:`bg-slate-800/50 border rounded-lg p-3 transition ${m}`,children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-100 mb-1",children:l.id}),d.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[d.jsx("span",{className:"px-2 py-0.5 bg-blue-500/20 text-blue-400 rounded",children:l.bu}),d.jsx("span",{className:"px-2 py-0.5 bg-purple-500/20 text-purple-400 rounded",children:l.canal}),u&&d.jsx("span",{className:"px-2 py-0.5 bg-amber-500/20 text-amber-400 rounded",children:"Pendente"}),h&&d.jsx("span",{className:"px-2 py-0.5 bg-slate-500/20 text-slate-400 rounded",children:"Rascunho"})]})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[h&&s&&d.jsx("button",{onClick:()=>s(l),className:"p-1.5 hover:bg-green-900/30 rounded transition text-green-500 hover:text-green-400 border border-green-500/30",title:"Confirmar disparo",children:d.jsx(J_,{size:14})}),a&&d.jsx("button",{onClick:()=>a(l),className:"p-1.5 hover:bg-slate-700 rounded transition text-slate-400 hover:text-blue-400",title:"Editar disparo",children:d.jsx(ek,{size:14})})]})]}),d.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Enviado ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Entregue ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:l.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Cartes ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:l.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Converso ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[l.kpis.taxaConversao?(l.kpis.taxaConversao*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["Custo ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.custoTotal||0)})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsxs("div",{className:"text-[10px] text-slate-500 mb-0.5 flex items-center gap-1",children:["CAC ",d.jsx(aa,{size:10,className:"opacity-30"})]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(l.kpis.cac||0)})]})]})]},l.id)})}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:n,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},Kme=({resultados:e,data:t,selectedBU:r})=>{var k;const[n,a]=w.useState(!1),{getGoal:s,saveGoal:i}=Hme(),[o,l]=w.useState(!1),[c,u]=w.useState([]),[f,h]=w.useState(null),p=E=>{const C=t[E]||[],[T,A,N]=E.split("-").map(Number);h(new Date(T,A-1,N)),u(C),l(!0)},m=((k=Object.keys(t).sort().pop())==null?void 0:k.substring(0,7))||new Date().toISOString().substring(0,7),v=s(m),g=w.useMemo(()=>r&&v.bus&&v.bus[r]?{mes:v.mes,cartoes_meta:v.bus[r].cartoes,aprovacoes_meta:v.bus[r].aprovacoes,cac_max:v.bus[r].cac}:v,[v,r]),b=Object.values(e).sort((E,C)=>C.totalCartoes-E.totalCartoes).reduce((E,C)=>E+C.totalCartoes,0);let y=0,_=0;Object.values(t).flat().forEach(E=>{y+=E.kpis.aprovados||0,_+=E.kpis.custoTotal||0});const S=b>0?_/b:0;return Object.keys(e).length===0?d.jsx("div",{className:"text-center py-12 text-slate-400",children:"Nenhum resultado registrado"}):d.jsxs("div",{className:"space-y-6",children:[d.jsx(Ehe,{data:t}),d.jsx(Vme,{data:t,currentGoal:g,selectedBU:r,onPointClick:E=>{const C=ke(E,"yyyy-MM-dd");p(C)}}),d.jsx("div",{className:"grid grid-cols-1 gap-6",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Gi,{size:20,className:"text-blue-400"}),"Meta vs. Realizado ",d.jsxs("span",{className:"text-slate-500 text-sm font-normal",children:["(",r||"Global",")"]})]}),d.jsx("button",{onClick:()=>a(!0),className:"text-sm text-blue-400 hover:text-blue-300 hover:underline",children:"Definir Metas"})]}),d.jsx(Che,{goal:g,currentCartoes:b,currentAprovacoes:y,currentCAC:S,scope:r||"Global"})]})}),d.jsx(The,{isOpen:n,onClose:()=>a(!1),onSave:i,initialGoal:v,currentMonthLabel:m}),o&&d.jsx(jh,{date:f,activities:c,onClose:()=>l(!1)})]})};var Gme={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},qme=function(t,r,n){var a,s=Gme[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",String(r)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"em "+a:"h "+a:a},Yme={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},Xme={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zme={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Jme={date:yu({formats:Yme,defaultWidth:"full"}),time:yu({formats:Xme,defaultWidth:"full"}),dateTime:yu({formats:Zme,defaultWidth:"full"})},Qme={lastWeek:function(t){var r=t.getUTCDay(),n=r===0||r===6?"ltimo":"ltima";return"'"+n+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},eve=function(t,r,n,a){var s=Qme[t];return typeof s=="function"?s(r):s},tve={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},rve={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},nve={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},ave={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},sve={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ive={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},ove=function(t,r){var n=Number(t);return(r==null?void 0:r.unit)==="week"?n+"":n+""},lve={ordinalNumber:ove,era:Is({values:tve,defaultWidth:"wide"}),quarter:Is({values:rve,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Is({values:nve,defaultWidth:"wide"}),day:Is({values:ave,defaultWidth:"wide"}),dayPeriod:Is({values:sve,defaultWidth:"wide",formattingValues:ive,defaultFormattingWidth:"wide"})},cve=/^(\d+)[o]?/i,uve=/\d+/i,dve={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},fve={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},hve={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},pve={any:[/1/i,/2/i,/3/i,/4/i]},mve={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},vve={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gve={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},xve={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},yve={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},bve={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},wve={ordinalNumber:GL({matchPattern:cve,parsePattern:uve,valueCallback:function(t){return parseInt(t,10)}}),era:Rs({matchPatterns:dve,defaultMatchWidth:"wide",parsePatterns:fve,defaultParseWidth:"any"}),quarter:Rs({matchPatterns:hve,defaultMatchWidth:"wide",parsePatterns:pve,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rs({matchPatterns:mve,defaultMatchWidth:"wide",parsePatterns:vve,defaultParseWidth:"any"}),day:Rs({matchPatterns:gve,defaultMatchWidth:"wide",parsePatterns:xve,defaultParseWidth:"any"}),dayPeriod:Rs({matchPatterns:yve,defaultMatchWidth:"any",parsePatterns:bve,defaultParseWidth:"any"})},ei={code:"pt-BR",formatDistance:qme,formatLong:Jme,formatRelative:eve,localize:lve,match:wve,options:{weekStartsOn:0,firstWeekContainsDate:1}};const _ve=({data:e,mode:t,anomalyFilters:r=[],onPointClick:n})=>{const[a,s]=w.useState("daily"),[i,o]=w.useState({cartoes:!0,aprovados:!0,propostas:!0}),l=w.useMemo(()=>{const h={};return Object.entries(e).forEach(([p,m])=>{let v=p,g=ke(en(p),"dd/MM",{locale:ei});if(a==="weekly"){const x=en(p),b=el(x,{weekStartsOn:0});v=ke(b,"yyyy-MM-dd"),g=`Semana ${ke(b,"dd/MM")}`}h[v]||(h[v]={date:v,label:g,cartoes:0,aprovados:0,propostas:0,anomalies:0,timestamp:en(v).getTime()}),m.forEach(x=>{if(t==="performance")h[v].cartoes+=x.kpis.cartoes||0,h[v].aprovados+=x.kpis.aprovados||0,h[v].propostas+=x.kpis.propostas||0;else{const b=String(x.raw["Cartes Gerados"]||"").toLowerCase().trim(),y=b.includes("aguardando")||b.includes("confirmar"),_=String(x.raw["Disparado?"]||"").toLowerCase().trim(),S=["sim","s","yes","y","enviado","ok","true","1"].includes(_),k=S&&(x.kpis.baseEnviada||0)===0,E=S&&(x.kpis.baseEntregue||0)===0,C=S&&(x.kpis.taxaAbertura||0)===0;let T=!1;r.length===0?T=y||k||E||C:(r.includes("pending")&&y&&(T=!0),r.includes("no_sent")&&k&&(T=!0),r.includes("no_delivered")&&E&&(T=!0),r.includes("no_open")&&C&&(T=!0)),T&&(h[v].anomalies+=1)}})}),Object.values(h).sort((p,m)=>p.timestamp-m.timestamp)},[e,a,t,r]),c=h=>{const{dataKey:p}=h;o(m=>({...m,[p]:!m[p]}))},u=h=>{if(h&&typeof h.activeIndex=="string"){const p=parseInt(h.activeIndex,10);!isNaN(p)&&l[p]&&n(en(l[p].date))}},f=({active:h,payload:p,label:m})=>h&&p&&p.length?d.jsxs("div",{className:"bg-slate-800 border border-slate-700 p-3 rounded shadow-lg",children:[d.jsx("p",{className:"text-slate-200 font-bold mb-2",children:m}),p.map(v=>d.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[d.jsx("div",{className:"w-2 h-2 rounded-full",style:{backgroundColor:v.color}}),d.jsxs("span",{className:"text-slate-400 capitalize",children:[v.name,":"]}),d.jsx("span",{className:"text-slate-200 font-mono font-bold",children:v.value.toLocaleString("pt-BR")})]},v.name)),d.jsx("p",{className:"text-xs text-slate-500 mt-2 italic",children:"Clique para ver detalhes"})]}):null;return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100",children:t==="performance"?"Evoluo de Performance":"Evoluo de Anomalias"}),d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsx("button",{onClick:()=>s("daily"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="daily"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>s("weekly"),className:`px-3 py-1 text-xs font-medium rounded transition ${a==="weekly"?"bg-blue-600 text-white":"text-slate-400 hover:text-slate-200"}`,children:"Semanal"})]})]}),d.jsx("div",{className:"h-[400px] w-full cursor-pointer",children:d.jsx($t,{width:"100%",height:"100%",children:t==="performance"?d.jsxs(Ci,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(ot,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,tickFormatter:h=>h.toLocaleString("pt-BR")}),d.jsx(Pt,{content:d.jsx(f,{})}),d.jsx(Tn,{onClick:c,wrapperStyle:{paddingTop:"20px"}}),d.jsx(Ar,{type:"monotone",dataKey:"propostas",name:"Propostas",stroke:"#8b5cf6",strokeWidth:2,dot:{r:4,fill:"#8b5cf6",strokeWidth:0},activeDot:{r:6},hide:!i.propostas}),d.jsx(Ar,{type:"monotone",dataKey:"aprovados",name:"Aprovados",stroke:"#10b981",strokeWidth:2,dot:{r:4,fill:"#10b981",strokeWidth:0},activeDot:{r:6},hide:!i.aprovados}),d.jsx(Ar,{type:"monotone",dataKey:"cartoes",name:"Cartes",stroke:"#3b82f6",strokeWidth:2,dot:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:6},hide:!i.cartoes})]}):d.jsxs(Hs,{data:l,margin:{top:5,right:30,left:20,bottom:5},onClick:u,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1,minTickGap:30}),d.jsx(ot,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:12},tickLine:!1,axisLine:!1}),d.jsx(Pt,{content:d.jsx(f,{})}),d.jsx(Tr,{dataKey:"anomalies",name:"Anomalias",fill:"#ef4444",radius:[4,4,0,0]})]})})})]})},zs=({content:e,side:t="top",size:r=14,children:n})=>{const a=w.useRef(null),[s,i]=w.useState(!1),[o,l]=w.useState(null);return w.useEffect(()=>{if(!s||!a.current)return;const c=a.current.getBoundingClientRect(),u=8;let f=c.top,h=c.left;switch(t){case"right":f=c.top+c.height/2,h=c.right+u;break;case"bottom":f=c.bottom+u,h=c.left+c.width/2;break;case"left":f=c.top+c.height/2,h=c.left-u;break;case"top":default:f=c.top-u,h=c.left+c.width/2}const p=window.innerWidth,m=window.innerHeight;h=Math.max(8,Math.min(p-8,h)),f=Math.max(8,Math.min(m-8,f)),l({top:f,left:h})},[s,t]),d.jsxs("span",{ref:a,className:"inline-flex items-center align-middle select-none",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),children:[n||d.jsx(aa,{size:r,className:"text-slate-400 hover:text-slate-300 transition-colors cursor-default"}),s&&o&&B0.createPortal(d.jsx("div",{className:"fixed z-50 opacity-0 animate-[fadeIn_120ms_ease-out_forwards]",style:{top:o.top,left:o.left,transform:t==="top"||t==="bottom"?"translateX(-50%)":"translateY(-50%)"},children:d.jsx("div",{className:"max-w-xs text-xs text-slate-300 bg-slate-900/90 border border-slate-700 rounded-md shadow-xl px-3 py-2 whitespace-pre-line",children:e})}),document.body),d.jsx("style",{children:"@keyframes fadeIn { from { opacity: 0 } to { opacity: 1 } }"})]})},kve=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[],onDayClick:s})=>{const[i,o]=w.useState("conversao"),[l,c]=w.useState("daily"),u=p=>{var m;if(s&&l==="daily"){const v=((m=p.payload)==null?void 0:m.date)||p.date;v&&s(v)}},f=w.useMemo(()=>{const p={};return Object.keys(e).sort().forEach(g=>{const x=e[g].filter(S=>!(t&&S.bu!==t||r.length>0&&!r.includes(S.canal)||n.length>0&&!n.includes(S.segmento)||a.length>0&&!a.includes(S.parceiro)));if(x.length===0)return;let b=g,y=ke(en(g),"dd/MM",{locale:ei}),_=en(g).getTime();if(l==="weekly"){const S=en(g),k=el(S,{weekStartsOn:0});b=ke(k,"yyyy-MM-dd"),y=`Sem ${ke(k,"dd/MM")}`,_=k.getTime()}p[b]||(p[b]={date:b,label:y,timestamp:_,baseEnviada:0,baseEntregue:0,propostas:0,cartoes:0,custo:0,count:0}),x.forEach(S=>{p[b].baseEnviada+=S.kpis.baseEnviada||0,p[b].baseEntregue+=S.kpis.baseEntregue||0,p[b].propostas+=S.kpis.propostas||0,p[b].cartoes+=S.kpis.cartoes||0,p[b].custo+=S.kpis.custoTotal||0,p[b].count+=1})}),Object.values(p).map(g=>{let x=0;switch(i){case"conversao":x=g.baseEnviada>0?g.cartoes/g.baseEnviada*100:0;break;case"cac":x=g.cartoes>0?g.custo/g.cartoes:0;break;case"entrega":x=g.baseEnviada>0?g.baseEntregue/g.baseEnviada*100:0;break;case"abertura":x=g.baseEntregue>0?g.propostas/g.baseEntregue*100:0;break}return{...g,value:Number(x.toFixed(2))}}).sort((g,x)=>g.timestamp-x.timestamp)},[e,t,r,n,a,l,i]),h=w.useMemo(()=>{if(f.length===0)return{avg:0,max:0,maxDate:"",min:0,minDate:""};const p=f.map(_=>_.value),m=Math.max(...p),v=Math.min(...p),x=p.reduce((_,S)=>_+S,0)/p.length,b=f.find(_=>_.value===m),y=f.find(_=>_.value===v);return{avg:x.toFixed(2),max:m.toFixed(2),maxDate:(b==null?void 0:b.label)||"",min:v.toFixed(2),minDate:(y==null?void 0:y.label)||""}},[f]);return d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[d.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[d.jsx("div",{children:d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[" Anlise Temporal",d.jsx(zs,{content:"Evoluo das mtricas ao longo do tempo com comparao e agrupamento."})]})}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Mtrica"}),d.jsxs("select",{value:i,onChange:p=>o(p.target.value),className:"bg-slate-900 border border-slate-700 text-slate-200 text-xs rounded px-2 py-1.5",children:[d.jsx("option",{value:"conversao",children:"Taxa de Converso"}),d.jsx("option",{value:"cac",children:"CAC"}),d.jsx("option",{value:"entrega",children:"Taxa de Entrega"}),d.jsx("option",{value:"abertura",children:"Taxa de Abertura"})]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("label",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"Agrupamento"}),d.jsxs("div",{className:"flex bg-slate-900 rounded p-0.5 border border-slate-700",children:[d.jsx("button",{onClick:()=>c("daily"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="daily"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Dirio"}),d.jsx("button",{onClick:()=>c("weekly"),className:`px-2 py-1 text-xs font-medium rounded transition ${l==="weekly"?"bg-blue-600 text-white":"text-slate-400"}`,children:"Semanal"})]})]})]})]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:f,margin:{top:10,right:30,left:0,bottom:0},children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),d.jsx(Nt,{dataKey:"label",stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(ot,{stroke:"#94a3b8",tick:{fill:"#94a3b8",fontSize:10}}),d.jsx(Pt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155"},formatter:p=>[`${p.toFixed(2)}${i==="cac"?"":"%"}`,i==="cac"?"CAC":"Taxa"]}),d.jsx(Tn,{}),d.jsx(Ar,{type:"monotone",dataKey:"value",name:"Atual",stroke:"#3b82f6",strokeWidth:3,dot:l==="daily"?{r:5,fill:"#3b82f6",strokeWidth:0,cursor:"pointer"}:{r:4,fill:"#3b82f6",strokeWidth:0},activeDot:{r:7},onClick:p=>u(p)})]})})}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700 flex gap-6 text-sm",children:[d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mdia:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.avg,i==="cac"?"":"%"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mx:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.max,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.maxDate,")"]})]}),d.jsxs("div",{children:[d.jsx("span",{className:"text-slate-500 mr-2",children:"Mn:"}),d.jsxs("span",{className:"text-slate-200 font-bold",children:[h.min,i==="cac"?"":"%"]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-1",children:["(",h.minDate,")"]})]})]})]})},Sve=({data:e,selectedBU:t,selectedCanais:r=[],selectedSegmentos:n=[],selectedParceiros:a=[]})=>{const[s,i]=w.useState("performance"),[o,l]=w.useState(null),[c,u]=w.useState([]),f=p=>{u(m=>m.includes(p)?m.filter(v=>v!==p):[...m,p])},h=w.useMemo(()=>{if(!o)return[];const p=ke(o,"yyyy-MM-dd");return(e[p]||[]).filter(v=>!(t&&v.bu!==t||r.length>0&&!r.includes(v.canal)||n.length>0&&!n.includes(v.segmento)||a.length>0&&!a.includes(v.parceiro)))},[e,o,t,r,n,a]);return d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsx(jh,{date:o,activities:h,anomalyFilters:c,onClose:()=>l(null)}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-slate-100 mb-2 flex items-center gap-2",children:["Jornada & Disparos",d.jsx(zs,{content:"Viso geral do funil de converso, do disparo at emisso, com identificao automtica de gargalos e anomalias."})]}),d.jsx("p",{className:"text-sm text-slate-400",children:"Anlise profunda de converso e identificao de gargalos"}),d.jsxs("p",{className:"text-xs text-slate-600 mt-1",children:["Total Activities: ",Object.values(e).reduce((p,m)=>p+m.length,0)]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[s==="anomalies"&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700 gap-1",children:[[{id:"pending",label:"Pendente"},{id:"no_sent",label:"Sem Envio"},{id:"no_delivered",label:"Sem Entrega"},{id:"no_open",label:"Sem Abertura"}].map(p=>d.jsx("button",{onClick:()=>f(p.id),className:`px-3 py-1 text-xs font-medium rounded transition ${c.includes(p.id)?"bg-amber-600 text-white":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:p.label},p.id)),c.length>0&&d.jsx("button",{onClick:()=>u([]),className:"px-2 py-1 text-xs font-medium text-slate-500 hover:text-slate-300 border-l border-slate-700 ml-1 pl-2",children:"Limpar"})]}),d.jsx(zs,{content:"Filtre as anomalias por tipo para focar em problemas especficos."})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("div",{className:"flex bg-slate-900 rounded-lg p-1 border border-slate-700",children:[d.jsxs("button",{onClick:()=>i("performance"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="performance"?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx(Hf,{size:16}),"Performance"]}),d.jsxs("button",{onClick:()=>i("anomalies"),className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-md transition ${s==="anomalies"?"bg-red-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[d.jsx(pu,{size:16}),"Anomalias"]})]}),d.jsx(zs,{content:"Alterne entre viso de performance e investigao de anomalias.",side:"left"})]})]})]}),d.jsx(_ve,{data:e,mode:s,anomalyFilters:c,onPointClick:l}),d.jsx(kve,{data:e,selectedBU:t,selectedCanais:r,selectedSegmentos:n,selectedParceiros:a,onDayClick:p=>{const m=new Date(`${p}T00:00:00`);l(m)}})]})},r$=nk()(ak((e,t)=>({entries:[],addEntry:r=>e(n=>({entries:[...n.entries,{...r,id:crypto.randomUUID(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}]})),updateEntry:(r,n)=>e(a=>({entries:a.entries.map(s=>s.id===r?{...s,...n,updatedAt:new Date().toISOString()}:s)})),deleteEntry:r=>e(n=>({entries:n.entries.filter(a=>a.id!==r)})),getEntriesByDate:r=>t().entries.filter(n=>n.date===r),getEntriesByDateRange:(r,n)=>t().entries.filter(a=>a.date>=r&&a.date<=n),getEntriesByBU:r=>t().entries.filter(n=>n.bu===r),getExperimentos:()=>t().entries.filter(r=>r.isTesteAB),clearEntries:()=>e({entries:[]}),importEntries:r=>e(n=>{const a=new Set(n.entries.map(i=>i.id)),s=r.filter(i=>!a.has(i.id));return{entries:[...n.entries,...s]}})}),{name:"growth_brain_diary_store"})),Eve="modulepreload",Cve=function(e){return"/GaaS-Framework-Afinz/"+e},eO={},n$=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Cve(l),l in eO)return;eO[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Eve,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},Tve=()=>{const e=[],t=[],r=new Date,n=Qr(Vu(r,2)),a=Xv(r,60),s=["Email","SMS","Push","WhatsApp"],i=["Ativos","Churn","Novos","Alto Valor","Inativos"],o=["B2C","B2B2C","Plurix"],l=v0(a,n)+1;console.log(` Gerando dados simulados: ${l} dias de ${n.toLocaleDateString()} a ${a.toLocaleDateString()}`);for(let c=0;c<l;c++){const u=Xv(n,c);if(Math.random()>.8&&(u.getDay()===0||u.getDay()===6))continue;const f=Math.floor(Math.random()*6)+3;for(let h=0;h<f;h++){const p=s[Math.floor(Math.random()*s.length)],m=i[Math.floor(Math.random()*i.length)],v=o[h%o.length],g=Math.floor(Math.random()*5e4)+5e3,x=Math.floor(g*(.85+Math.random()*.14)),b=Math.floor(x*(.9+Math.random()*.09)),y=Math.random()*.25+.15,_=Math.floor(b*y),S=Math.random()*.15+.02,k=Math.floor(_*S),E=Math.random()*.08+.01,C=Math.floor(k*E),T=.05+Math.random()*.1,A=x*T,N=u.toLocaleDateString("pt-BR"),j=c*100+h,P=`Campanha ${v} ${p} ${j}`,R={"Activity name / Taxonomia":P,"Data de Disparo":N,"Data Fim":N,BU:v,Canal:p,Segmento:m,Jornada:"Jornada Simulada",Parceiro:"Simulado",Safra:u.toLocaleDateString("pt-BR",{year:"2-digit",month:"2-digit"}),Oferta:"Oferta Simulada","Ordem de disparo":h+1,"Base Total":g,"Base Acionvel":x,"Taxa de Entrega":b/x,Propostas:k,"Taxa de Proposta":k/b,Aprovados:Math.floor(C*.8),"Taxa de Aprovao":.8,"Cartes Gerados":C,"Taxa de Finalizao":1,"Taxa de Converso":E,"Taxa de Abertura":y,CAC:C>0?A/C:0,"Custo Total Campanha":A,"Disparado?":"Sim",SIGLA:"SIG","SIGLA.1":"SIG1","SIGLA.2":"SIG2",Subgrupos:"Geral","Etapa de aquisio":"Converso","Perfil de Crdito":"A",Produto:"Carto",Promocional:"No","Oferta 2":"","Promocional 2":"","Custo Unitrio Oferta":0,"Custo Total da Oferta":0,"Custo unitrio do canal":T,"Custo total canal":A,"Taxa de Clique":S,"% Otimizao de base":0};t.push(R);const B={id:P,dataDisparo:new Date(u),canal:p,segmento:m,bu:v,kpis:{baseEnviada:x,baseEntregue:b,taxaEntrega:x>0?b/x*100:0,taxaAbertura:y*100,taxaConversao:E*100,custoTotal:A,cartoes:C,aprovados:Math.floor(C*.8),propostas:k,taxaPropostas:b>0?k/b*100:0,taxaAprovacao:80,emissoes:C,taxaFinalizacao:100,cac:C>0?A/C:0},parceiro:"Simulado",jornada:"Jornada Simulada",raw:R};e.push(B)}}return console.log(` Dados simulados gerados: ${e.length} atividades`),{rows:t,activities:e}},Np="app-data",vs={async listFiles(e){const{data:t,error:r}=await ut.storage.from(Np).list(e,{limit:100,offset:0,sortBy:{column:"created_at",order:"desc"}});if(r)throw r;return t},async uploadFile(e,t){const r=new Date().getTime(),n=t.name.split(".").pop(),a=t.name.replace(`.${n}`,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),s=`${e}/${a}-${r}.${n}`,{data:i,error:o}=await ut.storage.from(Np).upload(s,t,{cacheControl:"3600",upsert:!1});if(o)throw o;return i},async getDownloadUrl(e){const{data:t,error:r}=await ut.storage.from(Np).createSignedUrl(e,3600);if(r)throw r;return t.signedUrl},async deleteFile(e){const{error:t}=await ut.storage.from(Np).remove([e]);if(t)throw t}};function m2(e){return new Worker("/GaaS-Framework-Afinz/assets/csvWorker-iCEzBsj0.js",{name:e==null?void 0:e.name})}const Xx=()=>{const{setFrameworkData:e,activities:t}=mt(),[r,n]=w.useState(!0),[a,s]=w.useState(null),[i,o]=w.useState([]),l=w.useRef(!1),c=t.length,u=w.useMemo(()=>{const p={};return t.forEach(m=>{const v=gm(m.dataDisparo);p[v]||(p[v]=[]),p[v].push(m)}),p},[t]),f=w.useCallback(p=>new Promise((m,v)=>{console.log(" Iniciando processamento do CSV (Worker):",p.name),n(!0),s(null),o([]);const g=new m2,x=new FileReader;x.onload=b=>{var S;const _={type:"PARSE_FRAMEWORK_CSV",fileContent:(S=b.target)==null?void 0:S.result};g.postMessage(_)},x.onerror=()=>{const b="Erro ao ler arquivo.";s(b),n(!1),g.terminate(),v(new Error(b))},g.onmessage=b=>{const{type:y}=b.data;if(y==="SUCCESS"){const _=b.data.data;console.log(` Worker Finalizado: ${_.activities.length} atividades`);const S=_.activities.map(k=>{const E=(typeof k.dataDisparo=="string"?TE(k.dataDisparo):k.dataDisparo)||new Date(k.dataDisparo);return E instanceof Date&&!isNaN(E.getTime())&&E.getHours()===21&&(E.setDate(E.getDate()+1),E.setHours(0)),{...k,dataDisparo:E}});_.warnings&&_.warnings.length>0&&(console.warn("Import Warnings:",_.warnings),alert(` ATENO: ${_.warnings.length} linhas foram ignoradas!
Provvel erro de data/formato.

Erros:
${_.warnings.slice(0,3).join(`
`)}`)),e(_.rows,S),n(!1),m(S)}else if(y==="ERROR"){const _=b.data.error;s(_),n(!1),v(new Error(_))}g.terminate()},g.onerror=b=>{const y="Erro no Worker: "+b.message;s(y),n(!1),g.terminate(),v(new Error(y))},x.readAsText(p)}),[e]);w.useEffect(()=>{if(l.current)return;(async()=>{l.current=!0,mt.persist&&!mt.persist.hasHydrated()&&(console.log(" Aguardando hidratao do storage..."),await new Promise(b=>{mt.persist.onFinishHydration(()=>{b()})}),console.log(" Storage hidratado."));const{activities:m,b2cData:v,setB2CData:g,setPaidMediaData:x}=mt.getState();m.length>0&&n(!1);try{console.log(" Conectando ao Supabase para buscar dados..."),n$(()=>Promise.resolve().then(()=>v9),void 0).then(async({dataService:b})=>{const[y,_,S,k]=await Promise.all([b.fetchActivities(),b.fetchB2CMetrics(),b.fetchPaidMedia(),b.fetchGoals()]);console.log(` Dados Carregados: ${y.length} Atividades, ${_.length} B2C, ${S.length} Media, ${k.length} Metas.`);const{activities:E,setActivities:C}=mt.getState();y.length>0?(C(y),console.log(" Store atualizado com atividades do Supabase (Mantendo Framework Data intacto)")):E.length===0?console.log(" Supabase vazio e Store vazio."):console.log(" Supabase vazio, mantendo atividades locais.");let T=_;if(_.length===0)try{const A=await vs.listFiles("b2c");if(A&&A.length>0){console.log(" Fallback B2C: Found in Storage:",A[0].name);const N=await vs.getDownloadUrl("b2c/"+A[0].name),R=await(await(await fetch(N)).blob()).text();T=await new Promise(B=>{const q=new m2;q.postMessage({type:"PARSE_B2C_CSV",fileContent:R}),q.onmessage=K=>{K.data.type==="SUCCESS"||K.data.type==="SUCCESS_B2C"?B(K.data.data||[]):B([]),q.terminate()},q.onerror=()=>{B([]),q.terminate()}}),console.log(` Fallback Loaded: ${T.length} B2C rows.`)}}catch(A){console.warn("Fallback B2C failed:",A)}g(T),x(S),mt.getState().setGoals(k),n(!1)}).catch(b=>{console.error("Erro ao importar dataService:",b),s("Fail to load data service"),n(!1)})}catch(b){console.error(" Falha no Carregamento SQL:",b),s("Erro de conexo com Banco de Dados."),n(!1)}})()},[e]);const h=w.useCallback(()=>{try{n(!0);const{rows:p,activities:m}=Tve();e(p,m),n(!1)}catch(p){s("Erro ao gerar dados: "+p.message),n(!1)}},[e]);return{data:u,loading:r,error:a,totalActivities:c,processCSV:f,loadSimulatedData:h,debugHeaders:i}};function Ave(){const{data:e}=Xx();return w.useMemo(()=>{const t=new Set,r=new Set,n=new Set,a=new Set,s=new Set,i=new Set;return Object.values(e).forEach(o=>{o.forEach(l=>{l.bu&&t.add(l.bu),l.canal&&r.add(l.canal),l.segmento&&n.add(l.segmento),l.parceiro&&a.add(l.parceiro),l.oferta&&s.add(l.oferta),l.id&&i.add(l.id)})}),t.size===0&&["B2C","B2B2C","Plurix"].forEach(o=>t.add(o)),{bus:Array.from(t).sort(),canais:Array.from(r).sort(),segmentos:Array.from(n).sort(),parceiros:Array.from(a).sort(),ofertas:Array.from(s).sort(),campanhas:Array.from(i).sort()}},[e])}const tO=({label:e,options:t,selected:r,onChange:n,colorMap:a})=>{const s=i=>{r.includes(i)?n(r.filter(o=>o!==i)):n([...r,i])};return d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 uppercase tracking-wider",children:e}),d.jsx("div",{className:"flex flex-wrap gap-2 p-3 bg-slate-900/30 rounded-lg border border-slate-700/50 min-h-[60px]",children:t.length===0?d.jsx("span",{className:"text-xs text-slate-500 italic",children:"Nenhuma opo disponvel"}):t.map(i=>{const o=r.includes(i),l=a==null?void 0:a[i];let c="inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium transition-all cursor-pointer select-none border";return o?c+=" bg-blue-600 border-blue-500 text-white shadow-md shadow-blue-900/20":c+=" bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-slate-200 hover:border-slate-600",d.jsxs("div",{onClick:()=>s(i),className:c,children:[i,o&&d.jsx(J_,{size:12,className:"stroke-[3]"})]},i)})})]})},jve={B2C:"bg-blue-500/20 text-blue-100 border-blue-500/50",B2B2C:"bg-emerald-500/20 text-emerald-100 border-emerald-500/50",Plurix:"bg-purple-500/20 text-purple-100 border-purple-500/50"},Pve={B2C:"bg-blue-600 text-blue-50",B2B2C:"bg-emerald-600 text-emerald-50",Plurix:"bg-purple-600 text-purple-50"},S1={hipotese:{label:"Hiptese",icon:DW,color:"text-amber-400 bg-amber-400/10"},rodando:{label:"Rodando",icon:Ym,color:"text-blue-400 bg-blue-400/10"},concluido:{label:"Concludo",icon:Zr,color:"text-emerald-400 bg-emerald-400/10"},aprendizado:{label:"Aprendizado",icon:Zm,color:"text-purple-400 bg-purple-400/10"}},Op={date:new Date().toISOString().split("T")[0],bu:"B2C",title:"",description:"",segmentos:[],parceiros:[],canais:[],campanhasRelacionadas:[],isTesteAB:!1,statusExperimento:"hipotese",hipotese:"",conclusao:""},Nve=()=>{var j;const{entries:e,addEntry:t,updateEntry:r,deleteEntry:n,clearEntries:a,importEntries:s}=r$(),{segmentos:i,parceiros:o}=Ave(),{viewSettings:l}=mt(),c=l.filtrosGlobais,[u,f]=w.useState(Op),[h,p]=w.useState(null),[m,v]=w.useState(null),g=(P,R="info")=>{v({message:P,type:R}),setTimeout(()=>v(null),3e3)},x=P=>{if(P.preventDefault(),!u.title.trim()){g("Anotao no pode estar vazia","error");return}t(u),f(Op),g("Anotao adicionada com sucesso","success")},b=P=>{p(P.id),f({date:P.date,bu:P.bu,title:P.title,description:P.description||"",segmentos:P.segmentos,parceiros:P.parceiros,canais:P.canais||[],campanhasRelacionadas:P.campanhasRelacionadas||[],isTesteAB:P.isTesteAB,statusExperimento:P.statusExperimento||"hipotese",hipotese:P.hipotese||"",conclusao:P.conclusao||""})},y=()=>{if(h){if(!u.title.trim()){g("Anotao no pode estar vazia","error");return}r(h,u),p(null),f(Op),g("Anotao atualizada com sucesso","success")}},_=()=>{p(null),f(Op)},S=P=>{window.confirm("Tem certeza? Esta ao  irreversvel")&&(n(P),g("Anotao removida","success"))},k=()=>{window.confirm("Tem certeza que deseja apagar TODAS as anotaes? Esta ao  irreversvel")&&(a(),g("Todas as anotaes foram removidas","success"))},E=()=>{const P=["Data","BU","Ttulo","Descrio","Segmentos","Parceiros","Teste AB","Status","Hiptese","Concluso"],R=e.map(Z=>[Z.date,Z.bu,`"${Z.title.replace(/"/g,'""')}"`,`"${(Z.description||"").replace(/"/g,'""')}"`,Z.segmentos.join("; "),Z.parceiros.join("; "),Z.isTesteAB?"Sim":"No",Z.statusExperimento||"",`"${(Z.hipotese||"").replace(/"/g,'""')}"`,`"${(Z.conclusao||"").replace(/"/g,'""')}"`]),B=[P.join(","),...R.map(Z=>Z.join(","))].join(`
`),q=new Blob([B],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(q),X=document.createElement("a"),J=new Date().toISOString().split("T")[0];X.href=K,X.download=`diario_bordo_${J}.csv`,X.click(),URL.revokeObjectURL(K),g("Dirio exportado como CSV com sucesso","success")},C=P=>{var q;const R=(q=P.target.files)==null?void 0:q[0];if(!R)return;const B=new FileReader;B.onload=K=>{var X;try{const I=(X=K.target)==null?void 0:X.result;if(R.name.endsWith(".csv"))g("Importao de CSV ainda no suportada completamente. Use JSON.","info");else{const J=JSON.parse(I),M=(Array.isArray(J)?J:J.entries||J.anotacoes||[]).map(z=>({id:z.id||crypto.randomUUID(),createdAt:z.createdAt||z.criadoEm||new Date().toISOString(),updatedAt:z.updatedAt||z.atualizadoEm||new Date().toISOString(),date:z.date||z.data,bu:z.bu,title:z.title||z.anotacao,description:z.description||"",segmentos:z.segmentos||[],parceiros:z.parceiros||[],canais:z.canais||[],campanhasRelacionadas:z.campanhasRelacionadas||[],isTesteAB:z.isTesteAB||z.testeAB||!1,statusExperimento:z.statusExperimento,hipotese:z.hipotese,conclusao:z.conclusao})).filter(z=>z.date&&z.title);s(M),g(`${M.length} anotaes importadas com sucesso`,"success")}}catch{g("Erro ao importar arquivo","error")}},B.readAsText(R)},T=P=>{if(!P)return"";const[R,B,q]=P.split("-");return new Date(parseInt(R),parseInt(B)-1,parseInt(q)).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})},N=[...e.filter(P=>!(c.bu.length>0&&!c.bu.includes(P.bu)||c.segmentos.length>0&&!P.segmentos.some(B=>c.segmentos.includes(B))||c.parceiros.length>0&&!P.parceiros.some(B=>c.parceiros.includes(B))))].sort((P,R)=>R.date.localeCompare(P.date));return d.jsxs("div",{className:"flex flex-col flex-1 min-h-0 bg-gradient-to-br from-slate-900 to-slate-800 p-4 gap-4 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Dirio de Bordo"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("label",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-emerald-600/80 hover:bg-emerald-600 text-emerald-50 rounded text-xs font-medium cursor-pointer transition",children:[d.jsx(Bg,{size:14}),"Importar JSON",d.jsx("input",{type:"file",accept:".json",onChange:C,className:"hidden"})]}),d.jsxs("button",{onClick:E,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-orange-600/80 hover:bg-orange-600 text-orange-50 rounded text-xs font-medium transition",title:"Exportar como CSV",children:[d.jsx(V0,{size:14}),"Exportar"]}),d.jsxs("button",{onClick:k,className:"inline-flex items-center gap-1 px-3 py-1.5 bg-red-600/80 hover:bg-red-600 text-red-50 rounded text-xs font-medium transition",title:"Apagar todas as anotaes",children:[d.jsx(Kl,{size:14}),"Apagar Tudo"]})]})]}),d.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 shrink-0 overflow-y-auto max-h-[400px]",children:d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Data"}),d.jsx("input",{type:"date",value:u.date,onChange:P=>f({...u,date:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"BU"}),d.jsxs("select",{value:u.bu,onChange:P=>f({...u,bu:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]})]}),d.jsx("div",{className:"flex items-end",children:d.jsxs("label",{className:"flex items-center gap-2 cursor-pointer bg-slate-700 px-3 py-1.5 rounded border border-slate-600 w-full hover:bg-slate-600 transition",children:[d.jsx("input",{type:"checkbox",checked:u.isTesteAB,onChange:P=>f({...u,isTesteAB:P.target.checked}),className:"rounded border-slate-500 text-blue-500 focus:ring-blue-500 bg-slate-800"}),d.jsxs("span",{className:"text-xs font-semibold text-slate-200 flex items-center gap-1",children:[d.jsx(sA,{size:14,className:u.isTesteAB?"text-blue-400":"text-slate-400"})," Teste A/B?"]})]})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-1",children:"Anotao Principal"}),d.jsx("textarea",{value:u.title,onChange:P=>f({...u,title:P.target.value}),placeholder:"Descreva o evento ou observao...",className:"w-full px-2 py-2 bg-slate-700 border border-slate-600 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none",style:{minHeight:"60px"}})]}),u.isTesteAB&&d.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded p-3 space-y-3 animate-in fade-in slide-in-from-top-2",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Status do Experimento"}),d.jsxs("select",{value:u.statusExperimento,onChange:P=>f({...u,statusExperimento:P.target.value}),className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 focus:outline-none focus:border-blue-500",children:[d.jsx("option",{value:"hipotese",children:" Hiptese"}),d.jsx("option",{value:"rodando",children:" Rodando"}),d.jsx("option",{value:"concluido",children:" Concludo"}),d.jsx("option",{value:"aprendizado",children:" Aprendizado"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Campanhas Relacionadas"}),d.jsx("input",{type:"text",value:(j=u.campanhasRelacionadas)==null?void 0:j.join(", "),onChange:P=>f({...u,campanhasRelacionadas:P.target.value.split(",").map(R=>R.trim()).filter(Boolean)}),placeholder:"Ex: Campanha X, Campanha Y",className:"w-full px-2 py-1.5 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:u.hipotese,onChange:P=>f({...u,hipotese:P.target.value}),placeholder:"O que esperamos que acontea?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs font-semibold text-blue-300 mb-1",children:"Concluso / Resultados"}),d.jsx("textarea",{value:u.conclusao,onChange:P=>f({...u,conclusao:P.target.value}),placeholder:"O que aprendemos?",className:"w-full px-2 py-2 bg-slate-800 border border-blue-500/30 rounded text-xs text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500 resize-none h-20"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsx(tO,{label:"Segmentos",options:i,selected:u.segmentos,onChange:P=>f({...u,segmentos:P})}),d.jsx(tO,{label:"Parceiros",options:o,selected:u.parceiros,onChange:P=>f({...u,parceiros:P})})]}),d.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[h&&d.jsx("button",{onClick:_,className:"px-4 py-2 bg-slate-600 hover:bg-slate-700 text-slate-50 rounded text-sm font-semibold transition",children:"Cancelar"}),d.jsxs("button",{onClick:h?y:x,className:`px-6 py-2 rounded text-sm font-semibold transition flex items-center justify-center gap-2 shadow-lg ${h?"bg-green-600 hover:bg-green-700 text-green-50 shadow-green-900/20":"bg-blue-600 hover:bg-blue-700 text-blue-50 shadow-blue-900/20"}`,children:[h?d.jsx(Zr,{size:16}):d.jsx(tk,{size:16}),h?"Salvar Alteraes":"Adicionar Registro"]})]})]})}),d.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto space-y-3 pr-2",children:N.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-slate-400",children:[d.jsx("p",{className:"text-xs",children:" Nenhuma anotao ainda"}),d.jsx("p",{className:"text-xs italic mt-1",children:"Comece adicionando uma acima"})]}):N.map(P=>d.jsx("div",{className:`${jve[P.bu]} border rounded-lg overflow-hidden transition hover:shadow-lg relative group`,children:d.jsxs("div",{className:"p-4",children:[d.jsxs("div",{className:"flex items-start justify-between mb-3",children:[d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsx("span",{className:"text-xs font-semibold text-slate-200",children:T(P.date)}),d.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${Pve[P.bu]}`,children:P.bu}),P.isTesteAB&&d.jsxs("span",{className:"flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium bg-blue-500/20 text-blue-300 border border-blue-500/30",children:[d.jsx(sA,{size:12}),"Teste A/B"]}),P.isTesteAB&&P.statusExperimento&&d.jsxs("span",{className:`flex items-center gap-1 px-2 py-0.5 rounded text-xs font-medium border border-white/10 ${S1[P.statusExperimento].color}`,children:[$s.createElement(S1[P.statusExperimento].icon,{size:12}),S1[P.statusExperimento].label]})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>b(P),className:"p-1.5 hover:bg-white/10 rounded transition text-slate-300 hover:text-white",title:"Editar",children:d.jsx(ek,{size:14})}),d.jsx("button",{onClick:()=>S(P.id),className:"p-1.5 hover:bg-red-500/20 rounded transition text-slate-300 hover:text-red-400",title:"Deletar",children:d.jsx(Kl,{size:14})})]})]}),d.jsx("p",{className:"text-sm leading-relaxed whitespace-pre-wrap text-slate-200 mb-3",children:P.title}),P.description&&d.jsx("p",{className:"text-xs leading-relaxed whitespace-pre-wrap text-slate-400 mb-3 border-l-2 border-slate-600 pl-2",children:P.description}),P.isTesteAB&&d.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 mb-3 bg-black/20 p-3 rounded border border-white/5",children:[P.hipotese&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Hiptese"}),d.jsx("p",{className:"text-xs text-slate-300",children:P.hipotese})]}),P.conclusao&&d.jsxs("div",{children:[d.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 mb-1 block",children:"Concluso"}),d.jsx("p",{className:"text-xs text-slate-300",children:P.conclusao})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2 mt-2 pt-2 border-t border-white/5",children:[P.campanhasRelacionadas&&P.campanhasRelacionadas.length>0&&d.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-400 mr-2",children:[d.jsx(aH,{size:12}),P.campanhasRelacionadas.join(", ")]}),P.segmentos&&P.segmentos.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",P.segmentos.join(", ")]}),P.parceiros&&P.parceiros.length>0&&d.jsxs("span",{className:"text-xs text-slate-400",children:[" ",P.parceiros.join(", ")]})]})]})},P.id))}),m&&d.jsx("div",{className:`fixed bottom-4 right-4 px-4 py-2 rounded text-xs font-medium transition-all shadow-lg z-50 ${m.type==="success"?"bg-emerald-600 text-emerald-50":m.type==="error"?"bg-red-600 text-red-50":"bg-blue-600 text-blue-50"}`,children:m.message})]})},Ove=({initialMetrics:e,onCalculate:t})=>{const[r,n]=w.useState({visitors:(e==null?void 0:e.controle.disparos)||0,conversions:(e==null?void 0:e.controle.conversoes)||0}),[a,s]=w.useState({visitors:(e==null?void 0:e.variante.disparos)||0,conversions:(e==null?void 0:e.variante.conversoes)||0}),[i,o]=w.useState(null);w.useEffect(()=>{e&&(n({visitors:e.controle.disparos,conversions:e.controle.conversoes}),s({visitors:e.variante.disparos,conversions:e.variante.conversoes}))},[e]);const l=()=>{const c=Number(r.visitors),u=Number(r.conversions),f=Number(a.visitors),h=Number(a.conversions);if(c===0||f===0){o(null);return}const p=u/c,m=h/f,v=Math.sqrt(p*(1-p)/c+m*(1-m)/f),g=Math.abs((p-m)/v);let x=0;g>=2.576?x=99:g>=1.96?x=95:g>=1.645?x=90:x=Math.round((1-Math.exp(-.7*g*g))*100);const b=x>=90,y=p>m?"control":"variant";o({confidence:x,isSignificant:b,winner:b?y:null}),t&&t({controle:{disparos:c,conversoes:u},variante:{disparos:f,conversoes:h}})};return d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border border-slate-700",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-300 mb-4 flex items-center gap-2",children:[d.jsx(kl,{size:16,className:"text-blue-400"}),"Calculadora de Significncia"]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Controle (A)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:r.visitors,onChange:c=>n({...r,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:r.conversions,onChange:c=>n({...r,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",r.visitors>0?(r.conversions/r.visitors*100).toFixed(2):0,"%"]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase",children:"Variante (B)"}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Disparos/Visitantes"}),d.jsx("input",{type:"number",value:a.visitors,onChange:c=>s({...a,visitors:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"text-xs text-slate-500",children:"Converses"}),d.jsx("input",{type:"number",value:a.conversions,onChange:c=>s({...a,conversions:Number(c.target.value)}),className:"w-full bg-slate-900 border border-slate-700 rounded px-2 py-1 text-sm text-slate-200"})]}),d.jsxs("div",{className:"text-xs text-slate-400 pt-1",children:["Taxa: ",a.visitors>0?(a.conversions/a.visitors*100).toFixed(2):0,"%"]})]})]}),d.jsx("button",{onClick:l,className:"w-full py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg text-sm font-medium transition mb-4",children:"Calcular"}),i&&d.jsxs("div",{className:`p-3 rounded-lg border ${i.isSignificant?"bg-emerald-900/20 border-emerald-500/30":"bg-slate-700/30 border-slate-600"}`,children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.isSignificant?d.jsx(Zr,{size:16,className:"text-emerald-400"}):d.jsx(Es,{size:16,className:"text-slate-400"}),d.jsx("span",{className:`font-bold ${i.isSignificant?"text-emerald-400":"text-slate-300"}`,children:i.isSignificant?"Resultado Significativo!":"Inconclusivo"})]}),d.jsxs("p",{className:"text-xs text-slate-400",children:["Confiana estatstica: ",d.jsxs("span",{className:"text-slate-200 font-bold",children:[i.confidence,"%"]})]}),i.isSignificant&&d.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Vencedor: ",d.jsx("span",{className:"text-emerald-400 font-bold uppercase",children:i.winner==="control"?"Controle (A)":"Variante (B)"})]})]})]})},rO=[{id:"hipotese",label:"Hiptese",color:"border-amber-500/50"},{id:"rodando",label:"Rodando",color:"border-blue-500/50"},{id:"concluido",label:"Concludo",color:"border-emerald-500/50"},{id:"aprendizado",label:"Aprendizado",color:"border-purple-500/50"}],Dve=()=>{const{getExperimentos:e,updateEntry:t,addEntry:r}=r$(),n=e(),[a,s]=w.useState(null),i=(l,c)=>{t(l,{statusExperimento:c})},o=()=>{r({date:new Date().toISOString().split("T")[0],bu:"B2C",title:"Novo Experimento",description:"",segmentos:[],parceiros:[],isTesteAB:!0,statusExperimento:"hipotese",hipotese:"",conclusao:""})};return d.jsxs("div",{className:"h-full flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(jI,{className:"text-purple-400"}),"Gestor de Experimentos"]}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Gerencie seus testes A/B e valide hipteses."})]}),d.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition",children:[d.jsx(tk,{size:18}),"Novo Experimento"]})]}),d.jsx("div",{className:"flex-1 grid grid-cols-4 gap-4 overflow-hidden min-h-0",children:rO.map(l=>d.jsxs("div",{className:"flex flex-col bg-slate-900/50 rounded-xl border border-slate-800 h-full overflow-hidden",children:[d.jsxs("div",{className:`p-3 border-b border-slate-800 flex items-center justify-between border-t-2 ${l.color}`,children:[d.jsx("span",{className:"font-bold text-slate-300 text-sm uppercase",children:l.label}),d.jsx("span",{className:"text-xs bg-slate-800 px-2 py-0.5 rounded-full text-slate-400",children:n.filter(c=>c.statusExperimento===l.id).length})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-3",children:n.filter(c=>c.statusExperimento===l.id).map(c=>d.jsxs("div",{onClick:()=>s(c),className:"bg-slate-800 p-3 rounded-lg border border-slate-700 hover:border-blue-500/50 cursor-pointer transition group relative",children:[d.jsxs("div",{className:"flex items-start justify-between mb-2",children:[d.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded border ${c.bu==="B2C"?"bg-blue-900/30 border-blue-800 text-blue-300":c.bu==="B2B2C"?"bg-emerald-900/30 border-emerald-800 text-emerald-300":"bg-purple-900/30 border-purple-800 text-purple-300"}`,children:c.bu}),d.jsx("span",{className:"text-[10px] text-slate-500",children:c.date})]}),d.jsx("h4",{className:"text-sm font-medium text-slate-200 mb-1 line-clamp-2",children:c.title}),c.hipotese&&d.jsxs("p",{className:"text-xs text-slate-400 line-clamp-2 mb-2 italic",children:['"',c.hipotese,'"']}),d.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:l.id!=="aprendizado"&&d.jsx("button",{onClick:u=>{u.stopPropagation();const f=l.id==="hipotese"?"rodando":l.id==="rodando"?"concluido":"aprendizado";i(c.id,f)},className:"p-1 bg-slate-700 hover:bg-blue-600 rounded text-slate-300 hover:text-white",title:"Avanar",children:d.jsx(Y_,{size:12})})})]},c.id))})]},l.id))}),a&&d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:d.jsxs("div",{className:"bg-slate-900 w-full max-w-2xl rounded-2xl border border-slate-700 shadow-2xl max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b border-slate-800 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("input",{type:"text",value:a.title,onChange:l=>t(a.id,{title:l.target.value}),className:"bg-transparent text-xl font-bold text-white border-none focus:ring-0 p-0 w-full",placeholder:"Nome do Experimento"}),d.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[d.jsxs("select",{value:a.bu,onChange:l=>t(a.id,{bu:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:[d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"})]}),d.jsx("select",{value:a.statusExperimento,onChange:l=>t(a.id,{statusExperimento:l.target.value}),className:"bg-slate-800 border-slate-700 rounded text-xs text-slate-300",children:rO.map(l=>d.jsx("option",{value:l.id,children:l.label},l.id))})]})]}),d.jsx("button",{onClick:()=>s(null),className:"text-slate-400 hover:text-white",children:d.jsx(VW,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Hiptese"}),d.jsx("textarea",{value:a.hipotese||"",onChange:l=>t(a.id,{hipotese:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"Se fizermos X, esperamos Y..."})]}),d.jsxs("div",{className:"bg-slate-950/50 rounded-xl p-4 border border-slate-800",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsx("h3",{className:"font-bold text-slate-200",children:"Dados & Resultados"})}),d.jsx(Ove,{initialMetrics:a.metrics,onCalculate:l=>t(a.id,{metrics:l})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-400 mb-1",children:"Concluso / Aprendizado"}),d.jsx("textarea",{value:a.conclusao||"",onChange:l=>t(a.id,{conclusao:l.target.value}),className:"w-full bg-slate-800 border border-slate-700 rounded-lg p-3 text-slate-200 text-sm min-h-[80px]",placeholder:"O que aprendemos com este teste?"})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end",children:d.jsx("button",{onClick:()=>s(null),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Salvar e Fechar"})})]})})]})},Mve=()=>{const[e,t]=w.useState("diario");return d.jsxs("div",{className:"flex flex-col h-full bg-[#0F172A]",children:[d.jsxs("div",{className:"flex border-b border-slate-800 bg-slate-900/50 px-6 pt-4",children:[d.jsxs("button",{onClick:()=>t("diario"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="diario"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(CI,{size:18}),d.jsx("span",{className:"font-medium",children:"Dirio de Bordo"})]}),d.jsxs("button",{onClick:()=>t("experimentos"),className:`flex items-center gap-2 px-4 py-3 border-b-2 transition-colors ${e==="experimentos"?"border-purple-500 text-purple-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:[d.jsx(jI,{size:18}),d.jsx("span",{className:"font-medium",children:"Gestor de Experimentos"})]})]}),d.jsx("div",{className:"flex-1 overflow-hidden p-6",children:e==="diario"?d.jsx(Nve,{}):d.jsx(Dve,{})})]})};var a$={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(T7,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,s=!n.document&&!!n.postMessage,i=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(T){var A=S(T);A.chunkSize=parseInt(A.chunkSize),T.step||T.chunk||(A.chunkSize=null),this._handle=new v(A),(this._handle.streamer=this)._config=A}).call(this,C),this.parseChunk=function(T,A){var N=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<N){let P=this._config.newline;P||(j=this._config.quoteChar||'"',P=this._handle.guessLineEndings(T,j)),T=[...T.split(P).slice(N)].join(P)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(j=this._config.beforeFirstChunk(T))!==void 0&&(T=j),this.isFirstChunk=!1,this._halted=!1;var N=this._partialLine+T,j=(this._partialLine="",this._handle.parse(N,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(T=j.meta.cursor,N=(this._finished||(this._partialLine=N.substring(T-this._baseIndex),this._baseIndex=T),j&&j.data&&(this._rowCount+=j.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),i)n.postMessage({results:j,workerId:c.WORKER_ID,finished:N});else if(E(this._config.chunk)&&!A){if(this._config.chunk(j,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=j=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(j.data),this._completeResults.errors=this._completeResults.errors.concat(j.errors),this._completeResults.meta=j.meta),this._completed||!N||!E(this._config.complete)||j&&j.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),N||j&&j.meta.paused||this._nextChunk(),j}this._halted=!0},this._sendError=function(T){E(this._config.error)?this._config.error(T):i&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:T,finished:!1})}}function f(C){var T;(C=C||{}).chunkSize||(C.chunkSize=c.RemoteChunkSize),u.call(this,C),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(A){this._input=A,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(T=new XMLHttpRequest,this._config.withCredentials&&(T.withCredentials=this._config.withCredentials),s||(T.onload=k(this._chunkLoaded,this),T.onerror=k(this._chunkError,this)),T.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var A,N=this._config.downloadRequestHeaders;for(A in N)T.setRequestHeader(A,N[A])}var j;this._config.chunkSize&&(j=this._start+this._config.chunkSize-1,T.setRequestHeader("Range","bytes="+this._start+"-"+j));try{T.send(this._config.downloadRequestBody)}catch(P){this._chunkError(P.message)}s&&T.status===0&&this._chunkError()}},this._chunkLoaded=function(){T.readyState===4&&(T.status<200||400<=T.status?this._chunkError():(this._start+=this._config.chunkSize||T.responseText.length,this._finished=!this._config.chunkSize||this._start>=(A=>(A=A.getResponseHeader("Content-Range"))!==null?parseInt(A.substring(A.lastIndexOf("/")+1)):-1)(T),this.parseChunk(T.responseText)))},this._chunkError=function(A){A=T.statusText||A,this._sendError(new Error(A))}}function h(C){(C=C||{}).chunkSize||(C.chunkSize=c.LocalChunkSize),u.call(this,C);var T,A,N=typeof FileReader<"u";this.stream=function(j){this._input=j,A=j.slice||j.webkitSlice||j.mozSlice,N?((T=new FileReader).onload=k(this._chunkLoaded,this),T.onerror=k(this._chunkError,this)):T=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var j=this._input,P=(this._config.chunkSize&&(P=Math.min(this._start+this._config.chunkSize,this._input.size),j=A.call(j,this._start,P)),T.readAsText(j,this._config.encoding));N||this._chunkLoaded({target:{result:P}})},this._chunkLoaded=function(j){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(j.target.result)},this._chunkError=function(){this._sendError(T.error)}}function p(C){var T;u.call(this,C=C||{}),this.stream=function(A){return T=A,this._nextChunk()},this._nextChunk=function(){var A,N;if(!this._finished)return A=this._config.chunkSize,T=A?(N=T.substring(0,A),T.substring(A)):(N=T,""),this._finished=!T,this.parseChunk(N)}}function m(C){u.call(this,C=C||{});var T=[],A=!0,N=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(j){this._input=j,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&T.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),T.length?this.parseChunk(T.shift()):A=!0},this._streamData=k(function(j){try{T.push(typeof j=="string"?j:j.toString(this._config.encoding)),A&&(A=!1,this._checkIsFinished(),this.parseChunk(T.shift()))}catch(P){this._streamError(P)}},this),this._streamError=k(function(j){this._streamCleanUp(),this._sendError(j)},this),this._streamEnd=k(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=k(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function v(C){var T,A,N,j,P=Math.pow(2,53),R=-P,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,K=this,X=0,I=0,J=!1,Z=!1,M=[],z={data:[],errors:[],meta:{}};function G(le){return C.skipEmptyLines==="greedy"?le.join("").trim()==="":le.length===1&&le[0].length===0}function H(){if(z&&N&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),N=!1),C.skipEmptyLines&&(z.data=z.data.filter(function(D){return!G(D)})),Q()){let D=function(Ne,me){E(C.transformHeader)&&(Ne=C.transformHeader(Ne,me)),M.push(Ne)};var ue=D;if(z)if(Array.isArray(z.data[0])){for(var le=0;Q()&&le<z.data.length;le++)z.data[le].forEach(D);z.data.splice(0,1)}else z.data.forEach(D)}function Y(D,Ne){for(var me=C.header?{}:[],ye=0;ye<D.length;ye++){var fe=ye,de=D[ye],de=((Oe,Ve)=>(at=>(C.dynamicTypingFunction&&C.dynamicTyping[at]===void 0&&(C.dynamicTyping[at]=C.dynamicTypingFunction(at)),(C.dynamicTyping[at]||C.dynamicTyping)===!0))(Oe)?Ve==="true"||Ve==="TRUE"||Ve!=="false"&&Ve!=="FALSE"&&((at=>{if(B.test(at)&&(at=parseFloat(at),R<at&&at<P))return 1})(Ve)?parseFloat(Ve):q.test(Ve)?new Date(Ve):Ve===""?null:Ve):Ve)(fe=C.header?ye>=M.length?"__parsed_extra":M[ye]:fe,de=C.transform?C.transform(de,fe):de);fe==="__parsed_extra"?(me[fe]=me[fe]||[],me[fe].push(de)):me[fe]=de}return C.header&&(ye>M.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+M.length+" fields but parsed "+ye,I+Ne):ye<M.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+M.length+" fields but parsed "+ye,I+Ne)),me}var te;z&&(C.header||C.dynamicTyping||C.transform)&&(te=1,!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Y),te=z.data.length):z.data=Y(z.data,0),C.header&&z.meta&&(z.meta.fields=M),I+=te)}function Q(){return C.header&&M.length===0}function oe(le,Y,te,ue){le={type:le,code:Y,message:te},ue!==void 0&&(le.row=ue),z.errors.push(le)}E(C.step)&&(j=C.step,C.step=function(le){z=le,Q()?H():(H(),z.data.length!==0&&(X+=le.data.length,C.preview&&X>C.preview?A.abort():(z.data=z.data[0],j(z,K))))}),this.parse=function(le,Y,te){var ue=C.quoteChar||'"',ue=(C.newline||(C.newline=this.guessLineEndings(le,ue)),N=!1,C.delimiter?E(C.delimiter)&&(C.delimiter=C.delimiter(le),z.meta.delimiter=C.delimiter):((ue=((D,Ne,me,ye,fe)=>{var de,Oe,Ve,at;fe=fe||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var gn=0;gn<fe.length;gn++){for(var xn,Qn=fe[gn],st=0,xr=0,vt=0,yr=(Ve=void 0,new x({comments:ye,delimiter:Qn,newline:Ne,preview:10}).parse(D)),Et=0;Et<yr.data.length;Et++)me&&G(yr.data[Et])?vt++:(xn=yr.data[Et].length,xr+=xn,Ve===void 0?Ve=xn:0<xn&&(st+=Math.abs(xn-Ve),Ve=xn));0<yr.data.length&&(xr/=yr.data.length-vt),(Oe===void 0||st<=Oe)&&(at===void 0||at<xr)&&1.99<xr&&(Oe=st,de=Qn,at=xr)}return{successful:!!(C.delimiter=de),bestDelimiter:de}})(le,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess)).successful?C.delimiter=ue.bestDelimiter:(N=!0,C.delimiter=c.DefaultDelimiter),z.meta.delimiter=C.delimiter),S(C));return C.preview&&C.header&&ue.preview++,T=le,A=new x(ue),z=A.parse(T,Y,te),H(),J?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return J},this.pause=function(){J=!0,A.abort(),T=E(C.chunk)?"":T.substring(A.getCharIndex())},this.resume=function(){K.streamer._halted?(J=!1,K.streamer.parseChunk(T,!0)):setTimeout(K.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,A.abort(),z.meta.aborted=!0,E(C.complete)&&C.complete(z),T=""},this.guessLineEndings=function(D,ue){D=D.substring(0,1048576);var ue=new RegExp(g(ue)+"([^]*?)"+g(ue),"gm"),te=(D=D.replace(ue,"")).split("\r"),ue=D.split(`
`),D=1<ue.length&&ue[0].length<te[0].length;if(te.length===1||D)return`
`;for(var Ne=0,me=0;me<te.length;me++)te[me][0]===`
`&&Ne++;return Ne>=te.length/2?`\r
`:"\r"}}function g(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x(C){var T=(C=C||{}).delimiter,A=C.newline,N=C.comments,j=C.step,P=C.preview,R=C.fastMode,B=null,q=!1,K=C.quoteChar==null?'"':C.quoteChar,X=K;if(C.escapeChar!==void 0&&(X=C.escapeChar),(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=","),N===T)throw new Error("Comment character same as delimiter");N===!0?N="#":(typeof N!="string"||-1<c.BAD_DELIMITERS.indexOf(N))&&(N=!1),A!==`
`&&A!=="\r"&&A!==`\r
`&&(A=`
`);var I=0,J=!1;this.parse=function(Z,M,z){if(typeof Z!="string")throw new Error("Input must be a string");var G=Z.length,H=T.length,Q=A.length,oe=N.length,le=E(j),Y=[],te=[],ue=[],D=I=0;if(!Z)return st();if(R||R!==!1&&Z.indexOf(K)===-1){for(var Ne=Z.split(A),me=0;me<Ne.length;me++){if(ue=Ne[me],I+=ue.length,me!==Ne.length-1)I+=A.length;else if(z)return st();if(!N||ue.substring(0,oe)!==N){if(le){if(Y=[],at(ue.split(T)),xr(),J)return st()}else at(ue.split(T));if(P&&P<=me)return Y=Y.slice(0,P),st(!0)}}return st()}for(var ye=Z.indexOf(T,I),fe=Z.indexOf(A,I),de=new RegExp(g(X)+g(K),"g"),Oe=Z.indexOf(K,I);;)if(Z[I]===K)for(Oe=I,I++;;){if((Oe=Z.indexOf(K,Oe+1))===-1)return z||te.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Y.length,index:I}),xn();if(Oe===G-1)return xn(Z.substring(I,Oe).replace(de,K));if(K===X&&Z[Oe+1]===X)Oe++;else if(K===X||Oe===0||Z[Oe-1]!==X){ye!==-1&&ye<Oe+1&&(ye=Z.indexOf(T,Oe+1));var Ve=gn((fe=fe!==-1&&fe<Oe+1?Z.indexOf(A,Oe+1):fe)===-1?ye:Math.min(ye,fe));if(Z.substr(Oe+1+Ve,H)===T){ue.push(Z.substring(I,Oe).replace(de,K)),Z[I=Oe+1+Ve+H]!==K&&(Oe=Z.indexOf(K,I)),ye=Z.indexOf(T,I),fe=Z.indexOf(A,I);break}if(Ve=gn(fe),Z.substring(Oe+1+Ve,Oe+1+Ve+Q)===A){if(ue.push(Z.substring(I,Oe).replace(de,K)),Qn(Oe+1+Ve+Q),ye=Z.indexOf(T,I),Oe=Z.indexOf(K,I),le&&(xr(),J))return st();if(P&&Y.length>=P)return st(!0);break}te.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Y.length,index:I}),Oe++}}else if(N&&ue.length===0&&Z.substring(I,I+oe)===N){if(fe===-1)return st();I=fe+Q,fe=Z.indexOf(A,I),ye=Z.indexOf(T,I)}else if(ye!==-1&&(ye<fe||fe===-1))ue.push(Z.substring(I,ye)),I=ye+H,ye=Z.indexOf(T,I);else{if(fe===-1)break;if(ue.push(Z.substring(I,fe)),Qn(fe+Q),le&&(xr(),J))return st();if(P&&Y.length>=P)return st(!0)}return xn();function at(vt){Y.push(vt),D=I}function gn(vt){var yr=0;return yr=vt!==-1&&(vt=Z.substring(Oe+1,vt))&&vt.trim()===""?vt.length:yr}function xn(vt){return z||(vt===void 0&&(vt=Z.substring(I)),ue.push(vt),I=G,at(ue),le&&xr()),st()}function Qn(vt){I=vt,at(ue),ue=[],fe=Z.indexOf(A,I)}function st(vt){if(C.header&&!M&&Y.length&&!q){var yr=Y[0],Et=Object.create(null),ea=new Set(yr);let Ue=!1;for(let pt=0;pt<yr.length;pt++){let Vt=yr[pt];if(Et[Vt=E(C.transformHeader)?C.transformHeader(Vt,pt):Vt]){let Ct,As=Et[Vt];for(;Ct=Vt+"_"+As,As++,ea.has(Ct););ea.add(Ct),yr[pt]=Ct,Et[Vt]++,Ue=!0,(B=B===null?{}:B)[Ct]=Vt}else Et[Vt]=1,yr[pt]=Vt;ea.add(Vt)}Ue&&console.warn("Duplicate headers found and renamed."),q=!0}return{data:Y,errors:te,meta:{delimiter:T,linebreak:A,aborted:J,truncated:!!vt,cursor:D+(M||0),renamedHeaders:B}}}function xr(){j(st()),Y=[],te=[]}},this.abort=function(){J=!0},this.getCharIndex=function(){return I}}function b(C){var T=C.data,A=o[T.workerId],N=!1;if(T.error)A.userError(T.error,T.file);else if(T.results&&T.results.data){var j={abort:function(){N=!0,y(T.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(E(A.userStep)){for(var P=0;P<T.results.data.length&&(A.userStep({data:T.results.data[P],errors:T.results.errors,meta:T.results.meta},j),!N);P++);delete T.results}else E(A.userChunk)&&(A.userChunk(T.results,j,T.file),delete T.results)}T.finished&&!N&&y(T.workerId,T.results)}function y(C,T){var A=o[C];E(A.userComplete)&&A.userComplete(T),A.terminate(),delete o[C]}function _(){throw new Error("Not implemented.")}function S(C){if(typeof C!="object"||C===null)return C;var T,A=Array.isArray(C)?[]:{};for(T in C)A[T]=S(C[T]);return A}function k(C,T){return function(){C.apply(T,arguments)}}function E(C){return typeof C=="function"}return c.parse=function(C,T){var A=(T=T||{}).dynamicTyping||!1;if(E(A)&&(T.dynamicTypingFunction=A,A={}),T.dynamicTyping=A,T.transform=!!E(T.transform)&&T.transform,!T.worker||!c.WORKERS_SUPPORTED)return A=null,c.NODE_STREAM_INPUT,typeof C=="string"?(C=(N=>N.charCodeAt(0)!==65279?N:N.slice(1))(C),A=new(T.download?f:p)(T)):C.readable===!0&&E(C.read)&&E(C.on)?A=new m(T):(n.File&&C instanceof File||C instanceof Object)&&(A=new h(T)),A.stream(C);(A=(()=>{var N;return!!c.WORKERS_SUPPORTED&&(N=(()=>{var j=n.URL||n.webkitURL||null,P=r.toString();return c.BLOB_URL||(c.BLOB_URL=j.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",P,")();"],{type:"text/javascript"})))})(),(N=new n.Worker(N)).onmessage=b,N.id=l++,o[N.id]=N)})()).userStep=T.step,A.userChunk=T.chunk,A.userComplete=T.complete,A.userError=T.error,T.step=E(T.step),T.chunk=E(T.chunk),T.complete=E(T.complete),T.error=E(T.error),delete T.worker,A.postMessage({input:C,config:T,workerId:A.id})},c.unparse=function(C,T){var A=!1,N=!0,j=",",P=`\r
`,R='"',B=R+R,q=!1,K=null,X=!1,I=((()=>{if(typeof T=="object"){if(typeof T.delimiter!="string"||c.BAD_DELIMITERS.filter(function(M){return T.delimiter.indexOf(M)!==-1}).length||(j=T.delimiter),typeof T.quotes!="boolean"&&typeof T.quotes!="function"&&!Array.isArray(T.quotes)||(A=T.quotes),typeof T.skipEmptyLines!="boolean"&&typeof T.skipEmptyLines!="string"||(q=T.skipEmptyLines),typeof T.newline=="string"&&(P=T.newline),typeof T.quoteChar=="string"&&(R=T.quoteChar),typeof T.header=="boolean"&&(N=T.header),Array.isArray(T.columns)){if(T.columns.length===0)throw new Error("Option columns is empty");K=T.columns}T.escapeChar!==void 0&&(B=T.escapeChar+R),T.escapeFormulae instanceof RegExp?X=T.escapeFormulae:typeof T.escapeFormulae=="boolean"&&T.escapeFormulae&&(X=/^[=+\-@\t\r].*$/)}})(),new RegExp(g(R),"g"));if(typeof C=="string"&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return J(null,C,q);if(typeof C[0]=="object")return J(K||Object.keys(C[0]),C,q)}else if(typeof C=="object")return typeof C.data=="string"&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields||K),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:typeof C.data[0]=="object"?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||typeof C.data[0]=="object"||(C.data=[C.data])),J(C.fields||[],C.data||[],q);throw new Error("Unable to serialize unrecognized input");function J(M,z,G){var H="",Q=(typeof M=="string"&&(M=JSON.parse(M)),typeof z=="string"&&(z=JSON.parse(z)),Array.isArray(M)&&0<M.length),oe=!Array.isArray(z[0]);if(Q&&N){for(var le=0;le<M.length;le++)0<le&&(H+=j),H+=Z(M[le],le);0<z.length&&(H+=P)}for(var Y=0;Y<z.length;Y++){var te=(Q?M:z[Y]).length,ue=!1,D=Q?Object.keys(z[Y]).length===0:z[Y].length===0;if(G&&!Q&&(ue=G==="greedy"?z[Y].join("").trim()==="":z[Y].length===1&&z[Y][0].length===0),G==="greedy"&&Q){for(var Ne=[],me=0;me<te;me++){var ye=oe?M[me]:me;Ne.push(z[Y][ye])}ue=Ne.join("").trim()===""}if(!ue){for(var fe=0;fe<te;fe++){0<fe&&!D&&(H+=j);var de=Q&&oe?M[fe]:fe;H+=Z(z[Y][de],fe)}Y<z.length-1&&(!G||0<te&&!D)&&(H+=P)}}return H}function Z(M,z){var G,H;return M==null?"":M.constructor===Date?JSON.stringify(M).slice(1,25):(H=!1,X&&typeof M=="string"&&X.test(M)&&(M="'"+M,H=!0),G=M.toString().replace(I,B),(H=H||A===!0||typeof A=="function"&&A(M,z)||Array.isArray(A)&&A[z]||((Q,oe)=>{for(var le=0;le<oe.length;le++)if(-1<Q.indexOf(oe[le]))return!0;return!1})(G,c.BAD_DELIMITERS)||-1<G.indexOf(j)||G.charAt(0)===" "||G.charAt(G.length-1)===" ")?R+G+R:G)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=x,c.ParserHandle=v,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=p,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(C){var T=C.config||{},A=[];return this.each(function(P){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var R=0;R<this.files.length;R++)A.push({file:this.files[R],inputElem:this,instanceConfig:a.extend({},T)})}),N(),this;function N(){if(A.length===0)E(C.complete)&&C.complete();else{var P,R,B,q,K=A[0];if(E(C.before)){var X=C.before(K.file,K.inputElem);if(typeof X=="object"){if(X.action==="abort")return P="AbortError",R=K.file,B=K.inputElem,q=X.reason,void(E(C.error)&&C.error({name:P},R,B,q));if(X.action==="skip")return void j();typeof X.config=="object"&&(K.instanceConfig=a.extend(K.instanceConfig,X.config))}else if(X==="skip")return void j()}var I=K.instanceConfig.complete;K.instanceConfig.complete=function(J){E(I)&&I(J,K.file,K.inputElem),j()},c.parse(K.file,K.instanceConfig)}}function j(){A.splice(0,1),N()}}),i&&(n.onmessage=function(C){C=C.data,c.WORKER_ID===void 0&&C&&(c.WORKER_ID=C.workerId),typeof C.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(C.input,C.config),finished:!0}):(n.File&&C.input instanceof File||C.input instanceof Object)&&(C=c.parse(C.input,C.config))&&n.postMessage({workerId:c.WORKER_ID,results:C,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(a$);var Ive=a$.exports;const s$=ni(Ive),nO="growth_brain_versions",aO=10,Rve=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(null),[a,s]=w.useState(0);w.useEffect(()=>{try{const f=localStorage.getItem(nO);if(f){const h=JSON.parse(f);t(h.versions||[]),n(h.currentVersionId||null)}i()}catch(f){console.error("Failed to load versions from localStorage",f)}},[]),w.useEffect(()=>{if(e.length>0||r)try{const h=JSON.stringify({currentVersionId:r,versions:e});localStorage.setItem(nO,h),i()}catch(f){console.error("Failed to save versions to localStorage",f),alert("Erro ao salvar no armazenamento local. O limite pode ter sido atingido.")}},[e,r]);const i=()=>{let f=0;for(const h in localStorage)localStorage.hasOwnProperty(h)&&(f+=localStorage[h].length*2/1024/1024);s(f)},o=w.useCallback((f,h,p,m=0)=>{if(e.length>=aO)throw new Error(`Limite de ${aO} verses atingido. Exclua verses antigas.`);const v={id:crypto.randomUUID(),name:f,description:p,createdAt:new Date().toISOString(),createdBy:"User",rowCount:h.length,editCount:m,data:h};return t(g=>[v,...g]),n(v.id),v},[e]),l=w.useCallback(f=>{const h=e.find(p=>p.id===f);if(!h)throw new Error("Verso no encontrada");return n(f),h.data},[e]),c=w.useCallback(f=>{if(f===r)throw new Error("No  possvel excluir a verso atual ativa.");t(h=>h.filter(p=>p.id!==f))},[r]),u=w.useCallback(f=>{const h=e.find(x=>x.id===f);if(!h)return;const p=s$.unparse(h.data,{delimiter:";",quotes:!0}),m=new Blob([p],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(m),g=document.createElement("a");g.href=v,g.setAttribute("download",`${h.name.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.csv`),document.body.appendChild(g),g.click(),document.body.removeChild(g)},[e]);return{versions:e,currentVersion:e.find(f=>f.id===r),currentVersionId:r,storageUsage:a,saveNewVersion:o,restoreVersion:l,deleteVersion:c,exportVersion:u}},Fve=({isOpen:e,onClose:t,onSave:r,pendingEditsCount:n})=>{const[a,s]=w.useState(""),[i,o]=w.useState("");if(!e)return null;const l=c=>{c.preventDefault(),a.trim()&&(r(a,i),s(""),o(""),t())};return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg shadow-xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Ju,{className:"text-emerald-400",size:20}),"Salvar Nova Verso"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsxs("form",{onSubmit:l,className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900/50 p-3 rounded border border-slate-700 text-sm text-slate-300",children:["Esta verso incluir ",d.jsxs("strong",{children:[n," alteraes"]})," pendentes."]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Nome da Verso"}),d.jsx("input",{type:"text",value:a,onChange:c=>s(c.target.value),placeholder:"Ex: Ajuste de Metas Nov",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none",autoFocus:!0,required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-xs text-slate-400 mb-1 uppercase font-bold",children:"Descrio (Opcional)"}),d.jsx("textarea",{value:i,onChange:c=>o(c.target.value),placeholder:"O que mudou nesta verso?",className:"w-full bg-slate-900 border border-slate-700 rounded p-2 text-slate-200 focus:ring-2 focus:ring-emerald-500 outline-none h-24 resize-none"})]}),d.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-slate-300 hover:bg-slate-700 rounded transition",children:"Cancelar"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded font-medium transition",children:"Salvar Verso"})]})]})]})})},Lve=({isOpen:e,onClose:t,versions:r,currentVersionId:n,onRestore:a,onDelete:s,onExport:i,storageUsage:o})=>e?d.jsx("div",{className:"fixed inset-0 z-50 flex justify-end bg-black/50 backdrop-blur-sm",children:d.jsxs("div",{className:"w-96 bg-slate-900 border-l border-slate-700 h-full flex flex-col shadow-2xl animate-in slide-in-from-right duration-200",children:[d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between",children:[d.jsxs("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Ym,{className:"text-blue-400",size:20}),"Histrico de Verses"]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]}),d.jsxs("div",{className:"p-4 bg-slate-800/50 border-b border-slate-700",children:[d.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mb-1",children:[d.jsx("span",{children:"Armazenamento Local"}),d.jsxs("span",{children:[o.toFixed(2)," MB / ~5 MB"]})]}),d.jsx("div",{className:"w-full bg-slate-700 h-1.5 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${o>4?"bg-red-500":"bg-blue-500"}`,style:{width:`${Math.min(o/5*100,100)}%`}})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:r.length===0?d.jsx("div",{className:"text-center text-slate-500 py-8",children:d.jsx("p",{children:"Nenhuma verso salva."})}):r.map(l=>{const c=l.id===n;return d.jsxs("div",{className:`border rounded-lg p-4 transition ${c?"bg-blue-900/20 border-blue-500/50":"bg-slate-800 border-slate-700 hover:border-slate-600"}`,children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsxs("div",{children:[d.jsx("h3",{className:`font-bold ${c?"text-blue-400":"text-slate-200"}`,children:l.name}),d.jsxs("p",{className:"text-xs text-slate-500 flex items-center gap-1 mt-1",children:[d.jsx(Ym,{size:12}),ke(en(l.createdAt),"dd 'de' MMM 's' HH:mm",{locale:ei})]})]}),c&&d.jsxs("span",{className:"bg-blue-900/50 text-blue-400 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[d.jsx(Zr,{size:12})," Atual"]})]}),l.description&&d.jsxs("p",{className:"text-sm text-slate-400 mb-3 italic border-l-2 border-slate-700 pl-2",children:['"',l.description,'"']}),d.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500 mb-4",children:[d.jsxs("span",{children:[l.rowCount," linhas"]}),d.jsxs("span",{children:[l.editCount," edies"]})]}),d.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-700/50",children:[d.jsxs("button",{onClick:()=>i(l.id),className:"text-slate-400 hover:text-slate-200 flex items-center gap-1 text-xs transition",title:"Baixar CSV",children:[d.jsx(V0,{size:14})," CSV"]}),d.jsx("div",{className:"flex items-center gap-2",children:!c&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>a(l.id),className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-xs transition font-medium",children:[d.jsx(DH,{size:14})," Restaurar"]}),d.jsx("button",{onClick:()=>s(l.id),className:"text-red-400 hover:text-red-300 flex items-center gap-1 text-xs transition",title:"Excluir",children:d.jsx(Kl,{size:14})})]})})]})]},l.id)})})]})}):null,$ve=()=>{const{frameworkData:e,setFrameworkData:t,activities:r,viewSettings:n}=mt(),[a,s]=w.useState(""),[i,o]=w.useState({}),[l,c]=w.useState({key:null,direction:"asc"}),[u,f]=w.useState(!1),[h,p]=w.useState(!1),{versions:m,currentVersion:v,saveNewVersion:g,restoreVersion:x,deleteVersion:b,exportVersion:y,storageUsage:_}=Rve();w.useEffect(()=>{e.length>0&&m.length===0&&g("Original - Importado",e,"Verso inicial criada automaticamente ao importar CSV.")},[e.length,m.length,g,e]);const S=w.useMemo(()=>e.length===0?[]:Object.keys(e[0]),[e]),k=R=>{c(B=>B.key===R?B.direction==="asc"?{key:R,direction:"desc"}:{key:null,direction:"asc"}:{key:R,direction:"asc"})},E=w.useMemo(()=>{let R=e.map((q,K)=>({...q,_originalIndex:K}));const B=n.filtrosGlobais;if(R=R.filter(q=>!(B.bu.length>0&&!B.bu.includes(q.BU)||B.canais.length>0&&!B.canais.includes(q.Canal)||B.segmentos.length>0&&!B.segmentos.includes(q.Segmento)||B.parceiros.length>0&&!B.parceiros.includes(q.Parceiro))),a){const q=a.toLowerCase();R=R.filter(K=>Object.values(K).some(X=>String(X).toLowerCase().includes(q)))}return l.key&&R.sort((q,K)=>{var H,Q;const X=l.key,I=((H=i[q._originalIndex])==null?void 0:H[X])??q[X],J=((Q=i[K._originalIndex])==null?void 0:Q[X])??K[X];if(I===J)return 0;const Z=Number(String(I).replace(",",".").replace(/[^0-9.-]+/g,"")),M=Number(String(J).replace(",",".").replace(/[^0-9.-]+/g,""));if(!isNaN(Z)&&!isNaN(M)&&String(I).trim()!==""&&String(J).trim()!=="")return l.direction==="asc"?Z-M:M-Z;const z=String(I).toLowerCase(),G=String(J).toLowerCase();return z<G?l.direction==="asc"?-1:1:z>G?l.direction==="asc"?1:-1:0}),R},[e,a,l,i,n.filtrosGlobais]),C=(R,B,q)=>{o(K=>({...K,[R]:{...K[R],[B]:q}}))},T=(R,B)=>{R.key==="Enter"&&B.blur(),R.key==="Escape"&&B.blur()},A=()=>{const R=e.map((B,q)=>i[q]?{...B,...i[q]}:B);t(R,r),o({})},N=(R,B)=>{const q=e.map((K,X)=>i[X]?{...K,...i[X]}:K);try{g(R,q,B,Object.keys(i).length),t(q,r),o({}),alert("Verso salva com sucesso!")}catch(K){alert(K.message)}},j=R=>{if(!(Object.keys(i).length>0&&!confirm("Voc tem edies no salvas. Restaurar uma verso anterior ir descart-las. Continuar?")))try{const B=x(R);t(B,r),o({}),p(!1)}catch(B){alert(B.message)}},P=()=>{const R=e.map((I,J)=>i[J]?{...I,...i[J]}:I),B=s$.unparse(R,{delimiter:";",quotes:!0}),q=new Blob([B],{type:"text/csv;charset=utf-8;"}),K=URL.createObjectURL(q),X=document.createElement("a");X.href=K,X.setAttribute("download","campanhas_editado.csv"),document.body.appendChild(X),X.click(),document.body.removeChild(X)};return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-slate-400",children:[d.jsx(Es,{size:48,className:"mb-4 opacity-50"}),d.jsx("p",{children:"Nenhum dado carregado. Faa upload do CSV na tela inicial."})]}):d.jsxs("div",{className:"flex flex-col h-full bg-slate-900 relative",children:[d.jsx(Fve,{isOpen:u,onClose:()=>f(!1),onSave:N,pendingEditsCount:Object.keys(i).length}),d.jsx(Lve,{isOpen:h,onClose:()=>p(!1),versions:m,currentVersionId:(v==null?void 0:v.id)||null,onRestore:j,onDelete:b,onExport:y,storageUsage:_}),d.jsxs("div",{className:"p-4 border-b border-slate-700 flex items-center justify-between gap-4 bg-slate-800/50",children:[d.jsxs("div",{className:"relative flex-1 max-w-md group",children:[d.jsx(rk,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4 group-focus-within:text-blue-400 transition"}),d.jsx("input",{type:"text",placeholder:"Buscar em todas as colunas...",value:a,onChange:R=>s(R.target.value),className:"w-full bg-slate-900 border border-slate-700 rounded-lg pl-10 pr-10 py-2 text-sm text-slate-200 focus:ring-2 focus:ring-blue-500 outline-none transition"}),a&&d.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:14})})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[v&&d.jsxs("div",{className:"hidden md:flex items-center gap-2 mr-4 text-xs text-slate-400 bg-slate-800 px-3 py-1.5 rounded-full border border-slate-700",children:[d.jsx(lW,{size:12}),d.jsx("span",{className:"max-w-[150px] truncate",children:v.name})]}),d.jsx("button",{onClick:()=>p(!0),className:"flex items-center gap-2 px-3 py-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg text-sm font-medium transition",title:"Histrico de Verses",children:d.jsx(QW,{size:18})}),Object.keys(i).length>0&&d.jsxs("div",{className:"flex items-center gap-2 mr-2",children:[d.jsxs("span",{className:"text-amber-400 text-xs font-medium bg-amber-900/30 px-2 py-1 rounded border border-amber-500/30",children:[Object.keys(i).length," alteraes"]}),d.jsx("button",{onClick:A,className:"px-3 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",title:"Aplicar na memria (sem criar nova verso)",children:"Aplicar"})]}),d.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg text-sm font-medium transition shadow-lg shadow-emerald-900/20",children:[d.jsx(Ju,{size:16}),"Salvar Verso"]}),d.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg text-sm font-medium transition",children:[d.jsx(V0,{size:16}),"Exportar"]})]})]}),d.jsxs("div",{className:"flex-1 overflow-auto relative",children:[d.jsxs("table",{className:"w-full border-collapse text-sm text-left relative",children:[d.jsx("thead",{className:"bg-slate-800 text-slate-400 sticky top-0 z-20 shadow-lg",children:d.jsxs("tr",{children:[d.jsx("th",{className:"p-3 border-b border-slate-600 font-medium w-12 text-center sticky left-0 z-30 bg-slate-800 border-r border-slate-600 shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]",children:"#"}),S.map(R=>d.jsx("th",{onClick:()=>k(R),className:"p-3 border-b border-slate-700 font-medium whitespace-nowrap min-w-[150px] cursor-pointer hover:bg-slate-700 hover:text-slate-200 transition select-none group",children:d.jsxs("div",{className:"flex items-center gap-2",children:[R,d.jsx("span",{className:"text-slate-600 group-hover:text-slate-400",children:l.key===R?l.direction==="asc"?d.jsx(X_,{size:14,className:"text-blue-400"}):d.jsx(q_,{size:14,className:"text-blue-400"}):d.jsx(pa,{size:14,className:"opacity-0 group-hover:opacity-100 transition"})})]})},R))]})}),d.jsx("tbody",{className:"divide-y divide-slate-800",children:E.map((R,B)=>{const q=R._originalIndex;return d.jsxs("tr",{className:`transition group ${B%2===0?"bg-slate-800":"bg-slate-800/50"} hover:bg-slate-700`,children:[d.jsx("td",{className:`p-2 text-slate-400 text-xs text-center border-r border-slate-600 sticky left-0 z-10 ${B%2===0?"bg-slate-800":"bg-slate-800/50"} group-hover:bg-slate-700 transition shadow-[2px_0_5px_-2px_rgba(0,0,0,0.3)]`,children:B+1}),S.map(K=>{var J,Z;const X=((J=i[q])==null?void 0:J[K])??R[K],I=((Z=i[q])==null?void 0:Z[K])!==void 0;return d.jsx("td",{className:`p-0 border-r border-slate-700/50 relative ${I?"bg-amber-900/20":""}`,children:d.jsx("input",{type:"text",value:X,onChange:M=>C(q,K,M.target.value),onKeyDown:M=>T(M,M.currentTarget),className:`w-full h-full p-3 bg-transparent border-none outline-none text-slate-300 focus:bg-slate-800 focus:ring-1 focus:ring-inset focus:ring-blue-500 transition ${I?"text-amber-200 font-medium":""}`})},K)})]},q)})})]}),E.length===0&&d.jsxs("div",{className:"p-8 text-center text-slate-500",children:['Nenhum resultado encontrado para "',a,'"']})]}),d.jsxs("div",{className:"bg-slate-800 border-t border-slate-700 p-2 px-4 text-xs text-slate-400 flex justify-between items-center",children:[d.jsxs("span",{children:["Total: ",d.jsx("strong",{children:e.length})," linhas"]}),d.jsxs("span",{children:["Mostrando: ",d.jsx("strong",{children:E.length})," linhas"]})]})]})},Bve=e=>w.useMemo(()=>{const r=new Map;e.forEach(a=>{const s=a.bu.trim(),i=a.raw["Oferta 2"]||"Padrao",o=a.raw["Promocional 2"]||"N/A",l=`${s}|${a.canal}|${a.oferta||"Sem Oferta"}|${a.segmento}|${a.promocional||"N/A"}|${i}|${o}`;r.has(l)||r.set(l,[]),r.get(l).push(a)});const n=[];return r.forEach((a,s)=>{const[i,o,l,c,u,f,h]=s.split("|"),p={bu:i,canal:o,oferta:l,segmento:c,promocional:u!=="N/A"?u:void 0,oferta2:f,promocional2:h!=="N/A"?h:void 0};let m=0,v=0,g=0,x=0,b=0;a.forEach(R=>{R.kpis.cac!==null&&R.kpis.cac>0&&(m+=R.kpis.cac,x++),R.kpis.taxaConversao!==null&&(v+=R.kpis.taxaConversao,b++),R.kpis.cartoes!==null&&(g+=R.kpis.cartoes)});const y=x>0?m/x:0,_=b>0?v/b:0,S=a.length,k=a.length>0?new Date(Math.max(...a.map(R=>R.dataDisparo.getTime()))):null,E={avgCAC:y,avgConversion:_,totalVolume:S,totalCards:g,successRate:0,lastExecuted:k};let C=0;x>0&&(C=Math.max(0,Math.min(100,100-y/2)));const T=Math.max(0,Math.min(100,_/.05*100)),A=Math.min(100,S/10*100),N=C*.4+T*.4+A*.2,j={cacScore:C,conversionScore:T,volumeScore:A,finalScore:N},P=[];x>0?y<60?P.push({type:"positive",text:"CAC Excelente (< R$ 60)"}):y>150&&P.push({type:"negative",text:"CAC Alto (> R$ 150)"}):P.push({type:"neutral",text:"Sem dados de CAC"}),_>.03?P.push({type:"positive",text:"Alta Converso (> 3%)"}):_<.005&&b>0&&P.push({type:"negative",text:"Baixa Converso (< 0.5%)"}),S<3&&P.push({type:"neutral",text:"Volume baixo (pouca confiana)"}),S>10&&P.push({type:"positive",text:"Volume alto (alta confiana)"}),n.push({id:s,combo:p,metrics:E,score:j,insights:P,sampleActivities:a.sort((R,B)=>B.dataDisparo.getTime()-R.dataDisparo.getTime())})}),n.sort((a,s)=>s.score.finalScore-a.score.finalScore)},[e]),i$=w.createContext(void 0),sO="growth-brain-bu-selection",zve=({children:e})=>{const[t,r]=w.useState(()=>{const o=localStorage.getItem(sO);return o?JSON.parse(o):["B2C","B2B2C","Plurix"]});w.useEffect(()=>{localStorage.setItem(sO,JSON.stringify(t))},[t]);const n=o=>{r(l=>l.includes(o)?l.filter(c=>c!==o):[...l,o])},a=()=>{r(["B2C","B2B2C","Plurix"])},s=()=>{r([])},i=o=>t.includes(o);return d.jsx(i$.Provider,{value:{selectedBUs:t,toggleBU:n,selectAll:a,deselectAll:s,isBUSelected:i},children:e})},Ph=()=>{const e=w.useContext(i$);if(e===void 0)throw new Error("useBU must be used within a BUProvider");return e},Uve=({recommendation:e,onClick:t})=>{const{combo:r,score:n,metrics:a,insights:s}=e,i=f=>f>=80?"text-emerald-400 border-emerald-500/50 bg-emerald-500/10":f>=60?"text-yellow-400 border-yellow-500/50 bg-yellow-500/10":f>=40?"text-orange-400 border-orange-500/50 bg-orange-500/10":"text-red-400 border-red-500/50 bg-red-500/10",o=f=>{const h=f.toLowerCase();return h.includes("email")||h.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":h.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":h.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":h.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"},c=(f=>{if(!f)return{text:"Nunca executado",color:"text-blue-400"};const h=Math.abs(new Date().getTime()-f.getTime()),p=Math.ceil(h/(1e3*60*60*24));return p<7?{text:`h ${p} dias`,color:"text-slate-500"}:p<14?{text:`h ${p} dias`,color:"text-yellow-500"}:{text:`h ${p} dias`,color:"text-emerald-500"}})(a.lastExecuted),u=i(n.finalScore);return d.jsxs("div",{onClick:t,className:`bg-slate-800/50 border rounded-lg p-4 transition cursor-pointer group relative overflow-hidden hover:shadow-lg ${u.replace("text-","border-").split(" ")[1]}`,children:[d.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-white/5 to-transparent rounded-bl-full -mr-10 -mt-10 transition-opacity opacity-0 group-hover:opacity-100 pointer-events-none"}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${o(r.canal)}`,children:r.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:r.segmento}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-pink-500/10 text-pink-300 px-1.5 py-0.5 rounded border border-pink-500/20",children:r.promocional})]}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-cyan-500/10 text-cyan-300 px-1.5 py-0.5 rounded border border-cyan-500/20",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-[10px] bg-indigo-500/10 text-indigo-300 px-1.5 py-0.5 rounded border border-indigo-500/20",children:r.promocional2})]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-100 line-clamp-2",title:r.oferta,children:r.oferta})]}),d.jsx("div",{className:`flex flex-col items-center justify-center w-12 h-12 rounded-full border-2 ${u}`,children:d.jsx("span",{className:"text-sm font-bold",children:Math.round(n.finalScore)})})]}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mb-4",children:[d.jsx(zs,{content:"Custo de Aquisio Mdio das campanhas",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Xu,{size:10})," CAC"]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.avgCAC>0?`R$ ${a.avgCAC.toFixed(0)}`:"-"})]})}),d.jsx(zs,{content:"Taxa de Converso Mdia (Aprovados / Entregues)",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Mn,{size:10})," Conv."]}),d.jsxs("div",{className:"text-xs font-semibold text-slate-200",children:[(a.avgConversion*100).toFixed(1),"%"]})]})}),d.jsx(zs,{content:"Nmero total de execues desta combinao",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(OI,{size:10})," Vol."]}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:a.totalVolume})]})}),d.jsx(zs,{content:"Data da ltima execuo registrada",children:d.jsxs("div",{className:"bg-slate-900/50 rounded p-2 text-center group/metric relative cursor-help",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 text-[10px] text-slate-400 mb-1",children:[d.jsx(Ym,{size:10})," ltima"]}),d.jsx("div",{className:`text-[10px] font-semibold ${c.color} leading-tight`,children:c.text})]})})]}),d.jsx("div",{className:"space-y-1",children:s.slice(0,2).map((f,h)=>d.jsxs("div",{className:`flex items-center gap-1.5 text-[10px] px-2 py-1 rounded ${f.type==="positive"?"bg-emerald-500/10 text-emerald-300":f.type==="negative"?"bg-red-500/10 text-red-300":"bg-slate-700/50 text-slate-400"}`,children:[f.type==="positive"?d.jsx(Mn,{size:10}):f.type==="negative"?d.jsx(Qu,{size:10}):d.jsx(Zu,{size:10}),f.text]},h))})]})},E1=5,Vve=({recommendation:e,onClose:t})=>{const{combo:r,sampleActivities:n,metrics:a}=e,[s,i]=w.useState(1),o=w.useMemo(()=>[...n].sort((h,p)=>p.dataDisparo.getTime()-h.dataDisparo.getTime()),[n]),l=Math.ceil(o.length/E1),c=o.slice((s-1)*E1,s*E1),u=w.useMemo(()=>[...n].sort((h,p)=>h.dataDisparo.getTime()-p.dataDisparo.getTime()).map(h=>({date:h.dataDisparo.toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit"}),cartoes:h.kpis.cartoes||0,cac:h.kpis.cac||0,conversao:(h.kpis.taxaConversao||0)*100})),[n]),f=()=>{const h=["Data","Activity Name","BU","Cartes","Converso (%)","CAC (R$)","Custo Total (R$)"],p=o.map(b=>[b.dataDisparo.toLocaleDateString("pt-BR"),`"${b.id}"`,b.bu,b.kpis.cartoes||0,((b.kpis.taxaConversao||0)*100).toFixed(2).replace(".",","),(b.kpis.cac||0).toFixed(2).replace(".",","),(b.kpis.custoTotal||0).toFixed(2).replace(".",",")]),m=[h.join(";"),...p.map(b=>b.join(";"))].join(`
`),v=new Blob([m],{type:"text/csv;charset=utf-8;"}),g=URL.createObjectURL(v),x=document.createElement("a");x.setAttribute("href",g),x.setAttribute("download",`historico_${r.canal}_${r.segmento}.csv`),document.body.appendChild(x),x.click(),document.body.removeChild(x)};return d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-slate-900/80 backdrop-blur-xl border border-white/10 rounded-xl w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl animate-in fade-in zoom-in-95 duration-200",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 shrink-0",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-lg font-bold text-slate-100 flex items-center gap-2",children:" Histrico de Execues"}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mt-1 flex-wrap",children:[d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.canal}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded",children:r.segmento}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-slate-800 px-2 py-0.5 rounded text-slate-300 font-medium",children:r.oferta}),r.promocional&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-pink-500/10 text-pink-300 px-2 py-0.5 rounded border border-pink-500/20 font-medium",children:r.promocional})]}),d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-cyan-500/10 text-cyan-300 px-2 py-0.5 rounded border border-cyan-500/20 font-medium",children:r.oferta2}),r.promocional2&&d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"+"}),d.jsx("span",{className:"bg-indigo-500/10 text-indigo-300 px-2 py-0.5 rounded border border-indigo-500/20 font-medium",children:r.promocional2})]})]})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-3 py-1.5 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg text-xs font-medium transition",children:[d.jsx(V0,{size:14})," Exportar CSV"]}),d.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-slate-200",children:d.jsx(Za,{size:20})})]})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Execues"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalVolume})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"CAC Mdio"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:["R$ ",a.avgCAC.toFixed(2)]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Converso Mdia"}),d.jsxs("div",{className:"text-xl font-bold text-slate-100",children:[(a.avgConversion*100).toFixed(1),"%"]})]}),d.jsxs("div",{className:"bg-slate-800/50 p-3 rounded-lg border border-slate-700/50",children:[d.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Total Cartes"}),d.jsx("div",{className:"text-xl font-bold text-slate-100",children:a.totalCards})]})]}),d.jsxs("div",{className:"bg-slate-800/30 p-4 rounded-lg border border-slate-700/30",children:[d.jsx("h3",{className:"text-xs font-bold text-slate-400 mb-4 uppercase tracking-wider",children:"Tendncia de Cartes (ltimas Execues)"}),d.jsx("div",{className:"h-32 w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(khe,{data:u,children:[d.jsx("defs",{children:d.jsxs("linearGradient",{id:"colorCartoes",x1:"0",y1:"0",x2:"0",y2:"1",children:[d.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),d.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})}),d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"date",stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1}),d.jsx(ot,{stroke:"#64748b",tick:{fill:"#64748b",fontSize:10},tickLine:!1,axisLine:!1,width:30}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",fontSize:"12px"},itemStyle:{color:"#e2e8f0"}}),d.jsx(Gx,{type:"monotone",dataKey:"cartoes",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorCartoes)"})]})})})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300",children:"Lista de Execues"}),d.jsxs("span",{className:"text-xs text-slate-500",children:["Pgina ",s," de ",l]})]}),d.jsx("div",{className:"space-y-3",children:c.map(h=>{const p=m=>{const v=m.toLowerCase();return v.includes("email")||v.includes("e-mail")?"bg-blue-500/20 text-blue-300 border-blue-500/30":v.includes("sms")?"bg-amber-500/20 text-amber-300 border-amber-500/30":v.includes("push")?"bg-purple-500/20 text-purple-300 border-purple-500/30":v.includes("whats")?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600"};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-lg p-3 hover:border-slate-600 transition",children:[d.jsx("div",{className:"flex justify-between items-start mb-2",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1 flex-wrap",children:[d.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border ${p(h.canal)}`,children:h.canal}),d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.bu}),h.segmento&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-slate-300",children:h.segmento})]}),h.jornada&&d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-xs text-slate-400",children:""}),d.jsx("span",{className:"text-xs font-medium text-purple-300",children:h.jornada})]}),d.jsxs("span",{className:"text-xs text-slate-500 ml-auto flex items-center gap-1",children:[d.jsx(lc,{size:10}),h.dataDisparo.toLocaleDateString("pt-BR")]})]}),d.jsx("h3",{className:"text-sm font-bold text-slate-200 line-clamp-1",title:h.id,children:h.id})]})}),d.jsxs("div",{className:"grid grid-cols-4 gap-2 mt-2",children:[d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Enviado"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEnviada||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Entregue"}),d.jsx("div",{className:"text-xs font-semibold text-slate-200",children:h.kpis.baseEntregue||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Cartes"}),d.jsx("div",{className:"text-xs font-semibold text-blue-400",children:h.kpis.cartoes||0})]}),d.jsxs("div",{className:"bg-slate-900/50 p-2 rounded",children:[d.jsx("div",{className:"text-[10px] text-slate-500 mb-0.5",children:"Converso"}),d.jsxs("div",{className:"text-xs font-semibold text-emerald-400",children:[h.kpis.taxaConversao?(h.kpis.taxaConversao*100).toFixed(2):0,"%"]})]})]})]},h.id)})}),l>1&&d.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[d.jsx("button",{onClick:()=>i(h=>Math.max(1,h-1)),disabled:s===1,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(z0,{size:20})}),d.jsxs("span",{className:"text-xs text-slate-400",children:[s," / ",l]}),d.jsx("button",{onClick:()=>i(h=>Math.min(l,h+1)),disabled:s===l,className:"p-1 rounded hover:bg-slate-800 disabled:opacity-50 disabled:cursor-not-allowed text-slate-400",children:d.jsx(U0,{size:20})})]})]})]}),d.jsx("div",{className:"p-4 border-t border-slate-800 flex justify-end shrink-0",children:d.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg text-sm font-medium transition",children:"Fechar"})})]})})},o$=w.createContext(void 0),Wve=({children:e})=>{const[t,r]=w.useState(()=>Qr(new Date)),[n,a]=w.useState(()=>Fl(new Date)),[s,i]=w.useState("thisMonth"),[o,l]=w.useState(!1),[c,u]=w.useState(null);w.useEffect(()=>{console.log("PeriodProvider mounted. Force-setting preset to 'thisMonth'."),h("thisMonth")},[]);const f=(m,v,g="custom")=>{console.log("setPeriod called:",{start:m,end:v,newPreset:g}),r(m),a(v),i(g)},h=m=>{const v=new Date;let g=v,x=v;switch(m){case"today":g=v,x=v;break;case"yesterday":g=jt(v,1),x=jt(v,1);break;case"thisWeek":g=jt(v,v.getDay());break;case"last7":g=jt(v,6);break;case"last14":g=jt(v,13);break;case"last28":g=jt(v,27);break;case"last30":g=jt(v,29);break;case"last90":g=jt(v,89);break;case"thisMonth":g=Qr(v),x=Fl(v);break;case"lastMonth":g=Qr(Vu(v,1)),x=Fl(Vu(v,1));break;case"thisYear":g=new Date(v.getFullYear(),0,1);break;case"custom":return}r(g),a(x),i(m)},p=m=>{l(m),m&&!c?u("previousPeriod"):m||u(null)};return d.jsx(o$.Provider,{value:{startDate:t,endDate:n,preset:s,compareEnabled:o,compareMode:c,setPeriod:f,setPreset:h,toggleCompare:p},children:e})},Nh=()=>{const e=w.useContext(o$);if(e===void 0)throw new Error("usePeriod must be used within a PeriodProvider");return e},Hve=()=>{const{activities:e,viewSettings:t}=mt(),{selectedBUs:r}=Ph(),{startDate:n,endDate:a}=Nh(),s=w.useMemo(()=>e.filter(p=>Oo(p.dataDisparo,{start:n,end:a})),[e,n,a]),i=Bve(s),[o,l]=w.useState(null),[c,u]=w.useState("score"),f=w.useMemo(()=>{const p=t.filtrosGlobais;return s.filter(m=>{const v=r.length===0||r.includes(m.bu),g=p.canais.length===0||p.canais.includes(m.canal),x=p.segmentos.length===0||p.segmentos.includes(m.segmento),b=p.jornadas.length===0||p.jornadas.includes(m.jornada),y=p.parceiros.length===0||p.parceiros.includes(m.parceiro);return v&&g&&x&&b&&y}).length},[s,t.filtrosGlobais,r]),h=w.useMemo(()=>{const p=t.filtrosGlobais;return i.filter(v=>{const g=r.length===0||r.includes(v.combo.bu),x=p.canais.length===0||p.canais.includes(v.combo.canal),b=p.segmentos.length===0||p.segmentos.includes(v.combo.segmento),y=p.jornadas.length===0||v.sampleActivities.some(S=>p.jornadas.includes(S.jornada)),_=p.parceiros.length===0||v.sampleActivities.some(S=>p.parceiros.includes(S.parceiro));return g&&x&&b&&y&&_}).sort((v,g)=>{var x,b;switch(c){case"score":return g.score.finalScore-v.score.finalScore;case"cac":const y=v.metrics.avgCAC>0?v.metrics.avgCAC:999999,_=g.metrics.avgCAC>0?g.metrics.avgCAC:999999;return y-_;case"conversion":return g.metrics.avgConversion-v.metrics.avgConversion;case"volume":return g.metrics.totalVolume-v.metrics.totalVolume;case"recency":const S=((x=v.metrics.lastExecuted)==null?void 0:x.getTime())||0;return(((b=g.metrics.lastExecuted)==null?void 0:b.getTime())||0)-S;default:return 0}})},[i,t.filtrosGlobais,c,r]);return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Zm,{className:"text-amber-400"}),"Orientador Estratgico"]}),d.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Recomendaes baseadas no histrico de ",f," campanhas."]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 p-1 rounded-lg border border-slate-800",children:[d.jsxs("span",{className:"text-xs text-slate-500 px-2 flex items-center gap-1",children:[d.jsx(pa,{size:12})," Ordenar:"]}),[{id:"score",label:"Score"},{id:"cac",label:"Menor CAC"},{id:"conversion",label:"Maior Conv."},{id:"volume",label:"Volume"},{id:"recency",label:"Recente"}].map(p=>d.jsxs("button",{onClick:()=>u(p.id),className:`px-3 py-1 text-xs font-medium rounded transition flex items-center gap-1 ${c===p.id?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-800"}`,children:[p.label,p.id==="score"&&d.jsx(zs,{content:d.jsxs("div",{className:"w-48",children:[d.jsx("p",{className:"text-[10px] font-bold text-slate-300 mb-2 border-b border-slate-700 pb-1",children:"Clculo do Score"}),d.jsxs("div",{className:"space-y-1 text-[10px] text-slate-400",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" CAC"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Converso"}),d.jsx("span",{className:"text-slate-200",children:"40%"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:" Volume"}),d.jsx("span",{className:"text-slate-200",children:"20%"})]})]}),d.jsx("p",{className:"text-[9px] text-slate-500 mt-2 italic",children:"Score 100 = melhor combinao do perodo (Normalizado)"})]}),children:d.jsx(aa,{size:12,className:c==="score"?"text-blue-200":"text-slate-500"})})]},p.id))]}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 bg-slate-900 px-3 py-1.5 rounded border border-slate-800",children:[d.jsx(W0,{size:12}),"Filtros Globais Ativos"]})]})]}),h.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 text-slate-500",children:[d.jsx(Zm,{size:48,className:"mb-4 opacity-20"}),d.jsx("p",{children:"Nenhuma recomendao encontrada com os filtros atuais."})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 overflow-y-auto pb-4",children:h.map(p=>d.jsx(Uve,{recommendation:p,onClick:()=>l(p)},p.id))}),o&&d.jsx(Vve,{recommendation:o,onClose:()=>l(null)})]})},AE=()=>{const[e,t]=w.useState(!1),[r,n]=w.useState(null);return{parseB2CCSV:w.useCallback(s=>(t(!0),n(null),new Promise((i,o)=>{const l=new m2,c=new FileReader;c.onload=u=>{var p;const h={type:"PARSE_B2C_CSV",fileContent:(p=u.target)==null?void 0:p.result};l.postMessage(h)},c.onerror=u=>{n("Erro ao ler arquivo."),t(!1),l.terminate(),o(u)},l.onmessage=u=>{const{type:f}=u.data;if(f==="SUCCESS"||f==="SUCCESS_B2C"){const h=u.data.data,p=u.data.warnings||[];i({data:h,warnings:p})}else{const h=u.data.error||"Unknown Worker Error";n(h),o(new Error(h))}t(!1),l.terminate()},l.onerror=u=>{n("Erro no Worker: "+u.message),t(!1),l.terminate(),o(u)},c.readAsText(s)})),[]),isLoading:e,error:r}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var l$=1252,Kve=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],jE={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},PE=function(e){Kve.indexOf(e)!=-1&&(l$=jE[0]=e)};function Gve(){PE(1252)}var gs=function(e){PE(e)};function c$(){gs(1200),Gve()}function iO(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function qve(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function u$(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Yd=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?qve(e.slice(2)):t==254&&r==255?u$(e.slice(2)):t==65279?e.slice(1):e},Dp=function(t){return String.fromCharCode(t)},oO=function(t){return String.fromCharCode(t)},x0,xo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function lO(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),s=r>>2,n=e.charCodeAt(c++),i=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=xo.charAt(s)+xo.charAt(i)+xo.charAt(o)+xo.charAt(l);return t}function Ca(e){var t="",r=0,n=0,a=0,s=0,i=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)s=xo.indexOf(e.charAt(c++)),i=xo.indexOf(e.charAt(c++)),r=s<<2|i>>4,t+=String.fromCharCode(r),o=xo.indexOf(e.charAt(c++)),n=(i&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=xo.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Ke=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),fc=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function zo(e){return Ke?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function cO(e){return Ke?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var ms=function(t){return Ke?fc(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function hc(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function NE(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return NE(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var mo=Ke?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:fc(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function Yve(e){for(var t=[],r=0,n=e.length+250,a=zo(e.length+255),s=0;s<e.length;++s){var i=e.charCodeAt(s);if(i<128)a[r++]=i;else if(i<2048)a[r++]=192|i>>6&31,a[r++]=128|i&63;else if(i>=55296&&i<57344){i=(i&1023)+64;var o=e.charCodeAt(++s)&1023;a[r++]=240|i>>8&7,a[r++]=128|i>>2&63,a[r++]=128|o>>6&15|(i&3)<<4,a[r++]=128|o&63}else a[r++]=224|i>>12&15,a[r++]=128|i>>6&63,a[r++]=128|i&63;r>n&&(t.push(a.slice(0,r)),r=0,a=zo(65535),n=65530)}return t.push(a.slice(0,r)),mo(t)}var Gn=/\u0000/g,Xd=/[\u0001-\u0006]/g;function bu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function xs(e,t){var r=""+e;return r.length>=t?r:or("0",t-r.length)+r}function OE(e,t){var r=""+e;return r.length>=t?r:or(" ",t-r.length)+r}function rg(e,t){var r=""+e;return r.length>=t?r:r+or(" ",t-r.length)}function Xve(e,t){var r=""+Math.round(e);return r.length>=t?r:or("0",t-r.length)+r}function Zve(e,t){var r=""+e;return r.length>=t?r:or("0",t-r.length)+r}var uO=Math.pow(2,32);function Dc(e,t){if(e>uO||e<-uO)return Xve(e,t);var r=Math.round(e);return Zve(r,t)}function ng(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var dO=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],C1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function Jve(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Fe={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},fO={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},Qve={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function ag(e,t,r){for(var n=e<0?-1:1,a=e*n,s=0,i=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*i+s,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),s=i,i=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=s):(u=c,o=i)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function yo(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),s=0,i=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)i=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)i=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=sge(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=s,o}var d$=new Date(1899,11,31,0,0,0),ege=d$.getTime(),tge=new Date(1900,2,1,0,0,0);function f$(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=tge&&(r+=24*60*60*1e3),(r-(ege+(e.getTimezoneOffset()-d$.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function DE(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function rge(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function nge(e){var t=e<0?12:11,r=DE(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function age(e){var t=DE(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function y0(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=nge(e):t===10?r=e.toFixed(10).substr(0,12):r=age(e),DE(rge(r.toUpperCase()))}function tc(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):y0(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Ta(14,f$(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function sge(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function ige(e,t,r,n){var a="",s=0,i=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return C1[r.m-1][1];case 5:return C1[r.m-1][0];default:return C1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return dO[r.q][0];default:return dO[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?xs(r.S,t.length):(n>=2?i=n===3?1e3:100:i=n===1?10:1,s=Math.round(i*(r.S+r.u)),s>=60*i&&(s=0),t==="s"?s===0?"0":""+s/i:(a=xs(s,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?xs(l,c):"";return u}function bo(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var h$=/%/g;function oge(e,t,r){var n=t.replace(h$,""),a=t.length-n.length;return Ti(e,n,r*Math.pow(10,2*a))+or("%",a)}function lge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ti(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function p$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+p$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),r.indexOf("e")===-1){var i=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var m$=/# (\?+)( ?)\/( ?)(\d+)/;function cge(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),s=Math.floor(a/n),i=a-s*n,o=n;return r+(s===0?"":""+s)+" "+(i===0?or(" ",e[1].length+1+e[4].length):OE(i,e[1].length)+e[2]+"/"+e[3]+xs(o,e[4].length))}function uge(e,t,r){return r+(t===0?"":""+t)+or(" ",e[1].length+2+e[4].length)}var v$=/^#*0*\.([0#]+)/,g$=/\).*[0#]/,x$=/\(###\) ###\\?-####/;function $n(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function hO(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function pO(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function dge(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function fge(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Ma(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ma("n",n,r):"("+Ma("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return lge(e,t,r);if(t.indexOf("%")!==-1)return oge(e,t,r);if(t.indexOf("E")!==-1)return p$(t,r);if(t.charCodeAt(0)===36)return"$"+Ma(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Dc(l,t.length);if(t.match(/^[#?]+$/))return a=Dc(r,0),a==="0"&&(a=""),a.length>t.length?a:$n(t.substr(0,t.length-a.length))+a;if(s=t.match(m$))return cge(s,l,c);if(t.match(/^#+0+$/))return c+Dc(l,t.length-t.indexOf("0"));if(s=t.match(v$))return a=hO(r,s[1].length).replace(/^([^\.]+)$/,"$1."+$n(s[1])).replace(/\.$/,"."+$n(s[1])).replace(/\.(\d*)$/,function(m,v){return"."+v+or("0",$n(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+hO(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+bo(Dc(l,0));if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ma(e,t,-r):bo(""+(Math.floor(r)+dge(r,s[1].length)))+"."+xs(pO(r,s[1].length),s[1].length);if(s=t.match(/^#,#*,#0/))return Ma(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bu(Ma(e,t.replace(/[\\-]/g,""),r)),i=0,bu(bu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(x$))return a=Ma(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=ag(l,Math.pow(10,i)-1,!1),a=""+c,u=Ti("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=rg(o[2],i),u.length<s[4].length&&(u=$n(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=ag(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?OE(o[1],i)+s[2]+"/"+s[3]+rg(o[2],i):or(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=Dc(r,0),t.length<=a.length?a:$n(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return $n(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return i=pO(r,s[1].length),r<0?"-"+Ma(e,t,-r):bo(fge(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?xs(0,3-m.length):"")+m})+"."+xs(i,s[1].length);switch(t){case"###,##0.00":return Ma(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var p=bo(Dc(l,0));return p!=="0"?c+p:"";case"###,###.00":return Ma(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Ma(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function hge(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Ti(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function pge(e,t,r){var n=t.replace(h$,""),a=t.length-n.length;return Ti(e,n,r*Math.pow(10,2*a))+or("%",a)}function y$(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+y$(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var s=Math.floor(Math.log(t)*Math.LOG10E)%a;if(s<0&&(s+=a),r=(t/Math.pow(10,s)).toPrecision(n+1+(a+s)%a),!r.match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(i-r.length+s):r+="E+"+(i-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+s)%a)+"."+u.substr(s)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ns(e,t,r){if(e.charCodeAt(0)===40&&!t.match(g$)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ns("n",n,r):"("+Ns("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return hge(e,t,r);if(t.indexOf("%")!==-1)return pge(e,t,r);if(t.indexOf("E")!==-1)return y$(t,r);if(t.charCodeAt(0)===36)return"$"+Ns(e,t.substr(t.charAt(1)==" "?2:1),r);var a,s,i,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+xs(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$n(t.substr(0,t.length-a.length))+a;if(s=t.match(m$))return uge(s,l,c);if(t.match(/^#+0+$/))return c+xs(l,t.length-t.indexOf("0"));if(s=t.match(v$))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$n(s[1])).replace(/\.$/,"."+$n(s[1])),a=a.replace(/\.(\d*)$/,function(m,v){return"."+v+or("0",$n(s[1]).length-v.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),s=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=t.match(/^#{1,3},##0(\.?)$/))return c+bo(""+l);if(s=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ns(e,t,-r):bo(""+r)+"."+or("0",s[1].length);if(s=t.match(/^#,#*,#0/))return Ns(e,t.replace(/^#,#*,/,""),r);if(s=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=bu(Ns(e,t.replace(/[\\-]/g,""),r)),i=0,bu(bu(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return i<a.length?a.charAt(i++):m==="0"?"0":""}));if(t.match(x$))return a=Ns(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(s=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(s[4].length,7),o=ag(l,Math.pow(10,i)-1,!1),a=""+c,u=Ti("n",s[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+s[2]+"/"+s[3],u=rg(o[2],i),u.length<s[4].length&&(u=$n(s[4].substr(s[4].length-u.length))+u),a+=u,a;if(s=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(s[1].length,s[4].length),7),o=ag(l,Math.pow(10,i)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?OE(o[1],i)+s[2]+"/"+s[3]+rg(o[2],i):or(" ",2*i+1+s[2].length+s[3].length));if(s=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$n(t.substr(0,t.length-a.length))+a;if(s=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),i=a.indexOf(".");var f=t.indexOf(".")-i,h=t.length-a.length-f;return $n(t.substr(0,f)+a+t.substr(t.length-h))}if(s=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ns(e,t,-r):bo(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?xs(0,3-m.length):"")+m})+"."+xs(0,s[1].length);switch(t){case"###,###":case"##,###":case"#,###":var p=bo(""+l);return p!=="0"?c+p:"";default:if(t.match(/\.[0#?]*$/))return Ns(e,t.slice(0,t.lastIndexOf(".")),r)+$n(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Ti(e,t,r){return(r|0)===r?Ns(e,t,r):Ma(e,t,r)}function mge(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var b$=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function pc(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ng(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(b$))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function vge(e,t,r,n){for(var a=[],s="",i=0,o="",l="t",c,u,f,h="H";i<e.length;)switch(o=e.charAt(i)){case"G":if(!ng(e,i))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},i+=7;break;case'"':for(s="";(f=e.charCodeAt(++i))!==34&&i<e.length;)s+=String.fromCharCode(f);a[a.length]={t:"t",v:s},++i;break;case"\\":var p=e.charAt(++i),m=p==="("||p===")"?p:"t";a[a.length]={t:m,v:p},++i;break;case"_":a[a.length]={t:"t",v:" "},i+=2;break;case"@":a[a.length]={t:"T",v:t},++i;break;case"B":case"b":if(e.charAt(i+1)==="1"||e.charAt(i+1)==="2"){if(c==null&&(c=yo(t,r,e.charAt(i+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(i,2)},l=o,i+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=yo(t,r),c==null))return"";for(s=o;++i<e.length&&e.charAt(i).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var v={t:o,v:o};if(c==null&&(c=yo(t,r)),e.substr(i,3).toUpperCase()==="A/P"?(c!=null&&(v.v=c.H>=12?"P":"A"),v.t="T",h="h",i+=3):e.substr(i,5).toUpperCase()==="AM/PM"?(c!=null&&(v.v=c.H>=12?"PM":"AM"),v.t="T",i+=5,h="h"):e.substr(i,5).toUpperCase()==="/"?(c!=null&&(v.v=c.H>=12?"":""),v.t="T",i+=5,h="h"):(v.t="t",++i),c==null&&v.t==="T")return"";a[a.length]=v,l=o;break;case"[":for(s=o;e.charAt(i++)!=="]"&&i<e.length;)s+=e.charAt(i);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(b$)){if(c==null&&(c=yo(t,r),c==null))return"";a[a.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",pc(e)||(a[a.length]={t:"t",v:s}));break;case".":if(c!=null){for(s=o;++i<e.length&&(o=e.charAt(i))==="0";)s+=o;a[a.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++i<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(i))>-1;)s+=o;a[a.length]={t:"n",v:s};break;case"?":for(s=o;e.charAt(++i)===o;)s+=o;a[a.length]={t:o,v:s},l=o;break;case"*":++i,(e.charAt(i)==" "||e.charAt(i)=="*")&&++i;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++i;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;i<e.length&&"0123456789".indexOf(e.charAt(++i))>-1;)s+=e.charAt(i);a[a.length]={t:"D",v:s};break;case" ":a[a.length]={t:o,v:o},++i;break;case"$":a[a.length]={t:"t",v:"$"},++i;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++i;break}var g=0,x=0,b;for(i=a.length-1,l="t";i>=0;--i)switch(a[i].t){case"h":case"H":a[i].t=h,l="h",g<1&&(g=1);break;case"s":(b=a[i].v.match(/\.0+$/))&&(x=Math.max(x,b[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":l=a[i].t;break;case"m":l==="s"&&(a[i].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&a[i].v.match(/[Hh]/)&&(g=1),g<2&&a[i].v.match(/[Mm]/)&&(g=2),g<3&&a[i].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var y="",_;for(i=0;i<a.length;++i)switch(a[i].t){case"t":case"T":case" ":case"D":break;case"X":a[i].v="",a[i].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[i].v=ige(a[i].t.charCodeAt(0),a[i].v,c,x),a[i].t="t";break;case"n":case"?":for(_=i+1;a[_]!=null&&((o=a[_].t)==="?"||o==="D"||(o===" "||o==="t")&&a[_+1]!=null&&(a[_+1].t==="?"||a[_+1].t==="t"&&a[_+1].v==="/")||a[i].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[_].v==="/"||a[_].v===" "&&a[_+1]!=null&&a[_+1].t=="?"));)a[i].v+=a[_].v,a[_]={v:"",t:";"},++_;y+=a[i].v,i=_-1;break;case"G":a[i].t="t",a[i].v=tc(t,r);break}var S="",k,E;if(y.length>0){y.charCodeAt(0)==40?(k=t<0&&y.charCodeAt(0)===45?-t:t,E=Ti("n",y,k)):(k=t<0&&n>1?-t:t,E=Ti("n",y,k),k<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),_=E.length-1;var C=a.length;for(i=0;i<a.length;++i)if(a[i]!=null&&a[i].t!="t"&&a[i].v.indexOf(".")>-1){C=i;break}var T=a.length;if(C===a.length&&E.indexOf("E")===-1){for(i=a.length-1;i>=0;--i)a[i]==null||"n?".indexOf(a[i].t)===-1||(_>=a[i].v.length-1?(_-=a[i].v.length,a[i].v=E.substr(_+1,a[i].v.length)):_<0?a[i].v="":(a[i].v=E.substr(0,_+1),_=-1),a[i].t="t",T=i);_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v)}else if(C!==a.length&&E.indexOf("E")===-1){for(_=E.indexOf(".")-1,i=C;i>=0;--i)if(!(a[i]==null||"n?".indexOf(a[i].t)===-1)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")-1:a[i].v.length-1,S=a[i].v.substr(u+1);u>=0;--u)_>=0&&(a[i].v.charAt(u)==="0"||a[i].v.charAt(u)==="#")&&(S=E.charAt(_--)+S);a[i].v=S,a[i].t="t",T=i}for(_>=0&&T<a.length&&(a[T].v=E.substr(0,_+1)+a[T].v),_=E.indexOf(".")+1,i=C;i<a.length;++i)if(!(a[i]==null||"n?(".indexOf(a[i].t)===-1&&i!==C)){for(u=a[i].v.indexOf(".")>-1&&i===C?a[i].v.indexOf(".")+1:0,S=a[i].v.substr(0,u);u<a[i].v.length;++u)_<E.length&&(S+=E.charAt(_++));a[i].v=S,a[i].t="t",T=i}}}for(i=0;i<a.length;++i)a[i]!=null&&"n?".indexOf(a[i].t)>-1&&(k=n>1&&t<0&&i>0&&a[i-1].v==="-"?-t:t,a[i].v=Ti(a[i].t,a[i].v,k),a[i].t="t");var A="";for(i=0;i!==a.length;++i)a[i]!=null&&(A+=a[i].v);return A}var mO=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function vO(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function gge(e,t){var r=mge(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var i=r[0].match(mO),o=r[1].match(mO);return vO(t,i)?[n,r[0]]:vO(t,o)?[n,r[1]]:[n,r[i!=null&&o!=null?2:1]]}return[n,s]}function Ta(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Fe)[e],n==null&&(n=r.table&&r.table[fO[e]]||Fe[fO[e]]),n==null&&(n=Qve[e]||"General");break}if(ng(n,0))return tc(t,r);t instanceof Date&&(t=f$(t,r.date1904));var a=gge(n,t);if(ng(a[1]))return tc(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return vge(a[1],t,r,a[0])}function Ai(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Fe[r]==null){t<0&&(t=r);continue}if(Fe[r]==e){t=r;break}}t<0&&(t=391)}return Fe[t]=e,t}function xge(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Ai(e[t],t)}function w$(){Fe=Jve()}var _$={format:Ta,load:Ai,_table:Fe,load_table:xge,parse_date_code:yo,is_date:pc,get_table:function(){return _$._table=Fe}},yge={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},k$=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function bge(e){var t=typeof e=="number"?Fe[e]:e;return t=t.replace(k$,"(\\d+)"),new RegExp("^"+t+"$")}function wge(e,t,r){var n=-1,a=-1,s=-1,i=-1,o=-1,l=-1;(t.match(k$)||[]).forEach(function(f,h){var p=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=p;break;case"d":s=p;break;case"h":i=p;break;case"s":l=p;break;case"m":i>=0?o=p:a=p;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return i==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&s==-1?u:c+"T"+u}var _ge=function(){var e={};e.version="1.2.0";function t(){for(var E=0,C=new Array(256),T=0;T!=256;++T)E=T,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,C[T]=E;return typeof Int32Array<"u"?new Int32Array(C):C}var r=t();function n(E){var C=0,T=0,A=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(A=0;A!=256;++A)N[A]=E[A];for(A=0;A!=256;++A)for(T=E[A],C=256+A;C<4096;C+=256)T=N[C]=T>>>8^E[T&255];var j=[];for(A=1;A!=16;++A)j[A-1]=typeof Int32Array<"u"?N.subarray(A*256,A*256+256):N.slice(A*256,A*256+256);return j}var a=n(r),s=a[0],i=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],p=a[8],m=a[9],v=a[10],g=a[11],x=a[12],b=a[13],y=a[14];function _(E,C){for(var T=C^-1,A=0,N=E.length;A<N;)T=T>>>8^r[(T^E.charCodeAt(A++))&255];return~T}function S(E,C){for(var T=C^-1,A=E.length-15,N=0;N<A;)T=y[E[N++]^T&255]^b[E[N++]^T>>8&255]^x[E[N++]^T>>16&255]^g[E[N++]^T>>>24]^v[E[N++]]^m[E[N++]]^p[E[N++]]^h[E[N++]]^f[E[N++]]^u[E[N++]]^c[E[N++]]^l[E[N++]]^o[E[N++]]^i[E[N++]]^s[E[N++]]^r[E[N++]];for(A+=15;N<A;)T=T>>>8^r[(T^E[N++])&255];return~T}function k(E,C){for(var T=C^-1,A=0,N=E.length,j=0,P=0;A<N;)j=E.charCodeAt(A++),j<128?T=T>>>8^r[(T^j)&255]:j<2048?(T=T>>>8^r[(T^(192|j>>6&31))&255],T=T>>>8^r[(T^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,P=E.charCodeAt(A++)&1023,T=T>>>8^r[(T^(240|j>>8&7))&255],T=T>>>8^r[(T^(128|j>>2&63))&255],T=T>>>8^r[(T^(128|P>>6&15|(j&3)<<4))&255],T=T>>>8^r[(T^(128|P&63))&255]):(T=T>>>8^r[(T^(224|j>>12&15))&255],T=T>>>8^r[(T^(128|j>>6&63))&255],T=T>>>8^r[(T^(128|j&63))&255]);return~T}return e.table=r,e.bstr=_,e.buf=S,e.str=k,e}(),Ye=function(){var t={};t.version="1.2.1";function r(O,U){for(var F=O.split("/"),L=U.split("/"),V=0,W=0,ne=Math.min(F.length,L.length);V<ne;++V){if(W=F[V].length-L[V].length)return W;if(F[V]!=L[V])return F[V]<L[V]?-1:1}return F.length-L.length}function n(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:n(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(0,U+1)}function a(O){if(O.charAt(O.length-1)=="/")return a(O.slice(0,-1));var U=O.lastIndexOf("/");return U===-1?O:O.slice(U+1)}function s(O,U){typeof U=="string"&&(U=new Date(U));var F=U.getHours();F=F<<6|U.getMinutes(),F=F<<5|U.getSeconds()>>>1,O.write_shift(2,F);var L=U.getFullYear()-1980;L=L<<4|U.getMonth()+1,L=L<<5|U.getDate(),O.write_shift(2,L)}function i(O){var U=O.read_shift(2)&65535,F=O.read_shift(2)&65535,L=new Date,V=F&31;F>>>=5;var W=F&15;F>>>=4,L.setMilliseconds(0),L.setFullYear(F+1980),L.setMonth(W-1),L.setDate(V);var ne=U&31;U>>>=5;var ie=U&63;return U>>>=6,L.setHours(U),L.setMinutes(ie),L.setSeconds(ne<<1),L}function o(O){dn(O,0);for(var U={},F=0;O.l<=O.length-4;){var L=O.read_shift(2),V=O.read_shift(2),W=O.l+V,ne={};switch(L){case 21589:F=O.read_shift(1),F&1&&(ne.mtime=O.read_shift(4)),V>5&&(F&2&&(ne.atime=O.read_shift(4)),F&4&&(ne.ctime=O.read_shift(4))),ne.mtime&&(ne.mt=new Date(ne.mtime*1e3));break}O.l=W,U[L]=ne}return U}var l;function c(){return l||(l={})}function u(O,U){if(O[0]==80&&O[1]==75)return GC(O,U);if((O[0]|32)==109&&(O[1]|32)==105)return x7(O,U);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var F=3,L=512,V=0,W=0,ne=0,ie=0,re=0,ae=[],se=O.slice(0,512);dn(se,0);var he=f(se);switch(F=he[0],F){case 3:L=512;break;case 4:L=4096;break;case 0:if(he[1]==0)return GC(O,U);default:throw new Error("Major Version: Expected 3 or 4 saw "+F)}L!==512&&(se=O.slice(0,L),dn(se,28));var ge=O.slice(0,L);h(se,F);var Ee=se.read_shift(4,"i");if(F===3&&Ee!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ee);se.l+=4,ne=se.read_shift(4,"i"),se.l+=4,se.chk("00100000","Mini Stream Cutoff Size: "),ie=se.read_shift(4,"i"),V=se.read_shift(4,"i"),re=se.read_shift(4,"i"),W=se.read_shift(4,"i");for(var ve=-1,be=0;be<109&&(ve=se.read_shift(4,"i"),!(ve<0));++be)ae[be]=ve;var $e=p(O,L);g(re,W,$e,L,ae);var Wt=b($e,ne,ae,L);Wt[ne].name="!Directory",V>0&&ie!==P&&(Wt[ie].name="!MiniFAT"),Wt[ae[0]].name="!FAT",Wt.fat_addrs=ae,Wt.ssz=L;var Ht={},yn=[],xd=[],yd=[];y(ne,Wt,$e,yn,V,Ht,xd,ie),m(xd,yd,yn),yn.shift();var bd={FileIndex:xd,FullPaths:yd};return U&&U.raw&&(bd.raw={header:ge,sectors:$e}),bd}function f(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(R,"Header Signature: "),O.l+=16;var U=O.read_shift(2,"u");return[O.read_shift(2,"u"),U]}function h(O,U){var F=9;switch(O.l+=2,F=O.read_shift(2)){case 9:if(U!=3)throw new Error("Sector Shift: Expected 9 saw "+F);break;case 12:if(U!=4)throw new Error("Sector Shift: Expected 12 saw "+F);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+F)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function p(O,U){for(var F=Math.ceil(O.length/U)-1,L=[],V=1;V<F;++V)L[V-1]=O.slice(V*U,(V+1)*U);return L[F-1]=O.slice(F*U),L}function m(O,U,F){for(var L=0,V=0,W=0,ne=0,ie=0,re=F.length,ae=[],se=[];L<re;++L)ae[L]=se[L]=L,U[L]=F[L];for(;ie<se.length;++ie)L=se[ie],V=O[L].L,W=O[L].R,ne=O[L].C,ae[L]===L&&(V!==-1&&ae[V]!==V&&(ae[L]=ae[V]),W!==-1&&ae[W]!==W&&(ae[L]=ae[W])),ne!==-1&&(ae[ne]=L),V!==-1&&L!=ae[L]&&(ae[V]=ae[L],se.lastIndexOf(V)<ie&&se.push(V)),W!==-1&&L!=ae[L]&&(ae[W]=ae[L],se.lastIndexOf(W)<ie&&se.push(W));for(L=1;L<re;++L)ae[L]===L&&(W!==-1&&ae[W]!==W?ae[L]=ae[W]:V!==-1&&ae[V]!==V&&(ae[L]=ae[V]));for(L=1;L<re;++L)if(O[L].type!==0){if(ie=L,ie!=ae[ie])do ie=ae[ie],U[L]=U[ie]+"/"+U[L];while(ie!==0&&ae[ie]!==-1&&ie!=ae[ie]);ae[L]=-1}for(U[0]+="/",L=1;L<re;++L)O[L].type!==2&&(U[L]+="/")}function v(O,U,F){for(var L=O.start,V=O.size,W=[],ne=L;F&&V>0&&ne>=0;)W.push(U.slice(ne*j,ne*j+j)),V-=j,ne=yl(F,ne*4);return W.length===0?Mr(0):mo(W).slice(0,O.size)}function g(O,U,F,L,V){var W=P;if(O===P){if(U!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var ne=F[O],ie=(L>>>2)-1;if(!ne)return;for(var re=0;re<ie&&(W=yl(ne,re*4))!==P;++re)V.push(W);g(yl(ne,L-4),U-1,F,L,V)}}function x(O,U,F,L,V){var W=[],ne=[];V||(V=[]);var ie=L-1,re=0,ae=0;for(re=U;re>=0;){V[re]=!0,W[W.length]=re,ne.push(O[re]);var se=F[Math.floor(re*4/L)];if(ae=re*4&ie,L<4+ae)throw new Error("FAT boundary crossed: "+re+" 4 "+L);if(!O[se])break;re=yl(O[se],ae)}return{nodes:W,data:CO([ne])}}function b(O,U,F,L){var V=O.length,W=[],ne=[],ie=[],re=[],ae=L-1,se=0,he=0,ge=0,Ee=0;for(se=0;se<V;++se)if(ie=[],ge=se+U,ge>=V&&(ge-=V),!ne[ge]){re=[];var ve=[];for(he=ge;he>=0;){ve[he]=!0,ne[he]=!0,ie[ie.length]=he,re.push(O[he]);var be=F[Math.floor(he*4/L)];if(Ee=he*4&ae,L<4+Ee)throw new Error("FAT boundary crossed: "+he+" 4 "+L);if(!O[be]||(he=yl(O[be],Ee),ve[he]))break}W[ge]={nodes:ie,data:CO([re])}}return W}function y(O,U,F,L,V,W,ne,ie){for(var re=0,ae=L.length?2:0,se=U[O].data,he=0,ge=0,Ee;he<se.length;he+=128){var ve=se.slice(he,he+128);dn(ve,64),ge=ve.read_shift(2),Ee=LE(ve,0,ge-ae),L.push(Ee);var be={name:Ee,type:ve.read_shift(1),color:ve.read_shift(1),L:ve.read_shift(4,"i"),R:ve.read_shift(4,"i"),C:ve.read_shift(4,"i"),clsid:ve.read_shift(16),state:ve.read_shift(4,"i"),start:0,size:0},$e=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);$e!==0&&(be.ct=_(ve,ve.l-8));var Wt=ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2)+ve.read_shift(2);Wt!==0&&(be.mt=_(ve,ve.l-8)),be.start=ve.read_shift(4,"i"),be.size=ve.read_shift(4,"i"),be.size<0&&be.start<0&&(be.size=be.type=0,be.start=P,be.name=""),be.type===5?(re=be.start,V>0&&re!==P&&(U[re].name="!StreamData")):be.size>=4096?(be.storage="fat",U[be.start]===void 0&&(U[be.start]=x(F,be.start,U.fat_addrs,U.ssz)),U[be.start].name=be.name,be.content=U[be.start].data.slice(0,be.size)):(be.storage="minifat",be.size<0?be.size=0:re!==P&&be.start!==P&&U[re]&&(be.content=v(be,U[re].data,(U[ie]||{}).data))),be.content&&dn(be.content,0),W[Ee]=be,ne.push(be)}}function _(O,U){return new Date((ga(O,U+4)/1e7*Math.pow(2,32)+ga(O,U)/1e7-11644473600)*1e3)}function S(O,U){return c(),u(l.readFileSync(O),U)}function k(O,U){var F=U&&U.type;switch(F||Ke&&Buffer.isBuffer(O)&&(F="buffer"),F||"base64"){case"file":return S(O,U);case"base64":return u(ms(Ca(O)),U);case"binary":return u(ms(O),U)}return u(O,U)}function E(O,U){var F=U||{},L=F.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=L+"/",O.FileIndex[0]={name:L,type:5}),F.CLSID&&(O.FileIndex[0].clsid=F.CLSID),C(O)}function C(O){var U="Sh33tJ5";if(!Ye.find(O,"/"+U)){var F=Mr(4);F[0]=55,F[1]=F[3]=50,F[2]=54,O.FileIndex.push({name:U,type:2,content:F,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+U),T(O)}}function T(O,U){E(O);for(var F=!1,L=!1,V=O.FullPaths.length-1;V>=0;--V){var W=O.FileIndex[V];switch(W.type){case 0:L?F=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:L=!0,isNaN(W.R*W.L*W.C)&&(F=!0),W.R>-1&&W.L>-1&&W.R==W.L&&(F=!0);break;default:F=!0;break}}if(!(!F&&!U)){var ne=new Date(1987,1,19),ie=0,re=Object.create?Object.create(null):{},ae=[];for(V=0;V<O.FullPaths.length;++V)re[O.FullPaths[V]]=!0,O.FileIndex[V].type!==0&&ae.push([O.FullPaths[V],O.FileIndex[V]]);for(V=0;V<ae.length;++V){var se=n(ae[V][0]);L=re[se],L||(ae.push([se,{name:a(se).replace("/",""),type:1,clsid:q,ct:ne,mt:ne,content:null}]),re[se]=!0)}for(ae.sort(function(Ee,ve){return r(Ee[0],ve[0])}),O.FullPaths=[],O.FileIndex=[],V=0;V<ae.length;++V)O.FullPaths[V]=ae[V][0],O.FileIndex[V]=ae[V][1];for(V=0;V<ae.length;++V){var he=O.FileIndex[V],ge=O.FullPaths[V];if(he.name=a(ge).replace("/",""),he.L=he.R=he.C=-(he.color=1),he.size=he.content?he.content.length:0,he.start=0,he.clsid=he.clsid||q,V===0)he.C=ae.length>1?1:-1,he.size=0,he.type=5;else if(ge.slice(-1)=="/"){for(ie=V+1;ie<ae.length&&n(O.FullPaths[ie])!=ge;++ie);for(he.C=ie>=ae.length?-1:ie,ie=V+1;ie<ae.length&&n(O.FullPaths[ie])!=n(ge);++ie);he.R=ie>=ae.length?-1:ie,he.type=1}else n(O.FullPaths[V+1]||"")==n(ge)&&(he.R=V+1),he.type=2}}}function A(O,U){var F=U||{};if(F.fileType=="mad")return y7(O,F);switch(T(O),F.fileType){case"zip":return f7(O,F)}var L=function(Ee){for(var ve=0,be=0,$e=0;$e<Ee.FileIndex.length;++$e){var Wt=Ee.FileIndex[$e];if(Wt.content){var Ht=Wt.content.length;Ht>0&&(Ht<4096?ve+=Ht+63>>6:be+=Ht+511>>9)}}for(var yn=Ee.FullPaths.length+3>>2,xd=ve+7>>3,yd=ve+127>>7,bd=xd+be+yn+yd,sl=bd+127>>7,my=sl<=109?0:Math.ceil((sl-109)/127);bd+sl+my+127>>7>sl;)my=++sl<=109?0:Math.ceil((sl-109)/127);var ci=[1,my,sl,yd,yn,be,ve,0];return Ee.FileIndex[0].size=ve<<6,ci[7]=(Ee.FileIndex[0].start=ci[0]+ci[1]+ci[2]+ci[3]+ci[4]+ci[5])+(ci[6]+7>>3),ci}(O),V=Mr(L[7]<<9),W=0,ne=0;{for(W=0;W<8;++W)V.write_shift(1,B[W]);for(W=0;W<8;++W)V.write_shift(2,0);for(V.write_shift(2,62),V.write_shift(2,3),V.write_shift(2,65534),V.write_shift(2,9),V.write_shift(2,6),W=0;W<3;++W)V.write_shift(2,0);for(V.write_shift(4,0),V.write_shift(4,L[2]),V.write_shift(4,L[0]+L[1]+L[2]+L[3]-1),V.write_shift(4,0),V.write_shift(4,4096),V.write_shift(4,L[3]?L[0]+L[1]+L[2]-1:P),V.write_shift(4,L[3]),V.write_shift(-4,L[1]?L[0]-1:P),V.write_shift(4,L[1]),W=0;W<109;++W)V.write_shift(-4,W<L[2]?L[1]+W:-1)}if(L[1])for(ne=0;ne<L[1];++ne){for(;W<236+ne*127;++W)V.write_shift(-4,W<L[2]?L[1]+W:-1);V.write_shift(-4,ne===L[1]-1?P:ne+1)}var ie=function(Ee){for(ne+=Ee;W<ne-1;++W)V.write_shift(-4,W+1);Ee&&(++W,V.write_shift(-4,P))};for(ne=W=0,ne+=L[1];W<ne;++W)V.write_shift(-4,K.DIFSECT);for(ne+=L[2];W<ne;++W)V.write_shift(-4,K.FATSECT);ie(L[3]),ie(L[4]);for(var re=0,ae=0,se=O.FileIndex[0];re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(ae<4096)&&(se.start=ne,ie(ae+511>>9)));for(ie(L[6]+7>>3);V.l&511;)V.write_shift(-4,K.ENDOFCHAIN);for(ne=W=0,re=0;re<O.FileIndex.length;++re)se=O.FileIndex[re],se.content&&(ae=se.content.length,!(!ae||ae>=4096)&&(se.start=ne,ie(ae+63>>6)));for(;V.l&511;)V.write_shift(-4,K.ENDOFCHAIN);for(W=0;W<L[4]<<2;++W){var he=O.FullPaths[W];if(!he||he.length===0){for(re=0;re<17;++re)V.write_shift(4,0);for(re=0;re<3;++re)V.write_shift(4,-1);for(re=0;re<12;++re)V.write_shift(4,0);continue}se=O.FileIndex[W],W===0&&(se.start=se.size?se.start-1:P);var ge=W===0&&F.root||se.name;if(ae=2*(ge.length+1),V.write_shift(64,ge,"utf16le"),V.write_shift(2,ae),V.write_shift(1,se.type),V.write_shift(1,se.color),V.write_shift(-4,se.L),V.write_shift(-4,se.R),V.write_shift(-4,se.C),se.clsid)V.write_shift(16,se.clsid,"hex");else for(re=0;re<4;++re)V.write_shift(4,0);V.write_shift(4,se.state||0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,0),V.write_shift(4,se.start),V.write_shift(4,se.size),V.write_shift(4,0)}for(W=1;W<O.FileIndex.length;++W)if(se=O.FileIndex[W],se.size>=4096)if(V.l=se.start+1<<9,Ke&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+511&-512;else{for(re=0;re<se.size;++re)V.write_shift(1,se.content[re]);for(;re&511;++re)V.write_shift(1,0)}for(W=1;W<O.FileIndex.length;++W)if(se=O.FileIndex[W],se.size>0&&se.size<4096)if(Ke&&Buffer.isBuffer(se.content))se.content.copy(V,V.l,0,se.size),V.l+=se.size+63&-64;else{for(re=0;re<se.size;++re)V.write_shift(1,se.content[re]);for(;re&63;++re)V.write_shift(1,0)}if(Ke)V.l=V.length;else for(;V.l<V.length;)V.write_shift(1,0);return V}function N(O,U){var F=O.FullPaths.map(function(re){return re.toUpperCase()}),L=F.map(function(re){var ae=re.split("/");return ae[ae.length-(re.slice(-1)=="/"?2:1)]}),V=!1;U.charCodeAt(0)===47?(V=!0,U=F[0].slice(0,-1)+U):V=U.indexOf("/")!==-1;var W=U.toUpperCase(),ne=V===!0?F.indexOf(W):L.indexOf(W);if(ne!==-1)return O.FileIndex[ne];var ie=!W.match(Xd);for(W=W.replace(Gn,""),ie&&(W=W.replace(Xd,"!")),ne=0;ne<F.length;++ne)if((ie?F[ne].replace(Xd,"!"):F[ne]).replace(Gn,"")==W||(ie?L[ne].replace(Xd,"!"):L[ne]).replace(Gn,"")==W)return O.FileIndex[ne];return null}var j=64,P=-2,R="d0cf11e0a1b11ae1",B=[208,207,17,224,161,177,26,225],q="00000000000000000000000000000000",K={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:P,FREESECT:-1,HEADER_SIGNATURE:R,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(O,U,F){c();var L=A(O,F);l.writeFileSync(U,L)}function I(O){for(var U=new Array(O.length),F=0;F<O.length;++F)U[F]=String.fromCharCode(O[F]);return U.join("")}function J(O,U){var F=A(O,U);switch(U&&U.type||"buffer"){case"file":return c(),l.writeFileSync(U.filename,F),F;case"binary":return typeof F=="string"?F:I(F);case"base64":return lO(typeof F=="string"?F:I(F));case"buffer":if(Ke)return Buffer.isBuffer(F)?F:fc(F);case"array":return typeof F=="string"?ms(F):F}return F}var Z;function M(O){try{var U=O.InflateRaw,F=new U;if(F._processChunk(new Uint8Array([3,0]),F._finishFlushFlag),F.bytesRead)Z=O;else throw new Error("zlib does not expose bytesRead")}catch(L){console.error("cannot use native zlib: "+(L.message||L))}}function z(O,U){if(!Z)return HC(O,U);var F=Z.InflateRaw,L=new F,V=L._processChunk(O.slice(O.l),L._finishFlushFlag);return O.l+=L.bytesRead,V}function G(O){return Z?Z.deflateRawSync(O):Ue(O)}var H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Q=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function le(O){var U=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(U>>16|U>>8|U)&255}for(var Y=typeof Uint8Array<"u",te=Y?new Uint8Array(256):[],ue=0;ue<256;++ue)te[ue]=le(ue);function D(O,U){var F=te[O&255];return U<=8?F>>>8-U:(F=F<<8|te[O>>8&255],U<=16?F>>>16-U:(F=F<<8|te[O>>16&255],F>>>24-U))}function Ne(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=6?0:O[L+1]<<8))>>>F&3}function me(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=5?0:O[L+1]<<8))>>>F&7}function ye(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=4?0:O[L+1]<<8))>>>F&15}function fe(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=3?0:O[L+1]<<8))>>>F&31}function de(O,U){var F=U&7,L=U>>>3;return(O[L]|(F<=1?0:O[L+1]<<8))>>>F&127}function Oe(O,U,F){var L=U&7,V=U>>>3,W=(1<<F)-1,ne=O[V]>>>L;return F<8-L||(ne|=O[V+1]<<8-L,F<16-L)||(ne|=O[V+2]<<16-L,F<24-L)||(ne|=O[V+3]<<24-L),ne&W}function Ve(O,U,F){var L=U&7,V=U>>>3;return L<=5?O[V]|=(F&7)<<L:(O[V]|=F<<L&255,O[V+1]=(F&7)>>8-L),U+3}function at(O,U,F){var L=U&7,V=U>>>3;return F=(F&1)<<L,O[V]|=F,U+1}function gn(O,U,F){var L=U&7,V=U>>>3;return F<<=L,O[V]|=F&255,F>>>=8,O[V+1]=F,U+8}function xn(O,U,F){var L=U&7,V=U>>>3;return F<<=L,O[V]|=F&255,F>>>=8,O[V+1]=F&255,O[V+2]=F>>>8,U+16}function Qn(O,U){var F=O.length,L=2*F>U?2*F:U+5,V=0;if(F>=U)return O;if(Ke){var W=cO(L);if(O.copy)O.copy(W);else for(;V<O.length;++V)W[V]=O[V];return W}else if(Y){var ne=new Uint8Array(L);if(ne.set)ne.set(O);else for(;V<F;++V)ne[V]=O[V];return ne}return O.length=L,O}function st(O){for(var U=new Array(O),F=0;F<O;++F)U[F]=0;return U}function xr(O,U,F){var L=1,V=0,W=0,ne=0,ie=0,re=O.length,ae=Y?new Uint16Array(32):st(32);for(W=0;W<32;++W)ae[W]=0;for(W=re;W<F;++W)O[W]=0;re=O.length;var se=Y?new Uint16Array(re):st(re);for(W=0;W<re;++W)ae[V=O[W]]++,L<V&&(L=V),se[W]=0;for(ae[0]=0,W=1;W<=L;++W)ae[W+16]=ie=ie+ae[W-1]<<1;for(W=0;W<re;++W)ie=O[W],ie!=0&&(se[W]=ae[ie+16]++);var he=0;for(W=0;W<re;++W)if(he=O[W],he!=0)for(ie=D(se[W],L)>>L-he,ne=(1<<L+4-he)-1;ne>=0;--ne)U[ie|ne<<he]=he&15|W<<4;return L}var vt=Y?new Uint16Array(512):st(512),yr=Y?new Uint16Array(32):st(32);if(!Y){for(var Et=0;Et<512;++Et)vt[Et]=0;for(Et=0;Et<32;++Et)yr[Et]=0}(function(){for(var O=[],U=0;U<32;U++)O.push(5);xr(O,yr,32);var F=[];for(U=0;U<=143;U++)F.push(8);for(;U<=255;U++)F.push(9);for(;U<=279;U++)F.push(7);for(;U<=287;U++)F.push(8);xr(F,vt,288)})();var ea=function(){for(var U=Y?new Uint8Array(32768):[],F=0,L=0;F<oe.length-1;++F)for(;L<oe[F+1];++L)U[L]=F;for(;L<32768;++L)U[L]=29;var V=Y?new Uint8Array(259):[];for(F=0,L=0;F<Q.length-1;++F)for(;L<Q[F+1];++L)V[L]=F;function W(ie,re){for(var ae=0;ae<ie.length;){var se=Math.min(65535,ie.length-ae),he=ae+se==ie.length;for(re.write_shift(1,+he),re.write_shift(2,se),re.write_shift(2,~se&65535);se-- >0;)re[re.l++]=ie[ae++]}return re.l}function ne(ie,re){for(var ae=0,se=0,he=Y?new Uint16Array(32768):[];se<ie.length;){var ge=Math.min(65535,ie.length-se);if(ge<10){for(ae=Ve(re,ae,+(se+ge==ie.length)),ae&7&&(ae+=8-(ae&7)),re.l=ae/8|0,re.write_shift(2,ge),re.write_shift(2,~ge&65535);ge-- >0;)re[re.l++]=ie[se++];ae=re.l*8;continue}ae=Ve(re,ae,+(se+ge==ie.length)+2);for(var Ee=0;ge-- >0;){var ve=ie[se];Ee=(Ee<<5^ve)&32767;var be=-1,$e=0;if((be=he[Ee])&&(be|=se&-32768,be>se&&(be-=32768),be<se))for(;ie[be+$e]==ie[se+$e]&&$e<250;)++$e;if($e>2){ve=V[$e],ve<=22?ae=gn(re,ae,te[ve+1]>>1)-1:(gn(re,ae,3),ae+=5,gn(re,ae,te[ve-23]>>5),ae+=3);var Wt=ve<8?0:ve-4>>2;Wt>0&&(xn(re,ae,$e-Q[ve]),ae+=Wt),ve=U[se-be],ae=gn(re,ae,te[ve]>>3),ae-=3;var Ht=ve<4?0:ve-2>>1;Ht>0&&(xn(re,ae,se-be-oe[ve]),ae+=Ht);for(var yn=0;yn<$e;++yn)he[Ee]=se&32767,Ee=(Ee<<5^ie[se])&32767,++se;ge-=$e-1}else ve<=143?ve=ve+48:ae=at(re,ae,1),ae=gn(re,ae,te[ve]),he[Ee]=se&32767,++se}ae=gn(re,ae,0)-1}return re.l=(ae+7)/8|0,re.l}return function(re,ae){return re.length<8?W(re,ae):ne(re,ae)}}();function Ue(O){var U=Mr(50+Math.floor(O.length*1.1)),F=ea(O,U);return U.slice(0,F)}var pt=Y?new Uint16Array(32768):st(32768),Vt=Y?new Uint16Array(32768):st(32768),Ct=Y?new Uint16Array(128):st(128),As=1,WC=1;function c7(O,U){var F=fe(O,U)+257;U+=5;var L=fe(O,U)+1;U+=5;var V=ye(O,U)+4;U+=4;for(var W=0,ne=Y?new Uint8Array(19):st(19),ie=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],re=1,ae=Y?new Uint8Array(8):st(8),se=Y?new Uint8Array(8):st(8),he=ne.length,ge=0;ge<V;++ge)ne[H[ge]]=W=me(O,U),re<W&&(re=W),ae[W]++,U+=3;var Ee=0;for(ae[0]=0,ge=1;ge<=re;++ge)se[ge]=Ee=Ee+ae[ge-1]<<1;for(ge=0;ge<he;++ge)(Ee=ne[ge])!=0&&(ie[ge]=se[Ee]++);var ve=0;for(ge=0;ge<he;++ge)if(ve=ne[ge],ve!=0){Ee=te[ie[ge]]>>8-ve;for(var be=(1<<7-ve)-1;be>=0;--be)Ct[Ee|be<<ve]=ve&7|ge<<3}var $e=[];for(re=1;$e.length<F+L;)switch(Ee=Ct[de(O,U)],U+=Ee&7,Ee>>>=3){case 16:for(W=3+Ne(O,U),U+=2,Ee=$e[$e.length-1];W-- >0;)$e.push(Ee);break;case 17:for(W=3+me(O,U),U+=3;W-- >0;)$e.push(0);break;case 18:for(W=11+de(O,U),U+=7;W-- >0;)$e.push(0);break;default:$e.push(Ee),re<Ee&&(re=Ee);break}var Wt=$e.slice(0,F),Ht=$e.slice(F);for(ge=F;ge<286;++ge)Wt[ge]=0;for(ge=L;ge<30;++ge)Ht[ge]=0;return As=xr(Wt,pt,286),WC=xr(Ht,Vt,30),U}function u7(O,U){if(O[0]==3&&!(O[1]&3))return[zo(U),2];for(var F=0,L=0,V=cO(U||1<<18),W=0,ne=V.length>>>0,ie=0,re=0;!(L&1);){if(L=me(O,F),F+=3,L>>>1)L>>1==1?(ie=9,re=5):(F=c7(O,F),ie=As,re=WC);else{F&7&&(F+=8-(F&7));var ae=O[F>>>3]|O[(F>>>3)+1]<<8;if(F+=32,ae>0)for(!U&&ne<W+ae&&(V=Qn(V,W+ae),ne=V.length);ae-- >0;)V[W++]=O[F>>>3],F+=8;continue}for(;;){!U&&ne<W+32767&&(V=Qn(V,W+32767),ne=V.length);var se=Oe(O,F,ie),he=L>>>1==1?vt[se]:pt[se];if(F+=he&15,he>>>=4,!(he>>>8&255))V[W++]=he;else{if(he==256)break;he-=257;var ge=he<8?0:he-4>>2;ge>5&&(ge=0);var Ee=W+Q[he];ge>0&&(Ee+=Oe(O,F,ge),F+=ge),se=Oe(O,F,re),he=L>>>1==1?yr[se]:Vt[se],F+=he&15,he>>>=4;var ve=he<4?0:he-2>>1,be=oe[he];for(ve>0&&(be+=Oe(O,F,ve),F+=ve),!U&&ne<Ee&&(V=Qn(V,Ee+100),ne=V.length);W<Ee;)V[W]=V[W-be],++W}}}return U?[V,F+7>>>3]:[V.slice(0,W),F+7>>>3]}function HC(O,U){var F=O.slice(O.l||0),L=u7(F,U);return O.l+=L[1],L[0]}function KC(O,U){if(O)typeof console<"u"&&console.error(U);else throw new Error(U)}function GC(O,U){var F=O;dn(F,0);var L=[],V=[],W={FileIndex:L,FullPaths:V};E(W,{root:U.root});for(var ne=F.length-4;(F[ne]!=80||F[ne+1]!=75||F[ne+2]!=5||F[ne+3]!=6)&&ne>=0;)--ne;F.l=ne+4,F.l+=4;var ie=F.read_shift(2);F.l+=6;var re=F.read_shift(4);for(F.l=re,ne=0;ne<ie;++ne){F.l+=20;var ae=F.read_shift(4),se=F.read_shift(4),he=F.read_shift(2),ge=F.read_shift(2),Ee=F.read_shift(2);F.l+=8;var ve=F.read_shift(4),be=o(F.slice(F.l+he,F.l+he+ge));F.l+=he+ge+Ee;var $e=F.l;F.l=ve+4,d7(F,ae,se,W,be),F.l=$e}return W}function d7(O,U,F,L,V){O.l+=2;var W=O.read_shift(2),ne=O.read_shift(2),ie=i(O);if(W&8257)throw new Error("Unsupported ZIP encryption");for(var re=O.read_shift(4),ae=O.read_shift(4),se=O.read_shift(4),he=O.read_shift(2),ge=O.read_shift(2),Ee="",ve=0;ve<he;++ve)Ee+=String.fromCharCode(O[O.l++]);if(ge){var be=o(O.slice(O.l,O.l+ge));(be[21589]||{}).mt&&(ie=be[21589].mt),((V||{})[21589]||{}).mt&&(ie=V[21589].mt)}O.l+=ge;var $e=O.slice(O.l,O.l+ae);switch(ne){case 8:$e=z(O,se);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ne)}var Wt=!1;W&8&&(re=O.read_shift(4),re==134695760&&(re=O.read_shift(4),Wt=!0),ae=O.read_shift(4),se=O.read_shift(4)),ae!=U&&KC(Wt,"Bad compressed size: "+U+" != "+ae),se!=F&&KC(Wt,"Bad uncompressed size: "+F+" != "+se),py(L,Ee,$e,{unsafe:!0,mt:ie})}function f7(O,U){var F=U||{},L=[],V=[],W=Mr(1),ne=F.compression?8:0,ie=0,re=0,ae=0,se=0,he=0,ge=O.FullPaths[0],Ee=ge,ve=O.FileIndex[0],be=[],$e=0;for(re=1;re<O.FullPaths.length;++re)if(Ee=O.FullPaths[re].slice(ge.length),ve=O.FileIndex[re],!(!ve.size||!ve.content||Ee=="Sh33tJ5")){var Wt=se,Ht=Mr(Ee.length);for(ae=0;ae<Ee.length;++ae)Ht.write_shift(1,Ee.charCodeAt(ae)&127);Ht=Ht.slice(0,Ht.l),be[he]=_ge.buf(ve.content,0);var yn=ve.content;ne==8&&(yn=G(yn)),W=Mr(30),W.write_shift(4,67324752),W.write_shift(2,20),W.write_shift(2,ie),W.write_shift(2,ne),ve.mt?s(W,ve.mt):W.write_shift(4,0),W.write_shift(-4,be[he]),W.write_shift(4,yn.length),W.write_shift(4,ve.content.length),W.write_shift(2,Ht.length),W.write_shift(2,0),se+=W.length,L.push(W),se+=Ht.length,L.push(Ht),se+=yn.length,L.push(yn),W=Mr(46),W.write_shift(4,33639248),W.write_shift(2,0),W.write_shift(2,20),W.write_shift(2,ie),W.write_shift(2,ne),W.write_shift(4,0),W.write_shift(-4,be[he]),W.write_shift(4,yn.length),W.write_shift(4,ve.content.length),W.write_shift(2,Ht.length),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(4,0),W.write_shift(4,Wt),$e+=W.l,V.push(W),$e+=Ht.length,V.push(Ht),++he}return W=Mr(22),W.write_shift(4,101010256),W.write_shift(2,0),W.write_shift(2,0),W.write_shift(2,he),W.write_shift(2,he),W.write_shift(4,$e),W.write_shift(4,se),W.write_shift(2,0),mo([mo(L),mo(V),W])}var Uh={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function h7(O,U){if(O.ctype)return O.ctype;var F=O.name||"",L=F.match(/\.([^\.]+)$/);return L&&Uh[L[1]]||U&&(L=(F=U).match(/[\.\\]([^\.\\])+$/),L&&Uh[L[1]])?Uh[L[1]]:"application/octet-stream"}function p7(O){for(var U=lO(O),F=[],L=0;L<U.length;L+=76)F.push(U.slice(L,L+76));return F.join(`\r
`)+`\r
`}function m7(O){var U=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ae){var se=ae.charCodeAt(0).toString(16).toUpperCase();return"="+(se.length==1?"0"+se:se)});U=U.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),U.charAt(0)==`
`&&(U="=0D"+U.slice(1)),U=U.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var F=[],L=U.split(`\r
`),V=0;V<L.length;++V){var W=L[V];if(W.length==0){F.push("");continue}for(var ne=0;ne<W.length;){var ie=76,re=W.slice(ne,ne+ie);re.charAt(ie-1)=="="?ie--:re.charAt(ie-2)=="="?ie-=2:re.charAt(ie-3)=="="&&(ie-=3),re=W.slice(ne,ne+ie),ne+=ie,ne<W.length&&(re+="="),F.push(re)}}return F.join(`\r
`)}function v7(O){for(var U=[],F=0;F<O.length;++F){for(var L=O[F];F<=O.length&&L.charAt(L.length-1)=="=";)L=L.slice(0,L.length-1)+O[++F];U.push(L)}for(var V=0;V<U.length;++V)U[V]=U[V].replace(/[=][0-9A-Fa-f]{2}/g,function(W){return String.fromCharCode(parseInt(W.slice(1),16))});return ms(U.join(`\r
`))}function g7(O,U,F){for(var L="",V="",W="",ne,ie=0;ie<10;++ie){var re=U[ie];if(!re||re.match(/^\s*$/))break;var ae=re.match(/^(.*?):\s*([^\s].*)$/);if(ae)switch(ae[1].toLowerCase()){case"content-location":L=ae[2].trim();break;case"content-type":W=ae[2].trim();break;case"content-transfer-encoding":V=ae[2].trim();break}}switch(++ie,V.toLowerCase()){case"base64":ne=ms(Ca(U.slice(ie).join("")));break;case"quoted-printable":ne=v7(U.slice(ie));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+V)}var se=py(O,L.slice(F.length),ne,{unsafe:!0});W&&(se.ctype=W)}function x7(O,U){if(I(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var F=U&&U.root||"",L=(Ke&&Buffer.isBuffer(O)?O.toString("binary"):I(O)).split(`\r
`),V=0,W="";for(V=0;V<L.length;++V)if(W=L[V],!!/^Content-Location:/i.test(W)&&(W=W.slice(W.indexOf("file")),F||(F=W.slice(0,W.lastIndexOf("/")+1)),W.slice(0,F.length)!=F))for(;F.length>0&&(F=F.slice(0,F.length-1),F=F.slice(0,F.lastIndexOf("/")+1),W.slice(0,F.length)!=F););var ne=(L[1]||"").match(/boundary="(.*?)"/);if(!ne)throw new Error("MAD cannot find boundary");var ie="--"+(ne[1]||""),re=[],ae=[],se={FileIndex:re,FullPaths:ae};E(se);var he,ge=0;for(V=0;V<L.length;++V){var Ee=L[V];Ee!==ie&&Ee!==ie+"--"||(ge++&&g7(se,L.slice(he,V),F),he=V)}return se}function y7(O,U){var F=U||{},L=F.boundary||"SheetJS";L="------="+L;for(var V=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+L.slice(2)+'"',"","",""],W=O.FullPaths[0],ne=W,ie=O.FileIndex[0],re=1;re<O.FullPaths.length;++re)if(ne=O.FullPaths[re].slice(W.length),ie=O.FileIndex[re],!(!ie.size||!ie.content||ne=="Sh33tJ5")){ne=ne.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function($e){return"_x"+$e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function($e){return"_u"+$e.charCodeAt(0).toString(16)+"_"});for(var ae=ie.content,se=Ke&&Buffer.isBuffer(ae)?ae.toString("binary"):I(ae),he=0,ge=Math.min(1024,se.length),Ee=0,ve=0;ve<=ge;++ve)(Ee=se.charCodeAt(ve))>=32&&Ee<128&&++he;var be=he>=ge*4/5;V.push(L),V.push("Content-Location: "+(F.root||"file:///C:/SheetJS/")+ne),V.push("Content-Transfer-Encoding: "+(be?"quoted-printable":"base64")),V.push("Content-Type: "+h7(ie,ne)),V.push(""),V.push(be?m7(se):p7(se))}return V.push(L+`--\r
`),V.join(`\r
`)}function b7(O){var U={};return E(U,O),U}function py(O,U,F,L){var V=L&&L.unsafe;V||E(O);var W=!V&&Ye.find(O,U);if(!W){var ne=O.FullPaths[0];U.slice(0,ne.length)==ne?ne=U:(ne.slice(-1)!="/"&&(ne+="/"),ne=(ne+U).replace("//","/")),W={name:a(U),type:2},O.FileIndex.push(W),O.FullPaths.push(ne),V||Ye.utils.cfb_gc(O)}return W.content=F,W.size=F?F.length:0,L&&(L.CLSID&&(W.clsid=L.CLSID),L.mt&&(W.mt=L.mt),L.ct&&(W.ct=L.ct)),W}function w7(O,U){E(O);var F=Ye.find(O,U);if(F){for(var L=0;L<O.FileIndex.length;++L)if(O.FileIndex[L]==F)return O.FileIndex.splice(L,1),O.FullPaths.splice(L,1),!0}return!1}function _7(O,U,F){E(O);var L=Ye.find(O,U);if(L){for(var V=0;V<O.FileIndex.length;++V)if(O.FileIndex[V]==L)return O.FileIndex[V].name=a(F),O.FullPaths[V]=F,!0}return!1}function k7(O){T(O,!0)}return t.find=N,t.read=k,t.parse=u,t.write=J,t.writeFile=X,t.utils={cfb_new:b7,cfb_add:py,cfb_del:w7,cfb_mov:_7,cfb_gc:k7,ReadShift:pf,CheckField:H$,prep_blob:dn,bconcat:mo,use_zlib:M,_deflateRaw:Ue,_inflateRaw:HC,consts:K},t}();function kge(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function ti(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function ME(e){for(var t=[],r=ti(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var sg=new Date(1899,11,30,0,0,0);function Xn(e,t){var r=e.getTime(),n=sg.getTime()+(e.getTimezoneOffset()-sg.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var S$=new Date,Sge=sg.getTime()+(S$.getTimezoneOffset()-sg.getTimezoneOffset())*6e4,gO=S$.getTimezoneOffset();function Zx(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Sge),t.getTimezoneOffset()!==gO&&t.setTime(t.getTime()+(t.getTimezoneOffset()-gO)*6e4),t}function Ege(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var s=1;s!=a.length;++s)if(a[s]){switch(r=1,s>3&&(n=!0),a[s].slice(a[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[s].slice(a[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[s],10)}return t}var xO=new Date("2017-02-19T19:06:09.000Z"),E$=isNaN(xO.getFullYear())?new Date("2/19/17"):xO,Cge=E$.getFullYear()==2017;function rn(e,t){var r=new Date(e);if(Cge)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(E$.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function rc(e,t){if(Ke&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Jd(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Jd(u$(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Jd(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Jd(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function hn(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=hn(e[r]));return t}function or(e,t){for(var r="";r.length<t;)r+=e;return r}function ks(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,s){return r=-r,s}),!isNaN(t=Number(n)))?t/r:t}var Tge=["january","february","march","april","may","june","july","august","september","october","november","december"];function Wu(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),s=t.getDate();if(isNaN(s))return r;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),i.length>3&&Tge.indexOf(i)==-1)return r}else if(i.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||s>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Age=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var s=r.split(n),i=[s[0]],o=1;o<s.length;++o)i.push(a),i.push(s[o]);return i}}();function C$(e){return e?e.content&&e.type?rc(e.content,!0):e.data?Yd(e.data):e.asNodeBuffer&&Ke?Yd(e.asNodeBuffer().toString("binary")):e.asBinary?Yd(e.asBinary()):e._data&&e._data.getContent?Yd(rc(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function T$(e){if(!e)return null;if(e.data)return iO(e.data);if(e.asNodeBuffer&&Ke)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?iO(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function jge(e){return e&&e.name.slice(-4)===".bin"?T$(e):C$(e)}function Fa(e,t){for(var r=e.FullPaths||ti(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var i=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==i||a==i)return e.files?e.files[r[s]]:e.FileIndex[s]}return null}function IE(e,t){var r=Fa(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function wr(e,t,r){if(!r)return jge(IE(e,t));if(!t)return null;try{return wr(e,t)}catch{return null}}function ya(e,t,r){if(!r)return C$(IE(e,t));if(!t)return null;try{return ya(e,t)}catch{return null}}function Pge(e,t,r){return T$(IE(e,t))}function yO(e){for(var t=e.FullPaths||ti(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Nge(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ke?n=fc(r):n=Yve(r),Ye.utils.cfb_add(e,t,n)}Ye.utils.cfb_add(e,t,r)}else e.file(t,r)}function A$(e,t){switch(t.type){case"base64":return Ye.read(e,{type:"base64"});case"binary":return Ye.read(e,{type:"binary"});case"buffer":case"array":return Ye.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function Zd(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var j$=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Oge=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,bO=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Dge=/<[^>]*>/g,Fn=j$.match(bO)?bO:Dge,Mge=/<\w*:/,Ige=/<(\/?)\w+:/;function Re(e,t,r){for(var n={},a=0,s=0;a!==e.length&&!((s=e.charCodeAt(a))===32||s===10||s===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var i=e.match(Oge),o=0,l="",c=0,u="",f="",h=1;if(i)for(c=0;c!=i.length;++c){for(f=i[c],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(u=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(h=(a=f.charCodeAt(s+1))==34||a==39?1:0,l=f.slice(s+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var p=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[p]&&u.slice(o-3,o)=="ext")continue;n[p]=l,n[p.toLowerCase()]=l}}return n}function oi(e){return e.replace(Ige,"<$1")}var P$={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Rge=ME(P$),Qe=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",s=a.indexOf("<![CDATA[");if(s==-1)return a.replace(e,function(o,l){return P$[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var i=a.indexOf("]]>");return r(a.slice(0,s))+a.slice(s+9,i)+r(a.slice(i+3))}}(),Fge=/[&<>'"]/g,Lge=/[\u0000-\u001f]/g;function RE(e){var t=e+"";return t.replace(Fge,function(r){return Rge[r]}).replace(/\n/g,"<br/>").replace(Lge,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var wO=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Ft(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function T1(e){for(var t="",r=0,n=0,a=0,s=0,i=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){i=(n&31)<<6,i|=a&63,t+=String.fromCharCode(i);continue}if(s=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|s&63);continue}i=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(s&63)<<6|i&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function _O(e){var t=zo(2*e.length),r,n,a=1,s=0,i=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,i=55296+(r>>>10&1023),r=56320+(r&1023)),i!==0&&(t[s++]=i&255,t[s++]=i>>>8,i=0),t[s++]=r%256,t[s++]=r>>>8;return t.slice(0,s).toString("ucs2")}function kO(e){return fc(e,"binary").toString("utf8")}var Mp="foo bar baz",kt=Ke&&(kO(Mp)==T1(Mp)&&kO||_O(Mp)==T1(Mp)&&_O)||T1,Jd=Ke?function(e){return fc(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},b0=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),N$=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),$ge=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Bge=/<\/?(?:vt:)?variant>/g,zge=/<(?:vt:)([^>]*)>([\s\S]*)</;function SO(e,t){var r=Re(e),n=e.match($ge(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(s){var i=s.replace(Bge,"").match(zge);i&&a.push({v:kt(i[2]),t:i[1]})}),a}var Uge=/(^\s|\s$|\n)/;function Vge(e){return ti(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Wge(e,t,r){return"<"+e+(r!=null?Vge(r):"")+(t!=null?(t.match(Uge)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function FE(e){if(Ke&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return kt(hc(NE(e)));throw new Error("Bad input format: expected Buffer or string")}var w0=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Hge={CT:"http://schemas.openxmlformats.org/package/2006/content-types"},Kge=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function Gge(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,s=5;s>=0;--s)a=a*256+e[t+s];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function qge(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,s=0,i=n?-t:t;isFinite(i)?i==0?a=s=0:(a=Math.floor(Math.log(i)/Math.LN2),s=i*Math.pow(2,52-a),a<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?a=-1022:(s-=Math.pow(2,52),a+=1023)):(a=2047,s=isNaN(t)?26985:0);for(var o=0;o<=5;++o,s/=256)e[r+o]=s&255;e[r+6]=(a&15)<<4|s&15,e[r+7]=a>>4|n}var EO=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,s=e[0][n].length;a<s;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},CO=Ke?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:fc(t)})):EO(e)}:EO,TO=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(_i(e,a)));return n.join("").replace(Gn,"")},LE=Ke?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Gn,""):TO(e,t,r)}:TO,AO=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},O$=Ke?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):AO(e,t,r)}:AO,jO=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode($c(e,a)));return n.join("")},Oh=Ke?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):jO(t,r,n)}:jO,D$=function(e,t){var r=ga(e,t);return r>0?Oh(e,t+4,t+4+r-1):""},M$=D$,I$=function(e,t){var r=ga(e,t);return r>0?Oh(e,t+4,t+4+r-1):""},R$=I$,F$=function(e,t){var r=2*ga(e,t);return r>0?Oh(e,t+4,t+4+r-1):""},L$=F$,$$=function(t,r){var n=ga(t,r);return n>0?LE(t,r+4,r+4+n):""},B$=$$,z$=function(e,t){var r=ga(e,t);return r>0?Oh(e,t+4,t+4+r):""},U$=z$,V$=function(e,t){return Gge(e,t)},ig=V$,W$=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ke&&(M$=function(t,r){if(!Buffer.isBuffer(t))return D$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},R$=function(t,r){if(!Buffer.isBuffer(t))return I$(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},L$=function(t,r){if(!Buffer.isBuffer(t))return F$(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},B$=function(t,r){if(!Buffer.isBuffer(t))return $$(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},U$=function(t,r){if(!Buffer.isBuffer(t))return z$(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},ig=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):V$(t,r)},W$=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var $c=function(e,t){return e[t]},_i=function(e,t){return e[t+1]*256+e[t]},Yge=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},ga=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yl=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},Xge=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function pf(e,t){var r="",n,a,s=[],i,o,l,c;switch(t){case"dbcs":if(c=this.l,Ke&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(_i(this,c)),c+=2;e*=2;break;case"utf8":r=Oh(this,this.l,this.l+e);break;case"utf16le":e*=2,r=LE(this,this.l,this.l+e);break;case"wstr":return pf.call(this,e,"dbcs");case"lpstr-ansi":r=M$(this,this.l),e=4+ga(this,this.l);break;case"lpstr-cp":r=R$(this,this.l),e=4+ga(this,this.l);break;case"lpwstr":r=L$(this,this.l),e=4+2*ga(this,this.l);break;case"lpp4":e=4+ga(this,this.l),r=B$(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+ga(this,this.l),r=U$(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(i=$c(this,this.l+e++))!==0;)s.push(Dp(i));r=s.join("");break;case"_wstr":for(e=0,r="";(i=_i(this,this.l+e))!==0;)s.push(Dp(i)),e+=2;e+=2,r=s.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=$c(this,c),this.l=c+1,o=pf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Dp(_i(this,c))),c+=2}r=s.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return i=$c(this,c),this.l=c+1,o=pf.call(this,e-l,i?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Dp($c(this,c))),c+=1}r=s.join("");break;default:switch(e){case 1:return n=$c(this,this.l),this.l++,n;case 2:return n=(t==="i"?Yge:_i)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yl:Xge)(this,this.l),this.l+=4,n):(a=ga(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=ig(this,this.l):a=ig([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=O$(this,this.l,e);break}}return this.l+=e,r}var Zge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},Jge=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},Qge=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function exe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)Qge(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var i=t.charCodeAt(a);this[this.l++]=i&255,this[this.l++]=i>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,Zge(this,t,this.l);break;case 8:if(n=8,r==="f"){qge(this,t,this.l);break}case 16:break;case-4:n=4,Jge(this,t,this.l);break}return this.l+=n,this}function H$(e,t){var r=O$(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function dn(e,t){e.l=t,e.read_shift=pf,e.chk=H$,e.write_shift=exe}function In(e,t){e.l+=t}function Mr(e){var t=zo(e);return dn(t,0),t}function Qi(e,t,r){if(e){var n,a,s;dn(e,e.l||0);for(var i=e.length,o=0,l=0;e.l<i;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=fg[o]||fg[65535];for(n=e.read_shift(1),s=n&127,a=1;a<4&&n&128;++a)s+=((n=e.read_shift(1))&127)<<7*a;l=e.l+s;var u=c.f&&c.f(e,s,r);if(e.l=l,t(u,c,o))return}}}function v2(){var e=[],t=Ke?256:2048,r=function(c){var u=Mr(c);return dn(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},s=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},i=function(){return a(),mo(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),s(t)};return{next:s,push:o,end:i,_bufs:e}}function mf(e,t,r){var n=hn(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function PO(e,t,r){var n=hn(e);return n.s=mf(n.s,t.s,r),n.e=mf(n.e,t.s,r),n}function vf(e,t){if(e.cRel&&e.c<0)for(e=hn(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=hn(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Le(e);return!e.cRel&&e.cRel!=null&&(r=nxe(r)),!e.rRel&&e.rRel!=null&&(r=txe(r)),r}function A1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Lr(e.s.c)+":"+(e.e.cRel?"":"$")+Lr(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+pn(e.s.r)+":"+(e.e.rRel?"":"$")+pn(e.e.r):vf(e.s,t.biff)+":"+vf(e.e,t.biff)}function $E(e){return parseInt(rxe(e),10)-1}function pn(e){return""+(e+1)}function txe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function rxe(e){return e.replace(/\$(\d+)$/,"$1")}function BE(e){for(var t=axe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Lr(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function nxe(e){return e.replace(/^([A-Z])/,"$$$1")}function axe(e){return e.replace(/^\$([A-Z])/,"$1")}function sxe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Vn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Le(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function dd(e){var t=e.indexOf(":");return t==-1?{s:Vn(e),e:Vn(e)}:{s:Vn(e.slice(0,t)),e:Vn(e.slice(t+1))}}function Xe(e,t){return typeof t>"u"||typeof t=="number"?Xe(e.s,e.e):(typeof e!="string"&&(e=Le(e)),typeof t!="string"&&(t=Le(t)),e==t?e:e+":"+t)}function dr(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,s=e.length;for(r=0;n<s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===s||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=s&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=s&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function NO(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Ta(e.z,r?Xn(t):t)}catch{}try{return e.w=Ta((e.XF||{}).numFmtId||(r?14:0),r?Xn(t):t)}catch{return""+t}}function Wi(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?gc[e.v]||e.v:t==null?NO(e,e.v):NO(e,t))}function tl(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function K$(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,s=e||(a?[]:{}),i=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Vn(n.origin):n.origin;i=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var u=dr(s["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),i==-1&&(c.e.r=i=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var p={v:t[f][h]},m=i+f,v=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>v&&(c.s.c=v),c.e.r<m&&(c.e.r=m),c.e.c<v&&(c.e.c=v),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))p=t[f][h];else if(Array.isArray(p.v)&&(p.f=t[f][h][1],p.v=p.v[0]),p.v===null)if(p.f)p.t="n";else if(n.nullError)p.t="e",p.v=0;else if(n.sheetStubs)p.t="z";else continue;else typeof p.v=="number"?p.t="n":typeof p.v=="boolean"?p.t="b":p.v instanceof Date?(p.z=n.dateNF||Fe[14],n.cellDates?(p.t="d",p.w=Ta(p.z,Xn(p.v))):(p.t="n",p.v=Xn(p.v),p.w=Ta(p.z,p.v))):p.t="s";if(a)s[m]||(s[m]=[]),s[m][v]&&s[m][v].z&&(p.z=s[m][v].z),s[m][v]=p;else{var g=Le({c:v,r:m});s[g]&&s[g].z&&(p.z=s[g].z),s[g]=p}}}return c.s.c<1e7&&(s["!ref"]=Xe(c)),s}function fd(e,t){return K$(null,e,t)}function ixe(e){return e.read_shift(4,"i")}function On(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function oxe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function zE(e,t){var r=e.l,n=e.read_shift(1),a=On(e),s=[],i={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)s.push(oxe(e));i.r=s}else i.r=[{ich:0,ifnt:0}];return e.l=r+t,i}var lxe=zE;function Qa(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var cxe=On;function UE(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var uxe=On,g2=UE;function VE(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?ig([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yl(t,0)>>2;return r?a/100:a}function G$(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var vc=G$;function An(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function dxe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),s=e.read_shift(2,"i"),i=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Ll[a];c&&(t.rgb=k0(c));break;case 2:t.rgb=k0([i,o,l]);break;case 3:t.theme=a;break}return s!=0&&(t.tint=s>0?s/32767:s/32768),t}function fxe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function q$(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function hxe(e){return q$(e,1)}function pxe(e){return q$(e,2)}var WE=2,ra=3,Ip=11,OO=12,og=19,Rp=64,mxe=65,vxe=71,gxe=4108,xxe=4126,Yr=80,Y$=81,yxe=[Yr,Y$],bxe={1:{n:"CodePage",t:WE},2:{n:"Category",t:Yr},3:{n:"PresentationFormat",t:Yr},4:{n:"ByteCount",t:ra},5:{n:"LineCount",t:ra},6:{n:"ParagraphCount",t:ra},7:{n:"SlideCount",t:ra},8:{n:"NoteCount",t:ra},9:{n:"HiddenCount",t:ra},10:{n:"MultimediaClipCount",t:ra},11:{n:"ScaleCrop",t:Ip},12:{n:"HeadingPairs",t:gxe},13:{n:"TitlesOfParts",t:xxe},14:{n:"Manager",t:Yr},15:{n:"Company",t:Yr},16:{n:"LinksUpToDate",t:Ip},17:{n:"CharacterCount",t:ra},19:{n:"SharedDoc",t:Ip},22:{n:"HyperlinksChanged",t:Ip},23:{n:"AppVersion",t:ra,p:"version"},24:{n:"DigSig",t:mxe},26:{n:"ContentType",t:Yr},27:{n:"ContentStatus",t:Yr},28:{n:"Language",t:Yr},29:{n:"Version",t:Yr},255:{},2147483648:{n:"Locale",t:og},2147483651:{n:"Behavior",t:og},1919054434:{}},wxe={1:{n:"CodePage",t:WE},2:{n:"Title",t:Yr},3:{n:"Subject",t:Yr},4:{n:"Author",t:Yr},5:{n:"Keywords",t:Yr},6:{n:"Comments",t:Yr},7:{n:"Template",t:Yr},8:{n:"LastAuthor",t:Yr},9:{n:"RevNumber",t:Yr},10:{n:"EditTime",t:Rp},11:{n:"LastPrinted",t:Rp},12:{n:"CreatedDate",t:Rp},13:{n:"ModifiedDate",t:Rp},14:{n:"PageCount",t:ra},15:{n:"WordCount",t:ra},16:{n:"CharCount",t:ra},17:{n:"Thumbnail",t:vxe},18:{n:"Application",t:Yr},19:{n:"DocSecurity",t:ra},255:{},2147483648:{n:"Locale",t:og},2147483651:{n:"Behavior",t:og},1919054434:{}},DO={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},_xe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function kxe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Sxe=kxe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ll=hn(Sxe),gc={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},X$={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},MO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Exe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Cxe(e){var t=Exe();if(!e||!e.match)return t;var r={};if((e.match(Fn)||[]).forEach(function(n){var a=Re(n);switch(a[0].replace(Mge,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[MO[a.ContentType]]!==void 0&&t[MO[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Hge.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var ru={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function x2(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function gf(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Fn)||[]).forEach(function(a){var s=Re(a);if(s[0]==="<Relationship"){var i={};i.Type=s.Type,i.Target=s.Target,i.Id=s.Id,s.TargetMode&&(i.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Zd(s.Target,t);r[o]=i,n[s.Id]=i}}),r["!id"]=n,r}var Txe="application/vnd.oasis.opendocument.spreadsheet";function Axe(e,t){for(var r=FE(e),n,a;n=w0.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Re(n[0],!1),a.path=="/"&&a.type!==Txe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var xf=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],jxe=function(){for(var e=new Array(xf.length),t=0;t<xf.length;++t){var r=xf[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Z$(e){var t={};e=kt(e);for(var r=0;r<xf.length;++r){var n=xf[r],a=e.match(jxe[r]);a!=null&&a.length>0&&(t[n[1]]=Qe(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=rn(t[n[1]]))}return t}var Pxe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function J$(e,t,r,n){var a=[];if(typeof e=="string")a=SO(e,n);else for(var s=0;s<e.length;++s)a=a.concat(e[s].map(function(u){return{v:u}}));var i=typeof t=="string"?SO(t,n).map(function(u){return u.v}):t,o=0,l=0;if(i.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=i.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=i.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=i.slice(o,o+l);break}o+=l}}function Nxe(e,t,r){var n={};return t||(t={}),e=kt(e),Pxe.forEach(function(a){var s=(e.match(b0(a[0]))||[])[1];switch(a[2]){case"string":s&&(t[a[1]]=Qe(s));break;case"bool":t[a[1]]=s==="true";break;case"raw":var i=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));i&&i.length>0&&(n[a[1]]=i[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&J$(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Oxe=/<[^>]+>[^<]*/g;function Dxe(e,t){var r={},n="",a=e.match(Oxe);if(a)for(var s=0;s!=a.length;++s){var i=a[s],o=Re(i);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Qe(o.name);break;case"</property>":n=null;break;default:if(i.indexOf("<vt:")===0){var l=i.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Qe(u);break;case"bool":r[n]=Ft(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=rn(u);break;case"cy":case"error":r[n]=Qe(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",i,c,l)}}else if(i.slice(0,2)!=="</"){if(t.WTF)throw new Error(i)}}}return r}var Mxe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},j1;function Ixe(e,t,r){j1||(j1=ME(Mxe)),t=j1[t]||t,e[t]=r}function HE(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Q$(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function eB(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function tB(e,t,r){return t===31?eB(e):Q$(e,t,r)}function y2(e,t,r){return tB(e,t,r===!1?0:4)}function Rxe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return tB(e,t,0)}function Fxe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Gn,""),e.l-a&2&&(e.l+=2)}return r}function Lxe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Gn,"");return r}function $xe(e){var t=e.l,r=lg(e,Y$);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=lg(e,ra);return[r,n]}function Bxe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push($xe(e));return r}function IO(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var s=e.read_shift(4),i=e.read_shift(4);n[s]=e.read_shift(i,t===1200?"utf16le":"utf8").replace(Gn,"").replace(Xd,"!"),t===1200&&i%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function rB(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function zxe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function lg(e,t,r){var n=e.read_shift(2),a,s=r||{};if(e.l+=2,t!==OO&&n!==t&&yxe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===OO?n:t){case 2:return a=e.read_shift(2,"i"),s.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Q$(e,n,4).replace(Gn,"");case 31:return eB(e);case 64:return HE(e);case 65:return rB(e);case 71:return zxe(e);case 80:return y2(e,n,!s.raw).replace(Gn,"");case 81:return Rxe(e,n).replace(Gn,"");case 4108:return Bxe(e);case 4126:case 4127:return n==4127?Fxe(e):Lxe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function RO(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0,o=0,l=-1,c={};for(i=0;i!=a;++i){var u=e.read_shift(4),f=e.read_shift(4);s[i]=[u,f+r]}s.sort(function(b,y){return b[1]-y[1]});var h={};for(i=0;i!=a;++i){if(e.l!==s[i][1]){var p=!0;if(i>0&&t)switch(t[s[i-1][0]].t){case 2:e.l+2===s[i][1]&&(e.l+=2,p=!1);break;case 80:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break;case 4108:e.l<=s[i][1]&&(e.l=s[i][1],p=!1);break}if((!t||i==0)&&e.l<=s[i][1]&&(p=!1,e.l=s[i][1]),p)throw new Error("Read Error: Expected address "+s[i][1]+" at "+e.l+" :"+i)}if(t){var m=t[s[i][0]];if(h[m.n]=lg(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:gs(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(s[i][0]===1){if(o=h.CodePage=lg(e,WE),gs(o),l!==-1){var v=e.l;e.l=s[l][1],c=IO(e,o),e.l=v}}else if(s[i][0]===0){if(o===0){l=i,e.l=s[i+1][1];continue}c=IO(e,o)}else{var g=c[s[i][0]],x;switch(e[e.l]){case 65:e.l+=4,x=rB(e);break;case 30:e.l+=4,x=y2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,x=y2(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,x=e.read_shift(4,"i");break;case 19:e.l+=4,x=e.read_shift(4);break;case 5:e.l+=4,x=e.read_shift(8,"f");break;case 11:e.l+=4,x=fr(e,4);break;case 64:e.l+=4,x=rn(HE(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[g]=x}}return e.l=r+n,h}function FO(e,t,r){var n=e.content;if(!n)return{};dn(n,0);var a,s,i,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ye.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(s=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(i=n.read_shift(16),l=n.read_shift(4));var f=RO(n,t),h={SystemIdentifier:c};for(var p in f)h[p]=f[p];if(h.FMTID=s,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=RO(n,null)}catch{}for(p in m)h[p]=m[p];return h.FMTID=[s,i],h}function ro(e,t){return e.read_shift(t),null}function Uxe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function fr(e,t){return e.read_shift(t)===1}function _r(e){return e.read_shift(2,"u")}function nB(e,t){return Uxe(e,t,_r)}function Vxe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Dh(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=e.read_shift(1);s&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var i=n?e.read_shift(n,a):"";return i}function Wxe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,s=1+(r&1),i=0,o,l={};a&&(i=e.read_shift(2)),n&&(o=e.read_shift(4));var c=s==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*i),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function nc(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Mh(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):nc(e,n,r)}function xc(e,t,r){if(r.biff>5)return Mh(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Hxe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Kxe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Gn,"");return n&&(e.l+=24),a}function Gxe(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var s=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var i=e.read_shift(s>>1,"utf16le").replace(Gn,"");return r+i}function qxe(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Kxe(e);case"0303000000000000c000000000000046":return Gxe(e);default:throw new Error("Unsupported Moniker "+r)}}function Fp(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Gn,""):"";return r}function Yxe(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var s,i,o,l,c="",u,f;a&16&&(s=Fp(e,r-e.l)),a&128&&(i=Fp(e,r-e.l)),(a&257)===257&&(o=Fp(e,r-e.l)),(a&257)===1&&(l=qxe(e,r-e.l)),a&8&&(c=Fp(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=HE(e)),e.l=r;var h=i||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var p={Target:h};return u&&(p.guid=u),f&&(p.time=f),s&&(p.Tooltip=s),p}function aB(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function sB(e,t){var r=aB(e);return r[3]=0,r}function li(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function Xxe(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function Zxe(e,t,r){return t===0?"":xc(e,t,r)}function Jxe(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),s=e.read_shift(n,"i"),i=e.read_shift(n,"i");return[a,s,i]}function iB(e){var t=e.read_shift(2),r=VE(e);return[t,r]}function Qxe(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Dh(e,t,r),s=e.read_shift(2);if(n-=e.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return e.l+=s,a}function Jx(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function oB(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var eye=oB;function lB(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function tye(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function rye(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function _n(e){e.l+=2,e.l+=e.read_shift(2)}var nye={0:_n,4:_n,5:_n,6:_n,7:rye,8:_n,9:_n,10:_n,11:_n,12:_n,13:tye,14:_n,15:_n,16:_n,17:_n,18:_n,19:_n,20:_n,21:lB};function aye(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(nye[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function Lp(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function sye(e,t){return t===0||e.read_shift(2),1200}function iye(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=xc(e,0,r);return e.read_shift(t+n-e.l),a}function oye(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function lye(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,s=e.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var i=Dh(e,0,r);return i.length===0&&(i="Sheet1"),{pos:n,hs:a,dt:s,name:i}}function cye(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),s=[],i=0;i!=a&&e.l<r;++i)s.push(Wxe(e));return s.Count=n,s.Unique=a,s}function uye(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function dye(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function fye(e){var t=Xxe(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function hye(e){return e.read_shift(2),e.read_shift(4)}function LO(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,a]}function pye(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:s,CurTab:i,FirstTab:o,Selected:l,TabRatio:c}}function mye(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function vye(){}function gye(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Dh(e,0,r),n}function xye(e){var t=li(e);return t.isst=e.read_shift(4),t}function yye(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=li(e);r.biff==2&&e.l++;var s=Mh(e,n-e.l,r);return a.val=s,a}function bye(e,t,r){var n=e.read_shift(2),a=xc(e,0,r);return[n,a]}var wye=xc;function $O(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,s=e.read_shift(a),i=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:s,c:o},e:{r:i,c:l}}}function _ye(e){var t=e.read_shift(2),r=e.read_shift(2),n=iB(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function kye(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(iB(e));if(e.l!==r)throw new Error("MulRK read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:i,rkrec:s}}function Sye(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),s=[];e.l<r;)s.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var i=e.read_shift(2);if(s.length!=i-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:i,ixfe:s}}function Eye(e,t,r,n){var a={},s=e.read_shift(4),i=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=_xe[o>>26],n.cellStyles&&(a.alc=s&7,a.fWrap=s>>3&1,a.alcV=s>>4&7,a.fJustLast=s>>7&1,a.trot=s>>8&255,a.cIndent=s>>16&15,a.fShrinkToFit=s>>20&1,a.iReadOrder=s>>22&2,a.fAtrNum=s>>26&1,a.fAtrFnt=s>>27&1,a.fAtrAlc=s>>28&1,a.fAtrBdr=s>>29&1,a.fAtrPat=s>>30&1,a.fAtrProt=s>>31&1,a.dgLeft=i&15,a.dgRight=i>>4&15,a.dgTop=i>>8&15,a.dgBottom=i>>12&15,a.icvLeft=i>>16&127,a.icvRight=i>>23&127,a.grbitDiag=i>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Cye(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Eye(e,t,n.fStyle,r),n}function Tye(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function BO(e,t,r){var n=li(e);(r.biff==2||t==9)&&++e.l;var a=Vxe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Aye(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=li(e),a=An(e);return n.val=a,n}var zO=Zxe;function jye(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,a];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var i=nc(e,s),o=[];n>e.l;)o.push(Mh(e));return[s,a,i,o]}function UO(e,t,r){var n=e.read_shift(2),a,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=Qxe(e,t-2,r)),s.body=a||e.read_shift(t-2),typeof a=="string"&&(s.Name=a),s}var Pye=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function VO(e,t,r){var n=e.l+t,a=e.read_shift(2),s=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=nc(e,i,r);a&32&&(c=Pye[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:d2e(e,u,r,o);return{chKey:s,Name:c,itab:l,rgce:f}}function cB(e,t,r){if(r.biff<8)return Nye(e,t,r);for(var n=[],a=e.l+t,s=e.read_shift(r.biff>8?4:2);s--!==0;)n.push(Jxe(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Nye(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Dh(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Oye(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),s=nc(e,n,r),i=nc(e,a,r);return[s,i]}function Dye(e,t,r){var n=oB(e);e.l++;var a=e.read_shift(1);return t-=8,[f2e(e,t,r),a,n]}function WO(e,t,r){var n=eye(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,c2e(e,t,r)]}function Mye(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Iye(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2),i=e.read_shift(2),o=xc(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,i,s]}}function Rye(e,t,r){return Iye(e,t,r)}function Fye(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(Jx(e));return r}function Lye(e,t,r){if(r&&r.biff<8)return Bye(e,t,r);var n=lB(e),a=aye(e,t-22,n[1]);return{cmo:n,ft:a}}var $ye={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Bye(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),s=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var i=[];return i.push(($ye[n]||In)(e,t,r)),{cmo:[a,n,s],ft:i}}function zye(e,t,r){var n=e.l,a="";try{e.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],i;[0,5,7,11,12,14].indexOf(s)==-1?e.l+=6:i=Hxe(e,6,r);var o=e.read_shift(2);e.read_shift(2),_r(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=nc(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Uye(e,t){var r=Jx(e);e.l+=16;var n=Yxe(e,t-24);return[r,n]}function Vye(e,t){e.read_shift(2);var r=Jx(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Gn,""),[r,n]}function Wye(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=DO[r]||r,r=e.read_shift(2),t[1]=DO[r]||r,t}function Hye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(sB(e));return r}function Kye(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(sB(e));return r}function Gye(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function uB(e,t,r){if(!r.cellStyles)return In(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),s=e.read_shift(n),i=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:s,w:i,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function qye(e,t){var r={};return t<32||(e.l+=16,r.header=An(e),r.footer=An(e),e.l+=2),r}function Yye(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var Xye=li,Zye=nB,Jye=Mh;function Qye(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function e1e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=li(e);++e.l;var a=xc(e,t-7,r);return n.t="str",n.val=a,n}function t1e(e){var t=li(e);++e.l;var r=An(e);return t.t="n",t.val=r,t}function r1e(e){var t=li(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function n1e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function a1e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function s1e(e,t,r){var n=e.l+t,a=li(e),s=e.read_shift(2),i=nc(e,s,r);return e.l=n,a.t="str",a.val=i,a}var i1e=[2,3,48,49,131,139,140,245],HO=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ME({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=zo(1);switch(l.type){case"base64":u=ms(Ca(o));break;case"binary":u=ms(o);break;case"buffer":case"array":u=o;break}dn(u,0);var f=u.read_shift(1),h=!!(f&136),p=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:p=!0,h=!0;break;case 49:p=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var v=0,g=521;f==2&&(v=u.read_shift(2)),u.l+=3,f!=2&&(v=u.read_shift(4)),v>1048576&&(v=1e6),f!=2&&(g=u.read_shift(2));var x=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var y=[],_={},S=Math.min(u.length,f==2?521:g-10-(p?264:0)),k=m?32:11;u.l<S&&u[u.l]!=13;)switch(_={},_.name=x0.utils.decode(b,u.slice(u.l,u.l+k)).replace(/[\u0000\r\n].*$/g,""),u.l+=k,_.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(_.offset=u.read_shift(4)),_.len=u.read_shift(1),f==2&&(_.offset=u.read_shift(2)),_.dec=u.read_shift(1),_.name.length&&y.push(_),f!=2&&(u.l+=m?13:14),_.type){case"B":(!p||_.len!=8)&&l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+_.name+":"+_.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+_.type)}if(u[u.l]!==13&&(u.l=g-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=g;var E=0,C=0;for(c[0]=[],C=0;C!=y.length;++C)c[0][C]=y[C].name;for(;v-- >0;){if(u[u.l]===42){u.l+=x;continue}for(++u.l,c[++E]=[],C=0,C=0;C!=y.length;++C){var T=u.slice(u.l,u.l+y[C].len);u.l+=y[C].len,dn(T,0);var A=x0.utils.decode(b,T);switch(y[C].type){case"C":A.trim().length&&(c[E][C]=A.replace(/\s+$/,""));break;case"D":A.length===8?c[E][C]=new Date(+A.slice(0,4),+A.slice(4,6)-1,+A.slice(6,8)):c[E][C]=A;break;case"F":c[E][C]=parseFloat(A.trim());break;case"+":case"I":c[E][C]=m?T.read_shift(-4,"i")^2147483648:T.read_shift(4,"i");break;case"L":switch(A.trim().toUpperCase()){case"Y":case"T":c[E][C]=!0;break;case"N":case"F":c[E][C]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+A+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][C]="##MEMO##"+(m?parseInt(A.trim(),10):T.read_shift(4));break;case"N":A=A.replace(/\u0000/g,"").trim(),A&&A!="."&&(c[E][C]=+A||0);break;case"@":c[E][C]=new Date(T.read_shift(-8,"f")-621356832e5);break;case"T":c[E][C]=new Date((T.read_shift(4)-2440588)*864e5+T.read_shift(4));break;case"Y":c[E][C]=T.read_shift(4,"i")/1e4+T.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][C]=-T.read_shift(-8,"f");break;case"B":if(p&&y[C].len==8){c[E][C]=T.read_shift(8,"f");break}case"G":case"P":T.l+=y[C].len;break;case"0":if(y[C].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+y[C].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=y,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=fd(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return tl(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function i(o,l){var c=l||{};if(+c.codepage>=0&&gs(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=v2(),f=C2(o,{header:1,raw:!0,cellDates:!0}),h=f[0],p=f.slice(1),m=o["!cols"]||[],v=0,g=0,x=0,b=1;for(v=0;v<h.length;++v){if(((m[v]||{}).DBF||{}).name){h[v]=m[v].DBF.name,++x;continue}if(h[v]!=null){if(++x,typeof h[v]=="number"&&(h[v]=h[v].toString(10)),typeof h[v]!="string")throw new Error("DBF Invalid column name "+h[v]+" |"+typeof h[v]+"|");if(h.indexOf(h[v])!==v){for(g=0;g<1024;++g)if(h.indexOf(h[v]+"_"+g)==-1){h[v]+="_"+g;break}}}}var y=dr(o["!ref"]),_=[],S=[],k=[];for(v=0;v<=y.e.c-y.s.c;++v){var E="",C="",T=0,A=[];for(g=0;g<p.length;++g)p[g][v]!=null&&A.push(p[g][v]);if(A.length==0||h[v]==null){_[v]="?";continue}for(g=0;g<A.length;++g){switch(typeof A[g]){case"number":C="B";break;case"string":C="C";break;case"boolean":C="L";break;case"object":C=A[g]instanceof Date?"D":"C";break;default:C="C"}T=Math.max(T,String(A[g]).length),E=E&&E!=C?"C":C}T>250&&(T=250),C=((m[v]||{}).DBF||{}).type,C=="C"&&m[v].DBF.len>T&&(T=m[v].DBF.len),E=="B"&&C=="N"&&(E="N",k[v]=m[v].DBF.dec,T=m[v].DBF.len),S[v]=E=="C"||C=="N"?T:s[E]||0,b+=S[v],_[v]=E}var N=u.next(32);for(N.write_shift(4,318902576),N.write_shift(4,p.length),N.write_shift(2,296+32*x),N.write_shift(2,b),v=0;v<4;++v)N.write_shift(4,0);for(N.write_shift(4,0|(+t[l$]||3)<<8),v=0,g=0;v<h.length;++v)if(h[v]!=null){var j=u.next(32),P=(h[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,P,"sbcs"),j.write_shift(1,_[v]=="?"?"C":_[v],"sbcs"),j.write_shift(4,g),j.write_shift(1,S[v]||s[_[v]]||0),j.write_shift(1,k[v]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),g+=S[v]||s[_[v]]||0}var R=u.next(264);for(R.write_shift(4,13),v=0;v<65;++v)R.write_shift(4,0);for(v=0;v<p.length;++v){var B=u.next(b);for(B.write_shift(1,0),g=0;g<h.length;++g)if(h[g]!=null)switch(_[g]){case"L":B.write_shift(1,p[v][g]==null?63:p[v][g]?84:70);break;case"B":B.write_shift(8,p[v][g]||0,"f");break;case"N":var q="0";for(typeof p[v][g]=="number"&&(q=p[v][g].toFixed(k[g]||0)),x=0;x<S[g]-q.length;++x)B.write_shift(1,32);B.write_shift(1,q,"sbcs");break;case"D":p[v][g]?(B.write_shift(4,("0000"+p[v][g].getFullYear()).slice(-4),"sbcs"),B.write_shift(2,("00"+(p[v][g].getMonth()+1)).slice(-2),"sbcs"),B.write_shift(2,("00"+p[v][g].getDate()).slice(-2),"sbcs")):B.write_shift(8,"00000000","sbcs");break;case"C":var K=String(p[v][g]!=null?p[v][g]:"").slice(0,S[g]);for(B.write_shift(1,K,"sbcs"),x=0;x<S[g]-K.length;++x)B.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:i}}(),o1e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ti(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,p){var m=e[p];return typeof m=="number"?oO(m):m},n=function(h,p,m){var v=p.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return v==59?h:oO(v)};e["|"]=254;function a(h,p){switch(p.type){case"base64":return s(Ca(h),p);case"binary":return s(h,p);case"buffer":return s(Ke&&Buffer.isBuffer(h)?h.toString("binary"):hc(h),p);case"array":return s(rc(h),p)}throw new Error("Unrecognized type "+p.type)}function s(h,p){var m=h.split(/[\n\r]+/),v=-1,g=-1,x=0,b=0,y=[],_=[],S=null,k={},E=[],C=[],T=[],A=0,N;for(+p.codepage>=0&&gs(+p.codepage);x!==m.length;++x){A=0;var j=m[x].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),P=j.replace(/;;/g,"\0").split(";").map(function(H){return H.replace(/\u0000/g,";")}),R=P[0],B;if(j.length>0)switch(R){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":P[1].charAt(0)=="P"&&_.push(j.slice(3).replace(/;;/g,";"));break;case"C":var q=!1,K=!1,X=!1,I=!1,J=-1,Z=-1;for(b=1;b<P.length;++b)switch(P[b].charAt(0)){case"A":break;case"X":g=parseInt(P[b].slice(1))-1,K=!0;break;case"Y":for(v=parseInt(P[b].slice(1))-1,K||(g=0),N=y.length;N<=v;++N)y[N]=[];break;case"K":B=P[b].slice(1),B.charAt(0)==='"'?B=B.slice(1,B.length-1):B==="TRUE"?B=!0:B==="FALSE"?B=!1:isNaN(ks(B))?isNaN(Wu(B).getDate())||(B=rn(B)):(B=ks(B),S!==null&&pc(S)&&(B=Zx(B))),q=!0;break;case"E":I=!0;var M=wu(P[b].slice(1),{r:v,c:g});y[v][g]=[y[v][g],M];break;case"S":X=!0,y[v][g]=[y[v][g],"S5S"];break;case"G":break;case"R":J=parseInt(P[b].slice(1))-1;break;case"C":Z=parseInt(P[b].slice(1))-1;break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}if(q&&(y[v][g]&&y[v][g].length==2?y[v][g][0]=B:y[v][g]=B,S=null),X){if(I)throw new Error("SYLK shared formula cannot have own formula");var z=J>-1&&y[J][Z];if(!z||!z[1])throw new Error("SYLK shared formula cannot find base");y[v][g][1]=bB(z[1],{r:v-J,c:g-Z})}break;case"F":var G=0;for(b=1;b<P.length;++b)switch(P[b].charAt(0)){case"X":g=parseInt(P[b].slice(1))-1,++G;break;case"Y":for(v=parseInt(P[b].slice(1))-1,N=y.length;N<=v;++N)y[N]=[];break;case"M":A=parseInt(P[b].slice(1))/20;break;case"F":break;case"G":break;case"P":S=_[parseInt(P[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(T=P[b].slice(1).split(" "),N=parseInt(T[0],10);N<=parseInt(T[1],10);++N)A=parseInt(T[2],10),C[N-1]=A===0?{hidden:!0}:{wch:A},Hu(C[N-1]);break;case"C":g=parseInt(P[b].slice(1))-1,C[g]||(C[g]={});break;case"R":v=parseInt(P[b].slice(1))-1,E[v]||(E[v]={}),A>0?(E[v].hpt=A,E[v].hpx=S0(A)):A===0&&(E[v].hidden=!0);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}G<1&&(S=null);break;default:if(p&&p.WTF)throw new Error("SYLK bad record "+j)}}return E.length>0&&(k["!rows"]=E),C.length>0&&(k["!cols"]=C),p&&p.sheetRows&&(y=y.slice(0,p.sheetRows)),[y,k]}function i(h,p){var m=a(h,p),v=m[0],g=m[1],x=fd(v,p);return ti(g).forEach(function(b){x[b]=g[b]}),x}function o(h,p){return tl(i(h,p),p)}function l(h,p,m,v){var g="C;Y"+(m+1)+";X"+(v+1)+";K";switch(h.t){case"n":g+=h.v||0,h.f&&!h.F&&(g+=";E"+Gbe(h.f,{r:m,c:v}));break;case"b":g+=h.v?"TRUE":"FALSE";break;case"e":g+=h.w||h.v;break;case"d":g+='"'+(h.w||h.v)+'"';break;case"s":g+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return g}function c(h,p){p.forEach(function(m,v){var g="F;W"+(v+1)+" "+(v+1)+" ";m.hidden?g+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=ug(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=dg(m.wpx)),typeof m.wch=="number"&&(g+=Math.round(m.wch))),g.charAt(g.length-1)!=" "&&h.push(g)})}function u(h,p){p.forEach(function(m,v){var g="F;";m.hidden?g+="M0;":m.hpt?g+="M"+20*m.hpt+";":m.hpx&&(g+="M"+20*gB(m.hpx)+";"),g.length>2&&h.push(g+"R"+(v+1))})}function f(h,p){var m=["ID;PWXL;N;E"],v=[],g=dr(h["!ref"]),x,b=Array.isArray(h),y=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(g.e.r-g.s.r+1)+";X"+(g.e.c-g.s.c+1)+";D"+[g.s.c,g.s.r,g.e.c,g.e.r].join(" "));for(var _=g.s.r;_<=g.e.r;++_)for(var S=g.s.c;S<=g.e.c;++S){var k=Le({r:_,c:S});x=b?(h[_]||[])[S]:h[k],!(!x||x.v==null&&(!x.f||x.F))&&v.push(l(x,h,_,S))}return m.join(y)+y+v.join(y)+y+"E"+y}return{to_workbook:o,to_sheet:i,from_sheet:f}}(),l1e=function(){function e(s,i){switch(i.type){case"base64":return t(Ca(s),i);case"binary":return t(s,i);case"buffer":return t(Ke&&Buffer.isBuffer(s)?s.toString("binary"):hc(s),i);case"array":return t(rc(s),i)}throw new Error("Unrecognized type "+i.type)}function t(s,i){for(var o=s.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),p=h[0],m=h[1];++u;for(var v=o[u]||"";(v.match(/["]/g)||[]).length&1&&u<o.length-1;)v+=`
`+o[++u];switch(v=v.trim(),+p){case-1:if(v==="BOT"){f[++l]=[],c=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?f[l][c]=!0:v==="FALSE"?f[l][c]=!1:isNaN(ks(m))?isNaN(Wu(m).getDate())?f[l][c]=m:f[l][c]=rn(m):f[l][c]=ks(m),++c;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),f[l][c++]=v!==""?v:null;break}if(v==="EOD")break}}return i&&i.sheetRows&&(f=f.slice(0,i.sheetRows)),f}function r(s,i){return fd(e(s,i),i)}function n(s,i){return tl(r(s,i),i)}var a=function(){var s=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},i=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=dr(l["!ref"]),f,h=Array.isArray(l);s(c,"TABLE",0,1,"sheetjs"),s(c,"VECTORS",0,u.e.r-u.s.r+1,""),s(c,"TUPLES",0,u.e.c-u.s.c+1,""),s(c,"DATA",0,0,"");for(var p=u.s.r;p<=u.e.r;++p){i(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var v=Le({r:p,c:m});if(f=h?(l[p]||[])[m]:l[v],!f){i(c,1,0,"");continue}switch(f.t){case"n":var g=f.w;!g&&f.v!=null&&(g=f.v),g==null?f.f&&!f.F?i(c,1,0,"="+f.f):i(c,1,0,""):i(c,0,g,"V");break;case"b":i(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":i(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Ta(f.z||Fe[14],Xn(rn(f.v)))),i(c,0,f.w,"V");break;default:i(c,1,0,"")}}}i(c,-1,0,"EOD");var x=`\r
`,b=c.join(x);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),c1e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var p=f.split(`
`),m=-1,v=-1,g=0,x=[];g!==p.length;++g){var b=p[g].trim().split(":");if(b[0]==="cell"){var y=Vn(b[1]);if(x.length<=y.r)for(m=x.length;m<=y.r;++m)x[m]||(x[m]=[]);switch(m=y.r,v=y.c,b[2]){case"t":x[m][v]=e(b[3]);break;case"v":x[m][v]=+b[3];break;case"vtf":var _=b[b.length-1];case"vtc":switch(b[3]){case"nl":x[m][v]=!!+b[4];break;default:x[m][v]=+b[4];break}b[2]=="vtf"&&(x[m][v]=[x[m][v],_])}}}return h&&h.sheetRows&&(x=x.slice(0,h.sheetRows)),x}function n(f,h){return fd(r(f,h),h)}function a(f,h){return tl(n(f,h),h)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),i=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],p=[],m,v="",g=dd(f["!ref"]),x=Array.isArray(f),b=g.s.r;b<=g.e.r;++b)for(var y=g.s.c;y<=g.e.c;++y)if(v=Le({r:b,c:y}),m=x?(f[b]||[])[y]:f[v],!(!m||m.v==null||m.t==="z")){switch(p=["cell",v,"t"],m.t){case"s":case"str":p.push(t(m.v));break;case"n":m.f?(p[2]="vtf",p[3]="n",p[4]=m.v,p[5]=t(m.f)):(p[2]="v",p[3]=m.v);break;case"b":p[2]="vt"+(m.f?"f":"c"),p[3]="nl",p[4]=m.v?"1":"0",p[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var _=Xn(rn(m.v));p[2]="vtc",p[3]="nd",p[4]=""+_,p[5]=m.w||Ta(m.z||Fe[14],_);break;case"e":continue}h.push(p.join(":"))}return h.push("sheet:c:"+(g.e.c-g.s.c+1)+":r:"+(g.e.r-g.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[s,i,o,i,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),_0=function(){function e(u,f,h,p,m){m.raw?f[h][p]=u:u===""||(u==="TRUE"?f[h][p]=!0:u==="FALSE"?f[h][p]=!1:isNaN(ks(u))?isNaN(Wu(u).getDate())?f[h][p]=u:f[h][p]=rn(u):f[h][p]=ks(u))}function t(u,f){var h=f||{},p=[];if(!u||u.length===0)return p;for(var m=u.split(/[\r\n]/),v=m.length-1;v>=0&&m[v].length===0;)--v;for(var g=10,x=0,b=0;b<=v;++b)x=m[b].indexOf(" "),x==-1?x=m[b].length:x++,g=Math.max(g,x);for(b=0;b<=v;++b){p[b]=[];var y=0;for(e(m[b].slice(0,g).trim(),p,b,y,h),y=1;y<=(m[b].length-g)/10+1;++y)e(m[b].slice(g+(y-1)*10,g+y*10).trim(),p,b,y,h)}return h.sheetRows&&(p=p.slice(0,h.sheetRows)),p}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,p=0,m=0;p<u.length;++p)(m=u.charCodeAt(p))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p]);if(!m.length){f=n;for(p in f)Object.prototype.hasOwnProperty.call(f,p)&&m.push([f[p],p])}return m.sort(function(v,g){return v[0]-g[0]||n[v[1]]-n[g[1]]}),r[m.pop()[1]]||44}function s(u,f){var h=f||{},p="",m=h.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(p=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(p=u.charAt(4),u=u.slice(6)):p=a(u.slice(0,1024)):h&&h.FS?p=h.FS:p=a(u.slice(0,1024));var g=0,x=0,b=0,y=0,_=0,S=p.charCodeAt(0),k=!1,E=0,C=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var T=h.dateNF!=null?bge(h.dateNF):null;function A(){var N=u.slice(y,_),j={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)j.t="z";else if(h.raw)j.t="s",j.v=N;else if(N.trim().length===0)j.t="s",j.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(j.t="s",j.v=N.slice(2,-1).replace(/""/g,'"')):Ybe(N)?(j.t="n",j.f=N.slice(1)):(j.t="s",j.v=N);else if(N=="TRUE")j.t="b",j.v=!0;else if(N=="FALSE")j.t="b",j.v=!1;else if(!isNaN(b=ks(N)))j.t="n",h.cellText!==!1&&(j.w=N),j.v=b;else if(!isNaN(Wu(N).getDate())||T&&N.match(T)){j.z=h.dateNF||Fe[14];var P=0;T&&N.match(T)&&(N=wge(N,h.dateNF,N.match(T)||[]),P=1),h.cellDates?(j.t="d",j.v=rn(N,P)):(j.t="n",j.v=Xn(rn(N,P))),h.cellText!==!1&&(j.w=Ta(j.z,j.v instanceof Date?Xn(j.v):j.v)),h.cellNF||delete j.z}else j.t="s",j.v=N;if(j.t=="z"||(h.dense?(m[g]||(m[g]=[]),m[g][x]=j):m[Le({c:x,r:g})]=j),y=_+1,C=u.charCodeAt(y),v.e.c<x&&(v.e.c=x),v.e.r<g&&(v.e.r=g),E==S)++x;else if(x=0,++g,h.sheetRows&&h.sheetRows<=g)return!0}e:for(;_<u.length;++_)switch(E=u.charCodeAt(_)){case 34:C===34&&(k=!k);break;case S:case 10:case 13:if(!k&&A())break e;break}return _-y>0&&A(),m["!ref"]=Xe(v),m}function i(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?s(u,f):fd(t(u,f),f)}function o(u,f){var h="",p=f.type=="string"?[0,0,0,0]:QE(u,f);switch(f.type){case"base64":h=Ca(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof x0<"u"||(h=Ke&&Buffer.isBuffer(u)?u.toString("binary"):hc(u));break;case"array":h=rc(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return p[0]==239&&p[1]==187&&p[2]==191?h=kt(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=kt(h):f.type=="binary"&&typeof x0<"u",h.slice(0,19)=="socialcalc:version:"?c1e.to_sheet(f.type=="string"?h:kt(h),f):i(h,f)}function l(u,f){return tl(o(u,f),f)}function c(u){for(var f=[],h=dr(u["!ref"]),p,m=Array.isArray(u),v=h.s.r;v<=h.e.r;++v){for(var g=[],x=h.s.c;x<=h.e.c;++x){var b=Le({r:v,c:x});if(p=m?(u[v]||[])[x]:u[b],!p||p.v==null){g.push("          ");continue}for(var y=(p.w||(Wi(p),p.w)||"").slice(0,10);y.length<10;)y+=" ";g.push(y+(x===0?" ":""))}f.push(g.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function u1e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=o1e.to_workbook(e,r);return r.WTF=n,a}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return _0.to_workbook(e,t)}}var yf=function(){function e(M,z,G){if(M){dn(M,M.l||0);for(var H=G.Enum||J;M.l<M.length;){var Q=M.read_shift(2),oe=H[Q]||H[65535],le=M.read_shift(2),Y=M.l+le,te=oe.f&&oe.f(M,le,G);if(M.l=Y,z(te,oe,Q))return}}}function t(M,z){switch(z.type){case"base64":return r(ms(Ca(M)),z);case"binary":return r(ms(M),z);case"buffer":case"array":return r(M,z)}throw"Unsupported type "+z.type}function r(M,z){if(!M)return M;var G=z||{},H=G.dense?[]:{},Q="Sheet1",oe="",le=0,Y={},te=[],ue=[],D={s:{r:0,c:0},e:{r:0,c:0}},Ne=G.sheetRows||0;if(M[2]==0&&(M[3]==8||M[3]==9)&&M.length>=16&&M[14]==5&&M[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(M[2]==2)G.Enum=J,e(M,function(de,Oe,Ve){switch(Ve){case 0:G.vers=de,de>=4096&&(G.qpro=!0);break;case 6:D=de;break;case 204:de&&(oe=de);break;case 222:oe=de;break;case 15:case 51:G.qpro||(de[1].v=de[1].v.slice(1));case 13:case 14:case 16:Ve==14&&(de[2]&112)==112&&(de[2]&15)>1&&(de[2]&15)<15&&(de[1].z=G.dateNF||Fe[14],G.cellDates&&(de[1].t="d",de[1].v=Zx(de[1].v))),G.qpro&&de[3]>le&&(H["!ref"]=Xe(D),Y[Q]=H,te.push(Q),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=de[3],Q=oe||"Sheet"+(le+1),oe="");var at=G.dense?(H[de[0].r]||[])[de[0].c]:H[Le(de[0])];if(at){at.t=de[1].t,at.v=de[1].v,de[1].z!=null&&(at.z=de[1].z),de[1].f!=null&&(at.f=de[1].f);break}G.dense?(H[de[0].r]||(H[de[0].r]=[]),H[de[0].r][de[0].c]=de[1]):H[Le(de[0])]=de[1];break}},G);else if(M[2]==26||M[2]==14)G.Enum=Z,M[2]==14&&(G.qpro=!0,M.l=0),e(M,function(de,Oe,Ve){switch(Ve){case 204:Q=de;break;case 22:de[1].v=de[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(de[3]>le&&(H["!ref"]=Xe(D),Y[Q]=H,te.push(Q),H=G.dense?[]:{},D={s:{r:0,c:0},e:{r:0,c:0}},le=de[3],Q="Sheet"+(le+1)),Ne>0&&de[0].r>=Ne)break;G.dense?(H[de[0].r]||(H[de[0].r]=[]),H[de[0].r][de[0].c]=de[1]):H[Le(de[0])]=de[1],D.e.c<de[0].c&&(D.e.c=de[0].c),D.e.r<de[0].r&&(D.e.r=de[0].r);break;case 27:de[14e3]&&(ue[de[14e3][0]]=de[14e3][1]);break;case 1537:ue[de[0]]=de[1],de[0]==le&&(Q=de[1]);break}},G);else throw new Error("Unrecognized LOTUS BOF "+M[2]);if(H["!ref"]=Xe(D),Y[oe||Q]=H,te.push(oe||Q),!ue.length)return{SheetNames:te,Sheets:Y};for(var me={},ye=[],fe=0;fe<ue.length;++fe)Y[te[fe]]?(ye.push(ue[fe]||te[fe]),me[ue[fe]]=Y[ue[fe]]||Y[te[fe]]):(ye.push(ue[fe]),me[ue[fe]]={"!ref":"A1"});return{SheetNames:ye,Sheets:me}}function n(M,z){var G=z||{};if(+G.codepage>=0&&gs(+G.codepage),G.type=="string")throw new Error("Cannot write WK1 to JS string");var H=v2(),Q=dr(M["!ref"]),oe=Array.isArray(M),le=[];as(H,0,s(1030)),as(H,6,l(Q));for(var Y=Math.min(Q.e.r,8191),te=Q.s.r;te<=Y;++te)for(var ue=pn(te),D=Q.s.c;D<=Q.e.c;++D){te===Q.s.r&&(le[D]=Lr(D));var Ne=le[D]+ue,me=oe?(M[te]||[])[D]:M[Ne];if(!(!me||me.t=="z"))if(me.t=="n")(me.v|0)==me.v&&me.v>=-32768&&me.v<=32767?as(H,13,p(te,D,me.v)):as(H,14,v(te,D,me.v));else{var ye=Wi(me);as(H,15,f(te,D,ye.slice(0,239)))}}return as(H,1),H.end()}function a(M,z){var G=z||{};if(+G.codepage>=0&&gs(+G.codepage),G.type=="string")throw new Error("Cannot write WK3 to JS string");var H=v2();as(H,0,i(M));for(var Q=0,oe=0;Q<M.SheetNames.length;++Q)(M.Sheets[M.SheetNames[Q]]||{})["!ref"]&&as(H,27,I(M.SheetNames[Q],oe++));var le=0;for(Q=0;Q<M.SheetNames.length;++Q){var Y=M.Sheets[M.SheetNames[Q]];if(!(!Y||!Y["!ref"])){for(var te=dr(Y["!ref"]),ue=Array.isArray(Y),D=[],Ne=Math.min(te.e.r,8191),me=te.s.r;me<=Ne;++me)for(var ye=pn(me),fe=te.s.c;fe<=te.e.c;++fe){me===te.s.r&&(D[fe]=Lr(fe));var de=D[fe]+ye,Oe=ue?(Y[me]||[])[fe]:Y[de];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")as(H,23,A(me,fe,le,Oe.v));else{var Ve=Wi(Oe);as(H,22,E(me,fe,le,Ve.slice(0,239)))}}++le}}return as(H,1),H.end()}function s(M){var z=Mr(2);return z.write_shift(2,M),z}function i(M){var z=Mr(26);z.write_shift(2,4096),z.write_shift(2,4),z.write_shift(4,0);for(var G=0,H=0,Q=0,oe=0;oe<M.SheetNames.length;++oe){var le=M.SheetNames[oe],Y=M.Sheets[le];if(!(!Y||!Y["!ref"])){++Q;var te=dd(Y["!ref"]);G<te.e.r&&(G=te.e.r),H<te.e.c&&(H=te.e.c)}}return G>8191&&(G=8191),z.write_shift(2,G),z.write_shift(1,Q),z.write_shift(1,H),z.write_shift(2,0),z.write_shift(2,0),z.write_shift(1,1),z.write_shift(1,2),z.write_shift(4,0),z.write_shift(4,0),z}function o(M,z,G){var H={s:{c:0,r:0},e:{c:0,r:0}};return z==8&&G.qpro?(H.s.c=M.read_shift(1),M.l++,H.s.r=M.read_shift(2),H.e.c=M.read_shift(1),M.l++,H.e.r=M.read_shift(2),H):(H.s.c=M.read_shift(2),H.s.r=M.read_shift(2),z==12&&G.qpro&&(M.l+=2),H.e.c=M.read_shift(2),H.e.r=M.read_shift(2),z==12&&G.qpro&&(M.l+=2),H.s.c==65535&&(H.s.c=H.e.c=H.s.r=H.e.r=0),H)}function l(M){var z=Mr(8);return z.write_shift(2,M.s.c),z.write_shift(2,M.s.r),z.write_shift(2,M.e.c),z.write_shift(2,M.e.r),z}function c(M,z,G){var H=[{c:0,r:0},{t:"n",v:0},0,0];return G.qpro&&G.vers!=20768?(H[0].c=M.read_shift(1),H[3]=M.read_shift(1),H[0].r=M.read_shift(2),M.l+=2):(H[2]=M.read_shift(1),H[0].c=M.read_shift(2),H[0].r=M.read_shift(2)),H}function u(M,z,G){var H=M.l+z,Q=c(M,z,G);if(Q[1].t="s",G.vers==20768){M.l++;var oe=M.read_shift(1);return Q[1].v=M.read_shift(oe,"utf8"),Q}return G.qpro&&M.l++,Q[1].v=M.read_shift(H-M.l,"cstr"),Q}function f(M,z,G){var H=Mr(7+G.length);H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(1,39);for(var Q=0;Q<H.length;++Q){var oe=G.charCodeAt(Q);H.write_shift(1,oe>=128?95:oe)}return H.write_shift(1,0),H}function h(M,z,G){var H=c(M,z,G);return H[1].v=M.read_shift(2,"i"),H}function p(M,z,G){var H=Mr(7);return H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(2,G,"i"),H}function m(M,z,G){var H=c(M,z,G);return H[1].v=M.read_shift(8,"f"),H}function v(M,z,G){var H=Mr(13);return H.write_shift(1,255),H.write_shift(2,z),H.write_shift(2,M),H.write_shift(8,G,"f"),H}function g(M,z,G){var H=M.l+z,Q=c(M,z,G);if(Q[1].v=M.read_shift(8,"f"),G.qpro)M.l=H;else{var oe=M.read_shift(2);_(M.slice(M.l,M.l+oe),Q),M.l+=oe}return Q}function x(M,z,G){var H=z&32768;return z&=-32769,z=(H?M:0)+(z>=8192?z-16384:z),(H?"":"$")+(G?Lr(z):pn(z))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},y=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function _(M,z){dn(M,0);for(var G=[],H=0,Q="",oe="",le="",Y="";M.l<M.length;){var te=M[M.l++];switch(te){case 0:G.push(M.read_shift(8,"f"));break;case 1:oe=x(z[0].c,M.read_shift(2),!0),Q=x(z[0].r,M.read_shift(2),!1),G.push(oe+Q);break;case 2:{var ue=x(z[0].c,M.read_shift(2),!0),D=x(z[0].r,M.read_shift(2),!1);oe=x(z[0].c,M.read_shift(2),!0),Q=x(z[0].r,M.read_shift(2),!1),G.push(ue+D+":"+oe+Q)}break;case 3:if(M.l<M.length){console.error("WK1 premature formula end");return}break;case 4:G.push("("+G.pop()+")");break;case 5:G.push(M.read_shift(2));break;case 6:{for(var Ne="";te=M[M.l++];)Ne+=String.fromCharCode(te);G.push('"'+Ne.replace(/"/g,'""')+'"')}break;case 8:G.push("-"+G.pop());break;case 23:G.push("+"+G.pop());break;case 22:G.push("NOT("+G.pop()+")");break;case 20:case 21:Y=G.pop(),le=G.pop(),G.push(["AND","OR"][te-20]+"("+le+","+Y+")");break;default:if(te<32&&y[te])Y=G.pop(),le=G.pop(),G.push(le+y[te]+Y);else if(b[te]){if(H=b[te][1],H==69&&(H=M[M.l++]),H>G.length){console.error("WK1 bad formula parse 0x"+te.toString(16)+":|"+G.join("|")+"|");return}var me=G.slice(-H);G.length-=H,G.push(b[te][0]+"("+me.join(",")+")")}else return te<=7?console.error("WK1 invalid opcode "+te.toString(16)):te<=24?console.error("WK1 unsupported op "+te.toString(16)):te<=30?console.error("WK1 invalid opcode "+te.toString(16)):te<=115?console.error("WK1 unsupported function opcode "+te.toString(16)):console.error("WK1 unrecognized opcode "+te.toString(16))}}G.length==1?z[1].f=""+G[0]:console.error("WK1 bad formula parse |"+G.join("|")+"|")}function S(M){var z=[{c:0,r:0},{t:"n",v:0},0];return z[0].r=M.read_shift(2),z[3]=M[M.l++],z[0].c=M[M.l++],z}function k(M,z){var G=S(M);return G[1].t="s",G[1].v=M.read_shift(z-4,"cstr"),G}function E(M,z,G,H){var Q=Mr(6+H.length);Q.write_shift(2,M),Q.write_shift(1,G),Q.write_shift(1,z),Q.write_shift(1,39);for(var oe=0;oe<H.length;++oe){var le=H.charCodeAt(oe);Q.write_shift(1,le>=128?95:le)}return Q.write_shift(1,0),Q}function C(M,z){var G=S(M);G[1].v=M.read_shift(2);var H=G[1].v>>1;if(G[1].v&1)switch(H&7){case 0:H=(H>>3)*5e3;break;case 1:H=(H>>3)*500;break;case 2:H=(H>>3)/20;break;case 3:H=(H>>3)/200;break;case 4:H=(H>>3)/2e3;break;case 5:H=(H>>3)/2e4;break;case 6:H=(H>>3)/16;break;case 7:H=(H>>3)/64;break}return G[1].v=H,G}function T(M,z){var G=S(M),H=M.read_shift(4),Q=M.read_shift(4),oe=M.read_shift(2);if(oe==65535)return H===0&&Q===3221225472?(G[1].t="e",G[1].v=15):H===0&&Q===3489660928?(G[1].t="e",G[1].v=42):G[1].v=0,G;var le=oe&32768;return oe=(oe&32767)-16446,G[1].v=(1-le*2)*(Q*Math.pow(2,oe+32)+H*Math.pow(2,oe)),G}function A(M,z,G,H){var Q=Mr(14);if(Q.write_shift(2,M),Q.write_shift(1,G),Q.write_shift(1,z),H==0)return Q.write_shift(4,0),Q.write_shift(4,0),Q.write_shift(2,65535),Q;var oe=0,le=0,Y=0,te=0;return H<0&&(oe=1,H=-H),le=Math.log2(H)|0,H/=Math.pow(2,le-31),te=H>>>0,te&2147483648||(H/=2,++le,te=H>>>0),H-=te,te|=2147483648,te>>>=0,H*=Math.pow(2,32),Y=H>>>0,Q.write_shift(4,Y),Q.write_shift(4,te),le+=16383+(oe?32768:0),Q.write_shift(2,le),Q}function N(M,z){var G=T(M);return M.l+=z-14,G}function j(M,z){var G=S(M),H=M.read_shift(4);return G[1].v=H>>6,G}function P(M,z){var G=S(M),H=M.read_shift(8,"f");return G[1].v=H,G}function R(M,z){var G=P(M);return M.l+=z-10,G}function B(M,z){return M[M.l+z-1]==0?M.read_shift(z,"cstr"):""}function q(M,z){var G=M[M.l++];G>z-1&&(G=z-1);for(var H="";H.length<G;)H+=String.fromCharCode(M[M.l++]);return H}function K(M,z,G){if(!(!G.qpro||z<21)){var H=M.read_shift(1);M.l+=17,M.l+=1,M.l+=2;var Q=M.read_shift(z-21,"cstr");return[H,Q]}}function X(M,z){for(var G={},H=M.l+z;M.l<H;){var Q=M.read_shift(2);if(Q==14e3){for(G[Q]=[0,""],G[Q][0]=M.read_shift(2);M[M.l];)G[Q][1]+=String.fromCharCode(M[M.l]),M.l++;M.l++}}return G}function I(M,z){var G=Mr(5+M.length);G.write_shift(2,14e3),G.write_shift(2,z);for(var H=0;H<M.length;++H){var Q=M.charCodeAt(H);G[G.l++]=Q>127?95:Q}return G[G.l++]=0,G}var J={0:{n:"BOF",f:_r},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:g},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:B},222:{n:"SHEETNAMELP",f:q},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:k},23:{n:"NUMBER17",f:T},24:{n:"NUMBER18",f:C},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:j},38:{n:"??"},39:{n:"NUMBER27",f:P},40:{n:"FORMULA28",f:R},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:B},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:K},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function d1e(e){var t={},r=e.match(Fn),n=0,a=!1;if(r)for(;n!=r.length;++n){var s=Re(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;t.cp=jE[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=s.val;break;case"<sz":t.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":s.rgb&&(t.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(s[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+s[0])}}return t}var f1e=function(){var e=b0("t"),t=b0("rPr");function r(s){var i=s.match(e);if(!i)return{t:"s",v:""};var o={t:"s",v:Qe(i[1])},l=s.match(t);return l&&(o.s=d1e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(i){return i.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),h1e=function(){var t=/(\r\n|\n)/g;function r(a,s,i){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),a.b&&(s.push("<b>"),i.push("</b>")),a.i&&(s.push("<i>"),i.push("</i>")),a.strike&&(s.push("<s>"),i.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),i.push("</"+l+">")),i.push("</span>"),a}function n(a){var s=[[],a.v,[]];return a.v?(a.s&&r(a.s,s[0],s[2]),s[0].join("")+s[1].replace(t,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}}(),p1e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,m1e=/<(?:\w+:)?r>/,v1e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function KE(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Qe(kt(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=kt(e),r&&(n.h=RE(n.t))):e.match(m1e)&&(n.r=kt(e),n.t=Qe(kt((e.replace(v1e,"").match(p1e)||[]).join("").replace(Fn,""))),r&&(n.h=h1e(f1e(n.r)))),n):{t:""}}var g1e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,x1e=/<(?:\w+:)?(?:si|sstItem)>/g,y1e=/<\/(?:\w+:)?(?:si|sstItem)>/;function b1e(e,t){var r=[],n="";if(!e)return r;var a=e.match(g1e);if(a){n=a[2].replace(x1e,"").split(y1e);for(var s=0;s!=n.length;++s){var i=KE(n[s].trim(),t);i!=null&&(r[r.length]=i)}a=Re(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function w1e(e){return[e.read_shift(4),e.read_shift(4)]}function _1e(e,t){var r=[],n=!1;return Qi(e,function(s,i,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(i.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function dB(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function ji(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function k1e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=ji(e,4),t.U=ji(e,4),t.W=ji(e,4),t}function S1e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),s=[];a-- >0;)s.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=s,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function E1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(S1e(e));return t}function C1e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function T1e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=ji(e,4),t.U=ji(e,4),t.W=ji(e,4),t}function A1e(e){var t=T1e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function fB(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function hB(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function j1e(e){var t=ji(e);switch(t.Minor){case 2:return[t.Minor,P1e(e)];case 3:return[t.Minor,N1e()];case 4:return[t.Minor,O1e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function P1e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=fB(e,r),a=hB(e,e.length-e.l);return{t:"Std",h:n,v:a}}function N1e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function O1e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Fn,function(s){var i=Re(s);switch(oi(i[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=i[o]});break;case"<dataIntegrity":n.encryptedHmacKey=i.encryptedHmacKey,n.encryptedHmacValue=i.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=i.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(i);break;default:throw i[0]}}),n}function D1e(e,t){var r={},n=r.EncryptionVersionInfo=ji(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=fB(e,a),t-=a,r.EncryptionVerifier=hB(e,t),r}function M1e(e){var t={},r=t.EncryptionVersionInfo=ji(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function I1e(e){var t=0,r,n=dB(e),a=n.length+1,s,i,o,l,c;for(r=zo(a),r[0]=n.length,s=1;s!=a;++s)r[s]=n[s-1];for(s=a-1;s>=0;--s)i=r[s],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^i;return t^52811}var pB=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(i){return(i/2|i*128)&255},a=function(i,o){return n(i^o)},s=function(i){for(var o=t[i.length-1],l=104,c=i.length-1;c>=0;--c)for(var u=i[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(i){for(var o=dB(i),l=s(o),c=o.length,u=zo(16),f=0;f!=16;++f)u[f]=0;var h,p,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,p=o[o.length-1],u[c]=a(p,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),R1e=function(e,t,r,n,a){a||(a=t),n||(n=pB(e));var s,i;for(s=0;s!=t.length;++s)i=t[s],i^=n[r],i=(i>>5|i<<3)&255,a[s]=i,++r;return[a,r,n]},F1e=function(e){var t=0,r=pB(e);return function(n){var a=R1e("",n,t,r);return t=a[1],a[0]}};function L1e(e,t,r,n){var a={key:_r(e),verificationBytes:_r(e)};return r.password&&(a.verifier=I1e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=F1e(r.password)),a}function $1e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=M1e(e):n.Data=D1e(e,t),n}function B1e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?$1e(e,t-2,n):L1e(e,r.biff>=8?t:t-2,r,n),n}var z1e=function(){function e(a,s){switch(s.type){case"base64":return t(Ca(a),s);case"binary":return t(a,s);case"buffer":return t(Ke&&Buffer.isBuffer(a)?a.toString("binary"):hc(a),s);case"array":return t(rc(a),s)}throw new Error("Unrecognized type "+s.type)}function t(a,s){var i=s||{},o=i.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,p=0,m,v=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var g=u.slice(p,h.lastIndex-m[0].length);if(g[0]==" "&&(g=g.slice(1)),++v,g.length){var x={v:g,t:"s"};Array.isArray(o)?o[f][v]=x:o[Le({r:f,c:v})]=x}break}p=h.lastIndex}v>c.e.c&&(c.e.c=v)}),o["!ref"]=Xe(c),o}function r(a,s){return tl(e(a,s),s)}function n(a){for(var s=["{\\rtf1\\ansi"],i=dr(a["!ref"]),o,l=Array.isArray(a),c=i.s.r;c<=i.e.r;++c){s.push("\\trowd\\trautofit1");for(var u=i.s.c;u<=i.e.c;++u)s.push("\\cellx"+(u+1));for(s.push("\\pard\\intbl"),u=i.s.c;u<=i.e.c;++u){var f=Le({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Wi(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function U1e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function k0(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function V1e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),s=Math.min(t,r,n),i=a-s;if(i===0)return[0,0,t];var o=0,l=0,c=a+s;switch(l=i/(c>1?2-c:c),a){case t:o=((r-n)/i+6)%6;break;case r:o=(n-t)/i+2;break;case n:o=(t-r)/i+4;break}return[o/6,l,c/2]}function W1e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),s=n-a/2,i=[s,s,s],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,i[0]+=a,i[1]+=l;break;case 1:l=a*(2-o),i[0]+=l,i[1]+=a;break;case 2:l=a*(o-2),i[1]+=a,i[2]+=l;break;case 3:l=a*(4-o),i[1]+=l,i[2]+=a;break;case 4:l=a*(o-4),i[2]+=a,i[0]+=l;break;case 5:l=a*(6-o),i[2]+=l,i[0]+=a;break}for(var c=0;c!=3;++c)i[c]=Math.round(i[c]*255);return i}function cg(e,t){if(t===0)return e;var r=V1e(U1e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),k0(W1e(r))}var mB=6,H1e=15,K1e=1,zn=mB;function ug(e){return Math.floor((e+Math.round(128/zn)/256)*zn)}function dg(e){return Math.floor((e-5)/zn*100+.5)/100}function b2(e){return Math.round((e*zn+5)/zn*256)/256}function P1(e){return b2(dg(ug(e)))}function GE(e){var t=Math.abs(e-P1(e)),r=zn;if(t>.005)for(zn=K1e;zn<H1e;++zn)Math.abs(e-P1(e))<=t&&(t=Math.abs(e-P1(e)),r=zn);zn=r}function Hu(e){e.width?(e.wpx=ug(e.width),e.wch=dg(e.wpx),e.MDW=zn):e.wpx?(e.wch=dg(e.wpx),e.width=b2(e.wch),e.MDW=zn):typeof e.wch=="number"&&(e.width=b2(e.wch),e.wpx=ug(e.width),e.MDW=zn),e.customWidth&&delete e.customWidth}var G1e=96,vB=G1e;function gB(e){return e*96/vB}function S0(e){return e*vB/96}var q1e={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function Y1e(e,t,r,n){t.Borders=[];var a={},s=!1;(e[0].match(Fn)||[]).forEach(function(i){var o=Re(i);switch(oi(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Ft(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Ft(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function X1e(e,t,r,n){t.Fills=[];var a={},s=!1;(e[0].match(Fn)||[]).forEach(function(i){var o=Re(i);switch(oi(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function Z1e(e,t,r,n){t.Fonts=[];var a={},s=!1;(e[0].match(Fn)||[]).forEach(function(i){var o=Re(i);switch(oi(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=kt(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Ft(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Ft(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Ft(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Ft(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Ft(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Ft(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Ft(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=jE[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Ft(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Ll[a.color.index];a.color.index==81&&(l=Ll[1]),l||(l=Ll[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=cg(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function J1e(e,t,r){t.NumberFmt=[];for(var n=ti(Fe),a=0;a<n.length;++a)t.NumberFmt[n[a]]=Fe[n[a]];var s=e[0].match(Fn);if(s)for(a=0;a<s.length;++a){var i=Re(s[a]);switch(oi(i[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Qe(kt(i.formatCode)),l=parseInt(i.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Ai(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+i[0]+" in numFmts")}}}var $p=["numFmtId","fillId","fontId","borderId","xfId"],Bp=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function Q1e(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Fn)||[]).forEach(function(s){var i=Re(s),o=0;switch(oi(i[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=i,delete n[0],o=0;o<$p.length;++o)n[$p[o]]&&(n[$p[o]]=parseInt(n[$p[o]],10));for(o=0;o<Bp.length;++o)n[Bp[o]]&&(n[Bp[o]]=Ft(n[Bp[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};i.vertical&&(l.vertical=i.vertical),i.horizontal&&(l.horizontal=i.horizontal),i.textRotation!=null&&(l.textRotation=i.textRotation),i.indent&&(l.indent=i.indent),i.wrapText&&(l.wrapText=Ft(i.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+i[0]+" in cellXfs")}})}var ebe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&J1e(f,u,c),(f=o.match(a))&&Z1e(f,u,l,c),(f=o.match(n))&&X1e(f,u,l,c),(f=o.match(s))&&Y1e(f,u,l,c),(f=o.match(r))&&Q1e(f,u,c),u}}();function tbe(e,t){var r=e.read_shift(2),n=On(e);return[r,n]}function rbe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=fxe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var s=e.read_shift(2);switch(s===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var i=e.read_shift(1);i!=0&&(n.underline=i);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=dxe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=On(e),n}var nbe=In;function abe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var sbe=In;function ibe(e,t,r){var n={};n.NumberFmt=[];for(var a in Fe)n.NumberFmt[a]=Fe[a];n.CellXf=[],n.Fonts=[];var s=[],i=!1;return Qi(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Ai(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=cg(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:s.push(u),i=!0;break;case 38:s.pop(),i=!1;break;default:if(c.T>0)s.push(u);else if(c.T<0)s.pop();else if(!i||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var obe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function lbe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Fn)||[]).forEach(function(a){var s=Re(a);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(t.themeElements.clrScheme[obe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function cbe(){}function ube(){}var dbe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,fbe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,hbe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function pbe(e,t,r){t.themeElements={};var n;[["clrScheme",dbe,lbe],["fontScheme",fbe,cbe],["fmtScheme",hbe,ube]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var mbe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function xB(e,t){(!e||e.length===0)&&(e=vbe());var r,n={};if(!(r=e.match(mbe)))throw new Error("themeElements not found in theme");return pbe(r[0],n,t),n.raw=e,n}function vbe(e,t){var r=[j$];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function gbe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var s=e.slice(e.l);e.l=n;var i;try{i=A$(s,{type:"array"})}catch{return}var o=ya(i,"theme/theme/theme1.xml",!0);if(o)return xB(o,r)}}function xbe(e){return e.read_shift(4)}function ybe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=bbe(e,4);break;case 2:t.xclrValue=aB(e);break;case 3:t.xclrValue=xbe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function bbe(e,t){return In(e,t)}function wbe(e,t){return In(e,t)}function _be(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=ybe(e);break;case 6:n[1]=wbe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function kbe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),s=[];a-- >0;)s.push(_be(e,r-e.l));return{ixfe:n,ext:s}}function Sbe(e,t){t.forEach(function(r){switch(r[0]){}})}function Ebe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:On(e)}}function Cbe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Tbe(e){return e.l+=4,e.read_shift(4)!=0}function Abe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},s=[],i=!1,o=2;return Qi(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(u),i=!0;break;case 36:s.pop(),i=!1;break;default:if(!c.T){if(!i||a.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function jbe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,s=2,i;return e.replace(Fn,function(o){var l=Re(o);switch(oi(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(i=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!i)break;i.offsets||(i.offsets=[]),i.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Pbe(e){var t=[];if(!e)return t;var r=1;return(e.match(Fn)||[]).forEach(function(n){var a=Re(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Nbe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Le(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Obe(e,t,r){var n=[];return Qi(e,function(s,i,o){switch(o){case 63:n.push(s);break;default:if(!i.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Dbe(e,t,r,n){if(!e)return e;var a=n||{},s=!1;Qi(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Mbe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function KO(e,t,r,n){var a=Array.isArray(e),s;t.forEach(function(i){var o=Vn(i.ref);if(a?(e[o.r]||(e[o.r]=[]),s=e[o.r][o.c]):s=e[i.ref],!s){s={t:"z"},a?e[o.r][o.c]=s:e[i.ref]=s;var l=dr(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Xe(l);c!==e["!ref"]&&(e["!ref"]=c)}s.c||(s.c=[]);var u={a:i.author,t:i.t,r:i.r,T:r};i.h&&(u.h=i.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}s.c.push(u)})}function Ibe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(i){if(!(i===""||i.trim()==="")){var o=i.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Re(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Vn(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=i.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&KE(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Rbe(e,t){var r=[],n=!1,a={},s=0;return e.replace(Fn,function(o,l){var c=Re(o);switch(oi(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":a.t=e.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Fbe(e,t){var r=[],n=!1;return e.replace(Fn,function(s){var i=Re(s);switch(oi(i[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:i.displayname,id:i.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+i[0]+" in threaded comments")}return s}),r}function Lbe(e){var t={};t.iauthor=e.read_shift(4);var r=vc(e);return t.rfx=r.s,t.ref=Le(r.s),e.l+=16,t}var $be=On;function Bbe(e,t){var r=[],n=[],a={},s=!1;return Qi(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var zbe="application/vnd.ms-office.vbaProject";function Ube(e){var t=Ye.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ye.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ye.write(t)}function Vbe(){return{"!type":"dialog"}}function Wbe(){return{"!type":"dialog"}}function Hbe(){return{"!type":"macro"}}function Kbe(){return{"!type":"macro"}}var wu=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,s,i){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),i.length==0?o=!0:i.charAt(0)=="["&&(o=!0,i=i.slice(1,-1));var c=s.length>0?parseInt(s,10)|0:0,u=i.length>0?parseInt(i,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Lr(u)+(l?"":"$")+pn(c)}return function(a,s){return t=s,a.replace(e,r)}}(),yB=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,Gbe=function(){return function(t,r){return t.replace(yB,function(n,a,s,i,o,l){var c=BE(i)-(s?0:r.c),u=$E(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":s?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function bB(e,t){return e.replace(yB,function(r,n,a,s,i,o){return n+(a=="$"?a+s:Lr(BE(s)+t.c))+(i=="$"?i+o:pn($E(o)+t.r))})}function qbe(e,t,r){var n=dd(t),a=n.s,s=Vn(r),i={r:s.r-a.r,c:s.c-a.c};return bB(e,i)}function Ybe(e){return e.length!=1}function GO(e){return e.replace(/_xlfn\./g,"")}function br(e){e.l+=1}function Uo(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function wB(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return _B(e);r.biff==12&&(n=4)}var a=e.read_shift(n),s=e.read_shift(n),i=Uo(e),o=Uo(e);return{s:{r:a,c:i[0],cRel:i[1],rRel:i[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function _B(e){var t=Uo(e),r=Uo(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function Xbe(e,t,r){if(r.biff<8)return _B(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),s=Uo(e),i=Uo(e);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:a,c:i[0],cRel:i[1],rRel:i[2]}}}function kB(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return Zbe(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Uo(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function Zbe(e){var t=Uo(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function Jbe(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function Qbe(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ewe(e);var a=e.read_shift(n>=12?4:2),s=e.read_shift(2),i=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;a>524287;)a-=1048576;if(i==1)for(;s>8191;)s=s-16384;return{r:a,c:s,cRel:i,rRel:o}}function ewe(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function twe(e,t,r){var n=(e[e.l++]&96)>>5,a=wB(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function rwe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}var i=wB(e,s,r);return[n,a,i]}function nwe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function awe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=8;if(r)switch(r.biff){case 5:e.l+=12,s=6;break;case 12:s=12;break}return e.l+=s,[n,a]}function swe(e,t,r){var n=(e[e.l++]&96)>>5,a=Xbe(e,t-1,r);return[n,a]}function iwe(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function qO(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function owe(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],s=0;s<=n;++s)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function lwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function cwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function uwe(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function dwe(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function SB(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function fwe(e){return e.read_shift(2),SB(e)}function hwe(e){return e.read_shift(2),SB(e)}function pwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=kB(e,0,r);return[n,a]}function mwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Qbe(e,0,r);return[n,a]}function vwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var s=kB(e,0,r);return[n,a,s]}function gwe(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[x2e[a],TB[a],n]}function xwe(e,t,r){var n=e[e.l++],a=e.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:ywe(e);return[a,(s[0]===0?TB:g2e)[s[1]]]}function ywe(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function bwe(e,t,r){e.l+=r&&r.biff==2?3:4}function wwe(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function _we(e){return e.l++,gc[e.read_shift(1)]}function kwe(e){return e.l++,e.read_shift(2)}function Swe(e){return e.l++,e.read_shift(1)!==0}function Ewe(e){return e.l++,An(e)}function Cwe(e,t,r){return e.l++,Dh(e,t-1,r)}function Twe(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=fr(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=gc[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=An(e);break;case 2:r[1]=xc(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Awe(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],s=0;s!=n;++s)a.push((r.biff==12?vc:Jx)(e));return a}function jwe(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var s=0,i=[];s!=n&&(i[s]=[]);++s)for(var o=0;o!=a;++o)i[s][o]=Twe(e,r.biff);return i}function Pwe(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,s=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,s]}function Nwe(e,t,r){if(r.biff==5)return Owe(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),s=e.read_shift(4);return[n,a,s]}function Owe(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Dwe(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Mwe(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Iwe(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Rwe(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return e.l+=s,[n,a]}var Fwe=In,Lwe=In,$we=In;function Ih(e,t,r){return e.l+=2,[Jbe(e)]}function qE(e){return e.l+=6,[]}var Bwe=Ih,zwe=qE,Uwe=qE,Vwe=Ih;function EB(e){return e.l+=2,[_r(e),e.read_shift(2)&1]}var Wwe=Ih,Hwe=EB,Kwe=qE,Gwe=Ih,qwe=Ih,Ywe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function Xwe(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),s=e.read_shift(2),i=Ywe[r>>2&31];return{ixti:t,coltype:r&3,rt:i,idx:n,c:a,C:s}}function Zwe(e){return e.l+=2,[e.read_shift(4)]}function Jwe(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function Qwe(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function e2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function t2e(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function r2e(e){return e.l+=4,[0,0]}var YO={1:{n:"PtgExp",f:wwe},2:{n:"PtgTbl",f:$we},3:{n:"PtgAdd",f:br},4:{n:"PtgSub",f:br},5:{n:"PtgMul",f:br},6:{n:"PtgDiv",f:br},7:{n:"PtgPower",f:br},8:{n:"PtgConcat",f:br},9:{n:"PtgLt",f:br},10:{n:"PtgLe",f:br},11:{n:"PtgEq",f:br},12:{n:"PtgGe",f:br},13:{n:"PtgGt",f:br},14:{n:"PtgNe",f:br},15:{n:"PtgIsect",f:br},16:{n:"PtgUnion",f:br},17:{n:"PtgRange",f:br},18:{n:"PtgUplus",f:br},19:{n:"PtgUminus",f:br},20:{n:"PtgPercent",f:br},21:{n:"PtgParen",f:br},22:{n:"PtgMissArg",f:br},23:{n:"PtgStr",f:Cwe},26:{n:"PtgSheet",f:Jwe},27:{n:"PtgEndSheet",f:Qwe},28:{n:"PtgErr",f:_we},29:{n:"PtgBool",f:Swe},30:{n:"PtgInt",f:kwe},31:{n:"PtgNum",f:Ewe},32:{n:"PtgArray",f:iwe},33:{n:"PtgFunc",f:gwe},34:{n:"PtgFuncVar",f:xwe},35:{n:"PtgName",f:Pwe},36:{n:"PtgRef",f:pwe},37:{n:"PtgArea",f:twe},38:{n:"PtgMemArea",f:Dwe},39:{n:"PtgMemErr",f:Fwe},40:{n:"PtgMemNoMem",f:Lwe},41:{n:"PtgMemFunc",f:Mwe},42:{n:"PtgRefErr",f:Iwe},43:{n:"PtgAreaErr",f:nwe},44:{n:"PtgRefN",f:mwe},45:{n:"PtgAreaN",f:swe},46:{n:"PtgMemAreaN",f:e2e},47:{n:"PtgMemNoMemN",f:t2e},57:{n:"PtgNameX",f:Nwe},58:{n:"PtgRef3d",f:vwe},59:{n:"PtgArea3d",f:rwe},60:{n:"PtgRefErr3d",f:Rwe},61:{n:"PtgAreaErr3d",f:awe},255:{}},n2e={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},a2e={1:{n:"PtgElfLel",f:EB},2:{n:"PtgElfRw",f:Gwe},3:{n:"PtgElfCol",f:Bwe},6:{n:"PtgElfRwV",f:qwe},7:{n:"PtgElfColV",f:Vwe},10:{n:"PtgElfRadical",f:Wwe},11:{n:"PtgElfRadicalS",f:Kwe},13:{n:"PtgElfColS",f:zwe},15:{n:"PtgElfColSV",f:Uwe},16:{n:"PtgElfRadicalLel",f:Hwe},25:{n:"PtgList",f:Xwe},29:{n:"PtgSxName",f:Zwe},255:{}},s2e={0:{n:"PtgAttrNoop",f:r2e},1:{n:"PtgAttrSemi",f:dwe},2:{n:"PtgAttrIf",f:cwe},4:{n:"PtgAttrChoose",f:owe},8:{n:"PtgAttrGoto",f:lwe},16:{n:"PtgAttrSum",f:bwe},32:{n:"PtgAttrBaxcel",f:qO},33:{n:"PtgAttrBaxcel",f:qO},64:{n:"PtgAttrSpace",f:fwe},65:{n:"PtgAttrSpaceSemi",f:hwe},128:{n:"PtgAttrIfError",f:uwe},255:{}};function Rh(e,t,r,n){if(n.biff<8)return In(e,t);for(var a=e.l+t,s=[],i=0;i!==r.length;++i)switch(r[i][0]){case"PtgArray":r[i][1]=jwe(e,0,n),s.push(r[i][1]);break;case"PtgMemArea":r[i][2]=Awe(e,r[i][1],n),s.push(r[i][2]);break;case"PtgExp":n&&n.biff==12&&(r[i][1][1]=e.read_shift(4),s.push(r[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[i][0]}return t=a-e.l,t!==0&&s.push(In(e,t)),s}function Fh(e,t,r){for(var n=e.l+t,a,s,i=[];n!=e.l;)t=n-e.l,s=e[e.l],a=YO[s]||YO[n2e[s]],(s===24||s===25)&&(a=(s===24?a2e:s2e)[e[e.l+1]]),!a||!a.f?In(e,t):i.push([a.n,a.f(e,t,r)]);return i}function i2e(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],s=0;s<n.length;++s){var i=n[s];if(i)switch(i[0]){case 2:a.push('"'+i[1].replace(/"/g,'""')+'"');break;default:a.push(i[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var o2e={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function l2e(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function CB(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function XO(e,t,r){var n=CB(e,t,r);return n=="#REF"?n:l2e(n,r)}function Sn(e,t,r,n,a){var s=a&&a.biff||8,i={s:{c:0,r:0}},o=[],l,c,u,f=0,h=0,p,m="";if(!e[0]||!e[0][0])return"";for(var v=-1,g="",x=0,b=e[0].length;x<b;++x){var y=e[0][x];switch(y[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),v>=0){switch(e[0][v][1][0]){case 0:g=or(" ",e[0][v][1][1]);break;case 1:g=or("\r",e[0][v][1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}c=c+g,v=-1}o.push(c+o2e[y[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=mf(y[1][1],i,a),o.push(vf(u,s));break;case"PtgRefN":u=r?mf(y[1][1],r,a):y[1][1],o.push(vf(u,s));break;case"PtgRef3d":f=y[1][1],u=mf(y[1][2],i,a),m=XO(n,f,a),o.push(m+"!"+vf(u,s));break;case"PtgFunc":case"PtgFuncVar":var _=y[1][0],S=y[1][1];_||(_=0),_&=127;var k=_==0?[]:o.slice(-_);o.length-=_,S==="User"&&(S=k.shift()),o.push(S+"("+k.join(",")+")");break;case"PtgBool":o.push(y[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(y[1]);break;case"PtgNum":o.push(String(y[1]));break;case"PtgStr":o.push('"'+y[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(y[1]);break;case"PtgAreaN":p=PO(y[1][1],r?{s:r}:i,a),o.push(A1(p,a));break;case"PtgArea":p=PO(y[1][1],i,a),o.push(A1(p,a));break;case"PtgArea3d":f=y[1][1],p=y[1][2],m=XO(n,f,a),o.push(m+"!"+A1(p,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=y[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],C=E?E.Name:"SH33TJSNAME"+String(h);C&&C.slice(0,6)=="_xlfn."&&!a.xlfn&&(C=C.slice(6)),o.push(C);break;case"PtgNameX":var T=y[1][1];h=y[1][2];var A;if(a.biff<=5)T<0&&(T=-T),n[T]&&(A=n[T][h]);else{var N="";if(((n[T]||[])[0]||[])[0]==14849||(((n[T]||[])[0]||[])[0]==1025?n[T][h]&&n[T][h].itab>0&&(N=n.SheetNames[n[T][h].itab-1]+"!"):N=n.SheetNames[h-1]+"!"),n[T]&&n[T][h])N+=n[T][h].Name;else if(n[0]&&n[0][h])N+=n[0][h].Name;else{var j=(CB(n,T,a)||"").split(";;");j[h-1]?N=j[h-1]:N+="SH33TJSERRX"}o.push(N);break}A||(A={Name:"SH33TJSERRY"}),o.push(A.Name);break;case"PtgParen":var P="(",R=")";if(v>=0){switch(g="",e[0][v][1][0]){case 2:P=or(" ",e[0][v][1][1])+P;break;case 3:P=or("\r",e[0][v][1][1])+P;break;case 4:R=or(" ",e[0][v][1][1])+R;break;case 5:R=or("\r",e[0][v][1][1])+R;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][v][1][0])}v=-1}o.push(P+o.pop()+R);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:y[1][1],r:y[1][0]};var B={c:r.c,r:r.r};if(n.sharedf[Le(u)]){var q=n.sharedf[Le(u)];o.push(Sn(q,i,B,n,a))}else{var K=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(Sn(c[1],i,B,n,a)),K=!0;break}K||o.push(y[1])}break;case"PtgArray":o.push("{"+i2e(y[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=x;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+y[1].idx+"[#"+y[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(y));default:throw new Error("Unrecognized Formula Token: "+String(y))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&v>=0&&X.indexOf(e[0][x][0])==-1){y=e[0][v];var I=!0;switch(y[1][0]){case 4:I=!1;case 0:g=or(" ",y[1][1]);break;case 5:I=!1;case 1:g=or("\r",y[1][1]);break;default:if(g="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+y[1][0])}o.push((I?g:"")+o.pop()+(I?"":g)),v=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function c2e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],In(e,t-2)];var o=Fh(e,i,r);return t!==i+a&&(s=Rh(e,t-i-a,o,r)),e.l=n,[o,s]}function u2e(e,t,r){var n=e.l+t,a=r.biff==2?1:2,s,i=e.read_shift(a);if(i==65535)return[[],In(e,t-2)];var o=Fh(e,i,r);return t!==i+a&&(s=Rh(e,t-i-a,o,r)),e.l=n,[o,s]}function d2e(e,t,r,n){var a=e.l+t,s=Fh(e,n,r),i;return a!==e.l&&(i=Rh(e,a-e.l,s,r)),[s,i]}function f2e(e,t,r){var n=e.l+t,a,s=e.read_shift(2),i=Fh(e,s,r);return s==65535?[[],In(e,t-2)]:(t!==s+2&&(a=Rh(e,n-s-2,i,r)),[i,a])}function h2e(e){var t;if(_i(e,e.l+6)!==65535)return[An(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function N1(e,t,r){var n=e.l+t,a=li(e);r.biff==2&&++e.l;var s=h2e(e),i=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=u2e(e,n-e.l,r);return{cell:a,val:s[0],formula:o,shared:i>>3&1,tt:s[1]}}function Qx(e,t,r){var n=e.read_shift(4),a=Fh(e,n,r),s=e.read_shift(4),i=s>0?Rh(e,s,a,r):null;return[a,i]}var p2e=Qx,ey=Qx,m2e=Qx,v2e=Qx,g2e={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},TB={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},x2e={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ZO(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function O1(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var bf={},_u={};function wf(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function AB(e,t,r,n,a,s){try{n.cellNF&&(e.z=Fe[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=rn(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(Fe[t]==null&&Ai(yge[t]||"General",t),e.t==="e")e.w=e.w||gc[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=y0(e.v);else if(e.t==="d"){var i=Xn(e.v);(i|0)===i?e.w=i.toString(10):e.w=y0(i)}else{if(e.v===void 0)return"";e.w=tc(e.v,_u)}else e.t==="d"?e.w=Ta(t,Xn(e.v),_u):e.w=Ta(t,e.v,_u)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=s.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=cg(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=cg(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function y2e(e,t){var r=dr(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Xe(r))}var b2e=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,w2e=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,_2e=/<(?:\w:)?hyperlink [^>]*>/mg,k2e=/"(\w*:\w*)"/,S2e=/<(?:\w:)?col\b[^>]*[\/]?>/g,E2e=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,C2e=/<(?:\w:)?pageMargins[^>]*\/>/g,jB=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,T2e=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,A2e=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function j2e(e,t,r,n,a,s,i){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(w2e);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(jB);h?YE(h[0],o,a,r):(h=c.match(T2e))&&P2e(h[0],h[1]||"",o,a,r);var p=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(p>0){var m=c.slice(p,p+50).match(k2e);m&&y2e(o,m[1])}var v=c.match(A2e);v&&v[1]&&R2e(v[1],a);var g=[];if(t.cellStyles){var x=c.match(S2e);x&&D2e(g,x)}f&&F2e(f[1],o,t,l,s,i);var b=u.match(E2e);b&&(o["!autofilter"]=M2e(b[0]));var y=[],_=u.match(b2e);if(_)for(p=0;p!=_.length;++p)y[p]=dr(_[p].slice(_[p].indexOf('"')+1));var S=u.match(_2e);S&&N2e(o,S,n);var k=u.match(C2e);if(k&&(o["!margins"]=O2e(Re(k[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Xe(l)),t.sheetRows>0&&o["!ref"]){var E=dr(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Xe(E))}return g.length>0&&(o["!cols"]=g),y.length>0&&(o["!merges"]=y),o}function YE(e,t,r,n){var a=Re(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Qe(kt(a.codeName)))}function P2e(e,t,r,n,a){YE(e.slice(0,e.indexOf(">")),r,n,a)}function N2e(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var s=Re(kt(t[a]),!0);if(!s.ref)return;var i=((r||{})["!id"]||[])[s.id];i?(s.Target=i.Target,s.location&&(s.Target+="#"+Qe(s.location))):(s.Target="#"+Qe(s.location),i={Target:s.Target,TargetMode:"Internal"}),s.Rel=i,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=dr(s.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=Le({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=s):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=s)}}}function O2e(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function D2e(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Re(t[n],!0);a.hidden&&(a.hidden=Ft(a.hidden));var s=parseInt(a.min,10)-1,i=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,GE(a.width)),Hu(a);s<=i;)e[s++]=hn(a)}}function M2e(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var I2e=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function R2e(e,t){t.Views||(t.Views=[{}]),(e.match(I2e)||[]).forEach(function(r,n){var a=Re(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Ft(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var F2e=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,s=b0("v"),i=b0("f");return function(l,c,u,f,h,p){for(var m=0,v="",g=[],x=[],b=0,y=0,_=0,S="",k,E,C=0,T=0,A,N,j=0,P=0,R=Array.isArray(p.CellXf),B,q=[],K=[],X=Array.isArray(c),I=[],J={},Z=!1,M=!!u.sheetStubs,z=l.split(t),G=0,H=z.length;G!=H;++G){v=z[G].trim();var Q=v.length;if(Q!==0){var oe=0;e:for(m=0;m<Q;++m)switch(v[m]){case">":if(v[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(E=Re(v.slice(oe,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,T=-1,u.sheetRows&&u.sheetRows<C)continue;J={},Z=!1,E.ht&&(Z=!0,J.hpt=parseFloat(E.ht),J.hpx=S0(J.hpt)),E.hidden=="1"&&(Z=!0,J.hidden=!0),E.outlineLevel!=null&&(Z=!0,J.level=+E.outlineLevel),Z&&(I[C-1]=J)}break;case"<":oe=m;break}if(oe>=m)break;if(E=Re(v.slice(oe,m),!0),C=E.r!=null?parseInt(E.r,10):C+1,T=-1,!(u.sheetRows&&u.sheetRows<C)){f.s.r>C-1&&(f.s.r=C-1),f.e.r<C-1&&(f.e.r=C-1),u&&u.cellStyles&&(J={},Z=!1,E.ht&&(Z=!0,J.hpt=parseFloat(E.ht),J.hpx=S0(J.hpt)),E.hidden=="1"&&(Z=!0,J.hidden=!0),E.outlineLevel!=null&&(Z=!0,J.level=+E.outlineLevel),Z&&(I[C-1]=J)),g=v.slice(m).split(e);for(var le=0;le!=g.length&&g[le].trim().charAt(0)=="<";++le);for(g=g.slice(le),m=0;m!=g.length;++m)if(v=g[m].trim(),v.length!==0){if(x=v.match(r),b=m,y=0,_=0,v="<c "+(v.slice(0,1)=="<"?">":"")+v,x!=null&&x.length===2){for(b=0,S=x[1],y=0;y!=S.length&&!((_=S.charCodeAt(y)-64)<1||_>26);++y)b=26*b+_;--b,T=b}else++T;for(y=0;y!=v.length&&v.charCodeAt(y)!==62;++y);if(++y,E=Re(v.slice(0,y),!0),E.r||(E.r=Le({r:C-1,c:T})),S=v.slice(y),k={t:""},(x=S.match(s))!=null&&x[1]!==""&&(k.v=Qe(x[1])),u.cellFormula){if((x=S.match(i))!=null&&x[1]!==""){if(k.f=Qe(kt(x[1])).replace(/\r\n/g,`
`),u.xlfn||(k.f=GO(k.f)),x[0].indexOf('t="array"')>-1)k.F=(S.match(a)||[])[1],k.F.indexOf(":")>-1&&q.push([dr(k.F),k.F]);else if(x[0].indexOf('t="shared"')>-1){N=Re(x[0]);var Y=Qe(kt(x[1]));u.xlfn||(Y=GO(Y)),K[parseInt(N.si,10)]=[N,Y,E.r]}}else(x=S.match(/<f[^>]*\/>/))&&(N=Re(x[0]),K[N.si]&&(k.f=qbe(K[N.si][1],K[N.si][2],E.r)));var te=Vn(E.r);for(y=0;y<q.length;++y)te.r>=q[y][0].s.r&&te.r<=q[y][0].e.r&&te.c>=q[y][0].s.c&&te.c<=q[y][0].e.c&&(k.F=q[y][1])}if(E.t==null&&k.v===void 0)if(k.f||k.F)k.v=0,k.t="n";else if(M)k.t="z";else continue;else k.t=E.t||"n";switch(f.s.c>T&&(f.s.c=T),f.e.c<T&&(f.e.c=T),k.t){case"n":if(k.v==""||k.v==null){if(!M)continue;k.t="z"}else k.v=parseFloat(k.v);break;case"s":if(typeof k.v>"u"){if(!M)continue;k.t="z"}else A=bf[parseInt(k.v,10)],k.v=A.t,k.r=A.r,u.cellHTML&&(k.h=A.h);break;case"str":k.t="s",k.v=k.v!=null?kt(k.v):"",u.cellHTML&&(k.h=RE(k.v));break;case"inlineStr":x=S.match(n),k.t="s",x!=null&&(A=KE(x[1]))?(k.v=A.t,u.cellHTML&&(k.h=A.h)):k.v="";break;case"b":k.v=Ft(k.v);break;case"d":u.cellDates?k.v=rn(k.v,1):(k.v=Xn(rn(k.v,1)),k.t="n");break;case"e":(!u||u.cellText!==!1)&&(k.w=k.v),k.v=X$[k.v];break}if(j=P=0,B=null,R&&E.s!==void 0&&(B=p.CellXf[E.s],B!=null&&(B.numFmtId!=null&&(j=B.numFmtId),u.cellStyles&&B.fillId!=null&&(P=B.fillId))),AB(k,j,P,u,h,p),u.cellDates&&R&&k.t=="n"&&pc(Fe[j])&&(k.t="d",k.v=Zx(k.v)),E.cm&&u.xlmeta){var ue=(u.xlmeta.Cell||[])[+E.cm-1];ue&&ue.type=="XLDAPR"&&(k.D=!0)}if(X){var D=Vn(E.r);c[D.r]||(c[D.r]=[]),c[D.r][D.c]=k}else c[E.r]=k}}}}I.length>0&&(c["!rows"]=I)}}();function L2e(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var s=e.read_shift(1);return e.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=a/20),r}var $2e=vc;function B2e(){}function z2e(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=cxe(e),r}function U2e(e){var t=Qa(e);return[t]}function V2e(e){var t=mc(e);return[t]}function W2e(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"b"]}function H2e(e){var t=mc(e),r=e.read_shift(1);return[t,r,"b"]}function K2e(e){var t=Qa(e),r=e.read_shift(1);return[t,r,"e"]}function G2e(e){var t=mc(e),r=e.read_shift(1);return[t,r,"e"]}function q2e(e){var t=Qa(e),r=e.read_shift(4);return[t,r,"s"]}function Y2e(e){var t=mc(e),r=e.read_shift(4);return[t,r,"s"]}function X2e(e){var t=Qa(e),r=An(e);return[t,r,"n"]}function PB(e){var t=mc(e),r=An(e);return[t,r,"n"]}function Z2e(e){var t=Qa(e),r=VE(e);return[t,r,"n"]}function J2e(e){var t=mc(e),r=VE(e);return[t,r,"n"]}function Q2e(e){var t=Qa(e),r=zE(e);return[t,r,"is"]}function e_e(e){var t=Qa(e),r=On(e);return[t,r,"str"]}function t_e(e){var t=mc(e),r=On(e);return[t,r,"str"]}function r_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"b"];if(r.cellFormula){e.l+=2;var o=ey(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function n_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=e.read_shift(1),i=[a,s,"e"];if(r.cellFormula){e.l+=2;var o=ey(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function a_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=An(e),i=[a,s,"n"];if(r.cellFormula){e.l+=2;var o=ey(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}function s_e(e,t,r){var n=e.l+t,a=Qa(e);a.r=r["!row"];var s=On(e),i=[a,s,"str"];if(r.cellFormula){e.l+=2;var o=ey(e,n-e.l,r);i[3]=Sn(o,null,a,r.supbooks,r)}else e.l=n;return i}var i_e=vc;function o_e(e,t){var r=e.l+t,n=vc(e),a=UE(e),s=On(e),i=On(e),o=On(e);e.l=r;var l={rfx:n,relId:a,loc:s,display:o};return i&&(l.Tooltip=i),l}function l_e(){}function c_e(e,t,r){var n=e.l+t,a=G$(e),s=e.read_shift(1),i=[a];if(i[2]=s,r.cellFormula){var o=p2e(e,n-e.l,r);i[1]=o}else e.l=n;return i}function u_e(e,t,r){var n=e.l+t,a=vc(e),s=[a];if(r.cellFormula){var i=v2e(e,n-e.l,r);s[1]=i,e.l=n}else e.l=n;return s}var d_e=["left","right","top","bottom","header","footer"];function f_e(e){var t={};return d_e.forEach(function(r){t[r]=An(e)}),t}function h_e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function p_e(){}function m_e(){}function v_e(e,t,r,n,a,s,i){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,p,m,v,g,x,b,y,_,S,k=[];o.biff=12,o["!row"]=0;var E=0,C=!1,T=[],A={},N=o.supbooks||a.supbooks||[[]];if(N.sharedf=A,N.arrayf=T,N.SheetNames=a.SheetNames||a.Sheets.map(function(X){return X.name}),!o.supbooks&&(o.supbooks=N,a.Names))for(var j=0;j<a.Names.length;++j)N[0][j+1]=a.Names[j];var P=[],R=[],B=!1;fg[16]={n:"BrtShortReal",f:PB};var q;if(Qi(e,function(I,J,Z){if(!h)switch(Z){case 148:c=I;break;case 0:p=I,o.sheetRows&&o.sheetRows<=p.r&&(h=!0),_=pn(g=p.r),o["!row"]=p.r,(I.hidden||I.hpt||I.level!=null)&&(I.hpt&&(I.hpx=S0(I.hpt)),R[I.r]=I);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:I[2]},I[2]){case"n":m.v=I[1];break;case"s":y=bf[I[1]],m.v=y.t,m.r=y.r;break;case"b":m.v=!!I[1];break;case"e":m.v=I[1],o.cellText!==!1&&(m.w=gc[m.v]);break;case"str":m.t="s",m.v=I[1];break;case"is":m.t="s",m.v=I[1].t;break}if((v=i.CellXf[I[0].iStyleRef])&&AB(m,v.numFmtId,null,o,s,i),x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Lr(x)+_]=m,o.cellFormula){for(C=!1,E=0;E<T.length;++E){var M=T[E];p.r>=M[0].s.r&&p.r<=M[0].e.r&&x>=M[0].s.c&&x<=M[0].e.c&&(m.F=Xe(M[0]),C=!0)}!C&&I.length>3&&(m.f=I[3])}if(u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),o.cellDates&&v&&m.t=="n"&&pc(Fe[v.numFmtId])){var z=yo(m.v);z&&(m.t="d",m.v=new Date(z.y,z.m-1,z.d,z.H,z.M,z.S,z.u))}q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},x=I[0].c==-1?x+1:I[0].c,o.dense?(l[g]||(l[g]=[]),l[g][x]=m):l[Lr(x)+_]=m,u.s.r>p.r&&(u.s.r=p.r),u.s.c>x&&(u.s.c=x),u.e.r<p.r&&(u.e.r=p.r),u.e.c<x&&(u.e.c=x),q&&(q.type=="XLDAPR"&&(m.D=!0),q=void 0);break;case 176:k.push(I);break;case 49:q=((o.xlmeta||{}).Cell||[])[I-1];break;case 494:var G=n["!id"][I.relId];for(G?(I.Target=G.Target,I.loc&&(I.Target+="#"+I.loc),I.Rel=G):I.relId==""&&(I.Target="#"+I.loc),g=I.rfx.s.r;g<=I.rfx.e.r;++g)for(x=I.rfx.s.c;x<=I.rfx.e.c;++x)o.dense?(l[g]||(l[g]=[]),l[g][x]||(l[g][x]={t:"z",v:void 0}),l[g][x].l=I):(b=Le({c:x,r:g}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=I);break;case 426:if(!o.cellFormula)break;T.push(I),S=o.dense?l[g][x]:l[Lr(x)+_],S.f=Sn(I[1],u,{r:p.r,c:x},N,o),S.F=Xe(I[0]);break;case 427:if(!o.cellFormula)break;A[Le(I[0].s)]=I[1],S=o.dense?l[g][x]:l[Lr(x)+_],S.f=Sn(I[1],u,{r:p.r,c:x},N,o);break;case 60:if(!o.cellStyles)break;for(;I.e>=I.s;)P[I.e--]={width:I.w/256,hidden:!!(I.flags&1),level:I.level},B||(B=!0,GE(I.w/256)),Hu(P[I.e+1]);break;case 161:l["!autofilter"]={ref:Xe(I)};break;case 476:l["!margins"]=I;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),I.name&&(a.Sheets[r].CodeName=I.name),(I.above||I.left)&&(l["!outline"]={above:I.above,left:I.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),I.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!J.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+Z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Xe(c||u)),o.sheetRows&&l["!ref"]){var K=dr(l["!ref"]);o.sheetRows<=+K.e.r&&(K.e.r=o.sheetRows-1,K.e.r>u.e.r&&(K.e.r=u.e.r),K.e.r<K.s.r&&(K.s.r=K.e.r),K.e.c>u.e.c&&(K.e.c=u.e.c),K.e.c<K.s.c&&(K.s.c=K.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Xe(K))}return k.length>0&&(l["!merges"]=k),P.length>0&&(l["!cols"]=P),R.length>0&&(l["!rows"]=R),l}function g_e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var i=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);i&&(t[+i[1]]=r?+i[2]:i[2])});var a=Qe((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[t,a,n]}function x_e(e,t,r,n,a,s){var i=s||{"!type":"chart"};if(!e)return s;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=g_e(f);u.s.r=u.s.c=0,u.e.c=o,c=Lr(o),h[0].forEach(function(p,m){i[c+pn(m)]={t:"n",v:p,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(i["!ref"]=Xe(u)),i}function y_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i,o=e.match(jB);return o&&YE(o[0],s,a,r),(i=e.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=i[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function b_e(e,t){e.l+=10;var r=On(e);return{name:r}}function w_e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},i=!1;return Qi(e,function(l,c,u){switch(u){case 550:s["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!i||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var NB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],__e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],k_e=[],S_e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function JO(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var s=t[a];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Ft(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function QO(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Ft(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function OB(e){QO(e.WBProps,NB),QO(e.CalcPr,S_e),JO(e.WBView,__e),JO(e.Sheets,k_e),_u.date1904=Ft(e.WBProps.date1904)}var E_e="][*?/\\".split("");function C_e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return E_e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var T_e=/<\w+:workbook/;function A_e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",s={},i=0;if(e.replace(Fn,function(l,c){var u=Re(l);switch(oi(u[0])){case"<?xml":break;case"<workbook":l.match(T_e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":NB.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Ft(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=kt(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Qe(kt(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=kt(u.name),u.comment&&(s.Comment=u.comment),u.localSheetId&&(s.Sheet=+u.localSheetId),Ft(u.hidden||"0")&&(s.Hidden=!0),i=c+l.length;break;case"</definedName>":s.Ref=Qe(kt(e.slice(i,c))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Kge.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return OB(r),r}function j_e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=g2(e),r.name=On(e),r}function P_e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?On(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function N_e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function O_e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),s=uxe(e),i=m2e(e,0,r),o=UE(e);e.l=n;var l={Name:s,Ptg:i};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function D_e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var s=[],i=[[]];return i.SheetNames=[],i.XTI=[],fg[16]={n:"BrtFRTArchID$",f:N_e},Qi(e,function(l,c,u){switch(u){case 156:i.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=Sn(l.Ptg,null,null,i,t),delete t.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:i[0].length?i.push([u,l]):i[0]=[u,l],i[i.length-1].XTI=[];break;case 362:i.length===0&&(i[0]=[],i[0].XTI=[]),i[i.length-1].XTI=i[i.length-1].XTI.concat(l),i.XTI=i.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),OB(r),r.Names=s,r.supbooks=i,r}function M_e(e,t,r){return t.slice(-4)===".bin"?D_e(e,r):A_e(e,r)}function I_e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?v_e(e,n,r,a,s,i,o):j2e(e,n,r,a,s,i,o)}function R_e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?w_e(e,n,r,a,s):y_e(e,n,r,a,s)}function F_e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Hbe():Kbe()}function L_e(e,t,r,n,a,s,i,o){return t.slice(-4)===".bin"?Vbe():Wbe()}function $_e(e,t,r,n){return t.slice(-4)===".bin"?ibe(e,r,n):ebe(e,r,n)}function B_e(e,t,r){return xB(e,r)}function z_e(e,t,r){return t.slice(-4)===".bin"?_1e(e,r):b1e(e,r)}function U_e(e,t,r){return t.slice(-4)===".bin"?Bbe(e,r):Ibe(e,r)}function V_e(e,t,r){return t.slice(-4)===".bin"?Obe(e):Pbe(e)}function W_e(e,t,r,n){return r.slice(-4)===".bin"?Dbe(e,t,r,n):void 0}function H_e(e,t,r){return t.slice(-4)===".bin"?Abe(e,t,r):jbe(e,t,r)}var DB=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,MB=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function ns(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(DB),s,i,o,l;if(a)for(l=0;l!=a.length;++l)s=a[l].match(MB),(i=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(i+1),n[o]=s[2].slice(1,s[2].length-1));return n}function K_e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(DB),a,s,i,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(MB),(s=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?i="xmlns"+a[1].slice(6):i=a[1].slice(s+1),r[i]=a[2].slice(1,a[2].length-1));return r}var _f;function G_e(e,t){var r=_f[e]||Qe(e);return r==="General"?tc(t):Ta(r,t)}function q_e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Ft(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=rn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Qe(t)]=a}function Y_e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||gc[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=y0(e.v):e.w=tc(e.v):e.w=G_e(t||"General",e.v)}catch(s){if(r.WTF)throw s}try{var n=_f[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&pc(n)){var a=yo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(s){if(r.WTF)throw s}}}function X_e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=q1e[n.Pattern]||n.Pattern)}e[t.ID]=t}function Z_e(e,t,r,n,a,s,i,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var p=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&i&&(f=i.StyleID);s[f]!==void 0&&(s[f].nf&&(u=s[f].nf),s[f].Interior&&p.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Ft(e);break;case"String":n.t="s",n.r=wO(Qe(e)),n.v=e.indexOf("<")>-1?Qe(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(rn(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Qe(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=X$[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=wO(t||e));break}if(Y_e(n,u,c),c.cellFormula!==!1)if(n.Formula){var v=Qe(n.Formula);v.charCodeAt(0)==61&&(v=v.slice(1)),n.f=wu(v,a),delete n.Formula,n.ArrayRange=="RC"?n.F=wu("RC:RC",a):n.ArrayRange&&(n.F=wu(n.ArrayRange,a),l.push([dr(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(p.forEach(function(g){!h.patternType&&g.patternType&&(h.patternType=g.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function J_e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function D1(e,t){var r=t||{};w$();var n=Yd(FE(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=kt(n));var a=n.slice(0,1024).toLowerCase(),s=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var i=hn(r);return i.type="string",_0.to_workbook(n,i)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(s=!0)}),s)return oke(n,r);_f={"General Number":"General","General Date":Fe[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Fe[15],"Short Date":Fe[14],"Long Time":Fe[19],"Medium Time":Fe[18],"Short Time":Fe[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Fe[2],Standard:Fe[4],Percent:Fe[10],Scientific:Fe[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},p="",m={},v={},g=ns('<Data ss:Type="String">'),x=0,b=0,y=0,_={s:{r:2e6,c:2e6},e:{r:0,c:0}},S={},k={},E="",C=0,T=[],A={},N={},j=0,P=[],R=[],B={},q=[],K,X=!1,I=[],J=[],Z={},M=0,z=0,G={Sheets:[],WBProps:{date1904:!1}},H={};w0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Q="";o=w0.exec(n);)switch(o[3]=(Q=o[3]).toLowerCase()){case"data":if(Q=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?Z_e(n.slice(x,o.index),E,g,l[l.length-1][0]=="comment"?B:m,{c:b,r:y},S,q[b],v,I,r):(E="",g=ns(o[0]),x=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(R.length>0&&(m.c=R),(!r.sheetRows||r.sheetRows>y)&&m.v!==void 0&&(r.dense?(h[y]||(h[y]=[]),h[y][b]=m):h[Lr(b)+pn(y)]=m),m.HRef&&(m.l={Target:Qe(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(M=b+(parseInt(m.MergeAcross,10)|0),z=y+(parseInt(m.MergeDown,10)|0),T.push({s:{c:b,r:y},e:{c:M,r:z}})),!r.sheetStubs)m.MergeAcross?b=M+1:++b;else if(m.MergeAcross||m.MergeDown){for(var oe=b;oe<=M;++oe)for(var le=y;le<=z;++le)(oe>b||le>y)&&(r.dense?(h[le]||(h[le]=[]),h[le][oe]={t:"z"}):h[Lr(oe)+pn(le)]={t:"z"});b=M+1}else++b;else m=K_e(o[0]),m.Index&&(b=+m.Index-1),b<_.s.c&&(_.s.c=b),b>_.e.c&&(_.e.c=b),o[0].slice(-2)==="/>"&&++b,R=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(y<_.s.r&&(_.s.r=y),y>_.e.r&&(_.e.r=y),o[0].slice(-2)==="/>"&&(v=ns(o[0]),v.Index&&(y=+v.Index-1)),b=0,++y):(v=ns(o[0]),v.Index&&(y=+v.Index-1),Z={},(v.AutoFitHeight=="0"||v.Height)&&(Z.hpx=parseInt(v.Height,10),Z.hpt=gB(Z.hpx),J[y]=Z),v.Hidden=="1"&&(Z.hidden=!0,J[y]=Z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(p),_.s.r<=_.e.r&&_.s.c<=_.e.c&&(h["!ref"]=Xe(_),r.sheetRows&&r.sheetRows<=_.e.r&&(h["!fullref"]=h["!ref"],_.e.r=r.sheetRows-1,h["!ref"]=Xe(_))),T.length&&(h["!merges"]=T),q.length>0&&(h["!cols"]=q),J.length>0&&(h["!rows"]=J),u[p]=h}else _={s:{r:2e6,c:2e6},e:{r:0,c:0}},y=b=0,l.push([o[3],!1]),c=ns(o[0]),p=Qe(c.Name),h=r.dense?[]:{},T=[],I=[],J=[],H={name:p,Hidden:0},G.Sheets.push(H);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),q=[],X=!1}break;case"style":o[1]==="/"?X_e(S,k,r):k=ns(o[0]);break;case"numberformat":k.nf=Qe(ns(o[0]).Format||"General"),_f[k.nf]&&(k.nf=_f[k.nf]);for(var Y=0;Y!=392&&Fe[Y]!=k.nf;++Y);if(Y==392){for(Y=57;Y!=392;++Y)if(Fe[Y]==null){Ai(k.nf,Y);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(K=ns(o[0]),K.Hidden&&(K.hidden=!0,delete K.Hidden),K.Width&&(K.wpx=parseInt(K.Width,10)),!X&&K.wpx>10){X=!0,zn=mB;for(var te=0;te<q.length;++te)q[te]&&Hu(q[te])}X&&Hu(K),q[K.Index-1||q.length]=K;for(var ue=0;ue<+K.Span;++ue)q[q.length]=hn(K);break;case"namedrange":if(o[1]==="/")break;G.Names||(G.Names=[]);var D=Re(o[0]),Ne={Name:D.Name,Ref:wu(D.RefersTo.slice(1),{r:0,c:0})};G.Sheets.length>0&&(Ne.Sheet=G.Sheets.length-1),G.Names.push(Ne);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(C,o.index):C=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;k.Interior=ns(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Ixe(A,Q,n.slice(j,o.index)):j=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));J_e(B),R.push(B)}else l.push([o[3],!1]),c=ns(o[0]),B={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var me=ns(o[0]);h["!autofilter"]={ref:wu(me.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return s4(n,r);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":G.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(j,o.index)){case"SheetHidden":H.Hidden=1;break;case"SheetVeryHidden":H.Hidden=2;break}else j=o.index+o[0].length;break;case"header":h["!margins"]||wf(h["!margins"]={},"xlml"),isNaN(+Re(o[0]).Margin)||(h["!margins"].header=+Re(o[0]).Margin);break;case"footer":h["!margins"]||wf(h["!margins"]={},"xlml"),isNaN(+Re(o[0]).Margin)||(h["!margins"].footer=+Re(o[0]).Margin);break;case"pagemargins":var fe=Re(o[0]);h["!margins"]||wf(h["!margins"]={},"xlml"),isNaN(+fe.Top)||(h["!margins"].top=+fe.Top),isNaN(+fe.Left)||(h["!margins"].left=+fe.Left),isNaN(+fe.Right)||(h["!margins"].right=+fe.Right),isNaN(+fe.Bottom)||(h["!margins"].bottom=+fe.Bottom);break;case"displayrighttoleft":G.Views||(G.Views=[]),G.Views[0]||(G.Views[0]={}),G.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?q_e(N,Q,P,n.slice(j,o.index)):(P=o,j=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var de={};return!r.bookSheets&&!r.bookProps&&(de.Sheets=u),de.SheetNames=f,de.Workbook=G,de.SSF=hn(Fe),de.Props=A,de.Custprops=N,de}function w2(e,t){switch(JE(t=t||{}),t.type||"base64"){case"base64":return D1(Ca(e),t);case"binary":case"buffer":case"file":return D1(e,t);case"array":return D1(hc(e),t)}}function Q_e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=hxe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=pxe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var eke=[60,1084,2066,2165,2175];function tke(e,t,r,n,a){var s=n,i=[],o=r.slice(r.l,r.l+s);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}i.push(o),r.l+=s;for(var l=_i(r,r.l),c=_2[l],u=0;c!=null&&eke.indexOf(l)>-1;)s=_i(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+s),i.push(o),r.l+=4+s,c=_2[l=_i(r,r.l)];var f=mo(i);dn(f,0);var h=0;f.lens=[];for(var p=0;p<i.length;++p)f.lens.push(h),h+=i[p].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function Ps(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=Fe[n])}catch(s){if(t.WTF)throw s}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||gc[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=y0(e.v):e.w=tc(e.v):e.w=Ta(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(s){if(t.WTF)throw s}if(t.cellDates&&n&&e.t=="n"&&pc(Fe[n]||String(n))){var a=yo(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function zp(e,t,r){return{v:e,ixfe:t,t:r}}function rke(e,t){var r={opts:{}},n={},a=t.dense?[]:{},s={},i={},o=null,l=[],c="",u={},f,h="",p,m,v,g,x={},b=[],y,_,S=[],k=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},C={},T=function(Ue){return Ue<8?Ll[Ue]:Ue<64&&k[Ue-8]||Ll[Ue]},A=function(Ue,pt,Vt){var Ct=pt.XF.data;if(!(!Ct||!Ct.patternType||!Vt||!Vt.cellStyles)){pt.s={},pt.s.patternType=Ct.patternType;var As;(As=k0(T(Ct.icvFore)))&&(pt.s.fgColor={rgb:As}),(As=k0(T(Ct.icvBack)))&&(pt.s.bgColor={rgb:As})}},N=function(Ue,pt,Vt){if(!(Z>1)&&!(Vt.sheetRows&&Ue.r>=Vt.sheetRows)){if(Vt.cellStyles&&pt.XF&&pt.XF.data&&A(Ue,pt,Vt),delete pt.ixfe,delete pt.XF,f=Ue,h=Le(Ue),(!i||!i.s||!i.e)&&(i={s:{r:0,c:0},e:{r:0,c:0}}),Ue.r<i.s.r&&(i.s.r=Ue.r),Ue.c<i.s.c&&(i.s.c=Ue.c),Ue.r+1>i.e.r&&(i.e.r=Ue.r+1),Ue.c+1>i.e.c&&(i.e.c=Ue.c+1),Vt.cellFormula&&pt.f){for(var Ct=0;Ct<b.length;++Ct)if(!(b[Ct][0].s.c>Ue.c||b[Ct][0].s.r>Ue.r)&&!(b[Ct][0].e.c<Ue.c||b[Ct][0].e.r<Ue.r)){pt.F=Xe(b[Ct][0]),(b[Ct][0].s.c!=Ue.c||b[Ct][0].s.r!=Ue.r)&&delete pt.f,pt.f&&(pt.f=""+Sn(b[Ct][1],i,Ue,I,j));break}}Vt.dense?(a[Ue.r]||(a[Ue.r]=[]),a[Ue.r][Ue.c]=pt):a[h]=pt}},j={enc:!1,sbcch:0,snames:[],sharedf:x,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(j.password=t.password);var P,R=[],B=[],q=[],K=[],X=!1,I=[];I.SheetNames=j.snames,I.sharedf=j.sharedf,I.arrayf=j.arrayf,I.names=[],I.XTI=[];var J=0,Z=0,M=0,z=[],G=[],H;j.codepage=1200,gs(1200);for(var Q=!1;e.l<e.length-1;){var oe=e.l,le=e.read_shift(2);if(le===0&&J===10)break;var Y=e.l===e.length?0:e.read_shift(2),te=_2[le];if(te&&te.f){if(t.bookSheets&&J===133&&le!==133)break;if(J=le,te.r===2||te.r==12){var ue=e.read_shift(2);if(Y-=2,!j.enc&&ue!==le&&((ue&255)<<8|ue>>8)!==le)throw new Error("rt mismatch: "+ue+"!="+le);te.r==12&&(e.l+=10,Y-=10)}var D={};if(le===10?D=te.f(e,Y,j):D=tke(le,te,e,Y,j),Z==0&&[9,521,1033,2057].indexOf(J)===-1)continue;switch(le){case 34:r.opts.Date1904=E.WBProps.date1904=D;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(j.enc||(e.l=0),j.enc=D,!t.password)throw new Error("File is password-protected");if(D.valid==null)throw new Error("Encryption scheme unsupported");if(!D.valid)throw new Error("Password is incorrect");break;case 92:j.lastuser=D;break;case 66:var Ne=Number(D);switch(Ne){case 21010:Ne=1200;break;case 32768:Ne=1e4;break;case 32769:Ne=1252;break}gs(j.codepage=Ne),Q=!0;break;case 317:j.rrtabid=D;break;case 25:j.winlocked=D;break;case 439:r.opts.RefreshAll=D;break;case 12:r.opts.CalcCount=D;break;case 16:r.opts.CalcDelta=D;break;case 17:r.opts.CalcIter=D;break;case 13:r.opts.CalcMode=D;break;case 14:r.opts.CalcPrecision=D;break;case 95:r.opts.CalcSaveRecalc=D;break;case 15:j.CalcRefMode=D;break;case 2211:r.opts.FullCalc=D;break;case 129:D.fDialog&&(a["!type"]="dialog"),D.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),D.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:S.push(D);break;case 430:I.push([D]),I[I.length-1].XTI=[];break;case 35:case 547:I[I.length-1].push(D);break;case 24:case 536:H={Name:D.Name,Ref:Sn(D.rgce,i,null,I,j)},D.itab>0&&(H.Sheet=D.itab-1),I.names.push(H),I[0]||(I[0]=[],I[0].XTI=[]),I[I.length-1].push(D),D.Name=="_xlnm._FilterDatabase"&&D.itab>0&&D.rgce&&D.rgce[0]&&D.rgce[0][0]&&D.rgce[0][0][0]=="PtgArea3d"&&(G[D.itab-1]={ref:Xe(D.rgce[0][0][1][2])});break;case 22:j.ExternCount=D;break;case 23:I.length==0&&(I[0]=[],I[0].XTI=[]),I[I.length-1].XTI=I[I.length-1].XTI.concat(D),I.XTI=I.XTI.concat(D);break;case 2196:if(j.biff<8)break;H!=null&&(H.Comment=D[1]);break;case 18:a["!protect"]=D;break;case 19:D!==0&&j.WTF&&console.error("Password verifier: "+D);break;case 133:s[D.pos]=D,j.snames.push(D.name);break;case 10:{if(--Z)break;if(i.e){if(i.e.r>0&&i.e.c>0){if(i.e.r--,i.e.c--,a["!ref"]=Xe(i),t.sheetRows&&t.sheetRows<=i.e.r){var me=i.e.r;i.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Xe(i),i.e.r=me}i.e.r++,i.e.c++}R.length>0&&(a["!merges"]=R),B.length>0&&(a["!objects"]=B),q.length>0&&(a["!cols"]=q),K.length>0&&(a["!rows"]=K),E.Sheets.push(C)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(j.biff===8&&(j.biff={9:2,521:3,1033:4}[le]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[D.BIFFVer]||8),j.biffguess=D.BIFFVer==0,D.BIFFVer==0&&D.dt==4096&&(j.biff=5,Q=!0,gs(j.codepage=28591)),j.biff==8&&D.BIFFVer==0&&D.dt==16&&(j.biff=2),Z++)break;if(a=t.dense?[]:{},j.biff<8&&!Q&&(Q=!0,gs(j.codepage=t.codepage||1252)),j.biff<5||D.BIFFVer==0&&D.dt==4096){c===""&&(c="Sheet1"),i={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:e.l-Y,name:c};s[ye.pos]=ye,j.snames.push(c)}else c=(s[oe]||{name:""}).name;D.dt==32&&(a["!type"]="chart"),D.dt==64&&(a["!type"]="macro"),R=[],B=[],j.arrayf=b=[],q=[],K=[],X=!1,C={Hidden:(s[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[D.r]||[])[D.c]:a[Le({c:D.c,r:D.r})])&&++D.c,y={ixfe:D.ixfe,XF:S[D.ixfe]||{},v:D.val,t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t);break;case 5:case 517:y={ixfe:D.ixfe,XF:S[D.ixfe],v:D.val,t:D.t},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t);break;case 638:y={ixfe:D.ixfe,XF:S[D.ixfe],v:D.rknum,t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t);break;case 189:for(var fe=D.c;fe<=D.C;++fe){var de=D.rkrec[fe-D.c][0];y={ixfe:de,XF:S[de],v:D.rkrec[fe-D.c][1],t:"n"},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:fe,r:D.r},y,t)}break;case 6:case 518:case 1030:{if(D.val=="String"){o=D;break}if(y=zp(D.val,D.cell.ixfe,D.tt),y.XF=S[y.ixfe],t.cellFormula){var Oe=D.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Ve=Oe[0][0][1][0],at=Oe[0][0][1][1],gn=Le({r:Ve,c:at});x[gn]?y.f=""+Sn(D.formula,i,D.cell,I,j):y.F=((t.dense?(a[Ve]||[])[at]:a[gn])||{}).F}else y.f=""+Sn(D.formula,i,D.cell,I,j)}M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N(D.cell,y,t),o=D}break;case 7:case 519:if(o)o.val=D,y=zp(D,o.cell.ixfe,"s"),y.XF=S[y.ixfe],t.cellFormula&&(y.f=""+Sn(o.formula,i,o.cell,I,j)),M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N(o.cell,y,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(D);var xn=Le(D[0].s);if(p=t.dense?(a[D[0].s.r]||[])[D[0].s.c]:a[xn],t.cellFormula&&p){if(!o||!xn||!p)break;p.f=""+Sn(D[1],i,D[0],I,j),p.F=Xe(D[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;x[Le(o.cell)]=D[0],p=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[Le(o.cell)],(p||{}).f=""+Sn(D[0],i,f,I,j)}}break;case 253:y=zp(l[D.isst].t,D.ixfe,"s"),l[D.isst].h&&(y.h=l[D.isst].h),y.XF=S[y.ixfe],M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t);break;case 513:t.sheetStubs&&(y={ixfe:D.ixfe,XF:S[D.ixfe],t:"z"},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t));break;case 190:if(t.sheetStubs)for(var Qn=D.c;Qn<=D.C;++Qn){var st=D.ixfe[Qn-D.c];y={ixfe:st,XF:S[st],t:"z"},M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:Qn,r:D.r},y,t)}break;case 214:case 516:case 4:y=zp(D.val,D.ixfe,"s"),y.XF=S[y.ixfe],M>0&&(y.z=z[y.ixfe>>8&63]),Ps(y,t,r.opts.Date1904),N({c:D.c,r:D.r},y,t);break;case 0:case 512:Z===1&&(i=D);break;case 252:l=D;break;case 1054:if(j.biff==4){z[M++]=D[1];for(var xr=0;xr<M+163&&Fe[xr]!=D[1];++xr);xr>=163&&Ai(D[1],M+163)}else Ai(D[1],D[0]);break;case 30:{z[M++]=D;for(var vt=0;vt<M+163&&Fe[vt]!=D;++vt);vt>=163&&Ai(D,M+163)}break;case 229:R=R.concat(D);break;case 93:B[D.cmo[0]]=j.lastobj=D;break;case 438:j.lastobj.TxO=D;break;case 127:j.lastobj.ImData=D;break;case 440:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Le({c:v,r:g})],p&&(p.l=D[1]);break;case 2048:for(g=D[0].s.r;g<=D[0].e.r;++g)for(v=D[0].s.c;v<=D[0].e.c;++v)p=t.dense?(a[g]||[])[v]:a[Le({c:v,r:g})],p&&p.l&&(p.l.Tooltip=D[1]);break;case 28:{if(j.biff<=5&&j.biff>=2)break;p=t.dense?(a[D[0].r]||[])[D[0].c]:a[Le(D[0])];var yr=B[D[2]];p||(t.dense?(a[D[0].r]||(a[D[0].r]=[]),p=a[D[0].r][D[0].c]={t:"z"}):p=a[Le(D[0])]={t:"z"},i.e.r=Math.max(i.e.r,D[0].r),i.s.r=Math.min(i.s.r,D[0].r),i.e.c=Math.max(i.e.c,D[0].c),i.s.c=Math.min(i.s.c,D[0].c)),p.c||(p.c=[]),m={a:D[1],t:yr.TxO.t},p.c.push(m)}break;case 2173:Sbe(S[D.ixfe],D.ext);break;case 125:{if(!j.cellStyles)break;for(;D.e>=D.s;)q[D.e--]={width:D.w/256,level:D.level||0,hidden:!!(D.flags&1)},X||(X=!0,GE(D.w/256)),Hu(q[D.e+1])}break;case 520:{var Et={};D.level!=null&&(K[D.r]=Et,Et.level=D.level),D.hidden&&(K[D.r]=Et,Et.hidden=!0),D.hpt&&(K[D.r]=Et,Et.hpt=D.hpt,Et.hpx=S0(D.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||wf(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[le]]=D;break;case 161:a["!margins"]||wf(a["!margins"]={}),a["!margins"].header=D.header,a["!margins"].footer=D.footer;break;case 574:D.RTL&&(E.Views[0].RTL=!0);break;case 146:k=D;break;case 2198:P=D;break;case 140:_=D;break;case 442:c?C.CodeName=D||C.name:E.WBProps.CodeName=D||"ThisWorkbook";break}}else te||console.error("Missing Info for XLS Record 0x"+le.toString(16)),e.l+=Y}return r.SheetNames=ti(s).sort(function(ea,Ue){return Number(ea)-Number(Ue)}).map(function(ea){return s[ea].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&G.forEach(function(ea,Ue){r.Sheets[r.SheetNames[Ue]]["!autofilter"]=ea}),r.Strings=l,r.SSF=hn(Fe),j.enc&&(r.Encryption=j.enc),P&&(r.Themes=P),r.Metadata={},_!==void 0&&(r.Metadata.Country=_),I.names.length>0&&(E.Names=I.names),r.Workbook=E,r}var e4={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function nke(e,t,r){var n=Ye.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=FO(n,bxe,e4.DSI);for(var s in a)t[s]=a[s]}catch(c){if(r.WTF)throw c}var i=Ye.find(e,"/!SummaryInformation");if(i&&i.size>0)try{var o=FO(i,wxe,e4.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(J$(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function IB(e,t){t||(t={}),JE(t),c$(),t.codepage&&PE(t.codepage);var r,n;if(e.FullPaths){if(Ye.find(e,"/encryption"))throw new Error("File is password-protected");r=Ye.find(e,"!CompObj"),n=Ye.find(e,"/Workbook")||Ye.find(e,"/Book")}else{switch(t.type){case"base64":e=ms(Ca(e));break;case"binary":e=ms(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}dn(e,0),n={content:e}}var a,s;if(r&&Q_e(r),t.bookProps&&!t.bookSheets)a={};else{var i=Ke?"buffer":"array";if(n&&n.content)a=rke(n.content,t);else if((s=Ye.find(e,"PerfectOffice_MAIN"))&&s.content)a=yf.to_workbook(s.content,(t.type=i,t));else if((s=Ye.find(e,"NativeContent_MAIN"))&&s.content)a=yf.to_workbook(s.content,(t.type=i,t));else throw(s=Ye.find(e,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ye.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Ube(e))}var o={};return e.FullPaths&&nke(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var fg={0:{f:L2e},1:{f:U2e},2:{f:Z2e},3:{f:K2e},4:{f:W2e},5:{f:X2e},6:{f:e_e},7:{f:q2e},8:{f:s_e},9:{f:a_e},10:{f:r_e},11:{f:n_e},12:{f:V2e},13:{f:J2e},14:{f:G2e},15:{f:H2e},16:{f:PB},17:{f:t_e},18:{f:Y2e},19:{f:zE},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:O_e},40:{},42:{},43:{f:rbe},44:{f:tbe},45:{f:nbe},46:{f:sbe},47:{f:abe},48:{},49:{f:ixe},50:{},51:{f:Cbe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:uB},62:{f:Q2e},63:{f:Nbe},64:{f:p_e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:In,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:h_e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:z2e},148:{f:$2e,p:16},151:{f:l_e},152:{},153:{f:P_e},154:{},155:{},156:{f:j_e},157:{},158:{},159:{T:1,f:w1e},160:{T:-1},161:{T:1,f:vc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:i_e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ebe},336:{T:-1},337:{f:Tbe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:g2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:cB},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:c_e},427:{f:u_e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:f_e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:B2e},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:o_e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:g2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:$be},633:{T:1},634:{T:-1},635:{T:1,f:Lbe},636:{T:-1},637:{f:lxe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:b_e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:m_e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},_2={6:{f:N1},10:{f:ro},12:{f:_r},13:{f:_r},14:{f:fr},15:{f:fr},16:{f:An},17:{f:fr},18:{f:fr},19:{f:_r},20:{f:zO},21:{f:zO},23:{f:cB},24:{f:VO},25:{f:fr},26:{},27:{},28:{f:Rye},29:{},34:{f:fr},35:{f:UO},38:{f:An},39:{f:An},40:{f:An},41:{f:An},42:{f:fr},43:{f:fr},47:{f:B1e},49:{f:gye},51:{f:_r},60:{},61:{f:pye},64:{f:fr},65:{f:vye},66:{f:_r},77:{},80:{},81:{},82:{},85:{f:_r},89:{},90:{},91:{},92:{f:iye},93:{f:Lye},94:{},95:{f:fr},96:{},97:{},99:{f:fr},125:{f:uB},128:{f:Tye},129:{f:oye},130:{f:_r},131:{f:fr},132:{f:fr},133:{f:lye},134:{},140:{f:Wye},141:{f:_r},144:{},146:{f:Kye},151:{},152:{},153:{},154:{},155:{},156:{f:_r},157:{},158:{},160:{f:Zye},161:{f:qye},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:kye},190:{f:Sye},193:{f:ro},197:{},198:{},199:{},200:{},201:{},202:{f:fr},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:_r},220:{},221:{f:fr},222:{},224:{f:Cye},225:{f:sye},226:{f:ro},227:{},229:{f:Fye},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:cye},253:{f:xye},255:{f:uye},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:nB},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:fr},353:{f:ro},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:jye},431:{f:fr},432:{},433:{},434:{},437:{},438:{f:zye},439:{f:fr},440:{f:Uye},441:{},442:{f:Mh},443:{},444:{f:_r},445:{},446:{},448:{f:ro},449:{f:hye,r:2},450:{f:ro},512:{f:$O},513:{f:Xye},515:{f:Aye},516:{f:yye},517:{f:BO},519:{f:Jye},520:{f:dye},523:{},545:{f:WO},549:{f:LO},566:{},574:{f:mye},638:{f:_ye},659:{},1048:{},1054:{f:bye},1084:{},1212:{f:Dye},2048:{f:Vye},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:Lp},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:ro},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:Gye,r:12},2173:{f:kbe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:fr,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Oye,r:12},2197:{},2198:{f:gbe,r:12},2199:{},2200:{},2201:{},2202:{f:Mye,r:12},2203:{f:ro},2204:{},2205:{},2206:{},2207:{},2211:{f:fye},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:_r},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:Yye},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Hye},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:$O},1:{},2:{f:r1e},3:{f:t1e},4:{f:e1e},5:{f:BO},7:{f:n1e},8:{},9:{f:Lp},11:{},22:{f:_r},30:{f:wye},31:{},32:{},33:{f:WO},36:{},37:{f:LO},50:{f:a1e},62:{},52:{},67:{},68:{f:_r},69:{},86:{},126:{},127:{f:Qye},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:s1e},223:{},234:{},354:{},421:{},518:{f:N1},521:{f:Lp},536:{f:VO},547:{f:UO},561:{},579:{},1030:{f:N1},1033:{f:Lp},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function as(e,t,r,n){var a=t;if(!isNaN(a)){var s=(r||[]).length||0,i=e.next(4);i.write_shift(2,a),i.write_shift(2,s),s>0&&W$(r)&&e.push(r)}}function t4(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var s=e.match(/<\/table/i),i=a.index,o=s&&s.index||e.length,l=Age(e.slice(i,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,p={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(i=0;i<l.length;++i){var v=l[i].trim(),g=v.slice(0,3).toLowerCase();if(g=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(g!="<td"&&g!="<th")){var x=v.split(/<\/t[dh]>/i);for(o=0;o<x.length;++o){var b=x[o].trim();if(b.match(/<t[dh]/i)){for(var y=b,_=0;y.charAt(0)=="<"&&(_=y.indexOf(">"))>-1;)y=y.slice(_+1);for(var S=0;S<m.length;++S){var k=m[S];k.s.c==u&&k.s.r<c&&c<=k.e.r&&(u=k.e.c+1,S=-1)}var E=Re(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var C=E.t||E["data-t"]||"";if(!y.length){u+=h;continue}if(y=N$(y),p.s.r>c&&(p.s.r=c),p.e.r<c&&(p.e.r=c),p.s.c>u&&(p.s.c=u),p.e.c<u&&(p.e.c=u),!y.length){u+=h;continue}var T={t:"s",v:y};r.raw||!y.trim().length||C=="s"||(y==="TRUE"?T={t:"b",v:!0}:y==="FALSE"?T={t:"b",v:!1}:isNaN(ks(y))?isNaN(Wu(y).getDate())||(T={t:"d",v:rn(y)},r.cellDates||(T={t:"n",v:Xn(T.v)}),T.z=r.dateNF||Fe[14]):T={t:"n",v:ks(y)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=T):n[Le({r:c,c:u})]=T,u+=h}}}}return n["!ref"]=Xe(p),m.length&&(n["!merges"]=m),n}function ake(e,t,r,n){for(var a=e["!merges"]||[],s=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>i)&&!(a[c].e.r<r||a[c].e.c<i)){if(a[c].s.r<r||a[c].s.c<i){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=Le({r,c:i}),f=n.dense?(e[r]||[])[i]:e[u],h=f&&f.v!=null&&(f.h||RE(f.w||(Wi(f),f.w)||""))||"",p={};o>1&&(p.rowspan=o),l>1&&(p.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(p["data-t"]=f&&f.t||"z",f.v!=null&&(p["data-v"]=f.v),f.z!=null&&(p["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),p.id=(n.id||"sjs")+"-"+u,s.push(Wge("td",h,p))}}var m="<tr>";return m+s.join("")+"</tr>"}var ske='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',ike="</body></html>";function oke(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return tl(t4(r[0],t),t);var n=eC();return r.forEach(function(a,s){tC(n,t4(a,t),"Sheet"+(s+1))}),n}function lke(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function cke(e,t){var r=t||{},n=r.header!=null?r.header:ske,a=r.footer!=null?r.footer:ike,s=[n],i=dd(e["!ref"]);r.dense=Array.isArray(e),s.push(lke(e,i,r));for(var o=i.s.r;o<=i.e.r;++o)s.push(ake(e,i,o,r));return s.push("</table>"+a),s.join("")}function RB(e,t,r){var n=r||{},a=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var i=typeof n.origin=="string"?Vn(n.origin):n.origin;a=i.r,s=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:s}};if(e["!ref"]){var u=dd(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,p=e["!rows"]||(e["!rows"]=[]),m=0,v=0,g=0,x=0,b=0,y=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&v<l;++m){var _=o[m];if(r4(_)){if(n.display)continue;p[v]={hidden:!0}}var S=_.children;for(g=x=0;g<S.length;++g){var k=S[g];if(!(n.display&&r4(k))){var E=k.hasAttribute("data-v")?k.getAttribute("data-v"):k.hasAttribute("v")?k.getAttribute("v"):N$(k.innerHTML),C=k.getAttribute("data-z")||k.getAttribute("z");for(h=0;h<f.length;++h){var T=f[h];T.s.c==x+s&&T.s.r<v+a&&v+a<=T.e.r&&(x=T.e.c+1-s,h=-1)}y=+k.getAttribute("colspan")||1,((b=+k.getAttribute("rowspan")||1)>1||y>1)&&f.push({s:{r:v+a,c:x+s},e:{r:v+a+(b||1)-1,c:x+s+(y||1)-1}});var A={t:"s",v:E},N=k.getAttribute("data-t")||k.getAttribute("t")||"";E!=null&&(E.length==0?A.t=N||"z":n.raw||E.trim().length==0||N=="s"||(E==="TRUE"?A={t:"b",v:!0}:E==="FALSE"?A={t:"b",v:!1}:isNaN(ks(E))?isNaN(Wu(E).getDate())||(A={t:"d",v:rn(E)},n.cellDates||(A={t:"n",v:Xn(A.v)}),A.z=n.dateNF||Fe[14]):A={t:"n",v:ks(E)})),A.z===void 0&&C!=null&&(A.z=C);var j="",P=k.getElementsByTagName("A");if(P&&P.length)for(var R=0;R<P.length&&!(P[R].hasAttribute("href")&&(j=P[R].getAttribute("href"),j.charAt(0)!="#"));++R);j&&j.charAt(0)!="#"&&(A.l={Target:j}),n.dense?(e[v+a]||(e[v+a]=[]),e[v+a][x+s]=A):e[Le({c:x+s,r:v+a})]=A,c.e.c<x+s&&(c.e.c=x+s),x+=y}}++v}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,v-1+a),e["!ref"]=Xe(c),v>=l&&(e["!fullref"]=Xe((c.e.r=o.length-m+v-1+a,c))),e}function FB(e,t){var r=t||{},n=r.dense?[]:{};return RB(n,e,t)}function uke(e,t){return tl(FB(e,t),t)}function r4(e){var t="",r=dke(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function dke(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function fke(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Qe(t.replace(/<[^>]*>/g,""));return[r]}var n4={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function LB(e,t){var r=t||{},n=FE(e),a=[],s,i,o={name:""},l="",c=0,u,f,h={},p=[],m=r.dense?[]:{},v,g,x={value:""},b="",y=0,_=[],S=-1,k=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},C=0,T={},A=[],N={},j=0,P=0,R=[],B=1,q=1,K=[],X={Names:[]},I={},J=["",""],Z=[],M={},z="",G=0,H=!1,Q=!1,oe=0;for(w0.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");v=w0.exec(n);)switch(v[3]=v[3].replace(/_.*$/,"")){case"table":case"":v[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?m["!ref"]=Xe(E):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(m["!fullref"]=m["!ref"],E.e.r=r.sheetRows-1,m["!ref"]=Xe(E)),A.length&&(m["!merges"]=A),R.length&&(m["!rows"]=R),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),p.push(u.name),h[u.name]=m,Q=!1):v[0].charAt(v[0].length-2)!=="/"&&(u=Re(v[0],!1),S=k=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,m=r.dense?[]:{},A=[],R=[],Q=!0);break;case"table-row-group":v[1]==="/"?--C:++C;break;case"table-row":case"":if(v[1]==="/"){S+=B,B=1;break}if(f=Re(v[0],!1),f.?S=f.-1:S==-1&&(S=0),B=+f["number-rows-repeated"]||1,B<10)for(oe=0;oe<B;++oe)C>0&&(R[S+oe]={level:C});k=-1;break;case"covered-table-cell":v[1]!=="/"&&++k,r.sheetStubs&&(r.dense?(m[S]||(m[S]=[]),m[S][k]={t:"z"}):m[Le({r:S,c:k})]={t:"z"}),b="",_=[];break;case"table-cell":case"":if(v[0].charAt(v[0].length-2)==="/")++k,x=Re(v[0],!1),q=parseInt(x["number-columns-repeated"]||"1",10),g={t:"z",v:null},x.formula&&r.cellFormula!=!1&&(g.f=ZO(Qe(x.formula))),(x.||x["value-type"])=="string"&&(g.t="s",g.v=Qe(x["string-value"]||""),r.dense?(m[S]||(m[S]=[]),m[S][k]=g):m[Le({r:S,c:k})]=g),k+=q-1;else if(v[1]!=="/"){++k,b="",y=0,_=[],q=1;var le=B?S+B-1:S;if(k>E.e.c&&(E.e.c=k),k<E.s.c&&(E.s.c=k),S<E.s.r&&(E.s.r=S),le>E.e.r&&(E.e.r=le),x=Re(v[0],!1),Z=[],M={},g={t:x.||x["value-type"],v:null},r.cellFormula)if(x.formula&&(x.formula=Qe(x.formula)),x["number-matrix-columns-spanned"]&&x["number-matrix-rows-spanned"]&&(j=parseInt(x["number-matrix-rows-spanned"],10)||0,P=parseInt(x["number-matrix-columns-spanned"],10)||0,N={s:{r:S,c:k},e:{r:S+j-1,c:k+P-1}},g.F=Xe(N),K.push([N,g.F])),x.formula)g.f=ZO(x.formula);else for(oe=0;oe<K.length;++oe)S>=K[oe][0].s.r&&S<=K[oe][0].e.r&&k>=K[oe][0].s.c&&k<=K[oe][0].e.c&&(g.F=K[oe][1]);switch((x["number-columns-spanned"]||x["number-rows-spanned"])&&(j=parseInt(x["number-rows-spanned"],10)||0,P=parseInt(x["number-columns-spanned"],10)||0,N={s:{r:S,c:k},e:{r:S+j-1,c:k+P-1}},A.push(N)),x["number-columns-repeated"]&&(q=parseInt(x["number-columns-repeated"],10)),g.t){case"boolean":g.t="b",g.v=Ft(x["boolean-value"]);break;case"float":g.t="n",g.v=parseFloat(x.value);break;case"percentage":g.t="n",g.v=parseFloat(x.value);break;case"currency":g.t="n",g.v=parseFloat(x.value);break;case"date":g.t="d",g.v=rn(x["date-value"]),r.cellDates||(g.t="n",g.v=Xn(g.v)),g.z="m/d/yy";break;case"time":g.t="n",g.v=Ege(x["time-value"])/86400,r.cellDates&&(g.t="d",g.v=Zx(g.v)),g.z="HH:MM:SS";break;case"number":g.t="n",g.v=parseFloat(x.);break;default:if(g.t==="string"||g.t==="text"||!g.t)g.t="s",x["string-value"]!=null&&(b=Qe(x["string-value"]),_=[]);else throw new Error("Unsupported value type "+g.t)}}else{if(H=!1,g.t==="s"&&(g.v=b||"",_.length&&(g.R=_),H=y==0),I.Target&&(g.l=I),Z.length>0&&(g.c=Z,Z=[]),b&&r.cellText!==!1&&(g.w=b),H&&(g.t="z",delete g.v),(!H||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=S))for(var Y=0;Y<B;++Y){if(q=parseInt(x["number-columns-repeated"]||"1",10),r.dense)for(m[S+Y]||(m[S+Y]=[]),m[S+Y][k]=Y==0?g:hn(g);--q>0;)m[S+Y][k+q]=hn(g);else for(m[Le({r:S+Y,c:k})]=g;--q>0;)m[Le({r:S+Y,c:k+q})]=hn(g);E.e.c<=k&&(E.e.c=k)}q=parseInt(x["number-columns-repeated"]||"1",10),k+=q-1,q=0,g={},b="",_=[]}I={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!0]);break;case"annotation":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s;M.t=b,_.length&&(M.R=_),M.a=z,Z.push(M)}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);z="",G=0,b="",y=0,_=[];break;case"creator":v[1]==="/"?z=n.slice(G,v.index):G=v.index+v[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(v[1]==="/"){if((s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&a.push([v[3],!1]);b="",y=0,_=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(v[1]==="/"){if(T[o.name]=l,(s=a.pop())[0]!==v[3])throw"Bad state: "+s}else v[0].charAt(v[0].length-2)!=="/"&&(l="",o=Re(v[0],!1),a.push([v[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Re(v[0],!1),l+=n4[v[3]][i.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":i=Re(v[0],!1),l+=n4[v[3]][i.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(v[0].slice(-2)==="/>")break;if(v[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,v.index);break}else c=v.index+v[0].length;break;case"named-range":i=Re(v[0],!1),J=O1(i["cell-range-address"]);var te={Name:i.name,Ref:J[0]+"!"+J[1]};Q&&(te.Sheet=p.length),X.Names.push(te);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(v[1]==="/"&&(!x||!x["string-value"])){var ue=fke(n.slice(y,v.index));b=(b.length>0?b+`
`:"")+ue[0]}else Re(v[0],!1),y=v.index+v[0].length;break;case"s":break;case"database-range":if(v[1]==="/")break;try{J=O1(Re(v[0])["target-range-address"]),h[J[0]]["!autofilter"]={ref:J[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(v[1]!=="/"){if(I=Re(v[0],!1),!I.href)break;I.Target=Qe(I.href),delete I.href,I.Target.charAt(0)=="#"&&I.Target.indexOf(".")>-1?(J=O1(I.Target.slice(1)),I.Target="#"+J[0]+"!"+J[1]):I.Target.match(/^\.\.[\\\/]/)&&(I.Target=I.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(v[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(v)}}var D={Sheets:h,SheetNames:p,Workbook:X};return r.bookSheets&&delete D.Sheets,D}function a4(e,t){t=t||{},Fa(e,"META-INF/manifest.xml")&&Axe(wr(e,"META-INF/manifest.xml"),t);var r=ya(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=LB(kt(r),t);return Fa(e,"meta.xml")&&(n.Props=Z$(wr(e,"meta.xml"))),n}function s4(e,t){return LB(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function XE(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function k2(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):kt(hc(e))}function S2(e){var t=e.reduce(function(a,s){return a+s.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function i4(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function hke(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function E0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function $r(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function jn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=E0(e,r),s=a&7;a=Math.floor(a/8);var i=0,o;if(a==0)break;switch(s){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:i=4,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 1:i=8,o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 2:i=E0(e,r),o=e.slice(r[0],r[0]+i),r[0]+=i;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:s};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function ZE(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function pke(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=E0(e,n),s=jn(e.slice(n[0],n[0]+a));n[0]+=a;var i={id:$r(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=jn(o.data),c=$r(l[3][0].data);i.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=s[3])!=null&&t[0]&&(i.merge=$r(s[3][0].data)>>>0>0),r.push(i)}return r}function mke(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=E0(t,r),a=[];r[0]<t.length;){var s=t[r[0]]&3;if(s==0){var i=t[r[0]++]>>2;if(i<60)++i;else{var o=i-59;i=t[r[0]],o>1&&(i|=t[r[0]+1]<<8),o>2&&(i|=t[r[0]+2]<<16),o>3&&(i|=t[r[0]+3]<<24),i>>>=0,i++,r[0]+=o}a.push(t.slice(r[0],r[0]+i)),r[0]+=i;continue}else{var l=0,c=0;if(s==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,s==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[S2(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=S2(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function vke(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(mke(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return S2(t)}function gke(e,t,r,n){var a=XE(e),s=a.getUint32(4,!0),i=(n>1?12:8)+i4(s&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);s&512&&(o=a.getUint32(i,!0),i+=4),i+=i4(s&(n>1?12288:4096))*4,s&16&&(l=a.getUint32(i,!0),i+=4),s&32&&(c=a.getFloat64(i,!0),i+=8),s&64&&(u.setTime(u.getTime()+a.getFloat64(i,!0)*1e3),i+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function xke(e,t,r){var n=XE(e),a=n.getUint32(8,!0),s=12,i=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=hke(e,s),s+=16),a&2&&(c=n.getFloat64(s,!0),s+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(s,!0)*1e3),s+=8),a&8&&(o=n.getUint32(s,!0),s+=4),a&16&&(i=n.getUint32(s,!0),s+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(i>-1)f={t:"s",v:r[i]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function yke(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return gke(e,t,r,e[0]);case 5:return xke(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function Do(e){var t=jn(e);return E0(t[1][0].data)}function o4(e,t){var r=jn(t.data),n=$r(r[1][0].data),a=r[3],s=[];return(a||[]).forEach(function(i){var o=jn(i.data),l=$r(o[1][0].data)>>>0;switch(n){case 1:s[l]=k2(o[3][0].data);break;case 8:{var c=e[Do(o[9][0].data)][0],u=jn(c.data),f=e[Do(u[1][0].data)][0],h=$r(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var p=jn(f.data);s[l]=p[3].map(function(m){return k2(m.data)}).join("")}break}}),s}function bke(e,t){var r,n,a,s,i,o,l,c,u,f,h,p,m,v,g=jn(e),x=$r(g[1][0].data)>>>0,b=$r(g[2][0].data)>>>0,y=((n=(r=g[8])==null?void 0:r[0])==null?void 0:n.data)&&$r(g[8][0].data)>0||!1,_,S;if((s=(a=g[7])==null?void 0:a[0])!=null&&s.data&&t!=0)_=(o=(i=g[7])==null?void 0:i[0])==null?void 0:o.data,S=(c=(l=g[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=g[4])==null?void 0:u[0])!=null&&f.data&&t!=1)_=(p=(h=g[4])==null?void 0:h[0])==null?void 0:p.data,S=(v=(m=g[3])==null?void 0:m[0])==null?void 0:v.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var k=y?4:1,E=XE(_),C=[],T=0;T<_.length/2;++T){var A=E.getUint16(T*2,!0);A<65535&&C.push([T,A])}if(C.length!=b)throw"Expected ".concat(b," cells, found ").concat(C.length);var N=[];for(T=0;T<C.length-1;++T)N[C[T][0]]=S.subarray(C[T][1]*k,C[T+1][1]*k);return C.length>=1&&(N[C[C.length-1][0]]=S.subarray(C[C.length-1][1]*k)),{R:x,cells:N}}function wke(e,t){var r,n=jn(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?$r(n[7][0].data)>>>0>0?1:0:-1,s=ZE(n[5],function(i){return bke(i,a)});return{nrows:$r(n[4][0].data)>>>0,data:s.reduce(function(i,o){return i[o.R]||(i[o.R]=[]),o.cells.forEach(function(l,c){if(i[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));i[o.R][c]=l}),i},[])}}function _ke(e,t,r){var n,a=jn(t.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=($r(a[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(s.e.c=($r(a[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Xe(s);var i=jn(a[4][0].data),o=o4(e,e[Do(i[4][0].data)][0]),l=(n=i[17])!=null&&n[0]?o4(e,e[Do(i[17][0].data)][0]):[],c=jn(i[3][0].data),u=0;c[1].forEach(function(f){var h=jn(f.data),p=e[Do(h[2][0].data)][0],m=$r(p.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var v=wke(e,p);v.data.forEach(function(g,x){g.forEach(function(b,y){var _=Le({r:u+x,c:y}),S=yke(b,o,l);S&&(r[_]=S)})}),u+=v.nrows})}function kke(e,t){var r=jn(t.data),n={"!ref":"A1"},a=e[Do(r[2][0].data)],s=$r(a[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return _ke(e,a[0],n),n}function Ske(e,t){var r,n=jn(t.data),a={name:(r=n[1])!=null&&r[0]?k2(n[1][0].data):"",sheets:[]},s=ZE(n[2],Do);return s.forEach(function(i){e[i].forEach(function(o){var l=$r(o.meta[1][0].data);l==6e3&&a.sheets.push(kke(e,o))})}),a}function Eke(e,t){var r=eC(),n=jn(t.data),a=ZE(n[1],Do);if(a.forEach(function(s){e[s].forEach(function(i){var o=$r(i.meta[1][0].data);if(o==2){var l=Ske(e,i);l.sheets.forEach(function(c,u){tC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function M1(e){var t,r,n,a,s={},i=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=vke(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=pke(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){s[f.id]=f.messages,i.push(f.id)})}}),!i.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=s==null?void 0:s[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&$r(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||i.forEach(function(l){s[l].forEach(function(c){var u=$r(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Eke(s,o)}function Cke(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function JE(e){Cke([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Tke(e){return ru.WS.indexOf(e)>-1?"sheet":e==ru.CS?"chart":e==ru.DS?"dialog":e==ru.MS?"macro":e&&e.length?e:"sheet"}function Ake(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Tke(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function jke(e,t,r,n,a,s,i,o,l,c,u,f){try{s[n]=gf(ya(e,r,!0),t);var h=wr(e,t),p;switch(o){case"sheet":p=I_e(h,t,a,l,s[n],c,u,f);break;case"chart":if(p=R_e(h,t,a,l,s[n],c,u,f),!p||!p["!drawel"])break;var m=Zd(p["!drawel"].Target,t),v=x2(m),g=Mbe(ya(e,m,!0),gf(ya(e,v,!0),m)),x=Zd(g,m),b=x2(x);p=x_e(ya(e,x,!0),x,l,gf(ya(e,b,!0),x),c,p);break;case"macro":p=F_e(h,t,a,l,s[n],c,u,f);break;case"dialog":p=L_e(h,t,a,l,s[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}i[n]=p;var y=[];s&&s[n]&&ti(s[n]).forEach(function(_){var S="";if(s[n][_].Type==ru.CMNT){S=Zd(s[n][_].Target,t);var k=U_e(wr(e,S,!0),S,l);if(!k||!k.length)return;KO(p,k,!1)}s[n][_].Type==ru.TCMNT&&(S=Zd(s[n][_].Target,t),y=y.concat(Rbe(wr(e,S,!0),l)))}),y&&y.length&&KO(p,y,!0,l.people||[])}catch(_){if(l.WTF)throw _}}function Oa(e){return e.charAt(0)=="/"?e.slice(1):e}function Pke(e,t){if(w$(),t=t||{},JE(t),Fa(e,"META-INF/manifest.xml")||Fa(e,"objectdata.xml"))return a4(e,t);if(Fa(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof M1<"u"){if(e.FileIndex)return M1(e);var r=Ye.utils.cfb_new();return yO(e).forEach(function(R){Nge(r,R,Pge(e,R))}),M1(r)}throw new Error("Unsupported NUMBERS file")}if(!Fa(e,"[Content_Types].xml"))throw Fa(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):Fa(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=yO(e),a=Cxe(ya(e,"[Content_Types].xml")),s=!1,i,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",wr(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!wr(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),s=!0}a.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(bf=[],a.sst)try{bf=z_e(wr(e,Oa(a.sst)),a.sst,t)}catch(R){if(t.WTF)throw R}t.cellStyles&&a.themes.length&&(l=B_e(ya(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=$_e(wr(e,Oa(a.style)),a.style,l,t))}a.links.map(function(R){try{var B=gf(ya(e,x2(Oa(R))),R);return W_e(wr(e,Oa(R)),B,R,t)}catch{}});var u=M_e(wr(e,Oa(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=wr(e,Oa(a.coreprops[0]),!0),h&&(f=Z$(h)),a.extprops.length!==0&&(h=wr(e,Oa(a.extprops[0]),!0),h&&Nxe(h,f,t)));var p={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ya(e,Oa(a.custprops[0]),!0),h&&(p=Dxe(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?i=u.Sheets.map(function(B){return B.name}):f.Worksheets&&f.SheetNames.length>0&&(i=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=p),t.bookSheets&&typeof i<"u"&&(m.SheetNames=i),t.bookSheets?m.SheetNames:t.bookProps))return m;i={};var v={};t.bookDeps&&a.calcchain&&(v=V_e(wr(e,Oa(a.calcchain)),a.calcchain));var g=0,x={},b,y;{var _=u.Sheets;f.Worksheets=_.length,f.SheetNames=[];for(var S=0;S!=_.length;++S)f.SheetNames[S]=_[S].name}var k=s?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),C=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");Fa(e,C)||(C="xl/_rels/workbook."+k+".rels");var T=gf(ya(e,C,!0),C.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=H_e(wr(e,Oa(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Fbe(wr(e,Oa(a.people[0])),t)),T&&(T=Ake(T,u.Sheets));var A=wr(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(g=0;g!=f.Worksheets;++g){var N="sheet";if(T&&T[g]?(b="xl/"+T[g][1].replace(/[\/]?xl\//,""),Fa(e,b)||(b=T[g][1]),Fa(e,b)||(b=C.replace(/_rels\/.*$/,"")+T[g][1]),N=T[g][2]):(b="xl/worksheets/sheet"+(g+1-A)+"."+k,b=b.replace(/sheet0\./,"sheet.")),y=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(g!=t.sheets)continue e;break;case"string":if(f.SheetNames[g].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var j=!1,P=0;P!=t.sheets.length;++P)typeof t.sheets[P]=="number"&&t.sheets[P]==g&&(j=1),typeof t.sheets[P]=="string"&&t.sheets[P].toLowerCase()==f.SheetNames[g].toLowerCase()&&(j=1);if(!j)continue e}}jke(e,b,y,f.SheetNames[g],g,x,i,N,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:p,Deps:v,Sheets:i,SheetNames:f.SheetNames,Strings:bf,Styles:c,Themes:l,SSF:hn(Fe)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(R,B){R=R.replace(/^Root Entry[\/]/,""),m.keys.push(R),m.files[R]=e.FileIndex[B]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=wr(e,Oa(a.vba[0]),!0):a.defaults&&a.defaults.bin===zbe&&(m.vbaraw=wr(e,"xl/vbaProject.bin",!0))),m}function Nke(e,t){var r=t||{},n="Workbook",a=Ye.find(e,n);try{if(n="/!DataSpaces/Version",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(k1e(a.content),n="/!DataSpaces/DataSpaceMap",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=E1e(a.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=C1e(a.content);if(i.length!=1||i[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);A1e(a.content)}catch{}if(n="/EncryptionInfo",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=j1e(a.content);if(n="/EncryptedPackage",a=Ye.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function QE(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ca(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Oke(e,t){return Ye.find(e,"EncryptedPackage")?Nke(e,t):IB(e,t)}function Dke(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ke&&Buffer.isBuffer(e)?"buffer":"base64"),r=A$(n,a),Pke(r,a)}function $B(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return w2(e.slice(r),t);default:break e}return _0.to_workbook(e,t)}function Mke(e,t){var r="",n=QE(e,t);switch(t.type){case"base64":r=Ca(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=rc(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=kt(r)),t.type="binary",$B(r,t)}function Ike(e,t){var r=e;return t.type=="base64"&&(r=Ca(r)),r=x0.utils.decode(1200,r.slice(2),"str"),t.type="binary",$B(r,t)}function Rke(e){return e.match(/[^\x00-\x7F]/)?Jd(e):e}function I1(e,t,r,n){return n?(r.type="string",_0.to_workbook(e,r)):_0.to_workbook(t,r)}function E2(e,t){c$();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return E2(new Uint8Array(e),(r=hn(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),_u={},r.dateNF&&(_u.dateNF=r.dateNF),r.type||(r.type=Ke&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ke?"buffer":"binary",n=kge(e),typeof Uint8Array<"u"&&!Ke&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=Rke(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var i=new ArrayBuffer(3),o=new Uint8Array(i);if(o.foo="bar",!o.foo)return r=hn(r),r.type="array",E2(NE(n),r)}switch((a=QE(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return Oke(Ye.read(n,r),r);break;case 9:if(a[1]<=8)return IB(n,r);break;case 60:return w2(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return u1e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return l1e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Dke(n,r):I1(e,n,r,s);case 239:return a[3]===60?w2(n,r):I1(e,n,r,s);case 255:if(a[1]===254)return Ike(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return yf.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return yf.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return HO.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return z1e.to_workbook(n,r);break;case 10:case 13:case 32:return Mke(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return i1e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?HO.to_workbook(n,r):I1(e,n,r,s)}function Fke(e,t,r,n,a,s,i,o){var l=pn(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!i||e[r])for(var p=t.s.c;p<=t.e.c;++p){var m=i?e[r][p]:e[n[p]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;s[p]!=null&&(h[s[p]]=c);continue}var v=m.v;switch(m.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(s[p]!=null){if(v==null)if(m.t=="e"&&v===null)h[s[p]]=null;else if(c!==void 0)h[s[p]]=c;else if(u&&v===null)h[s[p]]=null;else continue;else h[s[p]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?v:Wi(m,v,o);v!=null&&(f=!1)}}return{row:h,isempty:f}}function C2(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,s=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=dr(u);break;case"number":l=dr(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=pn(l.s.r),h=[],p=[],m=0,v=0,g=Array.isArray(e),x=l.s.r,b=0,y={};g&&!e[x]&&(e[x]=[]);var _=c.skipHidden&&e["!cols"]||[],S=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(_[b]||{}).hidden)switch(h[b]=Lr(b),r=g?e[x][b]:e[h[b]+f],n){case 1:s[b]=b-l.s.c;break;case 2:s[b]=h[b];break;case 3:s[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=i=Wi(r,null,c),v=y[i]||0,!v)y[i]=1;else{do o=i+"_"+v++;while(y[o]);y[i]=v,y[o]=1}s[b]=o}for(x=l.s.r+a;x<=l.e.r;++x)if(!(S[x]||{}).hidden){var k=Fke(e,l,x,h,n,s,g,c);(k.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(p[m++]=k.row)}return p.length=m,p}var l4=/"/g;function Lke(e,t,r,n,a,s,i,o){for(var l=!0,c=[],u="",f=pn(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var p=o.dense?(e[r]||[])[h]:e[n[h]+f];if(p==null)u="";else if(p.v!=null){l=!1,u=""+(o.rawNumbers&&p.t=="n"?p.v:Wi(p,null,o));for(var m=0,v=0;m!==u.length;++m)if((v=u.charCodeAt(m))===a||v===s||v===34||o.forceQuotes){u='"'+u.replace(l4,'""')+'"';break}u=="ID"&&(u='"ID"')}else p.f!=null&&!p.F?(l=!1,u="="+p.f,u.indexOf(",")>=0&&(u='"'+u.replace(l4,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(i)}function BB(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=dr(e["!ref"]),s=n.FS!==void 0?n.FS:",",i=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((s=="|"?"\\|":s)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],p=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=Lr(m));for(var v=0,g=a.s.r;g<=a.e.r;++g)(p[g]||{}).hidden||(u=Lke(e,a,g,f,i,l,s,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((v++?o:"")+u)));return delete n.dense,r.join("")}function $ke(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=BB(e,t);return r}function Bke(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=dr(e["!ref"]),s="",i=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)i[o]=Lr(o);for(var u=a.s.r;u<=a.e.r;++u)for(s=pn(u),o=a.s.c;o<=a.e.c;++o)if(t=i[o]+s,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function zB(e,t,r){var n=r||{},a=+!n.skipHeader,s=e||{},i=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var l=typeof n.origin=="string"?Vn(n.origin):n.origin;i=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:i+t.length-1+a}};if(s["!ref"]){var f=dr(s["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),i==-1&&(i=f.e.r+1,u.e.r=i+t.length-1+a)}else i==-1&&(i=0,u.e.r=t.length-1+a);var h=n.header||[],p=0;t.forEach(function(v,g){ti(v).forEach(function(x){(p=h.indexOf(x))==-1&&(h[p=h.length]=x);var b=v[x],y="z",_="",S=Le({c:o+p,r:i+g+a});c=C0(s,S),b&&typeof b=="object"&&!(b instanceof Date)?s[S]=b:(typeof b=="number"?y="n":typeof b=="boolean"?y="b":typeof b=="string"?y="s":b instanceof Date?(y="d",n.cellDates||(y="n",b=Xn(b)),_=n.dateNF||Fe[14]):b===null&&n.nullError&&(y="e",b=0),c?(c.t=y,c.v=b,delete c.w,delete c.R,_&&(c.z=_)):s[S]=c={t:y,v:b},_&&(c.z=_))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=pn(i);if(a)for(p=0;p<h.length;++p)s[Lr(p+o)+m]={t:"s",v:h[p]};return s["!ref"]=Xe(u),s}function zke(e,t){return zB(null,e,t)}function C0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Vn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?C0(e,Le(t)):C0(e,Le({r:t,c:r||0}))}function Uke(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function eC(){return{SheetNames:[],Sheets:{}}}function tC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);a=s&&+s[2]||0;var i=s&&s[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=i+a)!=-1;++a);}if(C_e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Vke(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Uke(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Wke(e,t){return e.z=t,e}function UB(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Hke(e,t,r){return UB(e,"#"+t,r)}function Kke(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function Gke(e,t,r,n){for(var a=typeof t!="string"?t:dr(t),s=typeof t=="string"?t:Xe(t),i=a.s.r;i<=a.e.r;++i)for(var o=a.s.c;o<=a.e.c;++o){var l=C0(e,i,o);l.t="n",l.F=s,delete l.v,i==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var c4={encode_col:Lr,encode_row:pn,encode_cell:Le,encode_range:Xe,decode_col:BE,decode_row:$E,split_cell:sxe,decode_cell:Vn,decode_range:dd,format_cell:Wi,sheet_add_aoa:K$,sheet_add_json:zB,sheet_add_dom:RB,aoa_to_sheet:fd,json_to_sheet:zke,table_to_sheet:FB,table_to_book:uke,sheet_to_csv:BB,sheet_to_txt:$ke,sheet_to_json:C2,sheet_to_html:cke,sheet_to_formulae:Bke,sheet_to_row_object_array:C2,sheet_get_cell:C0,book_new:eC,book_append_sheet:tC,book_set_sheet_visibility:Vke,cell_set_number_format:Wke,cell_set_hyperlink:UB,cell_set_internal_link:Hke,cell_add_comment:Kke,sheet_set_array_formula:Gke,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const qke={"nome da campanha":"campaign",campanha:"campaign",dia:"date","valor usado (brl)":"spend",custo:"spend",impresses:"impressions","impr.":"impressions",resultados:"results",conv:"conversions",converses:"conversions",frequncia:"frequency",alcance:"reach",cpm:"cpm","cpm mdio":"cpm","cliques no link":"clicks",cliques:"clicks",cpc:"cpc","cpc md.":"cpc",ctr:"ctr"},u4={"extrao meta ads_downloads":{channel:"meta",defaultObjective:null},"extrao meta_marca+downloads":{channel:"meta",defaultObjective:null},"extrao google ads_marca+b2c":{channel:"google",defaultObjective:null},"extrao alcance bf 2025":{channel:"meta",defaultObjective:null}},Yke=e=>e.trim().toLowerCase(),Xke=e=>{if(!e)return null;let t;if(typeof e=="number")t=_$.parse_date_code(e),t=new Date(t.y,t.m-1,t.d);else if(e instanceof Date)t=e;else{const r=String(e).trim();r.includes("-")?t=new Date(r):r.includes("/")?t=Cme(r,"dd/MM/yyyy",new Date):t=new Date(r)}return $L(t)?t.toISOString():null},Zke=(e,t)=>{const r=e.toLowerCase();return r.includes("download")||r.includes("app")?"b2c":"marca"},d4=e=>{if(typeof e=="number")return e;if(!e)return 0;let t=String(e);t=t.replace("R$","").trim(),t=t.replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r},rC=async e=>new Promise((t,r)=>{const n=new FileReader;n.onload=a=>{var s;try{const i=(s=a.target)==null?void 0:s.result,o=E2(i,{type:"binary"});let l=[];const c=new Map,u=o.SheetNames.find(p=>p.toLowerCase().includes("de-para")||p.toLowerCase().includes("depara"));if(u){const p=o.Sheets[u];c4.sheet_to_json(p,{header:1}).forEach(v=>{if(v.length>=2){const g=String(v[0]).trim(),x=String(v[1]).trim().toLowerCase();g&&(x==="marca"||x==="branding"?c.set(g,"marca"):(x==="b2c"||x==="prafal"||x==="performance")&&c.set(g,"b2c"))}}),console.log(`De-Para carregado com ${c.size} mapeamentos.`)}Object.keys(u4).forEach(p=>{const m=o.SheetNames.find(y=>y.toLowerCase()===p.toLowerCase());if(!m)return;const v=u4[p],g=o.Sheets[m],b=c4.sheet_to_json(g).map(y=>{const _={channel:v.channel};return Object.keys(y).forEach(S=>{const k=Yke(S),E=qke[k];if(E)if(E==="date"){const C=Xke(y[S]);C&&(_.date=C)}else E==="campaign"?_.campaign=String(y[S]).trim():E==="results"?_.results=d4(y[S]):_[E]=d4(y[S])}),!_.campaign||!_.date?null:(_.campaign&&c.has(_.campaign)?_.objective=c.get(_.campaign):_.objective=Zke(_.campaign,v.defaultObjective),_.conversions===void 0&&_.results!==void 0&&(_.objective==="b2c"?_.conversions=_.results:(_.reach||(_.reach=_.results),_.conversions=0)),_.spend=_.spend||0,_.impressions=_.impressions||0,_.clicks=_.clicks||0,_.conversions=_.conversions||0,!_.cpm&&_.impressions>0&&(_.cpm=_.spend/_.impressions*1e3),!_.cpc&&_.clicks>0&&(_.cpc=_.spend/_.clicks),!_.ctr&&_.impressions>0&&(_.ctr=_.clicks/_.impressions),_)}).filter(y=>y!==null);l=[...l,...b]});const f=[],h=new Map;l.forEach(p=>{const m=p.date.substring(0,10),v=`${p.campaign}|${m}`,g=h.get(v)||[];g.some(b=>Math.abs(b-p.spend)<.1)||(f.push(p),h.set(v,[...g,p.spend]))}),t(f)}catch(i){r(i)}},n.onerror=a=>r(a),n.readAsBinaryString(e)}),Jke=()=>{const{goals:e,setGoals:t}=mt(),[r,n]=w.useState(()=>{const h=new Date;return new Date(h.getFullYear(),h.getMonth(),1)}),[a,s]=w.useState(!1),i=h=>{const p=h.getFullYear(),m=String(h.getMonth()+1).padStart(2,"0");return`${p}-${m}`},o=(h,p)=>new Date(h.getFullYear(),h.getMonth()+p,1),l=i(r),[c,u]=w.useState({cartoes_meta:0,b2c_meta:0,plurix_meta:0,b2b2c_meta:0,cac_max:0});$s.useEffect(()=>{const h=e.find(p=>p.mes===l);u({cartoes_meta:(h==null?void 0:h.cartoes_meta)||0,b2c_meta:(h==null?void 0:h.b2c_meta)||0,plurix_meta:(h==null?void 0:h.plurix_meta)||0,b2b2c_meta:(h==null?void 0:h.b2b2c_meta)||0,cac_max:(h==null?void 0:h.cac_max)||0})},[l,e]);const f=async()=>{s(!0);try{const h={mes:l,cartoes_meta:Number(c.cartoes_meta)||0,b2c_meta:Number(c.b2c_meta)||0,plurix_meta:Number(c.plurix_meta)||0,b2b2c_meta:Number(c.b2b2c_meta)||0,cac_max:Number(c.cac_max)||0},p=[...e.filter(v=>v.mes!==l)];p.push(h),t(p);const{dataService:m}=await n$(async()=>{const{dataService:v}=await Promise.resolve().then(()=>v9);return{dataService:v}},void 0);await m.upsertGoal(h),alert("Meta salva com sucesso!")}catch(h){console.error("Erro ao salvar meta:",h),alert(`Erro ao salvar meta na nuvem: ${h.message||"Erro desconhecido"}`)}finally{s(!1)}};return d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-500/5 rounded-full blur-3xl -mr-20 -mt-20 pointer-events-none"}),d.jsxs("div",{className:"flex items-center gap-3 mb-6 relative z-10",children:[d.jsx("div",{className:"p-3 bg-emerald-500/20 rounded-xl text-emerald-400 shadow-inner",children:d.jsx(Gi,{size:24})}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xl font-bold text-white",children:["Gerenciador de Metas ",d.jsx("span",{className:"text-xs text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded-full ml-2",children:"v1.1 (Live)"})]}),d.jsx("p",{className:"text-sm text-slate-400",children:"Defina os objetivos mensais para os KPIs."})]})]}),d.jsxs("div",{className:"bg-slate-900/50 border border-slate-700/50 rounded-xl p-4 relative z-10",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("button",{onClick:()=>n(o(r,-1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:d.jsx(z0,{size:20})}),d.jsx("div",{className:"text-center",children:d.jsx("h4",{className:"text-lg font-bold text-white capitalize",children:r.toLocaleDateString("pt-BR",{month:"long",year:"numeric"})})}),d.jsx("button",{onClick:()=>n(o(r,1)),className:"p-2 hover:bg-slate-800 rounded-lg text-slate-400 hover:text-white transition-colors",children:d.jsx(U0,{size:20})})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta CRM (Cartes)",d.jsx("span",{className:"bg-blue-500/20 text-blue-400 text-[9px] px-1.5 py-0.5 rounded",children:"CRM"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(kl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-blue-400 transition-colors"}),d.jsx("input",{type:"number",value:c.cartoes_meta,onChange:h=>u({...c,cartoes_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-blue-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2C Total",d.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"Geral"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(kl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),d.jsx("input",{type:"number",value:c.b2c_meta,onChange:h=>u({...c,b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),d.jsxs("div",{className:"relative group",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",value:c.cac_max,onChange:h=>u({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta Plurix",d.jsx("span",{className:"bg-purple-500/20 text-purple-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(kl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-purple-400 transition-colors"}),d.jsx("input",{type:"number",value:c.plurix_meta,onChange:h=>u({...c,plurix_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-purple-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("label",{className:"text-xs font-bold text-slate-500 uppercase flex items-center gap-2",children:["Meta B2B2C",d.jsx("span",{className:"bg-emerald-500/20 text-emerald-400 text-[9px] px-1.5 py-0.5 rounded",children:"BU"})]}),d.jsxs("div",{className:"relative group",children:[d.jsx(kl,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-emerald-400 transition-colors"}),d.jsx("input",{type:"number",value:c.b2b2c_meta,onChange:h=>u({...c,b2b2c_meta:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-emerald-500 transition-all placeholder-slate-600",placeholder:"0"})]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase",children:"CAC Mximo (R$)"}),d.jsxs("div",{className:"relative group",children:[d.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500 group-focus-within:text-amber-400 transition-colors text-xs font-bold",children:"R$"}),d.jsx("input",{type:"number",value:c.cac_max,onChange:h=>u({...c,cac_max:h.target.value}),className:"w-full bg-slate-950/50 border border-slate-700 rounded-lg py-2 pl-9 pr-4 text-white font-mono focus:outline-none focus:border-amber-500 transition-all placeholder-slate-600",placeholder:"0.00",step:"0.01"})]})]})]}),d.jsx("div",{className:"mt-6 flex justify-end",children:d.jsxs("button",{onClick:f,disabled:a,className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-500 text-white px-6 py-2 rounded-lg font-bold transition-all shadow-lg shadow-emerald-900/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[d.jsx(Ju,{size:16}),a?"Salvando...":"Salvar Metas"]})})]})};function ce(e,t,r){function n(o,l){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:l,constr:i,traits:new Set},enumerable:!1}),o._zod.traits.has(e))return;o._zod.traits.add(e),t(o,l);const c=i.prototype,u=Object.keys(c);for(let f=0;f<u.length;f++){const h=u[f];h in o||(o[h]=c[h].bind(o))}}const a=(r==null?void 0:r.Parent)??Object;class s extends a{}Object.defineProperty(s,"name",{value:e});function i(o){var l;const c=r!=null&&r.Parent?new s:this;n(c,o),(l=c._zod).deferred??(l.deferred=[]);for(const u of c._zod.deferred)u();return c}return Object.defineProperty(i,"init",{value:n}),Object.defineProperty(i,Symbol.hasInstance,{value:o=>{var l,c;return r!=null&&r.Parent&&o instanceof r.Parent?!0:(c=(l=o==null?void 0:o._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(i,"name",{value:e}),i}class ku extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class VB extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const WB={};function ac(e){return WB}function Qke(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,a])=>t.indexOf(+n)===-1).map(([n,a])=>a)}function T2(e,t){return typeof t=="bigint"?t.toString():t}function nC(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function aC(e){return e==null}function sC(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function eSe(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let a=(n.split(".")[1]||"").length;if(a===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l!=null&&l[1]&&(a=Number.parseInt(l[1]))}const s=r>a?r:a,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}const f4=Symbol("evaluating");function St(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==f4)return n===void 0&&(n=f4,n=r()),n},set(a){Object.defineProperty(e,t,{value:a})},configurable:!0})}function yc(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function bc(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function h4(e){return JSON.stringify(e)}function tSe(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const HB="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function hg(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const rSe=nC(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function T0(e){if(hg(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(hg(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function KB(e){return T0(e)?{...e}:Array.isArray(e)?[...e]:e}const nSe=new Set(["string","number","symbol"]);function ty(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function rl(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function De(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function aSe(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const sSe={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function iSe(e,t){const r=e._zod.def,n=bc(e._zod.def,{get shape(){const a={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(a[s]=r.shape[s])}return yc(this,"shape",a),a},checks:[]});return rl(e,n)}function oSe(e,t){const r=e._zod.def,n=bc(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete a[s]}return yc(this,"shape",a),a},checks:[]});return rl(e,n)}function lSe(e,t){if(!T0(t))throw new Error("Invalid input to extend: expected a plain object");const r=e._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const a=bc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return yc(this,"shape",s),s},checks:[]});return rl(e,a)}function cSe(e,t){if(!T0(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...e._zod.def,get shape(){const n={...e._zod.def.shape,...t};return yc(this,"shape",n),n},checks:e._zod.def.checks};return rl(e,r)}function uSe(e,t){const r=bc(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return yc(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return rl(e,r)}function dSe(e,t,r){const n=bc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in a))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=e?new e({type:"optional",innerType:a[i]}):a[i])}else for(const i in a)s[i]=e?new e({type:"optional",innerType:a[i]}):a[i];return yc(this,"shape",s),s},checks:[]});return rl(t,n)}function fSe(e,t,r){const n=bc(t._zod.def,{get shape(){const a=t._zod.def.shape,s={...a};if(r)for(const i in r){if(!(i in s))throw new Error(`Unrecognized key: "${i}"`);r[i]&&(s[i]=new e({type:"nonoptional",innerType:a[i]}))}else for(const i in a)s[i]=new e({type:"nonoptional",innerType:a[i]});return yc(this,"shape",s),s},checks:[]});return rl(t,n)}function nu(e,t=0){var r;if(e.aborted===!0)return!0;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function GB(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Up(e){return typeof e=="string"?e:e==null?void 0:e.message}function sc(e,t,r){var a,s,i,o,l,c;const n={...e,path:e.path??[]};if(!e.message){const u=Up((i=(s=(a=e.inst)==null?void 0:a._zod.def)==null?void 0:s.error)==null?void 0:i.call(s,e))??Up((o=t==null?void 0:t.error)==null?void 0:o.call(t,e))??Up((l=r.customError)==null?void 0:l.call(r,e))??Up((c=r.localeError)==null?void 0:c.call(r,e))??"Invalid input";n.message=u}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function iC(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function A0(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const qB=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,T2,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},YB=ce("$ZodError",qB),XB=ce("$ZodError",qB,{Parent:Error});function hSe(e,t=r=>r.message){const r={},n=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):n.push(t(a));return{formErrors:n,fieldErrors:r}}function pSe(e,t=r=>r.message){const r={_errors:[]},n=a=>{for(const s of a.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(i=>n({issues:i}));else if(s.code==="invalid_key")n({issues:s.issues});else if(s.code==="invalid_element")n({issues:s.issues});else if(s.path.length===0)r._errors.push(t(s));else{let i=r,o=0;for(;o<s.path.length;){const l=s.path[o];o===s.path.length-1?(i[l]=i[l]||{_errors:[]},i[l]._errors.push(t(s))):i[l]=i[l]||{_errors:[]},i=i[l],o++}}};return n(e),r}const oC=e=>(t,r,n,a)=>{const s=n?Object.assign(n,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise)throw new ku;if(i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>sc(l,s,ac())));throw HB(o,a==null?void 0:a.callee),o}return i.value},lC=e=>async(t,r,n,a)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},s);if(i instanceof Promise&&(i=await i),i.issues.length){const o=new((a==null?void 0:a.Err)??e)(i.issues.map(l=>sc(l,s,ac())));throw HB(o,a==null?void 0:a.callee),o}return i.value},ry=e=>(t,r,n)=>{const a=n?{...n,async:!1}:{async:!1},s=t._zod.run({value:r,issues:[]},a);if(s instanceof Promise)throw new ku;return s.issues.length?{success:!1,error:new(e??YB)(s.issues.map(i=>sc(i,a,ac())))}:{success:!0,data:s.value}},mSe=ry(XB),ny=e=>async(t,r,n)=>{const a=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},a);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(i=>sc(i,a,ac())))}:{success:!0,data:s.value}},vSe=ny(XB),gSe=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return oC(e)(t,r,a)},xSe=e=>(t,r,n)=>oC(e)(t,r,n),ySe=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return lC(e)(t,r,a)},bSe=e=>async(t,r,n)=>lC(e)(t,r,n),wSe=e=>(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ry(e)(t,r,a)},_Se=e=>(t,r,n)=>ry(e)(t,r,n),kSe=e=>async(t,r,n)=>{const a=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ny(e)(t,r,a)},SSe=e=>async(t,r,n)=>ny(e)(t,r,n),ESe=/^[cC][^\s-]{8,}$/,CSe=/^[0-9a-z]+$/,TSe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,ASe=/^[0-9a-vA-V]{20}$/,jSe=/^[A-Za-z0-9]{27}$/,PSe=/^[a-zA-Z0-9_-]{21}$/,NSe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,OSe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,p4=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,DSe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,MSe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function ISe(){return new RegExp(MSe,"u")}const RSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,FSe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,LSe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,$Se=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BSe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ZB=/^[A-Za-z0-9_-]*$/,zSe=/^\+(?:[0-9]){6,14}[0-9]$/,JB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",USe=new RegExp(`^${JB}$`);function QB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VSe(e){return new RegExp(`^${QB(e)}$`)}function WSe(e){const t=QB({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${JB}T(?:${n})$`)}const HSe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},KSe=/^-?\d+$/,GSe=/^-?\d+(?:\.\d+)?/,qSe=/^[^A-Z]*$/,YSe=/^[^a-z]*$/,fa=ce("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),e9={number:"number",bigint:"bigint",object:"date"},t9=ce("$ZodCheckLessThan",(e,t)=>{fa.init(e,t);const r=e9[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.maximum:a.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?a.maximum=t.value:a.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),r9=ce("$ZodCheckGreaterThan",(e,t)=>{fa.init(e,t);const r=e9[typeof t.value];e._zod.onattach.push(n=>{const a=n._zod.bag,s=(t.inclusive?a.minimum:a.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?a.minimum=t.value:a.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),XSe=ce("$ZodCheckMultipleOf",(e,t)=>{fa.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):eSe(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),ZSe=ce("$ZodCheckNumberFormat",(e,t)=>{var i;fa.init(e,t),t.format=t.format||"float64";const r=(i=t.format)==null?void 0:i.includes("int"),n=r?"int":"number",[a,s]=sSe[t.format];e._zod.onattach.push(o=>{const l=o._zod.bag;l.format=t.format,l.minimum=a,l.maximum=s,r&&(l.pattern=KSe)}),e._zod.check=o=>{const l=o.value;if(r){if(!Number.isInteger(l)){o.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?o.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):o.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<a&&o.issues.push({origin:"number",input:l,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),l>s&&o.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),JSe=ce("$ZodCheckMaxLength",(e,t)=>{var r;fa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!aC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<a&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const a=n.value;if(a.length<=t.maximum)return;const i=iC(a);n.issues.push({origin:i,code:"too_big",maximum:t.maximum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),QSe=ce("$ZodCheckMinLength",(e,t)=>{var r;fa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!aC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>a&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const a=n.value;if(a.length>=t.minimum)return;const i=iC(a);n.issues.push({origin:i,code:"too_small",minimum:t.minimum,inclusive:!0,input:a,inst:e,continue:!t.abort})}}),eEe=ce("$ZodCheckLengthEquals",(e,t)=>{var r;fa.init(e,t),(r=e._zod.def).when??(r.when=n=>{const a=n.value;return!aC(a)&&a.length!==void 0}),e._zod.onattach.push(n=>{const a=n._zod.bag;a.minimum=t.length,a.maximum=t.length,a.length=t.length}),e._zod.check=n=>{const a=n.value,s=a.length;if(s===t.length)return;const i=iC(a),o=s>t.length;n.issues.push({origin:i,...o?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),ay=ce("$ZodCheckStringFormat",(e,t)=>{var r,n;fa.init(e,t),e._zod.onattach.push(a=>{const s=a._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=a=>{t.pattern.lastIndex=0,!t.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:t.format,input:a.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),tEe=ce("$ZodCheckRegex",(e,t)=>{ay.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),rEe=ce("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=qSe),ay.init(e,t)}),nEe=ce("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=YSe),ay.init(e,t)}),aEe=ce("$ZodCheckIncludes",(e,t)=>{fa.init(e,t);const r=ty(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(a=>{const s=a._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=a=>{a.value.includes(t.includes,t.position)||a.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:a.value,inst:e,continue:!t.abort})}}),sEe=ce("$ZodCheckStartsWith",(e,t)=>{fa.init(e,t);const r=new RegExp(`^${ty(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),iEe=ce("$ZodCheckEndsWith",(e,t)=>{fa.init(e,t);const r=new RegExp(`.*${ty(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const a=n._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),oEe=ce("$ZodCheckOverwrite",(e,t)=>{fa.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class lEe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(i=>i),a=Math.min(...n.map(i=>i.length-i.trimStart().length)),s=n.map(i=>i.slice(a)).map(i=>" ".repeat(this.indent*2)+i);for(const i of s)this.content.push(i)}compile(){const t=Function,r=this==null?void 0:this.args,a=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...r,a.join(`
`))}}const cEe={major:4,minor:1,patch:13},Nr=ce("$ZodType",(e,t)=>{var a;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=cEe;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const s of n)for(const i of s._zod.onattach)i(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(a=e._zod.deferred)==null||a.push(()=>{e._zod.run=e._zod.parse});else{const s=(o,l,c)=>{let u=nu(o),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(o))continue}else if(u)continue;const p=o.issues.length,m=h._zod.check(o);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new ku;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,o.issues.length!==p&&(u||(u=nu(o,p)))});else{if(o.issues.length===p)continue;u||(u=nu(o,p))}}return f?f.then(()=>o):o},i=(o,l,c)=>{if(nu(o))return o.aborted=!0,o;const u=s(l,n,c);if(u instanceof Promise){if(c.async===!1)throw new ku;return u.then(f=>e._zod.parse(f,c))}return e._zod.parse(u,c)};e._zod.run=(o,l)=>{if(l.skipChecks)return e._zod.parse(o,l);if(l.direction==="backward"){const u=e._zod.parse({value:o.value,issues:[]},{...l,skipChecks:!0});return u instanceof Promise?u.then(f=>i(f,o,l)):i(u,o,l)}const c=e._zod.parse(o,l);if(c instanceof Promise){if(l.async===!1)throw new ku;return c.then(u=>s(u,n,l))}return s(c,n,l)}}e["~standard"]={validate:s=>{var i;try{const o=mSe(e,s);return o.success?{value:o.data}:{issues:(i=o.error)==null?void 0:i.issues}}catch{return vSe(e,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),cC=ce("$ZodString",(e,t)=>{var r;Nr.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??HSe(e._zod.bag),e._zod.parse=(n,a)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ut=ce("$ZodStringFormat",(e,t)=>{ay.init(e,t),cC.init(e,t)}),uEe=ce("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=OSe),Ut.init(e,t)}),dEe=ce("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=p4(n))}else t.pattern??(t.pattern=p4());Ut.init(e,t)}),fEe=ce("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=DSe),Ut.init(e,t)}),hEe=ce("$ZodURL",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),a=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=a.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),pEe=ce("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=ISe()),Ut.init(e,t)}),mEe=ce("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=PSe),Ut.init(e,t)}),vEe=ce("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=ESe),Ut.init(e,t)}),gEe=ce("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=CSe),Ut.init(e,t)}),xEe=ce("$ZodULID",(e,t)=>{t.pattern??(t.pattern=TSe),Ut.init(e,t)}),yEe=ce("$ZodXID",(e,t)=>{t.pattern??(t.pattern=ASe),Ut.init(e,t)}),bEe=ce("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=jSe),Ut.init(e,t)}),wEe=ce("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=WSe(t)),Ut.init(e,t)}),_Ee=ce("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=USe),Ut.init(e,t)}),kEe=ce("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=VSe(t)),Ut.init(e,t)}),SEe=ce("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=NSe),Ut.init(e,t)}),EEe=ce("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=RSe),Ut.init(e,t),e._zod.bag.format="ipv4"}),CEe=ce("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=FSe),Ut.init(e,t),e._zod.bag.format="ipv6",e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),TEe=ce("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=LSe),Ut.init(e,t)}),AEe=ce("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=$Se),Ut.init(e,t),e._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[a,s]=n;if(!s)throw new Error;const i=Number(s);if(`${i}`!==s)throw new Error;if(i<0||i>128)throw new Error;new URL(`http://[${a}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function n9(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jEe=ce("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=BSe),Ut.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=r=>{n9(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function PEe(e){if(!ZB.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return n9(r)}const NEe=ce("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=ZB),Ut.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=r=>{PEe(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),OEe=ce("$ZodE164",(e,t)=>{t.pattern??(t.pattern=zSe),Ut.init(e,t)});function DEe(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const a=JSON.parse(atob(n));return!("typ"in a&&(a==null?void 0:a.typ)!=="JWT"||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}}const MEe=ce("$ZodJWT",(e,t)=>{Ut.init(e,t),e._zod.check=r=>{DEe(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),a9=ce("$ZodNumber",(e,t)=>{Nr.init(e,t),e._zod.pattern=e._zod.bag.pattern??GSe,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const a=r.value;if(typeof a=="number"&&!Number.isNaN(a)&&Number.isFinite(a))return r;const s=typeof a=="number"?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...s?{received:s}:{}}),r}}),IEe=ce("$ZodNumberFormat",(e,t)=>{ZSe.init(e,t),a9.init(e,t)}),REe=ce("$ZodUnknown",(e,t)=>{Nr.init(e,t),e._zod.parse=r=>r}),FEe=ce("$ZodNever",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function m4(e,t,r){e.issues.length&&t.issues.push(...GB(r,e.issues)),t.value[r]=e.value}const LEe=ce("$ZodArray",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const s=[];for(let i=0;i<a.length;i++){const o=a[i],l=t.element._zod.run({value:o,issues:[]},n);l instanceof Promise?s.push(l.then(c=>m4(c,r,i))):m4(l,r,i)}return s.length?Promise.all(s).then(()=>r):r}});function pg(e,t,r,n){e.issues.length&&t.issues.push(...GB(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}function s9(e){var n,a,s,i;const t=Object.keys(e.shape);for(const o of t)if(!((i=(s=(a=(n=e.shape)==null?void 0:n[o])==null?void 0:a._zod)==null?void 0:s.traits)!=null&&i.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const r=aSe(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function i9(e,t,r,n,a,s){const i=[],o=a.keySet,l=a.catchall._zod,c=l.def.type;for(const u in t){if(o.has(u))continue;if(c==="never"){i.push(u);continue}const f=l.run({value:t[u],issues:[]},n);f instanceof Promise?e.push(f.then(h=>pg(h,r,u,t))):pg(f,r,u,t)}return i.length&&r.issues.push({code:"unrecognized_keys",keys:i,input:t,inst:s}),e.length?Promise.all(e).then(()=>r):r}const $Ee=ce("$ZodObject",(e,t)=>{Nr.init(e,t);const r=Object.getOwnPropertyDescriptor(t,"shape");if(!(r!=null&&r.get)){const o=t.shape;Object.defineProperty(t,"shape",{get:()=>{const l={...o};return Object.defineProperty(t,"shape",{value:l}),l}})}const n=nC(()=>s9(t));St(e._zod,"propValues",()=>{const o=t.shape,l={};for(const c in o){const u=o[c]._zod;if(u.values){l[c]??(l[c]=new Set);for(const f of u.values)l[c].add(f)}}return l});const a=hg,s=t.catchall;let i;e._zod.parse=(o,l)=>{i??(i=n.value);const c=o.value;if(!a(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:e}),o;o.value={};const u=[],f=i.shape;for(const h of i.keys){const m=f[h]._zod.run({value:c[h],issues:[]},l);m instanceof Promise?u.push(m.then(v=>pg(v,o,h,c))):pg(m,o,h,c)}return s?i9(u,c,o,l,n.value,e):u.length?Promise.all(u).then(()=>o):o}}),BEe=ce("$ZodObjectJIT",(e,t)=>{$Ee.init(e,t);const r=e._zod.parse,n=nC(()=>s9(t)),a=h=>{const p=new lEe(["shape","payload","ctx"]),m=n.value,v=y=>{const _=h4(y);return`shape[${_}]._zod.run({ value: input[${_}], issues: [] }, ctx)`};p.write("const input = payload.value;");const g=Object.create(null);let x=0;for(const y of m.keys)g[y]=`key_${x++}`;p.write("const newResult = {};");for(const y of m.keys){const _=g[y],S=h4(y);p.write(`const ${_} = ${v(y)};`),p.write(`
        if (${_}.issues.length) {
          payload.issues = payload.issues.concat(${_}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${S}, ...iss.path] : [${S}]
          })));
        }
        
        
        if (${_}.value === undefined) {
          if (${S} in input) {
            newResult[${S}] = undefined;
          }
        } else {
          newResult[${S}] = ${_}.value;
        }
        
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const b=p.compile();return(y,_)=>b(h,y,_)};let s;const i=hg,o=!WB.jitless,c=o&&rSe.value,u=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=n.value);const m=h.value;return i(m)?o&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=a(t.shape)),h=s(h,p),u?i9([],m,h,p,f,e):h):r(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function v4(e,t,r,n){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const a=e.filter(s=>!nu(s));return a.length===1?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(s=>s.issues.map(i=>sc(i,n,ac())))}),t)}const zEe=ce("$ZodUnion",(e,t)=>{Nr.init(e,t),St(e._zod,"optin",()=>t.options.some(a=>a._zod.optin==="optional")?"optional":void 0),St(e._zod,"optout",()=>t.options.some(a=>a._zod.optout==="optional")?"optional":void 0),St(e._zod,"values",()=>{if(t.options.every(a=>a._zod.values))return new Set(t.options.flatMap(a=>Array.from(a._zod.values)))}),St(e._zod,"pattern",()=>{if(t.options.every(a=>a._zod.pattern)){const a=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${a.map(s=>sC(s.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(a,s)=>{if(r)return n(a,s);let i=!1;const o=[];for(const l of t.options){const c=l._zod.run({value:a.value,issues:[]},s);if(c instanceof Promise)o.push(c),i=!0;else{if(c.issues.length===0)return c;o.push(c)}}return i?Promise.all(o).then(l=>v4(l,a,e,s)):v4(o,a,e,s)}}),UEe=ce("$ZodIntersection",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{const a=r.value,s=t.left._zod.run({value:a,issues:[]},n),i=t.right._zod.run({value:a,issues:[]},n);return s instanceof Promise||i instanceof Promise?Promise.all([s,i]).then(([l,c])=>g4(r,l,c)):g4(r,s,i)}});function A2(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(T0(e)&&T0(t)){const r=Object.keys(t),n=Object.keys(e).filter(s=>r.indexOf(s)!==-1),a={...e,...t};for(const s of n){const i=A2(e[s],t[s]);if(!i.valid)return{valid:!1,mergeErrorPath:[s,...i.mergeErrorPath]};a[s]=i.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const a=e[n],s=t[n],i=A2(a,s);if(!i.valid)return{valid:!1,mergeErrorPath:[n,...i.mergeErrorPath]};r.push(i.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function g4(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),nu(e))return e;const n=A2(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const VEe=ce("$ZodEnum",(e,t)=>{Nr.init(e,t);const r=Qke(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(a=>nSe.has(typeof a)).map(a=>typeof a=="string"?ty(a):a.toString()).join("|")})$`),e._zod.parse=(a,s)=>{const i=a.value;return n.has(i)||a.issues.push({code:"invalid_value",values:r,input:i,inst:e}),a}}),WEe=ce("$ZodTransform",(e,t)=>{Nr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new VB(e.constructor.name);const a=t.transform(r.value,r);if(n.async)return(a instanceof Promise?a:Promise.resolve(a)).then(i=>(r.value=i,r));if(a instanceof Promise)throw new ku;return r.value=a,r}});function x4(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const HEe=ce("$ZodOptional",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",e._zod.optout="optional",St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${sC(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>x4(s,r.value)):x4(a,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),KEe=ce("$ZodNullable",(e,t)=>{Nr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${sC(r.source)}|null)$`):void 0}),St(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),GEe=ce("$ZodDefault",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);if(r.value===void 0)return r.value=t.defaultValue,r;const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>y4(s,t)):y4(a,t)}});function y4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const qEe=ce("$ZodPrefault",(e,t)=>{Nr.init(e,t),e._zod.optin="optional",St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),YEe=ce("$ZodNonOptional",(e,t)=>{Nr.init(e,t),St(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>b4(s,e)):b4(a,e)}});function b4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const XEe=ce("$ZodCatch",(e,t)=>{Nr.init(e,t),St(e._zod,"optin",()=>t.innerType._zod.optin),St(e._zod,"optout",()=>t.innerType._zod.optout),St(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(s=>(r.value=s.value,s.issues.length&&(r.value=t.catchValue({...r,error:{issues:s.issues.map(i=>sc(i,n,ac()))},input:r.value}),r.issues=[]),r)):(r.value=a.value,a.issues.length&&(r.value=t.catchValue({...r,error:{issues:a.issues.map(s=>sc(s,n,ac()))},input:r.value}),r.issues=[]),r)}}),ZEe=ce("$ZodPipe",(e,t)=>{Nr.init(e,t),St(e._zod,"values",()=>t.in._zod.values),St(e._zod,"optin",()=>t.in._zod.optin),St(e._zod,"optout",()=>t.out._zod.optout),St(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{if(n.direction==="backward"){const s=t.out._zod.run(r,n);return s instanceof Promise?s.then(i=>Vp(i,t.in,n)):Vp(s,t.in,n)}const a=t.in._zod.run(r,n);return a instanceof Promise?a.then(s=>Vp(s,t.out,n)):Vp(a,t.out,n)}});function Vp(e,t,r){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},r)}const JEe=ce("$ZodReadonly",(e,t)=>{Nr.init(e,t),St(e._zod,"propValues",()=>t.innerType._zod.propValues),St(e._zod,"values",()=>t.innerType._zod.values),St(e._zod,"optin",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optin}),St(e._zod,"optout",()=>{var r,n;return(n=(r=t.innerType)==null?void 0:r._zod)==null?void 0:n.optout}),e._zod.parse=(r,n)=>{if(n.direction==="backward")return t.innerType._zod.run(r,n);const a=t.innerType._zod.run(r,n);return a instanceof Promise?a.then(w4):w4(a)}});function w4(e){return e.value=Object.freeze(e.value),e}const QEe=ce("$ZodCustom",(e,t)=>{fa.init(e,t),Nr.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,a=t.fn(n);if(a instanceof Promise)return a.then(s=>_4(s,r,n,e));_4(a,r,n,e)}});function _4(e,t,r,n){if(!e){const a={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(a.params=n._zod.def.params),t.issues.push(A0(a))}}var k4;class eCe{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const a={...n,...this._map.get(t)};return Object.keys(a).length?a:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function tCe(){return new eCe}(k4=globalThis).__zod_globalRegistry??(k4.__zod_globalRegistry=tCe());const Wp=globalThis.__zod_globalRegistry;function rCe(e,t){return new e({type:"string",...De(t)})}function nCe(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...De(t)})}function S4(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...De(t)})}function aCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...De(t)})}function sCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(t)})}function iCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(t)})}function oCe(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(t)})}function lCe(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...De(t)})}function cCe(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...De(t)})}function uCe(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(t)})}function dCe(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...De(t)})}function fCe(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(t)})}function hCe(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...De(t)})}function pCe(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...De(t)})}function mCe(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(t)})}function vCe(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(t)})}function gCe(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(t)})}function xCe(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(t)})}function yCe(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(t)})}function bCe(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...De(t)})}function wCe(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...De(t)})}function _Ce(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...De(t)})}function kCe(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...De(t)})}function SCe(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(t)})}function ECe(e,t){return new e({type:"string",format:"date",check:"string_format",...De(t)})}function CCe(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...De(t)})}function TCe(e,t){return new e({type:"string",format:"duration",check:"string_format",...De(t)})}function ACe(e,t){return new e({type:"number",checks:[],...De(t)})}function jCe(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...De(t)})}function PCe(e){return new e({type:"unknown"})}function NCe(e,t){return new e({type:"never",...De(t)})}function E4(e,t){return new t9({check:"less_than",...De(t),value:e,inclusive:!1})}function R1(e,t){return new t9({check:"less_than",...De(t),value:e,inclusive:!0})}function C4(e,t){return new r9({check:"greater_than",...De(t),value:e,inclusive:!1})}function F1(e,t){return new r9({check:"greater_than",...De(t),value:e,inclusive:!0})}function T4(e,t){return new XSe({check:"multiple_of",...De(t),value:e})}function o9(e,t){return new JSe({check:"max_length",...De(t),maximum:e})}function mg(e,t){return new QSe({check:"min_length",...De(t),minimum:e})}function l9(e,t){return new eEe({check:"length_equals",...De(t),length:e})}function OCe(e,t){return new tEe({check:"string_format",format:"regex",...De(t),pattern:e})}function DCe(e){return new rEe({check:"string_format",format:"lowercase",...De(e)})}function MCe(e){return new nEe({check:"string_format",format:"uppercase",...De(e)})}function ICe(e,t){return new aEe({check:"string_format",format:"includes",...De(t),includes:e})}function RCe(e,t){return new sEe({check:"string_format",format:"starts_with",...De(t),prefix:e})}function FCe(e,t){return new iEe({check:"string_format",format:"ends_with",...De(t),suffix:e})}function hd(e){return new oEe({check:"overwrite",tx:e})}function LCe(e){return hd(t=>t.normalize(e))}function $Ce(){return hd(e=>e.trim())}function BCe(){return hd(e=>e.toLowerCase())}function zCe(){return hd(e=>e.toUpperCase())}function UCe(){return hd(e=>tSe(e))}function VCe(e,t,r){return new e({type:"array",element:t,...De(r)})}function WCe(e,t,r){return new e({type:"custom",check:"custom",fn:t,...De(r)})}function HCe(e){const t=KCe(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(A0(n,r.value,t._zod.def));else{const a=n;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),a.continue??(a.continue=!t._zod.def.abort),r.issues.push(A0(a))}},e(r.value,r)));return t}function KCe(e,t){const r=new fa({check:"custom",...De(t)});return r._zod.check=e,r}const GCe=ce("ZodISODateTime",(e,t)=>{wEe.init(e,t),rr.init(e,t)});function qCe(e){return SCe(GCe,e)}const YCe=ce("ZodISODate",(e,t)=>{_Ee.init(e,t),rr.init(e,t)});function XCe(e){return ECe(YCe,e)}const ZCe=ce("ZodISOTime",(e,t)=>{kEe.init(e,t),rr.init(e,t)});function JCe(e){return CCe(ZCe,e)}const QCe=ce("ZodISODuration",(e,t)=>{SEe.init(e,t),rr.init(e,t)});function eTe(e){return TCe(QCe,e)}const tTe=(e,t)=>{YB.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>pSe(e,r)},flatten:{value:r=>hSe(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,T2,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,T2,2)}},isEmpty:{get(){return e.issues.length===0}}})},es=ce("ZodError",tTe,{Parent:Error}),rTe=oC(es),nTe=lC(es),aTe=ry(es),sTe=ny(es),iTe=gSe(es),oTe=xSe(es),lTe=ySe(es),cTe=bSe(es),uTe=wSe(es),dTe=_Se(es),fTe=kSe(es),hTe=SSe(es),Hr=ce("ZodType",(e,t)=>(Nr.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone(bc(t,{checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]})),e.clone=(r,n)=>rl(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>rTe(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>aTe(e,r,n),e.parseAsync=async(r,n)=>nTe(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>sTe(e,r,n),e.spa=e.safeParseAsync,e.encode=(r,n)=>iTe(e,r,n),e.decode=(r,n)=>oTe(e,r,n),e.encodeAsync=async(r,n)=>lTe(e,r,n),e.decodeAsync=async(r,n)=>cTe(e,r,n),e.safeEncode=(r,n)=>uTe(e,r,n),e.safeDecode=(r,n)=>dTe(e,r,n),e.safeEncodeAsync=async(r,n)=>fTe(e,r,n),e.safeDecodeAsync=async(r,n)=>hTe(e,r,n),e.refine=(r,n)=>e.check(aAe(r,n)),e.superRefine=r=>e.check(sAe(r)),e.overwrite=r=>e.check(hd(r)),e.optional=()=>N4(e),e.nullable=()=>O4(e),e.nullish=()=>N4(O4(e)),e.nonoptional=r=>ZTe(e,r),e.array=()=>LTe(e),e.or=r=>d9([e,r]),e.and=r=>VTe(e,r),e.transform=r=>D4(e,HTe(r)),e.default=r=>qTe(e,r),e.prefault=r=>XTe(e,r),e.catch=r=>QTe(e,r),e.pipe=r=>D4(e,r),e.readonly=()=>rAe(e),e.describe=r=>{const n=e.clone();return Wp.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Wp.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Wp.get(e);const n=e.clone();return Wp.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),c9=ce("_ZodString",(e,t)=>{cC.init(e,t),Hr.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(OCe(...n)),e.includes=(...n)=>e.check(ICe(...n)),e.startsWith=(...n)=>e.check(RCe(...n)),e.endsWith=(...n)=>e.check(FCe(...n)),e.min=(...n)=>e.check(mg(...n)),e.max=(...n)=>e.check(o9(...n)),e.length=(...n)=>e.check(l9(...n)),e.nonempty=(...n)=>e.check(mg(1,...n)),e.lowercase=n=>e.check(DCe(n)),e.uppercase=n=>e.check(MCe(n)),e.trim=()=>e.check($Ce()),e.normalize=(...n)=>e.check(LCe(...n)),e.toLowerCase=()=>e.check(BCe()),e.toUpperCase=()=>e.check(zCe()),e.slugify=()=>e.check(UCe())}),pTe=ce("ZodString",(e,t)=>{cC.init(e,t),c9.init(e,t),e.email=r=>e.check(nCe(mTe,r)),e.url=r=>e.check(lCe(vTe,r)),e.jwt=r=>e.check(kCe(NTe,r)),e.emoji=r=>e.check(cCe(gTe,r)),e.guid=r=>e.check(S4(A4,r)),e.uuid=r=>e.check(aCe(Hp,r)),e.uuidv4=r=>e.check(sCe(Hp,r)),e.uuidv6=r=>e.check(iCe(Hp,r)),e.uuidv7=r=>e.check(oCe(Hp,r)),e.nanoid=r=>e.check(uCe(xTe,r)),e.guid=r=>e.check(S4(A4,r)),e.cuid=r=>e.check(dCe(yTe,r)),e.cuid2=r=>e.check(fCe(bTe,r)),e.ulid=r=>e.check(hCe(wTe,r)),e.base64=r=>e.check(bCe(ATe,r)),e.base64url=r=>e.check(wCe(jTe,r)),e.xid=r=>e.check(pCe(_Te,r)),e.ksuid=r=>e.check(mCe(kTe,r)),e.ipv4=r=>e.check(vCe(STe,r)),e.ipv6=r=>e.check(gCe(ETe,r)),e.cidrv4=r=>e.check(xCe(CTe,r)),e.cidrv6=r=>e.check(yCe(TTe,r)),e.e164=r=>e.check(_Ce(PTe,r)),e.datetime=r=>e.check(qCe(r)),e.date=r=>e.check(XCe(r)),e.time=r=>e.check(JCe(r)),e.duration=r=>e.check(eTe(r))});function Kt(e){return rCe(pTe,e)}const rr=ce("ZodStringFormat",(e,t)=>{Ut.init(e,t),c9.init(e,t)}),mTe=ce("ZodEmail",(e,t)=>{fEe.init(e,t),rr.init(e,t)}),A4=ce("ZodGUID",(e,t)=>{uEe.init(e,t),rr.init(e,t)}),Hp=ce("ZodUUID",(e,t)=>{dEe.init(e,t),rr.init(e,t)}),vTe=ce("ZodURL",(e,t)=>{hEe.init(e,t),rr.init(e,t)}),gTe=ce("ZodEmoji",(e,t)=>{pEe.init(e,t),rr.init(e,t)}),xTe=ce("ZodNanoID",(e,t)=>{mEe.init(e,t),rr.init(e,t)}),yTe=ce("ZodCUID",(e,t)=>{vEe.init(e,t),rr.init(e,t)}),bTe=ce("ZodCUID2",(e,t)=>{gEe.init(e,t),rr.init(e,t)}),wTe=ce("ZodULID",(e,t)=>{xEe.init(e,t),rr.init(e,t)}),_Te=ce("ZodXID",(e,t)=>{yEe.init(e,t),rr.init(e,t)}),kTe=ce("ZodKSUID",(e,t)=>{bEe.init(e,t),rr.init(e,t)}),STe=ce("ZodIPv4",(e,t)=>{EEe.init(e,t),rr.init(e,t)}),ETe=ce("ZodIPv6",(e,t)=>{CEe.init(e,t),rr.init(e,t)}),CTe=ce("ZodCIDRv4",(e,t)=>{TEe.init(e,t),rr.init(e,t)}),TTe=ce("ZodCIDRv6",(e,t)=>{AEe.init(e,t),rr.init(e,t)}),ATe=ce("ZodBase64",(e,t)=>{jEe.init(e,t),rr.init(e,t)}),jTe=ce("ZodBase64URL",(e,t)=>{NEe.init(e,t),rr.init(e,t)}),PTe=ce("ZodE164",(e,t)=>{OEe.init(e,t),rr.init(e,t)}),NTe=ce("ZodJWT",(e,t)=>{MEe.init(e,t),rr.init(e,t)}),u9=ce("ZodNumber",(e,t)=>{a9.init(e,t),Hr.init(e,t),e.gt=(n,a)=>e.check(C4(n,a)),e.gte=(n,a)=>e.check(F1(n,a)),e.min=(n,a)=>e.check(F1(n,a)),e.lt=(n,a)=>e.check(E4(n,a)),e.lte=(n,a)=>e.check(R1(n,a)),e.max=(n,a)=>e.check(R1(n,a)),e.int=n=>e.check(j4(n)),e.safe=n=>e.check(j4(n)),e.positive=n=>e.check(C4(0,n)),e.nonnegative=n=>e.check(F1(0,n)),e.negative=n=>e.check(E4(0,n)),e.nonpositive=n=>e.check(R1(0,n)),e.multipleOf=(n,a)=>e.check(T4(n,a)),e.step=(n,a)=>e.check(T4(n,a)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function OTe(e){return ACe(u9,e)}const DTe=ce("ZodNumberFormat",(e,t)=>{IEe.init(e,t),u9.init(e,t)});function j4(e){return jCe(DTe,e)}const MTe=ce("ZodUnknown",(e,t)=>{REe.init(e,t),Hr.init(e,t)});function P4(){return PCe(MTe)}const ITe=ce("ZodNever",(e,t)=>{FEe.init(e,t),Hr.init(e,t)});function RTe(e){return NCe(ITe,e)}const FTe=ce("ZodArray",(e,t)=>{LEe.init(e,t),Hr.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(mg(r,n)),e.nonempty=r=>e.check(mg(1,r)),e.max=(r,n)=>e.check(o9(r,n)),e.length=(r,n)=>e.check(l9(r,n)),e.unwrap=()=>e.element});function LTe(e,t){return VCe(FTe,e,t)}const $Te=ce("ZodObject",(e,t)=>{BEe.init(e,t),Hr.init(e,t),St(e,"shape",()=>t.shape),e.keyof=()=>xm(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:P4()}),e.loose=()=>e.clone({...e._zod.def,catchall:P4()}),e.strict=()=>e.clone({...e._zod.def,catchall:RTe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>lSe(e,r),e.safeExtend=r=>cSe(e,r),e.merge=r=>uSe(e,r),e.pick=r=>iSe(e,r),e.omit=r=>oSe(e,r),e.partial=(...r)=>dSe(f9,e,r[0]),e.required=(...r)=>fSe(h9,e,r[0])});function BTe(e,t){const r={type:"object",shape:e??{},...De(t)};return new $Te(r)}const zTe=ce("ZodUnion",(e,t)=>{zEe.init(e,t),Hr.init(e,t),e.options=t.options});function d9(e,t){return new zTe({type:"union",options:e,...De(t)})}const UTe=ce("ZodIntersection",(e,t)=>{UEe.init(e,t),Hr.init(e,t)});function VTe(e,t){return new UTe({type:"intersection",left:e,right:t})}const j2=ce("ZodEnum",(e,t)=>{VEe.init(e,t),Hr.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,a)=>{const s={};for(const i of n)if(r.has(i))s[i]=t.entries[i];else throw new Error(`Key ${i} not found in enum`);return new j2({...t,checks:[],...De(a),entries:s})},e.exclude=(n,a)=>{const s={...t.entries};for(const i of n)if(r.has(i))delete s[i];else throw new Error(`Key ${i} not found in enum`);return new j2({...t,checks:[],...De(a),entries:s})}});function xm(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new j2({type:"enum",entries:r,...De(t)})}const WTe=ce("ZodTransform",(e,t)=>{WEe.init(e,t),Hr.init(e,t),e._zod.parse=(r,n)=>{if(n.direction==="backward")throw new VB(e.constructor.name);r.addIssue=s=>{if(typeof s=="string")r.issues.push(A0(s,r.value,t));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),r.issues.push(A0(i))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(s=>(r.value=s,r)):(r.value=a,r)}});function HTe(e){return new WTe({type:"transform",transform:e})}const f9=ce("ZodOptional",(e,t)=>{HEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function N4(e){return new f9({type:"optional",innerType:e})}const KTe=ce("ZodNullable",(e,t)=>{KEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function O4(e){return new KTe({type:"nullable",innerType:e})}const GTe=ce("ZodDefault",(e,t)=>{GEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function qTe(e,t){return new GTe({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():KB(t)}})}const YTe=ce("ZodPrefault",(e,t)=>{qEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function XTe(e,t){return new YTe({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():KB(t)}})}const h9=ce("ZodNonOptional",(e,t)=>{YEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ZTe(e,t){return new h9({type:"nonoptional",innerType:e,...De(t)})}const JTe=ce("ZodCatch",(e,t)=>{XEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function QTe(e,t){return new JTe({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const eAe=ce("ZodPipe",(e,t)=>{ZEe.init(e,t),Hr.init(e,t),e.in=t.in,e.out=t.out});function D4(e,t){return new eAe({type:"pipe",in:e,out:t})}const tAe=ce("ZodReadonly",(e,t)=>{JEe.init(e,t),Hr.init(e,t),e.unwrap=()=>e._zod.def.innerType});function rAe(e){return new tAe({type:"readonly",innerType:e})}const nAe=ce("ZodCustom",(e,t)=>{QEe.init(e,t),Hr.init(e,t)});function aAe(e,t={}){return WCe(nAe,e,t)}function sAe(e){return HCe(e)}const p9=BTe({bu:xm(["B2C","B2B2C","Plurix","Bem Barato"]),segmento:Kt().min(1,"Segmento  obrigatrio"),jornada:Kt().min(5,"Mnimo 5 caracteres").max(250,"Mximo 250 caracteres"),activityName:Kt().min(2,"Mnimo 2 caracteres").max(250,"Mximo 250 caracteres"),dataInicio:Kt().refine(e=>new Date(e)>=new Date(new Date().setHours(0,0,0,0)),"No pode ser data passada"),dataFim:Kt(),horarioDisparo:Kt().regex(/^\d{2}:\d{2}$/,"Formato: HH:MM"),canal:xm(["E-mail","Push","SMS","WhatsApp"]),safra:Kt().optional(),ordemDisparo:d9([Kt(),OTe()]).optional(),perfilCredito:Kt().optional(),oferta:Kt().optional(),promocional:Kt().optional(),oferta2:Kt().optional(),promocional2:Kt().optional(),parceiro:Kt().optional(),subgrupo:Kt().optional(),etapaAquisicao:Kt().optional(),produto:Kt().optional(),baseVolume:Kt().optional(),custoUnitarioOferta:Kt().optional(),custoTotalOferta:Kt().optional(),custoUnitarioCanal:Kt().optional(),custoTotalCanal:Kt().optional(),custoTotalCampanha:Kt().optional(),status:xm(["Rascunho","Scheduled","Enviado","Realizado"]).default("Rascunho")}).refine(e=>new Date(e.dataFim)>=new Date(e.dataInicio),{message:"Data Fim  Data Incio",path:["dataFim"]}).refine(e=>e.oferta||e.promocional,{message:"Selecione pelo menos Oferta OU Promocional",path:["oferta"]}),iAe=async(e,t)=>{var l;const r=p9.parse(e),{data:n}=await ut.from("activities").select('"Ordem de disparo"').eq("Segmento",t).order("Ordem de disparo",{ascending:!1}).limit(1),a=(((l=n==null?void 0:n[0])==null?void 0:l["Ordem de disparo"])||0)+1,s={prog_gaas:!0,status:r.status,BU:r.bu,jornada:r.jornada,"Activity name / Taxonomia":r.activityName,"Data de Disparo":r.dataInicio,"Data Fim":r.dataFim,Segmento:t,"Perfil de Crdito":r.perfilCredito||null,Oferta:r.oferta||null,Promocional:r.promocional||null,"Oferta 2":r.oferta2||null,"Promocional 2":r.promocional2||null,Parceiro:r.parceiro||null,Subgrupos:r.subgrupo||null,"Etapa de aquisio":r.etapaAquisicao||null,Produto:r.produto||null,"Base Total":Number(r.baseVolume)||null,"Ordem de disparo":r.ordemDisparo==="Pontual"?1:Number(r.ordemDisparo)||a,"Horrio de Disparo":r.horarioDisparo||"10:00",updated_at:new Date().toISOString()},{data:i,error:o}=await ut.from("activities").insert(s).select().single();if(o)throw o;return i},uC=async(e,t)=>{const{data:r,error:n}=await ut.from("activities").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},oAe=async e=>{const{error:t}=await ut.from("activities").delete().eq("id",e);if(t)throw t},lAe=async e=>uC(e,{status:"Scheduled"}),cAe=async e=>uC(e,{status:"Scheduled"}),uAe=async()=>{const{data:e,error:t}=await ut.from("activities").select("*").order("Data de Disparo",{ascending:!1}).limit(1e4);if(t)throw t;return e||[]},m9=async e=>{const{error:t}=await ut.from("activities").delete().eq("prog_gaas",!1);if(t)throw console.error("Erro ao limpar dados antigos:",t),new Error("Falha ao limpar histrico antigo.");if(e.length===0)return;const r=e.map(a=>{var i,o,l,c,u,f,h,p,m,v,g,x,b,y,_,S,k,E,C,T,A,N,j,P,R,B,q,K,X,I,J,Z,M,z,G,H,Q,oe,le,Y,te,ue,D,Ne,me,ye;const s=fe=>{if(typeof fe=="number")return fe;if(!fe)return 0;let de=String(fe).replace(/[R$\s%]/g,"");return de.includes(",")&&de.includes(".")?de=de.replace(/\./g,"").replace(",","."):de.includes(",")&&(de=de.replace(",",".")),parseFloat(de)||0};return{prog_gaas:!1,status:"Realizado","Activity name / Taxonomia":a.id||((i=a.raw)==null?void 0:i["Activity name / Taxonomia"]),"Data de Disparo":a.dataDisparo?new Date(a.dataDisparo).toISOString():null,"Data Fim":(o=a.raw)!=null&&o["Data Fim"]?new Date(a.raw["Data Fim"]).toISOString():null,BU:a.bu,Canal:a.canal,Safra:a.safraKey||((l=a.raw)==null?void 0:l.Safra),Parceiro:a.parceiro,SIGLA_Parceiro:(c=a.raw)==null?void 0:c.SIGLA,Segmento:a.segmento,SIGLA_Segmento:(u=a.raw)==null?void 0:u["SIGLA.1"],Subgrupos:(f=a.raw)==null?void 0:f.Subgrupos,"Etapa de aquisio":(h=a.raw)==null?void 0:h["Etapa de aquisio"],"Perfil de Crdito":(p=a.raw)==null?void 0:p["Perfil de Crdito"],Produto:(m=a.raw)==null?void 0:m.Produto,Oferta:a.oferta,Promocional:(v=a.raw)==null?void 0:v.Promocional,SIGLA_Oferta:(g=a.raw)==null?void 0:g["SIGLA.2"],"Oferta 2":(x=a.raw)==null?void 0:x["Oferta 2"],"Promocional 2":(b=a.raw)==null?void 0:b["Promocional 2"],"Ordem de disparo":typeof a.ordemDisparo=="number"?a.ordemDisparo:dAe((y=a.raw)==null?void 0:y["Ordem de disparo"]),"Base Total":((_=a.kpis)==null?void 0:_.baseEnviada)??s((S=a.raw)==null?void 0:S["Base Total"]),"Base Acionvel":((k=a.kpis)==null?void 0:k.baseEntregue)??s((E=a.raw)==null?void 0:E["Base Acionvel"]),"% Otimizao de base":s((C=a.raw)==null?void 0:C["% Otimizao de base"]),"Custo Unitrio Oferta":s((T=a.raw)==null?void 0:T["Custo Unitrio Oferta"]),"Custo Total da Oferta":s((A=a.raw)==null?void 0:A["Custo Total da Oferta"]),"Custo unitrio do canal":s((N=a.raw)==null?void 0:N["Custo unitrio do canal"]),"Custo total canal":s((j=a.raw)==null?void 0:j["Custo total canal"]),"Custo Total Campanha":((P=a.kpis)==null?void 0:P.custoTotal)??s((R=a.raw)==null?void 0:R["Custo Total Campanha"]),CAC:((B=a.kpis)==null?void 0:B.cac)??s((q=a.raw)==null?void 0:q.CAC),"Taxa de Entrega":((K=a.kpis)==null?void 0:K.taxaEntrega)??s((X=a.raw)==null?void 0:X["Taxa de Entrega"]),"Taxa de Abertura":((I=a.kpis)==null?void 0:I.taxaAbertura)??s((J=a.raw)==null?void 0:J["Taxa de Abertura"]),"Taxa de Clique":s((Z=a.raw)==null?void 0:Z["Taxa de Clique"]),"Taxa de Proposta":((M=a.kpis)==null?void 0:M.taxaPropostas)??s((z=a.raw)==null?void 0:z["Taxa de Proposta"]),"Taxa de Aprovao":((G=a.kpis)==null?void 0:G.taxaAprovacao)??s((H=a.raw)==null?void 0:H["Taxa de Aprovao"]),"Taxa de Finalizao":((Q=a.kpis)==null?void 0:Q.taxaFinalizacao)??s((oe=a.raw)==null?void 0:oe["Taxa de Finalizao"]),"Taxa de Converso":((le=a.kpis)==null?void 0:le.taxaConversao)??s((Y=a.raw)==null?void 0:Y["Taxa de Converso"]),"Cartes Gerados":((te=a.kpis)==null?void 0:te.cartoes)??s((ue=a.raw)==null?void 0:ue["Cartes Gerados"]),Aprovados:((D=a.kpis)==null?void 0:D.aprovados)??s((Ne=a.raw)==null?void 0:Ne.Aprovados),Propostas:((me=a.kpis)==null?void 0:me.propostas)??s((ye=a.raw)==null?void 0:ye.Propostas),"Emisses Independentes":0,"Emisses Assistidas":0}}),n=500;for(let a=0;a<r.length;a+=n){const s=r.slice(a,a+n),{error:i}=await ut.from("activities").insert(s);if(i)throw console.error("Erro inserindo lote:",i),new Error(`Erro ao sincronizar lote ${a/n+1}: ${i.message}`)}};function dAe(e){const t=parseInt(e);return isNaN(t)?null:t}const ym={saveActivity:iAe,updateActivity:uC,deleteActivity:oAe,publishActivity:lAe,confirmDraft:cAe,getAllActivities:uAe,syncFrameworkActivities:m9},Kp={async listVersions(){const{data:e,error:t}=await ut.from("framework_versions").select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async uploadVersion(e,t){const r=e.name.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-zA-Z0-9._-]/g,"_"),n=`framework_versions/${Date.now()}_${r}`,{error:a}=await ut.storage.from("app-data").upload(n,e);if(a)throw a;const{data:s,error:i}=await ut.from("framework_versions").insert({filename:e.name,storage_path:n,row_count:t,is_active:!1}).select().single();if(i)throw i;return s},async activateVersion(e,t){await ut.from("framework_versions").update({is_active:!1}).neq("id","00000000-0000-0000-0000-000000000000"),await ut.from("framework_versions").update({is_active:!0}).eq("id",e),await m9(t)},async deleteVersion(e,t){const{error:r}=await ut.from("framework_versions").delete().eq("id",e);if(r)throw r;t&&await ut.storage.from("app-data").remove([t])}},dC=e=>{const t={id:e.id,"Activity name / Taxonomia":e["Activity name / Taxonomia"],"Data de Disparo":e["Data de Disparo"],"Data Fim":e["Data Fim"],BU:e.BU,Canal:e.Canal,Segmento:e.Segmento,"SIGLA.1":e.SIGLA_Segmento,Subgrupos:e.Subgrupos,Jornada:e.jornada,"Etapa de aquisio":e["Etapa de aquisio"],"Ordem de disparo":e["Ordem de disparo"],Parceiro:e.Parceiro,SIGLA:e.SIGLA_Parceiro,Safra:e.Safra,"Perfil de Crdito":e["Perfil de Crdito"],Produto:e.Produto,Oferta:e.Oferta,"SIGLA.2":e.SIGLA_Oferta,"Oferta 2":e["Oferta 2"],Promocional:e.Promocional,"Promocional 2":e["Promocional 2"],"Disparado?":e.status==="Realizado"?"Sim":"No","Base Total":e["Base Total"],"Base Acionvel":e["Base Acionvel"],"% Otimizao de base":e["% Otimizao de base"],"Base Enviada":e["Base Total"],"Custo Unitrio Oferta":e["Custo Unitrio Oferta"],"Custo Total da Oferta":e["Custo Total da Oferta"],"Custo unitrio do canal":e["Custo unitrio do canal"],"Custo total canal":e["Custo total canal"],"Custo Total Campanha":e["Custo Total Campanha"],"Taxa de Entrega":e["Taxa de Entrega"],"Taxa de Abertura":e["Taxa de Abertura"],"Taxa de Clique":e["Taxa de Clique"],"Taxa de Proposta":e["Taxa de Proposta"],"Taxa de Aprovao":e["Taxa de Aprovao"],"Taxa de Finalizao":e["Taxa de Finalizao"],"Taxa de Converso":e["Taxa de Converso"],Propostas:e.Propostas,Aprovados:e.Aprovados,"Cartes Gerados":e["Cartes Gerados"],CAC:e.CAC};return{id:e["Activity name / Taxonomia"]||e.id,dataDisparo:TE(e["Data de Disparo"])||new Date(e["Data de Disparo"]),canal:e.Canal,bu:e.BU,segmento:e.Segmento,parceiro:e.Parceiro,jornada:e.jornada,ordemDisparo:Number(e["Ordem de disparo"])||void 0,oferta:e.Oferta,promocional:e.Promocional,safraKey:e.Safra,status:e.status,kpis:{baseEnviada:e["Base Total"],baseEntregue:e["Base Acionvel"],taxaEntrega:e["Taxa de Entrega"],propostas:e.Propostas,taxaPropostas:e["Taxa de Proposta"],aprovados:e.Aprovados,taxaAprovacao:e["Taxa de Aprovao"],emissoes:e["Cartes Gerados"],taxaFinalizacao:e["Taxa de Finalizao"],taxaConversao:e["Taxa de Converso"],taxaAbertura:e["Taxa de Abertura"],cartoes:e["Cartes Gerados"],cac:e.CAC,custoTotal:e["Custo Total Campanha"]},raw:t}},P2={async fetchActivities(){const{data:e,error:t}=await ut.from("activities").select("*").order('"Data de Disparo"',{ascending:!1});if(t)throw t;return(e||[]).map(dC)},async fetchB2CMetrics(){const{data:e,error:t}=await ut.from("b2c_daily_metrics").select("*").order("data",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({data:r.data,propostas_b2c_total:r.propostas_total,emissoes_b2c_total:r.emissoes_total,percentual_conversao_b2c:r.percentual_conversao,observacoes:r.observacoes}))},async fetchPaidMedia(){const{data:e,error:t}=await ut.from("paid_media_metrics").select("*").order("date",{ascending:!1});if(t)throw t;return(e||[]).map(r=>({date:new Date(r.date),channel:r.channel,campaign:r.campaign,objective:r.objective,spend:r.spend,impressions:r.impressions,clicks:r.clicks,conversions:r.conversions,ctr:r.ctr,cpc:r.cpc,cpm:r.cpm,cpa:r.cpa}))},async fetchGoals(){const{data:e,error:t}=await ut.from("goals").select("*");if(t)throw t;return e||[]},async upsertGoal(e){const{error:t}=await ut.from("goals").upsert(e,{onConflict:"mes"});if(t)throw t},async upsertB2CMetrics(e){const t=e.map(n=>({data:n.data,propostas_total:n.propostas_b2c_total||0,emissoes_total:n.emissoes_b2c_total||0,percentual_conversao:n.percentual_conversao_b2c||0,observacoes:n.observacoes||null})),{error:r}=await ut.from("b2c_daily_metrics").upsert(t,{onConflict:"data"});if(r)throw r},async upsertPaidMedia(e){const t=e.map(n=>({date:ke(n.date,"yyyy-MM-dd"),channel:n.channel,campaign:n.campaign,objective:n.objective,spend:n.spend,impressions:n.impressions,clicks:n.clicks,conversions:n.conversions,ctr:n.ctr,cpc:n.cpc,cpm:n.cpm,cpa:n.cpa})),{error:r}=await ut.from("paid_media_metrics").upsert(t,{onConflict:"date, channel, campaign"});if(r)throw r}},v9=Object.freeze(Object.defineProperty({__proto__:null,dataService:P2,mapSqlToActivity:dC},Symbol.toStringTag,{value:"Module"})),fAe=()=>{const[e,t]=w.useState([]),[r,n]=w.useState(!1),[a,s]=w.useState(!1),[i,o]=w.useState(null),[l,c]=w.useState(null),{processCSV:u}=Xx();w.useEffect(()=>{f()},[]);const f=async()=>{n(!0);try{const v=await Kp.listVersions();t(v)}catch(v){console.error(v),c({type:"error",text:"Erro ao listar verses: "+v.message})}finally{n(!1)}},h=async v=>{var x;const g=(x=v.target.files)==null?void 0:x[0];if(g){s(!0),c(null);try{const y=(await u(g)).length;await Kp.uploadVersion(g,y),await f(),c({type:"success",text:"Verso enviada com sucesso! Clique em ativar para aplicar."})}catch(b){console.error(b),c({type:"error",text:"Falha no upload: "+b.message})}finally{s(!1)}}},p=async v=>{if(confirm(`Deseja ATIVAR a verso "${v.filename}"?

ISSO SUBSTITUIR TODOS OS DADOS ATUAIS DO FRAMEWORK NO BANCO DE DADOS.`)){o(v.id),c(null);try{const g=await vs.getDownloadUrl(v.storage_path),b=await(await fetch(g)).blob(),y=new File([b],v.filename,{type:b.type}),_=await u(y);await Kp.activateVersion(v.id,_),await f(),c({type:"success",text:`Verso "${v.filename}" ativada com sucesso!`})}catch(g){console.error(g),c({type:"error",text:"Erro na ativao: "+g.message})}finally{o(null)}}},m=async v=>{if(confirm("Excluir esta verso permanentemente?")){n(!0);try{await Kp.deleteVersion(v.id,v.storage_path),await f()}catch(g){c({type:"error",text:g.message})}finally{n(!1)}}};return d.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[d.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:d.jsx(Q_,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:"Verses do Framework"}),d.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:"CSV"})]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"file",accept:".csv",onChange:h,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:a}),d.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[a?d.jsx(Gs,{size:14,className:"animate-spin"}):d.jsx(Kf,{size:14}),a?"Enviando...":"Nova Verso"]})]})]}),d.jsx("div",{className:"p-2 max-h-64 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:r&&!e.length?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[d.jsx(Gs,{className:"animate-spin"}),d.jsx("span",{className:"text-xs",children:"Carregando verses..."})]}):e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[d.jsx(Kf,{size:24,className:"opacity-20"}),d.jsx("p",{className:"text-xs italic",children:"Nenhuma verso encontrada."}),(l==null?void 0:l.type)==="error"&&d.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:l.text})]}):d.jsx("div",{className:"space-y-1",children:e.map(v=>d.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg group transition-colors border ${v.is_active?"bg-emerald-500/10 border-emerald-500/30":"hover:bg-slate-700/30 border-transparent hover:border-slate-700"}`,children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx(Xm,{size:16,className:`${v.is_active?"text-emerald-400":"text-slate-500"} flex-shrink-0`}),d.jsxs("div",{className:"min-w-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:`text-sm font-medium truncate max-w-[220px] ${v.is_active?"text-emerald-300":"text-slate-300"}`,title:v.filename,children:v.filename}),v.is_active&&d.jsx("span",{className:"text-[10px] bg-emerald-500/20 text-emerald-400 px-1.5 py-0.5 rounded font-bold uppercase",children:"Ativo"})]}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[d.jsx("span",{children:new Date(v.created_at).toLocaleString("pt-BR")}),d.jsx("span",{children:""}),d.jsxs("span",{children:[v.row_count," linhas"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 group-hover:opacity-100 transition-all",children:[!v.is_active&&d.jsx("button",{onClick:()=>p(v),disabled:i===v.id,className:"px-2 py-1 text-[10px] bg-blue-500/10 text-blue-400 hover:bg-blue-500 hover:text-white rounded border border-blue-500/20 transition-colors uppercase font-bold tracking-wider",children:i===v.id?"Ativando...":"Ativar"}),d.jsx("button",{onClick:()=>m(v),className:"p-1.5 text-slate-500 hover:text-red-400 hover:bg-red-500/10 rounded transition-colors",title:"Excluir",children:d.jsx(Kl,{size:14})})]})]},v.id))})}),l&&d.jsxs("div",{className:`${l.type==="success"?"bg-emerald-500/10 text-emerald-400 border-emerald-500/20":"bg-red-500/10 text-red-400 border-red-500/20"} text-xs px-4 py-2 flex items-center gap-2 border-t`,children:[l.type==="success"?d.jsx(Zr,{size:12}):d.jsx(Es,{size:12}),l.text]})]})},M4=({title:e,slot:t,accept:r})=>{const[n,a]=w.useState([]),[s,i]=w.useState(!1),[o,l]=w.useState(!1),[c,u]=w.useState(!1),[f,h]=w.useState(null),{parseB2CCSV:p}=AE(),{setB2CData:m,setPaidMediaData:v}=mt();w.useEffect(()=>{g()},[]);const g=async()=>{var _,S;i(!0),h(null);try{const k=await vs.listFiles(t);a(k||[])}catch(k){console.error(k);let E=k.message;(S=(_=k.message)==null?void 0:_.includes)!=null&&S.call(_,"Bucket not found")&&(E='Bucket "app-data" no encontrado.'),h({type:"error",text:E})}finally{i(!1)}},x=async _=>{var k;const S=(k=_.target.files)==null?void 0:k[0];if(S){l(!0),h(null);try{await vs.uploadFile(t,S),await g(),h({type:"success",text:"Upload realizado com sucesso!"})}catch(E){console.error(" Erro durante upload:",E),h({type:"error",text:"Falha: "+E.message})}finally{l(!1)}}},b=async _=>{if(confirm("Tem certeza que deseja excluir este arquivo?")){i(!0);try{await vs.deleteFile(t+"/"+_),await g()}catch(S){alert(S.message)}finally{i(!1)}}},y=async _=>{u(!0),h(null);try{const S=t+"/"+_,k=await vs.getDownloadUrl(S),C=await(await fetch(k)).blob(),T=new File([C],_,{type:C.type});if(t==="b2c"){const{data:A}=await p(T);await P2.upsertB2CMetrics(A),m(A)}else if(t==="media"){const A=await rC(T);await P2.upsertPaidMedia(A),v(A)}h({type:"success",text:"Dados restaurados e salvos no banco com sucesso!"})}catch(S){console.error(" Erro ao restaurar:",S),h({type:"error",text:"Erro ao restaurar: "+S.message})}finally{u(!1)}};return d.jsxs("div",{className:"border border-slate-700/50 bg-slate-800/30 rounded-lg overflow-hidden backdrop-blur-sm transition-all hover:border-blue-500/30",children:[d.jsxs("div",{className:"bg-slate-800/50 p-4 flex justify-between items-center border-b border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-400",children:d.jsx(Q_,{size:18})}),d.jsxs("div",{children:[d.jsx("span",{className:"font-semibold text-slate-200 text-sm block",children:e}),d.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-wider font-bold",children:r.replace(/\./g,"").toUpperCase()})]})]}),d.jsxs("div",{className:"relative group",children:[d.jsx("input",{type:"file",accept:r,onChange:x,className:"absolute inset-0 opacity-0 cursor-pointer z-10",disabled:o}),d.jsxs("button",{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all shadow-lg shadow-blue-900/20 disabled:opacity-50 disabled:cursor-not-allowed group-hover:scale-105",children:[o?d.jsx(Gs,{size:14,className:"animate-spin"}):d.jsx(Kf,{size:14}),o?"Enviando...":"Novo Upload"]})]})]}),d.jsx("div",{className:"p-2 max-h-56 overflow-y-auto min-h-[120px] scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent",children:s&&!n.length?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2",children:[d.jsx(Gs,{className:"animate-spin"}),d.jsx("span",{className:"text-xs",children:"Carregando lista..."})]}):n.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-slate-500 gap-2 dashed-border",children:[d.jsx(Kf,{size:24,className:"opacity-20"}),d.jsx("p",{className:"text-xs italic",children:"Nenhum arquivo na nuvem."}),(f==null?void 0:f.type)==="error"&&d.jsx("p",{className:"text-[10px] text-red-400 bg-red-900/20 px-2 py-1 rounded max-w-[200px] text-center",children:f.text})]}):d.jsx("div",{className:"space-y-1",children:n.map(_=>{var S;return d.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-slate-700/30 rounded-lg group transition-colors border border-transparent hover:border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[d.jsx(Xm,{size:16,className:"text-slate-500 group-hover:text-blue-400 transition-colors flex-shrink-0"}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-slate-300 truncate max-w-[220px] group-hover:text-white transition-colors",title:_.name,children:_.name}),d.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-500",children:[d.jsx("span",{children:_.created_at&&!isNaN(new Date(_.created_at).getTime())?new Date(_.created_at).toLocaleString("pt-BR"):"-"}),d.jsx("span",{children:""}),d.jsxs("span",{children:[(((S=_.metadata)==null?void 0:S.size)/1024).toFixed(1)," KB"]})]})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-all transform translate-x-2 group-hover:translate-x-0",children:[d.jsx("button",{onClick:()=>y(_.name),disabled:c,className:"p-2 text-emerald-400 hover:bg-emerald-500/10 rounded-lg transition-colors tooltip-trigger",title:"Restaurar e Aplicar",children:d.jsx(NH,{size:16,className:c?"animate-spin":""})}),d.jsx("button",{onClick:()=>b(_.name),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Excluir Definitivamente",children:d.jsx(Kl,{size:16})})]})]},_.id)})})}),f&&f.type==="success"&&d.jsxs("div",{className:"bg-emerald-500/10 text-emerald-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-emerald-500/20",children:[d.jsx(Zr,{size:12}),f.text]}),f&&f.type==="error"&&n.length>0&&d.jsxs("div",{className:"bg-red-500/10 text-red-400 text-xs px-4 py-2 flex items-center gap-2 border-t border-red-500/20",children:[d.jsx(Es,{size:12}),f.text]})]})},hAe=()=>{var m;const{user:e,signInWithEmail:t,signOut:r,loading:n}=lk(),[a,s]=w.useState(""),[i,o]=w.useState(!1),[l,c]=w.useState(!1),[u,f]=w.useState(null),[h,p]=w.useState("goals");return n?d.jsx("div",{className:"h-full w-full flex items-center justify-center bg-slate-900",children:d.jsx(Gs,{className:"animate-spin text-blue-500 w-8 h-8"})}):e?d.jsx("div",{className:"min-h-full bg-slate-900 text-slate-200 p-8 space-y-8 animate-fade-in pb-24",children:d.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[d.jsx("div",{className:"flex justify-between items-end border-b border-slate-800 pb-6",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-bold text-white mb-2 tracking-tight",children:"Configuraes"}),d.jsx("p",{className:"text-slate-400 text-lg",children:"Central de controle e sincronizao."})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl backdrop-blur-sm",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:d.jsx(NI,{size:28})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h3",{className:"text-lg font-bold text-white truncate",title:e.email,children:(m=e.email)==null?void 0:m.split("@")[0]}),d.jsx("p",{className:"text-xs text-slate-400 truncate",children:e.email})]})]}),d.jsx("div",{className:"space-y-3 mb-6",children:d.jsxs("div",{className:"p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 flex justify-between items-center group",children:[d.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase",children:"ID"}),d.jsxs("code",{className:"text-xs text-slate-300 font-mono bg-black/20 px-2 py-0.5 rounded group-hover:text-white transition-colors",children:[e.id.substring(0,8),"..."]})]})}),d.jsxs("button",{onClick:r,className:"w-full flex items-center justify-center gap-2 text-red-400 hover:text-white hover:bg-red-500 bg-red-500/10 border border-red-500/20 px-4 py-3 rounded-xl transition-all text-sm font-bold",children:[d.jsx(dH,{size:16}),"Desconectar"]})]}),d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-6 shadow-xl opacity-60 pointer-events-none",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase mb-4 tracking-wider",children:"Aparncia"}),d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-xl border border-slate-700/50",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg text-purple-400",children:d.jsx(wH,{size:18})}),d.jsx("span",{className:"text-slate-300 font-medium text-sm",children:"Modo Escuro"})]}),d.jsx("div",{className:"w-10 h-5 bg-blue-600 rounded-full relative",children:d.jsx("div",{className:"absolute right-1 top-1 w-3 h-3 bg-white rounded-full shadow-sm"})})]})]})]}),d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[d.jsxs("div",{className:"flex items-center gap-2 border-b border-slate-700/50",children:[d.jsx("button",{onClick:()=>p("goals"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="goals"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Metas"}),d.jsx("button",{onClick:()=>p("database"),className:`px-4 py-3 text-sm font-medium transition-colors border-b-2 ${h==="database"?"border-blue-500 text-blue-400":"border-transparent text-slate-400 hover:text-slate-200"}`,children:"Gesto de Banco de Dados"})]}),d.jsxs("div",{className:"animate-fade-in",children:[h==="goals"&&d.jsx(Jke,{}),h==="database"&&d.jsxs("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-2xl p-8 shadow-xl backdrop-blur-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-600/5 rounded-full blur-3xl -mr-32 -mt-32 pointer-events-none"}),d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8 relative z-10",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-blue-500/20 rounded-xl text-blue-400 shadow-inner",children:d.jsx(Q_,{size:24})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-xl font-bold text-white",children:"Banco de Dados & Arquivos"}),d.jsx("p",{className:"text-sm text-slate-400",children:"Importao e sincronizao das tabelas do sistema."})]})]})}),d.jsxs("div",{className:"space-y-4 relative z-10",children:[d.jsx(fAe,{}),d.jsx(M4,{title:"Histrico B2C",slot:"b2c",accept:".csv"}),d.jsx(M4,{title:"Mdia Paga (Ads)",slot:"media",accept:".xlsx, .xls"})]})]})]})]})]})]})}):d.jsx("div",{className:"p-8 text-center text-slate-500",children:"Sesso expirada. Recarregue a pgina."})},j0=(e,t)=>{const r=w.useMemo(()=>{try{const f={};return Object.entries(e).forEach(([h,p])=>{const m=p.filter(v=>{if(t.bu.length>0&&!t.bu.includes(v.bu)||t.canais.length>0&&!t.canais.includes(v.canal)||t.jornadas.length>0&&!t.jornadas.includes(v.jornada)||t.segmentos.length>0&&!t.segmentos.includes(v.segmento)||t.parceiros.length>0&&!t.parceiros.includes(v.parceiro))return!1;if(t.dataInicio){const[g,x,b]=t.dataInicio.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(0,0,0,0);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_<y)return!1}if(t.dataFim){const[g,x,b]=t.dataFim.split("-").map(Number),y=new Date(g,x-1,b);y.setHours(23,59,59,999);const _=new Date(v.dataDisparo);if(_.setHours(0,0,0,0),_>y)return _.getDate()>15,!1}return!0});m.length>0&&(f[h]=m)}),f}catch(f){return console.error("Error in useAdvancedFilters:",f),e}},[e,t]),n=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.canal&&f.add(p.canal)})}),Array.from(f).sort()},[e]),a=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.jornada&&f.add(p.jornada)})}),Array.from(f).sort()},[e]),s=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.segmento&&f.add(p.segmento)})}),Array.from(f).sort()},[e]),i=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.canal]=(f[p.canal]||0)+1})}),f},[r]),o=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.jornada]=(f[p.jornada]||0)+1})}),f},[r]),l=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.segmento]=(f[p.segmento]||0)+1})}),f},[r]),c=w.useMemo(()=>{const f=new Set;return Object.values(e).forEach(h=>{h.forEach(p=>{p.parceiro&&f.add(p.parceiro)})}),Array.from(f).sort()},[e]),u=w.useMemo(()=>{const f={};return Object.values(r).forEach(h=>{h.forEach(p=>{f[p.parceiro]=(f[p.parceiro]||0)+1})}),f},[r]);return{filteredData:r,availableCanais:n,availableJornadas:a,availableSegmentos:s,availableParceiros:c,countByCanal:i,countByJornada:o,countBySegmento:l,countByParceiro:u}},I4=(e,t,r,n,a,s)=>{var A,N;const i={};Object.keys(e).forEach(j=>{const P=e[j];i[j]||(i[j]={propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0}),P.forEach(R=>{i[j].propostas+=R.kpis.propostas||0,i[j].emissoes+=R.kpis.cartoes||0,i[j].custo+=R.kpis.custoTotal||0,i[j].baseEntregue+=R.kpis.baseEntregue||0,i[j].baseEnviada+=R.kpis.baseEnviada||0,["Email","SMS","WhatsApp"].includes(R.canal)&&(i[j].campaignCount+=1),i[j].count+=1})});const l=new Set;if(r&&n)try{const j=new Date(r+"T00:00:00"),P=new Date(n+"T00:00:00");j<=P&&wE({start:j,end:P}).forEach(B=>{l.add(ke(B,"yyyy-MM-dd"))})}catch(j){console.error("Error generating date range:",j)}Object.keys(i).forEach(j=>l.add(j));const c=j=>{const P=TE(j);return P?ke(P,"yyyy-MM-dd"):null};t.forEach(j=>{const P=c(j.data);P&&l.add(P)});const f=Array.from(l).sort().map(j=>{const P=i[j]||{propostas:0,emissoes:0,custo:0,count:0,baseEntregue:0,baseEnviada:0,campaignCount:0},R=t.find(K=>c(K.data)===j),B=(R==null?void 0:R.propostas_b2c_total)||0,q=(R==null?void 0:R.emissoes_b2c_total)||0;return{date:j,crm_propostas:P.propostas,crm_emissoes:P.emissoes,crm_custo:P.custo,crm_base_entregue:P.baseEntregue,crm_base_enviada:P.baseEnviada,crm_count:P.count,crm_campaign_count:P.campaignCount,b2c_propostas:B,b2c_emissoes:q}}).filter(j=>{if(!j.date)return!1;const P=new Date(j.date+"T12:00:00"),R=new Date(r+"T00:00:00"),B=new Date(n+"T23:59:59");return P>=R&&P<=B}),h={};f.forEach(j=>{const[P,R,B]=j.date.split("-").map(Number),q=new Date(P,R-1,B);let K=j.date;if(a==="weekly"){const X=el(q,{weekStartsOn:1});K=ke(X,"yyyy-MM-dd")}else if(a==="monthly"){const X=Qr(q);K=ke(X,"yyyy-MM-dd")}h[K]||(h[K]={crm_propostas:0,crm_emissoes:0,crm_custo:0,crm_count:0,crm_base_entregue:0,crm_base_enviada:0,crm_campaign_count:0,b2c_propostas:0,b2c_emissoes:0,count:0,originalDate:K}),h[K].crm_propostas+=j.crm_propostas,h[K].crm_emissoes+=j.crm_emissoes,h[K].crm_custo+=j.crm_custo,h[K].crm_base_entregue+=j.crm_base_entregue,h[K].crm_base_enviada+=j.crm_base_enviada,h[K].crm_count+=j.crm_count,h[K].crm_campaign_count+=j.crm_campaign_count,h[K].b2c_propostas+=j.b2c_propostas,h[K].b2c_emissoes+=j.b2c_emissoes,h[K].count+=1});const p=Object.keys(h).sort().map(j=>{const P=h[j],[R,B,q]=j.split("-").map(Number),K=new Date(R,B-1,q),X=P.b2c_propostas>0?P.crm_propostas/P.b2c_propostas*100:0,I=P.b2c_emissoes>0?P.crm_emissoes/P.b2c_emissoes*100:0,J=P.crm_base_entregue>0?P.crm_base_entregue:P.crm_base_enviada,Z=J>0?P.crm_emissoes/J*100:0,M=P.b2c_propostas>0?P.b2c_emissoes/P.b2c_propostas*100:0,z=M>0?Z/M:0,G=P.crm_emissoes>0?P.crm_custo/P.crm_emissoes:0,H=s.ativar_anomalias&&I<s.share_crm_limiar;return{data:j,dia_semana:["dom","seg","ter","qua","qui","sex","sab"][K.getDay()],semana_mes:Math.ceil(K.getDate()/7),mes:B,ano:R,propostas_crm:P.crm_propostas,entregas_crm:J,custo_crm:P.crm_custo,emissoes_crm:P.crm_emissoes,num_campanhas_crm:P.crm_campaign_count,propostas_b2c_total:P.b2c_propostas,emissoes_b2c_total:P.b2c_emissoes,share_propostas_crm_percentual:X,share_emissoes_crm_percentual:I,taxa_conversao_crm:Z,taxa_conversao_b2c:M,performance_index:z,cac_medio:G,eh_anomalia:H}});if(p.length===0)return{analysisData:[],summary:null};const m=f.reduce((j,P)=>j+P.crm_propostas,0),v=f.reduce((j,P)=>j+P.crm_emissoes,0),g=f.reduce((j,P)=>j+P.crm_custo,0),x=f.reduce((j,P)=>j+P.crm_base_entregue,0),b=f.reduce((j,P)=>j+P.b2c_propostas,0),y=f.reduce((j,P)=>j+P.b2c_emissoes,0),_=y>0?v/y*100:0,S=v>0?g/v:0,k=x>0?v/x:0,E=b>0?y/b:0,C=E>0?k/E:0,T={periodo_inicio:((A=p[0])==null?void 0:A.data)||"",periodo_fim:((N=p[p.length-1])==null?void 0:N.data)||"",share_crm_media:_,emissoes_crm_total:v,emissoes_b2c_total:y,cac_medio:S,taxa_conversao_crm_media:k*100,taxa_conversao_b2c_media:E*100,performance_index_medio:C,total_dias:p.length,dias_com_anomalia:p.filter(j=>j.eh_anomalia).length,propostas_b2c_total:b,propostas_crm_total:m};return{analysisData:p,summary:T}},g9=()=>{const{b2cData:e,alertConfig:t,viewSettings:r}=mt(),{data:n}=Xx(),{startDate:a,endDate:s}=Nh(),{selectedBUs:i}=Ph(),[o,l]=w.useState("daily"),c=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:ke(a,"yyyy-MM-dd"),dataFim:ke(s,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,a,s,i]),{filteredData:u}=j0(n,c),{prevStartDate:f,prevEndDate:h}=w.useMemo(()=>{const _=v0(s,a)+1,S=jt(a,1);return{prevStartDate:jt(S,_-1),prevEndDate:S}},[a,s]),p=w.useMemo(()=>({...r.filtrosGlobais,dataInicio:ke(f,"yyyy-MM-dd"),dataFim:ke(h,"yyyy-MM-dd"),bu:i}),[r.filtrosGlobais,f,h,i]),{filteredData:m}=j0(n,p),{analysisData:v,summary:g}=w.useMemo(()=>I4(u,e,ke(a,"yyyy-MM-dd"),ke(s,"yyyy-MM-dd"),o,t),[u,e,a,s,o,t]),{summary:x}=w.useMemo(()=>I4(m,e,ke(f,"yyyy-MM-dd"),ke(h,"yyyy-MM-dd"),"daily",t),[m,e,f,h,t]),b=(_,S="daily")=>S==="daily"?u[_]||[]:u[_]||[],y=w.useMemo(()=>{const _={};let S=0;Object.values(u).flat().forEach(T=>{const A=T.segmento||"No Identificado",N=T.kpis.cartoes||0;_[A]=(_[A]||0)+N,S+=N});const k=Object.entries(_).map(([T,A])=>({name:T,value:A})).sort((T,A)=>A.value-T.value),E=g?g.emissoes_b2c_total:0,C=Math.max(0,E-S);return C>0&&k.push({name:"Outros B2C",value:C}),k},[u,g]);return{dailyAnalysis:v,summary:g,previousSummary:x,viewMode:o,setViewMode:l,getActivities:b,segmentStats:y}},Mc=({label:e,value:t,subtitle:r,icon:n,colorClass:a,variation:s,reverseColor:i=!1,tooltip:o})=>{let l="text-slate-500",c=Zu;return s&&(s.value>0?(c=X_,l=i?"text-red-400":"text-emerald-400"):s.value<0&&(c=q_,l=i?"text-emerald-400":"text-red-400")),d.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-xl border border-slate-700/50 relative overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("p",{className:"text-slate-400 text-xs font-medium uppercase tracking-wider",children:e}),o&&d.jsx(zs,{content:o,side:"top"})]}),d.jsx("div",{className:`${a} opacity-80`,children:n})]}),d.jsxs("div",{className:"flex items-end gap-2",children:[d.jsx("h3",{className:"text-xl font-bold text-white leading-none",children:t}),s&&d.jsxs("div",{className:`flex items-center text-[10px] font-bold mb-0.5 ${l} bg-slate-900/50 px-1 py-0.5 rounded`,children:[d.jsx(c,{size:10,className:"mr-0.5"}),Math.abs(s.value).toFixed(1),"%"]})]}),d.jsx("p",{className:"text-[10px] text-slate-500 mt-2 lowercase",children:r})]})},pAe=({summary:e,previousSummary:t})=>{const r=(c,u)=>{if(!u||u===0)return null;const f=c-u;return{value:f/u*100,isPositive:f>0}},n=t?r(e.propostas_b2c_total,t.propostas_b2c_total):null,a=t?r(e.emissoes_b2c_total,t.emissoes_b2c_total):null,s=t?r(e.taxa_conversao_b2c_media,t.taxa_conversao_b2c_media):null,i=t?r(e.propostas_crm_total,t.propostas_crm_total):null,o=t?r(e.emissoes_crm_total,t.emissoes_crm_total):null,l=t?r(e.taxa_conversao_crm_media,t.taxa_conversao_crm_media):null;return d.jsxs("div",{className:"space-y-4 mb-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Mc,{label:"Propostas B2C",value:e.propostas_b2c_total.toLocaleString("pt-BR"),subtitle:"Input total",icon:d.jsx(Xm,{size:18}),colorClass:"text-blue-400",variation:n,tooltip:"Total de propostas B2C submetidas no perodo"}),d.jsx(Mc,{label:"Cartes B2C",value:e.emissoes_b2c_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx(Hf,{size:18}),colorClass:"text-blue-400",variation:a,tooltip:"Total de cartes B2C gerados no perodo"}),d.jsx(Mc,{label:"Conv % B2C",value:`${e.taxa_conversao_b2c_media.toFixed(2).replace(".",",")}%`,subtitle:"Cartes / Propostas",icon:d.jsx(Mn,{size:18}),colorClass:"text-blue-400",variation:s,tooltip:"Taxa de converso: (Cartes Gerados / Propostas Totais)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(Mc,{label:"Propostas CRM",value:e.propostas_crm_total.toLocaleString("pt-BR"),subtitle:"Via CRM",icon:d.jsx(Xm,{size:18}),colorClass:"text-emerald-400",variation:i,tooltip:"Propostas identificadas com origem CRM"}),d.jsx(Mc,{label:"Cartes CRM",value:e.emissoes_crm_total.toLocaleString("pt-BR"),subtitle:"Gerados",icon:d.jsx(ew,{size:18}),colorClass:"text-emerald-400",variation:o,tooltip:"Cartes gerados e atribudos ao CRM"}),d.jsx(Mc,{label:"Conv % CRM",value:`${e.taxa_conversao_crm_media.toFixed(2).replace(".",",")}%`,subtitle:"Converso CRM",icon:d.jsx(Mn,{size:18}),colorClass:"text-emerald-400",variation:l,tooltip:"Taxa de converso: (Cartes Gerados / Base Entregue)"})]})]})},R4=({label:e,value:t,subtitle:r,icon:n,colorClass:a})=>d.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 flex items-center justify-between group hover:border-slate-600 transition-all h-[120px]",children:d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[d.jsx("div",{className:`p-1.5 rounded-lg bg-slate-900/50 ${a}`,children:n}),d.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase tracking-wider",children:e})]}),d.jsx("h3",{className:"text-3xl font-bold text-white tracking-tight mt-1",children:t}),d.jsx("p",{className:"text-xs text-slate-500 mt-1 font-medium",children:r})]})}),mAe=({summary:e})=>d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsx(R4,{label:"Share CRM",value:`${e.share_crm_media.toFixed(1)}%`,subtitle:"% de cartes gerados via CRM",icon:d.jsx(Gi,{size:18}),colorClass:"text-indigo-400"}),d.jsx(R4,{label:"CAC Mdio",value:`R$ ${e.cac_medio.toFixed(2)}`,subtitle:"Custo por emisso",icon:d.jsx(Xu,{size:18}),colorClass:"text-emerald-400"})]}),$d=(e,t)=>t.includes("%")||t.includes("Taxa")||t.includes("Share")||t.includes("Conv")?[`${e.toFixed(2)}%`,t]:t.includes("CAC")||t.includes("Custo")?[`R$ ${e.toFixed(2)}`,t]:[e,t],vAe=({data:e,shareThreshold:t=15,viewMode:r,setViewMode:n,onPointClick:a})=>{const s=c=>{if(c&&c.activePayload&&c.activePayload.length>0&&a){const u=c.activePayload[0].payload;if(u&&u.data){const[f,h,p]=u.data.split("-").map(Number);a(new Date(f,h-1,p))}}},i=(c,u=!1)=>u?`${c.toFixed(1)}%`:c.toLocaleString("pt-BR"),o=w.useMemo(()=>e.map(c=>{const u=Math.max(0,c.propostas_b2c_total-c.propostas_crm),f=Math.max(0,c.emissoes_b2c_total-c.emissoes_crm),[h,p,m]=c.data.split("-").map(Number),v=new Date(h,p-1,m),g=ke(v,"dd/MM",{locale:ei});return{...c,displayDate:g,outros_propostas:u,outros_emissoes:f}}),[e]),l=w.useMemo(()=>{const c={},u=["dom","seg","ter","qua","qui","sex","sab"];return u.forEach(f=>c[f]={total:0,crm:0}),e.forEach(f=>{f.dia_semana&&c[f.dia_semana]&&(c[f.dia_semana].total+=f.emissoes_b2c_total,c[f.dia_semana].crm+=f.emissoes_crm)}),u.map(f=>{const h=c[f],p=h.total>0?h.crm/h.total*100:0;return{dia:f.charAt(0).toUpperCase()+f.slice(1),share:p}})},[e]);return!e||e.length===0?d.jsx("div",{className:"p-10 text-center text-slate-500",children:"Sem dados para exibir nos grficos"}):d.jsxs("div",{className:"mt-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Anlise Grfica"}),d.jsx("div",{className:"flex bg-slate-800 p-1 rounded-lg border border-slate-700",children:["daily","weekly","monthly"].map(c=>d.jsx("button",{onClick:()=>n(c),className:`px-3 py-1.5 rounded-md text-sm font-medium transition ${r===c?"bg-blue-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200 hover:bg-slate-700/50"}`,children:c==="daily"?"Dia":c==="weekly"?"Semana":"Ms"},c))})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Propostas: CRM vs B2C Total"}),d.jsx("div",{className:"h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:o,onClick:s,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:$d}),d.jsx(Tn,{}),d.jsx(Tr,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Tr,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Taxa de Converso: CRM vs Mdia B2C"}),d.jsx("div",{className:"h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:o,onClick:s,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:$d}),d.jsx(Tn,{}),d.jsx(Ar,{type:"monotone",dataKey:"taxa_conversao_crm",name:"Conv. CRM",stroke:"#10b981",strokeWidth:2,dot:!1}),d.jsx(Ar,{type:"monotone",dataKey:"taxa_conversao_b2c",name:"Conv. B2C",stroke:"#94a3b8",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Tendncia Share CRM (%)"}),d.jsx("div",{className:"h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:o,onClick:s,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{stroke:"#64748b",tick:{fontSize:10},unit:"%"}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},itemStyle:{color:"#e2e8f0"},formatter:$d}),d.jsx(Tn,{}),d.jsx(Ar,{type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#3b82f6",strokeWidth:2,dot:!1}),d.jsx(Ar,{type:"monotone",dataKey:()=>t,name:"Meta Mnima",stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Volume de Emisses: CRM vs B2C"}),d.jsx("div",{className:"h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:o,onClick:s,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},cursor:{fill:"#1e293b",opacity:.4},formatter:$d}),d.jsx(Tn,{}),d.jsx(Tr,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#3b82f6"}),d.jsx(Tr,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"CAC Evolution (R$)"}),d.jsx("div",{className:"h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:o,onClick:s,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{stroke:"#64748b",tick:{fontSize:10}}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:$d}),d.jsx(Tn,{}),d.jsx(Ar,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10b981",strokeWidth:2,dot:!1})]})})})]}),d.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700/50 flex flex-col",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-300 mb-4",children:"Share por Dia da Semana"}),d.jsx("div",{className:"flex-1 flex items-end gap-2 h-64",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:l,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"dia",stroke:"#64748b",fontSize:10}),d.jsx(ot,{stroke:"#64748b",unit:"%",fontSize:10}),d.jsx(Pt,{cursor:{fill:"transparent"},contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:c=>i(c,!0)}),d.jsx(Tr,{dataKey:"share",name:"Share Mdio",fill:"#f59e0b",radius:[4,4,0,0]})]})})}),d.jsx("p",{className:"text-xs text-slate-500 mt-2 text-center",children:"* Dados agregados do perodo"})]})]})]})},gAe=({data:e,onRowClick:t})=>{const[r,n]=w.useState(1),[a,s]=w.useState({key:"data",direction:"asc"}),i=w.useMemo(()=>{const m=[...e];return m.sort((v,g)=>{const x=v[a.key],b=g[a.key];return x<b?a.direction==="asc"?-1:1:x>b?a.direction==="asc"?1:-1:0}),m},[e,a]),o=25,l=Math.ceil(i.length/o),c=i.slice((r-1)*o,r*o),u=m=>{let v="asc";a.key===m&&a.direction==="asc"&&(v="desc"),s({key:m,direction:v}),n(1)},f=m=>a.key===m?a.direction==="asc"?d.jsx(X_,{size:14}):d.jsx(q_,{size:14}):d.jsx(pa,{size:14,className:"text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity"}),h=()=>{const m=["Data","Prop CRM","Emiss CRM","Prop B2C Total","Emiss B2C Total","% Share Prop","% Share Emiss","% Conv CRM","% Conv B2C","Perf Index","CAC"],v=i.map(_=>[_.data,_.propostas_crm,_.emissoes_crm,_.propostas_b2c_total,_.emissoes_b2c_total,_.share_propostas_crm_percentual.toFixed(2).replace(".",","),_.share_emissoes_crm_percentual.toFixed(2).replace(".",","),_.taxa_conversao_crm.toFixed(2).replace(".",","),_.taxa_conversao_b2c.toFixed(2).replace(".",","),_.performance_index.toFixed(2).replace(".",","),_.cac_medio.toFixed(2).replace(",",".")]),g=[m.join(";"),...v.map(_=>_.join(";"))].join(`
`),x=new Blob([g],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download="originacao_b2c_sorted.csv",document.body.appendChild(y),y.click(),document.body.removeChild(y)},p=({label:m,sortKey:v,align:g="right"})=>d.jsx("th",{className:`px-4 py-4 cursor-pointer hover:bg-slate-100 transition select-none group border-b border-slate-200 border-r border-slate-300 last:border-r-0 ${g==="right"?"text-right":"text-left"}`,onClick:()=>u(v),children:d.jsxs("div",{className:`flex items-center gap-2 font-semibold text-slate-700 ${g==="right"?"justify-end":"justify-start"}`,children:[m,f(v)]})});return d.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl overflow-hidden mt-6 shadow-sm",children:[d.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50/50",children:[d.jsx("h3",{className:"font-bold text-lg text-slate-800",children:"Detalhamento Dirio"}),d.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-1.5 bg-white border border-slate-300 hover:bg-slate-50 rounded text-sm text-slate-600 font-medium transition shadow-sm",children:[d.jsx(V0,{size:14})," Exportar (",i.length,")"]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[d.jsx("thead",{className:"text-xs uppercase bg-slate-50 text-slate-500",children:d.jsxs("tr",{children:[d.jsx(p,{label:"Data",sortKey:"data",align:"left"}),d.jsx(p,{label:"Vol. Entregas",sortKey:"entregas_crm"}),d.jsx(p,{label:"Custo",sortKey:"custo_crm"}),d.jsx(p,{label:"Prop CRM",sortKey:"propostas_crm"}),d.jsx(p,{label:"Emiss CRM",sortKey:"emissoes_crm"}),d.jsx(p,{label:"Prop B2C",sortKey:"propostas_b2c_total"}),d.jsx(p,{label:"Emiss B2C",sortKey:"emissoes_b2c_total"}),d.jsx(p,{label:"% Share",sortKey:"share_emissoes_crm_percentual"}),d.jsx(p,{label:"% Conv CRM",sortKey:"taxa_conversao_crm"}),d.jsx(p,{label:"% Conv B2C",sortKey:"taxa_conversao_b2c"}),d.jsx(p,{label:"CAC",sortKey:"cac_medio"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:c.map(m=>d.jsxs("tr",{className:`cursor-pointer hover:bg-blue-50/50 transition ${m.eh_anomalia?"bg-red-50":"bg-white"}`,onClick:()=>t&&t(m.data),children:[d.jsx("td",{className:"px-4 py-3 font-medium text-slate-700 whitespace-nowrap border-r border-slate-300 last:border-r-0",children:m.data.split("-").reverse().join("/")}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.entregas_crm.toLocaleString()}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.custo_crm.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:m.propostas_crm}),d.jsx("td",{className:"px-4 py-3 text-right font-bold text-slate-800 border-r border-slate-300 last:border-r-0",children:m.emissoes_crm}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.propostas_b2c_total}),d.jsx("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:m.emissoes_b2c_total}),d.jsx("td",{className:"px-4 py-3 text-right border-r border-slate-300 last:border-r-0",children:d.jsxs("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${m.share_emissoes_crm_percentual<10?"bg-red-100 text-red-600":"bg-emerald-100 text-emerald-600"}`,children:[m.share_emissoes_crm_percentual.toFixed(1),"%"]})}),d.jsxs("td",{className:"px-4 py-3 text-right text-emerald-600 font-medium border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_crm.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-500 border-r border-slate-300 last:border-r-0",children:[m.taxa_conversao_b2c.toFixed(1),"%"]}),d.jsxs("td",{className:"px-4 py-3 text-right text-slate-600 border-r border-slate-300 last:border-r-0",children:["R$ ",m.cac_medio.toFixed(0)]})]},m.data))})]})}),l>1&&d.jsxs("div",{className:"p-4 border-t border-slate-200 flex justify-center items-center gap-4 bg-slate-50/50",children:[d.jsx("button",{onClick:()=>n(m=>Math.max(1,m-1)),disabled:r===1,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:d.jsx(z0,{size:20})}),d.jsxs("span",{className:"text-sm font-medium text-slate-600",children:[r," / ",l]}),d.jsx("button",{onClick:()=>n(m=>Math.min(l,m+1)),disabled:r===l,className:"p-2 rounded-lg hover:bg-slate-200 disabled:opacity-50 disabled:cursor-not-allowed text-slate-500 transition",children:d.jsx(U0,{size:20})})]})]})},xAe=()=>{const e=w.useRef(null),{parseB2CCSV:t,isLoading:r,error:n}=AE(),{setB2CData:a,b2cData:s}=mt(),i=async o=>{var c;const l=(c=o.target.files)==null?void 0:c[0];if(l)try{const{data:u,warnings:f}=await t(l);a(u),f.length>0&&console.warn("Warnings during upload:",f)}catch(u){console.error(u)}};return d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("input",{type:"file",ref:e,onChange:i,accept:".csv",className:"hidden"}),d.jsxs("button",{onClick:()=>{var o;return(o=e.current)==null?void 0:o.click()},disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed",children:[r?d.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):d.jsx(Bg,{size:18}),"Upload CSV B2C"]}),n&&d.jsxs("div",{className:"flex items-center gap-2 text-red-400 text-sm",children:[d.jsx(Es,{size:16}),n]}),s.length>0&&!n&&d.jsxs("div",{className:"flex items-center gap-2 text-emerald-400 text-sm",children:[d.jsx(Zr,{size:16}),s.length," registros carregados"]})]})},yAe=({data:e,onBarClick:t})=>{const r=w.useMemo(()=>{const n={};return e.forEach(a=>{const s=en(a.data),i=el(s,{weekStartsOn:1}),o=ke(i,"yyyy-MM-dd");n[o]||(n[o]={num_campanhas_crm:0,emissoes_crm:0,emissoes_b2c_total:0,originalDate:i}),n[o].num_campanhas_crm+=a.num_campanhas_crm||0,n[o].emissoes_crm+=a.emissoes_crm||0,n[o].emissoes_b2c_total+=a.emissoes_b2c_total||0}),Object.keys(n).sort().map(a=>{const s=n[a],i=s.emissoes_b2c_total>0?s.emissoes_crm/s.emissoes_b2c_total*100:0;return{data:a,displayDate:ke(s.originalDate,"dd/MM"),num_campanhas_crm:s.num_campanhas_crm,share_emissoes_crm_percentual:i}})},[e]);return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 mt-6 shadow-lg",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-2 opacity-90",children:"Eficincia de Campanhas: Volume de Disparos vs Share CRM"}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Anlise de quantas campanhas foram disparadas e seu impacto no share de participao no total B2C (Agrupado por Semana)."}),d.jsx("div",{className:"h-[400px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Yx,{data:r,onClick:n=>{if(n&&n.activePayload&&n.activePayload.length>0){const a=n.activePayload[0].payload.data;t&&t(a)}},margin:{top:20,right:20,bottom:20,left:20},children:[d.jsx(qt,{stroke:"#1e293b",strokeDasharray:"3 3",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",scale:"band",stroke:"#64748b",tick:{fontSize:10}}),d.jsx(ot,{yAxisId:"left",stroke:"#64748b",tick:{fontSize:10},label:{value:"Campanhas/Semana",angle:-90,position:"insideLeft",style:{fill:"#64748b",fontSize:10}}}),d.jsx(ot,{yAxisId:"right",orientation:"right",stroke:"#64748b",tick:{fontSize:10},unit:"%",label:{value:"Share CRM %",angle:90,position:"insideRight",style:{fill:"#64748b",fontSize:10}}}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b"},formatter:(n,a)=>a==="Share CRM %"?[`${n.toFixed(1)}%`,a]:[n,a],labelFormatter:n=>`Semana de ${n}`}),d.jsx(Tn,{}),d.jsx(Tr,{yAxisId:"left",dataKey:"num_campanhas_crm",name:"Campanhas Disparadas",barSize:30,fill:"#3b82f6",fillOpacity:.6}),d.jsx(Ar,{yAxisId:"right",type:"monotone",dataKey:"share_emissoes_crm_percentual",name:"Share CRM %",stroke:"#10b981",strokeWidth:3,dot:{fill:"#10b981",r:4},activeDot:{r:6}})]})})})]})},F4=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6","#ec4899","#6366f1","#475569"],bAe=({segmentStats:e,totalB2CEmissoes:t})=>{const[r,n]=w.useState(!0),a=e.map(i=>({...i,share:t>0?i.value/t*100:0})),s=r?a:a.filter(i=>i.name!=="Outros B2C");return d.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700/50 h-full flex flex-col relative",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 opacity-90",children:"Share por Campanha"}),a.some(i=>i.name==="Outros B2C")&&d.jsx("button",{onClick:()=>n(!r),className:`text-[10px] px-2 py-1 rounded-md border transition-all ${r?"bg-slate-700 border-slate-600 text-slate-300":"bg-transparent border-slate-700 text-slate-500 hover:text-slate-400"}`,title:r?"Ocultar Outros B2C":"Mostrar Outros B2C",children:r?"Com Outros":"Sem Outros"})]}),d.jsx("p",{className:"text-xs text-slate-500 mb-6",children:"Participao de cada campanha no total de emisses B2C."}),d.jsx("div",{className:"flex-1 min-h-[200px]",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(LL,{children:[d.jsx(uE,{data:s,cx:"40%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:3,dataKey:"value",cornerRadius:4,children:s.map((i,o)=>{let l=F4[o%F4.length];return i.name==="Outros B2C"&&(l="#475569"),d.jsx(Qs,{fill:l,stroke:"rgba(0,0,0,0)"},`cell-${o}`)})}),d.jsx(Pt,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#1e293b",borderRadius:"8px"},itemStyle:{color:"#e2e8f0"},formatter:(i,o,l)=>{const c=l.payload.share||0;return[`${i.toLocaleString()} (${c.toFixed(1)}%)`,o]}}),d.jsx(Tn,{layout:"vertical",verticalAlign:"middle",align:"right",iconType:"circle",iconSize:8,wrapperStyle:{fontSize:"11px",color:"#94a3b8"},formatter:(i,o)=>{const{payload:l}=o;return d.jsxs("span",{className:"ml-1 text-slate-400",children:[i," ",d.jsx("span",{className:"text-slate-600 mx-1",children:"|"})," ",d.jsxs("span",{className:"text-slate-200 font-medium",children:[l.share.toFixed(2),"%"]})]})}})]})})})]})},wAe=()=>{const{dailyAnalysis:e,summary:t,previousSummary:r,viewMode:n,setViewMode:a,getActivities:s,segmentStats:i}=g9(),{alertConfig:o,b2cData:l,setB2CData:c}=mt(),{parseB2CCSV:u}=AE(),[f,h]=w.useState(!0),[p,m]=w.useState(!1);w.useEffect(()=>{(async()=>{if(l.length>0){h(!1);return}if(!p){m(!0);try{const N=await vs.listFiles("b2c");if(N&&N.length>0){h(!0),console.log(" B2C Auto-Sync:",N[0].name);const j=await vs.getDownloadUrl("b2c/"+N[0].name),R=await(await fetch(j)).blob(),B=new File([R],N[0].name,{type:"text/csv"}),{data:q}=await u(B);q&&q.length>0&&c(q),h(!1)}}catch(N){console.error("B2C Sync failed",N),h(!1)}}})()},[l.length,p,c,u]);const[v,g]=w.useState(!1),[x,b]=w.useState([]),[y,_]=w.useState(null),[S,k]=w.useState(void 0),E=A=>{const N=s(A,"daily"),[j,P,R]=A.split("-").map(Number);_(new Date(j,P-1,R)),b(N),k(void 0),g(!0)},C=A=>{const N=s(A,"weekly"),[j,P,R]=A.split("-").map(Number),B=new Date(j,P-1,R),q=new Date(B);q.setDate(q.getDate()+6),_(B),b(N),k(` Detalhes da Semana: ${ke(B,"dd/MM")} a ${ke(q,"dd/MM")}`),g(!0)},T=()=>{g(!1),b([]),_(null)};return d.jsxs("div",{className:"flex flex-col h-full bg-slate-950 p-6 overflow-hidden",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8 shrink-0",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-100 flex items-center gap-2",children:[d.jsx(Z_,{className:"text-blue-500"}),"Originao B2C"]}),d.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Anlise de participao CRM na originao total B2C."})]}),d.jsx("div",{className:"flex items-center gap-4",children:l.length===0&&d.jsx(xAe,{})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 pb-10",children:[d.jsx("div",{className:"max-w-[1600px] mx-auto",children:e.length>0&&t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex flex-col xl:flex-row gap-6 mb-8",children:[d.jsxs("div",{className:"xl:w-7/12",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Comparao B2C vs CRM"}),d.jsx(pAe,{summary:t,previousSummary:r})]}),d.jsx("div",{className:"xl:w-5/12 flex flex-col",children:d.jsx(bAe,{segmentStats:i,totalB2CEmissoes:t.emissoes_b2c_total})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100 mb-4 opacity-90",children:"Performance"}),d.jsx(mAe,{summary:t})]}),d.jsx(vAe,{data:e,shareThreshold:o.share_crm_limiar,viewMode:n,setViewMode:a,onPointClick:A=>{const N=ke(A,"yyyy-MM-dd");E(N)}}),d.jsx(gAe,{data:e,onRowClick:E}),d.jsx("div",{className:"mb-6",children:d.jsx(yAe,{data:e,onBarClick:C})})]}):d.jsx("div",{className:"flex flex-col items-center justify-center h-64 border-2 border-dashed border-slate-800 rounded-xl bg-slate-900/50",children:f?d.jsxs("div",{className:"flex flex-col items-center gap-3 text-slate-400",children:[d.jsx(Gs,{className:"animate-spin text-blue-500",size:32}),d.jsx("p",{children:"Sincronizando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-slate-500 mb-2",children:"Nenhum dado B2C carregado."}),d.jsx("p",{className:"text-xs text-slate-600",children:"Faa upload do CSV diarizado para comear."})]})})}),v&&d.jsx(jh,{date:y,activities:x,onClose:T,titleOverride:S})]})]})},L4=(e,t)=>{const r=w.useMemo(()=>{const i=t.bu.length===0?void 0:t.bu,o={};return Object.entries(e).forEach(([l,c])=>{const u=i?c.filter(f=>i.includes(f.bu)):c;u.length>0&&(o[l]=u)}),o},[e,t.bu]),n=w.useMemo(()=>{const i={};return Object.entries(r).forEach(([o,l])=>{i[o]=l.length}),i},[r]),a=i=>{const o=r[i]||[];if(o.length===0)return null;const l={};return o.forEach(c=>{l[c.bu]=(l[c.bu]||0)+1}),Object.entries(l).sort(([,c],[,u])=>u-c)[0][0]},s=w.useMemo(()=>Object.values(r).reduce((i,o)=>i+o.length,0),[r]);return{filteredData:r,activityCountByDay:n,getDominantBU:a,getTotalActivities:s,selectedBUs:t.bu}},_Ae=(e,t)=>w.useMemo(()=>{try{const n={};return Object.values(e).forEach(s=>{s.forEach(i=>{const o=i.parceiro||"Sem Parceiro";n[o]||(n[o]={nome:o,totalCartoes:0,taxaEntregaMdia:0,taxaAberturaMdia:0,taxaPropostaMdia:0,cacMdio:0,custoTotal:0,atividades:0,variacao:0,status:"em-progresso",bu:[],datas:[]});const l=n[o],c=i.kpis;l.totalCartoes+=c.cartoes||0,l.taxaEntregaMdia+=c.taxaEntrega||0,l.taxaAberturaMdia+=c.taxaAbertura||0,l.taxaPropostaMdia+=c.taxaPropostas||0,l.cacMdio+=c.cac||0,l.custoTotal+=c.custoTotal||0,l.atividades+=1,l.bu.includes(i.bu)||l.bu.push(i.bu);let u="";i.dataDisparo instanceof Date?u=i.dataDisparo.toISOString().split("T")[0]:typeof i.dataDisparo=="string"&&(u=String(i.dataDisparo).split("T")[0]),u&&!l.datas.includes(u)&&l.datas.push(u)})}),Object.values(n).forEach(s=>{s.atividades>0&&(s.taxaEntregaMdia=s.taxaEntregaMdia/s.atividades,s.taxaAberturaMdia=s.taxaAberturaMdia/s.atividades,s.taxaPropostaMdia=s.taxaPropostaMdia/s.atividades,s.cacMdio=s.cacMdio/s.atividades);const i=new Date,o=new Date(Math.max(...s.datas.map(c=>new Date(c).getTime()))),l=Math.floor((i.getTime()-o.getTime())/(1e3*60*60*24));l>30?s.status="parado":l>7?s.status="em-progresso":s.status="concluido"}),n}catch(n){return console.error("Error calculating resultados metrics:",n),{}}},[e,t]),kAe=({title:e,items:t,isActive:r})=>{const[n,a]=w.useState(!1);return d.jsxs("div",{className:"relative h-full flex items-center",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsxs("button",{className:`
                    px-3 py-2 text-sm font-semibold tracking-wide transition-all duration-200 uppercase relative
                    ${r||n?"text-white":"text-slate-400 hover:text-slate-200"}
                `,children:[e,(r||n)&&d.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[2px] bg-blue-500 shadow-[0_0_8px_rgba(59,130,246,0.6)]"})]}),d.jsx("div",{className:`
                    absolute top-full left-0 pt-2 w-48 transform transition-all duration-200 origin-top-left
                    ${n?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}
                `,children:d.jsx("div",{className:"bg-[#0F172A] border border-white/10 rounded-lg shadow-xl backdrop-blur-xl p-1.5 z-50",children:t.map(s=>d.jsxs("button",{onClick:()=>{s.onClick(),a(!1)},className:`
                                w-full flex items-center gap-3 px-3 py-2 rounded-md text-xs font-medium transition-all text-left
                                ${s.isActive?"bg-blue-600/10 text-blue-400":"text-slate-400 hover:text-slate-100 hover:bg-white/5"}
                            `,children:[s.icon&&d.jsx(s.icon,{size:16}),s.label]},s.id))})})]})},SAe=()=>{const{setTab:e,viewSettings:t}=mt(),r=t.abaAtual,{toggleBU:n,isBUSelected:a}=Ph(),s=[{title:"Planejamento",items:[{id:"launch",label:"Launch Planner",icon:lc,onClick:()=>e("launch")},{id:"diario",label:"Dirio de Bordo",icon:CI,onClick:()=>e("diario")}]},{title:"Anlise",items:[{id:"jornada",label:"Jornada & Disparos",icon:Mn,onClick:()=>e("jornada")},{id:"resultados",label:"Resultados",icon:Z_,onClick:()=>e("resultados")},{id:"orientador",label:"Orientador",icon:Zm,onClick:()=>e("orientador")},{id:"originacao-b2c",label:"Originao B2C",icon:TI,onClick:()=>e("originacao-b2c")}]},{title:"Mdia Paga",items:[{id:"midia-paga",label:"Media Analytics",icon:void 0,onClick:()=>e("midia-paga")}]},{title:"Framework",items:[{id:"framework",label:"Campanhas",icon:PI,onClick:()=>e("framework")}]}],i=[{id:"B2C",label:"B2C",color:"bg-blue-500"},{id:"B2B2C",label:"B2B2C",color:"bg-emerald-500"},{id:"Plurix",label:"Plurix",color:"bg-purple-500"}],o=l=>l.some(c=>c.id===r);return d.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 h-16 bg-[#0B0F19]/95 backdrop-blur-md border-b border-white/5 flex items-center justify-between px-6 shadow-sm",children:[d.jsxs("div",{className:"flex items-center gap-8",children:[d.jsxs("div",{className:"flex flex-col items-center justify-center gap-0 shrink-0",children:[d.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent tracking-widest leading-none",children:"GaaS"}),d.jsx("span",{className:"text-[10px] font-bold text-white tracking-wider uppercase leading-tight opacity-90",children:"AFINZ"})]}),d.jsx("nav",{className:"hidden lg:flex items-center gap-1 h-16",children:s.map(l=>d.jsx(kAe,{title:l.title,items:l.items.map(c=>({...c,isActive:r===c.id})),isActive:o(l.items)},l.title))})]}),d.jsxs("div",{className:"flex items-center justify-end gap-4 flex-1 max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-2 px-2 border-r border-white/10 mr-2",children:[d.jsx("span",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-wider hidden xl:block",children:"BU:"}),d.jsx("div",{className:"flex bg-white/5 rounded-lg p-1 gap-1",children:i.map(l=>d.jsxs("button",{onClick:()=>n(l.id),className:`
                                    px-3 py-1.5 rounded-md text-xs font-medium transition-all flex items-center gap-1.5
                                    ${a(l.id)?"bg-slate-700 text-white shadow-sm":"text-slate-500 hover:text-slate-300 hover:bg-white/5"}
                                `,title:`Filtrar por ${l.label}`,children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${l.color} ${a(l.id)?"opacity-100 shadow-[0_0_4px_currentColor]":"opacity-40"}`}),d.jsx("span",{className:a(l.id)?"":"hidden xl:inline",children:l.label})]},l.id))})]}),d.jsxs("div",{className:"hidden md:flex items-center bg-white/5 border border-white/10 rounded-full px-4 py-1.5 w-64 transition-all focus-within:w-80 focus-within:bg-white/10 focus-within:border-blue-500/50",children:[d.jsx(rk,{size:16,className:"text-slate-500 mr-2"}),d.jsx("input",{type:"text",placeholder:"Buscar...",className:"bg-transparent border-none outline-none text-sm text-slate-300 w-full placeholder-slate-600"})]}),d.jsx("div",{className:"h-8 w-[1px] bg-white/10 mx-2"}),d.jsx("button",{onClick:()=>e("configuracoes"),className:`p-2 rounded-full transition relative ${r==="configuracoes"?"text-white bg-white/10":"text-slate-400 hover:text-white hover:bg-white/10"}`,title:"Configuraes",children:d.jsx($H,{size:20})}),d.jsx("div",{className:"flex items-center gap-3 cursor-pointer hover:bg-white/5 p-1.5 rounded-lg transition group",children:d.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center ring-2 ring-white/10 group-hover:ring-blue-500/50 transition-all",children:d.jsx(NI,{size:16,className:"text-white"})})})]})]})},EAe=({children:e})=>d.jsxs("div",{className:"flex flex-col min-h-screen bg-[#0F172A] text-slate-100 font-sans selection:bg-blue-500/30",children:[d.jsx(SAe,{}),d.jsx("main",{className:"flex-1 flex flex-col relative w-full max-w-[1920px] mx-auto pt-16",children:d.jsx("div",{className:"flex-1 p-2 w-full h-full overflow-y-auto overflow-x-hidden",children:e})})]}),CAe=({data:e,onDayClick:t,displayDate:r,onMonthChange:n})=>{const a=w.useMemo(()=>{const f=Qr(r),h=el(f);return Array.from({length:42},(p,m)=>Xv(h,m))},[r]),s=f=>{n(f)},i=w.useMemo(()=>Object.values(e).flat(),[e]),o=f=>{const h=i.filter(x=>m0(x.dataDisparo,f)),p=h.length,m=h.some(x=>x.status==="Rascunho"),v=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+1,x),{}),g=h.reduce((x,b)=>(x[b.bu]=(x[b.bu]||0)+(b.kpis.cartoes||0),x),{});return{count:p,byBU:v,byBUCartoes:g,hasDraft:m}},l=(f,h)=>{let p=null;if(Object.values(f).reduce((v,g)=>v+g,0)>0?p=Object.entries(f).sort((v,g)=>g[1]-v[1])[0][0]:Object.keys(h).length>0&&(p=Object.entries(h).sort((v,g)=>g[1]-v[1])[0][0]),!p)return"bg-slate-800/30 border-slate-700/50";switch(p==null?void 0:p.toUpperCase()){case"B2C":return"bg-blue-900/40 border-blue-700/50 hover:bg-blue-900/60 hover:border-blue-600/70";case"B2B2C":return"bg-emerald-900/40 border-emerald-700/50 hover:bg-emerald-900/60 hover:border-emerald-600/70";case"PLURIX":return"bg-purple-900/40 border-purple-700/50 hover:bg-purple-900/60 hover:border-purple-600/70";default:return"bg-slate-800/30 border-slate-700/50"}},c=f=>{switch(f==null?void 0:f.toUpperCase()){case"B2C":return"bg-blue-600 hover:bg-blue-500";case"B2B2C":return"bg-emerald-600 hover:bg-emerald-500";case"PLURIX":return"bg-purple-600 hover:bg-purple-500";default:return"bg-slate-600 hover:bg-slate-500"}},u=f=>{const h=kE(f);return h===0||h===6};return d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-xl p-4 h-full flex flex-col",children:[d.jsx("div",{className:"flex items-center justify-between mb-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("button",{onClick:()=>s(Vu(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Ms anterior",children:d.jsx(z0,{size:18})}),d.jsx("h2",{className:"text-lg font-bold text-white uppercase min-w-[200px] text-center",children:ke(r,"MMMM yyyy",{locale:ei})}),d.jsx("button",{onClick:()=>s(xE(r,1)),className:"p-1.5 hover:bg-slate-800 rounded-lg transition text-slate-400 hover:text-white",title:"Prximo ms",children:d.jsx(U0,{size:18})})]})}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:["D","S","T","Q","Q","S","S"].map((f,h)=>d.jsx("div",{className:`text-center text-xs font-semibold py-2 ${h===0||h===6?"text-blue-400":"text-slate-500"}`,children:f},h))}),d.jsx("div",{className:"flex-1 overflow-y-auto flex justify-center",children:d.jsx("div",{className:"grid grid-cols-7 gap-1 w-full max-w-[560px]",children:a.map(f=>{const{count:h,byBU:p,byBUCartoes:m,hasDraft:v}=o(f),g=g0(f,r),x=m0(f,new Date),b=u(f),y=Object.entries(p).sort((k,E)=>E[1]-k[1]),_=l(m,p),S=v?"bg-amber-900/40 border-amber-600/50 hover:bg-amber-800/60 hover:border-amber-500/70":g?b?"bg-blue-950/30 border-blue-800/40 hover:bg-blue-950/50 hover:border-blue-700/60":_:"bg-slate-900/20 border-slate-800/30 opacity-20";return d.jsxs("div",{onClick:()=>t==null?void 0:t(f),className:`
                                relative p-1 rounded-md border transition-all cursor-pointer aspect-square overflow-hidden group
                                ${S}
                                ${x?"ring-1 ring-blue-400 ring-offset-1 ring-offset-slate-900":""}
                            `,children:[d.jsx("div",{className:"absolute top-1 left-0 right-0 flex justify-center",children:d.jsx("span",{className:`text-[10px] font-semibold ${x?"text-blue-300":b?"text-blue-400":"text-slate-300"}`,children:ke(f,"d")})}),h>0&&d.jsx("div",{className:"absolute inset-x-0 bottom-1 top-4 flex flex-wrap content-center justify-center gap-0.5 px-0.5",children:y.map(([k,E])=>d.jsx("div",{className:`${c(k)} rounded-full w-3.5 h-3.5 flex items-center justify-center text-white font-bold text-[7px] shadow-sm`,title:`${E} ${k}`,children:E},k))})]},f.toISOString())})})})]})},TAe=({activities:e,previousActivities:t=[],b2cData:r=[]})=>{const{viewSettings:n}=mt(),a=n.perspective,s=a==="total"||a==="b2c",i=a==="total"||a==="crm",o=(p,m=[])=>{let v=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.baseEnviada)||0)},0):0,g=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.baseEntregue)||0)},0):0,x=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.propostas)||0)},0):0,b=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.aprovados)||0)},0):0,y=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.emissoes)||0)},0):0,_=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.custoTotal)||0)},0):0,S=i?p.reduce((P,R)=>{var B;return P+(((B=R.kpis)==null?void 0:B.cartoes)||0)},0):0;const k=n.filtrosGlobais.segmentos.length>0||n.filtrosGlobais.parceiros.length>0||n.filtrosGlobais.jornadas.length>0||n.filtrosGlobais.canais.length>0;if(s&&m.length>0&&!k){const P=m.reduce((B,q)=>B+(Number(q.propostas_b2c_total)||0),0),R=m.reduce((B,q)=>B+(Number(q.emissoes_b2c_total)||0),0);x+=P,y+=R,S+=R,b+=R}const E=v>0?g/v*100:0,C=g>0?x/g*100:0,T=x>0?b/x*100:0,A=b>0?y/b*100:0,N=S>0?_/S:0,j=v>0?S/v*100:0;return{baseEnviada:v,baseEntregue:g,taxaEntrega:E,propostas:x,taxaPropostas:C,aprovados:b,taxaAprovacao:T,emissoes:y,taxaEmissao:A,convBase:j,cac:N,custoTotal:_}},l=w.useMemo(()=>o(e,r),[e,r,a,n.filtrosGlobais]),c=w.useMemo(()=>o(t,[]),[t,a,n.filtrosGlobais]),u=(p,m)=>m===0?0:(p-m)/m*100,f={baseEnviada:u(l.baseEnviada,c.baseEnviada),baseEntregue:u(l.baseEntregue,c.baseEntregue),taxaEntrega:u(l.taxaEntrega,c.taxaEntrega),propostas:u(l.propostas,c.propostas),taxaPropostas:u(l.taxaPropostas,c.taxaPropostas),aprovados:u(l.aprovados,c.aprovados),taxaAprovacao:u(l.taxaAprovacao,c.taxaAprovacao),emissoes:u(l.emissoes,c.emissoes),taxaEmissao:u(l.taxaEmissao,c.taxaEmissao),convBase:u(l.convBase,c.convBase),cac:u(l.cac,c.cac),custoTotal:u(l.custoTotal,c.custoTotal)},h=({label:p,value:m,variation:v,prefix:g="",suffix:x="",isCurrency:b=!1,highlight:y=!1,decimals:_=1})=>d.jsxs("div",{className:`
            relative rounded-lg p-2 flex flex-col justify-between min-h-[55px] transition-all group
            ${y?"bg-blue-900/20 border border-blue-500/30":"bg-slate-900 border border-slate-800 hover:border-slate-700"}
        `,children:[d.jsxs("div",{className:"flex items-center justify-between mb-0.5",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 text-[10px] font-bold uppercase tracking-wider",children:[p,d.jsx(aa,{size:12,className:"cursor-help text-slate-600 hover:text-blue-400 transition-colors",strokeWidth:2.5})]}),v!==void 0&&v!==0&&d.jsxs("span",{className:`text-[9px] font-bold ${v>0?"text-emerald-400":"text-red-400"}`,children:[v>0?"":""," ",Math.abs(v).toFixed(1),"%"]})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsxs("span",{className:`text-base font-bold leading-none ${y?"text-blue-100":"text-slate-100"}`,children:[g,b?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(m):new Intl.NumberFormat("pt-BR",{minimumFractionDigits:_,maximumFractionDigits:_}).format(m),x]}),x==="%"&&d.jsx("div",{className:"w-full h-0.5 bg-slate-700/50 rounded-full overflow-hidden mt-1",children:d.jsx("div",{className:`h-full rounded-full ${y?"bg-blue-400":"bg-slate-500"}`,style:{width:`${Math.min(m,100)}%`}})})]})]});return d.jsxs("div",{className:"grid grid-cols-6 gap-2 mb-2",children:[d.jsx(h,{label:"Base Enviada",value:l.baseEnviada,variation:f.baseEnviada,decimals:0}),d.jsx(h,{label:"Base Entregue",value:l.baseEntregue,variation:f.baseEntregue,decimals:0}),d.jsx(h,{label:"% Entrega",value:l.taxaEntrega,suffix:"%",variation:f.taxaEntrega}),d.jsx(h,{label:"Propostas",value:l.propostas,variation:f.propostas,decimals:0}),d.jsx(h,{label:"% Propostas",value:l.taxaPropostas,suffix:"%",variation:f.taxaPropostas}),d.jsx(h,{label:"Aprovados",value:l.aprovados,variation:f.aprovados,decimals:0}),d.jsx(h,{label:"% Aprovados",value:l.taxaAprovacao,suffix:"%",variation:f.taxaAprovacao}),d.jsx(h,{label:"Emisses",value:l.emissoes,variation:f.emissoes,decimals:0}),d.jsx(h,{label:"% Finalizao",value:l.taxaEmissao,suffix:"%",variation:f.taxaEmissao}),d.jsx(h,{label:"% Conv. Base",value:l.convBase,suffix:"%",variation:f.convBase,highlight:!0,decimals:3}),d.jsx(h,{label:"CAC",value:l.cac,prefix:"R$ ",isCurrency:!0,variation:f.cac}),d.jsx(h,{label:"Custo Total",value:l.custoTotal,prefix:"R$ ",isCurrency:!0,variation:f.custoTotal})]})},AAe=({activities:e,goals:t,currentMonth:r})=>{const{dailyAnalysis:n}=g9(),{isBUSelected:a}=Ph(),{viewSettings:s}=mt(),i=s.perspective,o=!a("B2B2C")&&!a("Plurix"),[l,c]=w.useState(null),u=x=>{if(x&&x.activePayload&&x.activePayload[0]){const b=x.activePayload[0].payload;b.data&&c(b.data)}},f=x=>{x&&x.payload&&x.payload.data&&c(x.payload.data)},h=w.useMemo(()=>l?e.filter(x=>(x.dataDisparo instanceof Date?ke(x.dataDisparo,"yyyy-MM-dd"):typeof x.dataDisparo=="string"?x.dataDisparo.split("T")[0]:"")===l):[],[l,e]),p=w.useMemo(()=>{let x=0,b=0,y="Meta";const _=t.find(k=>k.mes===r);i==="b2c"||i==="total"&&!a("Plurix")&&!a("B2B2C")?(x=n.reduce((k,E)=>k+E.emissoes_b2c_total,0),b=(_==null?void 0:_.b2c_meta)||0,y="Meta (Total B2C)"):a("Plurix")?(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.plurix_meta)||0,y="Meta (Plurix)"):a("B2B2C")?(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.b2b2c_meta)||0,y="Meta (B2B2C)"):(x=e.reduce((k,E)=>{var C;return k+(((C=E.kpis)==null?void 0:C.cartoes)||0)},0),b=(_==null?void 0:_.cartoes_meta)||0,y="Meta (CRM)");const S=b>0?x/b*100:0;return{totalCards:x,goalCards:b,goalProgress:S,label:y}},[e,t,r,n,a,i]),m=[{name:"Realizado",value:p.totalCards,color:"#3B82F6"},{name:p.label,value:p.goalCards,color:"#10B981"}],v=w.useMemo(()=>n.map(x=>{const[b,y,_]=x.data.split("-").map(Number),S=new Date(b,y-1,_);return{...x,displayDate:ke(S,"dd/MM",{locale:ei}),outros_propostas:Math.max(0,x.propostas_b2c_total-x.propostas_crm),outros_emissoes:Math.max(0,x.emissoes_b2c_total-x.emissoes_crm),cac_medio:x.cac_medio}}),[n]),g=({active:x,payload:b,label:y})=>x&&b&&b.length?d.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-2 rounded text-[10px] text-slate-200",children:[d.jsx("p",{className:"font-bold mb-1 border-b border-slate-700 pb-1",children:y}),b.map((_,S)=>{const E=_.name.includes("CAC")?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(_.value):_.value.toLocaleString("pt-BR");return d.jsxs("p",{style:{color:_.color},children:[_.name,": ",E]},S)})]}):null;return d.jsxs("div",{className:`grid gap-4 mb-2 ${o?"grid-cols-1 md:grid-cols-2":"grid-cols-1"}`,children:[d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 flex flex-col justify-between h-48 relative overflow-hidden group",children:[d.jsxs("div",{className:"flex justify-between items-start mb-1 relative z-10",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h3",{className:"text-slate-400 text-xs font-medium",children:"Cartes vs Meta"}),d.jsx("span",{title:"Visualizao do realizado contra a meta definida para o perodo",children:d.jsx(aa,{size:12,className:"text-slate-600 cursor-help"})})]}),d.jsxs("div",{className:"flex items-baseline gap-2 mt-0.5",children:[d.jsx("span",{className:"text-xl font-bold text-white",children:p.totalCards.toLocaleString()}),d.jsxs("span",{className:"text-xs text-slate-500",children:["/ ",p.goalCards.toLocaleString()]})]})]}),d.jsxs("div",{className:`px-1.5 py-0.5 rounded text-[10px] font-bold ${p.goalProgress>=100?"bg-emerald-500/20 text-emerald-400":"bg-blue-500/20 text-blue-400"}`,children:[p.goalProgress.toFixed(1),"%"]})]}),d.jsx("div",{className:"flex-1 w-full min-h-0 relative z-10",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{layout:"vertical",data:m,barSize:12,children:[d.jsx(Nt,{type:"number",hide:!0}),d.jsx(ot,{dataKey:"name",type:"category",width:50,tick:{fill:"#94a3b8",fontSize:10},axisLine:!1,tickLine:!1}),d.jsx(Pt,{contentStyle:{backgroundColor:"#1e293b",borderColor:"#334155",color:"#f8fafc",fontSize:"10px"},itemStyle:{color:"#f8fafc"},cursor:{fill:"transparent"}}),d.jsx(Tr,{dataKey:"value",radius:[0,4,4,0],children:m.map((x,b)=>d.jsx(Qs,{fill:x.color},`cell-${b}`))})]})})})]}),o&&d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["CAC Evolution (R$) ",d.jsx("span",{title:"Evoluo do Custo de Aquisio de Carto ao longo do tempo",children:d.jsx(aa,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(ot,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Pt,{content:d.jsx(g,{}),wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Ar,{type:"monotone",dataKey:"cac_medio",name:"CAC Mdio",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:6,onClick:f,style:{cursor:"pointer"}}})]})})})]})]}),o&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-52 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Propostas: CRM vs B2C ",d.jsx("span",{title:"Comparativo entre propostas geradas via CRM e outros canais B2C",children:d.jsx(aa,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(ot,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Pt,{content:d.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Tr,{dataKey:"propostas_crm",name:"CRM",stackId:"a",fill:"#3B82F6"}),d.jsx(Tr,{dataKey:"outros_propostas",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]}),d.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-lg p-3 h-48 flex flex-col",children:[d.jsxs("h3",{className:"text-slate-400 text-[10px] font-bold uppercase mb-2 flex items-center gap-2",children:["Emisses: CRM vs B2C ",d.jsx("span",{title:"Comparativo entre cartes emitidos via CRM e outros canais B2C",children:d.jsx(aa,{size:10,className:"text-slate-600"})})]}),d.jsx("div",{className:"flex-1 w-full min-h-0",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:v,onClick:u,style:{cursor:"pointer"},children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#1e293b",vertical:!1}),d.jsx(Nt,{dataKey:"displayDate",stroke:"#475569",tick:{fontSize:9},minTickGap:10}),d.jsx(ot,{stroke:"#475569",tick:{fontSize:9}}),d.jsx(Pt,{content:d.jsx(g,{}),cursor:{fill:"#1e293b",opacity:.5},wrapperStyle:{pointerEvents:"none"}}),d.jsx(Tn,{iconSize:8,wrapperStyle:{fontSize:"10px",paddingTop:"5px"}}),d.jsx(Tr,{dataKey:"emissoes_crm",name:"CRM",stackId:"a",fill:"#10B981"}),d.jsx(Tr,{dataKey:"outros_emissoes",name:"Outros B2C",stackId:"a",fill:"#64748b",opacity:.5})]})})})]})]}),d.jsx(jh,{date:l?new Date(l+"T12:00:00"):null,activities:h,onClose:()=>c(null)})]})},jAe=({data:e,onDayClick:t,onProgramDispatch:r})=>{const[n,a]=$s.useState(new Date),{goals:s,b2cData:i}=mt(),{startDate:o,endDate:l,compareEnabled:c,setPeriod:u,setPreset:f}=Nh();w.useEffect(()=>{f("thisMonth")},[]),w.useEffect(()=>{l&&ke(l,"yyyy-MM")!==ke(n,"yyyy-MM")&&a(l)},[l]);const h=x=>{a(x),u(Qr(x),Fl(x),"custom")},p=w.useMemo(()=>Object.values(e).flat(),[e]),m=w.useMemo(()=>p.filter(x=>Oo(x.dataDisparo,{start:o,end:l})),[p,o,l]),v=w.useMemo(()=>i.filter(x=>{const b=typeof x.data=="string"?new Date(x.data+"T12:00:00"):new Date(x.data);return Oo(b,{start:o,end:l})}),[i,o,l]),g=w.useMemo(()=>{if(!c)return[];const x=v0(l,o)+1,b=jt(o,x),y=jt(l,x);return p.filter(_=>Oo(_.dataDisparo,{start:b,end:y}))},[p,o,l,c]);return d.jsxs("div",{className:"flex h-full gap-2 p-2 bg-[#0F172A] overflow-hidden",children:[d.jsxs("div",{className:"w-1/3 min-w-[320px] flex flex-col gap-2",children:[d.jsx("div",{className:"flex-1 overflow-hidden rounded-xl border border-slate-800 bg-slate-900/50 backdrop-blur-sm",children:d.jsx(CAe,{data:e,onDayClick:t,displayDate:n,onMonthChange:h})}),d.jsxs("button",{onClick:r,className:"w-full py-2 px-4 bg-slate-800 hover:bg-slate-700 border border-slate-700 rounded-lg text-slate-300 font-medium flex items-center justify-center gap-2 transition-colors text-sm",children:[d.jsx(FH,{size:16}),"Programar disparo"]})]}),d.jsxs("div",{className:"flex-1 flex flex-col overflow-y-auto pr-1 gap-3",children:[d.jsx("div",{className:"flex items-center justify-between mb-1"}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex justify-between items-center",children:[d.jsx("span",{children:"KPIs"}),c&&d.jsx("span",{className:"text-[10px] text-blue-400 bg-blue-400/10 px-2 py-0.5 rounded-full",children:"Comparando com perodo anterior"})]}),d.jsx(TAe,{activities:m,previousActivities:g,b2cData:v})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-xs font-bold text-slate-400 uppercase mb-1.5 flex items-center gap-2",children:"Metas & Resultados"}),d.jsx(AAe,{activities:m,goals:s,currentMonth:ke(o,"yyyy-MM")})]})]})]})},PAe=["E-mail","Push","SMS","WhatsApp"],NAe=["Classic"],OAe=["Aquisio","Meio_de_Funil"],$4={"E-mail":.001,Push:.001,SMS:.064,WhatsApp:.42},B4={Padro:0,Limite:1,Vibe:2,Anuidade:76.5},DAe={B2C:["Leads_Parceiros","Base_Proprietaria","Bases_Bureaus","Cartonistas","CRM"],B2B2C:["Cartonistas","CRM","Funcionrios"],Plurix:["Cartonistas","CRM","Funcionrios"],"Bem Barato":["C_Level","Negados","Pre_Churn"]},MAe={Cartonistas:{parceiros:["Serasa","Bom_Pra_Credito","Proprietaria"]},Leads_Parceiros:{parceiros:["Serasa","Acordo Certo"]},CRM:{subgrupos:["Ativo","Inativo","Leais","Frequentes","Novos","Administrativos"]},Funcionrios:{subgrupos:["Novos","Aprovados_nao_convertidos"]},C_Level:{subgrupos:["Negados","Instabilidade"]}},z4={Padro:["Em dobro","Upgrade","Uber","Black Friday"],Vibe:[],Limite:[],Anuidade:["Grtis 1 ano","Gratis_para_sempre","Test_Drive_6_meses","Test_Drive_3_meses"],Bonificao:[]},IAe=e=>{if(!e)return"";const t=new Date(e+"T00:00:00"),n=["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"][t.getMonth()],a=t.getFullYear().toString().slice(2);return`${n}/${a}`},RAe=(e,t,r)=>!e||!t?1:r.filter(a=>a.jornada===e&&a["Data de Disparo"]===t).length+1,FAe=(e,t,r,n,a)=>{if(!e||!t||!r||!n||!a)return"";const s=e.toUpperCase(),i=t.replace(/\s/g,"_").toUpperCase(),o=r.replace(/\s/g,"_").toUpperCase().substring(0,20),l=a.replace("/","").toUpperCase();return`${s}_${i}_${o}_${n}_${l}`},LAe=(e,t)=>e*t,$Ae=(e,t)=>e*t,BAe=(e,t)=>e+t,bm={BU:15,Segmento:15,Canal:12,Jornada:10,Perfil_Credito:10,Oferta:8,Promocional:5,Parceiro:5,Subgrupo:5,Etapa_Aquisicao:5,Produto:5,Temporal:5},x9={temporalWindow:90,minSampleSize:5,temporalDecayFactor:.5,enableCausalAnalysis:!0},kf={volume:"Base Total",taxaConversao:"Taxa de Converso",baseAcionavel:"Base Acionvel",cac:"CAC",taxaEntrega:"Taxa de Entrega",taxaAbertura:"Taxa de Abertura",propostas:"Propostas",aprovados:"Aprovados",cartoesGerados:"Cartes Gerados"},zAe={BU:"BU",Segmento:"Segmento",Canal:"Canal",Jornada:"jornada",Perfil_Credito:"Perfil de Crdito",Oferta:"Oferta",Promocional:"Promocional",Parceiro:"Parceiro",Subgrupo:"Subgrupos",Etapa_Aquisicao:"Etapa de aquisio",Produto:"Produto",Temporal:"Data de Disparo"},y9={"E-mail":.001,Push:.001,SMS:.064,WhatsApp:.42},UAe={Padro:0,Limite:1,Vibe:2,Anuidade:76.5};function VAe(e,t=x9){const r=new Date,n=new Date;return n.setDate(n.getDate()-t.temporalWindow),e.map(a=>WAe(a,r,t)).filter(a=>a!==null).filter(a=>a.dispatchDate>=n)}function WAe(e,t,r){const n=e["Data de Disparo"];if(!n)return null;const a=b9(n);if(!a||isNaN(a.getTime()))return null;const s=HAe(e),i=KAe(e),o=GAe(a,t,r.temporalDecayFactor,r.temporalWindow);return{id:e.id||e["Activity name / Taxonomia"],raw:e,features:s,metrics:i,temporalWeight:o,dispatchDate:a}}function HAe(e){const t={};["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Promocional","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"].forEach(s=>{const i=zAe[s],o=e[i];o!=null&&o!==""&&(t[s]=qAe(String(o)))});const n=b9(e["Data de Disparo"]);n&&(t.DayOfWeek=n.getDay(),t.Month=n.getMonth()+1,t.Quarter=Math.floor(n.getMonth()/3)+1);const a=e["Horrio de Disparo"];if(a){const s=parseInt(a.split(":")[0],10);isNaN(s)||(t.Hour=s,t.TimeSlot=YAe(s))}return t}function KAe(e){const t={};Object.keys(kf).forEach(a=>{const s=kf[a],i=e[s];t[a]=L1(i)});const n=t.volume||0;if(t.baseAcionavel,!t.taxaConversao&&t.cartoesGerados&&n&&(t.taxaConversao=t.cartoesGerados/n*100),!t.cac&&t.cartoesGerados){const a=L1(e["Custo Total da Oferta"]),s=L1(e["Custo total canal"]),i=a+s;i>0&&(t.cac=i/t.cartoesGerados)}if(!t.baseAcionavel&&n){const a=t.taxaEntrega||.78;t.baseAcionavel=n*a}return t}function GAe(e,t,r,n){const a=Math.floor((t.getTime()-e.getTime())/864e5);if(a<0)return 1;if(a>n)return 0;const s=-Math.log(r)/n;return Math.exp(-s*a)}function b9(e){if(!e)return null;let t=new Date(e);if(!isNaN(t.getTime()))return t;const r=e.split("/");return r.length===3&&(t=new Date(parseInt(r[2],10),parseInt(r[1],10)-1,parseInt(r[0],10)),!isNaN(t.getTime()))?t:null}function L1(e){if(typeof e=="number")return e;if(!e)return 0;let t=String(e).replace(/[R$\s%]/g,"").replace(/\./g,"").replace(",",".");const r=parseFloat(t);return isNaN(r)?0:r}function qAe(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function YAe(e){return e>=6&&e<12?"manha":e>=12&&e<18?"tarde":"noite"}function $l(e,t){const r=new Map;return e.forEach(n=>{const a=String(n.features[t]||"undefined"),s=r.get(a)||[];s.push(n),r.set(a,s)}),r}function ys(e,t){const r=e.map(m=>({value:m.metrics[t],weight:m.temporalWeight})).filter(m=>m.value>0);if(r.length===0)return{mean:0,median:0,stdDev:0,min:0,max:0,count:0,weightedMean:0};const n=[...r].sort((m,v)=>m.value-v.value),s=r.reduce((m,v)=>m+v.value,0)/r.length,i=Math.floor(n.length/2),o=n.length%2===0?(n[i-1].value+n[i].value)/2:n[i].value,c=r.map(m=>Math.pow(m.value-s,2)).reduce((m,v)=>m+v,0)/r.length,u=Math.sqrt(c),f=r.reduce((m,v)=>m+v.value*v.weight,0),h=r.reduce((m,v)=>m+v.weight,0),p=h>0?f/h:s;return{mean:s,median:o,stdDev:u,min:n[0].value,max:n[n.length-1].value,count:r.length,weightedMean:p}}function U4(e,t){const r={};return e.forEach(n=>{const a=String(n.features[t]||"undefined");r[a]=(r[a]||0)+1}),r}function $1(e,t,r=bm,n=100){return e.map(s=>XAe(s,t,r)).filter(s=>s.score>0).sort((s,i)=>i.score-s.score).slice(0,n)}function XAe(e,t,r){const n={},a=[];let s=0,i=0;[{dimension:"BU",formField:"bu",featureKey:"BU"},{dimension:"Segmento",formField:"segmento",featureKey:"Segmento"},{dimension:"Canal",formField:"canal",featureKey:"Canal"},{dimension:"Jornada",formField:"jornada",featureKey:"Jornada"},{dimension:"Perfil_Credito",formField:"perfilCredito",featureKey:"Perfil_Credito"},{dimension:"Oferta",formField:"oferta",featureKey:"Oferta"},{dimension:"Promocional",formField:"promocional",featureKey:"Promocional"},{dimension:"Parceiro",formField:"parceiro",featureKey:"Parceiro"},{dimension:"Subgrupo",formField:"subgrupo",featureKey:"Subgrupo"},{dimension:"Etapa_Aquisicao",formField:"etapaAquisicao",featureKey:"Etapa_Aquisicao"},{dimension:"Produto",formField:"produto",featureKey:"Produto"}].forEach(({dimension:h,formField:p,featureKey:m})=>{const v=t[p],g=e.features[m],x=r[h];if(v&&g){const b=ZAe(String(v),String(g));n[h]=b,s+=b*x,i+=x,b===1&&a.push(h)}else v&&(n[h]=0,i+=x)});const l=r.Temporal,c=e.temporalWeight;n.Temporal=c,s+=c*l,i+=l;const u=i>0?s/i*100:0,f=eje(a);return{activity:e,score:Math.round(u*100)/100,level:f,matchedDimensions:a,dimensionScores:n}}function ZAe(e,t){if(!e||!t)return 0;const r=V4(e),n=V4(t);return!r||!n?0:r===n?1:r.includes(n)||n.includes(r)?.7:JAe(r,n)>.8?.5:0}function V4(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]/g,"").trim()}function JAe(e,t){if(e.length===0&&t.length===0)return 1;if(e.length===0||t.length===0)return 0;const r=Math.max(e.length,t.length);return 1-QAe(e,t)/r}function QAe(e,t){const r=e.length,n=t.length;if(r===0)return n;if(n===0)return r;const a=Array(r+1).fill(null).map(()=>Array(n+1).fill(0));for(let s=0;s<=r;s++)a[s][0]=s;for(let s=0;s<=n;s++)a[0][s]=s;for(let s=1;s<=r;s++)for(let i=1;i<=n;i++){const o=e[s-1]===t[i-1]?0:1;a[s][i]=Math.min(a[s-1][i]+1,a[s][i-1]+1,a[s-1][i-1]+o)}return a[r][n]}function eje(e){const t=n=>n.every(a=>e.includes(a));return t(["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"])?"exact":t(["BU","Segmento","Canal","Perfil_Credito"])?"high":t(["BU","Segmento"])?"medium":e.includes("BU")?"low":"fallback"}function tje(e){const t={exact:[],high:[],medium:[],low:[],fallback:[]};return e.forEach(r=>{t[r.level].push(r)}),t}function W4(e,t=5){const r=tje(e),n=["exact","high","medium","low","fallback"];for(const a of n)if(r[a].length>=t)return{matches:r[a],level:a};return{matches:e.length>0?e:[],level:"fallback"}}function rje(e,t){if(e.length===0)return 0;const n={exact:95,high:80,medium:65,low:45,fallback:25}[t],a=Math.min(15,Math.log10(e.length+1)*10),i=e.reduce((o,l)=>o+l.score,0)/e.length/100*10;return Math.min(100,Math.round(n+a+i))}function w9(e,t,r){if(e.length<10)return r.map((i,o)=>({feature:i,importance:0,rank:o+1}));const n=ys(e,t);if(n.weightedMean===0)return r.map((i,o)=>({feature:i,importance:0,rank:o+1}));const s=[];return r.forEach(i=>{const o=$l(e,i);let l=0,c=0;o.forEach(p=>{if(p.length>1){const m=ys(p,t);l+=m.stdDev*m.stdDev*p.length,c+=p.length}});const u=c>0?l/c:0,f=n.stdDev*n.stdDev,h=f>0?(f-u)/f*100:0;s.push({feature:i,importance:Math.max(0,Math.min(100,h))})}),s.sort((i,o)=>o.importance-i.importance),s.map((i,o)=>({feature:i.feature,importance:Math.round(i.importance*100)/100,rank:o+1}))}function nje(e,t,r,n){const a=[];return $l(e,t),n.forEach(s=>{if(s===t)return;const i=$l(e,s);let o=!1;if(i.forEach((f,h)=>{const p=H4(f,t),m=H4(e,t);lje(p,m)>.3&&(o=!0)}),!o)return;const l=$l(e,s);let c=!1;const u=[];if(l.forEach(f=>{if(f.length>=3){const h=ys(f,r);u.push(h.weightedMean)}}),u.length>=2){const f=cje(u),p=ys(e,r).weightedMean;p>0&&f/(p*p)>.1&&(c=!0)}o&&c&&a.push(s)}),a}function aje(e,t,r,n,a,s){const i=e.filter(p=>di(String(p.features[t]||""))===di(r)),o=e.filter(p=>di(String(p.features[t]||""))===di(n));if(i.length<3||o.length<3)return null;const l=ys(i,a),c=ys(o,a);let f=l.weightedMean>0?(c.weightedMean-l.weightedMean)/l.weightedMean*100:0,h=.5;if(s.length>0){const p=[],m=s[0];$l(e,m).forEach(g=>{const x=g.filter(y=>di(String(y.features[t]||""))===di(r)),b=g.filter(y=>di(String(y.features[t]||""))===di(n));if(x.length>=2&&b.length>=2){const y=ys(x,a),_=ys(b,a);if(y.weightedMean>0){const S=(_.weightedMean-y.weightedMean)/y.weightedMean*100;p.push(S)}}}),p.length>=2&&(f=p.reduce((g,x)=>g+x,0)/p.length,h=.7+.3*Math.min(1,p.length/5))}else{const p=i.length+o.length;h=Math.min(.9,.4+p/100*.5)}return{fromFeature:t,fromValue:r,toValue:n,expectedChange:Math.round(f*100)/100,confidence:Math.round(h*100)/100,sampleSizeFrom:i.length,sampleSizeTo:o.length}}function sje(e,t,r){const n=[];return w9(e,t,["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Parceiro","Etapa_Aquisicao"]).filter(o=>o.importance>10).slice(0,5).forEach(({feature:o,importance:l})=>{const c=r[o.toLowerCase()]||r[o]||"";if(!c)return;const u=$l(e,o),f=u.get(di(c))||u.get(c);if(!f||f.length<3)return;const h=ys(e,t),p=ys(f,t);if(h.weightedMean===0)return;const m=(p.weightedMean-h.weightedMean)/h.weightedMean*100;Math.abs(m)>5&&n.push({feature:o,value:c,impact:Math.round(m*10)/10,direction:m>0?"positive":"negative",explanation:ije(o,c,m,t),shapleyValue:l/100,isConfounder:!1})}),n.sort((o,l)=>Math.abs(l.impact)-Math.abs(o.impact)),n.slice(0,5)}function ije(e,t,r,n){const s={volume:"volume",taxaConversao:"taxa de conversao",baseAcionavel:"base acionavel",cac:"CAC",taxaEntrega:"taxa de entrega",taxaAbertura:"taxa de abertura",propostas:"propostas",aprovados:"aprovados",cartoesGerados:"cartoes gerados"}[n]||n,i=r>0?"aumenta":"diminui",o=Math.abs(r).toFixed(1);return`${e} "${t}" ${i} ${s} em ${o}%`}function oje(e,t,r){var c;const n=["BU","Segmento","Canal","Jornada","Perfil_Credito","Oferta","Promocional","Parceiro","Subgrupo","Etapa_Aquisicao","Produto"],a=w9(e,t,n),s={};a.forEach(({feature:u,importance:f})=>{s[u]=f/100});const i=(c=a[0])==null?void 0:c.feature,o=i?nje(e,i,t,n.filter(u=>u!==i)):[],l=[];if(i){const u=r[i.toLowerCase()]||r[i];$l(e,i).forEach((h,p)=>{if(p!==u&&p!=="undefined"){const m=aje(e,i,u||"",p,t,o);m&&Math.abs(m.expectedChange)>5&&l.push(m)}})}return l.sort((u,f)=>Math.abs(f.expectedChange)-Math.abs(u.expectedChange)),{targetMetric:t,shapleyValues:s,confounders:o,interventionEffects:l.slice(0,5),featureImportance:a}}function di(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim()}function H4(e,t){const r={};e.forEach(a=>{const s=String(a.features[t]||"undefined");r[s]=(r[s]||0)+1});const n=e.length;return Object.keys(r).forEach(a=>{r[a]=r[a]/n}),r}function lje(e,t){const r=new Set([...Object.keys(e),...Object.keys(t)]);let n=0;return r.forEach(a=>{const s=e[a]||0,i=t[a]||0;n+=Math.abs(s-i)}),n/2}function cje(e){if(e.length===0)return 0;const t=e.reduce((n,a)=>n+a,0)/e.length;return e.map(n=>Math.pow(n-t,2)).reduce((n,a)=>n+a,0)/e.length}function uje(e,t,r,n,a){const s=dje(t,r,a),i=fje(e,t,r,s),o=hje(r),l=pje(t),c=mje(n);return{summary:i,causalFactors:n,correlationFactors:c,timeDecay:l,sampleSize:t,dataQuality:s,matchLevel:r,matchPercentage:o}}function dje(e,t,r){let n=0;if(e>=50?n+=3:e>=20?n+=2:e>=5&&(n+=1),n+={exact:3,high:2,medium:1,low:0,fallback:0}[t],r.mean>0){const s=r.stdDev/r.mean;s<.3?n+=2:s<.5&&(n+=1)}return n>=6?"high":n>=3?"medium":"low"}function fje(e,t,r,n){const s={volume:"Volume de Base",taxaConversao:"Taxa de Conversao",baseAcionavel:"Base Acionavel",cac:"CAC",taxaEntrega:"Taxa de Entrega",taxaAbertura:"Taxa de Abertura",propostas:"Propostas",aprovados:"Aprovados",cartoesGerados:"Cartoes Gerados"}[e];if(t===0)return`Sem dados historicos para projetar ${s}.`;const i={exact:"campanhas identicas",high:"campanhas muito similares",medium:"campanhas similares",low:"campanhas com mesma BU",fallback:"dados gerais"},o={high:"Alta confianca",medium:"Confianca moderada",low:"Baixa confianca"},l=i[r];return`${o[n]}: baseado em ${t} ${l}.`}function hje(e){return{exact:100,high:80,medium:60,low:40,fallback:20}[e]}function pje(e){return e>=50?"Peso maior para ultimos 30 dias, decaimento exponencial em 90 dias.":e>=20?"Peso para dados recentes, janela de 90 dias.":e>0?"Todos os dados disponiveis foram considerados.":"N/A"}function mje(e){return e.slice(0,3).map(t=>({feature:t.feature,correlation:t.impact>0?.7:-.7,pValue:t.impact>20?.01:.05}))}function _9(e,t,r,n,a){const s=t.map(v=>v.activity);if(s.length===0)return _je(e);const i=ys(s,e),o=gje(e,t);let l=xje(e,i,n,o);const c=bje(i,l),u=rje(t,r),f=Sje(n),h=sje(a,e,f),p=kje(t,e),m=uje(e,t.length,r,h,i);return{field:e,projectedValue:B1(l,e),confidence:u,interval:{min:B1(c.min,e),max:B1(c.max,e)},method:o,explanation:m,similarCampaigns:p,metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}function vje(e,t,r,n){const a=["volume","taxaConversao","baseAcionavel","cac","taxaEntrega","taxaAbertura","propostas","aprovados","cartoesGerados"],s={};return a.forEach(i=>{s[i]=_9(i,e,t,r,n)}),wje(s,r),s}function gje(e,t,r){return["taxaConversao","cac","taxaAbertura"].includes(e)&&t.length>=30?"causal":t.some(a=>a.level==="exact"||a.level==="high")?"correlation":t.length<10?"fallback":"frequency"}function xje(e,t,r,n){let a=t.weightedMean;switch(n){case"causal":a=t.median;break;case"correlation":a=t.weightedMean;break;case"frequency":a=t.median;break;case"fallback":a=t.mean*.8;break}return a=yje(e,a,r),Math.max(0,a)}function yje(e,t,r,n){switch(e){case"volume":return r.baseVolume&&r.baseVolume>0?r.baseVolume:t;case"baseAcionavel":return(r.baseVolume||t)*.78;case"cac":if(t===0&&r.canal){const o=y9[r.canal]||.01,l=r.baseVolume||1e4,c=l*.02;return o*l/Math.max(1,c)}return t;case"taxaEntrega":return Math.min(100,Math.max(0,t));case"taxaAbertura":let i=100;return r.canal==="E-mail"&&(i=50),r.canal==="SMS"&&(i=80),r.canal==="WhatsApp"&&(i=90),Math.min(i,Math.max(0,t));case"taxaConversao":return Math.min(20,Math.max(0,t));default:return t}}function bje(e,t){const r=e.stdDev*1.96,n=r>0?r:t*.2;return{min:Math.max(0,t-n),max:t+n}}function wje(e,t){const r=e.volume.projectedValue||t.baseVolume||0,n=e.taxaConversao.projectedValue/100,a=.65,s=.85;if(r>0){const i=e.taxaEntrega.projectedValue/100||.78;e.baseAcionavel.projectedValue=Math.round(r*i),(e.propostas.projectedValue===0||n>0)&&(e.propostas.projectedValue=Math.round(r*n));const o=e.propostas.projectedValue;e.aprovados.projectedValue===0&&o>0&&(e.aprovados.projectedValue=Math.round(o*a));const l=e.aprovados.projectedValue;if(e.cartoesGerados.projectedValue===0&&l>0&&(e.cartoesGerados.projectedValue=Math.round(l*s)),t.canal){const c=y9[t.canal]||.01,u=t.oferta&&UAe[t.oferta]||0,f=r*(c+u),h=e.cartoesGerados.projectedValue;h>0&&(e.cac.projectedValue=Math.round(f/h*100)/100)}}}function _je(e){return{field:e,projectedValue:0,confidence:0,interval:{min:0,max:0},method:"fallback",explanation:{summary:"Sem dados historicos suficientes para projecao",causalFactors:[],correlationFactors:[],timeDecay:"N/A",sampleSize:0,dataQuality:"low",matchLevel:"fallback",matchPercentage:0},similarCampaigns:[],metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}function kje(e,t){return e.slice(0,5).map(r=>({id:r.activity.id,activityName:r.activity.raw["Activity name / Taxonomia"]||r.activity.id,dataDisparo:r.activity.dispatchDate.toISOString().split("T")[0],metricValue:r.activity.metrics[t],similarityScore:r.score}))}function Sje(e){const t={};return e.bu&&(t.BU=e.bu),e.segmento&&(t.Segmento=e.segmento),e.canal&&(t.Canal=e.canal),e.jornada&&(t.Jornada=e.jornada),e.perfilCredito&&(t.Perfil_Credito=e.perfilCredito),e.oferta&&(t.Oferta=e.oferta),e.parceiro&&(t.Parceiro=e.parceiro),e.etapaAquisicao&&(t.Etapa_Aquisicao=e.etapaAquisicao),t}function B1(e,t){return["volume","baseAcionavel","propostas","aprovados","cartoesGerados"].includes(t)?Math.round(e):Math.round(e*100)/100}class Eje{constructor(t={}){ts(this,"processedActivities",[]);ts(this,"rawActivities",[]);ts(this,"config");ts(this,"isInitialized",!1);this.config={...x9,...t}}initialize(t){console.log(`[AIOrchestrator] Inicializando com ${t.length} atividades...`),this.rawActivities=t,this.processedActivities=VAe(t,this.config),console.log(`[AIOrchestrator] ${this.processedActivities.length} atividades processadas na janela de ${this.config.temporalWindow} dias.`),this.isInitialized=!0}isReady(){return this.isInitialized&&this.processedActivities.length>0}projectField(t,r){if(!this.isReady())return console.warn("[AIOrchestrator] Orquestrador nao inicializado."),this.createEmptyProjection(t);const n={...bm,...this.config.similarityWeights},a=$1(this.processedActivities,r,n),{matches:s,level:i}=W4(a,this.config.minSampleSize);return _9(t,s,i,r,this.processedActivities)}projectAllFields(t){if(!this.isReady())return console.warn("[AIOrchestrator] Orquestrador nao inicializado."),this.createEmptyAllProjections();const r={...bm,...this.config.similarityWeights},n=$1(this.processedActivities,t,r),{matches:a,level:s}=W4(n,this.config.minSampleSize),i=vje(a,s,t,this.processedActivities),o=Object.values(i).map(c=>c.confidence),l=o.length>0?Math.round(o.reduce((c,u)=>c+u,0)/o.length):0;return{projections:i,overallConfidence:l,totalSampleSize:a.length,computedAt:new Date().toISOString()}}suggestFieldValue(t,r){if(!this.isReady())return[];const n=[],a=$1(this.processedActivities,r,bm,50);if(a.length===0)return n;const i={jornada:"Jornada",canal:"Canal",oferta:"Oferta",promocional:"Promocional",parceiro:"Parceiro",subgrupo:"Subgrupo",etapaAquisicao:"Etapa_Aquisicao",perfilCredito:"Perfil_Credito",produto:"Produto"}[t];if(!i)return n;const o={};a.forEach(u=>{const f=u.activity.features[i];f&&typeof f=="string"&&(o[f]=(o[f]||0)+u.score)});const l=Object.entries(o).sort((u,f)=>f[1]-u[1]).slice(0,5),c=l.reduce((u,[,f])=>u+f,0);return l.forEach(([u,f])=>{n.push({value:u,confidence:Math.round(f/c*100),source:`${a.length} campanhas similares`})}),n}getCausalAnalysis(t,r){if(!this.isReady())return{targetMetric:t,shapleyValues:{},confounders:[],interventionEffects:[],featureImportance:[]};const n={};return r.bu&&(n.BU=r.bu),r.segmento&&(n.Segmento=r.segmento),r.canal&&(n.Canal=r.canal),r.jornada&&(n.Jornada=r.jornada),r.perfilCredito&&(n.Perfil_Credito=r.perfilCredito),r.oferta&&(n.Oferta=r.oferta),r.parceiro&&(n.Parceiro=r.parceiro),r.etapaAquisicao&&(n.Etapa_Aquisicao=r.etapaAquisicao),oje(this.processedActivities,t,n)}getDatasetStats(){if(!this.isReady())return{totalActivities:0,dateRange:{from:new Date,to:new Date},buDistribution:{},segmentoDistribution:{}};const r=this.processedActivities.map(n=>n.dispatchDate).sort((n,a)=>n.getTime()-a.getTime());return{totalActivities:this.processedActivities.length,dateRange:{from:r[0]||new Date,to:r[r.length-1]||new Date},buDistribution:U4(this.processedActivities,"BU"),segmentoDistribution:U4(this.processedActivities,"Segmento")}}createEmptyProjection(t){return{field:t,projectedValue:0,confidence:0,interval:{min:0,max:0},method:"fallback",explanation:{summary:"Orquestrador nao inicializado ou sem dados.",causalFactors:[],correlationFactors:[],timeDecay:"N/A",sampleSize:0,dataQuality:"low",matchLevel:"fallback",matchPercentage:0},similarCampaigns:[],metadata:{computedAt:new Date().toISOString(),version:"2.0"}}}createEmptyAllProjections(){const t=["volume","taxaConversao","baseAcionavel","cac","taxaEntrega","taxaAbertura","propostas","aprovados","cartoesGerados"],r={};return t.forEach(n=>{r[n]=this.createEmptyProjection(n)}),{projections:r,overallConfidence:0,totalSampleSize:0,computedAt:new Date().toISOString()}}}let z1=null;function Cje(e){return z1||(z1=new Eje(e)),z1}const k9=w.createContext(null),pd=()=>{const e=w.useContext(k9);if(!e)throw new Error("useDispatchForm deve ser usado dentro de DispatchFormProvider");return e},K4={bu:"",segmento:"",jornada:"",activityName:"",canal:"",parceiro:"",subgrupo:"",dataInicio:"",dataFim:"",horarioDisparo:"10:00",safra:"",ordemDisparo:1,produto:"Classic",perfilCredito:"",etapaAquisicao:"",oferta:"",promocional:"",oferta2:"",promocional2:"",baseVolume:"",custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:"Rascunho"},Tje=({children:e,editingActivity:t=null,activeSegmento:r})=>{const[n,a]=w.useState(K4),[s,i]=w.useState({}),[o,l]=w.useState(!1),[c,u]=w.useState({}),f=mt(x=>x.activities),h=mt(x=>x.frameworkData)||[],p=w.useMemo(()=>{const x=new Map,b=new Map,y=new Map,_=new Map,S=new Map,k=new Map,E=new Map,C=new Map,T=new Map,A=new Map,N=new Map,j=new Map,P=(B,q)=>{if(q&&typeof q=="string"&&q.trim()){const K=q.trim();B.set(K,(B.get(K)||0)+1)}};f.forEach(B=>{const q=B.raw||B;P(x,q.Segmento),P(E,q.Jornada||q.jornada),P(j,q.Canal||q.canal),P(C,q.Parceiro),P(y,q.Oferta),P(S,q.Promocional),P(_,q["Oferta 2"]),P(k,q["Promocional 2"]),P(b,q["Perfil de Crdito"]),P(T,q.Subgrupos),P(A,q["Etapa de aquisio"]),P(N,q.Produto)});const R=B=>Array.from(B.entries()).map(([q,K])=>({value:q,count:K,isSmart:!1})).sort((q,K)=>K.count-q.count);return{segmentos:R(x),perfisCredito:R(b),ofertas:R(y),ofertas2:R(_),promocionais:R(S),promocionais2:R(k),jornadas:R(E),parceiros:R(C),subgrupos:R(T),etapasAquisicao:R(A),produtos:R(N),canais:R(j)}},[f]),m=w.useMemo(()=>{const x=(T,A)=>{if(!T||T.length===0)return A;const N=T.map(R=>({value:R,count:999,isSmart:!0})),j=new Set(T),P=A.filter(R=>!j.has(R.value));return[...N,...P]},b=n.bu?DAe[n.bu]:[],y=MAe[n.segmento]||{},_=y.parceiros||[],S=y.subgrupos||[],k=z4[n.oferta]||[],E=z4[n.oferta2]||[],C=Array.from(new Set(h.map(T=>T.Jornada||T.jornada).filter(Boolean)));return{...p,segmentos:x(b,p.segmentos),parceiros:x(_,p.parceiros),subgrupos:x(S,p.subgrupos),promocionais:x(k,p.promocionais),promocionais2:x(E,p.promocionais2),jornadas:x(C,p.jornadas)}},[p,n.bu,n.segmento,n.oferta,n.oferta2,h]),v=w.useCallback((x,b)=>{a(y=>({...y,[x]:b})),s[x]&&i(y=>{const _={...y};return delete _[x],_})},[s]);w.useEffect(()=>{t?a({bu:t.BU,segmento:t.Segmento,jornada:t.jornada,activityName:t["Activity name / Taxonomia"],canal:t.Canal||"",parceiro:t.Parceiro||"",subgrupo:t.Subgrupos||"",dataInicio:t["Data de Disparo"],dataFim:t["Data Fim"],horarioDisparo:t["Horrio de Disparo"]||"10:00",safra:t.Safra||"",ordemDisparo:t["Ordem de disparo"]||1,produto:t.Produto||"Classic",perfilCredito:t["Perfil de Crdito"]||"",etapaAquisicao:t["Etapa de aquisio"]||"",oferta:t.Oferta||"",promocional:t.Promocional||"",oferta2:t["Oferta 2"]||"",promocional2:t["Promocional 2"]||"",baseVolume:String(t["Base Total"]||""),custoUnitarioOferta:"",custoTotalOferta:"",custoUnitarioCanal:"",custoTotalCanal:"",custoTotalCampanha:"",status:t.status}):(a({...K4,segmento:r}),i({}))},[t,r]),w.useEffect(()=>{if(n.dataInicio&&!t){const x=new Date(n.dataInicio);x.setDate(x.getDate()+2);const b=x.toISOString().split("T")[0];a(y=>({...y,dataFim:b}))}},[n.dataInicio,t]),w.useEffect(()=>{if(n.dataInicio){const x=IAe(n.dataInicio);a(b=>({...b,safra:x}))}},[n.dataInicio]),w.useEffect(()=>{if(n.jornada&&n.dataInicio&&!t){const x=RAe(n.jornada,n.dataInicio,f);a(b=>({...b,ordemDisparo:x}))}},[n.jornada,n.dataInicio,f,t]),w.useEffect(()=>{if(n.bu&&n.segmento&&n.jornada&&n.safra&&n.ordemDisparo&&!t){const x=typeof n.ordemDisparo=="number"?n.ordemDisparo:1,b=FAe(n.bu,n.segmento,n.jornada,x,n.safra);b&&!n.activityName&&a(y=>({...y,activityName:b}))}},[n.bu,n.segmento,n.jornada,n.safra,n.ordemDisparo,t,n.activityName]),w.useEffect(()=>{n.canal&&$4[n.canal]&&a(x=>({...x,custoUnitarioCanal:String($4[n.canal].toFixed(3))}))},[n.canal]),w.useEffect(()=>{n.oferta&&B4[n.oferta]&&a(x=>({...x,custoUnitarioOferta:String(B4[n.oferta].toFixed(2))}))},[n.oferta]),w.useEffect(()=>{const x=Number(n.baseVolume)||0,b=Number(n.custoUnitarioOferta)||0,y=Number(n.custoUnitarioCanal)||0;if(x>0){const _=LAe(b,x),S=$Ae(y,x),k=BAe(_,S);a(E=>({...E,custoTotalOferta:String(_.toFixed(2)),custoTotalCanal:String(S.toFixed(2)),custoTotalCampanha:String(k.toFixed(2))}))}},[n.baseVolume,n.custoUnitarioOferta,n.custoUnitarioCanal]),w.useEffect(()=>{if(n.bu&&f.length>0)try{const x=f.filter(k=>k.raw!=null).map(k=>({...k.raw,"Data de Disparo":k.raw["Data de Disparo"]||(k.dataDisparo?new Date(k.dataDisparo).toISOString().split("T")[0]:""),BU:k.raw.BU||k.bu,Segmento:k.raw.Segmento||k.segmento}));if(x.length===0){console.warn("[DispatchContext] No valid activities with .raw data"),u({});return}const b=Cje({temporalWindow:90,similarityWeights:{BU:.15,Segmento:.15,Canal:.12,Jornada:.1,Perfil_Credito:.1,Oferta:.08,Promocional:.05,Parceiro:.05,Subgrupo:.05,Etapa_Aquisicao:.05,Produto:.05,Temporal:.05},minSampleSize:5});b.initialize(x);const y={BU:n.bu,Segmento:n.segmento||"",Canal:n.canal||void 0,Jornada:n.jornada||void 0,Perfil_Credito:n.perfilCredito||void 0,Oferta:n.oferta||void 0,Promocional:n.promocional||void 0,Parceiro:n.parceiro||void 0,Subgrupo:n.subgrupo||void 0,Etapa_Aquisicao:n.etapaAquisicao||void 0,Produto:n.produto||void 0,volume:n.baseVolume?Number(n.baseVolume):void 0},_=b.projectAllFields(y),S={};Object.entries(_).forEach(([k,E])=>{S[k]=E}),u(S),console.log("[AI Projection] Computed using AIOrchestrator:",{input:y,results:Object.keys(S),sampleSize:b.getDatasetStats().totalActivities})}catch(x){console.error("[DispatchContext] AI Projection Error:",x),u({})}else u({})},[n.bu,n.segmento,n.canal,n.jornada,n.perfilCredito,n.oferta,n.baseVolume,f]),w.useEffect(()=>{if(n.oferta&&!t&&!n.promocional){const x=f.filter(b=>{const y=b.raw||b;return y.Oferta===n.oferta&&y.Promocional});if(x.length>0){const b=new Map;x.forEach(S=>{const E=(S.raw||S).Promocional;E&&b.set(E,(b.get(E)||0)+1)});let y="",_=0;b.forEach((S,k)=>{S>_&&(_=S,y=k)}),y&&(console.log("[DispatchForm] Auto-sugerindo Promocional:",y,`(${_}x usado)`),a(S=>({...S,promocional:y})))}}},[n.oferta,f,t,n.promocional]),w.useEffect(()=>{if(n.bu&&n.segmento&&n.oferta&&!t){const x=f.filter(b=>{const y=b.raw||b;return y.BU===n.bu&&y.Segmento===n.segmento&&y.Oferta===n.oferta});if(x.length>0){if(!n.oferta2){const b=new Map;x.forEach(S=>{const E=(S.raw||S)["Oferta 2"];E&&b.set(E,(b.get(E)||0)+1)});let y="",_=0;b.forEach((S,k)=>{S>_&&(_=S,y=k)}),y&&_>=2&&(console.log("[DispatchForm] Auto-sugerindo Oferta 2:",y),a(S=>({...S,oferta2:y})))}if(!n.promocional2){const b=new Map;x.forEach(S=>{const E=(S.raw||S)["Promocional 2"];E&&b.set(E,(b.get(E)||0)+1)});let y="",_=0;b.forEach((S,k)=>{S>_&&(_=S,y=k)}),y&&_>=2&&(console.log("[DispatchForm] Auto-sugerindo Promocional 2:",y),a(S=>({...S,promocional2:y})))}}}},[n.bu,n.segmento,n.oferta,f,t,n.oferta2,n.promocional2]),w.useEffect(()=>{console.log("[DispatchForm] Estado atual:",{bu:n.bu,segmento:n.segmento,jornada:n.jornada,canal:n.canal,oferta:n.oferta,promocional:n.promocional,oferta2:n.oferta2,promocional2:n.promocional2,baseVolume:n.baseVolume,custoUnitarioOferta:n.custoUnitarioOferta,custoUnitarioCanal:n.custoUnitarioCanal,custoTotalCampanha:n.custoTotalCampanha,projectionsKeys:Object.keys(c),activitiesCount:f.length})},[n,c,f]);const g=w.useMemo(()=>({formData:n,setFormData:a,handleChange:v,errors:s,setErrors:i,smartOptions:m,projections:c,loading:o,setLoading:l,editingActivity:t,activities:f}),[n,v,s,m,c,o,t,f]);return d.jsx(k9.Provider,{value:g,children:e})},lr=({label:e,required:t,tooltip:r})=>d.jsxs("label",{className:"flex items-center gap-0.5 text-[9px] font-bold text-slate-500 uppercase tracking-wider mb-0.5",children:[e,t&&d.jsx("span",{className:"text-blue-500",children:"*"}),r&&d.jsx("span",{title:r,className:"text-slate-600 hover:text-slate-400 cursor-help transition-colors",children:d.jsx(aa,{size:9})})]}),wo=({className:e="",error:t,...r})=>d.jsxs("div",{className:"relative",children:[d.jsx("input",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                placeholder:text-slate-600
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...r}),t&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),Aje=({className:e="",error:t,children:r,...n})=>d.jsxs("div",{className:"relative",children:[d.jsx("select",{className:`
                w-full px-2 py-1.5
                bg-slate-800/50 border rounded
                text-[11px] font-medium text-slate-200
                focus:outline-none focus:ring-1 focus:ring-blue-500/50
                transition-all appearance-none cursor-pointer
                ${t?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                ${e}
            `,...n,children:r}),d.jsx("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 pointer-events-none text-slate-500",children:d.jsx("svg",{width:"8",height:"5",viewBox:"0 0 10 6",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:d.jsx("path",{d:"m1 1 4 4 4-4"})})}),t&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:t})]}),sy=({title:e,icon:t,children:r,headerClassName:n="text-slate-300",badge:a})=>d.jsxs("section",{className:"bg-slate-800/40 p-3 rounded-lg border border-slate-700/50 flex flex-col gap-2 hover:border-slate-600/50 transition-colors duration-300 h-full",children:[d.jsxs("div",{className:`flex items-center justify-between pb-1.5 border-b border-slate-700/50 ${n}`,children:[d.jsxs("div",{className:"flex items-center gap-1.5",children:[d.jsx("div",{className:"opacity-70 text-slate-400",children:t}),d.jsx("h3",{className:"text-[10px] font-bold uppercase tracking-wider",children:e})]}),a&&d.jsx("span",{className:"px-1 py-0.5 bg-slate-700/50 rounded text-[8px] text-slate-400 font-bold uppercase",children:a})]}),d.jsx("div",{className:"flex-1 flex flex-col",children:r})]}),ui=({label:e,value:t,prefix:r="",suffix:n="",isInt:a=!1,confidence:s,compact:i=!1})=>d.jsxs("div",{className:`
        bg-slate-900/50 border border-indigo-500/10 rounded
        ${i?"p-1.5":"p-2"}
        flex flex-col items-center justify-center text-center
    `,children:[d.jsx("span",{className:`uppercase font-bold text-indigo-400 ${i?"text-[7px]":"text-[8px]"}`,children:e}),d.jsx("div",{className:`font-bold text-indigo-200 ${i?"text-xs":"text-sm"}`,children:t!==void 0?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-[9px] text-indigo-500 mr-0.5",children:r}),a?Math.round(t).toLocaleString("pt-BR"):t.toFixed(2),d.jsx("span",{className:"text-[9px] text-indigo-500 ml-0.5",children:n})]}):d.jsx("span",{className:"text-slate-500",children:"-"})}),s!==void 0&&s>0&&d.jsx("div",{className:"w-full mt-1 h-1 bg-slate-800 rounded-full overflow-hidden",children:d.jsx("div",{className:"h-full bg-indigo-500/50 rounded-full transition-all duration-500",style:{width:`${Math.min(100,s)}%`}})})]}),jje=({label:e,value:t,className:r=""})=>d.jsxs("div",{className:`bg-slate-900/40 p-1.5 rounded border border-slate-700/50 ${r}`,children:[d.jsx(lr,{label:e}),d.jsx("div",{className:"text-[11px] text-slate-300 font-mono text-center",children:t||"-"})]}),La=({value:e,onChange:t,options:r,placeholder:n="Digite ou selecione...",error:a,className:s="",disabled:i=!1,allowClear:o=!0})=>{const[l,c]=w.useState(!1),[u,f]=w.useState(e),[h,p]=w.useState(-1),m=w.useRef(null),v=w.useRef(null),g=w.useRef(null);w.useEffect(()=>{f(e)},[e]);const x=w.useMemo(()=>{const k=u.toLowerCase().trim();let E=r;return k&&(E=r.filter(C=>C.value.toLowerCase().includes(k))),E.sort((C,T)=>{const A=C.value.toLowerCase(),N=T.value.toLowerCase();if(A===k&&N!==k)return-1;if(N===k&&A!==k)return 1;if(A.startsWith(k)&&!N.startsWith(k))return-1;if(N.startsWith(k)&&!A.startsWith(k))return 1;if(C.isSmart&&!T.isSmart)return-1;if(!C.isSmart&&T.isSmart)return 1;const j=C.count||0,P=T.count||0;return P!==j?P-j:A.localeCompare(N)})},[r,u]);w.useEffect(()=>{const k=E=>{g.current&&!g.current.contains(E.target)&&(c(!1),u!==e&&t(u))};return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[u,e,t]);const b=w.useCallback(k=>{const E=k.target.value;f(E),c(!0),p(-1)},[]),y=w.useCallback(k=>{var E;f(k.value),t(k.value),c(!1),p(-1),(E=m.current)==null||E.blur()},[t]),_=w.useCallback(k=>{var E;k.stopPropagation(),f(""),t(""),(E=m.current)==null||E.focus()},[t]),S=w.useCallback(k=>{if(!l&&(k.key==="ArrowDown"||k.key==="ArrowUp")){c(!0);return}switch(k.key){case"ArrowDown":k.preventDefault(),p(E=>E<x.length-1?E+1:0);break;case"ArrowUp":k.preventDefault(),p(E=>E>0?E-1:x.length-1);break;case"Enter":k.preventDefault(),h>=0&&x[h]?y(x[h]):u&&(t(u),c(!1));break;case"Escape":c(!1),p(-1);break;case"Tab":u!==e&&t(u),c(!1);break}},[l,h,x,y,u,e,t]);return w.useEffect(()=>{if(h>=0&&v.current){const k=v.current.children[h];k&&k.scrollIntoView({block:"nearest"})}},[h]),d.jsxs("div",{ref:g,className:"relative",children:[d.jsxs("div",{className:"relative flex items-center",children:[d.jsx("input",{ref:m,type:"text",value:u,onChange:b,onFocus:()=>c(!0),onKeyDown:S,disabled:i,placeholder:n,className:`
                        w-full px-2 py-1.5 pr-12
                        bg-slate-800/50 border rounded
                        text-[11px] font-medium text-slate-200
                        placeholder:text-slate-600
                        focus:outline-none focus:ring-1 focus:ring-blue-500/50
                        transition-all
                        ${a?"border-red-500/50 focus:border-red-500":"border-slate-700 focus:border-blue-500"}
                        ${i?"opacity-50 cursor-not-allowed":""}
                        ${s}
                    `}),d.jsxs("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 flex items-center gap-0.5",children:[o&&u&&!i&&d.jsx("button",{type:"button",onClick:_,className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:d.jsx(Za,{size:10})}),d.jsx("button",{type:"button",onClick:()=>!i&&c(!l),className:"p-0.5 text-slate-500 hover:text-slate-300 transition-colors",tabIndex:-1,children:d.jsx($g,{size:12,className:`transition-transform ${l?"rotate-180":""}`})})]})]}),l&&x.length>0&&d.jsx("div",{ref:v,className:`absolute z-[100] w-full mt-0.5 py-0.5 max-h-40 overflow-auto
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               scrollbar-thin scrollbar-thumb-slate-600 scrollbar-track-slate-800`,children:x.map((k,E)=>d.jsxs("div",{onClick:()=>y(k),className:`
                                px-2 py-1 text-[11px] cursor-pointer flex justify-between items-center
                                ${h===E?"bg-blue-600 text-white":"text-slate-200 hover:bg-slate-700"}
                                ${k.value===e?"font-semibold":""}
                            `,children:[d.jsxs("span",{className:"truncate flex items-center gap-1",children:[k.isSmart&&d.jsx("span",{className:"text-yellow-400 text-[9px]",title:"Sugesto do Framework",children:""}),k.value]}),k.count!==void 0&&k.count>0&&!k.isSmart&&d.jsxs("span",{className:`
                                    text-[9px] ml-1 px-1 rounded
                                    ${h===E?"bg-blue-500 text-blue-100":"bg-slate-700 text-slate-400"}
                                `,children:[k.count,"x"]})]},k.value))}),l&&x.length===0&&u&&d.jsxs("div",{className:`absolute z-50 w-full mt-0.5 py-2 px-2
                               bg-slate-800 border border-slate-600 rounded shadow-lg
                               text-[10px] text-slate-400 text-center`,children:['Novo valor: "',u,'"',d.jsx("br",{}),d.jsx("span",{className:"text-[9px] text-slate-500",children:"Pressione Enter para confirmar"})]}),a&&d.jsx("span",{className:"absolute -bottom-3 left-0 text-[8px] text-red-400 font-medium truncate max-w-full",children:a})]})},Pje=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=pd(),a=w.useMemo(()=>n.canais.length>0?n.canais:PAe.map(s=>({value:s,count:0})),[n.canais]);return d.jsx("div",{className:"w-full h-full",children:d.jsx(sy,{title:"Identificacao",icon:d.jsx(KH,{size:14}),badge:"1",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"BU",required:!0,tooltip:"Business Unit - Unidade de negcio responsvel. B2C, B2B2C, Plurix ou Bem Barato"}),d.jsxs(Aje,{value:e.bu,onChange:s=>t("bu",s.target.value),error:r.bu,children:[d.jsx("option",{value:"",children:"..."}),d.jsx("option",{value:"B2C",children:"B2C"}),d.jsx("option",{value:"B2B2C",children:"B2B2C"}),d.jsx("option",{value:"Plurix",children:"Plurix"}),d.jsx("option",{value:"Bem Barato",children:"Bem Barato"})]})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"CAMPANHA",required:!0,tooltip:"Segmento/Campanha de marketing. Ex: Leads_Parceiros, CRM, Cartonistas. Sugere baseado no histrico."}),d.jsx(La,{value:e.segmento,onChange:s=>t("segmento",s),options:n.segmentos,placeholder:"Digite...",error:r.segmento})]})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"ActivityName",required:!0,tooltip:"Identificador nico do disparo no Salesforce. Auto-gerado: BU_CAMPANHA_JORNADA_ORDEM_SAFRA. Editvel."}),d.jsx(wo,{value:e.activityName,onChange:s=>t("activityName",s.target.value),placeholder:"auto: BU_CAMP_JORNADA_ORD_SAFRA",className:"font-mono text-[9px] bg-slate-950/30 border-slate-800 text-slate-300",error:r.activityName})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Jornada",required:!0,tooltip:"Fluxo de comunicao do cliente. Ex: DISPARO_AQUISICAO, RETENO, UPSELL. Sugere do histrico."}),d.jsx(La,{value:e.jornada,onChange:s=>t("jornada",s),options:n.jornadas,placeholder:"Digite ou selecione...",error:r.jornada})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Canal",required:!0,tooltip:"Meio de comunicao. E-mail (R$0,001), Push (R$0,001), SMS (R$0,064), WhatsApp (R$0,420)"}),d.jsx(La,{value:e.canal,onChange:s=>t("canal",s),options:a,placeholder:"Digite ou selecione...",error:r.canal})]}),d.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Parceiro",tooltip:"Origem/Parceiro da base de leads. Ex: Serasa, Acordo Certo, Bom_Pra_Credito"}),d.jsx(La,{value:e.parceiro,onChange:s=>t("parceiro",s),options:n.parceiros,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Subgrupo",tooltip:"Segmentao adicional dentro da campanha. Ex: Ativo, Inativo, Novos, Leais"}),d.jsx(La,{value:e.subgrupo,onChange:s=>t("subgrupo",s),options:n.subgrupos,placeholder:"Digite..."})]})]})})]})})})},Nje=()=>{const{formData:e,handleChange:t,errors:r}=pd();return d.jsx("div",{className:"w-full h-full",children:d.jsx(sy,{title:"Cronograma",icon:d.jsx(lc,{size:14}),badge:"2",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Data Inicio",required:!0,tooltip:"Data de incio do disparo. Formato YYYY-MM-DD"}),d.jsx(wo,{type:"date",value:e.dataInicio,onChange:n=>t("dataInicio",n.target.value),error:r.dataInicio})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Data Fim",required:!0,tooltip:"Data de trmino do disparo. Auto-preenchido como Data Incio + 2 dias."}),d.jsx(wo,{type:"date",value:e.dataFim,onChange:n=>t("dataFim",n.target.value),error:r.dataFim})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Horario",tooltip:"Horrio previsto para o disparo. Padro: 10:00"}),d.jsx(wo,{type:"time",value:e.horarioDisparo,onChange:n=>t("horarioDisparo",n.target.value)})]}),d.jsx("div",{className:"border-t border-slate-700/50 pt-2",children:d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsx(jje,{label:"Safra",value:e.safra}),d.jsxs("div",{children:[d.jsx(lr,{label:"Ordem",tooltip:"Nmero sequencial do disparo na mesma jornada/data. Auto-calculado mas EDITVEL. Ex: 1, 2, 3 ou 'Pontual'"}),d.jsx(wo,{value:e.ordemDisparo,onChange:n=>t("ordemDisparo",n.target.value),placeholder:"ex: 1 ou Pontual",className:"text-center font-bold text-blue-400"})]})]})})]})})})},Oje=()=>{const{formData:e,handleChange:t,errors:r,smartOptions:n}=pd(),a=w.useMemo(()=>n.produtos.length>0?n.produtos:NAe.map(c=>({value:c,count:0})),[n.produtos]),s=w.useMemo(()=>n.etapasAquisicao.length>0?n.etapasAquisicao:OAe.map(c=>({value:c,count:0})),[n.etapasAquisicao]),i=w.useMemo(()=>n.promocionais.length>0?n.promocionais:[{value:"N/A",count:0}],[n.promocionais]),o=w.useMemo(()=>n.ofertas2.length>0?n.ofertas2:[{value:"N/A",count:0}],[n.ofertas2]),l=w.useMemo(()=>n.promocionais2.length>0?n.promocionais2:[{value:"N/A",count:0}],[n.promocionais2]);return d.jsx("div",{className:"w-full h-full",children:d.jsx(sy,{title:"Produto & Oferta",icon:d.jsx(TH,{size:14}),badge:"3",children:d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Produto",required:!0,tooltip:"Tipo do carto a ser oferecido. Ex: Classic, Gold, Platinum"}),d.jsx(La,{value:e.produto,onChange:c=>t("produto",c),options:a,placeholder:"Digite ou selecione..."})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Perfil Credito",tooltip:"Classificao de risco do pblico-alvo. Ex: Whitelist, Alto_Limite, Baixo_Risco"}),d.jsx(La,{value:e.perfilCredito,onChange:c=>t("perfilCredito",c),options:n.perfisCredito,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Etapa Funil",tooltip:"Posio do lead no funil de converso. Aquisio (topo) ou Meio_de_Funil (j engajado)"}),d.jsx(La,{value:e.etapaAquisicao,onChange:c=>t("etapaAquisicao",c),options:s,placeholder:"Digite ou selecione..."})]}),d.jsxs("div",{className:"border-t border-slate-700/50 pt-2 space-y-2",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Oferta",required:!0,tooltip:"Estratgia principal de aquisio. Padro (sem custo), Vibe (R$2), Limite (R$1), Anuidade (R$76,50)"}),d.jsx(La,{value:e.oferta,onChange:c=>t("oferta",c),options:n.ofertas,placeholder:"Digite ou selecione...",error:r.oferta})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Promocional",tooltip:"Ttica promocional adicional. Ex: Em dobro, Upgrade, Black Friday. Preenchido auto baseado na Oferta."}),d.jsx(La,{value:e.promocional,onChange:c=>t("promocional",c),options:i,placeholder:"Digite..."})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Oferta 2",tooltip:"Oferta secundria opcional para A/B test ou combo. Sugerido baseado no histrico."}),d.jsx(La,{value:e.oferta2,onChange:c=>t("oferta2",c),options:o,placeholder:"Digite..."})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"Promo 2",tooltip:"Promocional secundrio opcional. Sugerido baseado no histrico de disparos similares."}),d.jsx(La,{value:e.promocional2,onChange:c=>t("promocional2",c),options:l,placeholder:"Digite..."})]})]})]})]})})})},Dje=()=>{const{formData:e,handleChange:t}=pd(),r=n=>(Number(n)||0).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return d.jsx("div",{className:"w-full h-full",children:d.jsx(sy,{title:"Investimento",icon:d.jsx(Xu,{size:14}),badge:"4",children:d.jsxs("div",{className:"space-y-2.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"Volume Base",required:!0,tooltip:"Quantidade total de contatos que recebero o disparo"}),d.jsx(wo,{type:"number",value:e.baseVolume,onChange:n=>t("baseVolume",n.target.value),placeholder:"Ex: 50000",className:"text-base font-semibold text-slate-200"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-1.5",children:[d.jsxs("div",{children:[d.jsx(lr,{label:"C.U. Oferta",tooltip:"Custo Unitrio por contato da Oferta selecionada. Ex: Vibe=R$2,00, Limite=R$1,00, Padro=R$0,00, Anuidade=R$76,50. Preenchido auto baseado na Oferta."}),d.jsx(wo,{type:"number",step:"0.01",value:e.custoUnitarioOferta,onChange:n=>t("custoUnitarioOferta",n.target.value),className:"bg-slate-900/50 text-[10px]",placeholder:"0.00"})]}),d.jsxs("div",{children:[d.jsx(lr,{label:"C.U. Canal",tooltip:"Custo Unitrio por disparo do Canal. E-mail/Push=R$0,001, SMS=R$0,064, WhatsApp=R$0,420. Preenchido automaticamente."}),d.jsx(wo,{type:"number",step:"0.001",value:e.custoUnitarioCanal,onChange:n=>t("custoUnitarioCanal",n.target.value),className:"bg-slate-900/50 text-[10px] text-slate-400",placeholder:"auto",readOnly:!0})]})]}),d.jsx("div",{className:"mt-auto pt-3",children:d.jsxs("div",{className:"p-3 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center relative group",children:[d.jsxs("div",{className:"flex items-center justify-center gap-1 mb-0.5",children:[d.jsx("span",{className:"text-[8px] uppercase text-slate-400 font-bold",children:"Total Campanha"}),d.jsx("span",{title:"Frmula: Volume  (C.U. Oferta + C.U. Canal). Representa o investimento total do disparo.",className:"text-slate-600 hover:text-slate-400 cursor-help transition-colors",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"9",height:"9",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[d.jsx("circle",{cx:"12",cy:"12",r:"10"}),d.jsx("path",{d:"M12 16v-4"}),d.jsx("path",{d:"M12 8h.01"})]})})]}),d.jsxs("span",{className:"text-base font-bold text-slate-200 block",children:["R$ ",r(e.custoTotalCampanha)]}),d.jsxs("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-slate-900 border border-slate-600 rounded text-[9px] text-slate-300 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-50",children:[e.baseVolume,"  (",e.custoUnitarioOferta||0," + ",e.custoUnitarioCanal||0,")"]})]})})]})})})},Mje=()=>{var S;const{projections:e,formData:t}=pd(),r=e.volume,n=e.taxaConversao,a=e.baseAcionavel,s=e.cac,i=e.propostas,o=e.aprovados,l=e.cartoesGerados,c=e.taxaEntrega,u=e.taxaAbertura,f=(r==null?void 0:r.projectedValue)||Number(t.baseVolume)||0,h=(n==null?void 0:n.projectedValue)||0,p=(a==null?void 0:a.projectedValue)||f*.78,m=(i==null?void 0:i.projectedValue)||f*(h/100),v=(o==null?void 0:o.projectedValue)||m*.65,g=(l==null?void 0:l.projectedValue)||v*.85,x=Number(t.custoTotalCampanha)||0,b=g>0?x/g:0,y=(s==null?void 0:s.projectedValue)||b,_=((S=n==null?void 0:n.explanation)==null?void 0:S.sampleSize)||0;return d.jsx("div",{className:"w-full h-full",children:d.jsxs("div",{className:"bg-indigo-950/20 p-3 rounded-lg border border-indigo-500/20 shadow-sm flex flex-col h-full hover:border-indigo-500/40 transition-colors",children:[d.jsxs("div",{className:"flex items-center justify-between pb-2 border-b border-indigo-500/20 mb-3",children:[d.jsxs("h3",{className:"text-[10px] font-bold text-indigo-400 flex items-center gap-1.5 uppercase tracking-wide",children:[d.jsx(Mn,{size:14}),"Projecao IA",d.jsx(WH,{size:10,className:"text-indigo-300/50"})]}),d.jsx("span",{className:"px-1 py-0.5 bg-indigo-500/10 rounded text-[8px] text-indigo-400 font-bold",children:"5"})]}),d.jsxs("div",{className:"grid grid-cols-3 gap-1.5 flex-1",children:[d.jsx(ui,{label:"Volume",value:f>0?f:void 0,isInt:!0,confidence:r==null?void 0:r.confidence,compact:!0}),d.jsx(ui,{label:"Tx Conv",value:h>0?h:void 0,suffix:"%",confidence:n==null?void 0:n.confidence,compact:!0}),d.jsx(ui,{label:"Bs Acion.",value:p>0?p:void 0,isInt:!0,confidence:a==null?void 0:a.confidence,compact:!0}),d.jsx(ui,{label:"CAC",value:y>0?y:void 0,prefix:"R$",confidence:s==null?void 0:s.confidence,compact:!0}),d.jsx(ui,{label:"Tx Entreg",value:c==null?void 0:c.projectedValue,suffix:"%",confidence:c==null?void 0:c.confidence,compact:!0}),d.jsx(ui,{label:"Tx Abert",value:u==null?void 0:u.projectedValue,suffix:"%",confidence:u==null?void 0:u.confidence,compact:!0}),d.jsx(ui,{label:"Propostas",value:m>0?m:void 0,isInt:!0,confidence:i==null?void 0:i.confidence,compact:!0}),d.jsx(ui,{label:"Aprovados",value:v>0?v:void 0,isInt:!0,confidence:o==null?void 0:o.confidence,compact:!0}),d.jsx(ui,{label:"Cartoes",value:g>0?g:void 0,isInt:!0,confidence:l==null?void 0:l.confidence,compact:!0})]}),d.jsx("div",{className:"mt-3 text-[8px] text-indigo-400/50 text-center border-t border-indigo-500/10 pt-2",children:_>0?d.jsxs(d.Fragment,{children:["Baseado em ",d.jsx("span",{className:"font-bold text-indigo-400",children:_})," disparos similares"]}):d.jsx(d.Fragment,{children:"Preencha BU e Segmento para projecoes"})})]})})};class Ije{constructor(){ts(this,"activities");ts(this,"cache");this.activities=[],this.cache=new Map}initialize(t){this.activities=t||[],this.cache.clear()}analyzePerformance(t,r){const n=this.getCacheKey(t,r);if(this.cache.has(n))return this.cache.get(n);const a=this.filterActivities(t);if(a.length===0)return this.createEmptySnapshot(t,r);const s=this.extractTimeSeries(a,r,t.windowDays);if(s.length===0)return this.createEmptySnapshot(t,r);const i=s.map(p=>p.value),o=this.calculateStats(i),l=this.detectTrend(s),c=this.analyzeDayOfWeekPatterns(a,r,t.windowDays),u=this.analyzeHourOfDayPatterns(a,r,t.windowDays),f=this.assessDataQuality(a,i,o),h={metric:r,filters:t,timeseries:s,stats:o,trend:l,dayOfWeekPatterns:c,hourOfDayPatterns:u,dataQuality:f,computedAt:new Date().toISOString(),sampleSize:a.length};return this.cache.set(n,h),setTimeout(()=>this.cache.delete(n),5*60*1e3),h}compareAlternatives(t,r,n){const a=this.analyzePerformance(t,r),s=a.stats.median,i=[];for(const o of n){const l={...t,[o.field]:o.value},c=this.analyzePerformance(l,r),f=(c.stats.median-s)/s*100;i.push({change:`${o.field}: ${o.value}`,changedField:o.field,previousValue:t[o.field],newValue:o.value,performance:c,improvementPercent:f,confidence:this.calculateComparisonConfidence(a.sampleSize,c.sampleSize,a.stats.stdDev,c.stats.stdDev),sampleCount:c.sampleSize})}return i.sort((o,l)=>l.improvementPercent-o.improvementPercent),i}getTemporalMultipliers(t,r){const n={...t,windowDays:90,onlyCompleted:!0},a=this.filterActivities(n);return a.length<5?[]:this.analyzeDayOfWeekPatterns(a,r,90)}getOptimalTiming(t,r){const n={...t,windowDays:90,onlyCompleted:!0},a=this.filterActivities(n),s=this.analyzeDayOfWeekPatterns(a,r,90),i=this.analyzeHourOfDayPatterns(a,r,90);return{bestDayOfWeek:s.length>0?s.reduce((o,l)=>o.average>l.average?o:l):null,worstDayOfWeek:s.length>0?s.reduce((o,l)=>o.average<l.average?o:l):null,bestHour:i.length>0?i.reduce((o,l)=>o.average>l.average?o:l):null,worstHour:i.length>0?i.reduce((o,l)=>o.average<l.average?o:l):null}}filterActivities(t){let r=[...this.activities];t.onlyCompleted!==!1&&(r=r.filter(s=>s.status==="Realizado"));const n=new Date,a=new Date(n.getTime()-t.windowDays*24*60*60*1e3);return r=r.filter(s=>{const i=this.parseDate(s["Data de Disparo"]);return i?i>=a&&i<=n:!1}),t.bu&&(r=r.filter(s=>this.normalizeString(s.BU)===this.normalizeString(t.bu))),t.canal&&(r=r.filter(s=>this.normalizeString(s.Canal)===this.normalizeString(t.canal))),t.segmento&&(r=r.filter(s=>this.normalizeString(s.Segmento)===this.normalizeString(t.segmento))),t.jornada&&(r=r.filter(s=>this.normalizeString(s.jornada)===this.normalizeString(t.jornada))),t.perfilCredito&&(r=r.filter(s=>s["Perfil de Crdito"]&&this.normalizeString(s["Perfil de Crdito"])===this.normalizeString(t.perfilCredito))),t.oferta&&(r=r.filter(s=>s.Oferta&&this.normalizeString(s.Oferta)===this.normalizeString(t.oferta))),r}extractTimeSeries(t,r,n){const a=kf[r],s=new Map;for(const o of t){const l=this.parseDate(o["Data de Disparo"]);if(!l)continue;const c=l.toISOString().split("T")[0],u=this.extractMetricValue(o,a);if(u===null)continue;const f=o["Base Total"]||1;s.has(c)||s.set(c,{values:[],ids:[],volumes:[]}),s.get(c).values.push(u),s.get(c).ids.push(o.id),s.get(c).volumes.push(f)}const i=[];for(const[o,{values:l,ids:c,volumes:u}]of s.entries()){const f=new Date(o),h=u.reduce((m,v)=>m+v,0),p=l.reduce((m,v,g)=>m+v*(u[g]/h),0);i.push({date:f,value:p,count:l.length,sourceId:c.length===1?c[0]:"aggregated",volume:h})}return i.sort((o,l)=>o.date.getTime()-l.date.getTime()),i}calculateStats(t){if(t.length===0)return this.createEmptyStats();const r=[...t].sort((_,S)=>_-S),n=t.length,a=t.reduce((_,S)=>_+S,0)/n,s=n%2===0?(r[n/2-1]+r[n/2])/2:r[Math.floor(n/2)],i=Math.floor(n*.25),o=Math.floor(n*.75),l=r[i],c=r[o],u=c-l,f=t.reduce((_,S)=>_+Math.pow(S-a,2),0)/n,h=Math.sqrt(f),p=l-1.5*u,m=c+1.5*u,v=t.filter(_=>_<p||_>m),g=t.filter(_=>_>=p&&_<=m),x=g.length===0?s:g.length%2===0?(g[g.length/2-1]+g[g.length/2])/2:g[Math.floor(g.length/2)],y=1.96*(h/Math.sqrt(n));return{mean:a,median:s,p25:l,p75:c,stdDev:h,confidenceInterval:{min:Math.max(0,a-y),max:a+y},min:r[0],max:r[n-1],iqr:u,outliers:v,medianWithoutOutliers:x,coefficientOfVariation:a!==0?h/a:0}}detectTrend(t){if(t.length<2)return this.createEmptyTrend();const r=t.length,n=t.map((_,S)=>S),a=t.map(_=>_.value),s=n.reduce((_,S)=>_+S,0)/r,i=a.reduce((_,S)=>_+S,0)/r,o=n.reduce((_,S,k)=>_+(S-s)*(a[k]-i),0),l=n.reduce((_,S)=>_+Math.pow(S-s,2),0),c=o/l,u=a.reduce((_,S,k)=>{const E=c*(k-s)+i;return _+Math.pow(S-E,2)},0),f=a.reduce((_,S)=>_+Math.pow(S-i,2),0),h=f===0?0:1-u/f,p=h>.3&&Math.abs(c)>i*.01;let m;p?m=c>0?"up":"down":m="stable";const v=Math.min(30,t.length),g=t[t.length-v].value,x=t[t.length-1].value,b=g!==0?(x-g)/g*100:0,y=c*30+t[t.length-1].value;return{slope:c,rSquared:h,isSignificant:p,direction:m,description:this.generateTrendDescription(c,h,i,p),change30days:b,projection30days:y>0?y:0}}generateTrendDescription(t,r,n,a){if(!a)return"Performance estvel (sem tendncia clara)";const i=t/n*100*30;return t>0?`Performance em alta: +${Math.abs(i).toFixed(1)}%/ms`:`Performance em queda: ${i.toFixed(1)}%/ms`}analyzeDayOfWeekPatterns(t,r,n){const a=kf[r],s=[],i=new Map;for(let u=0;u<7;u++)i.set(u,[]);for(const u of t){const f=this.parseDate(u["Data de Disparo"]);if(!f)continue;const h=f.getDay(),p=this.extractMetricValue(u,a);p!==null&&i.get(h).push(p)}const o=Array.from(i.values()).flat(),l=o.reduce((u,f)=>u+f,0)/o.length,c=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"];for(let u=0;u<7;u++){const f=i.get(u);if(f.length===0)continue;const h=f.reduce((v,g)=>v+g,0)/f.length,p=f.reduce((v,g)=>v+Math.pow(g-h,2),0)/f.length,m=Math.sqrt(p);s.push({dayOfWeek:u,dayName:c[u],average:h,multiplier:l!==0?h/l:1,sampleCount:f.length,stdDev:m,confidence:Math.min(100,40+Math.log(f.length)*15)})}return s}analyzeHourOfDayPatterns(t,r,n){const a=kf[r],s=[],i=new Map;for(const c of t){const u=c["Horrio de Disparo"];if(!u)continue;const f=parseInt(u.split(":")[0],10);let h="";f>=6&&f<12?h="06h-12h":f>=12&&f<18?h="12h-18h":h="18h-06h";const p=this.extractMetricValue(c,a);p!==null&&(i.has(h)||i.set(h,{hour:f,values:[]}),i.get(h).values.push(p))}if(i.size===0)return[];const o=Array.from(i.values()).map(c=>c.values).flat(),l=o.reduce((c,u)=>c+u,0)/o.length;for(const[c,{hour:u,values:f}]of i.entries()){if(f.length===0)continue;const h=f.reduce((v,g)=>v+g,0)/f.length,p=f.reduce((v,g)=>v+Math.pow(g-h,2),0)/f.length,m=Math.sqrt(p);s.push({hour:u,timeSlot:c,average:h,multiplier:l!==0?h/l:1,sampleCount:f.length,stdDev:m,confidence:Math.min(100,40+Math.log(f.length)*15)})}return s.sort((c,u)=>c.hour-u.hour),s}assessDataQuality(t,r,n){const a=[];let s="high";t.length<5?(a.push("Poucas amostras (< 5)"),s="low"):t.length<15&&(a.push("Amostra limitada (< 15)"),s="medium");const i=r.length/t.length*100;i<.7&&(a.push(`Dados incompletos (${i.toFixed(0)}% preenchidos)`),s!=="low"&&(s="medium")),n.coefficientOfVariation>.5&&(a.push("Alta variabilidade (dados barulhentos)"),s!=="low"&&(s="medium")),n.outliers.length>0&&n.outliers.length/r.length>.2&&(a.push(`Muitos outliers (${n.outliers.length} detectados)`),s!=="low"&&(s="medium"));let o="Dados confiveis para tomada de deciso.";return s==="low"?o="Cuidado: dados limitados. Considere aguardar mais disparos similares.":s==="medium"&&(o="Dados moderadamente confiveis. Use como orientao, no como certeza."),{level:s,reasons:a,completeness:i,outlierCount:n.outliers.length,recommendation:o}}extractMetricValue(t,r){const n=t[r];if(n==null)return null;if(typeof n=="number")return n<0?null:n;if(typeof n=="string"){const a=n.replace(/[^0-9.,]/g,"").replace(",","."),s=parseFloat(a);return isNaN(s)||s<0?null:s}return null}parseDate(t){if(!t)return null;if(t.includes("/")){const[r,n,a]=t.split("/");return new Date(`${a}-${n}-${r}`)}return new Date(t)}normalizeString(t){return t.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}calculateComparisonConfidence(t,r,n,a){const s=Math.min(100,Math.min(t,r)/10*40),i=Math.min(100,100-Math.max(n,a)*100);return(s+i)/2}getCacheKey(t,r){return JSON.stringify({filters:t,metric:r})}createEmptySnapshot(t,r){return{metric:r,filters:t,timeseries:[],stats:this.createEmptyStats(),trend:this.createEmptyTrend(),dayOfWeekPatterns:[],hourOfDayPatterns:[],dataQuality:{level:"low",reasons:["Nenhum dado encontrado para estes filtros"],completeness:0,outlierCount:0,recommendation:"Ajuste os filtros ou aguarde mais disparos similares."},computedAt:new Date().toISOString(),sampleSize:0}}createEmptyStats(){return{mean:0,median:0,p25:0,p75:0,stdDev:0,confidenceInterval:{min:0,max:0},min:0,max:0,iqr:0,outliers:[],medianWithoutOutliers:0,coefficientOfVariation:0}}createEmptyTrend(){return{slope:0,rSquared:0,isSignificant:!1,direction:"stable",description:"Dados insuficientes para anlise de tendncia",change30days:0}}}class Rje{constructor(t){ts(this,"analyzer");ts(this,"activities");this.analyzer=t,this.activities=[]}initialize(t){this.activities=t||[]}generateAlternatives(t,r="taxaConversao",n=5){const a=[],s=this.generateTimingAlternative(t,r);s&&a.push(s);const i=this.generateChannelAlternative(t,r);i&&a.push(i);const o=this.generateOfferAlternative(t,r);o&&a.push(o);const l=this.generateJourneyAlternative(t,r);l&&a.push(l);const c=this.generateSegmentAlternative(t,r);return c&&a.push(c),a.sort((u,f)=>f.improvementPercent-u.improvementPercent),a.slice(0,n)}generateTimingAlternative(t,r){try{const n=this.setupToFilters(t),a=this.analyzer.analyzePerformance(n,r);if(a.sampleSize<3)return null;if(!a.dayOfWeekPatterns||a.dayOfWeekPatterns.length===0)return console.log("[AlternativeGenerator] Sem padres de dia da semana disponveis"),null;const s=a.dayOfWeekPatterns.reduce((f,h)=>h.average>f.average?h:f,a.dayOfWeekPatterns[0]);if(!s||s.multiplier<=1.02)return null;const i=t.dataDisparo?new Date(t.dataDisparo):new Date,l=(s.dayOfWeek-i.getDay()+7)%7,c=new Date(i);c.setDate(c.getDate()+(l===0?7:l));const u=(s.multiplier-1)*100;return{id:`timing-${s.dayName}`,type:"timing",title:` Mudar para ${s.dayName}`,description:`O padro histrico mostra que ${s.dayName} tem ${u.toFixed(0)}% melhor performance`,changedField:"dataDisparo",previousValue:t.dataDisparo,newValue:c.toISOString().split("T")[0],displayText:`${s.dayName} (${u.toFixed(0)}% melhor)`,improvementPercent:u,metric:"conversionRate",expectedMetricValue:a.stats.median*s.multiplier,confidence:Math.min(s.confidence,85),riskLevel:s.confidence<50?"high":s.confidence<70?"medium":"low",sampleCount:s.sampleCount,appliedChanges:{dataDisparo:c.toISOString().split("T")[0]},icon:"",badgeColor:"bg-blue-500/20 text-blue-400",reason:`${s.dayName} teve mdia de ${s.average.toFixed(2)}% em ${s.sampleCount} disparos similares`}}catch(n){return console.error("Erro ao gerar alternativa de timing:",n),null}}generateChannelAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["E-mail","SMS","WhatsApp","Push"],a=[];for(const c of n){if(c===t.canal)continue;const u=this.setupToFilters({...t,canal:c}),f=this.analyzer.analyzePerformance(u,r);f.sampleSize<3||a.push({channel:c,performance:f,comparison:null})}if(a.length===0)return null;a.sort((c,u)=>u.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=2?null:{id:`channel-${s.channel}`,type:"channel",title:` Trocar para ${s.channel}`,description:`${s.channel} tem ${l.toFixed(0)}% melhor taxa de converso`,changedField:"canal",previousValue:t.canal,newValue:s.channel,displayText:`${s.channel} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:Math.min(s.performance.dataQuality.level==="high"?85:65),riskLevel:s.performance.sampleSize<5?"high":s.performance.sampleSize<10?"medium":"low",sampleCount:s.performance.sampleSize,appliedChanges:{canal:s.channel},icon:"",badgeColor:"bg-purple-500/20 text-purple-400",reason:`${s.channel} teve mdia ${s.performance.stats.median.toFixed(2)}% vs ${o.stats.median.toFixed(2)}% com ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de canal:",n),null}}generateOfferAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["Padro","Limite","Vibe","Anuidade"],a=[];for(const c of n){if(c===t.oferta)continue;const u=this.setupToFilters({...t,oferta:c}),f=this.analyzer.analyzePerformance(u,r);f.sampleSize<3||a.push({offer:c,performance:f})}if(a.length===0)return null;a.sort((c,u)=>u.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=3?null:{id:`offer-${s.offer}`,type:"offer",title:` Upgrade para ${s.offer}`,description:`Oferta ${s.offer} tem ${l.toFixed(0)}% melhor taxa de aceitao`,changedField:"oferta",previousValue:t.oferta,newValue:s.offer,displayText:`${s.offer} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:75,riskLevel:s.performance.sampleSize<5?"high":"medium",sampleCount:s.performance.sampleSize,appliedChanges:{oferta:s.offer},icon:"",badgeColor:"bg-green-500/20 text-green-400",reason:`${s.offer} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de oferta:",n),null}}generateJourneyAlternative(t,r){try{if(!t.bu||!t.segmento)return null;const n=["Aquisio","Reteno","Upsell","Cross-sell"],a=[];for(const u of n){if(u===t.jornada)continue;const f=this.setupToFilters({...t,jornada:u}),h=this.analyzer.analyzePerformance(f,r);h.sampleSize<3||a.push({journey:u,performance:h})}if(a.length===0)return null;a.sort((u,f)=>f.performance.stats.median-u.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;if(l<=5)return null;const c={Aquisio:"",Reteno:"",Upsell:"","Cross-sell":""};return{id:`journey-${s.journey}`,type:"journey",title:`${c[s.journey]||""} Mudar para ${s.journey}`,description:`Jornada ${s.journey} tem ${l.toFixed(0)}% melhor converso`,changedField:"jornada",previousValue:t.jornada,newValue:s.journey,displayText:`${s.journey} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:70,riskLevel:s.performance.sampleSize<5?"high":"medium",sampleCount:s.performance.sampleSize,appliedChanges:{jornada:s.journey},icon:c[s.journey]||"",badgeColor:"bg-orange-500/20 text-orange-400",reason:`${s.journey} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de jornada:",n),null}}generateSegmentAlternative(t,r){try{if(!t.bu)return null;const n=new Set;for(const c of this.activities)c.BU===t.bu&&c.Segmento&&n.add(c.Segmento);const a=[];for(const c of n){if(c===t.segmento)continue;const u=this.setupToFilters({...t,segmento:c}),f=this.analyzer.analyzePerformance(u,r);f.sampleSize<3||a.push({segment:c,performance:f})}if(a.length===0)return null;a.sort((c,u)=>u.performance.stats.median-c.performance.stats.median);const s=a[0],i=this.setupToFilters(t),o=this.analyzer.analyzePerformance(i,r),l=(s.performance.stats.median-o.stats.median)/o.stats.median*100;return l<=3?null:{id:`segment-${s.segment}`,type:"segment",title:` Mudar para Segmento ${s.segment}`,description:`Segmento ${s.segment} tem ${l.toFixed(0)}% melhor performance`,changedField:"segmento",previousValue:t.segmento,newValue:s.segment,displayText:`${s.segment} (${l.toFixed(0)}% melhor)`,improvementPercent:l,metric:"conversionRate",expectedMetricValue:s.performance.stats.median,confidence:65,riskLevel:"medium",sampleCount:s.performance.sampleSize,appliedChanges:{segmento:s.segment},icon:"",badgeColor:"bg-pink-500/20 text-pink-400",reason:`${s.segment} teve mdia ${s.performance.stats.median.toFixed(2)}% em ${s.performance.sampleSize} disparos`}}catch(n){return console.error("Erro ao gerar alternativa de segmento:",n),null}}setupToFilters(t){return{bu:t.bu,canal:t.canal,segmento:t.segmento,jornada:t.jornada,perfilCredito:t.perfilCredito,oferta:t.oferta,windowDays:90,onlyCompleted:!0}}}class Fje{generateInsights(t,r,n,a){const s=[],i=this.detectRisks(r,a,t);s.push(...i);const o=this.detectOpportunities(n,r);s.push(...o);const l=this.detectAnomalies(r,t);s.push(...l);const c=this.detectQuickWins(n);if(s.push(...c),i.length===0&&o.length===0){const u=this.generateValidation(r);s.push(...u)}return s.sort((u,f)=>{const h={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3},p=h[u.severity]-h[f.severity];return p!==0?p:u.priority-f.priority}),s}detectRisks(t,r,n){var s;const a=[];if(t.sampleSize<5&&a.push({id:"risk-insufficient-data",type:"DATA_WARNING",severity:"HIGH",title:" Dados Insuficientes",description:`Apenas ${t.sampleSize} disparos similares encontrados. Recomendaes podem ser imprecisas.`,technicalExplanation:"Com menos de 5 amostras, o intervalo de confiana  muito amplo. Considere aguardar mais disparos.",recommendedAction:"Aguarde mais dados ou ajuste os filtros para combinar com mais histrico.",confidence:30,evidence:[`Sample size: ${t.sampleSize}`,`Data quality: ${t.dataQuality.level}`],icon:"",badgeColor:"bg-yellow-500/20 text-yellow-400",priority:1}),r.isSignificant&&r.direction==="down"){const i=r.change30days;a.push({id:"risk-declining-performance",type:"RISK_ALERT",severity:Math.abs(i)>15?"CRITICAL":"HIGH",title:" Performance em Queda",description:`Taxa de converso caindo ${Math.abs(r.change30days).toFixed(1)}% nos ltimos 30 dias. Segmento pode estar saturado ou saturao de audience.`,technicalExplanation:`Regresso linear detectou slope significativo: ${r.slope.toFixed(4)}/dia. Projeo para 30 dias: ${(s=r.projection30days)==null?void 0:s.toFixed(2)}%.`,recommendedAction:i<-15?"Parar disparos neste segmento e considerar alternativas":"Mudar para segmento diferente ou atualizar oferta",confidence:Math.min(85,60+Math.abs(r.slope)*100),evidence:[`Tendncia: ${r.description}`,`Mudana 30d: ${i.toFixed(1)}%`,`R: ${r.rSquared.toFixed(2)}`],icon:"",badgeColor:"bg-red-500/20 text-red-400",priority:2})}return t.stats.coefficientOfVariation>.5&&a.push({id:"risk-high-variance",type:"ANOMALY",severity:"MEDIUM",title:" Alta Variabilidade",description:`Resultados muito inconsistentes (desvio: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%). Difcil prever resultados.`,technicalExplanation:`Coeficiente de variao: ${t.stats.coefficientOfVariation.toFixed(2)}. Indica dados muito barulhentos.`,recommendedAction:"Validar dados, verificar se h mistura de segmentos diferentes ou problemas de rastreamento.",confidence:70,evidence:[`Variability: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%`,`Std Dev: ${t.stats.stdDev.toFixed(2)}`,`Outliers: ${t.stats.outliers.length}`],icon:"",badgeColor:"bg-orange-500/20 text-orange-400",priority:3}),t.stats.outliers.length>t.sampleSize*.2&&a.push({id:"risk-outliers",type:"ANOMALY",severity:"MEDIUM",title:" Outliers Detectados",description:`${t.stats.outliers.length} valores atpicos encontrados. Resultados podem estar enviesados.`,recommendedAction:"Revisar manualmente disparos com valores extremos. Considerar usar Mediana ao invs de Mdia.",confidence:75,evidence:[`Outliers: ${t.stats.outliers.length}`,`Range: ${t.stats.min.toFixed(2)} - ${t.stats.max.toFixed(2)}`,`Median (sem outliers): ${t.stats.medianWithoutOutliers.toFixed(2)}`],icon:"",badgeColor:"bg-purple-500/20 text-purple-400",priority:4}),a}detectOpportunities(t,r){const n=[],a=t.filter(s=>s.improvementPercent>10);for(let s=0;s<Math.min(a.length,2);s++){const i=a[s];let o;i.improvementPercent>50?o="HIGH":i.improvementPercent>30?o="MEDIUM":o="LOW",n.push({id:`opportunity-${i.id}`,type:"OPPORTUNITY",severity:o,title:` ${i.title}`,description:i.description,technicalExplanation:`Alternativa testada em ${i.sampleCount} disparos similares com ${i.expectedMetricValue.toFixed(2)}% de taxa esperada.`,recommendedAction:`Considerar aplicar esta sugesto: ${i.displayText}`,relatedAlternative:i,confidence:i.confidence,evidence:[`Improvement: +${i.improvementPercent.toFixed(1)}%`,`Sample size: ${i.sampleCount}`,`Risk level: ${i.riskLevel}`,`Expected value: ${i.expectedMetricValue.toFixed(2)}%`],icon:"",badgeColor:"bg-green-500/20 text-green-400",priority:s+5})}return n}detectAnomalies(t,r){const n=[];return t.stats.median>50&&n.push({id:"anomaly-too-high",type:"ANOMALY",severity:"MEDIUM",title:" Taxa Anormalmente Alta",description:`Taxa de ${t.stats.median.toFixed(1)}%  muito alta. Verificar se rastreamento est correto.`,recommendedAction:"Revisar implementao do rastreamento. Possvel erro em contagem de cartes ou base.",confidence:60,evidence:[`Median: ${t.stats.median.toFixed(2)}%`,`Sample: ${t.sampleSize}`],icon:"",badgeColor:"bg-cyan-500/20 text-cyan-400",priority:10}),t.stats.median<.5&&t.sampleSize>=5&&n.push({id:"anomaly-too-low",type:"ANOMALY",severity:"MEDIUM",title:" Taxa Muito Baixa",description:`Taxa de ${t.stats.median.toFixed(3)}%  anormalmente baixa. Revisar segmentao ou pblico.`,recommendedAction:"Validar se segmento est realmente ativo. Considerar mudar para pblico diferente.",confidence:70,evidence:[`Median: ${t.stats.median.toFixed(4)}%`,`Sample: ${t.sampleSize}`],icon:"",badgeColor:"bg-red-500/20 text-red-400",priority:8}),n}detectQuickWins(t){const r=[],n=t.filter(a=>a.improvementPercent>15&&a.riskLevel==="low"&&a.confidence>70);for(let a=0;a<Math.min(n.length,2);a++){const s=n[a];r.push({id:`quick-win-${s.id}`,type:"QUICK_WIN",severity:"HIGH",title:` ${s.icon} ${s.displayText}`,description:`${s.title}: ${s.improvementPercent.toFixed(0)}% melhor com baixo risco (${s.sampleCount} casos similares).`,recommendedAction:`Aplicar agora: ${s.changedField} = ${s.newValue}`,relatedAlternative:s,confidence:s.confidence,evidence:[`Low risk: ${s.sampleCount} similar cases`,`High confidence: ${s.confidence}%`,"Easy to apply"],icon:"",badgeColor:"bg-lime-500/20 text-lime-400",priority:2+a})}return r}generateValidation(t){const r=[];return t.sampleSize>=10&&t.dataQuality.level==="high"&&r.push({id:"validation-good-setup",type:"VALIDATION",severity:"LOW",title:" Setup Consolidado",description:"Este setup tem histrico slido e performance consistente. Seguro para reproduzir.",recommendedAction:"Prosseguir com confiana. Este padro  bem estabelecido.",confidence:90,evidence:[`Sample size: ${t.sampleSize}`,`Data quality: ${t.dataQuality.level}`,`Median: ${t.stats.median.toFixed(2)}%`,`Variability: ${(t.stats.coefficientOfVariation*100).toFixed(0)}%`],icon:"",badgeColor:"bg-green-500/20 text-green-400",priority:20}),r}getTopInsightByType(t,r){const n=t.filter(a=>a.type===r);return n.length===0?null:(n.sort((a,s)=>{const i={CRITICAL:0,HIGH:1,MEDIUM:2,LOW:3};return i[a.severity]-i[s.severity]}),n[0])}getCriticalInsights(t){return t.filter(r=>r.severity==="CRITICAL"||r.severity==="HIGH")}getOpportunityInsights(t){return t.filter(r=>r.type==="OPPORTUNITY"||r.type==="QUICK_WIN")}generateSummary(t){const r=t.filter(s=>s.severity==="CRITICAL"||s.severity==="HIGH"),n=t.filter(s=>s.type==="OPPORTUNITY"||s.type==="QUICK_WIN");let a="";return r.length>0&&(a+=` ${r.length} alerta(s) importante(s). `),n.length>0&&(a+=` ${n.length} oportunidade(s) de melhoria encontrada(s). `),r.length===0&&n.length===0&&(a=" Setup validado e pronto para disparo."),a}}const Lje="taxaConversao",$je=500,Bje=5*60*1e3;function zje(e,t){const[r,n]=w.useState(null),[a,s]=w.useState([]),[i,o]=w.useState([]),[l,c]=w.useState(!1),[u,f]=w.useState(null),[h,p]=w.useState(Lje),[m,v]=w.useState(null),g=w.useRef(null),x=w.useRef(null),b=w.useRef(new Map);w.useEffect(()=>{if(console.log("[useDispatchInsights] Inicializando services...",{activitiesCount:(t==null?void 0:t.length)||0}),!t||t.length===0){console.log("[useDispatchInsights] Sem atividades disponveis"),f("Nenhuma atividade disponvel para anlise"),g.current=null;return}try{f(null);const S=new Ije;S.initialize(t);const k=new Rje(S);k.initialize(t);const E=new Fje;g.current={analyzer:S,altGen:k,insightGen:E},console.log("[useDispatchInsights] Services inicializados com sucesso")}catch(S){const k=S instanceof Error?S.message:"Erro ao inicializar anlise";console.error("[useDispatchInsights] Erro ao inicializar:",S),f(k),g.current=null}},[t]);const y=w.useCallback(async()=>{var E,C;if(!e||!g.current){n(null),s([]),o([]);return}const S=G4(e,h),k=b.current.get(S);if(k&&Date.now()-k.timestamp<Bje){const{perf:T,alts:A,inights:N}=k.data;n(T),s(A),o(N),v(new Date);return}try{c(!0),f(null);const{analyzer:T,altGen:A,insightGen:N}=g.current,j={bu:e.bu,canal:e.canal,segmento:e.segmento,jornada:e.jornada,perfilCredito:e.perfilCredito,oferta:e.oferta,windowDays:90,onlyCompleted:!0};console.log("[useDispatchInsights] Analisando performance com filtros:",j);const P=T.analyzePerformance(j,h);console.log("[useDispatchInsights] Performance analisada:",{sampleSize:P.sampleSize,timeseriesLength:((E=P.timeseries)==null?void 0:E.length)||0,dayOfWeekPatternsLength:((C=P.dayOfWeekPatterns)==null?void 0:C.length)||0}),console.log("[useDispatchInsights] Gerando alternativas...");const R=A.generateAlternatives(e,h,5);console.log("[useDispatchInsights] Alternativas geradas:",R.length),console.log("[useDispatchInsights] Gerando insights...");const B=N.generateInsights(e,P,R,P.trend);console.log("[useDispatchInsights] Insights gerados:",B.length),b.current.set(S,{data:{perf:P,alts:R,inights:B},timestamp:Date.now()}),n(P),s(R),o(B),v(new Date)}catch(T){const A=T instanceof Error?T.message:"Erro ao calcular insights";f(A),console.error("[useDispatchInsights] ERRO ao calcular insights:",T),console.error("[useDispatchInsights] Stack:",T instanceof Error?T.stack:"N/A")}finally{c(!1)}},[e,h]);w.useEffect(()=>{if(x.current&&clearTimeout(x.current),!(!e||!g.current)&&!(!e.bu||!e.canal))return x.current=setTimeout(()=>{y()},$je),()=>{x.current&&clearTimeout(x.current)}},[e,h,y]);const _=w.useCallback(async()=>{const S=G4(e||{},h);b.current.delete(S),await y()},[e,h,y]);return w.useEffect(()=>()=>{x.current&&clearTimeout(x.current)},[]),{performance:r,alternatives:a,insights:i,isLoading:l,error:u,currentMetric:h,setCurrentMetric:p,refresh:_,lastCalculatedAt:m}}function G4(e,t){return JSON.stringify({bu:e.bu,canal:e.canal,segmento:e.segmento,jornada:e.jornada,perfilCredito:e.perfilCredito,oferta:e.oferta,metric:t})}function Uje({performance:e,metric:t,onMetricChange:r,height:n=350,showTrend:a=!0,showConfidenceInterval:s=!0,className:i=""}){const[o,l]=w.useState(null),c=w.useMemo(()=>e.timeseries.map((u,f)=>({date:u.date.toLocaleDateString("pt-BR"),dateObj:u.date,value:Math.round(u.value*100)/100,count:u.count,volume:u.volume,...a&&e.trend.isSignificant&&{trend:Xje(f,e)},...s&&{ciMin:Math.max(0,e.stats.confidenceInterval.min),ciMax:e.stats.confidenceInterval.max}})),[e,a,s]);return e.sampleSize===0?d.jsx(Yje,{message:"Sem dados para exibir"}):d.jsxs("div",{className:`performance-timeline-chart ${i}`,children:[d.jsxs("div",{className:"mb-6 grid grid-cols-2 gap-4 md:grid-cols-4",children:[d.jsx(Gp,{label:"Mdia",value:`${e.stats.mean.toFixed(2)}%`,icon:""}),d.jsx(Gp,{label:"Mediana",value:`${e.stats.median.toFixed(2)}%`,icon:""}),d.jsx(Gp,{label:"Desvio",value:`${e.stats.stdDev.toFixed(2)}%`,icon:""}),d.jsx(Gp,{label:"Amostras",value:e.sampleSize.toString(),icon:""})]}),d.jsx("div",{className:"mb-6 rounded-lg border border-slate-700 bg-slate-900 p-4",children:d.jsx($t,{width:"100%",height:n,children:d.jsxs(Yx,{data:c,children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155"}),d.jsx(Nt,{dataKey:"date",stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"}}),d.jsx(ot,{stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"},label:{value:"Taxa (%)",angle:-90,position:"insideLeft",fill:"#94a3b8"}}),d.jsx(Pt,{content:d.jsx(Vje,{})}),s&&d.jsx(Gx,{type:"monotone",dataKey:"ciMax",fill:"rgba(59, 130, 246, 0.1)",stroke:"none",isAnimationActive:!1}),a&&e.trend.isSignificant&&d.jsx(Ar,{type:"linear",dataKey:"trend",stroke:"#f59e0b",strokeWidth:2,strokeDasharray:"5 5",dot:!1,isAnimationActive:!1,name:"Tendncia"}),d.jsx(Ar,{type:"monotone",dataKey:"value",stroke:q4(t),strokeWidth:2.5,dot:d.jsx(Wje,{}),activeDot:{r:6,fill:q4(t)},isAnimationActive:!0,name:"Taxa"}),d.jsx(Kx,{y:e.stats.mean,stroke:"#64748b",strokeDasharray:"3 3",label:{value:`Mdia: ${e.stats.mean.toFixed(2)}%`,fill:"#94a3b8",fontSize:12}})]})})}),d.jsx(Hje,{trend:e.trend}),d.jsx(Kje,{dataQuality:e.dataQuality}),e.stats.outliers.length>0&&d.jsx(Gje,{outliers:e.stats.outliers}),r&&d.jsx(qje,{currentMetric:t,onMetricChange:r})]})}function Gp({label:e,value:t,icon:r}){return d.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-800 p-3",children:[d.jsx("div",{className:"text-xs font-semibold text-slate-400",children:e}),d.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:r}),d.jsx("span",{className:"text-lg font-bold text-slate-100",children:t})]})]})}function Vje(){return d.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-900 p-3 shadow-lg",children:[d.jsx("div",{className:"text-xs font-semibold text-slate-300",children:"Performance"}),d.jsx("div",{className:"mt-2 space-y-1",children:d.jsxs("div",{className:"text-sm text-slate-100",children:[d.jsx("span",{className:"font-semibold",children:"Taxa:"})," "]})})]})}function Wje(e){const{cx:t,cy:r,payload:n,value:a}=e;return n.count===1?d.jsx("circle",{cx:t,cy:r,r:4,fill:"#ef4444",stroke:"#fff",strokeWidth:1}):d.jsx("circle",{cx:t,cy:r,r:3,fill:"#3b82f6",stroke:"#fff",strokeWidth:1})}function Hje({trend:e}){if(!e.isSignificant)return d.jsxs("div",{className:"flex items-center gap-3 rounded-lg border border-slate-700 bg-slate-800 p-4",children:[d.jsx(Zu,{className:"h-6 w-6 text-slate-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-slate-200",children:"Performance Estvel"}),d.jsx("div",{className:"text-xs text-slate-400",children:"Sem tendncia clara nos dados"})]})]});const t=e.direction==="up";return d.jsxs("div",{className:`flex items-center gap-3 rounded-lg border p-4 ${t?"border-green-700 bg-green-900/20":"border-red-700 bg-red-900/20"}`,children:[t?d.jsx(Mn,{className:"h-6 w-6 text-green-400"}):d.jsx(Qu,{className:"h-6 w-6 text-red-400"}),d.jsxs("div",{children:[d.jsx("div",{className:`text-sm font-semibold ${t?"text-green-300":"text-red-300"}`,children:e.description}),d.jsxs("div",{className:"text-xs text-slate-400",children:["Mudana nos ltimos 30 dias: ",e.change30days>0?"+":"",e.change30days.toFixed(1),"% | R = ",e.rSquared.toFixed(2)]})]})]})}function Kje({dataQuality:e}){const t=r=>{switch(r){case"high":return"bg-green-900/20 border-green-700 text-green-300";case"medium":return"bg-yellow-900/20 border-yellow-700 text-yellow-300";case"low":return"bg-red-900/20 border-red-700 text-red-300";default:return"bg-slate-800 border-slate-700 text-slate-300"}};return d.jsxs("div",{className:`rounded-lg border p-4 ${t(e.level)}`,children:[d.jsx("div",{className:"text-sm font-semibold",children:"Qualidade dos Dados"}),d.jsx("ul",{className:"mt-2 space-y-1 text-xs",children:e.reasons.map((r,n)=>d.jsxs("li",{children:[" ",r]},n))}),d.jsxs("div",{className:"mt-2 text-xs font-semibold",children:[" ",e.recommendation]})]})}function Gje({outliers:e}){return d.jsxs("div",{className:"rounded-lg border border-yellow-700 bg-yellow-900/20 p-4",children:[d.jsxs("div",{className:"text-sm font-semibold text-yellow-300",children:[" ",e.length," Outlier(s) Detectado(s)"]}),d.jsxs("div",{className:"mt-2 text-xs text-yellow-200",children:["Valores atpicos encontrados: ",e.map(t=>t.toFixed(2)).join(", ")]}),d.jsx("div",{className:"mt-2 text-xs font-semibold text-yellow-300",children:"Dica: Usar MEDIANA ao invs de MDIA para maior confiabilidade"})]})}function qje({currentMetric:e,onMetricChange:t}){const r=[{value:"taxaConversao",label:"Taxa Converso",icon:""},{value:"cac",label:"CAC",icon:""},{value:"cartoesGerados",label:"Cartes",icon:""},{value:"taxaEntrega",label:"Taxa Entrega",icon:""},{value:"taxaAbertura",label:"Taxa Abertura",icon:""},{value:"propostas",label:"Propostas",icon:""},{value:"aprovados",label:"Aprovados",icon:""},{value:"baseAcionavel",label:"Base Acionvel",icon:""},{value:"volume",label:"Volume",icon:""}];return d.jsxs("div",{className:"mt-6",children:[d.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-300",children:"Alterar Mtrica:"}),d.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(n=>d.jsxs("button",{onClick:()=>t(n.value),className:`rounded-lg px-3 py-1 text-xs font-semibold transition-all ${e===n.value?"border-blue-500 bg-blue-600 text-white":"border-slate-600 bg-slate-800 text-slate-300 hover:border-slate-500"} border`,children:[n.icon," ",n.label]},n.value))})]})}function Yje({message:e}){return d.jsx("div",{className:"flex h-64 items-center justify-center rounded-lg border border-dashed border-slate-600 bg-slate-900",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl",children:""}),d.jsx("div",{className:"mt-2 text-sm text-slate-400",children:e})]})})}function Xje(e,t){if(!t.trend.isSignificant)return 0;const r=t.trend.slope;return t.stats.median+r*(e-t.timeseries.length/2)}function q4(e){return{taxaConversao:"#3b82f6",cac:"#ef4444",cartoesGerados:"#22c55e",taxaEntrega:"#8b5cf6",taxaAbertura:"#06b6d4",propostas:"#f59e0b",aprovados:"#14b8a6",baseAcionavel:"#ec4899",volume:"#6366f1"}[e]||"#3b82f6"}function Zje({currentValue:e,alternatives:t,metric:r,onSelectAlternative:n,minImprovementPercent:a=5,height:s=400,className:i=""}){const[o,l]=w.useState(null),[c,u]=w.useState(!1),f=w.useMemo(()=>{const h=[{id:"current",name:"Setup Atual",value:e,improvement:0,confidence:100,isCurrentSetup:!0,type:"current"}];for(const p of t)p.improvementPercent<a||c&&p.confidence<70||h.push({id:p.id,name:p.displayText,value:p.expectedMetricValue,improvement:p.improvementPercent,confidence:p.confidence,sampleCount:p.sampleCount,riskLevel:p.riskLevel,isCurrentSetup:!1,type:p.type,icon:p.icon,alternative:p});return h},[t,e,a,c]);return t.length===0?d.jsx(tPe,{message:"Nenhuma alternativa com impacto significativo"}):d.jsxs("div",{className:`comparative-analysis-chart ${i}`,children:[d.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[d.jsx("h3",{className:"text-sm font-semibold text-slate-100",children:"Anlise de Alternativas"}),d.jsxs("label",{className:"flex items-center gap-2 text-xs text-slate-400",children:[d.jsx("input",{type:"checkbox",checked:c,onChange:h=>u(h.target.checked),className:"rounded"}),"Apenas alta confiana (>70%)"]})]}),d.jsx("div",{className:"mb-6 rounded-lg border border-slate-700 bg-slate-900 p-4",children:d.jsx($t,{width:"100%",height:s,children:d.jsxs(Hs,{data:f,layout:"vertical",margin:{top:5,right:30,left:250,bottom:5},children:[d.jsx(qt,{strokeDasharray:"3 3",stroke:"#334155"}),d.jsx(Nt,{type:"number",stroke:"#94a3b8",style:{fontSize:"12px"},tick:{fill:"#94a3b8"},label:{value:`${r==="cac"?"CAC (R$)":"Taxa (%)"}`,position:"insideBottomRight",offset:-5,fill:"#94a3b8"}}),d.jsx(ot,{type:"category",dataKey:"name",stroke:"#94a3b8",style:{fontSize:"11px"},tick:{fill:"#94a3b8"},width:240}),d.jsx(Pt,{content:d.jsx(ePe,{metric:r})}),d.jsx(Tr,{dataKey:"value",fill:"#3b82f6",radius:[0,8,8,0],children:f.map((h,p)=>d.jsx(Qs,{fill:rPe(h),onClick:()=>{!h.isCurrentSetup&&h.alternative&&(l(h.id),n==null||n(h.alternative))},style:{cursor:h.isCurrentSetup?"default":"pointer",transition:"all 200ms ease",opacity:o===null||o===h.id?1:.6}},`cell-${p}`))})]})})}),d.jsx("div",{className:"space-y-3",children:f.map(h=>d.jsx(Jje,{data:h,isSelected:o===h.id,onClick:()=>{l(h.id),!h.isCurrentSetup&&h.alternative&&(n==null||n(h.alternative))}},h.id))}),!c&&f.length>1&&d.jsx(Qje,{topAlternative:f[1],onApply:()=>{f[1].alternative&&(n==null||n(f[1].alternative))}})]})}function Jje({data:e,isSelected:t,onClick:r}){if(e.isCurrentSetup)return d.jsx("div",{className:"rounded-lg border-2 border-blue-600 bg-blue-900/20 p-4",children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:""}),d.jsx("div",{className:"font-semibold text-blue-300",children:e.name})]}),d.jsxs("div",{className:"mt-2 text-2xl font-bold text-blue-200",children:[e.value.toFixed(2),e.name.includes("%")?"%":"R$"]}),d.jsx("div",{className:"mt-1 text-xs text-blue-300",children:"Setup selecionado atualmente"})]}),d.jsx(Zr,{className:"h-6 w-6 text-blue-400"})]})});const n=e.improvement,a=e.confidence,s=o=>o>50?"text-green-400":o>25?"text-emerald-400":o>10?"text-cyan-400":"text-slate-400",i=o=>o>80?"":o>60?"":"";return d.jsx("div",{onClick:r,className:`cursor-pointer rounded-lg border-2 p-4 transition-all ${t?"border-amber-500 bg-amber-900/30":"border-slate-700 bg-slate-800/50 hover:border-slate-600"}`,children:d.jsxs("div",{className:"flex items-start justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-lg",children:e.icon||""}),d.jsx("div",{className:"font-semibold text-slate-100",children:e.name})]}),d.jsxs("div",{className:"mt-2 text-xl font-bold text-slate-100",children:[e.value.toFixed(2),e.name.includes("%")?"%":"R$"]}),d.jsxs("div",{className:`mt-1 text-sm font-semibold ${s(n)}`,children:[n>0?"+":"",n.toFixed(1),"% vs setup atual"]}),d.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs text-slate-400",children:[d.jsxs("span",{children:[i(a)," Confiana: ",a,"%"]}),d.jsxs("span",{children:[" ",e.sampleCount," casos similares"]}),d.jsxs("span",{children:["Risk:"," ",e.riskLevel==="low"?" BAIXO":e.riskLevel==="medium"?" MDIO":" ALTO"]})]})]}),d.jsx(Mn,{className:"h-5 w-5 text-slate-500"})]})})}function Qje({topAlternative:e,onApply:t}){return!e||e.isCurrentSetup?null:d.jsx("div",{className:"mt-6 rounded-lg border-2 border-green-600 bg-green-900/30 p-4",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-green-300",children:"TOP RECOMENDAO"}),d.jsx("div",{className:"mt-1 text-sm text-green-200",children:e.name})]})]}),d.jsxs("div",{className:"mt-3 text-xs text-green-300",children:[d.jsxs("div",{children:["Melhoria: ",d.jsxs("strong",{children:["+",e.improvement.toFixed(1),"%"]})]}),d.jsxs("div",{children:["Confiana: ",d.jsxs("strong",{children:[e.confidence,"%"]})]}),d.jsxs("div",{children:["Baseado em ",d.jsx("strong",{children:e.sampleCount})," disparos similares"]})]})]}),d.jsx("button",{onClick:t,className:"flex-shrink-0 rounded-lg bg-green-600 px-4 py-2 text-sm font-semibold text-white transition-all hover:bg-green-700",children:"Aplicar"})]})})}function ePe({metric:e}){return d.jsxs("div",{className:"rounded-lg border border-slate-600 bg-slate-900 p-3 shadow-lg",children:[d.jsx("div",{className:"text-xs font-semibold text-slate-300",children:"Detalhes"}),d.jsx("div",{className:"mt-2 text-sm text-slate-100"})]})}function tPe({message:e}){return d.jsx("div",{className:"flex h-48 items-center justify-center rounded-lg border border-dashed border-slate-600 bg-slate-900",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Es,{className:"mx-auto h-8 w-8 text-slate-500"}),d.jsx("div",{className:"mt-2 text-sm text-slate-400",children:e})]})})}function rPe(e){return e.isCurrentSetup?"#3b82f6":e.improvement>30&&e.confidence>75?"#22c55e":e.improvement>15?"#f59e0b":"#8b5cf6"}function nPe({insightResult:e,onSelectAlternative:t,className:r=""}){const[n,a]=w.useState("timeline"),{performance:s,alternatives:i,isLoading:o,error:l,currentMetric:c,setCurrentMetric:u}=e;return d.jsxs("section",{className:`insights-section space-y-4 rounded-lg border border-slate-700 bg-slate-900 p-6 ${r}`,children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex items-center justify-center rounded-lg bg-blue-600/20 p-2",children:d.jsx(Mn,{className:"h-5 w-5 text-blue-400"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-100",children:" AI-Powered Insights"}),d.jsx("p",{className:"text-xs text-slate-400",children:"Anlise de performance e alternativas"})]})]}),o&&d.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[d.jsx(cH,{className:"h-4 w-4 animate-spin"}),"Analisando..."]})]}),l&&d.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-red-700 bg-red-900/20 p-3",children:[d.jsx(Es,{className:"h-5 w-5 flex-shrink-0 text-red-400"}),d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-semibold text-red-300",children:"Erro ao analisar"}),d.jsx("div",{className:"text-xs text-red-400",children:l})]})]}),d.jsxs("div",{className:"flex gap-2 border-b border-slate-700",children:[d.jsx(Y4,{icon:"",label:"Performance Timeline",isActive:n==="timeline",onClick:()=>a("timeline")}),d.jsx(Y4,{icon:"",label:"Comparative Analysis",isActive:n==="comparative",onClick:()=>a("comparative")})]}),o&&!s?d.jsx(iPe,{}):n==="timeline"?d.jsx(aPe,{performance:s,currentMetric:c,onMetricChange:u}):d.jsx(sPe,{currentValue:(s==null?void 0:s.stats.median)??0,alternatives:i,currentMetric:c,onSelectAlternative:t}),d.jsxs("div",{className:"mt-4 flex items-center justify-between border-t border-slate-700 pt-4",children:[d.jsx("div",{className:"text-xs text-slate-500",children:s&&d.jsxs(d.Fragment,{children:[" ",s.sampleSize," disparos similares analisados",e.lastCalculatedAt&&d.jsxs("span",{className:"ml-2",children:[" Atualizado ",oPe(e.lastCalculatedAt)]})]})}),d.jsx("button",{onClick:e.refresh,disabled:o,className:"text-xs text-blue-400 transition hover:text-blue-300 disabled:opacity-50",children:" Atualizar"})]})]})}function Y4({icon:e,label:t,isActive:r,onClick:n}){return d.jsxs("button",{onClick:n,className:`flex items-center gap-2 border-b-2 px-4 py-3 text-sm font-semibold transition-all ${r?"border-blue-500 text-blue-400":"border-transparent text-slate-500 hover:text-slate-400"}`,children:[d.jsx("span",{children:e}),t]})}function aPe({performance:e,currentMetric:t,onMetricChange:r}){return e?d.jsx("div",{className:"space-y-4",children:d.jsx(Uje,{performance:e,metric:t,onMetricChange:r,height:400,showTrend:!0,showConfidenceInterval:!0})}):d.jsx("div",{className:"flex h-64 items-center justify-center text-slate-500",children:"Preencha os campos para ver anlise de performance"})}function sPe({currentValue:e,alternatives:t,currentMetric:r,onSelectAlternative:n}){return t.length===0?d.jsx("div",{className:"flex h-64 items-center justify-center text-slate-500",children:"Nenhuma alternativa com impacto significativo encontrada"}):d.jsx("div",{className:"space-y-4",children:d.jsx(Zje,{currentValue:e,alternatives:t,metric:r,onSelectAlternative:n,minImprovementPercent:5,height:400})})}function iPe(){return d.jsx("div",{className:"space-y-4",children:d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"mb-4 grid grid-cols-4 gap-4",children:[1,2,3,4].map(e=>d.jsx("div",{className:"h-16 rounded-lg bg-slate-800"},e))}),d.jsx("div",{className:"h-80 rounded-lg bg-slate-800"})]})})}function oPe(e){const r=new Date().getTime()-e.getTime(),n=Math.floor(r/6e4);if(n<1)return"agora";if(n<60)return`${n}m atrs`;const a=Math.floor(n/60);return a<24?`${a}h atrs`:`${Math.floor(a/24)}d atrs`}const lPe=({onClose:e,onSuccess:t})=>{const{formData:r,errors:n,setErrors:a,loading:s,setLoading:i,editingActivity:o,setFormData:l}=pd(),c=mt(g=>g.removeActivity),u=mt(g=>g.activities),f=w.useMemo(()=>!r.bu||!r.canal?null:{bu:r.bu,canal:r.canal,segmento:r.segmento||"",jornada:r.jornada||"",perfilCredito:r.perfilCredito||"",oferta:r.oferta||"",dataDisparo:r.dataInicio||new Date().toISOString().split("T")[0],horarioDisparo:r.horarioDisparo||"10:00",baseTotal:parseInt(String(r.baseVolume||1e3),10)},[r]),h=zje(f,u),p=g=>{l(x=>({...x,...g.appliedChanges})),console.log(` Sugesto aplicada: ${g.title}`)},m=async g=>{try{i(!0),a({});const x={bu:r.bu,jornada:r.jornada,activityName:r.activityName,dataInicio:r.dataInicio,dataFim:r.dataFim,horarioDisparo:r.horarioDisparo,canal:r.canal,safra:r.safra,ordemDisparo:r.ordemDisparo,perfilCredito:r.perfilCredito,oferta:r.oferta,promocional:r.promocional,oferta2:r.oferta2,promocional2:r.promocional2,parceiro:r.parceiro,subgrupo:r.subgrupo,etapaAquisicao:r.etapaAquisicao,produto:r.produto,baseVolume:r.baseVolume,custoUnitarioOferta:r.custoUnitarioOferta,custoTotalOferta:r.custoTotalOferta,custoUnitarioCanal:r.custoUnitarioCanal,custoTotalCanal:r.custoTotalCanal,custoTotalCampanha:r.custoTotalCampanha,status:g},b=p9.safeParse(x);if(!b.success){const _={};b.error.issues.forEach(S=>{const k=S.path[0];_[k]=S.message}),a(_),a(S=>({...S,form:"Verifique os campos obrigatorios em vermelho."}));return}let y;o?y=await ym.updateActivity(o.id,{BU:b.data.bu,jornada:b.data.jornada,"Activity name / Taxonomia":b.data.activityName,"Data de Disparo":b.data.dataInicio,"Data Fim":b.data.dataFim,"Horrio de Disparo":b.data.horarioDisparo,Segmento:r.segmento,Canal:b.data.canal,"Perfil de Crdito":b.data.perfilCredito||null,Oferta:b.data.oferta||null,Promocional:b.data.promocional||null,"Oferta 2":b.data.oferta2||null,"Promocional 2":b.data.promocional2||null,Parceiro:b.data.parceiro||null,Subgrupos:b.data.subgrupo||null,"Etapa de aquisio":b.data.etapaAquisicao||null,Produto:b.data.produto||null,"Base Total":Number(r.baseVolume)||null,status:b.data.status}):y=await ym.saveActivity(b.data,r.segmento),t(y),e()}catch(x){console.error("Erro ao salvar atividade:",x),a({form:`Erro ao salvar: ${(x==null?void 0:x.message)||"Erro desconhecido"}`})}finally{i(!1)}},v=async()=>{if(!(!o||!window.confirm("Tem certeza que deseja apagar esta atividade?")))try{i(!0),await ym.deleteActivity(o.id),c(o.id),e()}catch(g){console.error("Erro ao apagar:",g),a({form:"Erro ao apagar atividade da base."})}finally{i(!1)}};return d.jsxs("div",{className:"relative w-[95vw] max-w-[1820px] h-[85vh] max-h-[920px] flex flex-col bg-[#0f172a] rounded-xl shadow-2xl overflow-hidden animate-in fade-in zoom-in-95 duration-200 border border-slate-700/50 ring-1 ring-white/5",children:[d.jsxs("div",{className:"flex items-center justify-between px-5 py-3 bg-[#0f172a] border-b border-slate-800 shrink-0",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:`p-1.5 rounded-lg ${o?"bg-blue-500/10 text-blue-400":"bg-green-500/10 text-green-400"}`,children:o?d.jsx(ew,{size:18}):d.jsx(lc,{size:18})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-sm font-bold text-white tracking-tight",children:o?"Editar Disparo":"Novo Disparo"}),d.jsx("p",{className:"text-[10px] text-slate-400",children:o?"Edite os parametros da atividade":"Layout compacto - Desktop 1920x1080"})]})]}),d.jsx("button",{onClick:e,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-full transition-colors",children:d.jsx(Za,{size:18})})]}),d.jsxs("div",{className:"flex-1 overflow-x-auto overflow-y-auto p-4",children:[n.form&&d.jsxs("div",{className:"mb-4 p-3 bg-red-900/20 border border-red-500/30 rounded-lg text-red-300 text-xs flex items-center gap-2",children:[d.jsx(Es,{size:16}),n.form]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-4",children:[d.jsx(Pje,{}),d.jsx(Nje,{}),d.jsx(Oje,{}),d.jsx(Dje,{}),d.jsx(Mje,{})]}),f&&d.jsx(nPe,{insightResult:h,onSelectAlternative:p,className:"w-full"})]}),d.jsxs("div",{className:"px-5 py-3 bg-[#0f172a] border-t border-slate-800 flex justify-between items-center shrink-0 shadow-lg z-10",children:[d.jsx("div",{children:o&&d.jsxs("button",{onClick:v,className:"text-red-400 hover:text-red-300 hover:bg-red-500/10 px-3 py-2 rounded-lg text-xs font-medium transition-colors flex items-center gap-1.5",children:[d.jsx(Kl,{size:14}),d.jsx("span",{children:"Excluir"})]})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:e,className:"px-4 py-2 text-slate-400 hover:text-white font-medium text-xs transition-colors",children:"Cancelar"}),d.jsx("button",{onClick:()=>m("Rascunho"),disabled:s,className:"px-4 py-2 bg-slate-800 border border-slate-700 hover:bg-slate-700 text-slate-300 rounded-lg font-medium text-xs transition-all shadow-sm disabled:opacity-50",children:s?"...":"Salvar Rascunho"}),d.jsxs("button",{onClick:()=>m("Scheduled"),disabled:s,className:"px-6 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg font-bold text-xs shadow-lg shadow-blue-500/20 transition-all transform hover:-translate-y-0.5 disabled:opacity-50 disabled:transform-none flex items-center gap-1.5",children:[d.jsx(ew,{size:14}),s?"Processando...":"Agendar Disparo"]})]})]})]})},cPe=({isOpen:e,onClose:t,onSuccess:r,editingActivity:n,activeSegmento:a})=>e?d.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-2",children:[d.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm transition-opacity duration-300",onClick:t}),d.jsx(Tje,{editingActivity:n,activeSegmento:a,children:d.jsx(lPe,{onClose:t,onSuccess:r})})]}):null,uPe=({data:e,onActivityUpdate:t})=>{const[r,n]=w.useState(null),[a,s]=w.useState(!1),[i,o]=w.useState(null),l=mt(b=>b.viewSettings),c=mt(b=>b.addActivity),u=l.filtrosGlobais,{availableSegmentos:f}=j0(e,u),h=u.segmentos[0]||f[0]||"Todos",p=b=>{n(b)},m=b=>{const y={...b.raw,id:b.raw.id||b.id,BU:b.bu,jornada:b.jornada,"Activity name / Taxonomia":b.id,"Data de Disparo":ke(b.dataDisparo,"yyyy-MM-dd"),status:b.status||"Scheduled"};o(y),s(!0),n(null)},v=b=>Object.values(e).flat().filter(y=>m0(y.dataDisparo,b)),g=async b=>{const y=dC(b);c(y),t&&t(b.id,new Date(b["Data de Disparo"])),s(!1),o(null)},x=async b=>{try{const y=b.raw.id||b.raw.id;if(!y){console.error("Cannot confirm draft: missing database ID");return}await ym.confirmDraft(y);const _={...b,status:"Scheduled"};c(_),n(null),setTimeout(()=>n(b.dataDisparo),100)}catch(y){console.error("Error confirming draft:",y)}};return d.jsxs(d.Fragment,{children:[d.jsx(jAe,{data:e,onActivityUpdate:t,onDayClick:p,onProgramDispatch:()=>{o(null),s(!0)}}),r&&d.jsx(jh,{date:r,activities:v(r),onClose:()=>n(null),onEdit:m,onConfirmDraft:x}),d.jsx(cPe,{isOpen:a,onClose:()=>{s(!1),o(null)},onSuccess:g,editingActivity:i,activeSegmento:h})]})},dPe=({initialStartDate:e,initialEndDate:t,initialCompareEnabled:r=!1,onApply:n,onCancel:a})=>{const[s,i]=w.useState(e),[o,l]=w.useState(t),[c,u]=w.useState(null),[f,h]=w.useState(r),[p,m]=w.useState(Fl(new Date)),v=[{label:"Esta semana",getValue:()=>[jt(new Date,new Date().getDay()),new Date]},{label:"ltimos 14 dias",getValue:()=>[jt(new Date,13),new Date]},{label:"ltimos 28 dias",getValue:()=>[jt(new Date,27),new Date]},{label:"ltimos 90 dias",getValue:()=>[jt(new Date,89),new Date]},{label:"Este ano",getValue:()=>[new Date(new Date().getFullYear(),0,1),new Date]},{label:"Este Ms",getValue:()=>[Qr(new Date),new Date]}],g=S=>{!s||s&&o?(i(S),l(null)):ZN(S,s)?(l(s),i(S)):l(S)},x=S=>{const[k,E]=S();i(k),l(E),m(E)},b=f&&s&&o?jt(s,v0(o,s)+1):null,y=f&&s&&o?jt(o,v0(o,s)+1):null,_=(S,k)=>{const E=el(Qr(S)),C=Mhe(Fl(S)),T=wE({start:E,end:C}),A=["D","S","T","Q","Q","S","S"];return d.jsxs("div",{className:"w-[320px] p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k==="left"?d.jsx("button",{onClick:()=>m(Vu(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(z0,{size:20})}):d.jsx("div",{className:"w-8"}),d.jsx("span",{className:"font-semibold text-slate-200 capitalize",children:ke(S,"MMMM yyyy",{locale:ei})}),k==="right"?d.jsx("button",{onClick:()=>m(xE(p,1)),className:"p-1 hover:bg-slate-800 rounded-full text-slate-400",children:d.jsx(U0,{size:20})}):d.jsx("div",{className:"w-8"})]}),d.jsx("div",{className:"grid grid-cols-7 mb-2",children:A.map((N,j)=>d.jsx("div",{className:"text-center text-xs font-medium text-slate-500 py-1",children:N},j))}),d.jsx("div",{className:"grid grid-cols-7 gap-y-1",children:T.map((N,j)=>{const P=N.getMonth()===S.getMonth(),R=s&&m0(N,s),B=o&&m0(N,o),q=s&&o&&Oo(N,{start:s,end:o}),K=!o&&s&&c&&Oo(N,{start:ZN(N,s)?N:s,end:jpe(N,s)?N:s}),X=b&&y&&Oo(N,{start:b,end:y});return d.jsx("button",{onClick:()=>g(N),onMouseEnter:()=>u(N),onMouseLeave:()=>u(null),className:`
                                    h-9 w-full flex items-center justify-center text-sm relative
                                    ${P?"text-slate-300":"text-slate-600"}
                                    ${R?"bg-blue-600 text-white rounded-l-full z-10":""}
                                    ${B?"bg-blue-600 text-white rounded-r-full z-10":""}
                                    ${(q||K)&&!R&&!B?"bg-blue-600/20":""}
                                    ${X&&!q&&!R&&!B?"bg-orange-500/20 text-orange-300":""}
                                    ${R&&B?"rounded-full":""}
                                    hover:bg-blue-600/50 hover:text-white transition-colors
                                `,children:ke(N,"d")},j)})})]})};return d.jsxs("div",{className:"flex h-[450px]",children:[d.jsx("div",{className:"w-48 bg-slate-900/50 border-r border-white/10 p-4 flex flex-col gap-2",children:v.map((S,k)=>d.jsx("button",{onClick:()=>x(S.getValue),className:"text-left px-3 py-2 rounded-lg text-sm text-slate-400 hover:bg-slate-800 hover:text-slate-200 transition-colors",children:S.label},k))}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"flex-1 flex divide-x divide-slate-800",children:[d.jsx("div",{className:"relative",children:_(Vu(p,1),"left")}),d.jsx("div",{className:"relative",children:_(p,"right")})]}),d.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-between items-center bg-slate-900/50",children:[d.jsx("div",{className:"flex items-center gap-2",children:d.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:f,onChange:S=>h(S.target.checked),className:"rounded border-slate-600 bg-slate-800 text-blue-600 focus:ring-blue-500/20"}),"Comparar com perodo anterior"]})}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:a,className:"px-4 py-2 text-sm font-medium text-slate-400 hover:text-slate-200",children:"Cancelar"}),d.jsx("button",{onClick:()=>n(s,o||s,f),className:"px-4 py-2 text-sm font-medium bg-blue-600 text-white rounded-lg hover:bg-blue-500",children:"Aplicar"})]})]})]})]})},fPe=()=>{const{startDate:e,endDate:t,setPeriod:r,compareEnabled:n,toggleCompare:a}=Nh(),[s,i]=w.useState(!1),o=w.useRef(null);w.useEffect(()=>{const c=u=>{o.current&&!o.current.contains(u.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[]);const l=(c,u,f)=>{r(c,u),a(f),i(!1)};return d.jsxs("div",{className:"relative",ref:o,children:[d.jsxs("button",{onClick:()=>i(!s),className:`flex items-center gap-2 px-3 py-2 rounded-lg border shadow-sm transition-all ${s?"bg-slate-900 border-white text-white":"bg-slate-900/90 border-slate-700 text-white hover:bg-slate-900"}`,children:[d.jsx(lc,{size:16,className:"text-slate-400"}),d.jsxs("span",{className:"text-sm font-medium",children:[ke(e,"dd MMM, yyyy",{locale:ei})," - ",ke(t,"dd MMM, yyyy",{locale:ei})]}),d.jsx($g,{size:14,className:`text-slate-500 transition-transform ${s?"rotate-180":""}`})]}),s&&d.jsx("div",{className:"absolute top-full left-0 mt-2 z-50",children:d.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl shadow-black/50 overflow-hidden w-[800px]",children:d.jsx(dPe,{initialStartDate:e,initialEndDate:t,initialCompareEnabled:n,onApply:l,onCancel:()=>i(!1)})})})]})},hPe=({title:e,children:t})=>d.jsxs("div",{className:"flex items-center justify-between px-6 py-3 border-b border-white/10 bg-[#1A2238] sticky top-0 z-20 shadow-lg",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-100 drop-shadow-sm",children:e}),d.jsx("div",{className:"mt-1",children:d.jsx(fPe,{})})]}),d.jsx("div",{className:"flex items-center gap-3",children:t})]}),S9=w.createContext(void 0),pPe=({children:e})=>{const{paidMediaData:t,setPaidMediaData:r}=mt(),[n,a]=w.useState({from:Qr(new Date),to:zu(new Date)}),[s,i]=w.useState("this-month"),[o,l]=w.useState(["meta","google"]),[c,u]=w.useState(["marca","b2c"]),[f,h]=w.useState([]),[p,m]=w.useState(!0);w.useEffect(()=>{if(t.length>0){const k=t.map(A=>new Date(A.date).getTime()),E=Math.max(...k),C=new Date(E),T=jt(C,30);a({from:Vi(T),to:Vi(C)}),i("custom"),h([])}},[t]);const v=w.useMemo(()=>t.filter(k=>{const E=new Date(k.date);return!(!(E>=n.from&&E<=n.to)||!o.includes(k.channel)||k.objective&&!c.includes(k.objective)||f.length>0&&!f.includes(k.campaign))}),[t,n,o,c,f]),g=w.useMemo(()=>{if(!p)return[];const k=n.to.getTime()-n.from.getTime(),E=new Date(n.from.getTime()-24*60*60*1e3),C=new Date(E.getTime()-k);return t.filter(T=>{const A=new Date(T.date);return!(!(A>=C&&A<=E)||!o.includes(T.channel)||T.objective&&!c.includes(T.objective)||f.length>0&&!f.includes(T.campaign))})},[t,n,o,c,f,p]),x=w.useMemo(()=>{const k=new Set;return t.forEach(E=>{const C=new Date(E.date);C>=n.from&&C<=n.to&&k.add(E.campaign)}),Array.from(k).sort()},[t,n]),b=(k,E)=>{a(k),E&&i(E)},y=k=>{l(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])},_=k=>{u(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])},S=k=>{h(E=>E.includes(k)?E.filter(C=>C!==k):[...E,k])};return d.jsx(S9.Provider,{value:{rawData:t,filteredData:v,previousPeriodData:g,setRawData:r,filters:{dateRange:n,timeRangeOption:s,selectedChannels:o,selectedObjectives:c,selectedCampaigns:f,isCompareEnabled:p},setFilters:{setDateRange:b,toggleChannel:y,toggleObjective:_,toggleCampaign:S,setSelectedCampaigns:h,setIsCompareEnabled:m},availableCampaigns:x},children:e})},nl=()=>{const e=w.useContext(S9);if(e===void 0)throw new Error("useFilters must be used within a FilterProvider");return e},mPe=({onDataLoaded:e})=>{const[t,r]=w.useState(!1),[n,a]=w.useState(!1),[s,i]=w.useState(null),o=async h=>{i(null),a(!0);try{const p=await rC(h);if(p.length===0)throw new Error("Nenhum dado vlido encontrado nas abas esperadas.");e(p)}catch(p){console.error(p),i(p instanceof Error?p.message:"Erro ao processar arquivo.")}finally{a(!1)}},l=w.useCallback(h=>{h.preventDefault(),r(!1),h.dataTransfer.files&&h.dataTransfer.files[0]&&o(h.dataTransfer.files[0])},[]),c=w.useCallback(h=>{h.preventDefault(),r(!0)},[]),u=w.useCallback(h=>{h.preventDefault(),r(!1)},[]),f=h=>{h.target.files&&h.target.files[0]&&o(h.target.files[0])};return d.jsxs("div",{className:`
        w-full max-w-2xl mx-auto p-8 border-2 border-dashed rounded-xl transition-all duration-200
        flex flex-col items-center justify-center text-center cursor-pointer
        ${t?"border-primary bg-primary/5 scale-[1.02]":"border-slate-300 hover:border-primary hover:bg-slate-50"}
      `,onDrop:l,onDragOver:c,onDragLeave:u,onClick:()=>{var h;return(h=document.getElementById("fileInput"))==null?void 0:h.click()},children:[d.jsx("input",{type:"file",id:"fileInput",className:"hidden",accept:".xlsx, .xls",onChange:f}),n?d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx(Gs,{className:"w-12 h-12 text-primary mb-4 animate-spin"}),d.jsx("p",{className:"text-slate-500 font-medium",children:"Processando dados..."})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`p-4 rounded-full mb-4 ${s?"bg-red-100":"bg-slate-100"}`,children:s?d.jsx(Es,{className:"w-8 h-8 text-red-500"}):d.jsx(Bg,{className:"w-8 h-8 text-slate-500"})}),d.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-1",children:s?"Erro na Importao":"Carregar planilha de dados"}),d.jsx("p",{className:"text-sm text-slate-500 max-w-md",children:s?d.jsx("span",{className:"text-red-500",children:s}):"Arraste seu arquivo XLSX aqui ou clique para selecionar. Certifique-se de que as 4 abas corretas existem."})]})]})},vPe=()=>{const{filters:e,setFilters:t,availableCampaigns:r}=nl(),n=a=>{const s=a.target.value,i=new Date;let o=i,l=i;switch(s){case"7d":l=i,o=jt(l,7);break;case"14d":l=i,o=jt(l,14);break;case"30d":l=i,o=jt(l,30);break;case"90d":l=i,o=jt(l,90);break;case"this-month":o=Qr(i),l=zu(i);break;case"last-month":o=Qr(jt(Qr(i),1)),l=zu(jt(Qr(i),1));break;case"custom":o=e.dateRange.from,l=e.dateRange.to;break}t.setDateRange({from:o,to:l},s)};return d.jsxs("div",{className:"absolute top-[calc(100%-1px)] left-0 w-full bg-white border-b border-slate-200 shadow-lg py-3 px-6 flex flex-wrap items-center gap-4 transition-all duration-300 ease-in-out transform -translate-y-full opacity-0 invisible group-hover:translate-y-0 group-hover:opacity-100 group-hover:visible z-40",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-slate-200 rounded-md px-3 py-1.5 bg-slate-50/50 hover:bg-white transition-colors",children:[d.jsx(lc,{className:"w-3.5 h-3.5 text-slate-500"}),d.jsxs("select",{value:e.timeRangeOption,onChange:n,className:"bg-transparent border-none text-xs font-semibold text-slate-700 focus:ring-0 cursor-pointer outline-none p-0 pr-2",children:[d.jsx("option",{value:"this-month",children:"Ms Atual"}),d.jsx("option",{value:"last-month",children:"Ms Passado"}),d.jsx("option",{value:"7d",children:"ltimos 7 dias"}),d.jsx("option",{value:"14d",children:"ltimos 14 dias"}),d.jsx("option",{value:"30d",children:"ltimos 30 dias"}),d.jsx("option",{value:"90d",children:"ltimos 90 dias"}),d.jsx("option",{value:"custom",children:"Personalizado"})]}),d.jsxs("span",{className:"text-xs text-slate-400 border-l border-slate-200 pl-2",children:[ke(e.dateRange.from,"dd/MM")," - ",ke(e.dateRange.to,"dd/MM")]})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(zH,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Mdia:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["meta","google"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedChannels.includes(a)?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedChannels.includes(a),onChange:()=>t.toggleChannel(a)}),a==="meta"?"Meta Ads":"Google Ads"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"flex items-center gap-1.5 text-slate-500",children:[d.jsx(Gi,{className:"w-3.5 h-3.5"}),d.jsx("span",{className:"text-xs font-semibold uppercase tracking-wider",children:"Objetivo:"})]}),d.jsx("div",{className:"flex items-center gap-2",children:["marca","b2c"].map(a=>d.jsxs("label",{className:`
                            cursor-pointer select-none px-2.5 py-1 rounded-md border text-xs font-medium transition-all
                            ${e.selectedObjectives.includes(a)?"bg-purple-50 border-purple-200 text-purple-700":"bg-white border-slate-200 text-slate-500 hover:border-slate-300"}
                        `,children:[d.jsx("input",{type:"checkbox",className:"hidden",checked:e.selectedObjectives.includes(a),onChange:()=>t.toggleObjective(a)}),a==="marca"?"Branding":"Performance (B2C)"]},a))})]}),d.jsx("div",{className:"h-6 w-px bg-slate-200 mx-2"}),d.jsx("div",{className:"flex items-center gap-2 flex-1 min-w-[200px] max-w-md",children:d.jsxs("div",{className:"relative w-full",children:[d.jsx(W0,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400"}),d.jsxs("select",{className:"w-full bg-white border border-slate-200 text-xs font-medium text-slate-700 rounded-md py-1.5 pl-8 pr-8 focus:ring-1 focus:ring-blue-500 outline-none appearance-none hover:border-slate-300 transition-colors",value:e.selectedCampaigns.length===1?e.selectedCampaigns[0]:"",onChange:a=>{a.target.value===""?t.setSelectedCampaigns([]):t.setSelectedCampaigns([a.target.value])},children:[d.jsxs("option",{value:"",children:["Todas as Campanhas (",r.length,")"]}),r.map(a=>d.jsx("option",{value:a,children:a},a))]}),d.jsx($g,{className:"absolute right-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-slate-400 pointer-events-none"})]})}),d.jsxs("label",{className:`
                flex items-center gap-2 cursor-pointer ml-auto border rounded-md px-3 py-1.5 transition-all
                ${e.isCompareEnabled?"bg-indigo-50 border-indigo-200":"bg-white border-slate-200 hover:border-slate-300"}
            `,children:[d.jsx("input",{type:"checkbox",checked:e.isCompareEnabled,onChange:()=>t.setIsCompareEnabled(!e.isCompareEnabled),className:"rounded text-indigo-600 focus:ring-indigo-500 w-3.5 h-3.5"}),d.jsx("span",{className:`text-xs font-medium ${e.isCompareEnabled?"text-indigo-700":"text-slate-600"}`,children:"Comparar perodo anterior"})]})]})},iy="media_paga_budgets",oy=()=>{const e=localStorage.getItem(iy);return e?JSON.parse(e):[]},gPe=e=>{const t=oy(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(iy,JSON.stringify(t)),r},xPe=(e,t)=>{const r=oy(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(iy,JSON.stringify(r)))},yPe=e=>{const t=oy().filter(r=>r.id!==e);localStorage.setItem(iy,JSON.stringify(t))},E9=()=>{const[e,t]=w.useState([]),r=()=>{t(oy())};return w.useEffect(()=>{r()},[]),{budgets:e,add:i=>{gPe(i),r()},update:(i,o)=>{xPe(i,o),r()},remove:i=>{yPe(i),r()},refresh:r}},qp=({title:e,value:t,trendValue:r,trendLabel:n="vs perodo anterior",trendInverse:a=!1,contextValue:s,status:i,icon:o})=>{const l=r!==void 0&&r>0,c=r===0||r===void 0;let u="text-slate-500",f=Zu;!c&&r!==void 0&&(l?(f=vW,u=a?"text-red-500":"text-green-500"):(f=uW,u=a?"text-green-500":"text-red-500"));const h=i==="success"?Zr:i==="warning"?pu:AI,p=i==="success"?"text-green-500":i==="warning"?"text-yellow-500":"text-red-500";return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 shadow-sm hover:shadow-md transition-shadow relative overflow-hidden",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider",children:e}),o&&d.jsx("div",{className:"text-slate-300 opacity-80 scale-90",children:o})]}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 tracking-tight mb-3",children:t}),d.jsxs("div",{className:"flex flex-col gap-1 text-xs",children:[r!==void 0&&d.jsxs("div",{className:"flex items-center gap-1.5 font-medium",children:[d.jsxs("span",{className:`flex items-center ${u}`,children:[d.jsx(f,{className:"w-3.5 h-3.5"}),Math.abs(r).toFixed(1),"%"]}),d.jsx("span",{className:"text-slate-400",children:n})]}),(s||i)&&d.jsxs("div",{className:"flex items-center gap-2 mt-1 pt-1 border-t border-slate-50",children:[s&&d.jsx("span",{className:"text-slate-500 font-medium",children:s}),s&&i&&d.jsx("span",{className:"text-slate-300",children:"|"}),i&&d.jsxs("div",{className:`flex items-center gap-1 ${p}`,children:[d.jsx("span",{children:"Status:"}),d.jsx(h,{className:"w-3.5 h-3.5"})]})]})]}),d.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-full ${i==="error"?"bg-red-500":i==="warning"?"bg-amber-400":"bg-orange-500"}`})]})},bPe=({data:e=[]})=>{const t=w.useMemo(()=>{const i=e.filter(c=>c.channel==="meta"),o=e.filter(c=>c.channel==="google"),l=c=>{const u=c.reduce((g,x)=>g+x.spend,0),f=c.reduce((g,x)=>g+x.impressions,0),h=c.reduce((g,x)=>g+x.clicks,0),p=c.reduce((g,x)=>g+x.conversions,0),m=f?u/f*1e3:0,v=p?u/p:0;return{spend:u,imp:f,clicks:h,conv:p,cpm:m,cpa:v}};return{meta:l(i),google:l(o)}},[e]),r=(i,o,l,c,u=!1,f="")=>{if(o===0&&l===0)return null;const h=u?o<l:o>l,p=u?l<o:l>o;let m="Manter",v=0;if(o>0&&l>0){const g=Math.max(o,l),x=Math.min(o,l);v=(g-x)/x*100,h?m=`Meta ${v.toFixed(0)}% melhor`:p&&(m=`Google ${v.toFixed(0)}% melhor`),u?m=`${h?"Meta":"Google"} ${v.toFixed(0)}% mais eficiente`:m=`${h?"Meta":"Google"} ${v.toFixed(0)}% maior volume`}return d.jsxs("tr",{className:"border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors group",children:[d.jsx("td",{className:"py-4 px-4 font-medium text-slate-600 bg-white group-hover:bg-orange-50/50",children:i}),d.jsxs("td",{className:"py-4 px-4 text-right border-l border-r border-slate-100 bg-[#1877F2]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(o),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),h&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsxs("td",{className:"py-4 px-4 text-right border-r border-slate-100 bg-[#ea4335]/5 text-slate-700",children:[d.jsxs("div",{className:"font-semibold",children:[c(l),d.jsx("span",{className:"text-xs text-slate-400 font-normal ml-0.5",children:f})]}),p&&d.jsx("div",{className:"text-[10px] text-green-600 font-bold uppercase tracking-wide mt-1",children:"Vencedor"})]}),d.jsx("td",{className:"py-4 px-4 text-right",children:d.jsxs("div",{className:"flex items-center justify-end gap-2 text-xs font-medium text-slate-500",children:[m,d.jsx(Y_,{size:14,className:"text-orange-400"})]})})]})},n=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(i),a=i=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(i),s=i=>new Intl.NumberFormat("pt-BR").format(i);return d.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 pb-4 border-b border-orange-100 flex justify-between items-center bg-orange-50/30",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Anlise de Canais"}),d.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"Comparativo direto de performance"})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{className:"bg-orange-50 text-slate-500 uppercase text-xs tracking-wider",children:[d.jsx("th",{className:"py-3 px-4 text-left font-bold w-1/5",children:"Mtrica"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#1877F2] bg-blue-50 border-b-2 border-[#1877F2]/20",children:"Meta Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/4 text-[#ea4335] bg-red-50 border-b-2 border-[#ea4335]/20",children:"Google Ads"}),d.jsx("th",{className:"py-3 px-4 text-right font-bold w-1/3",children:"Ao / Insight"})]})}),d.jsxs("tbody",{children:[r("Investimento",t.meta.spend,t.google.spend,n,!1),r("CPM (Custo Mil)",t.meta.cpm,t.google.cpm,n,!0),r("Converses",t.meta.conv,t.google.conv,s,!1),r("CPA (Custo Conv.)",t.meta.cpa,t.google.cpa,a,!0)]})]})})]})},wPe=({current:e,previous:t,show:r})=>{if(!r)return d.jsx("div",{className:"bg-slate-800/50 border border-slate-700/50 rounded-xl p-8 flex items-center justify-center text-slate-500",children:d.jsx("p",{children:'Habilite "Comparar anterior" para ver a anlise de perodo.'})});const n=(l,c,u,f="number",h=!1,p=0)=>{const m=u===0?0:(c-u)/u*100,v=m>0,g=m===0;let x="text-slate-500";g||(v?x=h?"text-red-400":"text-green-400":x=h?"text-green-400":"text-red-400");const b=y=>f==="currency"?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:p,minimumFractionDigits:p}).format(y):f==="percent"?new Intl.NumberFormat("pt-BR",{minimumFractionDigits:p,maximumFractionDigits:p}).format(y)+"%":new Intl.NumberFormat("pt-BR",{maximumFractionDigits:p}).format(y);return d.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-slate-100 last:border-0 hover:bg-orange-50/50 transition-colors px-2 rounded-lg",children:[d.jsx("span",{className:"text-sm font-medium text-slate-600",children:l}),d.jsxs("div",{className:"flex items-center gap-6",children:[d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Anterior"}),d.jsx("p",{className:"text-sm font-medium text-slate-500",children:b(u)})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-xs text-slate-400",children:"Atual"}),d.jsx("p",{className:"text-sm font-bold text-slate-800",children:b(c)})]}),d.jsxs("div",{className:`w-16 text-right font-bold text-sm ${x}`,children:[m>0&&"+",m.toFixed(1),"%"]})]})]})},a=e.conversions>0?e.spend/e.conversions:0,s=t.conversions>0?t.spend/t.conversions:0,i=e.impressions>0?e.clicks/e.impressions*100:0,o=t.impressions>0?t.clicks/t.impressions*100:0;return d.jsxs("div",{className:"bg-white rounded-xl p-6 border border-orange-100 shadow-sm",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:"Comparativo de Perodo"}),d.jsxs("div",{className:"space-y-1",children:[n("Investimento",e.spend,t.spend,"currency",!0,0),n("Impresses",e.impressions,t.impressions),n("Cliques",e.clicks,t.clicks),n("Converses",e.conversions,t.conversions),d.jsx("div",{className:"my-2 border-t border-dashed border-slate-200"}),n("CPA",a,s,"currency",!0,2),n("CTR",i,o,"percent",!1,2)]})]})},_Pe=["DOM","SEG","TER","QUA","QUI","SEX","SAB"],kPe=({data:e})=>{const t=$s.useMemo(()=>{const o=Array(7).fill(null).map(()=>({spend:[],cpa:[],roi:[],conversions:[],revenue:[]}));return e.forEach(l=>{const c=kE(new Date(l.date));if(o[c].spend.push(l.spend),l.conversions>0){const u=l.spend/l.conversions;o[c].cpa.push(u)}o[c].conversions.push(l.conversions)}),o.map(l=>{const c=l.spend.reduce((v,g)=>v+g,0),u=l.spend.length?c/l.spend.length:0,f=l.cpa.reduce((v,g)=>v+g,0),h=l.cpa.length?f/l.cpa.length:0,p=l.conversions.reduce((v,g)=>v+g,0),m=l.conversions.length?p/l.conversions.length:0;return{avgSpend:u,avgCpa:h,avgConv:m,count:l.spend.length}})},[e]),r={spend:t.reduce((o,l)=>o+l.avgSpend,0)/7,cpa:t.reduce((o,l)=>o+l.avgCpa,0)/7,conv:t.reduce((o,l)=>o+l.avgConv,0)/7},n=(o,l,c)=>{if(o===0)return"bad";const u=(o-l)/l;return c==="higherIsGood"?u>.1?"good":u<-.1?"bad":"warning":u<-.1?"good":u>.1?"bad":"warning"},a=o=>`R$ ${o.toFixed(0)}`,s=o=>`R$ ${o.toFixed(2)}`,i=o=>o.toFixed(0);return d.jsxs("div",{className:"bg-white rounded-xl border border-orange-100 shadow-sm p-6",children:[d.jsx("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:" Mapa de Calor Semanal (Mdias)"}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{className:"text-left font-medium text-slate-500 py-2",children:"Mtrica"}),_Pe.map((o,l)=>d.jsx("th",{className:"text-center font-bold text-slate-600 py-2 w-24",children:o},o))]})}),d.jsxs("tbody",{children:[d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Investimento"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(U1,{status:n(o.avgSpend,r.spend,"lowerIsGood"),type:"good",label:a(o.avgSpend)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"CPA (Custo/Conv)"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(U1,{status:n(o.avgCpa,r.cpa,"lowerIsGood"),label:s(o.avgCpa)})},l))]}),d.jsxs("tr",{className:"border-t border-slate-100",children:[d.jsx("td",{className:"font-semibold text-slate-600 py-3",children:"Converses"}),t.map((o,l)=>d.jsx("td",{className:"text-center py-2",children:d.jsx(U1,{status:n(o.avgConv,r.conv,"higherIsGood"),label:i(o.avgConv)})},l))]})]})]})}),d.jsx("p",{className:"text-xs text-slate-400 mt-3 text-center",children:"*Cores baseadas na variao vs mdia do perodo selecionado."})]})},U1=({status:e,label:t})=>{let r="bg-slate-100 text-slate-500 border-slate-200";return e==="good"&&(r="bg-green-50 text-green-700 border-green-200"),e==="warning"&&(r="bg-amber-50 text-amber-700 border-amber-200"),e==="bad"&&(r="bg-red-50 text-red-700 border-red-200"),d.jsx("div",{className:`mx-auto w-24 py-1.5 rounded-lg border text-xs font-bold ${r} transition-all hover:scale-105 cursor-pointer whitespace-nowrap shadow-sm`,children:t})},X4=e=>({spend:e.reduce((t,r)=>t+r.spend,0),impressions:e.reduce((t,r)=>t+r.impressions,0),clicks:e.reduce((t,r)=>t+r.clicks,0),conversions:e.reduce((t,r)=>t+r.conversions,0)}),SPe=e=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(e),V1=e=>new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e),EPe=()=>{const{filteredData:e,rawData:t,filters:r,previousPeriodData:n}=nl(),{budgets:a}=E9(),s=w.useMemo(()=>X4(e),[e]);new Date().toISOString().slice(0,7);const i=r.dateRange.to.toISOString().slice(0,7),o=a.filter(x=>x.month===i).reduce((x,b)=>x+b.value,0),l=o>0?s.spend/o*100:0,c=new Date(r.dateRange.to.getFullYear(),r.dateRange.to.getMonth()+1,0).getDate(),f=r.dateRange.to.getDate()/c*100;let h="success";o>0&&(l>f+20?h="error":l>f+5&&(h="warning"));const p=w.useMemo(()=>X4(n),[n]),m=(x,b)=>b===0?0:(x-b)/b*100,v={spend:m(s.spend,p.spend),impressions:m(s.impressions,p.impressions),clicks:m(s.clicks,p.clicks),conversions:m(s.conversions,p.conversions)},g=r.isCompareEnabled;return d.jsxs("div",{className:"space-y-6 animate-fade-in pb-10",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[d.jsx(qp,{title:"Investimento",value:SPe(s.spend),trendValue:g?v.spend:void 0,trendLabel:"vs perodo anterior",trendInverse:!0,contextValue:o>0?`${l.toFixed(0)}% do orado`:void 0,status:h,icon:d.jsx(Xu,{size:20})}),d.jsx(qp,{title:"Impresses",value:V1(s.impressions),trendValue:g?v.impressions:void 0,icon:d.jsx(HW,{size:20})}),d.jsx(qp,{title:"Cliques",value:V1(s.clicks),trendValue:g?v.clicks:void 0,icon:d.jsx(kH,{size:20})}),d.jsx(qp,{title:"Converses",value:V1(s.conversions),trendValue:g?v.conversions:void 0,icon:d.jsx(Gi,{size:20}),status:"success"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(wPe,{current:s,previous:p,show:g}),d.jsx(bPe,{data:e})]}),d.jsx("div",{className:"w-full",children:d.jsx(kPe,{data:e})})]})},Z4=(e,t,r=new Date)=>{const n=e.filter(x=>g0(new Date(x.date),r));if(n.length===0)return{metric:String(t),current:0,projected:0,trend:"stable",confidence:0,remainingDays:0,pace:0};const a=SE(r),s=Math.max(...n.map(x=>Qv(new Date(x.date)))),i=n.reduce((x,b)=>x+(b[t]||0),0),l=[...n].sort((x,b)=>new Date(x.date).getTime()-new Date(b.date).getTime()).slice(-7);let c=0,u=0;l.length>0&&(c=l.reduce((b,y)=>b+(y[t]||0),0)/l.length),n.length>0&&(u=i/n.length);const f=n.length>=3?c:u,h=a-s,p=f*h,m=i+p;let v="stable";if(u>0){const x=(c-u)/u;x>.05?v="up":x<-.05&&(v="down")}let g=Math.round(n.length/a*100);return n.length>7&&(g=Math.min(g+20,95)),g=Math.min(g,100),{metric:String(t),current:i,projected:m,trend:v,confidence:g,remainingDays:h,pace:f}},ly="media_paga_targets",cy=()=>{const e=localStorage.getItem(ly);return e?JSON.parse(e):[]},CPe=e=>{const t=cy(),r={...e,id:crypto.randomUUID()};return t.push(r),localStorage.setItem(ly,JSON.stringify(t)),r},TPe=(e,t)=>{const r=cy(),n=r.findIndex(a=>a.id===e);n!==-1&&(r[n]={...r[n],...t},localStorage.setItem(ly,JSON.stringify(r)))},APe=e=>{const t=cy().filter(r=>r.id!==e);localStorage.setItem(ly,JSON.stringify(t))},C9=()=>{const[e,t]=w.useState([]),r=()=>{t(cy())};return w.useEffect(()=>{r()},[]),{targets:e,add:i=>{CPe(i),r()},update:(i,o)=>{TPe(i,o),r()},remove:i=>{APe(i),r()},refresh:r}},W1=({result:e,label:t,isCurrency:r,targetValue:n,inverse:a=!1})=>{const s=h=>r?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:2}).format(h):new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(h);let i=Zu,o="text-slate-500",l="Estvel";e.trend==="up"&&(i=Mn,o=a?"text-red-500":"text-green-500",l="Ritmo Acelerado"),e.trend==="down"&&(i=Qu,o=a?"text-green-500":"text-red-500",l="Ritmo em Queda");let c=null,u="text-slate-400";const f=n?e.projected/n*100:0;if(n&&n>0){let h="",p=Zr;a?e.projected<=n?(u="text-green-600 bg-green-50 border-green-200",p=Zr,h="Dentro da Meta"):(u="text-red-600 bg-red-50 border-red-200",p=pu,h="Acima da Meta"):t==="Investimento"?e.projected>n*1.1?(u="text-red-600 bg-red-50 border-red-200",p=pu,h="Estouro Previsto"):e.projected<n*.9?(u="text-yellow-600 bg-yellow-50 border-yellow-200",p=pu,h="Subutilizado"):(u="text-green-600 bg-green-50 border-green-200",p=Zr,h="No Caminho Ideal"):e.projected>=n?(u="text-green-600 bg-green-50 border-green-200",p=Zr,h="Meta Alcanvel"):(u="text-red-600 bg-red-50 border-red-200",p=EH,h="Risco de Falha"),c=d.jsxs("div",{className:`flex items-center gap-1.5 text-xs font-bold mt-3 px-2 py-1.5 rounded-md border ${u}`,children:[d.jsx(p,{size:14}),d.jsx("span",{children:h}),d.jsxs("span",{className:"opacity-60 font-normal ml-auto text-xs",children:[f.toFixed(0),"%"]})]})}else c=d.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-medium mt-3 px-2 py-1.5 rounded-md border border-slate-100 bg-slate-50 text-slate-400",children:[d.jsx(iW,{size:14}),d.jsx("span",{children:"Sem meta definida"})]});return d.jsxs("div",{className:"bg-white rounded-xl p-5 border border-slate-100 flex flex-col shadow-sm hover:shadow-md transition-shadow",children:[d.jsx("span",{className:"text-xs font-bold text-slate-400 uppercase tracking-wide mb-1",children:t}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("div",{className:"text-3xl font-extrabold text-slate-800 tracking-tight",title:"Projeo Mensal",children:s(e.projected)}),d.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-sm font-medium text-slate-500",children:[d.jsx("span",{className:"opacity-70",children:"Atual:"}),d.jsx("span",{className:"text-slate-700",children:s(e.current)})]})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-50",children:[d.jsxs("div",{className:"flex items-center justify-between text-xs",children:[d.jsxs("div",{className:`flex items-center gap-1 ${o} font-bold`,children:[d.jsx(i,{className:"w-4 h-4"}),d.jsx("span",{children:l})]}),d.jsxs("span",{className:"text-slate-400 font-medium",children:[e.confidence,"% confiana"]})]}),c]})]})},jPe=({data:e})=>{const t=new Date,{targets:r}=C9(),n=m=>{var v;return(v=r.find(g=>g.metric===m))==null?void 0:v.value},a=Z4(e,"spend",t),s=Z4(e,"conversions",t),i=s.current>0?a.current/s.current:0,o=s.projected>0?a.projected/s.projected:0,l=o<i?"down":o>i?"up":"stable",c=Math.round((a.confidence+s.confidence)/2),u={metric:"cpa",current:i,projected:o,trend:l,confidence:c,remainingDays:a.remainingDays,pace:0},f=t.getDate(),p=new Date(t.getFullYear(),t.getMonth()+1,0).getDate()-f;return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-white rounded-xl border border-slate-200/60 p-1 mb-8",children:[d.jsxs("div",{className:"px-5 py-3 flex justify-between items-center",children:[d.jsx("h3",{className:"text-base font-bold text-slate-700 flex items-center gap-2",children:"Projeo para o final do ms"}),d.jsxs("div",{className:"text-xs font-semibold text-slate-500 bg-white px-3 py-1 rounded-full border border-slate-100 shadow-sm",children:[p," dias restantes"]})]}),d.jsxs("div",{className:"p-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx(W1,{result:a,label:"Investimento",isCurrency:!0,targetValue:n("investimento")}),d.jsx(W1,{result:s,label:"Converses",targetValue:n("conversoes")}),d.jsx(W1,{result:u,label:"CPA Mdio",isCurrency:!0,targetValue:n("cpa"),inverse:!0})]}),d.jsx("div",{className:"px-6 py-2 text-[10px] text-center text-slate-400 font-medium",children:"*Projeo baseada na mdia mvel dos ltimos 7 dias."})]})},PPe=({onSave:e,onClose:t})=>{const[r,n]=w.useState({month:ke(new Date,"MM/yyyy"),metric:"conversions",value:0}),a=s=>{s.preventDefault(),!(!r.value||!r.month||!r.metric)&&(e(r),t())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:"Definir Meta Mensal"}),d.jsx("button",{onClick:t,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx(Za,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:a,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:r.month,onChange:s=>n({...r,month:s.target.value}),placeholder:"MM/AAAA",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Mtrica"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:r.metric,onChange:s=>n({...r,metric:s.target.value}),children:[d.jsx("option",{value:"spend",children:"Investimento"}),d.jsx("option",{value:"conversions",children:"Converses"}),d.jsx("option",{value:"impressions",children:"Impresses"}),d.jsx("option",{value:"clicks",children:"Cliques"}),d.jsx("option",{value:"cpm",children:"CPM"}),d.jsx("option",{value:"cpc",children:"CPC"}),d.jsx("option",{value:"ctr",children:"CTR"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor Meta"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:r.value||"",onChange:s=>n({...r,value:parseFloat(s.target.value)}),required:!0,step:"0.01"})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(Ju,{size:20}),"Salvar Meta"]})]})]})})},Bd=[{key:"spend",label:"Investimento",color:"#3b82f6",isCurrency:!0,axis:"left"},{key:"conversions",label:"Converses",color:"#8b5cf6",isCurrency:!1,axis:"left"},{key:"impressions",label:"Impresses",color:"#06b6d4",isCurrency:!1,axis:"left"},{key:"clicks",label:"Cliques",color:"#f59e0b",isCurrency:!1,axis:"left"},{key:"cpm",label:"CPM",color:"#ec4899",isCurrency:!0,axis:"right"},{key:"cpc",label:"CPC",color:"#10b981",isCurrency:!0,axis:"right"},{key:"ctr",label:"CTR",color:"#6366f1",isCurrency:!1,suffix:"%",axis:"right"},{key:"convRate",label:"Taxa de Conv.",color:"#ef4444",isCurrency:!1,suffix:"%",axis:"right"},{key:"cta",label:"Custo por Resultado",color:"#8b5cf6",isCurrency:!0,axis:"right"}],NPe=({granularity:e,setGranularity:t,useCustomDate:r,setUseCustomDate:n,customDateRange:a,setCustomDateRange:s})=>{const{rawData:i,filters:o}=nl(),[l,c]=w.useState(["spend","conversions"]),u=w.useMemo(()=>{if(!i||i.length===0)return[];let m=i.filter(x=>{const b=new Date(x.date);if(o.selectedChannels.length>0&&!o.selectedChannels.includes(x.channel)||o.selectedObjectives.length>0&&!o.selectedObjectives.includes(x.objective)||o.selectedCampaigns.length>0&&!o.selectedCampaigns.includes(x.campaign))return!1;const y=r?{start:Vi(en(a.from)),end:zu(en(a.to))}:{start:Vi(o.dateRange.from),end:zu(o.dateRange.to)};return Oo(b,y)});const v=new Map;return m.forEach(x=>{const b=new Date(x.date);let y="",_="",S=0;if(e==="day")y=ke(b,"yyyy-MM-dd"),_=ke(b,"dd/MM"),S=b.getTime();else if(e==="week"){const E=el(b,{weekStartsOn:1});y=ke(E,"yyyy-MM-dd"),_=`Semana ${ke(E,"dd/MM")}`,S=E.getTime()}else if(e==="month"){const E=Qr(b);y=ke(E,"yyyy-MM"),_=ke(E,"MMM/yy"),S=E.getTime()}v.has(y)||v.set(y,{timeKey:y,label:_,sortTime:S,spend:0,impressions:0,clicks:0,conversions:0});const k=v.get(y);k.spend+=x.spend,k.impressions+=x.impressions,k.clicks+=x.clicks,k.conversions+=x.conversions}),Array.from(v.values()).map(x=>({...x,day:x.label,cpm:x.impressions?x.spend/x.impressions*1e3:0,cpc:x.clicks?x.spend/x.clicks:0,ctr:x.impressions?x.clicks/x.impressions*100:0,convRate:x.clicks?x.conversions/x.clicks*100:0,cta:x.conversions?x.spend/x.conversions:0})).sort((x,b)=>x.sortTime-b.sortTime)},[i,o,r,a,e]),f=m=>{l.includes(m)?c(v=>v.filter(g=>g!==m)):l.length<4&&c(v=>[...v,m])},h=l.some(m=>{var v;return((v=Bd.find(g=>g.key===m))==null?void 0:v.axis)==="right"}),p=l.some(m=>{var v;return((v=Bd.find(g=>g.key===m))==null?void 0:v.axis)==="left"});return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 p-6 shadow-sm mt-8 animate-fade-in",children:[d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[d.jsx(W0,{size:18,className:"text-blue-500"}),"Anlise Personalizada"]}),d.jsx("p",{className:"text-sm text-slate-500",children:"Compare at 4 mtricas diferentes no mesmo perodo"})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-3 bg-slate-50 p-2 rounded-lg border border-slate-100",children:[d.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-slate-500 cursor-pointer mr-2 hover:text-slate-900 transition",children:[d.jsx("input",{type:"checkbox",checked:r,onChange:m=>n(m.target.checked),className:"rounded text-blue-500 focus:ring-blue-500/20 bg-white border-slate-300"}),"Perodo Personalizado"]}),r&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"date",value:a.from,onChange:m=>s(v=>({...v,from:m.target.value})),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"}),d.jsx("span",{className:"text-slate-400",children:"-"}),d.jsx("input",{type:"date",value:a.to,onChange:m=>s(v=>({...v,to:m.target.value})),className:"text-xs bg-white border-slate-300 text-slate-700 rounded px-2 py-1 focus:ring-blue-500/20 focus:border-blue-500"})]})]}),d.jsx("div",{className:"flex bg-slate-50 p-1 rounded-lg border border-slate-100",children:["day","week","month"].map(m=>d.jsx("button",{onClick:()=>t(m),className:`px-3 py-1 text-xs font-medium rounded-md transition-all ${e===m?"bg-white text-slate-700 shadow-sm border border-slate-200":"text-slate-500 hover:text-slate-900 hover:bg-slate-100"}`,children:m==="day"?"Dia":m==="week"?"Semana":"Ms"},m))})]}),d.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Bd.map(m=>d.jsx("button",{onClick:()=>f(m.key),className:`px-3 py-1.5 rounded-full text-xs font-semibold transition-all border ${l.includes(m.key)?"bg-blue-50 border-blue-200 text-blue-600":"bg-slate-50 border-slate-200 text-slate-500 hover:border-slate-300 hover:text-slate-700"}`,style:{borderColor:l.includes(m.key)?m.color:void 0,color:l.includes(m.key)?m.color:void 0,backgroundColor:l.includes(m.key)?`${m.color}10`:void 0},children:m.label},m.key))}),d.jsx("div",{className:"h-[350px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:u,margin:{top:5,right:30,left:20,bottom:5},children:[d.jsx(qt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),d.jsx(Nt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},dy:10}),d.jsx(ot,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},tickFormatter:m=>m>=1e3?`${(m/1e3).toFixed(1)}k`:m,hide:!p}),d.jsx(ot,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1,tick:{fill:"#64748B",fontSize:11},hide:!h}),d.jsx(Pt,{contentStyle:{backgroundColor:"#ffffff",borderColor:"#E2E8F0",color:"#1E293B",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748B",marginBottom:"0.5rem",fontWeight:"bold"},formatter:(m,v)=>{const g=Bd.find(x=>x.label===v);return g?g.isCurrency?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(m):g.suffix?`${m.toFixed(2)}${g.suffix}`:new Intl.NumberFormat("pt-BR").format(m):m}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),l.map(m=>{const v=Bd.find(g=>g.key===m);return v?d.jsx(Ar,{yAxisId:v.axis,type:"monotone",dataKey:m,name:v.label,stroke:v.color,strokeWidth:3,dot:!1,activeDot:{r:6,strokeWidth:0}},m):null})]})})})]})},Yp=({data:e,dataKey:t,color:r,title:n,isCurrency:a,granularity:s})=>{const i=s!=="day";return d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("h4",{className:"text-md font-bold text-slate-700 mb-4",children:n}),d.jsx("div",{className:"h-[250px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Yx,{data:e,children:[d.jsx(qt,{strokeDasharray:"3 3",vertical:!1,stroke:"#E2E8F0"}),d.jsx(Nt,{dataKey:"day",tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,interval:"preserveStartEnd"}),d.jsx(ot,{tick:{fontSize:12,fill:"#64748B"},axisLine:!1,tickLine:!1,tickFormatter:o=>a?new Intl.NumberFormat("pt-BR",{notation:"compact",style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR",{notation:"compact"}).format(o)}),d.jsx(Pt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},cursor:{fill:"#F1F5F9"},formatter:o=>a?new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(o):new Intl.NumberFormat("pt-BR").format(o)}),i?d.jsx(Tr,{dataKey:t,fill:r,name:"Atual",radius:[4,4,0,0],maxBarSize:60}):d.jsx(Gx,{type:"monotone",dataKey:t,stroke:r,fill:r,fillOpacity:.1,name:"Atual",strokeWidth:2})]})})})]})},OPe=()=>{const{filteredData:e,filters:t,rawData:r}=nl(),{add:n}=C9(),[a,s]=w.useState(!1),[i,o]=w.useState(!0),[l,c]=w.useState({from:ke(Qr(new Date),"yyyy-MM-dd"),to:ke(new Date,"yyyy-MM-dd")}),[u,f]=w.useState("day"),h=w.useMemo(()=>{const p=i?en(l.from):t.dateRange.from,m=i?en(l.to):t.dateRange.to;if(!r)return[];const v=r.filter(b=>{const y=new Date(b.date);return!(y<Vi(p)||y>zu(m)||t.selectedChannels.length&&!t.selectedChannels.includes(b.channel)||t.selectedObjectives.length&&!t.selectedObjectives.includes(b.objective)||t.selectedCampaigns.length&&!t.selectedCampaigns.includes(b.campaign))}),g=new Map;return v.forEach(b=>{const y=new Date(b.date);let _="",S=new Date,k="";if(u==="day")_=ke(y,"yyyy-MM-dd"),S=y,k=ke(y,"dd/MM");else if(u==="week"){const C=el(y,{weekStartsOn:1});_=ke(C,"yyyy-MM-dd"),S=C,k=`Semana ${ke(C,"dd/MM")}`}else if(u==="month"){const C=Qr(y);_=ke(C,"yyyy-MM"),S=C,k=ke(C,"MMM/yy")}g.has(_)||g.set(_,{day:k,date:S,spend:0,impressions:0,conversions:0});const E=g.get(_);E.spend+=b.spend,E.impressions+=b.impressions,E.conversions+=b.conversions}),Array.from(g.values()).map(b=>({...b,cpm:b.impressions?b.spend/b.impressions*1e3:0})).sort((b,y)=>b.date.getTime()-y.date.getTime())},[r,t,i,l,u]);return d.jsxs("div",{className:"space-y-6 animate-fade-in relative",children:[d.jsxs("div",{className:"flex justify-between items-end gap-4",children:[d.jsx("div",{className:"flex-1",children:d.jsx(jPe,{data:e})}),d.jsxs("button",{onClick:()=>s(!0),className:"mb-8 flex items-center gap-2 text-primary font-bold hover:underline bg-white px-4 py-3 rounded-lg border border-slate-100 shadow-sm transition-transform active:scale-95 whitespace-nowrap",children:[d.jsx(Gi,{size:18}),"Definir Metas"]})]}),d.jsx(NPe,{granularity:u,setGranularity:f,useCustomDate:i,setUseCustomDate:o,customDateRange:l,setCustomDateRange:c}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsx(Yp,{data:h,dataKey:"spend",color:"#84cc16",title:`Investimento ${u==="day"?"Dirio":u==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:u}),d.jsx(Yp,{data:h,dataKey:"impressions",color:"#0ea5e9",title:`Impresses ${u==="day"?"Dirias":u==="week"?"Semanais":"Mensais"}`,granularity:u}),d.jsx(Yp,{data:h,dataKey:"cpm",color:"#f97316",title:`CPM ${u==="day"?"Dirio":u==="week"?"Semanal":"Mensal"}`,isCurrency:!0,granularity:u}),d.jsx(Yp,{data:h,dataKey:"conversions",color:"#8b5cf6",title:`Converses ${u==="day"?"Dirias":u==="week"?"Semanais":"Mensais"}`,granularity:u})]}),a&&d.jsx(PPe,{onSave:n,onClose:()=>s(!1)})]})},DPe=({campaign:e,data:t,onClose:r})=>{const n=w.useMemo(()=>e?t.filter(s=>s.campaign===e).sort((s,i)=>new Date(s.date).getTime()-new Date(i.date).getTime()):[],[e,t]),a=w.useMemo(()=>{const s=n.reduce((m,v)=>m+v.spend,0),i=n.reduce((m,v)=>m+v.impressions,0),o=n.reduce((m,v)=>m+v.clicks,0),l=n.reduce((m,v)=>m+v.conversions,0),c=i?s/i*1e3:0,u=o?s/o:0,f=i?o/i*100:0,h=l?s/l:0,p=o?l/o*100:0;return{totalSpend:s,totalImp:i,totalClicks:o,totalConv:l,cpm:c,cpc:u,ctr:f,cpa:h,convRate:p}},[n]);return e?d.jsxs("div",{className:"fixed inset-0 z-50 flex justify-end pointer-events-none",children:[d.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm pointer-events-auto transition-opacity",onClick:r}),d.jsxs("div",{className:"relative w-full max-w-2xl bg-white h-full shadow-2xl pointer-events-auto overflow-y-auto animate-slide-in-right",children:[d.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur z-10 p-6 border-b border-slate-100 flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:"Detalhes da Campanha"}),d.jsx("h2",{className:"text-xl font-bold text-slate-800 leading-tight",children:e})]}),d.jsx("button",{onClick:r,className:"p-2 hover:bg-slate-100 rounded-full text-slate-400 hover:text-slate-600 transition-colors",children:d.jsx(Za,{size:24})})]}),d.jsxs("div",{className:"p-6 space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[d.jsxs("div",{className:"p-4 bg-lime-50 rounded-xl border border-lime-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-lime-700 mb-2",children:[d.jsx(Xu,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Valor"})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.totalSpend)})]}),d.jsxs("div",{className:"p-4 bg-sky-50 rounded-xl border border-sky-100",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sky-700 mb-2",children:[d.jsx(Gi,{size:16}),d.jsx("span",{className:"text-xs font-bold uppercase",children:"Conv."})]}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:a.totalConv})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"CPA"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpa)})]}),d.jsxs("div",{className:"p-4 bg-slate-50 rounded-xl border border-slate-100",children:[d.jsx("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:d.jsx("span",{className:"text-xs font-bold uppercase",children:"ROAS"})}),d.jsx("div",{className:"text-lg font-bold text-slate-800",children:"-"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("h3",{className:"text-sm font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(Mn,{size:16,className:"text-primary"}),"Evoluo Diria"]}),d.jsx("div",{className:"h-[250px] w-full bg-white rounded-xl border border-slate-100 p-4 shadow-sm",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Ci,{data:n,children:[d.jsx(qt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Nt,{dataKey:"date",tickFormatter:s=>ke(en(s),"dd/MM"),tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(ot,{yAxisId:"left",orientation:"left",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1,tickFormatter:s=>`R$${s}`}),d.jsx(ot,{yAxisId:"right",orientation:"right",tick:{fontSize:10,fill:"#94a3b8"},axisLine:!1,tickLine:!1}),d.jsx(Pt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},labelStyle:{color:"#64748b",marginBottom:"0.5rem"},labelFormatter:s=>ke(en(s),"dd MMM, yyyy")}),d.jsx(Ar,{yAxisId:"left",type:"monotone",dataKey:"spend",stroke:"#84cc16",strokeWidth:2,dot:!1,name:"Investimento"}),d.jsx(Ar,{yAxisId:"right",type:"monotone",dataKey:"conversions",stroke:"#8b5cf6",strokeWidth:2,dot:!1,name:"Converses"})]})})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Mtricas Secundrias"}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPM"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpm)})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CTR"}),d.jsxs("div",{className:"font-semibold text-slate-600",children:[a.ctr.toFixed(2),"%"]})]}),d.jsxs("div",{className:"p-3 bg-slate-50 rounded-lg text-center",children:[d.jsx("div",{className:"text-[10px] text-slate-400 uppercase font-bold mb-1",children:"CPC"}),d.jsx("div",{className:"font-semibold text-slate-600",children:new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a.cpc)})]})]})]})]})]})]}):null},MPe=({data:e})=>{const[t,r]=w.useState("spend"),[n,a]=w.useState("desc"),[s,i]=w.useState(""),[o,l]=w.useState(null),c=w.useMemo(()=>{const y=new Map;e.forEach(C=>{const T=y.get(C.campaign)||{campaign:C.campaign,channel:C.channel,objective:C.objective,spend:0,impressions:0,clicks:0,conversions:0,dataPoints:[]};T.spend+=C.spend,T.impressions+=C.impressions,T.clicks+=C.clicks,T.conversions+=C.conversions,T.dataPoints.push(C),y.set(C.campaign,T)});const _=Array.from(y.values()).map(C=>({...C,cpm:C.impressions?C.spend/C.impressions*1e3:0,ctr:C.impressions?C.clicks/C.impressions*100:0,cpc:C.clicks?C.spend/C.clicks:0,cpa:C.conversions?C.spend/C.conversions:0})),S=_.reduce((C,T)=>C+T.spend,0),k=_.reduce((C,T)=>C+T.conversions,0),E=k?S/k:0;return _.map(C=>{let T="good";C.cpa===0&&C.spend>100?T="critical":C.cpa>0&&(C.cpa<E*.8?T="excellent":C.cpa>E*1.5?T="critical":C.cpa>E*1.2&&(T="warning"));let A="maintain";T==="excellent"&&(A="scale"),T==="warning"&&(A="optimize"),T==="critical"&&(A="pause");const N=C.dataPoints.sort((P,R)=>new Date(P.date).getTime()-new Date(R.date).getTime());let j="flat";if(N.length>=2){const P=Math.ceil(N.length/3),R=N.slice(0,P),B=N.slice(-P),q=R.reduce((M,z)=>M+z.spend,0),K=R.reduce((M,z)=>M+z.conversions,0)||1,X=B.reduce((M,z)=>M+z.spend,0),I=B.reduce((M,z)=>M+z.conversions,0)||1,J=q/K,Z=X/I;Z>J*1.05?j="up":Z<J*.95&&(j="down")}return{...C,status:T,action:A,trend:j}})},[e]),u=w.useMemo(()=>{let y=c;if(s){const _=s.toLowerCase();y=y.filter(S=>S.campaign.toLowerCase().includes(_))}return y.sort((_,S)=>{const k=_[t],E=S[t];return k<E?n==="asc"?-1:1:k>E?n==="asc"?1:-1:0}),y},[c,s,t,n]),f=y=>{t===y?a(n==="asc"?"desc":"asc"):(r(y),a("desc"))},h=y=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(y),p=y=>new Intl.NumberFormat("pt-BR").format(y),[m,v]=w.useState({spend:!0,impressions:!1,clicks:!1,conversions:!0,ctr:!1,cpm:!1,cpc:!1,cpa:!0,status:!0,trend:!0}),[g,x]=w.useState(!1),b=y=>{v(_=>({..._,[y]:!_[y]}))};return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden flex flex-col",children:[d.jsxs("div",{className:"p-4 border-b border-slate-100 flex items-center justify-between gap-4",children:[d.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[d.jsxs("div",{className:"relative flex-1 max-w-sm",children:[d.jsx(rk,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),d.jsx("input",{type:"text",placeholder:"Buscar campanha...",className:"w-full pl-9 pr-4 py-2 bg-slate-50 border border-slate-200 rounded-lg text-sm focus:ring-2 focus:ring-primary/20 outline-none transition-all",value:s,onChange:y=>i(y.target.value)})]}),d.jsxs("div",{className:"text-sm text-slate-500 whitespace-nowrap",children:[u.length," campanhas"]})]}),d.jsxs("div",{className:"relative",children:[d.jsxs("button",{onClick:()=>x(!g),className:"flex items-center gap-2 px-3 py-2 bg-slate-50 hover:bg-slate-100 border border-slate-200 rounded-lg text-sm font-medium text-slate-700 transition-colors",children:[d.jsx(W0,{size:16}),"Colunas"]}),g&&d.jsxs("div",{className:"absolute right-0 top-full mt-2 w-48 bg-white rounded-xl shadow-lg border border-slate-100 p-2 z-10 animate-fade-in-down",children:[d.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 px-2",children:"Mtricas"}),Object.keys(m).map(y=>d.jsxs("label",{className:"flex items-center gap-2 px-2 py-1.5 hover:bg-slate-50 rounded cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:m[y],onChange:()=>b(y),className:"rounded text-primary focus:ring-primary/30"}),d.jsx("span",{className:"text-sm text-slate-700 capitalize",children:y==="spend"?"Investimento":y==="impressions"?"Impresses":y==="clicks"?"Cliques":y==="conversions"?"Converses":y==="cpa"?"CPA":y==="status"?"Status":y==="action"?"Recomendao":y==="trend"?"Tend. CPA":y.toUpperCase()})]},y))]})]})]}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 uppercase text-xs font-semibold",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors",onClick:()=>f("campaign"),children:d.jsxs("div",{className:"flex items-center gap-1",children:["Campanha ",d.jsx(pa,{size:12})]})}),m.status&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Status"}),m.trend&&d.jsx("th",{className:"px-4 py-3 text-center text-xs font-semibold text-slate-500 uppercase tracking-wider cursor-pointer group",children:"Tend. CPA"}),m.spend&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("spend"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Invest. ",d.jsx(pa,{size:12})]})}),m.impressions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("impressions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Impr. ",d.jsx(pa,{size:12})]})}),m.clicks&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("clicks"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Cliques ",d.jsx(pa,{size:12})]})}),m.conversions&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("conversions"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["Conv. ",d.jsx(pa,{size:12})]})}),m.ctr&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("ctr"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CTR ",d.jsx(pa,{size:12})]})}),m.cpm&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpm"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPM ",d.jsx(pa,{size:12})]})}),m.cpc&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpc"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPC ",d.jsx(pa,{size:12})]})}),m.cpa&&d.jsx("th",{className:"px-6 py-3 text-right cursor-pointer hover:bg-slate-100",onClick:()=>f("cpa"),children:d.jsxs("div",{className:"flex items-center justify-end gap-1",children:["CPA ",d.jsx(pa,{size:12})]})})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:u.map(y=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors cursor-pointer group",onClick:()=>l(y.campaign),children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:`w-2 h-2 rounded-full ${y.channel==="meta"?"bg-[#1877F2]":"bg-[#4285F4]"}`}),y.campaign]})}),m.status&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium capitalize
                                                ${y.status==="excellent"?"bg-emerald-100 text-emerald-800":y.status==="good"?"bg-green-100 text-green-800":y.status==="warning"?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"}`,children:y.status==="excellent"?"Excelente":y.status==="good"?"Bom":y.status==="warning"?"Ateno":"Crtico"})}),m.trend&&d.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-center",children:d.jsxs("div",{className:"flex items-center justify-center gap-1",children:[y.trend==="up"&&d.jsx(Mn,{size:14,className:"text-red-500"}),y.trend==="down"&&d.jsx(Qu,{size:14,className:"text-emerald-500"}),y.trend==="flat"&&d.jsx(Zu,{size:14,className:"text-slate-400"})]})}),m.spend&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:h(y.spend)}),m.impressions&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.impressions)}),m.clicks&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:p(y.clicks)}),m.conversions&&d.jsx("td",{className:"px-6 py-3 text-right font-semibold text-slate-700",children:p(y.conversions)}),m.ctr&&d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[y.ctr.toFixed(2),"%"]}),m.cpm&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpm)}),m.cpc&&d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:h(y.cpc)}),m.cpa&&d.jsx("td",{className:"px-6 py-3 text-right font-medium text-slate-700",children:h(y.cpa)})]},y.campaign))})]})}),u.length===0&&d.jsx("div",{className:"p-8 text-center text-slate-400",children:"Nenhuma campanha encontrada."})]}),o&&d.jsx(DPe,{campaign:o,data:e,onClose:()=>l(null)})]})},IPe=()=>{const{filteredData:e}=nl();return d.jsx("div",{className:"animate-fade-in",children:d.jsx(MPe,{data:e})})},RPe=({budget:e,actualSpend:t,onEdit:r,onDelete:n})=>{const a=t/e.value*100,s=new Date,i=new Date(s.getFullYear(),s.getMonth()+1,0).getDate(),o=s.getDate(),l=o/i*100;let c="ok";const u=l>0?a/l:0;a>=100?c="failed":u>1.1?c="risk":u<.85&&(c="ok");const h=(o>0?t/o:0)*i,p=h/e.value*100;p>105&&(c="risk"),a>=100&&(c="failed");const m=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",maximumFractionDigits:0}).format(v);return d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm p-5 hover:shadow-md transition-shadow relative overflow-hidden group",children:[d.jsx("div",{className:`absolute top-0 left-0 w-1 h-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`}),d.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-bold text-slate-800 text-lg",children:e.channel==="meta"?"Meta Ads":"Google Ads"}),d.jsx("p",{className:"text-xs text-slate-500 uppercase font-medium tracking-wide bg-slate-100 inline-block px-1.5 py-0.5 rounded mt-1",children:e.objective==="b2c"?"Converso":"Branding"})]}),d.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx("button",{onClick:()=>r(e),className:"p-1.5 hover:bg-slate-100 rounded text-slate-400 hover:text-primary",children:d.jsx(ek,{size:16})}),d.jsx("button",{onClick:()=>n(e.id),className:"p-1.5 hover:bg-red-50 rounded text-slate-400 hover:text-red-500",children:d.jsx(Kl,{size:16})})]})]}),d.jsxs("div",{className:"pl-3 space-y-4",children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsxs("span",{className:"text-slate-500",children:["Gasto: ",d.jsx("strong",{className:"text-slate-700",children:m(t)})]}),d.jsxs("span",{className:"text-slate-500",children:["Meta: ",d.jsx("strong",{className:"text-slate-700",children:m(e.value)})]})]}),d.jsx("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:d.jsx("div",{className:`h-full rounded-full ${c==="ok"?"bg-green-500":c==="risk"?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(a,100)}%`}})}),d.jsxs("div",{className:"flex justify-between mt-1",children:[d.jsxs("span",{className:"text-xs text-slate-400",children:[a.toFixed(1),"% utilizado"]}),d.jsx("span",{className:"text-xs text-slate-400",children:c==="risk"?"Risco de estouro":c==="failed"?"Esgotado":"Dentro da meta"})]})]}),d.jsxs("div",{className:"bg-slate-50 rounded-lg p-3 text-xs text-slate-600 flex justify-between items-center",children:[d.jsxs("span",{children:["Ritmo ideal: ",d.jsx("strong",{children:m((e.value-t)/(i-o))}),"/dia"]}),c==="risk"&&d.jsx(pu,{className:"w-4 h-4 text-yellow-500"}),c==="failed"&&d.jsx(AI,{className:"w-4 h-4 text-red-500"}),c==="ok"&&d.jsx(Zr,{className:"w-4 h-4 text-green-500"})]}),c!=="failed"&&d.jsxs("div",{className:"text-xs text-slate-400 text-center",children:["Projeo final: ",m(h)," (",p.toFixed(0),"%)"]})]})]})},FPe=({existingBudget:e,onSave:t,onUpdate:r,onClose:n})=>{const[a,s]=w.useState({month:(e==null?void 0:e.month)||ke(new Date,"MM/yyyy"),channel:(e==null?void 0:e.channel)||"meta",objective:(e==null?void 0:e.objective)||"marca",value:(e==null?void 0:e.value)||0,notes:(e==null?void 0:e.notes)||""}),i=o=>{o.preventDefault(),!(!a.value||!a.month)&&(e?r(e.id,a):t(a),n())};return d.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm animate-fade-in",children:d.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md p-6",children:[d.jsxs("div",{className:"flex justify-between items-center mb-6",children:[d.jsx("h3",{className:"text-xl font-bold text-slate-800",children:e?"Editar Oramento":"Novo Oramento"}),d.jsx("button",{onClick:n,className:"p-2 bg-slate-100 rounded-full hover:bg-slate-200",children:d.jsx(Za,{size:20,className:"text-slate-500"})})]}),d.jsxs("form",{onSubmit:i,className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Ms/Ano"}),d.jsx("input",{type:"text",placeholder:"MM/AAAA",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none",value:a.month,onChange:o=>s({...a,month:o.target.value}),required:!0}),d.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Ex: 05/2026"})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Canal"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.channel,onChange:o=>s({...a,channel:o.target.value}),children:[d.jsx("option",{value:"meta",children:"Meta Ads"}),d.jsx("option",{value:"google",children:"Google Ads"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Objetivo"}),d.jsxs("select",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none bg-white",value:a.objective,onChange:o=>s({...a,objective:o.target.value}),children:[d.jsx("option",{value:"marca",children:"Branding"}),d.jsx("option",{value:"b2c",children:"Converso"})]})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Valor do Oramento (R$)"}),d.jsx("input",{type:"number",className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none text-lg font-semibold text-slate-800",value:a.value||"",onChange:o=>s({...a,value:parseFloat(o.target.value)}),required:!0,min:"0",step:"0.01"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notas (Opcional)"}),d.jsx("textarea",{className:"w-full px-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary/20 outline-none h-24 resize-none",value:a.notes||"",onChange:o=>s({...a,notes:o.target.value})})]}),d.jsxs("button",{type:"submit",className:"w-full bg-primary text-slate-900 font-bold py-3.5 rounded-xl hover:bg-primary/90 transition-colors flex items-center justify-center gap-2 mt-2",children:[d.jsx(Ju,{size:20}),e?"Salvar Alteraes":"Criar Oramento"]})]})]})})},LPe=()=>{const{budgets:e,add:t,update:r,remove:n}=E9(),{rawData:a,filters:s}=nl(),[i,o]=w.useState(!1),[l,c]=w.useState(void 0),u=s.dateRange.to||new Date,f=ke(u,"MM/yyyy"),h=w.useMemo(()=>{const k=Qr(u),E=Fl(u),C=wE({start:k,end:E}),T=a.filter(A=>g0(new Date(A.date),u));return C.map(A=>{const N=ke(A,"yyyy-MM-dd"),j=ke(A,"dd"),P=_1(A),R=T.filter(q=>q.date.startsWith(N)&&q.channel==="meta").reduce((q,K)=>q+K.spend,0),B=T.filter(q=>q.date.startsWith(N)&&q.channel==="google").reduce((q,K)=>q+K.spend,0);return{day:j,date:A,meta:P?0:R,google:P?0:B,total:P?0:R+B}})},[a,u]),p=w.useMemo(()=>e.filter(k=>k.month===f).reduce((k,E)=>k+E.value,0),[e,f]),m=h.reduce((k,E)=>k+E.total,0),v=Qv(u),g=SE(u),x=v>0?m/v*g:0,b=p-m;let y="ontrack";p>0&&(x>p*1.05?y="overspending":x<p*.95&&(y="underspending"));const _=w.useMemo(()=>{const k=p/g;let E=0,C=0;return h.map(T=>(E+=k,_1(T.date)||(C+=T.total),{...T,cumulativeBudget:E,cumulativeSpend:_1(T.date)?null:C}))},[h,p,g]),S=k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k);return d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Gesto de Oramento - ",ke(u,"MMMM/yyyy")]}),d.jsx("p",{className:"text-slate-500",children:"Acompanhe seus gastos dirios vs planejado."})]}),d.jsxs("button",{onClick:()=>{c(void 0),o(!0)},className:"bg-primary text-slate-900 font-bold py-2.5 px-5 rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2 shadow-sm",children:[d.jsx(tk,{size:20}),"Adicionar Oramento"]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:d.jsx(DI,{size:48,className:"text-slate-700"})}),d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Oramento Planejado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-slate-800",children:S(p)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Soma dos oramentos ativos"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Gasto Realizado"}),d.jsx("h3",{className:"text-2xl font-extrabold text-blue-600",children:S(m)}),d.jsxs("div",{className:"mt-4 flex items-center gap-1 text-xs font-medium text-slate-500",children:[p>0?(m/p*100).toFixed(1):0,"% do total"]})]}),d.jsxs("div",{className:`bg-white p-6 rounded-xl border border-slate-100 shadow-sm
                    ${y==="overspending"?"border-red-100 bg-red-50/50":""}
                `,children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Projeo de Fechamento"}),d.jsx("h3",{className:`text-2xl font-extrabold ${y==="overspending"?"text-red-500":"text-slate-700"}`,children:S(x)})]}),y==="overspending"?d.jsx(Mn,{className:"text-red-500",size:24}):y==="underspending"?d.jsx(Qu,{className:"text-amber-500",size:24}):d.jsx(Zr,{className:"text-emerald-500",size:24})]}),d.jsx("div",{className:"mt-4 text-xs font-medium text-slate-500",children:y==="overspending"?"Ritmo Acelerado (Risco)":y==="underspending"?"Ritmo Lento (Sobra)":"No Ritmo Ideal"})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsx("p",{className:"text-sm font-medium text-slate-500 mb-1",children:"Saldo Restante"}),d.jsx("h3",{className:"text-2xl font-extrabold text-emerald-600",children:S(b)}),d.jsx("div",{className:"mt-4 text-xs text-slate-400",children:"Disponvel at o fim do ms"})]})]}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm h-[400px]",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx(Mn,{size:18,className:"text-primary"}),"Evoluo Diria de Investimento"]}),d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Yx,{data:_,margin:{top:20,right:30,left:20,bottom:5},children:[d.jsx(qt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Nt,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"#94a3b8",fontSize:12},dy:10}),d.jsx(ot,{yAxisId:"left",axisLine:!1,tickLine:!1,tickFormatter:k=>k>=1e3?`${(k/1e3).toFixed(0)}k`:String(k),tick:{fill:"#94a3b8",fontSize:12}}),d.jsx(ot,{yAxisId:"right",orientation:"right",hide:!0}),d.jsx(Pt,{formatter:k=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(k),cursor:{fill:"#f8fafc"}}),d.jsx(Tn,{wrapperStyle:{paddingTop:"20px"}}),d.jsx(Tr,{yAxisId:"left",dataKey:"meta",name:"Meta Ads",stackId:"a",fill:"#3b82f6",radius:[0,0,4,4],barSize:20}),d.jsx(Tr,{yAxisId:"left",dataKey:"google",name:"Google Ads",stackId:"a",fill:"#f59e0b",radius:[4,4,0,0],barSize:20}),p>0&&d.jsx(Kx,{yAxisId:"left",y:p/g,stroke:"#ef4444",strokeDasharray:"3 3",label:{position:"top",value:"Meta Diria Ideal",fill:"#ef4444",fontSize:10}})]})})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("h3",{className:"font-bold text-slate-700 text-lg",children:"Oramentos Configurados"}),e.length===0?d.jsxs("div",{className:"text-center py-12 bg-slate-50 border border-dashed border-slate-200 rounded-xl",children:[d.jsx("p",{className:"text-slate-400 mb-4",children:"Nenhum oramento configurado para este ms."}),d.jsx("button",{onClick:()=>o(!0),className:"text-primary font-bold hover:underline",children:"Configurar Oramento"})]}):d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...e].filter(k=>k.month===f).map(k=>d.jsx(RPe,{budget:k,actualSpend:a.filter(E=>g0(new Date(E.date),u)&&E.channel===k.channel&&E.objective===k.objective).reduce((E,C)=>E+C.spend,0),onEdit:E=>{c(E),o(!0)},onDelete:n},k.id))})]}),i&&d.jsx(FPe,{onClose:()=>o(!1),existingBudget:l,onSave:k=>{t(k),o(!1)},onUpdate:(k,E)=>{r(k,E),o(!1)}})]})},$Pe=()=>{const{filteredData:e}=nl(),[t,r]=w.useState("cpa"),[n,a]=w.useState({key:"date",direction:"asc"}),s=w.useMemo(()=>{const h=new Map;return e.forEach(m=>{const v=m.date.substring(0,10);h.has(v)||h.set(v,{date:m.date,spend:0,impressions:0,clicks:0,conversions:0,revenue:0});const g=h.get(v);g.spend+=m.spend,g.impressions+=m.impressions,g.clicks+=m.clicks,g.conversions+=m.conversions}),Array.from(h.values()).map(m=>({...m,cpa:m.conversions?m.spend/m.conversions:0,ctr:m.impressions?m.clicks/m.impressions*100:0,cpm:m.impressions?m.spend/m.impressions*1e3:0,cpc:m.clicks?m.spend/m.clicks:0,roas:m.spend?(m.revenue||0)/m.spend:0})).sort((m,v)=>{const g=n.key==="date"?new Date(m.date).getTime():m[n.key],x=n.key==="date"?new Date(v.date).getTime():v[n.key];return g<x?n.direction==="asc"?-1:1:g>x?n.direction==="asc"?1:-1:0})},[e,n]),i=h=>{a(p=>({key:h,direction:p.key===h&&p.direction==="asc"?"desc":"asc"}))},o=w.useMemo(()=>{const p=["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado"].map(m=>({name:m,spend:0,conversions:0,clicks:0,count:0}));return s.forEach(m=>{const v=kE(new Date(m.date));p[v].spend+=m.spend,p[v].conversions+=m.conversions,p[v].clicks+=m.clicks,p[v].count+=1}),p.map(m=>({...m,avgCpa:m.conversions?m.spend/m.conversions:0,avgSpend:m.count?m.spend/m.count:0}))},[s]),l=s.map(h=>h.cpa).filter(h=>h>0),c=l.reduce((h,p)=>h+p,0)/(l.length||1),u=h=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(h),f=h=>new Intl.NumberFormat("pt-BR").format(h);return e.length===0?d.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-white rounded-xl border border-slate-100 shadow-sm animate-fade-in",children:[d.jsx("div",{className:"bg-slate-50 p-4 rounded-full mb-4",children:d.jsx(iA,{className:"w-8 h-8 text-slate-400"})}),d.jsx("h3",{className:"text-lg font-bold text-slate-700 mb-1",children:"Sem dados para este perodo"}),d.jsx("p",{className:"text-slate-500 text-sm",children:"Tente ajustar os filtros de data ou canais."})]}):d.jsxs("div",{className:"animate-fade-in space-y-8",children:[d.jsx("div",{className:"flex justify-between items-center",children:d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Anlise Diria"}),d.jsx("p",{className:"text-slate-500",children:"Identifique padres e anomalias dia a dia."})]})}),d.jsxs("div",{className:"bg-white p-6 rounded-xl border border-slate-100 shadow-sm",children:[d.jsxs("h3",{className:"font-bold text-slate-700 mb-6 flex items-center gap-2",children:[d.jsx(Hf,{size:18,className:"text-primary"}),"Performance por Dia da Semana (Mdia)"]}),d.jsx("div",{className:"h-[300px] w-full",children:d.jsx($t,{width:"100%",height:"100%",children:d.jsxs(Hs,{data:o,children:[d.jsx(qt,{strokeDasharray:"3 3",vertical:!1,stroke:"#f1f5f9"}),d.jsx(Nt,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#64748b"}}),d.jsx(ot,{yAxisId:"left",orientation:"left",axisLine:!1,tickLine:!1,tickFormatter:h=>`R$${h}`}),d.jsx(ot,{yAxisId:"right",orientation:"right",axisLine:!1,tickLine:!1}),d.jsx(Pt,{contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"},formatter:(h,p)=>p==="CPA Mdio"||p==="Investimento Mdio"?u(h):h}),d.jsx(Tr,{yAxisId:"right",dataKey:"avgSpend",name:"Investimento Mdio",fill:"#3b82f6",radius:[4,4,0,0],opacity:.3}),d.jsx(Tr,{yAxisId:"left",dataKey:"avgCpa",name:"CPA Mdio",fill:"#f59e0b",radius:[4,4,0,0],barSize:40,children:o.map((h,p)=>d.jsx(Qs,{fill:h.avgCpa>c*1.2?"#ef4444":"#10b981"},`cell-${p}`))})]})})}),d.jsxs("div",{className:"mt-4 flex gap-4 text-xs text-slate-500 justify-center",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"})," CPA Saudvel"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})," CPA Alto"]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx("div",{className:"w-3 h-3 rounded-full bg-blue-500 opacity-30"})," Volume de Investimento"]})]})]}),d.jsxs("div",{className:"bg-white rounded-xl border border-slate-100 shadow-sm overflow-hidden",children:[d.jsx("div",{className:"p-6 border-b border-slate-100 flex justify-between items-center",children:d.jsxs("h3",{className:"font-bold text-slate-700 flex items-center gap-2",children:[d.jsx(iA,{size:18,className:"text-primary"}),"Detalhamento Dirio"]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full text-sm text-left",children:[d.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium border-b border-slate-100",children:d.jsxs("tr",{children:[[{key:"date",label:"Data",align:"left"},{key:"spend",label:"Inv.",align:"right"},{key:"impressions",label:"Impr.",align:"right"},{key:"clicks",label:"Cliques",align:"right"},{key:"conversions",label:"Conv.",align:"right"},{key:"ctr",label:"CTR",align:"right"},{key:"cpm",label:"CPM",align:"right"},{key:"cpc",label:"CPC",align:"right"},{key:"cpa",label:"CPA",align:"right"}].map(h=>d.jsx("th",{className:`px-6 py-3 cursor-pointer hover:bg-slate-100 transition-colors group text-${h.align}`,onClick:()=>i(h.key),children:d.jsxs("div",{className:`flex items-center gap-1 ${h.align==="right"?"justify-end":""}`,children:[h.label,d.jsx(pa,{size:12,className:`text-slate-400 opacity-0 group-hover:opacity-100 transition-opacity ${n.key===h.key?"opacity-100 text-blue-500":""}`})]})},h.key)),d.jsx("th",{className:"px-6 py-3 text-center",children:"Status"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-100",children:s.map((h,p)=>d.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[d.jsx("td",{className:"px-6 py-3 font-medium text-slate-700 whitespace-nowrap",children:ke(new Date(h.date),"dd 'de' MMM, EEEE",{locale:ei})}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.spend)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.impressions)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:f(h.clicks)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600 font-bold",children:f(h.conversions)}),d.jsxs("td",{className:"px-6 py-3 text-right text-slate-600",children:[h.ctr.toFixed(2),"%"]}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.cpm)}),d.jsx("td",{className:"px-6 py-3 text-right text-slate-600",children:u(h.cpc)}),d.jsx("td",{className:`px-6 py-3 text-right font-bold ${h.cpa>c*1.2?"text-red-500":h.cpa<c*.8?"text-emerald-500":"text-slate-600"}`,children:u(h.cpa)}),d.jsx("td",{className:"px-6 py-3 text-center",children:h.cpa===0&&h.spend>50?d.jsx("span",{className:"bg-red-100 text-red-700 px-2 py-0.5 rounded text-xs font-bold",children:"Crtico"}):h.cpa>c*1.3?d.jsx("span",{className:"bg-amber-100 text-amber-700 px-2 py-0.5 rounded text-xs font-bold",children:"Ateno"}):h.cpa<c*.8&&h.conversions>0?d.jsx("span",{className:"bg-emerald-100 text-emerald-700 px-2 py-0.5 rounded text-xs font-bold",children:"timo"}):d.jsx("span",{className:"bg-slate-100 text-slate-500 px-2 py-0.5 rounded text-xs",children:"Normal"})})]},p))})]})})]})]})},BPe=({onBack:e})=>{const{rawData:t,setRawData:r}=nl(),[n,a]=w.useState("overview"),[s,i]=w.useState(!0);if(w.useEffect(()=>{(async()=>{if(t.length>0){i(!1);return}try{console.log("Verificando dados na nuvem...");const c=await vs.listFiles("media");if(c&&c.length>0){const u=c[0],f=await vs.getDownloadUrl("media/"+u.name),p=await(await fetch(f)).blob(),m=new File([p],u.name,{type:p.type}),v=await rC(m);v&&v.length>0&&r(v)}}catch(c){console.error("Erro ao sincronizar dados:",c)}finally{i(!1)}})()},[]),s)return d.jsx("div",{className:"min-h-screen w-full bg-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:d.jsxs("div",{className:"flex flex-col items-center animate-pulse",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/20 rounded-full flex items-center justify-center mb-4",children:d.jsx(Gs,{className:"w-8 h-8 text-blue-400 animate-spin"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Sincronizando Dados..."}),d.jsx("p",{className:"text-slate-400 text-sm",children:"Buscando informaes salvas na nuvem."})]})});if(t.length===0)return d.jsxs("div",{className:"min-h-screen w-full bg-slate-50 text-slate-900 flex flex-col items-center justify-center p-4 absolute top-0 left-0 z-50",children:[d.jsx("div",{className:"absolute top-4 left-4",children:d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-slate-500 hover:text-slate-900 transition-colors px-4 py-2 rounded-lg hover:bg-slate-200",children:[d.jsx(aA,{size:20}),"Voltar ao GaaS"]})}),d.jsxs("div",{className:"text-center mb-10 animate-fade-in-up",children:[d.jsx("h1",{className:"text-4xl font-extrabold text-slate-900 mb-2 tracking-tight",children:"Dashboard de Mdia Paga"}),d.jsx("p",{className:"text-slate-500 text-lg",children:"Importe seus dados do Meta Ads e Google Ads para comear."})]}),d.jsx("div",{className:"w-full max-w-2xl bg-white p-8 rounded-2xl shadow-xl border border-slate-100 animate-fade-in",children:d.jsx(mPe,{onDataLoaded:r})}),d.jsx("p",{className:"mt-8 text-slate-400 text-sm",children:"Verso 1.0  Processamento Local e Seguro"})]});const o=[{id:"overview",label:"Overview",icon:PI},{id:"monthly",label:"Anlise Mensal",icon:Hf},{id:"daily",label:"Anlise Diria",icon:lc},{id:"campaigns",label:"Campanhas",icon:iH},{id:"budget",label:"Oramentos",icon:DI}];return d.jsxs("div",{className:"min-h-screen w-full bg-[#FFF7ED] text-slate-900 flex flex-col absolute top-0 left-0 z-50",children:[d.jsxs("header",{className:"bg-white/80 backdrop-blur-xl border-b border-orange-100 sticky top-0 z-[60] group",children:[d.jsxs("div",{className:"px-6 h-16 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[e&&d.jsx("button",{onClick:e,className:"p-2 hover:bg-orange-50 rounded-lg text-slate-400 hover:text-orange-600 transition-colors mr-2",title:"Voltar ao GaaS",children:d.jsx(aA,{size:20})}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("div",{className:"bg-orange-500/10 p-2 rounded-lg",children:d.jsx(Hf,{className:"w-6 h-6 text-orange-500"})}),d.jsxs("h1",{className:"font-bold text-xl text-slate-800 tracking-tight",children:["Media ",d.jsx("span",{className:"text-orange-500 font-extrabold",children:"Analytics"})]})]})]}),d.jsx("nav",{className:"flex items-center gap-1 bg-slate-50/50 p-1 rounded-lg border border-orange-100/50",children:o.map(l=>{const c=l.icon,u=n===l.id;return d.jsxs("button",{onClick:()=>a(l.id),className:`
                    flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all duration-200
                    ${u?"bg-white text-orange-600 shadow-sm border border-orange-100":"text-slate-500 hover:text-orange-600 hover:bg-orange-50"}
                  `,children:[d.jsx(c,{size:16}),l.label]},l.id)})}),d.jsxs("button",{onClick:()=>r([]),className:"text-sm font-medium text-slate-400 hover:text-red-500 flex items-center gap-1 transition-colors px-3 py-1.5 hover:bg-red-50 rounded-lg",children:[d.jsx(Kf,{size:16}),"Novo Arquivo"]})]}),d.jsx(vPe,{})]}),d.jsxs("main",{className:"flex-1 container mx-auto px-6 py-8 pb-32 max-w-[1600px] animate-fade-in",children:[n==="overview"&&d.jsx(EPe,{}),n==="monthly"&&d.jsx(OPe,{}),n==="daily"&&d.jsx($Pe,{}),n==="campaigns"&&d.jsx(IPe,{}),n==="budget"&&d.jsx(LPe,{})]})]})};function zPe({onBack:e}){return d.jsx(pPe,{children:d.jsx(BPe,{onBack:e})})}const fC=w.createContext({});function hC(e){const t=w.useRef(null);return t.current===null&&(t.current=e()),t.current}const T9=typeof window<"u",A9=T9?w.useLayoutEffect:w.useEffect,uy=w.createContext(null);function pC(e,t){e.indexOf(t)===-1&&e.push(t)}function mC(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const ri=(e,t,r)=>r>t?t:r<e?e:r;let vC=()=>{};const Hi={},j9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function P9(e){return typeof e=="object"&&e!==null}const N9=e=>/^0[^.\s]+$/u.test(e);function gC(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ha=e=>e,UPe=(e,t)=>r=>t(e(r)),Lh=(...e)=>e.reduce(UPe),P0=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class xC{constructor(){this.subscriptions=[]}add(t){return pC(this.subscriptions,t),()=>mC(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let s=0;s<a;s++){const i=this.subscriptions[s];i&&i(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=e=>e*1e3,Va=e=>e/1e3;function O9(e,t){return t?e*(1e3/t):0}const D9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,VPe=1e-7,WPe=12;function HPe(e,t,r,n,a){let s,i,o=0;do i=t+(r-t)/2,s=D9(i,n,a)-e,s>0?r=i:t=i;while(Math.abs(s)>VPe&&++o<WPe);return i}function $h(e,t,r,n){if(e===t&&r===n)return Ha;const a=s=>HPe(s,0,1,e,r);return s=>s===0||s===1?s:D9(a(s),t,n)}const M9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,I9=e=>t=>1-e(1-t),R9=$h(.33,1.53,.69,.99),yC=I9(R9),F9=M9(yC),L9=e=>(e*=2)<1?.5*yC(e):.5*(2-Math.pow(2,-10*(e-1))),bC=e=>1-Math.sin(Math.acos(e)),$9=I9(bC),B9=M9(bC),KPe=$h(.42,0,1,1),GPe=$h(0,0,.58,1),z9=$h(.42,0,.58,1),qPe=e=>Array.isArray(e)&&typeof e[0]!="number",U9=e=>Array.isArray(e)&&typeof e[0]=="number",YPe={linear:Ha,easeIn:KPe,easeInOut:z9,easeOut:GPe,circIn:bC,circInOut:B9,circOut:$9,backIn:yC,backInOut:F9,backOut:R9,anticipate:L9},XPe=e=>typeof e=="string",J4=e=>{if(U9(e)){vC(e.length===4);const[t,r,n,a]=e;return $h(t,r,n,a)}else if(XPe(e))return YPe[e];return e},Xp=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ZPe(e,t){let r=new Set,n=new Set,a=!1,s=!1;const i=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){i.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,h=!1)=>{const m=h&&a?r:n;return f&&i.add(u),m.has(u)||m.add(u),u},cancel:u=>{n.delete(u),i.delete(u)},process:u=>{if(o=u,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(l),r.clear(),a=!1,s&&(s=!1,c.process(u))}};return c}const JPe=40;function V9(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,i=Xp.reduce((y,_)=>(y[_]=ZPe(s),y),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:p,postRender:m}=i,v=()=>{const y=Hi.useManualTiming?a.timestamp:performance.now();r=!1,Hi.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(y-a.timestamp,JPe),1)),a.timestamp=y,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),p.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(v))},g=()=>{r=!0,n=!0,a.isProcessing||e(v)};return{schedule:Xp.reduce((y,_)=>{const S=i[_];return y[_]=(k,E=!1,C=!1)=>(r||g(),S.schedule(k,E,C)),y},{}),cancel:y=>{for(let _=0;_<Xp.length;_++)i[Xp[_]].cancel(y)},state:a,steps:i}}const{schedule:Dt,cancel:Vo,state:un,steps:H1}=V9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ha,!0);let wm;function QPe(){wm=void 0}const Wn={now:()=>(wm===void 0&&Wn.set(un.isProcessing||Hi.useManualTiming?un.timestamp:performance.now()),wm),set:e=>{wm=e,queueMicrotask(QPe)}},W9=e=>t=>typeof t=="string"&&t.startsWith(e),H9=W9("--"),eNe=W9("var(--"),wC=e=>eNe(e)?tNe.test(e.split("/*")[0].trim()):!1,tNe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Q4(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const md={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},N0={...md,transform:e=>ri(0,1,e)},Zp={...md,default:1},Sf=e=>Math.round(e*1e5)/1e5,_C=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rNe(e){return e==null}const nNe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kC=(e,t)=>r=>!!(typeof r=="string"&&nNe.test(r)&&r.startsWith(e)||t&&!rNe(r)&&Object.prototype.hasOwnProperty.call(r,t)),K9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,s,i,o]=n.match(_C);return{[e]:parseFloat(a),[t]:parseFloat(s),[r]:parseFloat(i),alpha:o!==void 0?parseFloat(o):1}},aNe=e=>ri(0,255,e),K1={...md,transform:e=>Math.round(aNe(e))},Al={test:kC("rgb","red"),parse:K9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+K1.transform(e)+", "+K1.transform(t)+", "+K1.transform(r)+", "+Sf(N0.transform(n))+")"};function sNe(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const N2={test:kC("#"),parse:sNe,transform:Al.transform},Bh=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ao=Bh("deg"),Ks=Bh("%"),je=Bh("px"),iNe=Bh("vh"),oNe=Bh("vw"),eD={...Ks,parse:e=>Ks.parse(e)/100,transform:e=>Ks.transform(e*100)},au={test:kC("hsl","hue"),parse:K9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ks.transform(Sf(t))+", "+Ks.transform(Sf(r))+", "+Sf(N0.transform(n))+")"},Sr={test:e=>Al.test(e)||N2.test(e)||au.test(e),parse:e=>Al.test(e)?Al.parse(e):au.test(e)?au.parse(e):N2.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Al.transform(e):au.transform(e),getAnimatableNone:e=>{const t=Sr.parse(e);return t.alpha=0,Sr.transform(t)}},lNe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cNe(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_C))==null?void 0:t.length)||0)+(((r=e.match(lNe))==null?void 0:r.length)||0)>0}const G9="number",q9="color",uNe="var",dNe="var(",tD="${}",fNe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function O0(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const o=t.replace(fNe,l=>(Sr.test(l)?(n.color.push(s),a.push(q9),r.push(Sr.parse(l))):l.startsWith(dNe)?(n.var.push(s),a.push(uNe),r.push(l)):(n.number.push(s),a.push(G9),r.push(parseFloat(l))),++s,tD)).split(tD);return{values:r,split:o,indexes:n,types:a}}function Y9(e){return O0(e).values}function X9(e){const{split:t,types:r}=O0(e),n=t.length;return a=>{let s="";for(let i=0;i<n;i++)if(s+=t[i],a[i]!==void 0){const o=r[i];o===G9?s+=Sf(a[i]):o===q9?s+=Sr.transform(a[i]):s+=a[i]}return s}}const hNe=e=>typeof e=="number"?0:Sr.test(e)?Sr.getAnimatableNone(e):e;function pNe(e){const t=Y9(e);return X9(e)(t.map(hNe))}const Wo={test:cNe,parse:Y9,createTransformer:X9,getAnimatableNone:pNe};function G1(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function mNe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,s=0,i=0;if(!t)a=s=i=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=G1(l,o,e+1/3),s=G1(l,o,e),i=G1(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(i*255),alpha:n}}function vg(e,t){return r=>r>0?t:e}const Xt=(e,t,r)=>e+(t-e)*r,q1=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},vNe=[N2,Al,au],gNe=e=>vNe.find(t=>t.test(e));function rD(e){const t=gNe(e);if(!t)return!1;let r=t.parse(e);return t===au&&(r=mNe(r)),r}const nD=(e,t)=>{const r=rD(e),n=rD(t);if(!r||!n)return vg(e,t);const a={...r};return s=>(a.red=q1(r.red,n.red,s),a.green=q1(r.green,n.green,s),a.blue=q1(r.blue,n.blue,s),a.alpha=Xt(r.alpha,n.alpha,s),Al.transform(a))},O2=new Set(["none","hidden"]);function xNe(e,t){return O2.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function yNe(e,t){return r=>Xt(e,t,r)}function SC(e){return typeof e=="number"?yNe:typeof e=="string"?wC(e)?vg:Sr.test(e)?nD:_Ne:Array.isArray(e)?Z9:typeof e=="object"?Sr.test(e)?nD:bNe:vg}function Z9(e,t){const r=[...e],n=r.length,a=e.map((s,i)=>SC(s)(s,t[i]));return s=>{for(let i=0;i<n;i++)r[i]=a[i](s);return r}}function bNe(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=SC(e[a])(e[a],t[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function wNe(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const s=t.types[a],i=e.indexes[s][n[s]],o=e.values[i]??0;r[a]=o,n[s]++}return r}const _Ne=(e,t)=>{const r=Wo.createTransformer(t),n=O0(e),a=O0(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?O2.has(e)&&!a.values.length||O2.has(t)&&!n.values.length?xNe(e,t):Lh(Z9(wNe(n,a),a.values),r):vg(e,t)};function J9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Xt(e,t,r):SC(e)(e,t)}const kNe=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Dt.update(t,r),stop:()=>Vo(t),now:()=>un.isProcessing?un.timestamp:Wn.now()}},Q9=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let s=0;s<a;s++)n+=Math.round(e(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},gg=2e4;function EC(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<gg;)t+=r,n=e.next(t);return t>=gg?1/0:t}function SNe(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(EC(n),gg);return{type:"keyframes",ease:s=>n.next(a*s).value/t,duration:Va(a)}}const ENe=5;function ez(e,t,r){const n=Math.max(t-ENe,0);return O9(r-e(n),t-n)}const ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Y1=.001;function CNe({duration:e=ar.duration,bounce:t=ar.bounce,velocity:r=ar.velocity,mass:n=ar.mass}){let a,s,i=1-t;i=ri(ar.minDamping,ar.maxDamping,i),e=ri(ar.minDuration,ar.maxDuration,Va(e)),i<1?(a=c=>{const u=c*i,f=u*e,h=u-r,p=D2(c,i),m=Math.exp(-f);return Y1-h/p*m},s=c=>{const f=c*i*e,h=f*r+r,p=Math.pow(i,2)*Math.pow(c,2)*e,m=Math.exp(-f),v=D2(Math.pow(c,2),i);return(-a(c)+Y1>0?-1:1)*((h-p)*m)/v}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-Y1+u*f},s=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=ANe(a,s,o);if(e=Pi(e),isNaN(l))return{stiffness:ar.stiffness,damping:ar.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:i*2*Math.sqrt(n*c),duration:e}}}const TNe=12;function ANe(e,t,r){let n=r;for(let a=1;a<TNe;a++)n=n-e(n)/t(n);return n}function D2(e,t){return e*Math.sqrt(1-t*t)}const jNe=["duration","bounce"],PNe=["stiffness","damping","mass"];function aD(e,t){return t.some(r=>e[r]!==void 0)}function NNe(e){let t={velocity:ar.velocity,stiffness:ar.stiffness,damping:ar.damping,mass:ar.mass,isResolvedFromDuration:!1,...e};if(!aD(e,PNe)&&aD(e,jNe))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*ri(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:ar.mass,stiffness:a,damping:s}}else{const r=CNe(e);t={...t,...r,mass:ar.mass},t.isResolvedFromDuration=!0}return t}function xg(e=ar.visualDuration,t=ar.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],i=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:p}=NNe({...r,velocity:-Va(r.velocity||0)}),m=h||0,v=c/(2*Math.sqrt(l*u)),g=i-s,x=Va(Math.sqrt(l/u)),b=Math.abs(g)<5;n||(n=b?ar.restSpeed.granular:ar.restSpeed.default),a||(a=b?ar.restDelta.granular:ar.restDelta.default);let y;if(v<1){const S=D2(x,v);y=k=>{const E=Math.exp(-v*x*k);return i-E*((m+v*x*g)/S*Math.sin(S*k)+g*Math.cos(S*k))}}else if(v===1)y=S=>i-Math.exp(-x*S)*(g+(m+x*g)*S);else{const S=x*Math.sqrt(v*v-1);y=k=>{const E=Math.exp(-v*x*k),C=Math.min(S*k,300);return i-E*((m+v*x*g)*Math.sinh(C)+S*g*Math.cosh(C))/S}}const _={calculatedDuration:p&&f||null,next:S=>{const k=y(S);if(p)o.done=S>=f;else{let E=S===0?m:0;v<1&&(E=S===0?Pi(m):ez(y,S,k));const C=Math.abs(E)<=n,T=Math.abs(i-k)<=a;o.done=C&&T}return o.value=o.done?i:k,o},toString:()=>{const S=Math.min(EC(_),gg),k=Q9(E=>_.next(S*E).value,S,30);return S+"ms "+k},toTransition:()=>{}};return _}xg.applyToOptions=e=>{const t=SNe(e,100,xg);return e.ease=t.ease,e.duration=Pi(t.duration),e.type="keyframes",e};function M2({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:i,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,m=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let v=r*t;const g=f+v,x=i===void 0?g:i(g);x!==g&&(v=x-f);const b=C=>-v*Math.exp(-C/n),y=C=>x+b(C),_=C=>{const T=b(C),A=y(C);h.done=Math.abs(T)<=c,h.value=h.done?x:A};let S,k;const E=C=>{p(h.value)&&(S=C,k=xg({keyframes:[h.value,m(h.value)],velocity:ez(y,C,h.value),damping:a,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:C=>{let T=!1;return!k&&S===void 0&&(T=!0,_(C),E(C)),S!==void 0&&C>=S?k.next(C-S):(!T&&_(C),h)}}}function ONe(e,t,r){const n=[],a=r||Hi.mix||J9,s=e.length-1;for(let i=0;i<s;i++){let o=a(e[i],e[i+1]);if(t){const l=Array.isArray(t)?t[i]||Ha:t;o=Lh(l,o)}n.push(o)}return n}function DNe(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const s=e.length;if(vC(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const i=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ONe(t,n,a),l=o.length,c=u=>{if(i&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=P0(e[f],e[f+1],u);return o[f](h)};return r?u=>c(ri(e[0],e[s-1],u)):c}function MNe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=P0(0,t,n);e.push(Xt(r,1,a))}}function INe(e){const t=[0];return MNe(t,e.length-1),t}function RNe(e,t){return e.map(r=>r*t)}function FNe(e,t){return e.map(()=>t||z9).splice(0,e.length-1)}function Ef({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=qPe(n)?n.map(J4):J4(n),s={done:!1,value:t[0]},i=RNe(r&&r.length===t.length?r:INe(t),e),o=DNe(i,t,{ease:Array.isArray(a)?a:FNe(t,a)});return{calculatedDuration:e,next:l=>(s.value=o(l),s.done=l>=e,s)}}const LNe=e=>e!==null;function CC(e,{repeat:t,repeatType:r="loop"},n,a=1){const s=e.filter(LNe),o=a<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const $Ne={decay:M2,inertia:M2,tween:Ef,keyframes:Ef,spring:xg};function tz(e){typeof e.type=="string"&&(e.type=$Ne[e.type])}class TC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const BNe=e=>e/100;class AC extends TC{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Wn.now()&&this.tick(Wn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;tz(t);const{type:r=Ef,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:i=0}=t;let{keyframes:o}=t;const l=r||Ef;l!==Ef&&typeof o[0]!="number"&&(this.mixKeyframes=Lh(BNe,J9(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-i})),c.calculatedDuration===null&&(c.calculatedDuration=EC(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:i,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:p,type:m,onUpdate:v,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?x<0:x>a;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let y=this.currentTime,_=n;if(f){const C=Math.min(this.currentTime,a)/o;let T=Math.floor(C),A=C%1;!A&&C>=1&&(A=1),A===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(h==="reverse"?(A=1-A,p&&(A-=p/o)):h==="mirror"&&(_=i)),y=ri(0,1,A)*o}const S=b?{done:!1,value:u[0]}:_.next(y);s&&(S.value=s(S.value));let{done:k}=S;!b&&l!==null&&(k=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return E&&m!==M2&&(S.value=CC(u,this.options,g,this.speed)),v&&v(S.value),E&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Va(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Va(t)}get time(){return Va(this.currentTime)}set time(t){var r;t=Pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Wn.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Va(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:t=kNe,startTime:r}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Wn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function zNe(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const jl=e=>e*180/Math.PI,I2=e=>{const t=jl(Math.atan2(e[1],e[0]));return R2(t)},UNe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:I2,rotateZ:I2,skewX:e=>jl(Math.atan(e[1])),skewY:e=>jl(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},R2=e=>(e=e%360,e<0&&(e+=360),e),sD=I2,iD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),oD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),VNe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iD,scaleY:oD,scale:e=>(iD(e)+oD(e))/2,rotateX:e=>R2(jl(Math.atan2(e[6],e[5]))),rotateY:e=>R2(jl(Math.atan2(-e[2],e[0]))),rotateZ:sD,rotate:sD,skewX:e=>jl(Math.atan(e[4])),skewY:e=>jl(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function F2(e){return e.includes("scale")?1:0}function L2(e,t){if(!e||e==="none")return F2(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=VNe,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=UNe,a=o}if(!a)return F2(t);const s=n[t],i=a[1].split(",").map(HNe);return typeof s=="function"?s(i):i[s]}const WNe=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return L2(r,t)};function HNe(e){return parseFloat(e.trim())}const vd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gd=new Set(vd),lD=e=>e===md||e===je,KNe=new Set(["x","y","z"]),GNe=vd.filter(e=>!KNe.has(e));function qNe(e){const t=[];return GNe.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const _o={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>L2(t,"x"),y:(e,{transform:t})=>L2(t,"y")};_o.translateX=_o.x;_o.translateY=_o.y;const Bl=new Set;let $2=!1,B2=!1,z2=!1;function rz(){if(B2){const e=Array.from(Bl).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=qNe(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,i])=>{var o;(o=n.getValue(s))==null||o.set(i)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}B2=!1,$2=!1,Bl.forEach(e=>e.complete(z2)),Bl.clear()}function nz(){Bl.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(B2=!0)})}function YNe(){z2=!0,nz(),rz(),z2=!1}class jC{constructor(t,r,n,a,s,i=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=i}scheduleResolve(){this.state="scheduled",this.isAsync?(Bl.add(this),$2||($2=!0,Dt.read(nz),Dt.resolveKeyframes(rz))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const s=a==null?void 0:a.get(),i=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const o=n.readValue(r,i);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=i),a&&s===void 0&&a.set(t[0])}zNe(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Bl.delete(this)}cancel(){this.state==="scheduled"&&(Bl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const XNe=e=>e.startsWith("--");function ZNe(e,t,r){XNe(t)?e.style.setProperty(t,r):e.style[t]=r}const JNe=gC(()=>window.ScrollTimeline!==void 0),QNe={};function eOe(e,t){const r=gC(e);return()=>QNe[t]??r()}const az=eOe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qd=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,cD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qd([0,.65,.55,1]),circOut:Qd([.55,0,1,.45]),backIn:Qd([.31,.01,.66,-.59]),backOut:Qd([.33,1.53,.69,.99])};function sz(e,t){if(e)return typeof e=="function"?az()?Q9(e,t):"ease-out":U9(e)?Qd(e):Array.isArray(e)?e.map(r=>sz(r,t)||cD.easeOut):cD[e]}function tOe(e,t,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:i="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=sz(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:i==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function iz(e){return typeof e=="function"&&"applyToOptions"in e}function rOe({type:e,...t}){return iz(e)&&az()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class nOe extends TC{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:i=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!s,this.allowFlatten=i,this.options=t,vC(typeof t.type!="string");const c=rOe(t);this.animation=tOe(r,n,a,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=CC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):ZNe(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Va(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Va(t)}get time(){return Va(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&JNe()?(this.animation.timeline=t,Ha):r(this)}}const oz={anticipate:L9,backInOut:F9,circInOut:B9};function aOe(e){return e in oz}function sOe(e){typeof e.ease=="string"&&aOe(e.ease)&&(e.ease=oz[e.ease])}const X1=10;class iOe extends nOe{constructor(t){sOe(t),tz(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...i}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new AC({...i,autoplay:!1}),l=Math.max(X1,Wn.now()-this.startTime),c=ri(0,X1,l-X1);r.setWithVelocity(o.sample(Math.max(0,l-c)).value,o.sample(l).value,c),o.stop()}}const uD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wo.test(e)||e==="0")&&!e.startsWith("url("));function oOe(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function lOe(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],i=uD(a,t),o=uD(s,t);return!i||!o?!1:oOe(e)||(r==="spring"||iz(r))&&n}function U2(e){e.duration=0,e.type="keyframes"}const cOe=new Set(["opacity","clipPath","filter","transform"]),uOe=gC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dOe(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:s,type:i}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=t.owner.getProps();return uOe()&&r&&cOe.has(r)&&(r!=="transform"||!c)&&!l&&!n&&a!=="mirror"&&s!==0&&i!=="inertia"}const fOe=40;class hOe extends TC{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:i="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var v,g;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Wn.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:i,name:l,motionValue:c,element:u,...f},p=(u==null?void 0:u.KeyframeResolver)||jC;this.keyframeResolver=new p(o,(v,g,x)=>this.onKeyframesResolved(v,g,h,!x),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){var g,x;this.keyframeResolver=void 0;const{name:s,type:i,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=Wn.now(),lOe(t,s,i,o)||((Hi.instantAnimations||!l)&&(u==null||u(CC(t,n,r))),t[0]=t[t.length-1],U2(n),n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>fOe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},p=!c&&dOe(h),m=(x=(g=h.motionValue)==null?void 0:g.owner)==null?void 0:x.current,v=p?new iOe({...h,element:m}):new AC(h);v.finished.then(()=>{this.notifyFinished()}).catch(Ha),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),YNe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function lz(e,t,r,n=0,a=1){const s=Array.from(e).sort((c,u)=>c.sortNodePosition(u)).indexOf(t),i=e.size,o=(i-1)*n;return typeof r=="function"?r(s,i):a===1?s*n:o-s*n}const pOe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mOe(e){const t=pOe.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function cz(e,t,r=1){const[n,a]=mOe(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const i=s.trim();return j9(i)?parseFloat(i):i}return wC(a)?cz(a,t,r+1):a}const vOe={type:"spring",stiffness:500,damping:25,restSpeed:10},gOe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xOe={type:"keyframes",duration:.8},yOe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bOe=(e,{keyframes:t})=>t.length>2?xOe:gd.has(e)?e.startsWith("scale")?gOe(t[1]):vOe:yOe,wOe=e=>e!==null;function _Oe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(wOe),s=t&&r!=="loop"&&t%2===1?0:a.length-1;return a[s]}function PC(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function kOe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:i,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const NC=(e,t,r,n={},a,s)=>i=>{const o=PC(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Pi(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{i(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:a};kOe(o)||Object.assign(u,bOe(e,u)),u.duration&&(u.duration=Pi(u.duration)),u.repeatDelay&&(u.repeatDelay=Pi(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(U2(u),u.delay===0&&(f=!0)),(Hi.instantAnimations||Hi.skipAnimations)&&(f=!0,U2(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!s&&t.get()!==void 0){const h=_Oe(u.keyframes,o);if(h!==void 0){Dt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new AC(u):new hOe(u)};function dD(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function OC(e,t,r,n){if(typeof t=="function"){const[a,s]=dD(n);t=t(r!==void 0?r:e.custom,a,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,s]=dD(n);t=t(r!==void 0?r:e.custom,a,s)}return t}function Su(e,t,r){const n=e.getProps();return OC(n,t,r!==void 0?r:n.custom,e)}const uz=new Set(["width","height","top","left","right","bottom",...vd]),fD=30,SOe=e=>!isNaN(parseFloat(e));class EOe{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=Wn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Wn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=SOe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new xC);const n=this.events[t].add(r);return t==="change"?()=>{n(),Dt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Wn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>fD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,fD);return O9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(e,t){return new EOe(e,t)}const V2=e=>Array.isArray(e);function COe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ku(r))}function TOe(e){return V2(e)?e[e.length-1]||0:e}function AOe(e,t){const r=Su(e,t);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const i in s){const o=TOe(s[i]);COe(e,i,o)}}const Pn=e=>!!(e&&e.getVelocity);function jOe(e){return!!(Pn(e)&&e.add)}function W2(e,t){const r=e.getValue("willChange");if(jOe(r))return r.add(t);if(!r&&Hi.WillChange){const n=new Hi.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function DC(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const POe="framerAppearId",dz="data-"+DC(POe);function fz(e){return e.props[dz]}function NOe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function hz(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:i,...o}=t;const l=s==null?void 0:s.reduceMotion;n&&(s=n);const c=[],u=a&&e.animationState&&e.animationState.getState()[a];for(const f in o){const h=e.getValue(f,e.latestValues[f]??null),p=o[f];if(p===void 0||u&&NOe(u,f))continue;const m={delay:r,...PC(s||{},f)},v=h.get();if(v!==void 0&&!h.isAnimating&&!Array.isArray(p)&&p===v&&!m.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=fz(e);if(y){const _=window.MotionHandoffAnimation(y,f,Dt);_!==null&&(m.startTime=_,g=!0)}}W2(e,f);const x=l??e.shouldReduceMotion;h.start(NC(f,h,p,x&&uz.has(f)?{type:!1}:m,e,g));const b=h.animation;b&&c.push(b)}return i&&Promise.all(c).then(()=>{Dt.update(()=>{i&&AOe(e,i)})}),c}function H2(e,t,r={}){var l;const n=Su(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(hz(e,n,r)):()=>Promise.resolve(),i=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return OOe(e,t,c,u,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[s,i]:[i,s];return c().then(()=>u())}else return Promise.all([s(),i(r.delay)])}function OOe(e,t,r=0,n=0,a=0,s=1,i){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(H2(l,t,{...i,delay:r+(typeof n=="function"?0:n)+lz(e.variantChildren,l,n,a,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}function DOe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(s=>H2(e,s,r));n=Promise.all(a)}else if(typeof t=="string")n=H2(e,t,r);else{const a=typeof t=="function"?Su(e,t,r.custom):t;n=Promise.all(hz(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const MOe={test:e=>e==="auto",parse:e=>e},pz=e=>t=>t.test(e),mz=[md,je,Ks,ao,oNe,iNe,MOe],hD=e=>mz.find(pz(e));function IOe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||N9(e):!0}const ROe=new Set(["brightness","contrast","saturate","opacity"]);function FOe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(_C)||[];if(!n)return e;const a=r.replace(n,"");let s=ROe.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+a+")"}const LOe=/\b([a-z-]*)\(.*?\)/gu,K2={...Wo,getAnimatableNone:e=>{const t=e.match(LOe);return t?t.map(FOe).join(" "):e}},pD={...md,transform:Math.round},$Oe={rotate:ao,rotateX:ao,rotateY:ao,rotateZ:ao,scale:Zp,scaleX:Zp,scaleY:Zp,scaleZ:Zp,skew:ao,skewX:ao,skewY:ao,distance:je,translateX:je,translateY:je,translateZ:je,x:je,y:je,z:je,perspective:je,transformPerspective:je,opacity:N0,originX:eD,originY:eD,originZ:je},MC={borderWidth:je,borderTopWidth:je,borderRightWidth:je,borderBottomWidth:je,borderLeftWidth:je,borderRadius:je,borderTopLeftRadius:je,borderTopRightRadius:je,borderBottomRightRadius:je,borderBottomLeftRadius:je,width:je,maxWidth:je,height:je,maxHeight:je,top:je,right:je,bottom:je,left:je,inset:je,insetBlock:je,insetBlockStart:je,insetBlockEnd:je,insetInline:je,insetInlineStart:je,insetInlineEnd:je,padding:je,paddingTop:je,paddingRight:je,paddingBottom:je,paddingLeft:je,paddingBlock:je,paddingBlockStart:je,paddingBlockEnd:je,paddingInline:je,paddingInlineStart:je,paddingInlineEnd:je,margin:je,marginTop:je,marginRight:je,marginBottom:je,marginLeft:je,marginBlock:je,marginBlockStart:je,marginBlockEnd:je,marginInline:je,marginInlineStart:je,marginInlineEnd:je,fontSize:je,backgroundPositionX:je,backgroundPositionY:je,...$Oe,zIndex:pD,fillOpacity:N0,strokeOpacity:N0,numOctaves:pD},BOe={...MC,color:Sr,backgroundColor:Sr,outlineColor:Sr,fill:Sr,stroke:Sr,borderColor:Sr,borderTopColor:Sr,borderRightColor:Sr,borderBottomColor:Sr,borderLeftColor:Sr,filter:K2,WebkitFilter:K2},vz=e=>BOe[e];function gz(e,t){let r=vz(e);return r!==K2&&(r=Wo),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const zOe=new Set(["auto","none","0"]);function UOe(e,t,r){let n=0,a;for(;n<e.length&&!a;){const s=e[n];typeof s=="string"&&!zOe.has(s)&&O0(s).values.length&&(a=e[n]),n++}if(a&&r)for(const s of t)e[s]=gz(r,a)}class VOe extends jC{constructor(t,r,n,a,s){super(t,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),wC(f))){const h=cz(f,r.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!uz.has(n)||t.length!==2)return;const[a,s]=t,i=hD(a),o=hD(s),l=Q4(a),c=Q4(s);if(l!==c&&_o[n]){this.needsMeasurement=!0;return}if(i!==o)if(lD(i)&&lD(o))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else _o[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||IOe(t[a]))&&n.push(a);n.length&&UOe(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=_o[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,i=n[s];n[s]=_o[r](t.measureViewportBox(),window.getComputedStyle(t.current)),i!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=i),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function WOe(e,t,r){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e).filter(n=>n!=null)}const xz=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function G2(e){return P9(e)&&"offsetHeight"in e}const{schedule:IC}=V9(queueMicrotask,!1),os={x:!1,y:!1};function yz(){return os.x||os.y}function HOe(e){return e==="x"||e==="y"?os[e]?null:(os[e]=!0,()=>{os[e]=!1}):os.x||os.y?null:(os.x=os.y=!0,()=>{os.x=os.y=!1})}function bz(e,t){const r=WOe(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function mD(e){return!(e.pointerType==="touch"||yz())}function KOe(e,t,r={}){const[n,a,s]=bz(e,r),i=o=>{if(!mD(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{mD(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",i,a)}),s}const wz=(e,t)=>t?e===t?!0:wz(e,t.parentElement):!1,RC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,GOe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _z(e){return GOe.has(e.tagName)||e.isContentEditable===!0}const _m=new WeakSet;function vD(e){return t=>{t.key==="Enter"&&e(t)}}function Z1(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const qOe=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=vD(()=>{if(_m.has(r))return;Z1(r,"down");const a=vD(()=>{Z1(r,"up")}),s=()=>Z1(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function gD(e){return RC(e)&&!yz()}function YOe(e,t,r={}){const[n,a,s]=bz(e,r),i=o=>{const l=o.currentTarget;if(!gD(o))return;_m.add(l);const c=t(l,o),u=(p,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),_m.has(l)&&_m.delete(l),gD(p)&&typeof c=="function"&&c(p,{success:m})},f=p=>{u(p,l===window||l===document||r.useGlobalTarget||wz(l,p.target))},h=p=>{u(p,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",i,a),G2(o)&&(o.addEventListener("focus",c=>qOe(c,a)),!_z(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function kz(e){return P9(e)&&"ownerSVGElement"in e}function XOe(e){return kz(e)&&e.tagName==="svg"}const ZOe=[...mz,Sr,Wo],JOe=e=>ZOe.find(pz(e)),xD=()=>({translate:0,scale:1,origin:0,originPoint:0}),su=()=>({x:xD(),y:xD()}),yD=()=>({min:0,max:0}),Dr=()=>({x:yD(),y:yD()}),q2={current:null},Sz={current:!1},QOe=typeof window<"u";function e4e(){if(Sz.current=!0,!!QOe)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>q2.current=e.matches;e.addEventListener("change",t),t()}else q2.current=!1}const t4e=new WeakMap;function dy(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function D0(e){return typeof e=="string"||Array.isArray(e)}const FC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LC=["initial",...FC];function fy(e){return dy(e.animate)||LC.some(t=>D0(e[t]))}function Ez(e){return!!(fy(e)||e.variants)}function r4e(e,t,r){for(const n in t){const a=t[n],s=r[n];if(Pn(a))e.addValue(n,a);else if(Pn(s))e.addValue(n,Ku(a,{owner:e}));else if(s!==a)if(e.hasValue(n)){const i=e.getValue(n);i.liveStyle===!0?i.jump(a):i.hasAnimated||i.set(a)}else{const i=e.getStaticValue(n);e.addValue(n,Ku(i!==void 0?i:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const bD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yg={};function Cz(e){yg=e}function n4e(){return yg}class a4e{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Wn.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Dt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=i;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=fy(r),this.isVariantNode=Ez(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const p=f[h];l[h]!==void 0&&Pn(p)&&p.set(l[h])}}mount(t){var r;this.current=t,t4e.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Sz.current||e4e(),this.shouldReduceMotion=q2.current),(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Vo(this.notifyUpdate),Vo(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=gd.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",i=>{this.latestValues[t]=i,this.props.onUpdate&&Dt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yg){const r=yg[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bD.length;n++){const a=bD[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,i=t[s];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=r4e(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ku(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(j9(n)||N9(n))?n=parseFloat(n):!JOe(n)&&Wo.test(r)&&(n=gz(t,r)),this.setBaseTarget(t,Pn(n)?n.get():n)),Pn(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=OC(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);i&&(n=i[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Pn(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new xC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){IC.render(this.render)}}class Tz extends a4e{constructor(){super(...arguments),this.KeyframeResolver=VOe}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){const n=t.style;return n?n[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Pn(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}class al{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Az({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function s4e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function i4e(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function J1(e){return e===void 0||e===1}function Y2({scale:e,scaleX:t,scaleY:r}){return!J1(e)||!J1(t)||!J1(r)}function vl(e){return Y2(e)||jz(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function jz(e){return wD(e.x)||wD(e.y)}function wD(e){return e&&e!=="0%"}function bg(e,t,r){const n=e-r,a=t*n;return r+a}function _D(e,t,r,n,a){return a!==void 0&&(e=bg(e,a,n)),bg(e,r,n)+t}function X2(e,t=0,r=1,n,a){e.min=_D(e.min,t,r,n,a),e.max=_D(e.max,t,r,n,a)}function Pz(e,{x:t,y:r}){X2(e.x,t.translate,t.scale,t.originPoint),X2(e.y,r.translate,r.scale,r.originPoint)}const kD=.999999999999,SD=1.0000000000001;function o4e(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let s,i;for(let o=0;o<a;o++){s=r[o],i=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ou(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),i&&(t.x*=i.x.scale,t.y*=i.y.scale,Pz(e,i)),n&&vl(s.latestValues)&&ou(e,s.latestValues))}t.x<SD&&t.x>kD&&(t.x=1),t.y<SD&&t.y>kD&&(t.y=1)}function iu(e,t){e.min=e.min+t,e.max=e.max+t}function ED(e,t,r,n,a=.5){const s=Xt(e.min,e.max,a);X2(e,t,r,s,n)}function ou(e,t){ED(e.x,t.x,t.scaleX,t.scale,t.originX),ED(e.y,t.y,t.scaleY,t.scale,t.originY)}function Nz(e,t){return Az(i4e(e.getBoundingClientRect(),t))}function l4e(e,t,r){const n=Nz(e,r),{scroll:a}=t;return a&&(iu(n.x,a.offset.x),iu(n.y,a.offset.y)),n}const c4e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},u4e=vd.length;function d4e(e,t,r){let n="",a=!0;for(let s=0;s<u4e;s++){const i=vd[s],o=e[i];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(i.startsWith("scale")?1:0);else{const c=parseFloat(o);l=i.startsWith("scale")?c===1:c===0}if(!l||r){const c=xz(o,MC[i]);if(!l){a=!1;const u=c4e[i]||i;n+=`${u}(${c}) `}r&&(t[i]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function $C(e,t,r){const{style:n,vars:a,transformOrigin:s}=e;let i=!1,o=!1;for(const l in t){const c=t[l];if(gd.has(l)){i=!0;continue}else if(H9(l)){a[l]=c;continue}else{const u=xz(c,MC[l]);l.startsWith("origin")?(o=!0,s[l]=u):n[l]=u}}if(t.transform||(i||r?n.transform=d4e(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;n.transformOrigin=`${l} ${c} ${u}`}}function Oz(e,{style:t,vars:r},n,a){const s=e.style;let i;for(i in t)s[i]=t[i];a==null||a.applyProjectionStyles(s,n);for(i in r)s.setProperty(i,r[i])}function CD(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const zd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(je.test(e))e=parseFloat(e);else return e;const r=CD(e,t.target.x),n=CD(e,t.target.y);return`${r}% ${n}%`}},f4e={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Wo.parse(e);if(a.length>5)return n;const s=Wo.createTransformer(e),i=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+i]/=o,a[1+i]/=l;const c=Xt(o,l,.5);return typeof a[2+i]=="number"&&(a[2+i]/=c),typeof a[3+i]=="number"&&(a[3+i]/=c),s(a)}},Z2={borderRadius:{...zd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zd,borderTopRightRadius:zd,borderBottomLeftRadius:zd,borderBottomRightRadius:zd,boxShadow:f4e};function Dz(e,{layout:t,layoutId:r}){return gd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Z2[e]||e==="opacity")}function BC(e,t,r){var i;const n=e.style,a=t==null?void 0:t.style,s={};if(!n)return s;for(const o in n)(Pn(n[o])||a&&Pn(a[o])||Dz(o,e)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}function h4e(e){return window.getComputedStyle(e)}class p4e extends Tz{constructor(){super(...arguments),this.type="html",this.renderInstance=Oz}readValueFromInstance(t,r){var n;if(gd.has(r))return(n=this.projection)!=null&&n.isProjecting?F2(r):WNe(t,r);{const a=h4e(t),s=(H9(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Nz(t,r)}build(t,r,n){$C(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return BC(t,r,n)}}const m4e={offset:"stroke-dashoffset",array:"stroke-dasharray"},v4e={offset:"strokeDashoffset",array:"strokeDasharray"};function g4e(e,t,r=1,n=0,a=!0){e.pathLength=1;const s=a?m4e:v4e;e[s.offset]=`${-n}`,e[s.array]=`${t} ${r}`}const x4e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Mz(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:i=0,...o},l,c,u){if($C(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const p of x4e)f[p]!==void 0&&(h[p]=f[p],delete f[p]);t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&g4e(f,a,s,i,!1)}const Iz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Rz=e=>typeof e=="string"&&e.toLowerCase()==="svg";function y4e(e,t,r,n){Oz(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(Iz.has(a)?a:DC(a),t.attrs[a])}function Fz(e,t,r){const n=BC(e,t,r);for(const a in e)if(Pn(e[a])||Pn(t[a])){const s=vd.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=e[a]}return n}class b4e extends Tz{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Dr}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(gd.has(r)){const n=vz(r);return n&&n.default||0}return r=Iz.has(r)?r:DC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Fz(t,r,n)}build(t,r,n){Mz(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){y4e(t,r,n,a)}mount(t){this.isSVGTag=Rz(t.tagName),super.mount(t)}}const w4e=LC.length;function Lz(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Lz(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<w4e;r++){const n=LC[r],a=e.props[n];(D0(a)||a===!1)&&(t[n]=a)}return t}function $z(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const _4e=[...FC].reverse(),k4e=FC.length;function S4e(e){return t=>Promise.all(t.map(({animation:r,options:n})=>DOe(e,r,n)))}function E4e(e){let t=S4e(e),r=TD(),n=!0;const a=l=>(c,u)=>{var h;const f=Su(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:p,transitionEnd:m,...v}=f;c={...c,...v,...m}}return c};function s(l){t=l(e)}function i(l){const{props:c}=e,u=Lz(e.parent)||{},f=[],h=new Set;let p={},m=1/0;for(let g=0;g<k4e;g++){const x=_4e[g],b=r[x],y=c[x]!==void 0?c[x]:u[x],_=D0(y),S=x===l?b.isActive:null;S===!1&&(m=g);let k=y===u[x]&&y!==c[x]&&_;if(k&&n&&e.manuallyAnimateOnMount&&(k=!1),b.protectedKeys={...p},!b.isActive&&S===null||!y&&!b.prevProp||dy(y)||typeof y=="boolean")continue;const E=C4e(b.prevProp,y);let C=E||x===l&&b.isActive&&!k&&_||g>m&&_,T=!1;const A=Array.isArray(y)?y:[y];let N=A.reduce(a(x),{});S===!1&&(N={});const{prevResolvedValues:j={}}=b,P={...j,...N},R=K=>{C=!0,h.has(K)&&(T=!0,h.delete(K)),b.needsAnimating[K]=!0;const X=e.getValue(K);X&&(X.liveStyle=!1)};for(const K in P){const X=N[K],I=j[K];if(p.hasOwnProperty(K))continue;let J=!1;V2(X)&&V2(I)?J=!$z(X,I):J=X!==I,J?X!=null?R(K):h.add(K):X!==void 0&&h.has(K)?R(K):b.protectedKeys[K]=!0}b.prevProp=y,b.prevResolvedValues=N,b.isActive&&(p={...p,...N}),n&&e.blockInitialAnimation&&(C=!1);const B=k&&E;C&&(!B||T)&&f.push(...A.map(K=>{const X={type:x};if(typeof K=="string"&&n&&!B&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,J=Su(I,K);if(I.enteringChildren&&J){const{delayChildren:Z}=J.transition||{};X.delay=lz(I.enteringChildren,e,Z)}}return{animation:K,options:X}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const x=Su(e,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(g.transition=x.transition)}h.forEach(x=>{const b=e.getBaseTarget(x),y=e.getValue(x);y&&(y.liveStyle=!0),g[x]=b??null}),f.push({animation:g})}let v=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var p;return(p=h.animationState)==null?void 0:p.setActive(l,c)}),r[l].isActive=c;const u=i(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:i,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=TD()}}}function C4e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$z(t,e):!1}function ll(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TD(){return{animate:ll(!0),whileInView:ll(),whileHover:ll(),whileTap:ll(),whileDrag:ll(),whileFocus:ll(),exit:ll()}}function AD(e,t){e.min=t.min,e.max=t.max}function ss(e,t){AD(e.x,t.x),AD(e.y,t.y)}function jD(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Bz=1e-4,T4e=1-Bz,A4e=1+Bz,zz=.01,j4e=0-zz,P4e=0+zz;function Hn(e){return e.max-e.min}function N4e(e,t,r){return Math.abs(e-t)<=r}function PD(e,t,r,n=.5){e.origin=n,e.originPoint=Xt(t.min,t.max,e.origin),e.scale=Hn(r)/Hn(t),e.translate=Xt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=T4e&&e.scale<=A4e||isNaN(e.scale))&&(e.scale=1),(e.translate>=j4e&&e.translate<=P4e||isNaN(e.translate))&&(e.translate=0)}function Cf(e,t,r,n){PD(e.x,t.x,r.x,n?n.originX:void 0),PD(e.y,t.y,r.y,n?n.originY:void 0)}function ND(e,t,r){e.min=r.min+t.min,e.max=e.min+Hn(t)}function O4e(e,t,r){ND(e.x,t.x,r.x),ND(e.y,t.y,r.y)}function OD(e,t,r){e.min=t.min-r.min,e.max=e.min+Hn(t)}function wg(e,t,r){OD(e.x,t.x,r.x),OD(e.y,t.y,r.y)}function DD(e,t,r,n,a){return e-=t,e=bg(e,1/r,n),a!==void 0&&(e=bg(e,1/a,n)),e}function D4e(e,t=0,r=1,n=.5,a,s=e,i=e){if(Ks.test(t)&&(t=parseFloat(t),t=Xt(i.min,i.max,t/100)-i.min),typeof t!="number")return;let o=Xt(s.min,s.max,n);e===s&&(o-=t),e.min=DD(e.min,t,r,o,a),e.max=DD(e.max,t,r,o,a)}function MD(e,t,[r,n,a],s,i){D4e(e,t[r],t[n],t[a],t.scale,s,i)}const M4e=["x","scaleX","originX"],I4e=["y","scaleY","originY"];function ID(e,t,r,n){MD(e.x,t,M4e,r?r.x:void 0,n?n.x:void 0),MD(e.y,t,I4e,r?r.y:void 0,n?n.y:void 0)}function RD(e){return e.translate===0&&e.scale===1}function Uz(e){return RD(e.x)&&RD(e.y)}function FD(e,t){return e.min===t.min&&e.max===t.max}function R4e(e,t){return FD(e.x,t.x)&&FD(e.y,t.y)}function LD(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Vz(e,t){return LD(e.x,t.x)&&LD(e.y,t.y)}function $D(e){return Hn(e.x)/Hn(e.y)}function BD(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Ra(e){return[e("x"),e("y")]}function F4e(e,t,r){let n="";const a=e.x.translate/t.x,s=e.y.translate/t.y,i=(r==null?void 0:r.z)||0;if((a||s||i)&&(n=`translate3d(${a}px, ${s}px, ${i}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:p,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),p&&(n+=`skewX(${p}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const Wz=["TopLeft","TopRight","BottomLeft","BottomRight"],L4e=Wz.length,zD=e=>typeof e=="string"?parseFloat(e):e,UD=e=>typeof e=="number"||je.test(e);function $4e(e,t,r,n,a,s){a?(e.opacity=Xt(0,r.opacity??1,B4e(n)),e.opacityExit=Xt(t.opacity??1,0,z4e(n))):s&&(e.opacity=Xt(t.opacity??1,r.opacity??1,n));for(let i=0;i<L4e;i++){const o=`border${Wz[i]}Radius`;let l=VD(t,o),c=VD(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||UD(l)===UD(c)?(e[o]=Math.max(Xt(zD(l),zD(c),n),0),(Ks.test(c)||Ks.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Xt(t.rotate||0,r.rotate||0,n))}function VD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const B4e=Hz(0,.5,$9),z4e=Hz(.5,.95,Ha);function Hz(e,t,r){return n=>n<e?0:n>t?1:r(P0(e,t,n))}function U4e(e,t,r){const n=Pn(e)?e:Ku(e);return n.start(NC("",n,t,r)),n.animation}function M0(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const V4e=(e,t)=>e.depth-t.depth;class W4e{constructor(){this.children=[],this.isDirty=!1}add(t){pC(this.children,t),this.isDirty=!0}remove(t){mC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(V4e),this.isDirty=!1,this.children.forEach(t)}}function H4e(e,t){const r=Wn.now(),n=({timestamp:a})=>{const s=a-r;s>=t&&(Vo(n),e(s-t))};return Dt.setup(n,!0),()=>Vo(n)}function km(e){return Pn(e)?e.get():e}class K4e{constructor(){this.members=[]}add(t){pC(this.members,t),t.scheduleRender()}remove(t){if(mC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender();const a=n.options.layoutDependency,s=t.options.layoutDependency;a!==void 0&&s!==void 0&&a===s||(t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Sm={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Q1=["","X","Y","Z"],G4e=1e3;let q4e=0;function eb(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Kz(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=fz(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Dt,!(a||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Kz(n)}function Gz({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=q4e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Z4e),this.nodes.forEach(tDe),this.nodes.forEach(rDe),this.nodes.forEach(J4e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new W4e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new xC),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const l=this.eventHandlers.get(i);l&&l.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i){if(this.instance)return;this.isSVG=kz(i)&&!XOe(i),this.instance=i;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u,f=0;const h=()=>this.root.updateBlockedByResize=!1;Dt.read(()=>{f=window.innerWidth}),e(i,()=>{const p=window.innerWidth;p!==f&&(f=p,this.root.updateBlockedByResize=!0,u&&u(),u=H4e(h,250),Sm.hasAnimatedSinceResize&&(Sm.hasAnimatedSinceResize=!1,this.nodes.forEach(KD)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||oDe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=c.getProps(),x=!this.targetLayout||!Vz(this.targetLayout,p),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...PC(m,"layout"),onPlay:v,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,b)}else f||KD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(nDe),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Kz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(HD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eDe),this.nodes.forEach(Y4e),this.nodes.forEach(X4e)):this.nodes.forEach(HD),this.clearAllSnapshots();const o=Wn.now();un.delta=ri(0,1e3/60,o-un.timestamp),un.timestamp=o,un.isProcessing=!0,H1.update.process(un),H1.preRender.process(un),H1.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,IC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Q4e),this.sharedNodes.forEach(aDe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Dt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Dt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Hn(this.snapshot.measuredBox.x)&&!Hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Dr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:i,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Uz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;i&&this.instance&&(o||vl(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return i&&(l=this.removeTransform(l)),lDe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:i}=this.options;if(!i)return Dr();const o=i.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(cDe))){const{scroll:u}=this.root;u&&(iu(o.x,u.offset.x),iu(o.y,u.offset.y))}return o}removeElementScroll(i){var l;const o=Dr();if(ss(o,i),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&ss(o,i),iu(o.x,f.offset.x),iu(o.y,f.offset.y))}return o}applyTransform(i,o=!1){const l=Dr();ss(l,i);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&ou(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),vl(u.latestValues)&&ou(l,u.latestValues)}return vl(this.latestValues)&&ou(l,this.latestValues),l}removeTransform(i){const o=Dr();ss(o,i);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!vl(c.latestValues))continue;Y2(c.latestValues)&&c.updateSnapshot();const u=Dr(),f=c.measurePageBox();ss(u,f),ID(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return vl(this.latestValues)&&ID(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var p;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=un.timestamp;const h=this.getClosestProjectingParent();h&&this.linkedParentVersion!==h.layoutVersion&&!h.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(h&&h.layout?this.createRelativeTarget(h,this.layout.layoutBox,h.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Dr(),this.targetWithTransforms=Dr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),O4e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),Pz(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?this.createRelativeTarget(h,this.target,h.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||Y2(this.parent.latestValues)||jz(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(i,o,l){this.relativeParent=i,this.linkedParentVersion=i.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dr(),this.relativeTargetOrigin=Dr(),wg(this.relativeTargetOrigin,o,l),ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var m;const i=this.getLead(),o=!!this.resumingFrom||this!==i;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===un.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;ss(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;o4e(this.layoutCorrected,this.treeScale,this.path,o),i.layout&&!i.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(i.target=i.layout.layoutBox,i.targetWithTransforms=Dr());const{target:p}=i;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(jD(this.prevProjectionDelta.x,this.projectionDelta.x),jD(this.prevProjectionDelta.y,this.projectionDelta.y)),Cf(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!BD(this.projectionDelta.x,this.prevProjectionDelta.x)||!BD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),i){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=su(),this.projectionDelta=su(),this.projectionDeltaWithTransform=su()}setAnimationOrigin(i,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Dr(),p=l?l.source:void 0,m=this.layout?this.layout.source:void 0,v=p!==m,g=this.getStack(),x=!g||g.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(iDe));this.animationProgress=0;let y;this.mixTargetDelta=_=>{const S=_/1e3;GD(f.x,i.x,S),GD(f.y,i.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sDe(this.relativeTarget,this.relativeTargetOrigin,h,S),y&&R4e(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Dr()),ss(y,this.relativeTarget)),v&&(this.animationValues=u,$4e(u,c,this.latestValues,S,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Dt.update(()=>{Sm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ku(0)),this.currentAnimation=U4e(this.motionValue,[0,1e3],{...i,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),i.onUpdate&&i.onUpdate(u)},onStop:()=>{},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G4e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=i;if(!(!o||!l||!c)){if(this!==i&&this.layout&&c&&qz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Dr();const f=Hn(this.layout.layoutBox.x);l.x.min=i.target.x.min,l.x.max=l.x.min+f;const h=Hn(this.layout.layoutBox.y);l.y.min=i.target.y.min,l.y.max=l.y.min+h}ss(o,l),ou(o,u),Cf(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new K4e),this.sharedNodes.get(i).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var o;const{layoutId:i}=this.options;return i?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:i}=this.options;return i?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetSkewAndRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:l}=i;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&eb("z",i,c,this.animationValues);for(let u=0;u<Q1.length;u++)eb(`rotate${Q1[u]}`,i,c,this.animationValues),eb(`skew${Q1[u]}`,i,c,this.animationValues);i.render();for(const u in c)i.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);i.scheduleRender()}applyProjectionStyles(i,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){i.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,i.visibility="",i.opacity="",i.pointerEvents=km(o==null?void 0:o.pointerEvents)||"",i.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(i.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,i.pointerEvents=km(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!vl(this.latestValues)&&(i.transform=l?l({},""):"none",this.hasProjected=!1);return}i.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=F4e(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),i.transform=f;const{x:h,y:p}=this.projectionDelta;i.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,c.animationValues?i.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:i.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Z2){if(u[m]===void 0)continue;const{correct:v,applyTo:g,isCSSVariable:x}=Z2[m],b=f==="none"?u[m]:v(u[m],c);if(g){const y=g.length;for(let _=0;_<y;_++)i[g[_]]=b}else x?this.options.visualElement.renderState.vars[m]=b:i[m]=b}this.options.layoutId&&(i.pointerEvents=c===this?km(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(WD),this.root.sharedNodes.clear()}}}function Y4e(e){e.updateLayout()}function X4e(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:s}=e.options,i=t.source!==e.layout.source;s==="size"?Ra(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=Hn(h);h.min=n[f].min,h.max=h.min+p}):qz(s,t.layoutBox,n)&&Ra(f=>{const h=i?t.measuredBox[f]:t.layoutBox[f],p=Hn(n[f]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+p)});const o=su();Cf(o,n,t.layoutBox);const l=su();i?Cf(l,e.applyTransform(a,!0),t.measuredBox):Cf(l,n,t.layoutBox);const c=!Uz(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:p}=f;if(h&&p){const m=Dr();wg(m,t.layoutBox,h.layoutBox);const v=Dr();wg(v,n,p.layoutBox),Vz(m,v)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Z4e(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function J4e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Q4e(e){e.clearSnapshot()}function WD(e){e.clearMeasurements()}function HD(e){e.isLayoutDirty=!1}function eDe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function KD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function tDe(e){e.resolveTargetDelta()}function rDe(e){e.calcProjection()}function nDe(e){e.resetSkewAndRotation()}function aDe(e){e.removeLeadSnapshot()}function GD(e,t,r){e.translate=Xt(t.translate,0,r),e.scale=Xt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function qD(e,t,r,n){e.min=Xt(t.min,r.min,n),e.max=Xt(t.max,r.max,n)}function sDe(e,t,r,n){qD(e.x,t.x,r.x,n),qD(e.y,t.y,r.y,n)}function iDe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const oDe={duration:.45,ease:[.4,0,.1,1]},YD=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),XD=YD("applewebkit/")&&!YD("chrome/")?Math.round:Ha;function ZD(e){e.min=XD(e.min),e.max=XD(e.max)}function lDe(e){ZD(e.x),ZD(e.y)}function qz(e,t,r){return e==="position"||e==="preserve-aspect"&&!N4e($D(t),$D(r),.2)}function cDe(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const uDe=Gz({attachResizeListener:(e,t)=>M0(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),tb={current:void 0},Yz=Gz({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tb.current){const e=new uDe({});e.mount(window),e.setOptions({layoutScroll:!0}),tb.current=e}return tb.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),zC=w.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function JD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function dDe(...e){return t=>{let r=!1;const n=e.map(a=>{const s=JD(a,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():JD(e[a],null)}}}}function fDe(...e){return w.useCallback(dDe(...e),e)}class hDe extends w.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=G2(n)&&n.offsetWidth||0,s=G2(n)&&n.offsetHeight||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left,i.bottom=s-i.height-i.top}return null}componentDidUpdate(){}render(){return this.props.children}}function pDe({children:e,isPresent:t,anchorX:r,anchorY:n,root:a}){var f;const s=w.useId(),i=w.useRef(null),o=w.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=w.useContext(zC),c=((f=e.props)==null?void 0:f.ref)??(e==null?void 0:e.ref),u=fDe(i,c);return w.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:v,right:g,bottom:x}=o.current;if(t||!i.current||!h||!p)return;const b=r==="left"?`left: ${v}`:`right: ${g}`,y=n==="bottom"?`bottom: ${x}`:`top: ${m}`;i.current.dataset.motionPopId=s;const _=document.createElement("style");l&&(_.nonce=l);const S=a??document.head;return S.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            ${y}px !important;
          }
        `),()=>{S.contains(_)&&S.removeChild(_)}},[t]),d.jsx(hDe,{isPresent:t,childRef:i,sizeRef:o,children:w.cloneElement(e,{ref:u})})}const mDe=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:i,anchorX:o,anchorY:l,root:c})=>{const u=hC(vDe),f=w.useId();let h=!0,p=w.useMemo(()=>(h=!1,{id:f,initial:t,isPresent:r,custom:a,onExitComplete:m=>{u.set(m,!0);for(const v of u.values())if(!v)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&h&&(p={...p}),w.useMemo(()=>{u.forEach((m,v)=>u.set(v,!1))},[r]),w.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),i==="popLayout"&&(e=d.jsx(pDe,{isPresent:r,anchorX:o,anchorY:l,root:c,children:e})),d.jsx(uy.Provider,{value:p,children:e})};function vDe(){return new Map}function Xz(e=!0){const t=w.useContext(uy);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,s=w.useId();w.useEffect(()=>{if(e)return a(s)},[e]);const i=w.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,i]:[!0]}const Jp=e=>e.key||"";function QD(e){const t=[];return w.Children.forEach(e,r=>{w.isValidElement(r)&&t.push(r)}),t}const gDe=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:i=!1,anchorX:o="left",anchorY:l="top",root:c})=>{const[u,f]=Xz(i),h=w.useMemo(()=>QD(e),[e]),p=i&&!u?[]:h.map(Jp),m=w.useRef(!0),v=w.useRef(h),g=hC(()=>new Map),x=w.useRef(new Set),[b,y]=w.useState(h),[_,S]=w.useState(h);A9(()=>{m.current=!1,v.current=h;for(let C=0;C<_.length;C++){const T=Jp(_[C]);p.includes(T)?(g.delete(T),x.current.delete(T)):g.get(T)!==!0&&g.set(T,!1)}},[_,p.length,p.join("-")]);const k=[];if(h!==b){let C=[...h];for(let T=0;T<_.length;T++){const A=_[T],N=Jp(A);p.includes(N)||(C.splice(T,0,A),k.push(A))}return s==="wait"&&k.length&&(C=k),S(QD(C)),y(h),null}const{forceRender:E}=w.useContext(fC);return d.jsx(d.Fragment,{children:_.map(C=>{const T=Jp(C),A=i&&!u?!1:h===_||p.includes(T),N=()=>{if(x.current.has(T))return;if(x.current.add(T),g.has(T))g.set(T,!0);else return;let j=!0;g.forEach(P=>{P||(j=!1)}),j&&(E==null||E(),S(v.current),i&&(f==null||f()),n&&n())};return d.jsx(mDe,{isPresent:A,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:A?void 0:N,anchorX:o,anchorY:l,children:C},T)})})},Zz=w.createContext({strict:!1}),e3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let t3=!1;function xDe(){if(t3)return;const e={};for(const t in e3)e[t]={isEnabled:r=>e3[t].some(n=>!!r[n])};Cz(e),t3=!0}function Jz(){return xDe(),n4e()}function yDe(e){const t=Jz();for(const r in e)t[r]={...t[r],...e[r]};Cz(t)}const bDe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function _g(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bDe.has(e)}let Qz=e=>!_g(e);function wDe(e){typeof e=="function"&&(Qz=t=>t.startsWith("on")?!_g(t):e(t))}try{wDe(require("@emotion/is-prop-valid").default)}catch{}function _De(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(Qz(a)||r===!0&&_g(a)||!t&&!_g(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}const hy=w.createContext({});function kDe(e,t){if(fy(e)){const{initial:r,animate:n}=e;return{initial:r===!1||D0(r)?r:void 0,animate:D0(n)?n:void 0}}return e.inherit!==!1?t:{}}function SDe(e){const{initial:t,animate:r}=kDe(e,w.useContext(hy));return w.useMemo(()=>({initial:t,animate:r}),[r3(t),r3(r)])}function r3(e){return Array.isArray(e)?e.join(" "):e}const UC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e7(e,t,r){for(const n in t)!Pn(t[n])&&!Dz(n,r)&&(e[n]=t[n])}function EDe({transformTemplate:e},t){return w.useMemo(()=>{const r=UC();return $C(r,t,e),Object.assign({},r.vars,r.style)},[t])}function CDe(e,t){const r=e.style||{},n={};return e7(n,r,e),Object.assign(n,EDe(e,t)),n}function TDe(e,t){const r={},n=CDe(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const t7=()=>({...UC(),attrs:{}});function ADe(e,t,r,n){const a=w.useMemo(()=>{const s=t7();return Mz(s,t,Rz(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};e7(s,e.style,e),a.style={...s,...a.style}}return a}const jDe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VC(e){return typeof e!="string"||e.includes("-")?!1:!!(jDe.indexOf(e)>-1||/[A-Z]/u.test(e))}function PDe(e,t,r,{latestValues:n},a,s=!1,i){const l=(i??VC(e)?ADe:TDe)(t,n,a,e),c=_De(t,typeof e=="string",s),u=e!==w.Fragment?{...c,...l,ref:r}:{},{children:f}=t,h=w.useMemo(()=>Pn(f)?f.get():f,[f]);return w.createElement(e,{...u,children:h})}function NDe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:ODe(r,n,a,e),renderState:t()}}function ODe(e,t,r,n){const a={},s=n(e,{});for(const h in s)a[h]=km(s[h]);let{initial:i,animate:o}=e;const l=fy(e),c=Ez(e);t&&c&&!l&&e.inherit!==!1&&(i===void 0&&(i=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||i===!1;const f=u?o:i;if(f&&typeof f!="boolean"&&!dy(f)){const h=Array.isArray(f)?f:[f];for(let p=0;p<h.length;p++){const m=OC(e,h[p]);if(m){const{transitionEnd:v,transition:g,...x}=m;for(const b in x){let y=x[b];if(Array.isArray(y)){const _=u?y.length-1:0;y=y[_]}y!==null&&(a[b]=y)}for(const b in v)a[b]=v[b]}}}return a}const r7=e=>(t,r)=>{const n=w.useContext(hy),a=w.useContext(uy),s=()=>NDe(e,t,n,a);return r?s():hC(s)},DDe=r7({scrapeMotionValuesFromProps:BC,createRenderState:UC}),MDe=r7({scrapeMotionValuesFromProps:Fz,createRenderState:t7}),IDe=Symbol.for("motionComponentSymbol");function RDe(e,t,r){const n=w.useRef(r);w.useInsertionEffect(()=>{n.current=r});const a=w.useRef(null);return w.useCallback(s=>{var o;s&&((o=e.onMount)==null||o.call(e,s)),t&&(s?t.mount(s):t.unmount());const i=n.current;if(typeof i=="function")if(s){const l=i(s);typeof l=="function"&&(a.current=l)}else a.current?(a.current(),a.current=null):i(s);else i&&(i.current=s)},[t])}const n7=w.createContext({});function ef(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function FDe(e,t,r,n,a,s){var x,b;const{visualElement:i}=w.useContext(hy),o=w.useContext(Zz),l=w.useContext(uy),c=w.useContext(zC).reducedMotion,u=w.useRef(null),f=w.useRef(!1);n=n||o.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),f.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const h=u.current,p=w.useContext(n7);h&&!h.projection&&a&&(h.type==="html"||h.type==="svg")&&LDe(u.current,r,a,p);const m=w.useRef(!1);w.useInsertionEffect(()=>{h&&m.current&&h.update(r,l)});const v=r[dz],g=w.useRef(!!v&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,v))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,v)));return A9(()=>{f.current=!0,h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),g.current&&h.animationState&&h.animationState.animateChanges())}),w.useEffect(()=>{h&&(!g.current&&h.animationState&&h.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,v)}),g.current=!1),h.enteringChildren=void 0)}),h}function LDe(e,t,r,n){const{layoutId:a,layout:s,drag:i,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:a7(e.parent)),e.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!i||o&&ef(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function a7(e){if(e)return e.options.allowProjection!==!1?e.projection:a7(e.parent)}function rb(e,{forwardMotionProps:t=!1,type:r}={},n,a){n&&yDe(n);const s=r?r==="svg":VC(e),i=s?MDe:DDe;function o(c,u){let f;const h={...w.useContext(zC),...c,layoutId:$De(c)},{isStatic:p}=h,m=SDe(c),v=i(c,p);if(!p&&T9){BDe();const g=zDe(h);f=g.MeasureLayout,m.visualElement=FDe(e,v,h,a,g.ProjectionNode,s)}return d.jsxs(hy.Provider,{value:m,children:[f&&m.visualElement?d.jsx(f,{visualElement:m.visualElement,...h}):null,PDe(e,c,RDe(v,m.visualElement,u),v,p,t,s)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=w.forwardRef(o);return l[IDe]=e,l}function $De({layoutId:e}){const t=w.useContext(fC).id;return t&&e!==void 0?t+"-"+e:e}function BDe(e,t){w.useContext(Zz).strict}function zDe(e){const t=Jz(),{drag:r,layout:n}=t;if(!r&&!n)return{};const a={...r,...n};return{MeasureLayout:r!=null&&r.isEnabled(e)||n!=null&&n.isEnabled(e)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function UDe(e,t){if(typeof Proxy>"u")return rb;const r=new Map,n=(s,i)=>rb(s,i,e,t),a=(s,i)=>n(s,i);return new Proxy(a,{get:(s,i)=>i==="create"?n:(r.has(i)||r.set(i,rb(i,void 0,e,t)),r.get(i))})}const VDe=(e,t)=>t.isSVG??VC(e)?new b4e(t):new p4e(t,{allowProjection:e!==w.Fragment});class WDe extends al{constructor(t){super(t),t.animationState||(t.animationState=E4e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();dy(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let HDe=0;class KDe extends al{constructor(){super(...arguments),this.id=HDe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const GDe={animation:{Feature:WDe},exit:{Feature:KDe}};function zh(e){return{point:{x:e.pageX,y:e.pageY}}}const qDe=e=>t=>RC(t)&&e(t,zh(t));function Tf(e,t,r,n){return M0(e,t,qDe(r),n)}const s7=({current:e})=>e?e.ownerDocument.defaultView:null,n3=(e,t)=>Math.abs(e-t);function YDe(e,t){const r=n3(e.x,t.x),n=n3(e.y,t.y);return Math.sqrt(r**2+n**2)}const a3=new Set(["auto","scroll"]);class i7{constructor(t,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:i=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=p=>{this.handleScroll(p.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=ab(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=YDe(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!v)return;const{point:g}=p,{timestamp:x}=un;this.history.push({...g,timestamp:x});const{onStart:b,onMove:y}=this.handlers;m||(b&&b(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=nb(m,this.transformPagePoint),Dt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:v,onSessionEnd:g,resumeAnimation:x}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=ab(p.type==="pointercancel"?this.lastMoveEventInfo:nb(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,b),g&&g(p,b)},!RC(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=i,this.contextWindow=a||window;const l=zh(t),c=nb(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=un;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(t,ab(c,this.history)),this.removeListeners=Lh(Tf(this.contextWindow,"pointermove",this.handlePointerMove),Tf(this.contextWindow,"pointerup",this.handlePointerUp),Tf(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(t){let r=t.parentElement;for(;r;){const n=getComputedStyle(r);(a3.has(n.overflowX)||a3.has(n.overflowY))&&this.scrollPositions.set(r,{x:r.scrollLeft,y:r.scrollTop}),r=r.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const r=this.scrollPositions.get(t);if(!r)return;const n=t===window,a=n?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},s={x:a.x-r.x,y:a.y-r.y};s.x===0&&s.y===0||(n?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(t,a),Dt.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Vo(this.updatePoint)}}function nb(e,t){return t?{point:t(e.point)}:e}function s3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ab({point:e},t){return{point:e,delta:s3(e,o7(t)),offset:s3(e,XDe(t)),velocity:ZDe(t,.1)}}function XDe(e){return e[0]}function o7(e){return e[e.length-1]}function ZDe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=o7(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Pi(t)));)r--;if(!n)return{x:0,y:0};const s=Va(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const i={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return i.x===1/0&&(i.x=0),i.y===1/0&&(i.y=0),i}function JDe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Xt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Xt(r,e,n.max):Math.min(e,r)),e}function i3(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function QDe(e,{top:t,left:r,bottom:n,right:a}){return{x:i3(e.x,r,a),y:i3(e.y,t,n)}}function o3(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function e3e(e,t){return{x:o3(e.x,t.x),y:o3(e.y,t.y)}}function t3e(e,t){let r=.5;const n=Hn(e),a=Hn(t);return a>n?r=P0(t.min,t.max-n,e.min):n>a&&(r=P0(e.min,e.max-a,t.min)),ri(0,1,r)}function r3e(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const J2=.35;function n3e(e=J2){return e===!1?e=0:e===!0&&(e=J2),{x:l3(e,"left","right"),y:l3(e,"top","bottom")}}function l3(e,t,r){return{min:c3(e,t),max:c3(e,r)}}function c3(e,t){return typeof e=="number"?e:e[t]||0}const a3e=new WeakMap;class s3e{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=f=>{r?(this.stopAnimation(),this.snapToCursor(zh(f).point)):this.pauseAnimation()},i=(f,h)=>{this.stopAnimation();const{drag:p,dragPropagation:m,onDragStart:v}=this.getProps();if(p&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=HOe(p),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ra(x=>{let b=this.getAxisMotionValue(x).get()||0;if(Ks.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[x];_&&(b=Hn(_)*(parseFloat(b)/100))}}this.originPoint[x]=b}),v&&Dt.postRender(()=>v(f,h)),W2(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:v,onDrag:g}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:x}=h;if(m&&this.currentDirection===null){this.currentDirection=i3e(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,x),this.updateAxis("y",h.point,x),this.visualElement.render(),g&&g(f,h)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Ra(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new i7(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:s7(this.visualElement),element:this.visualElement.current})}stop(t,r){const n=t||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Dt.postRender(()=>o(n,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!Qp(t,a,this.currentDirection))return;const s=this.getAxisMotionValue(t);let i=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(i=JDe(i,this.constraints[t],this.elastic[t])),s.set(i)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;t&&ef(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=QDe(n.layoutBox,t):this.constraints=!1,this.elastic=n3e(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ra(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=r3e(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ef(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=l4e(n,a.root,this.visualElement.getTransformPagePoint());let i=e3e(a.layout.layoutBox,s);if(r){const o=r(s4e(i));this.hasMutatedConstraints=!!o,o&&(i=Az(o))}return i}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:i,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ra(u=>{if(!Qp(u,r,this.currentDirection))return;let f=l&&l[u]||{};i&&(f={min:0,max:0});const h=a?200:1e6,p=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return W2(this.visualElement,t),n.start(NC(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ra(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ra(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ra(r=>{const{drag:n}=this.getProps();if(!Qp(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:i,max:o}=a.layout.layoutBox[r],l=s.get()||0;s.set(t[r]-Xt(i,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ef(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ra(i=>{const o=this.getAxisMotionValue(i);if(o&&this.constraints!==!1){const l=o.get();a[i]=t3e({min:l,max:l},this.constraints[i])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ra(i=>{if(!Qp(i,t,null))return;const o=this.getAxisMotionValue(i),{min:l,max:c}=this.constraints[i];o.set(Xt(l,c,a[i]))})}addListeners(){if(!this.visualElement.current)return;a3e.set(this.visualElement,this);const t=this.visualElement.current,r=Tf(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),f=l.target,h=f!==t&&_z(f);c&&u&&!h&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();ef(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Dt.read(n);const i=M0(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ra(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{i(),r(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:i=J2,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:i,dragMomentum:o}}}function Qp(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function i3e(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class o3e extends al{constructor(t){super(t),this.removeGroupControls=Ha,this.removeListeners=Ha,this.controls=new s3e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ha}update(){const{dragControls:t}=this.node.getProps(),{dragControls:r}=this.node.prevProps||{};t!==r&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const u3=e=>(t,r)=>{e&&Dt.postRender(()=>e(t,r))};class l3e extends al{constructor(){super(...arguments),this.removePointerDownListener=Ha}onPointerDown(t){this.session=new i7(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:s7(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:u3(t),onStart:u3(r),onMove:n,onEnd:(s,i)=>{delete this.session,a&&Dt.postRender(()=>a(s,i))}}}mount(){this.removePointerDownListener=Tf(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sb=!1;class c3e extends w.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=t;s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),sb&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Sm.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:i}=n;return i&&(i.isPresent=s,t.layoutDependency!==r&&i.setOptions({...i.options,layoutDependency:r}),sb=!0,a||t.layoutDependency!==r||r===void 0||t.isPresent!==s?i.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?i.promote():i.relegate()||Dt.postRender(()=>{const o=i.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),IC.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;sb=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function l7(e){const[t,r]=Xz(),n=w.useContext(fC);return d.jsx(c3e,{...e,layoutGroup:n,switchLayoutGroup:w.useContext(n7),isPresent:t,safeToRemove:r})}const u3e={pan:{Feature:l3e},drag:{Feature:o3e,ProjectionNode:Yz,MeasureLayout:l7}};function d3(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&Dt.postRender(()=>s(t,zh(t)))}class d3e extends al{mount(){const{current:t}=this.node;t&&(this.unmount=KOe(t,(r,n)=>(d3(this.node,n,"Start"),a=>d3(this.node,a,"End"))))}unmount(){}}class f3e extends al{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lh(M0(this.node.current,"focus",()=>this.onFocus()),M0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function f3(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&Dt.postRender(()=>s(t,zh(t)))}class h3e extends al{mount(){const{current:t}=this.node;t&&(this.unmount=YOe(t,(r,n)=>(f3(this.node,n,"Start"),(a,{success:s})=>f3(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Q2=new WeakMap,ib=new WeakMap,p3e=e=>{const t=Q2.get(e.target);t&&t(e)},m3e=e=>{e.forEach(p3e)};function v3e({root:e,...t}){const r=e||document;ib.has(r)||ib.set(r,{});const n=ib.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(m3e,{root:e,...t})),n[a]}function g3e(e,t,r){const n=v3e(t);return Q2.set(e,r),n.observe(e),()=>{Q2.delete(e),n.unobserve(e)}}const x3e={some:0,all:1};class y3e extends al{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=t,i={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:x3e[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return g3e(this.node.current,i,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(b3e(t,r))&&this.startObserver()}unmount(){}}function b3e({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const w3e={inView:{Feature:y3e},tap:{Feature:h3e},focus:{Feature:f3e},hover:{Feature:d3e}},_3e={layout:{ProjectionNode:Yz,MeasureLayout:l7}},k3e={...GDe,...w3e,...u3e,..._3e},S3e=UDe(k3e,VDe),no=({children:e,className:t=""})=>d.jsx(S3e.div,{initial:{opacity:0,y:10,filter:"blur(5px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:-10,filter:"blur(5px)"},transition:{duration:.3,ease:"easeOut"},className:`w-full h-full ${t}`,children:e});function E3e(){const{user:e,loading:t}=lk(),{viewSettings:r,updateActivity:n,setTab:a}=mt(),s=r.filtrosGlobais,i=r.abaAtual,{startDate:o,endDate:l}=Nh(),{selectedBUs:c}=Ph(),{data:u,loading:f,error:h,totalActivities:p,processCSV:m,loadSimulatedData:v}=Xx(),g=w.useMemo(()=>({...s,dataInicio:ke(o,"yyyy-MM-dd"),dataFim:ke(l,"yyyy-MM-dd"),bu:c}),[s,o,l,c]),y=!(i==="framework")&&!(i==="midia-paga"),{filteredData:_,availableCanais:S,availableJornadas:k,availableSegmentos:E,availableParceiros:C,countByCanal:T,countByJornada:A,countBySegmento:N,countByParceiro:j}=j0(y?u:{},g),{filteredData:P}=L4(_,g),R=w.useMemo(()=>{const Z=Math.abs(l.getTime()-o.getTime()),M=Math.ceil(Z/(1e3*60*60*24)),z=new Date(o);z.setDate(z.getDate()-1);const G=new Date(z);return G.setDate(G.getDate()-M),{...g,dataInicio:ke(G,"yyyy-MM-dd"),dataFim:ke(z,"yyyy-MM-dd")}},[g,o,l]),B=w.useMemo(()=>({...g,dataInicio:"",dataFim:""}),[g]),{filteredData:q}=j0(i==="launch"?u:{},B),{filteredData:K}=L4(y?_:{},R),X=_Ae(P),I=Object.keys(u).length>0,J=Z=>{switch(Z){case"launch":return"Launch Planner";case"jornada":return"Jornada & Disparos";case"resultados":return"Resultados";case"orientador":return"Orientador";case"framework":return"Campanhas";case"diario":return"Dirio de Bordo";case"configuracoes":return"Configuraes";case"midia-paga":return"Media Analytics";default:return"Dashboard"}};return t?d.jsx("div",{className:"h-screen w-full bg-slate-950 text-slate-500 flex items-center justify-center",children:"Carregando..."}):e?i==="midia-paga"?d.jsx(zPe,{onBack:()=>a("launch")}):d.jsxs(EAe,{children:[I&&d.jsx(hPe,{title:J(i),children:d.jsx("div",{className:"flex ml-auto",children:d.jsx(pK,{availableCanais:S,availableJornadas:k,availableSegmentos:E,availableParceiros:C,countByCanal:T,countByJornada:A,countBySegmento:N,countByParceiro:j})})}),d.jsxs("div",{className:"flex-1 pb-10",children:[f&&!I&&d.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:d.jsx(oA,{size:32,className:"text-blue-400"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Verificando dados..."}),d.jsx("p",{className:"text-slate-400",children:"Carregando informaes do banco de dados"})]})}),!f&&!I&&d.jsx("div",{className:"flex flex-col items-center justify-center h-[calc(100vh-200px)]",children:d.jsxs("div",{className:"max-w-md w-full bg-slate-800/50 p-8 rounded-2xl border border-slate-700 text-center",children:[d.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:d.jsx(oA,{size:32,className:"text-blue-400"})}),d.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"Bem-vindo ao GaaS"}),d.jsx("p",{className:"text-slate-400 mb-8",children:"Faa upload do seu arquivo de dados para comear a anlise."}),d.jsx(nK,{onFileSelect:m,onLoadSimulatedData:v,loading:f,error:h,totalActivities:p})]})}),I&&d.jsx(gDe,{mode:"wait",children:d.jsxs("div",{className:"h-full",children:[i==="launch"&&d.jsx(no,{children:d.jsx(uPe,{data:q,onActivityUpdate:(Z,M)=>n(Z,{dataDisparo:M})})}),i==="resultados"&&d.jsx(no,{children:d.jsx(Kme,{resultados:X,data:P,selectedBU:c.length===1?c[0]:void 0})}),i==="jornada"&&d.jsx(no,{children:d.jsx(Sve,{data:P,previousData:K,selectedBU:c.length===1?c[0]:void 0,selectedCanais:g.canais,selectedSegmentos:g.segmentos,selectedParceiros:g.parceiros})}),i==="diario"&&d.jsx(no,{children:d.jsx(Mve,{})}),i==="framework"&&d.jsx(no,{children:d.jsx($ve,{})}),i==="orientador"&&d.jsx(no,{children:d.jsx(Hve,{})}),i==="originacao-b2c"&&d.jsx(no,{children:d.jsx(wAe,{})}),i==="configuracoes"&&d.jsx(no,{children:d.jsx(hAe,{})}),!["launch","resultados","jornada","diario","framework","orientador","configuracoes","originacao-b2c","midia-paga"].includes(i)&&d.jsx("div",{className:"flex items-center justify-center h-full text-slate-400",children:d.jsxs("p",{children:["Aba desconhecida: ",i,". Redirecionando..."]})})]},i)})]})]}):d.jsx(Zq,{})}ob.createRoot(document.getElementById("root")).render(d.jsx($s.StrictMode,{children:d.jsx(Wve,{children:d.jsx(zve,{children:d.jsx(Xq,{children:d.jsx(E3e,{})})})})}));
