import{s}from"./index-ChBd7QNq.js";const i=a=>{const e={"Activity name / Taxonomia":a.activity_id,"Data de Disparo":a.data_disparo,"Data Fim":a.data_fim,BU:a.bu,Canal:a.canal,Segmento:a.segmento,"SIGLA.1":a.segmento_sigla,Subgrupos:a.subgrupo,Jornada:a.jornada,"Etapa de aquisição":a.etapa_aquisicao,"Ordem de disparo":a.ordem_disparo,Parceiro:a.parceiro,SIGLA:a.parceiro_sigla,Safra:a.safra,"Perfil de Crédito":a.perfil_credito,Produto:a.produto,Oferta:a.oferta,"SIGLA.2":a.oferta_sigla,"Oferta 2":a.oferta_2,Promocional:a.promocional,"Promocional 2":a.promocional_2,"Disparado?":a.disparado,"Base Total":a.base_total,"Base Acionável":a.base_acionavel,"% Otimização de base":a.optimizacao_base,"Base Enviada":a.base_enviada,"Custo Unitário Oferta":a.custo_unitario_oferta,"Custo Total da Oferta":a.custo_total_oferta,"Custo unitário do canal":a.custo_unitario_canal,"Custo total canal":a.custo_total_canal,"Custo Total Campanha":a.custo_total_campanha,"Taxa de Entrega":a.taxa_entrega,"Taxa de Abertura":a.taxa_abertura,"Taxa de Clique":a.taxa_clique,"Taxa de Proposta":a.taxa_proposta,"Taxa de Aprovação":a.taxa_aprovacao,"Taxa de Finalização":a.taxa_finalizacao,"Taxa de Conversão":a.taxa_conversao,Propostas:a.propostas,Aprovados:a.aprovados,"Cartões Gerados":a.cartoes_gerados,CAC:a.cac};return{id:a.activity_id,dataDisparo:new Date(a.data_disparo),canal:a.canal,bu:a.bu,segmento:a.segmento,parceiro:a.parceiro,jornada:a.jornada,ordemDisparo:Number(a.ordem_disparo)||void 0,oferta:a.oferta,promocional:a.promocional,safraKey:a.safra,kpis:{baseEnviada:a.base_enviada,baseEntregue:null,taxaEntrega:a.taxa_entrega,propostas:a.propostas,taxaPropostas:a.taxa_proposta,aprovados:a.aprovados,taxaAprovacao:a.taxa_aprovacao,emissoes:a.emissoes,taxaFinalizacao:a.taxa_finalizacao,taxaConversao:a.taxa_conversao,taxaAbertura:a.taxa_abertura,cartoes:a.cartoes_gerados,cac:a.cac,custoTotal:a.custo_total},raw:e}},c={async fetchActivities(){const{data:a,error:e}=await s.from("activities").select("*").order("data_disparo",{ascending:!1});if(e)throw e;return(a||[]).map(i)},async fetchB2CMetrics(){const{data:a,error:e}=await s.from("b2c_daily_metrics").select("*").order("data",{ascending:!1});if(e)throw e;return(a||[]).map(t=>({data:t.data,propostas_b2c_total:t.propostas_total,emissoes_b2c_total:t.emissoes_total,percentual_conversao_b2c:t.percentual_conversao,observacoes:t.observacoes}))},async fetchPaidMedia(){const{data:a,error:e}=await s.from("paid_media_metrics").select("*").order("date",{ascending:!1});if(e)throw e;return(a||[]).map(t=>({date:new Date(t.date),channel:t.channel,campaign:t.campaign,objective:t.objective,spend:t.spend,impressions:t.impressions,clicks:t.clicks,conversions:t.conversions,ctr:t.ctr,cpc:t.cpc,cpm:t.cpm,cpa:t.cpa}))}};export{c as dataService};
